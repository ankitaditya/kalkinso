var o7=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hFe=o7((Li,Di)=>{function a7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pm={},l7={get exports(){return Pm},set exports(n){Pm=n}},H1={},R={},c7={get exports(){return R},set exports(n){R=n}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=Symbol.for("react.element"),u7=Symbol.for("react.portal"),f7=Symbol.for("react.fragment"),d7=Symbol.for("react.strict_mode"),h7=Symbol.for("react.profiler"),p7=Symbol.for("react.provider"),m7=Symbol.for("react.context"),g7=Symbol.for("react.forward_ref"),v7=Symbol.for("react.suspense"),y7=Symbol.for("react.memo"),x7=Symbol.for("react.lazy"),FB=Symbol.iterator;function b7(n){return n===null||typeof n!="object"?null:(n=FB&&n[FB]||n["@@iterator"],typeof n=="function"?n:null)}var L4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D4=Object.assign,O4={};function _h(n,e,t){this.props=n,this.context=e,this.refs=O4,this.updater=t||L4}_h.prototype.isReactComponent={};_h.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_h.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function k4(){}k4.prototype=_h.prototype;function aT(n,e,t){this.props=n,this.context=e,this.refs=O4,this.updater=t||L4}var lT=aT.prototype=new k4;lT.constructor=aT;D4(lT,_h.prototype);lT.isPureReactComponent=!0;var UB=Array.isArray,N4=Object.prototype.hasOwnProperty,cT={current:null},F4={key:!0,ref:!0,__self:!0,__source:!0};function U4(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)N4.call(e,r)&&!F4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Eg,type:n,key:s,ref:o,props:i,_owner:cT.current}}function _7(n,e){return{$$typeof:Eg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function uT(n){return typeof n=="object"&&n!==null&&n.$$typeof===Eg}function w7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var HB=/\/+/g;function xw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?w7(""+n.key):e.toString(36)}function Gy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Eg:case u7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+xw(o,0):r,UB(i)?(t="",n!=null&&(t=n.replace(HB,"$&/")+"/"),Gy(i,e,t,"",function(c){return c})):i!=null&&(uT(i)&&(i=_7(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(HB,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",UB(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+xw(s,a);o+=Gy(s,e,t,l,i)}else if(l=b7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+xw(s,a++),o+=Gy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hv(n,e,t){if(n==null)return n;var r=[],i=0;return Gy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function S7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xr={current:null},Vy={transition:null},A7={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:Vy,ReactCurrentOwner:cT};Ot.Children={map:hv,forEach:function(n,e,t){hv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return hv(n,function(){e++}),e},toArray:function(n){return hv(n,function(e){return e})||[]},only:function(n){if(!uT(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ot.Component=_h;Ot.Fragment=f7;Ot.Profiler=h7;Ot.PureComponent=aT;Ot.StrictMode=d7;Ot.Suspense=v7;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A7;Ot.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=D4({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cT.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)N4.call(e,l)&&!F4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Eg,type:n.type,key:i,ref:s,props:r,_owner:o}};Ot.createContext=function(n){return n={$$typeof:m7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:p7,_context:n},n.Consumer=n};Ot.createElement=U4;Ot.createFactory=function(n){var e=U4.bind(null,n);return e.type=n,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(n){return{$$typeof:g7,render:n}};Ot.isValidElement=uT;Ot.lazy=function(n){return{$$typeof:x7,_payload:{_status:-1,_result:n},_init:S7}};Ot.memo=function(n,e){return{$$typeof:y7,type:n,compare:e===void 0?null:e}};Ot.startTransition=function(n){var e=Vy.transition;Vy.transition={};try{n()}finally{Vy.transition=e}};Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ot.useCallback=function(n,e){return Xr.current.useCallback(n,e)};Ot.useContext=function(n){return Xr.current.useContext(n)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(n){return Xr.current.useDeferredValue(n)};Ot.useEffect=function(n,e){return Xr.current.useEffect(n,e)};Ot.useId=function(){return Xr.current.useId()};Ot.useImperativeHandle=function(n,e,t){return Xr.current.useImperativeHandle(n,e,t)};Ot.useInsertionEffect=function(n,e){return Xr.current.useInsertionEffect(n,e)};Ot.useLayoutEffect=function(n,e){return Xr.current.useLayoutEffect(n,e)};Ot.useMemo=function(n,e){return Xr.current.useMemo(n,e)};Ot.useReducer=function(n,e,t){return Xr.current.useReducer(n,e,t)};Ot.useRef=function(n){return Xr.current.useRef(n)};Ot.useState=function(n){return Xr.current.useState(n)};Ot.useSyncExternalStore=function(n,e,t){return Xr.current.useSyncExternalStore(n,e,t)};Ot.useTransition=function(){return Xr.current.useTransition()};Ot.version="18.2.0";(function(n){n.exports=Ot})(c7);const D=U1(R),H4=a7({__proto__:null,default:D},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E7=R,M7=Symbol.for("react.element"),C7=Symbol.for("react.fragment"),T7=Object.prototype.hasOwnProperty,R7=E7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P7={key:!0,ref:!0,__self:!0,__source:!0};function z4(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)T7.call(e,r)&&!P7.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:M7,type:n,key:s,ref:o,props:i,_owner:R7.current}}H1.Fragment=C7;H1.jsx=z4;H1.jsxs=z4;(function(n){n.exports=H1})(l7);const Hl=Pm.Fragment,K=Pm.jsx,tt=Pm.jsxs;var KA={},Im={},I7={get exports(){return Im},set exports(n){Im=n}},Wi={},XA={},B7={get exports(){return XA},set exports(n){XA=n}},G4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,U){var V=k.length;k.push(U);e:for(;0<V;){var q=V-1>>>1,ee=k[q];if(0<i(ee,U))k[q]=U,k[V]=ee,V=q;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],V=k.pop();if(V!==U){k[0]=V;e:for(var q=0,ee=k.length,se=ee>>>1;q<se;){var Z=2*(q+1)-1,de=k[Z],oe=Z+1,Q=k[oe];if(0>i(de,V))oe<ee&&0>i(Q,de)?(k[q]=Q,k[oe]=V,q=oe):(k[q]=de,k[Z]=V,q=Z);else if(oe<ee&&0>i(Q,V))k[q]=Q,k[oe]=V,q=oe;else break e}}return U}function i(k,U){var V=k.sortIndex-U.sortIndex;return V!==0?V:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function S(k){if(y=!1,b(k),!v)if(t(l)!==null)v=!0,X(E);else{var U=t(c);U!==null&&Y(S,U.startTime-k)}}function E(k,U){v=!1,y&&(y=!1,g(B),B=-1),m=!0;var V=p;try{for(b(U),f=t(l);f!==null&&(!(f.expirationTime>U)||k&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var ee=q(f.expirationTime<=U);U=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(U)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var Z=t(c);Z!==null&&Y(S,Z.startTime-U),se=!1}return se}finally{f=null,p=V,m=!1}}var M=!1,I=null,B=-1,T=5,P=-1;function O(){return!(n.unstable_now()-P<T)}function z(){if(I!==null){var k=n.unstable_now();P=k;var U=!0;try{U=I(!0,k)}finally{U?H():(M=!1,I=null)}}else M=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){x(z,0)};function X(k){I=k,M||(M=!0,H())}function Y(k,U){B=x(function(){k(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return U()}finally{p=V}},n.unstable_scheduleCallback=function(k,U,V){var q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,k={id:u++,callback:U,priorityLevel:k,startTime:V,expirationTime:ee,sortIndex:-1},V>q?(k.sortIndex=V,e(c,k),t(l)===null&&k===t(c)&&(y?(g(B),B=-1):y=!0,Y(S,V-q))):(k.sortIndex=ee,e(l,k),v||m||(v=!0,X(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var U=p;return function(){var V=p;p=U;try{return k.apply(this,arguments)}finally{p=V}}}})(G4);(function(n){n.exports=G4})(B7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4=R,Ui=XA;function Ie(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $4=new Set,Bm={};function Pu(n,e){$d(n,e),$d(n+"Capture",e)}function $d(n,e){for(Bm[n]=e,n=0;n<e.length;n++)$4.add(e[n])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YA=Object.prototype.hasOwnProperty,L7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zB={},GB={};function D7(n){return YA.call(GB,n)?!0:YA.call(zB,n)?!1:L7.test(n)?GB[n]=!0:(zB[n]=!0,!1)}function O7(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k7(n,e,t,r){if(e===null||typeof e>"u"||O7(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){wr[n]=new Yr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];wr[e]=new Yr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){wr[n]=new Yr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){wr[n]=new Yr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){wr[n]=new Yr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){wr[n]=new Yr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){wr[n]=new Yr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){wr[n]=new Yr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){wr[n]=new Yr(n,5,!1,n.toLowerCase(),null,!1,!1)});var fT=/[\-:]([a-z])/g;function dT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(fT,dT);wr[e]=new Yr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(fT,dT);wr[e]=new Yr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(fT,dT);wr[e]=new Yr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){wr[n]=new Yr(n,1,!1,n.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){wr[n]=new Yr(n,1,!1,n.toLowerCase(),null,!0,!0)});function hT(n,e,t,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k7(e,t,i,r)&&(t=null),r||i===null?D7(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Na=V4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pv=Symbol.for("react.element"),rd=Symbol.for("react.portal"),id=Symbol.for("react.fragment"),pT=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),W4=Symbol.for("react.provider"),j4=Symbol.for("react.context"),mT=Symbol.for("react.forward_ref"),qA=Symbol.for("react.suspense"),ZA=Symbol.for("react.suspense_list"),gT=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),J4=Symbol.for("react.offscreen"),VB=Symbol.iterator;function pp(n){return n===null||typeof n!="object"?null:(n=VB&&n[VB]||n["@@iterator"],typeof n=="function"?n:null)}var Mn=Object.assign,bw;function Kp(n){if(bw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bw=e&&e[1]||""}return`
`+bw+n}var _w=!1;function ww(n,e){if(!n||_w)return"";_w=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{_w=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Kp(n):""}function N7(n){switch(n.tag){case 5:return Kp(n.type);case 16:return Kp("Lazy");case 13:return Kp("Suspense");case 19:return Kp("SuspenseList");case 0:case 2:case 15:return n=ww(n.type,!1),n;case 11:return n=ww(n.type.render,!1),n;case 1:return n=ww(n.type,!0),n;default:return""}}function eE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case id:return"Fragment";case rd:return"Portal";case QA:return"Profiler";case pT:return"StrictMode";case qA:return"Suspense";case ZA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j4:return(n.displayName||"Context")+".Consumer";case W4:return(n._context.displayName||"Context")+".Provider";case mT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case gT:return e=n.displayName||null,e!==null?e:eE(n.type)||"Memo";case dl:e=n._payload,n=n._init;try{return eE(n(e))}catch{}}return null}function F7(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eE(e);case 8:return e===pT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function K4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U7(n){var e=K4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function mv(n){n._valueTracker||(n._valueTracker=U7(n))}function X4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=K4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ax(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function tE(n,e){var t=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function $B(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=zl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y4(n,e){e=e.checked,e!=null&&hT(n,"checked",e,!1)}function nE(n,e){Y4(n,e);var t=zl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?rE(n,e.type,t):e.hasOwnProperty("defaultValue")&&rE(n,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function WB(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function rE(n,e,t){(e!=="number"||Ax(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xp=Array.isArray;function Ed(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+zl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function iE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jB(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ie(92));if(Xp(t)){if(1<t.length)throw Error(Ie(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:zl(t)}}function Q4(n,e){var t=zl(e.value),r=zl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function JB(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function q4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?q4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gv,Z4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(gv=gv||document.createElement("div"),gv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Lm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H7=["Webkit","ms","Moz","O"];Object.keys(am).forEach(function(n){H7.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),am[e]=am[n]})});function e5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||am.hasOwnProperty(n)&&am[n]?(""+e).trim():e+"px"}function t5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=e5(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var z7=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oE(n,e){if(e){if(z7[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function aE(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lE=null;function vT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cE=null,Md=null,Cd=null;function KB(n){if(n=Tg(n)){if(typeof cE!="function")throw Error(Ie(280));var e=n.stateNode;e&&(e=W1(e),cE(n.stateNode,n.type,e))}}function n5(n){Md?Cd?Cd.push(n):Cd=[n]:Md=n}function r5(){if(Md){var n=Md,e=Cd;if(Cd=Md=null,KB(n),e)for(n=0;n<e.length;n++)KB(e[n])}}function i5(n,e){return n(e)}function s5(){}var Sw=!1;function o5(n,e,t){if(Sw)return n(e,t);Sw=!0;try{return i5(n,e,t)}finally{Sw=!1,(Md!==null||Cd!==null)&&(s5(),r5())}}function Dm(n,e){var t=n.stateNode;if(t===null)return null;var r=W1(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ie(231,e,typeof t));return t}var uE=!1;if(Ma)try{var mp={};Object.defineProperty(mp,"passive",{get:function(){uE=!0}}),window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,mp)}catch{uE=!1}function G7(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var lm=!1,Ex=null,Mx=!1,fE=null,V7={onError:function(n){lm=!0,Ex=n}};function $7(n,e,t,r,i,s,o,a,l){lm=!1,Ex=null,G7.apply(V7,arguments)}function W7(n,e,t,r,i,s,o,a,l){if($7.apply(this,arguments),lm){if(lm){var c=Ex;lm=!1,Ex=null}else throw Error(Ie(198));Mx||(Mx=!0,fE=c)}}function Iu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function a5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function XB(n){if(Iu(n)!==n)throw Error(Ie(188))}function j7(n){var e=n.alternate;if(!e){if(e=Iu(n),e===null)throw Error(Ie(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return XB(i),n;if(s===r)return XB(i),e;s=s.sibling}throw Error(Ie(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(t.alternate!==r)throw Error(Ie(190))}if(t.tag!==3)throw Error(Ie(188));return t.stateNode.current===t?n:e}function l5(n){return n=j7(n),n!==null?c5(n):null}function c5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=c5(n);if(e!==null)return e;n=n.sibling}return null}var u5=Ui.unstable_scheduleCallback,YB=Ui.unstable_cancelCallback,J7=Ui.unstable_shouldYield,K7=Ui.unstable_requestPaint,Nn=Ui.unstable_now,X7=Ui.unstable_getCurrentPriorityLevel,yT=Ui.unstable_ImmediatePriority,f5=Ui.unstable_UserBlockingPriority,Cx=Ui.unstable_NormalPriority,Y7=Ui.unstable_LowPriority,d5=Ui.unstable_IdlePriority,z1=null,bo=null;function Q7(n){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(z1,n,void 0,(n.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:eJ,q7=Math.log,Z7=Math.LN2;function eJ(n){return n>>>=0,n===0?32:31-(q7(n)/Z7|0)|0}var vv=64,yv=4194304;function Yp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Tx(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Yp(a):(s&=o,s!==0&&(r=Yp(s)))}else o=t&~i,o!==0?r=Yp(o):s!==0&&(r=Yp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Js(e),i=1<<t,r|=n[t],e&=~i;return r}function tJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nJ(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Js(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=tJ(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function dE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function h5(){var n=vv;return vv<<=1,!(vv&4194240)&&(vv=64),n}function Aw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Js(e),n[e]=t}function rJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Js(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function xT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Js(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Qt=0;function p5(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var m5,bT,g5,v5,y5,hE=!1,xv=[],Ml=null,Cl=null,Tl=null,Om=new Map,km=new Map,vl=[],iJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QB(n,e){switch(n){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Om.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(e.pointerId)}}function gp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tg(e),e!==null&&bT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function sJ(n,e,t,r,i){switch(e){case"focusin":return Ml=gp(Ml,n,e,t,r,i),!0;case"dragenter":return Cl=gp(Cl,n,e,t,r,i),!0;case"mouseover":return Tl=gp(Tl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Om.set(s,gp(Om.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,km.set(s,gp(km.get(s)||null,n,e,t,r,i)),!0}return!1}function x5(n){var e=jc(n.target);if(e!==null){var t=Iu(e);if(t!==null){if(e=t.tag,e===13){if(e=a5(t),e!==null){n.blockedOn=e,y5(n.priority,function(){g5(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $y(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=pE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);lE=r,t.target.dispatchEvent(r),lE=null}else return e=Tg(t),e!==null&&bT(e),n.blockedOn=t,!1;e.shift()}return!0}function qB(n,e,t){$y(n)&&t.delete(e)}function oJ(){hE=!1,Ml!==null&&$y(Ml)&&(Ml=null),Cl!==null&&$y(Cl)&&(Cl=null),Tl!==null&&$y(Tl)&&(Tl=null),Om.forEach(qB),km.forEach(qB)}function vp(n,e){n.blockedOn===e&&(n.blockedOn=null,hE||(hE=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,oJ)))}function Nm(n){function e(i){return vp(i,n)}if(0<xv.length){vp(xv[0],n);for(var t=1;t<xv.length;t++){var r=xv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ml!==null&&vp(Ml,n),Cl!==null&&vp(Cl,n),Tl!==null&&vp(Tl,n),Om.forEach(e),km.forEach(e),t=0;t<vl.length;t++)r=vl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<vl.length&&(t=vl[0],t.blockedOn===null);)x5(t),t.blockedOn===null&&vl.shift()}var Td=Na.ReactCurrentBatchConfig,Rx=!0;function aJ(n,e,t,r){var i=Qt,s=Td.transition;Td.transition=null;try{Qt=1,_T(n,e,t,r)}finally{Qt=i,Td.transition=s}}function lJ(n,e,t,r){var i=Qt,s=Td.transition;Td.transition=null;try{Qt=4,_T(n,e,t,r)}finally{Qt=i,Td.transition=s}}function _T(n,e,t,r){if(Rx){var i=pE(n,e,t,r);if(i===null)Dw(n,e,r,Px,t),QB(n,r);else if(sJ(i,n,e,t,r))r.stopPropagation();else if(QB(n,r),e&4&&-1<iJ.indexOf(n)){for(;i!==null;){var s=Tg(i);if(s!==null&&m5(s),s=pE(n,e,t,r),s===null&&Dw(n,e,r,Px,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dw(n,e,r,null,t)}}var Px=null;function pE(n,e,t,r){if(Px=null,n=vT(r),n=jc(n),n!==null)if(e=Iu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=a5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Px=n,null}function b5(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X7()){case yT:return 1;case f5:return 4;case Cx:case Y7:return 16;case d5:return 536870912;default:return 16}default:return 16}}var wl=null,wT=null,Wy=null;function _5(){if(Wy)return Wy;var n,e=wT,t=e.length,r,i="value"in wl?wl.value:wl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Wy=i.slice(n,1<r?1-r:void 0)}function jy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function bv(){return!0}function ZB(){return!1}function ji(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bv:ZB,this.isPropagationStopped=ZB,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=bv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=bv)},persist:function(){},isPersistent:bv}),e}var wh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ST=ji(wh),Cg=Mn({},wh,{view:0,detail:0}),cJ=ji(Cg),Ew,Mw,yp,G1=Mn({},Cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yp&&(yp&&n.type==="mousemove"?(Ew=n.screenX-yp.screenX,Mw=n.screenY-yp.screenY):Mw=Ew=0,yp=n),Ew)},movementY:function(n){return"movementY"in n?n.movementY:Mw}}),eL=ji(G1),uJ=Mn({},G1,{dataTransfer:0}),fJ=ji(uJ),dJ=Mn({},Cg,{relatedTarget:0}),Cw=ji(dJ),hJ=Mn({},wh,{animationName:0,elapsedTime:0,pseudoElement:0}),pJ=ji(hJ),mJ=Mn({},wh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gJ=ji(mJ),vJ=Mn({},wh,{data:0}),tL=ji(vJ),yJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _J(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=bJ[n])?!!e[n]:!1}function AT(){return _J}var wJ=Mn({},Cg,{key:function(n){if(n.key){var e=yJ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=jy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xJ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AT,charCode:function(n){return n.type==="keypress"?jy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SJ=ji(wJ),AJ=Mn({},G1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nL=ji(AJ),EJ=Mn({},Cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AT}),MJ=ji(EJ),CJ=Mn({},wh,{propertyName:0,elapsedTime:0,pseudoElement:0}),TJ=ji(CJ),RJ=Mn({},G1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PJ=ji(RJ),IJ=[9,13,27,32],ET=Ma&&"CompositionEvent"in window,cm=null;Ma&&"documentMode"in document&&(cm=document.documentMode);var BJ=Ma&&"TextEvent"in window&&!cm,w5=Ma&&(!ET||cm&&8<cm&&11>=cm),rL=String.fromCharCode(32),iL=!1;function S5(n,e){switch(n){case"keyup":return IJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A5(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var sd=!1;function LJ(n,e){switch(n){case"compositionend":return A5(e);case"keypress":return e.which!==32?null:(iL=!0,rL);case"textInput":return n=e.data,n===rL&&iL?null:n;default:return null}}function DJ(n,e){if(sd)return n==="compositionend"||!ET&&S5(n,e)?(n=_5(),Wy=wT=wl=null,sd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w5&&e.locale!=="ko"?null:e.data;default:return null}}var OJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sL(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OJ[n.type]:e==="textarea"}function E5(n,e,t,r){n5(r),e=Ix(e,"onChange"),0<e.length&&(t=new ST("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var um=null,Fm=null;function kJ(n){k5(n,0)}function V1(n){var e=ld(n);if(X4(e))return n}function NJ(n,e){if(n==="change")return e}var M5=!1;if(Ma){var Tw;if(Ma){var Rw="oninput"in document;if(!Rw){var oL=document.createElement("div");oL.setAttribute("oninput","return;"),Rw=typeof oL.oninput=="function"}Tw=Rw}else Tw=!1;M5=Tw&&(!document.documentMode||9<document.documentMode)}function aL(){um&&(um.detachEvent("onpropertychange",C5),Fm=um=null)}function C5(n){if(n.propertyName==="value"&&V1(Fm)){var e=[];E5(e,Fm,n,vT(n)),o5(kJ,e)}}function FJ(n,e,t){n==="focusin"?(aL(),um=e,Fm=t,um.attachEvent("onpropertychange",C5)):n==="focusout"&&aL()}function UJ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return V1(Fm)}function HJ(n,e){if(n==="click")return V1(e)}function zJ(n,e){if(n==="input"||n==="change")return V1(e)}function GJ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qs=typeof Object.is=="function"?Object.is:GJ;function Um(n,e){if(qs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!YA.call(e,i)||!qs(n[i],e[i]))return!1}return!0}function lL(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cL(n,e){var t=lL(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=lL(t)}}function T5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?T5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function R5(){for(var n=window,e=Ax();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ax(n.document)}return e}function MT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function VJ(n){var e=R5(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&T5(t.ownerDocument.documentElement,t)){if(r!==null&&MT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=cL(t,s);var o=cL(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $J=Ma&&"documentMode"in document&&11>=document.documentMode,od=null,mE=null,fm=null,gE=!1;function uL(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;gE||od==null||od!==Ax(r)||(r=od,"selectionStart"in r&&MT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fm&&Um(fm,r)||(fm=r,r=Ix(mE,"onSelect"),0<r.length&&(e=new ST("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=od)))}function _v(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ad={animationend:_v("Animation","AnimationEnd"),animationiteration:_v("Animation","AnimationIteration"),animationstart:_v("Animation","AnimationStart"),transitionend:_v("Transition","TransitionEnd")},Pw={},P5={};Ma&&(P5=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function $1(n){if(Pw[n])return Pw[n];if(!ad[n])return n;var e=ad[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in P5)return Pw[n]=e[t];return n}var I5=$1("animationend"),B5=$1("animationiteration"),L5=$1("animationstart"),D5=$1("transitionend"),O5=new Map,fL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(n,e){O5.set(n,e),Pu(e,[n])}for(var Iw=0;Iw<fL.length;Iw++){var Bw=fL[Iw],WJ=Bw.toLowerCase(),jJ=Bw[0].toUpperCase()+Bw.slice(1);tc(WJ,"on"+jJ)}tc(I5,"onAnimationEnd");tc(B5,"onAnimationIteration");tc(L5,"onAnimationStart");tc("dblclick","onDoubleClick");tc("focusin","onFocus");tc("focusout","onBlur");tc(D5,"onTransitionEnd");$d("onMouseEnter",["mouseout","mouseover"]);$d("onMouseLeave",["mouseout","mouseover"]);$d("onPointerEnter",["pointerout","pointerover"]);$d("onPointerLeave",["pointerout","pointerover"]);Pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qp));function dL(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,W7(r,e,void 0,n),n.currentTarget=null}function k5(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dL(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dL(i,a,c),s=l}}}if(Mx)throw n=fE,Mx=!1,fE=null,n}function un(n,e){var t=e[_E];t===void 0&&(t=e[_E]=new Set);var r=n+"__bubble";t.has(r)||(N5(e,n,2,!1),t.add(r))}function Lw(n,e,t){var r=0;e&&(r|=4),N5(t,n,r,e)}var wv="_reactListening"+Math.random().toString(36).slice(2);function Hm(n){if(!n[wv]){n[wv]=!0,$4.forEach(function(t){t!=="selectionchange"&&(JJ.has(t)||Lw(t,!1,n),Lw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[wv]||(e[wv]=!0,Lw("selectionchange",!1,e))}}function N5(n,e,t,r){switch(b5(e)){case 1:var i=aJ;break;case 4:i=lJ;break;default:i=_T}t=i.bind(null,e,t,n),i=void 0,!uE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Dw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}o5(function(){var c=s,u=vT(t),f=[];e:{var p=O5.get(n);if(p!==void 0){var m=ST,v=n;switch(n){case"keypress":if(jy(t)===0)break e;case"keydown":case"keyup":m=SJ;break;case"focusin":v="focus",m=Cw;break;case"focusout":v="blur",m=Cw;break;case"beforeblur":case"afterblur":m=Cw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MJ;break;case I5:case B5:case L5:m=pJ;break;case D5:m=TJ;break;case"scroll":m=cJ;break;case"wheel":m=PJ;break;case"copy":case"cut":case"paste":m=gJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nL}var y=(e&4)!==0,x=!y&&n==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,g!==null&&(S=Dm(_,g),S!=null&&y.push(zm(_,S,b)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,t,u),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==lE&&(v=t.relatedTarget||t.fromElement)&&(jc(v)||v[Ca]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?jc(v):null,v!==null&&(x=Iu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=eL,S="onMouseLeave",g="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=nL,S="onPointerLeave",g="onPointerEnter",_="pointer"),x=m==null?p:ld(m),b=v==null?p:ld(v),p=new y(S,_+"leave",m,t,u),p.target=x,p.relatedTarget=b,S=null,jc(u)===c&&(y=new y(g,_+"enter",v,t,u),y.target=b,y.relatedTarget=x,S=y),x=S,m&&v)t:{for(y=m,g=v,_=0,b=y;b;b=af(b))_++;for(b=0,S=g;S;S=af(S))b++;for(;0<_-b;)y=af(y),_--;for(;0<b-_;)g=af(g),b--;for(;_--;){if(y===g||g!==null&&y===g.alternate)break t;y=af(y),g=af(g)}y=null}else y=null;m!==null&&hL(f,p,m,y,!1),v!==null&&x!==null&&hL(f,x,v,y,!0)}}e:{if(p=c?ld(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=NJ;else if(sL(p))if(M5)E=zJ;else{E=UJ;var M=FJ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=HJ);if(E&&(E=E(n,c))){E5(f,E,t,u);break e}M&&M(n,p,c),n==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&rE(p,"number",p.value)}switch(M=c?ld(c):window,n){case"focusin":(sL(M)||M.contentEditable==="true")&&(od=M,mE=c,fm=null);break;case"focusout":fm=mE=od=null;break;case"mousedown":gE=!0;break;case"contextmenu":case"mouseup":case"dragend":gE=!1,uL(f,t,u);break;case"selectionchange":if($J)break;case"keydown":case"keyup":uL(f,t,u)}var I;if(ET)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else sd?S5(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(w5&&t.locale!=="ko"&&(sd||B!=="onCompositionStart"?B==="onCompositionEnd"&&sd&&(I=_5()):(wl=u,wT="value"in wl?wl.value:wl.textContent,sd=!0)),M=Ix(c,B),0<M.length&&(B=new tL(B,n,null,t,u),f.push({event:B,listeners:M}),I?B.data=I:(I=A5(t),I!==null&&(B.data=I)))),(I=BJ?LJ(n,t):DJ(n,t))&&(c=Ix(c,"onBeforeInput"),0<c.length&&(u=new tL("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=I))}k5(f,e)})}function zm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ix(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dm(n,t),s!=null&&r.unshift(zm(n,s,i)),s=Dm(n,e),s!=null&&r.push(zm(n,s,i))),n=n.return}return r}function af(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function hL(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Dm(t,s),l!=null&&o.unshift(zm(t,l,a))):i||(l=Dm(t,s),l!=null&&o.push(zm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var KJ=/\r\n?/g,XJ=/\u0000|\uFFFD/g;function pL(n){return(typeof n=="string"?n:""+n).replace(KJ,`
`).replace(XJ,"")}function Sv(n,e,t){if(e=pL(e),pL(n)!==e&&t)throw Error(Ie(425))}function Bx(){}var vE=null,yE=null;function xE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bE=typeof setTimeout=="function"?setTimeout:void 0,YJ=typeof clearTimeout=="function"?clearTimeout:void 0,mL=typeof Promise=="function"?Promise:void 0,QJ=typeof queueMicrotask=="function"?queueMicrotask:typeof mL<"u"?function(n){return mL.resolve(null).then(n).catch(qJ)}:bE;function qJ(n){setTimeout(function(){throw n})}function Ow(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Nm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Nm(e)}function Rl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function gL(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Sh=Math.random().toString(36).slice(2),xo="__reactFiber$"+Sh,Gm="__reactProps$"+Sh,Ca="__reactContainer$"+Sh,_E="__reactEvents$"+Sh,ZJ="__reactListeners$"+Sh,eK="__reactHandles$"+Sh;function jc(n){var e=n[xo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ca]||t[xo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=gL(n);n!==null;){if(t=n[xo])return t;n=gL(n)}return e}n=t,t=n.parentNode}return null}function Tg(n){return n=n[xo]||n[Ca],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ld(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ie(33))}function W1(n){return n[Gm]||null}var wE=[],cd=-1;function nc(n){return{current:n}}function gn(n){0>cd||(n.current=wE[cd],wE[cd]=null,cd--)}function an(n,e){cd++,wE[cd]=n.current,n.current=e}var Gl={},kr=nc(Gl),ci=nc(!1),pu=Gl;function Wd(n,e){var t=n.type.contextTypes;if(!t)return Gl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ui(n){return n=n.childContextTypes,n!=null}function Lx(){gn(ci),gn(kr)}function vL(n,e,t){if(kr.current!==Gl)throw Error(Ie(168));an(kr,e),an(ci,t)}function F5(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,F7(n)||"Unknown",i));return Mn({},t,r)}function Dx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gl,pu=kr.current,an(kr,n),an(ci,ci.current),!0}function yL(n,e,t){var r=n.stateNode;if(!r)throw Error(Ie(169));t?(n=F5(n,e,pu),r.__reactInternalMemoizedMergedChildContext=n,gn(ci),gn(kr),an(kr,n)):gn(ci),an(ci,t)}var oa=null,j1=!1,kw=!1;function U5(n){oa===null?oa=[n]:oa.push(n)}function tK(n){j1=!0,U5(n)}function rc(){if(!kw&&oa!==null){kw=!0;var n=0,e=Qt;try{var t=oa;for(Qt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}oa=null,j1=!1}catch(i){throw oa!==null&&(oa=oa.slice(n+1)),u5(yT,rc),i}finally{Qt=e,kw=!1}}return null}var ud=[],fd=0,Ox=null,kx=0,ls=[],cs=0,mu=null,fa=1,da="";function Ic(n,e){ud[fd++]=kx,ud[fd++]=Ox,Ox=n,kx=e}function H5(n,e,t){ls[cs++]=fa,ls[cs++]=da,ls[cs++]=mu,mu=n;var r=fa;n=da;var i=32-Js(r)-1;r&=~(1<<i),t+=1;var s=32-Js(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fa=1<<32-Js(e)+i|t<<i|r,da=s+n}else fa=1<<s|t<<i|r,da=n}function CT(n){n.return!==null&&(Ic(n,1),H5(n,1,0))}function TT(n){for(;n===Ox;)Ox=ud[--fd],ud[fd]=null,kx=ud[--fd],ud[fd]=null;for(;n===mu;)mu=ls[--cs],ls[cs]=null,da=ls[--cs],ls[cs]=null,fa=ls[--cs],ls[cs]=null}var Oi=null,Ri=null,xn=!1,Gs=null;function z5(n,e){var t=ds(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function xL(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Oi=n,Ri=Rl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Oi=n,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=mu!==null?{id:fa,overflow:da}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ds(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Oi=n,Ri=null,!0):!1;default:return!1}}function SE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function AE(n){if(xn){var e=Ri;if(e){var t=e;if(!xL(n,e)){if(SE(n))throw Error(Ie(418));e=Rl(t.nextSibling);var r=Oi;e&&xL(n,e)?z5(r,t):(n.flags=n.flags&-4097|2,xn=!1,Oi=n)}}else{if(SE(n))throw Error(Ie(418));n.flags=n.flags&-4097|2,xn=!1,Oi=n}}}function bL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Oi=n}function Av(n){if(n!==Oi)return!1;if(!xn)return bL(n),xn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!xE(n.type,n.memoizedProps)),e&&(e=Ri)){if(SE(n))throw G5(),Error(Ie(418));for(;e;)z5(n,e),e=Rl(e.nextSibling)}if(bL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ie(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ri=Rl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ri=null}}else Ri=Oi?Rl(n.stateNode.nextSibling):null;return!0}function G5(){for(var n=Ri;n;)n=Rl(n.nextSibling)}function jd(){Ri=Oi=null,xn=!1}function RT(n){Gs===null?Gs=[n]:Gs.push(n)}var nK=Na.ReactCurrentBatchConfig;function Fs(n,e){if(n&&n.defaultProps){e=Mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Nx=nc(null),Fx=null,dd=null,PT=null;function IT(){PT=dd=Fx=null}function BT(n){var e=Nx.current;gn(Nx),n._currentValue=e}function EE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Rd(n,e){Fx=n,PT=dd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(li=!0),n.firstContext=null)}function ys(n){var e=n._currentValue;if(PT!==n)if(n={context:n,memoizedValue:e,next:null},dd===null){if(Fx===null)throw Error(Ie(308));dd=n,Fx.dependencies={lanes:0,firstContext:n}}else dd=dd.next=n;return e}var Jc=null;function LT(n){Jc===null?Jc=[n]:Jc.push(n)}function V5(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,LT(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ta(n,r)}function Ta(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var hl=!1;function DT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $5(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _a(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Pl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ta(n,t)}return i=r.interleaved,i===null?(e.next=e,LT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ta(n,t)}function Jy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,xT(n,t)}}function _L(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ux(n,e,t,r){var i=n.updateQueue;hl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Mn({},f,p);break e;case 2:hl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vu|=o,n.lanes=o,n.memoizedState=f}}function wL(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var W5=new V4.Component().refs;function ME(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var J1={isMounted:function(n){return(n=n._reactInternals)?Iu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Bl(n),s=_a(r,i);s.payload=e,t!=null&&(s.callback=t),e=Pl(n,s,i),e!==null&&(Ks(e,n,i,r),Jy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Bl(n),s=_a(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Pl(n,s,i),e!==null&&(Ks(e,n,i,r),Jy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=jr(),r=Bl(n),i=_a(t,r);i.tag=2,e!=null&&(i.callback=e),e=Pl(n,i,r),e!==null&&(Ks(e,n,r,t),Jy(e,n,r))}};function SL(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Um(t,r)||!Um(i,s):!0}function j5(n,e,t){var r=!1,i=Gl,s=e.contextType;return typeof s=="object"&&s!==null?s=ys(s):(i=ui(e)?pu:kr.current,r=e.contextTypes,s=(r=r!=null)?Wd(n,i):Gl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J1,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function AL(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&J1.enqueueReplaceState(e,e.state,null)}function CE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=W5,DT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ys(s):(s=ui(e)?pu:kr.current,i.context=Wd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ME(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&J1.enqueueReplaceState(i,i.state,null),Ux(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function xp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ie(309));var r=t.stateNode}if(!r)throw Error(Ie(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===W5&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ie(284));if(!t._owner)throw Error(Ie(290,n))}return n}function Ev(n,e){throw n=Object.prototype.toString.call(e),Error(Ie(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function EL(n){var e=n._init;return e(n._payload)}function J5(n){function e(g,_){if(n){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function t(g,_){if(!n)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Ll(g,_),g.index=0,g.sibling=null,g}function s(g,_,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,_,b,S){return _===null||_.tag!==6?(_=Vw(b,g.mode,S),_.return=g,_):(_=i(_,b),_.return=g,_)}function l(g,_,b,S){var E=b.type;return E===id?u(g,_,b.props.children,S,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&EL(E)===_.type)?(S=i(_,b.props),S.ref=xp(g,_,b),S.return=g,S):(S=Zy(b.type,b.key,b.props,null,g.mode,S),S.ref=xp(g,_,b),S.return=g,S)}function c(g,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=$w(b,g.mode,S),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function u(g,_,b,S,E){return _===null||_.tag!==7?(_=ou(b,g.mode,S,E),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vw(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pv:return b=Zy(_.type,_.key,_.props,null,g.mode,b),b.ref=xp(g,null,_),b.return=g,b;case rd:return _=$w(_,g.mode,b),_.return=g,_;case dl:var S=_._init;return f(g,S(_._payload),b)}if(Xp(_)||pp(_))return _=ou(_,g.mode,b,null),_.return=g,_;Ev(g,_)}return null}function p(g,_,b,S){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(g,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pv:return b.key===E?l(g,_,b,S):null;case rd:return b.key===E?c(g,_,b,S):null;case dl:return E=b._init,p(g,_,E(b._payload),S)}if(Xp(b)||pp(b))return E!==null?null:u(g,_,b,S,null);Ev(g,b)}return null}function m(g,_,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(b)||null,a(_,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pv:return g=g.get(S.key===null?b:S.key)||null,l(_,g,S,E);case rd:return g=g.get(S.key===null?b:S.key)||null,c(_,g,S,E);case dl:var M=S._init;return m(g,_,b,M(S._payload),E)}if(Xp(S)||pp(S))return g=g.get(b)||null,u(_,g,S,E,null);Ev(_,S)}return null}function v(g,_,b,S){for(var E=null,M=null,I=_,B=_=0,T=null;I!==null&&B<b.length;B++){I.index>B?(T=I,I=null):T=I.sibling;var P=p(g,I,b[B],S);if(P===null){I===null&&(I=T);break}n&&I&&P.alternate===null&&e(g,I),_=s(P,_,B),M===null?E=P:M.sibling=P,M=P,I=T}if(B===b.length)return t(g,I),xn&&Ic(g,B),E;if(I===null){for(;B<b.length;B++)I=f(g,b[B],S),I!==null&&(_=s(I,_,B),M===null?E=I:M.sibling=I,M=I);return xn&&Ic(g,B),E}for(I=r(g,I);B<b.length;B++)T=m(I,g,B,b[B],S),T!==null&&(n&&T.alternate!==null&&I.delete(T.key===null?B:T.key),_=s(T,_,B),M===null?E=T:M.sibling=T,M=T);return n&&I.forEach(function(O){return e(g,O)}),xn&&Ic(g,B),E}function y(g,_,b,S){var E=pp(b);if(typeof E!="function")throw Error(Ie(150));if(b=E.call(b),b==null)throw Error(Ie(151));for(var M=E=null,I=_,B=_=0,T=null,P=b.next();I!==null&&!P.done;B++,P=b.next()){I.index>B?(T=I,I=null):T=I.sibling;var O=p(g,I,P.value,S);if(O===null){I===null&&(I=T);break}n&&I&&O.alternate===null&&e(g,I),_=s(O,_,B),M===null?E=O:M.sibling=O,M=O,I=T}if(P.done)return t(g,I),xn&&Ic(g,B),E;if(I===null){for(;!P.done;B++,P=b.next())P=f(g,P.value,S),P!==null&&(_=s(P,_,B),M===null?E=P:M.sibling=P,M=P);return xn&&Ic(g,B),E}for(I=r(g,I);!P.done;B++,P=b.next())P=m(I,g,B,P.value,S),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?B:P.key),_=s(P,_,B),M===null?E=P:M.sibling=P,M=P);return n&&I.forEach(function(z){return e(g,z)}),xn&&Ic(g,B),E}function x(g,_,b,S){if(typeof b=="object"&&b!==null&&b.type===id&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pv:e:{for(var E=b.key,M=_;M!==null;){if(M.key===E){if(E=b.type,E===id){if(M.tag===7){t(g,M.sibling),_=i(M,b.props.children),_.return=g,g=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&EL(E)===M.type){t(g,M.sibling),_=i(M,b.props),_.ref=xp(g,M,b),_.return=g,g=_;break e}t(g,M);break}else e(g,M);M=M.sibling}b.type===id?(_=ou(b.props.children,g.mode,S,b.key),_.return=g,g=_):(S=Zy(b.type,b.key,b.props,null,g.mode,S),S.ref=xp(g,_,b),S.return=g,g=S)}return o(g);case rd:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{t(g,_);break}else e(g,_);_=_.sibling}_=$w(b,g.mode,S),_.return=g,g=_}return o(g);case dl:return M=b._init,x(g,_,M(b._payload),S)}if(Xp(b))return v(g,_,b,S);if(pp(b))return y(g,_,b,S);Ev(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(g,_.sibling),_=i(_,b),_.return=g,g=_):(t(g,_),_=Vw(b,g.mode,S),_.return=g,g=_),o(g)):t(g,_)}return x}var Jd=J5(!0),K5=J5(!1),Rg={},_o=nc(Rg),Vm=nc(Rg),$m=nc(Rg);function Kc(n){if(n===Rg)throw Error(Ie(174));return n}function OT(n,e){switch(an($m,e),an(Vm,n),an(_o,Rg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=sE(e,n)}gn(_o),an(_o,e)}function Kd(){gn(_o),gn(Vm),gn($m)}function X5(n){Kc($m.current);var e=Kc(_o.current),t=sE(e,n.type);e!==t&&(an(Vm,n),an(_o,t))}function kT(n){Vm.current===n&&(gn(_o),gn(Vm))}var wn=nc(0);function Hx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nw=[];function NT(){for(var n=0;n<Nw.length;n++)Nw[n]._workInProgressVersionPrimary=null;Nw.length=0}var Ky=Na.ReactCurrentDispatcher,Fw=Na.ReactCurrentBatchConfig,gu=0,En=null,Qn=null,cr=null,zx=!1,dm=!1,Wm=0,rK=0;function Rr(){throw Error(Ie(321))}function FT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qs(n[t],e[t]))return!1;return!0}function UT(n,e,t,r,i,s){if(gu=s,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ky.current=n===null||n.memoizedState===null?aK:lK,n=t(r,i),dm){s=0;do{if(dm=!1,Wm=0,25<=s)throw Error(Ie(301));s+=1,cr=Qn=null,e.updateQueue=null,Ky.current=cK,n=t(r,i)}while(dm)}if(Ky.current=Gx,e=Qn!==null&&Qn.next!==null,gu=0,cr=Qn=En=null,zx=!1,e)throw Error(Ie(300));return n}function HT(){var n=Wm!==0;return Wm=0,n}function vo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?En.memoizedState=cr=n:cr=cr.next=n,cr}function xs(){if(Qn===null){var n=En.alternate;n=n!==null?n.memoizedState:null}else n=Qn.next;var e=cr===null?En.memoizedState:cr.next;if(e!==null)cr=e,Qn=n;else{if(n===null)throw Error(Ie(310));Qn=n,n={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},cr===null?En.memoizedState=cr=n:cr=cr.next=n}return cr}function jm(n,e){return typeof e=="function"?e(n):e}function Uw(n){var e=xs(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=Qn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,En.lanes|=u,vu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qs(r,e.memoizedState)||(li=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,En.lanes|=s,vu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Hw(n){var e=xs(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);qs(s,e.memoizedState)||(li=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Y5(){}function Q5(n,e){var t=En,r=xs(),i=e(),s=!qs(r.memoizedState,i);if(s&&(r.memoizedState=i,li=!0),r=r.queue,zT(eH.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||cr!==null&&cr.memoizedState.tag&1){if(t.flags|=2048,Jm(9,Z5.bind(null,t,r,i,e),void 0,null),hr===null)throw Error(Ie(349));gu&30||q5(t,e,i)}return i}function q5(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Z5(n,e,t,r){e.value=t,e.getSnapshot=r,tH(e)&&nH(n)}function eH(n,e,t){return t(function(){tH(e)&&nH(n)})}function tH(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qs(n,t)}catch{return!0}}function nH(n){var e=Ta(n,1);e!==null&&Ks(e,n,1,-1)}function ML(n){var e=vo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:n},e.queue=n,n=n.dispatch=oK.bind(null,En,n),[e.memoizedState,n]}function Jm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function rH(){return xs().memoizedState}function Xy(n,e,t,r){var i=vo();En.flags|=n,i.memoizedState=Jm(1|e,t,void 0,r===void 0?null:r)}function K1(n,e,t,r){var i=xs();r=r===void 0?null:r;var s=void 0;if(Qn!==null){var o=Qn.memoizedState;if(s=o.destroy,r!==null&&FT(r,o.deps)){i.memoizedState=Jm(e,t,s,r);return}}En.flags|=n,i.memoizedState=Jm(1|e,t,s,r)}function CL(n,e){return Xy(8390656,8,n,e)}function zT(n,e){return K1(2048,8,n,e)}function iH(n,e){return K1(4,2,n,e)}function sH(n,e){return K1(4,4,n,e)}function oH(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function aH(n,e,t){return t=t!=null?t.concat([n]):null,K1(4,4,oH.bind(null,e,n),t)}function GT(){}function lH(n,e){var t=xs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&FT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function cH(n,e){var t=xs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&FT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function uH(n,e,t){return gu&21?(qs(t,e)||(t=h5(),En.lanes|=t,vu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,li=!0),n.memoizedState=t)}function iK(n,e){var t=Qt;Qt=t!==0&&4>t?t:4,n(!0);var r=Fw.transition;Fw.transition={};try{n(!1),e()}finally{Qt=t,Fw.transition=r}}function fH(){return xs().memoizedState}function sK(n,e,t){var r=Bl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},dH(n))hH(e,t);else if(t=V5(n,e,t,r),t!==null){var i=jr();Ks(t,n,r,i),pH(t,e,r)}}function oK(n,e,t){var r=Bl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(dH(n))hH(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,qs(a,o)){var l=e.interleaved;l===null?(i.next=i,LT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=V5(n,e,i,r),t!==null&&(i=jr(),Ks(t,n,r,i),pH(t,e,r))}}function dH(n){var e=n.alternate;return n===En||e!==null&&e===En}function hH(n,e){dm=zx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pH(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,xT(n,t)}}var Gx={readContext:ys,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},aK={readContext:ys,useCallback:function(n,e){return vo().memoizedState=[n,e===void 0?null:e],n},useContext:ys,useEffect:CL,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Xy(4194308,4,oH.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Xy(4194308,4,n,e)},useInsertionEffect:function(n,e){return Xy(4,2,n,e)},useMemo:function(n,e){var t=vo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=vo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=sK.bind(null,En,n),[r.memoizedState,n]},useRef:function(n){var e=vo();return n={current:n},e.memoizedState=n},useState:ML,useDebugValue:GT,useDeferredValue:function(n){return vo().memoizedState=n},useTransition:function(){var n=ML(!1),e=n[0];return n=iK.bind(null,n[1]),vo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=En,i=vo();if(xn){if(t===void 0)throw Error(Ie(407));t=t()}else{if(t=e(),hr===null)throw Error(Ie(349));gu&30||q5(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,CL(eH.bind(null,r,s,n),[n]),r.flags|=2048,Jm(9,Z5.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=vo(),e=hr.identifierPrefix;if(xn){var t=da,r=fa;t=(r&~(1<<32-Js(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=rK++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},lK={readContext:ys,useCallback:lH,useContext:ys,useEffect:zT,useImperativeHandle:aH,useInsertionEffect:iH,useLayoutEffect:sH,useMemo:cH,useReducer:Uw,useRef:rH,useState:function(){return Uw(jm)},useDebugValue:GT,useDeferredValue:function(n){var e=xs();return uH(e,Qn.memoizedState,n)},useTransition:function(){var n=Uw(jm)[0],e=xs().memoizedState;return[n,e]},useMutableSource:Y5,useSyncExternalStore:Q5,useId:fH,unstable_isNewReconciler:!1},cK={readContext:ys,useCallback:lH,useContext:ys,useEffect:zT,useImperativeHandle:aH,useInsertionEffect:iH,useLayoutEffect:sH,useMemo:cH,useReducer:Hw,useRef:rH,useState:function(){return Hw(jm)},useDebugValue:GT,useDeferredValue:function(n){var e=xs();return Qn===null?e.memoizedState=n:uH(e,Qn.memoizedState,n)},useTransition:function(){var n=Hw(jm)[0],e=xs().memoizedState;return[n,e]},useMutableSource:Y5,useSyncExternalStore:Q5,useId:fH,unstable_isNewReconciler:!1};function Xd(n,e){try{var t="",r=e;do t+=N7(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function zw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function TE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var uK=typeof WeakMap=="function"?WeakMap:Map;function mH(n,e,t){t=_a(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){$x||($x=!0,FE=r),TE(n,e)},t}function gH(n,e,t){t=_a(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){TE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){TE(n,e),typeof r!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function TL(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new uK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=AK.bind(null,n,e,t),e.then(n,n))}function RL(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function PL(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_a(-1,1),e.tag=2,Pl(t,e,1))),t.lanes|=1),n)}var fK=Na.ReactCurrentOwner,li=!1;function Wr(n,e,t,r){e.child=n===null?K5(e,null,t,r):Jd(e,n.child,t,r)}function IL(n,e,t,r,i){t=t.render;var s=e.ref;return Rd(e,i),r=UT(n,e,t,r,s,i),t=HT(),n!==null&&!li?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ra(n,e,i)):(xn&&t&&CT(e),e.flags|=1,Wr(n,e,r,i),e.child)}function BL(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!YT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,vH(n,e,s,r,i)):(n=Zy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Um,t(o,r)&&n.ref===e.ref)return Ra(n,e,i)}return e.flags|=1,n=Ll(s,r),n.ref=e.ref,n.return=e,e.child=n}function vH(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Um(s,r)&&n.ref===e.ref)if(li=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(li=!0);else return e.lanes=n.lanes,Ra(n,e,i)}return RE(n,e,t,r,i)}function yH(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(pd,Ci),Ci|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,an(pd,Ci),Ci|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,an(pd,Ci),Ci|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,an(pd,Ci),Ci|=r;return Wr(n,e,i,t),e.child}function xH(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function RE(n,e,t,r,i){var s=ui(t)?pu:kr.current;return s=Wd(e,s),Rd(e,i),t=UT(n,e,t,r,s,i),r=HT(),n!==null&&!li?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ra(n,e,i)):(xn&&r&&CT(e),e.flags|=1,Wr(n,e,t,i),e.child)}function LL(n,e,t,r,i){if(ui(t)){var s=!0;Dx(e)}else s=!1;if(Rd(e,i),e.stateNode===null)Yy(n,e),j5(e,t,r),CE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ys(c):(c=ui(t)?pu:kr.current,c=Wd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&AL(e,o,r,c),hl=!1;var p=e.memoizedState;o.state=p,Ux(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ci.current||hl?(typeof u=="function"&&(ME(e,t,u,r),l=e.memoizedState),(a=hl||SL(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$5(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fs(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ys(l):(l=ui(t)?pu:kr.current,l=Wd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&AL(e,o,r,l),hl=!1,p=e.memoizedState,o.state=p,Ux(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||ci.current||hl?(typeof m=="function"&&(ME(e,t,m,r),v=e.memoizedState),(c=hl||SL(e,t,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return PE(n,e,t,r,s,i)}function PE(n,e,t,r,i,s){xH(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yL(e,t,!1),Ra(n,e,s);r=e.stateNode,fK.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Jd(e,n.child,null,s),e.child=Jd(e,null,a,s)):Wr(n,e,a,s),e.memoizedState=r.state,i&&yL(e,t,!0),e.child}function bH(n){var e=n.stateNode;e.pendingContext?vL(n,e.pendingContext,e.pendingContext!==e.context):e.context&&vL(n,e.context,!1),OT(n,e.containerInfo)}function DL(n,e,t,r,i){return jd(),RT(i),e.flags|=256,Wr(n,e,t,r),e.child}var IE={dehydrated:null,treeContext:null,retryLane:0};function BE(n){return{baseLanes:n,cachePool:null,transitions:null}}function _H(n,e,t){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),an(wn,i&1),n===null)return AE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Q1(o,r,0,null),n=ou(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=BE(t),e.memoizedState=IE,n):VT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dK(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ll(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ll(a,s):(s=ou(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?BE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=IE,r}return s=n.child,n=s.sibling,r=Ll(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function VT(n,e){return e=Q1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Mv(n,e,t,r){return r!==null&&RT(r),Jd(e,n.child,null,t),n=VT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function dK(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=zw(Error(Ie(422))),Mv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Q1({mode:"visible",children:r.children},i,0,null),s=ou(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jd(e,n.child,null,o),e.child.memoizedState=BE(o),e.memoizedState=IE,s);if(!(e.mode&1))return Mv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=zw(s,r,void 0),Mv(n,e,o,r)}if(a=(o&n.childLanes)!==0,li||a){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ta(n,i),Ks(r,n,i,-1))}return XT(),r=zw(Error(Ie(421))),Mv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=EK.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ri=Rl(i.nextSibling),Oi=e,xn=!0,Gs=null,n!==null&&(ls[cs++]=fa,ls[cs++]=da,ls[cs++]=mu,fa=n.id,da=n.overflow,mu=e),e=VT(e,r.children),e.flags|=4096,e)}function OL(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),EE(n.return,e,t)}function Gw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function wH(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wr(n,e,r.children,t),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&OL(n,t,e);else if(n.tag===19)OL(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(an(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Hx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Gw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Hx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Gw(e,!0,t,null,s);break;case"together":Gw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ra(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),vu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ie(153));if(e.child!==null){for(n=e.child,t=Ll(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ll(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function hK(n,e,t){switch(e.tag){case 3:bH(e),jd();break;case 5:X5(e);break;case 1:ui(e.type)&&Dx(e);break;case 4:OT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(Nx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(wn,wn.current&1),e.flags|=128,null):t&e.child.childLanes?_H(n,e,t):(an(wn,wn.current&1),n=Ra(n,e,t),n!==null?n.sibling:null);an(wn,wn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return wH(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,yH(n,e,t)}return Ra(n,e,t)}var SH,LE,AH,EH;SH=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};LE=function(){};AH=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Kc(_o.current);var s=null;switch(t){case"input":i=tE(n,i),r=tE(n,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=iE(n,i),r=iE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Bx)}oE(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};EH=function(n,e,t,r){t!==r&&(e.flags|=4)};function bp(n,e){if(!xn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function pK(n,e,t){var r=e.pendingProps;switch(TT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return ui(e.type)&&Lx(),Pr(e),null;case 3:return r=e.stateNode,Kd(),gn(ci),gn(kr),NT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Av(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gs!==null&&(zE(Gs),Gs=null))),LE(n,e),Pr(e),null;case 5:kT(e);var i=Kc($m.current);if(t=e.type,n!==null&&e.stateNode!=null)AH(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return Pr(e),null}if(n=Kc(_o.current),Av(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[xo]=e,r[Gm]=s,n=(e.mode&1)!==0,t){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Qp.length;i++)un(Qp[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":$B(r,s),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},un("invalid",r);break;case"textarea":jB(r,s),un("invalid",r)}oE(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sv(r.textContent,a,n),i=["children",""+a]):Bm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&un("scroll",r)}switch(t){case"input":mv(r),WB(r,s,!0);break;case"textarea":mv(r),JB(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=q4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[xo]=e,n[Gm]=r,SH(n,e,!1,!1),e.stateNode=n;e:{switch(o=aE(t,r),t){case"dialog":un("cancel",n),un("close",n),i=r;break;case"iframe":case"object":case"embed":un("load",n),i=r;break;case"video":case"audio":for(i=0;i<Qp.length;i++)un(Qp[i],n);i=r;break;case"source":un("error",n),i=r;break;case"img":case"image":case"link":un("error",n),un("load",n),i=r;break;case"details":un("toggle",n),i=r;break;case"input":$B(n,r),i=tE(n,r),un("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),un("invalid",n);break;case"textarea":jB(n,r),i=iE(n,r),un("invalid",n);break;default:i=r}oE(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?t5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Lm(n,l):typeof l=="number"&&Lm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&un("scroll",n):l!=null&&hT(n,s,l,o))}switch(t){case"input":mv(n),WB(n,r,!1);break;case"textarea":mv(n),JB(n);break;case"option":r.value!=null&&n.setAttribute("value",""+zl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ed(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ed(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Bx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(n&&e.stateNode!=null)EH(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(t=Kc($m.current),Kc(_o.current),Av(e)){if(r=e.stateNode,t=e.memoizedProps,r[xo]=e,(s=r.nodeValue!==t)&&(n=Oi,n!==null))switch(n.tag){case 3:Sv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Sv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[xo]=e,e.stateNode=r}return Pr(e),null;case 13:if(gn(wn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(xn&&Ri!==null&&e.mode&1&&!(e.flags&128))G5(),jd(),e.flags|=98560,s=!1;else if(s=Av(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[xo]=e}else jd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else Gs!==null&&(zE(Gs),Gs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||wn.current&1?Zn===0&&(Zn=3):XT())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return Kd(),LE(n,e),n===null&&Hm(e.stateNode.containerInfo),Pr(e),null;case 10:return BT(e.type._context),Pr(e),null;case 17:return ui(e.type)&&Lx(),Pr(e),null;case 19:if(gn(wn),s=e.memoizedState,s===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bp(s,!1);else{if(Zn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hx(n),o!==null){for(e.flags|=128,bp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return an(wn,wn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Nn()>Yd&&(e.flags|=128,r=!0,bp(s,!1),e.lanes=4194304)}else{if(!r)if(n=Hx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),bp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xn)return Pr(e),null}else 2*Nn()-s.renderingStartTime>Yd&&t!==1073741824&&(e.flags|=128,r=!0,bp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,t=wn.current,an(wn,r?t&1|2:t&1),e):(Pr(e),null);case 22:case 23:return KT(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ci&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function mK(n,e){switch(TT(e),e.tag){case 1:return ui(e.type)&&Lx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Kd(),gn(ci),gn(kr),NT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return kT(e),null;case 13:if(gn(wn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));jd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return gn(wn),null;case 4:return Kd(),null;case 10:return BT(e.type._context),null;case 22:case 23:return KT(),null;case 24:return null;default:return null}}var Cv=!1,Dr=!1,gK=typeof WeakSet=="function"?WeakSet:Set,We=null;function hd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Rn(n,e,r)}else t.current=null}function DE(n,e,t){try{t()}catch(r){Rn(n,e,r)}}var kL=!1;function vK(n,e){if(vE=Rx,n=R5(),MT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(yE={focusedElem:n,selectionRange:t},Rx=!1,We=e;We!==null;)if(e=We,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,We=n;else for(;We!==null;){e=We;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fs(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(S){Rn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}return v=kL,kL=!1,v}function hm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&DE(e,t,s)}i=i.next}while(i!==r)}}function X1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function OE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function MH(n){var e=n.alternate;e!==null&&(n.alternate=null,MH(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[xo],delete e[Gm],delete e[_E],delete e[ZJ],delete e[eK])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function CH(n){return n.tag===5||n.tag===3||n.tag===4}function NL(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||CH(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Bx));else if(r!==4&&(n=n.child,n!==null))for(kE(n,e,t),n=n.sibling;n!==null;)kE(n,e,t),n=n.sibling}function NE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(NE(n,e,t),n=n.sibling;n!==null;)NE(n,e,t),n=n.sibling}var yr=null,Us=!1;function tl(n,e,t){for(t=t.child;t!==null;)TH(n,e,t),t=t.sibling}function TH(n,e,t){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(z1,t)}catch{}switch(t.tag){case 5:Dr||hd(t,e);case 6:var r=yr,i=Us;yr=null,tl(n,e,t),yr=r,Us=i,yr!==null&&(Us?(n=yr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):yr.removeChild(t.stateNode));break;case 18:yr!==null&&(Us?(n=yr,t=t.stateNode,n.nodeType===8?Ow(n.parentNode,t):n.nodeType===1&&Ow(n,t),Nm(n)):Ow(yr,t.stateNode));break;case 4:r=yr,i=Us,yr=t.stateNode.containerInfo,Us=!0,tl(n,e,t),yr=r,Us=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&DE(t,e,o),i=i.next}while(i!==r)}tl(n,e,t);break;case 1:if(!Dr&&(hd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Rn(t,e,a)}tl(n,e,t);break;case 21:tl(n,e,t);break;case 22:t.mode&1?(Dr=(r=Dr)||t.memoizedState!==null,tl(n,e,t),Dr=r):tl(n,e,t);break;default:tl(n,e,t)}}function FL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new gK),e.forEach(function(r){var i=MK.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Bs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,Us=!1;break e;case 3:yr=a.stateNode.containerInfo,Us=!0;break e;case 4:yr=a.stateNode.containerInfo,Us=!0;break e}a=a.return}if(yr===null)throw Error(Ie(160));TH(s,o,i),yr=null,Us=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RH(e,n),e=e.sibling}function RH(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bs(e,n),mo(n),r&4){try{hm(3,n,n.return),X1(3,n)}catch(y){Rn(n,n.return,y)}try{hm(5,n,n.return)}catch(y){Rn(n,n.return,y)}}break;case 1:Bs(e,n),mo(n),r&512&&t!==null&&hd(t,t.return);break;case 5:if(Bs(e,n),mo(n),r&512&&t!==null&&hd(t,t.return),n.flags&32){var i=n.stateNode;try{Lm(i,"")}catch(y){Rn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Y4(i,s),aE(a,o);var c=aE(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?t5(i,f):u==="dangerouslySetInnerHTML"?Z4(i,f):u==="children"?Lm(i,f):hT(i,u,f,c)}switch(a){case"input":nE(i,s);break;case"textarea":Q4(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ed(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ed(i,!!s.multiple,s.defaultValue,!0):Ed(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gm]=s}catch(y){Rn(n,n.return,y)}}break;case 6:if(Bs(e,n),mo(n),r&4){if(n.stateNode===null)throw Error(Ie(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Rn(n,n.return,y)}}break;case 3:if(Bs(e,n),mo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Nm(e.containerInfo)}catch(y){Rn(n,n.return,y)}break;case 4:Bs(e,n),mo(n);break;case 13:Bs(e,n),mo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jT=Nn())),r&4&&FL(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Dr=(c=Dr)||u,Bs(e,n),Dr=c):Bs(e,n),mo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(We=n,u=n.child;u!==null;){for(f=We=u;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:hm(4,p,p.return);break;case 1:hd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Rn(r,t,y)}}break;case 5:hd(p,p.return);break;case 22:if(p.memoizedState!==null){HL(f);continue}}m!==null?(m.return=p,We=m):HL(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=e5("display",o))}catch(y){Rn(n,n.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Rn(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(e,n),mo(n),r&4&&FL(n);break;case 21:break;default:Bs(e,n),mo(n)}}function mo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(CH(t)){var r=t;break e}t=t.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lm(i,""),r.flags&=-33);var s=NL(n);NE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NL(n);kE(n,a,o);break;default:throw Error(Ie(161))}}catch(l){Rn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function yK(n,e,t){We=n,PH(n)}function PH(n,e,t){for(var r=(n.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dr;a=Cv;var c=Dr;if(Cv=o,(Dr=l)&&!c)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?zL(i):l!==null?(l.return=o,We=l):zL(i);for(;s!==null;)We=s,PH(s),s=s.sibling;We=i,Cv=a,Dr=c}UL(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):UL(n)}}function UL(n){for(;We!==null;){var e=We;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dr||X1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Fs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wL(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}wL(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Nm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Dr||e.flags&512&&OE(e)}catch(p){Rn(e,e.return,p)}}if(e===n){We=null;break}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}}function HL(n){for(;We!==null;){var e=We;if(e===n){We=null;break}var t=e.sibling;if(t!==null){t.return=e.return,We=t;break}We=e.return}}function zL(n){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{X1(4,e)}catch(l){Rn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rn(e,i,l)}}var s=e.return;try{OE(e)}catch(l){Rn(e,s,l)}break;case 5:var o=e.return;try{OE(e)}catch(l){Rn(e,o,l)}}}catch(l){Rn(e,e.return,l)}if(e===n){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var xK=Math.ceil,Vx=Na.ReactCurrentDispatcher,$T=Na.ReactCurrentOwner,ms=Na.ReactCurrentBatchConfig,Ht=0,hr=null,jn=null,br=0,Ci=0,pd=nc(0),Zn=0,Km=null,vu=0,Y1=0,WT=0,pm=null,si=null,jT=0,Yd=1/0,ia=null,$x=!1,FE=null,Il=null,Tv=!1,Sl=null,Wx=0,mm=0,UE=null,Qy=-1,qy=0;function jr(){return Ht&6?Nn():Qy!==-1?Qy:Qy=Nn()}function Bl(n){return n.mode&1?Ht&2&&br!==0?br&-br:nK.transition!==null?(qy===0&&(qy=h5()),qy):(n=Qt,n!==0||(n=window.event,n=n===void 0?16:b5(n.type)),n):1}function Ks(n,e,t,r){if(50<mm)throw mm=0,UE=null,Error(Ie(185));Mg(n,t,r),(!(Ht&2)||n!==hr)&&(n===hr&&(!(Ht&2)&&(Y1|=t),Zn===4&&yl(n,br)),fi(n,r),t===1&&Ht===0&&!(e.mode&1)&&(Yd=Nn()+500,j1&&rc()))}function fi(n,e){var t=n.callbackNode;nJ(n,e);var r=Tx(n,n===hr?br:0);if(r===0)t!==null&&YB(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&YB(t),e===1)n.tag===0?tK(GL.bind(null,n)):U5(GL.bind(null,n)),QJ(function(){!(Ht&6)&&rc()}),t=null;else{switch(p5(r)){case 1:t=yT;break;case 4:t=f5;break;case 16:t=Cx;break;case 536870912:t=d5;break;default:t=Cx}t=FH(t,IH.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function IH(n,e){if(Qy=-1,qy=0,Ht&6)throw Error(Ie(327));var t=n.callbackNode;if(Pd()&&n.callbackNode!==t)return null;var r=Tx(n,n===hr?br:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=jx(n,r);else{e=r;var i=Ht;Ht|=2;var s=LH();(hr!==n||br!==e)&&(ia=null,Yd=Nn()+500,su(n,e));do try{wK();break}catch(a){BH(n,a)}while(1);IT(),Vx.current=s,Ht=i,jn!==null?e=0:(hr=null,br=0,e=Zn)}if(e!==0){if(e===2&&(i=dE(n),i!==0&&(r=i,e=HE(n,i))),e===1)throw t=Km,su(n,0),yl(n,r),fi(n,Nn()),t;if(e===6)yl(n,r);else{if(i=n.current.alternate,!(r&30)&&!bK(i)&&(e=jx(n,r),e===2&&(s=dE(n),s!==0&&(r=s,e=HE(n,s))),e===1))throw t=Km,su(n,0),yl(n,r),fi(n,Nn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:Bc(n,si,ia);break;case 3:if(yl(n,r),(r&130023424)===r&&(e=jT+500-Nn(),10<e)){if(Tx(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=bE(Bc.bind(null,n,si,ia),e);break}Bc(n,si,ia);break;case 4:if(yl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Js(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xK(r/1960))-r,10<r){n.timeoutHandle=bE(Bc.bind(null,n,si,ia),r);break}Bc(n,si,ia);break;case 5:Bc(n,si,ia);break;default:throw Error(Ie(329))}}}return fi(n,Nn()),n.callbackNode===t?IH.bind(null,n):null}function HE(n,e){var t=pm;return n.current.memoizedState.isDehydrated&&(su(n,e).flags|=256),n=jx(n,e),n!==2&&(e=si,si=t,e!==null&&zE(e)),n}function zE(n){si===null?si=n:si.push.apply(si,n)}function bK(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!qs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yl(n,e){for(e&=~WT,e&=~Y1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Js(e),r=1<<t;n[t]=-1,e&=~r}}function GL(n){if(Ht&6)throw Error(Ie(327));Pd();var e=Tx(n,0);if(!(e&1))return fi(n,Nn()),null;var t=jx(n,e);if(n.tag!==0&&t===2){var r=dE(n);r!==0&&(e=r,t=HE(n,r))}if(t===1)throw t=Km,su(n,0),yl(n,e),fi(n,Nn()),t;if(t===6)throw Error(Ie(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bc(n,si,ia),fi(n,Nn()),null}function JT(n,e){var t=Ht;Ht|=1;try{return n(e)}finally{Ht=t,Ht===0&&(Yd=Nn()+500,j1&&rc())}}function yu(n){Sl!==null&&Sl.tag===0&&!(Ht&6)&&Pd();var e=Ht;Ht|=1;var t=ms.transition,r=Qt;try{if(ms.transition=null,Qt=1,n)return n()}finally{Qt=r,ms.transition=t,Ht=e,!(Ht&6)&&rc()}}function KT(){Ci=pd.current,gn(pd)}function su(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,YJ(t)),jn!==null)for(t=jn.return;t!==null;){var r=t;switch(TT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lx();break;case 3:Kd(),gn(ci),gn(kr),NT();break;case 5:kT(r);break;case 4:Kd();break;case 13:gn(wn);break;case 19:gn(wn);break;case 10:BT(r.type._context);break;case 22:case 23:KT()}t=t.return}if(hr=n,jn=n=Ll(n.current,null),br=Ci=e,Zn=0,Km=null,WT=Y1=vu=0,si=pm=null,Jc!==null){for(e=0;e<Jc.length;e++)if(t=Jc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Jc=null}return n}function BH(n,e){do{var t=jn;try{if(IT(),Ky.current=Gx,zx){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zx=!1}if(gu=0,cr=Qn=En=null,dm=!1,Wm=0,$T.current=null,t===null||t.return===null){Zn=1,Km=e,jn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=RL(o);if(m!==null){m.flags&=-257,PL(m,o,a,s,e),m.mode&1&&TL(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){TL(s,c,e),XT();break e}l=Error(Ie(426))}}else if(xn&&a.mode&1){var x=RL(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PL(x,o,a,s,e),RT(Xd(l,a));break e}}s=l=Xd(l,a),Zn!==4&&(Zn=2),pm===null?pm=[s]:pm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=mH(s,l,e);_L(s,g);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Il===null||!Il.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=gH(s,a,e);_L(s,S);break e}}s=s.return}while(s!==null)}OH(t)}catch(E){e=E,jn===t&&t!==null&&(jn=t=t.return);continue}break}while(1)}function LH(){var n=Vx.current;return Vx.current=Gx,n===null?Gx:n}function XT(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),hr===null||!(vu&268435455)&&!(Y1&268435455)||yl(hr,br)}function jx(n,e){var t=Ht;Ht|=2;var r=LH();(hr!==n||br!==e)&&(ia=null,su(n,e));do try{_K();break}catch(i){BH(n,i)}while(1);if(IT(),Ht=t,Vx.current=r,jn!==null)throw Error(Ie(261));return hr=null,br=0,Zn}function _K(){for(;jn!==null;)DH(jn)}function wK(){for(;jn!==null&&!J7();)DH(jn)}function DH(n){var e=NH(n.alternate,n,Ci);n.memoizedProps=n.pendingProps,e===null?OH(n):jn=e,$T.current=null}function OH(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=mK(t,e),t!==null){t.flags&=32767,jn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Zn=6,jn=null;return}}else if(t=pK(t,e,Ci),t!==null){jn=t;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=n}while(e!==null);Zn===0&&(Zn=5)}function Bc(n,e,t){var r=Qt,i=ms.transition;try{ms.transition=null,Qt=1,SK(n,e,t,r)}finally{ms.transition=i,Qt=r}return null}function SK(n,e,t,r){do Pd();while(Sl!==null);if(Ht&6)throw Error(Ie(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ie(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(rJ(n,s),n===hr&&(jn=hr=null,br=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Tv||(Tv=!0,FH(Cx,function(){return Pd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ms.transition,ms.transition=null;var o=Qt;Qt=1;var a=Ht;Ht|=4,$T.current=null,vK(n,t),RH(t,n),VJ(yE),Rx=!!vE,yE=vE=null,n.current=t,yK(t),K7(),Ht=a,Qt=o,ms.transition=s}else n.current=t;if(Tv&&(Tv=!1,Sl=n,Wx=i),s=n.pendingLanes,s===0&&(Il=null),Q7(t.stateNode),fi(n,Nn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if($x)throw $x=!1,n=FE,FE=null,n;return Wx&1&&n.tag!==0&&Pd(),s=n.pendingLanes,s&1?n===UE?mm++:(mm=0,UE=n):mm=0,rc(),null}function Pd(){if(Sl!==null){var n=p5(Wx),e=ms.transition,t=Qt;try{if(ms.transition=null,Qt=16>n?16:n,Sl===null)var r=!1;else{if(n=Sl,Sl=null,Wx=0,Ht&6)throw Error(Ie(331));var i=Ht;for(Ht|=4,We=n.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:hm(8,u,s)}var f=u.child;if(f!==null)f.return=u,We=f;else for(;We!==null;){u=We;var p=u.sibling,m=u.return;if(MH(u),u===c){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hm(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,We=g;break e}We=s.return}}var _=n.current;for(We=_;We!==null;){o=We;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,We=b;else e:for(o=_;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:X1(9,a)}}catch(E){Rn(a,a.return,E)}if(a===o){We=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,We=S;break e}We=a.return}}if(Ht=i,rc(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(z1,n)}catch{}r=!0}return r}finally{Qt=t,ms.transition=e}}return!1}function VL(n,e,t){e=Xd(t,e),e=mH(n,e,1),n=Pl(n,e,1),e=jr(),n!==null&&(Mg(n,1,e),fi(n,e))}function Rn(n,e,t){if(n.tag===3)VL(n,n,t);else for(;e!==null;){if(e.tag===3){VL(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Il===null||!Il.has(r))){n=Xd(t,n),n=gH(e,n,1),e=Pl(e,n,1),n=jr(),e!==null&&(Mg(e,1,n),fi(e,n));break}}e=e.return}}function AK(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=jr(),n.pingedLanes|=n.suspendedLanes&t,hr===n&&(br&t)===t&&(Zn===4||Zn===3&&(br&130023424)===br&&500>Nn()-jT?su(n,0):WT|=t),fi(n,e)}function kH(n,e){e===0&&(n.mode&1?(e=yv,yv<<=1,!(yv&130023424)&&(yv=4194304)):e=1);var t=jr();n=Ta(n,e),n!==null&&(Mg(n,e,t),fi(n,t))}function EK(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),kH(n,t)}function MK(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),kH(n,t)}var NH;NH=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ci.current)li=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return li=!1,hK(n,e,t);li=!!(n.flags&131072)}else li=!1,xn&&e.flags&1048576&&H5(e,kx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yy(n,e),n=e.pendingProps;var i=Wd(e,kr.current);Rd(e,t),i=UT(null,e,r,n,i,t);var s=HT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(s=!0,Dx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DT(e),i.updater=J1,e.stateNode=i,i._reactInternals=e,CE(e,r,n,t),e=PE(null,e,r,!0,s,t)):(e.tag=0,xn&&s&&CT(e),Wr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Yy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TK(r),n=Fs(r,n),i){case 0:e=RE(null,e,r,n,t);break e;case 1:e=LL(null,e,r,n,t);break e;case 11:e=IL(null,e,r,n,t);break e;case 14:e=BL(null,e,r,Fs(r.type,n),t);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),RE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),LL(n,e,r,i,t);case 3:e:{if(bH(e),n===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$5(n,e),Ux(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xd(Error(Ie(423)),e),e=DL(n,e,r,t,i);break e}else if(r!==i){i=Xd(Error(Ie(424)),e),e=DL(n,e,r,t,i);break e}else for(Ri=Rl(e.stateNode.containerInfo.firstChild),Oi=e,xn=!0,Gs=null,t=K5(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(jd(),r===i){e=Ra(n,e,t);break e}Wr(n,e,r,t)}e=e.child}return e;case 5:return X5(e),n===null&&AE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,xE(r,i)?o=null:s!==null&&xE(r,s)&&(e.flags|=32),xH(n,e),Wr(n,e,o,t),e.child;case 6:return n===null&&AE(e),null;case 13:return _H(n,e,t);case 4:return OT(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Jd(e,null,r,t):Wr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),IL(n,e,r,i,t);case 7:return Wr(n,e,e.pendingProps,t),e.child;case 8:return Wr(n,e,e.pendingProps.children,t),e.child;case 12:return Wr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,an(Nx,r._currentValue),r._currentValue=o,s!==null)if(qs(s.value,o)){if(s.children===i.children&&!ci.current){e=Ra(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_a(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),EE(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),EE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rd(e,t),i=ys(i),r=r(i),e.flags|=1,Wr(n,e,r,t),e.child;case 14:return r=e.type,i=Fs(r,e.pendingProps),i=Fs(r.type,i),BL(n,e,r,i,t);case 15:return vH(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),Yy(n,e),e.tag=1,ui(r)?(n=!0,Dx(e)):n=!1,Rd(e,t),j5(e,r,i),CE(e,r,i,t),PE(null,e,r,!0,n,t);case 19:return wH(n,e,t);case 22:return yH(n,e,t)}throw Error(Ie(156,e.tag))};function FH(n,e){return u5(n,e)}function CK(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(n,e,t,r){return new CK(n,e,t,r)}function YT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function TK(n){if(typeof n=="function")return YT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===mT)return 11;if(n===gT)return 14}return 2}function Ll(n,e){var t=n.alternate;return t===null?(t=ds(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Zy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")YT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case id:return ou(t.children,i,s,e);case pT:o=8,i|=8;break;case QA:return n=ds(12,t,e,i|2),n.elementType=QA,n.lanes=s,n;case qA:return n=ds(13,t,e,i),n.elementType=qA,n.lanes=s,n;case ZA:return n=ds(19,t,e,i),n.elementType=ZA,n.lanes=s,n;case J4:return Q1(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W4:o=10;break e;case j4:o=9;break e;case mT:o=11;break e;case gT:o=14;break e;case dl:o=16,r=null;break e}throw Error(Ie(130,n==null?n:typeof n,""))}return e=ds(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ou(n,e,t,r){return n=ds(7,n,r,e),n.lanes=t,n}function Q1(n,e,t,r){return n=ds(22,n,r,e),n.elementType=J4,n.lanes=t,n.stateNode={isHidden:!1},n}function Vw(n,e,t){return n=ds(6,n,null,e),n.lanes=t,n}function $w(n,e,t){return e=ds(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function RK(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QT(n,e,t,r,i,s,o,a,l){return n=new RK(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ds(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},DT(s),n}function PK(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function UH(n){if(!n)return Gl;n=n._reactInternals;e:{if(Iu(n)!==n||n.tag!==1)throw Error(Ie(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(n.tag===1){var t=n.type;if(ui(t))return F5(n,t,e)}return e}function HH(n,e,t,r,i,s,o,a,l){return n=QT(t,r,!0,n,i,s,o,a,l),n.context=UH(null),t=n.current,r=jr(),i=Bl(t),s=_a(r,i),s.callback=e??null,Pl(t,s,i),n.current.lanes=i,Mg(n,i,r),fi(n,r),n}function q1(n,e,t,r){var i=e.current,s=jr(),o=Bl(i);return t=UH(t),e.context===null?e.context=t:e.pendingContext=t,e=_a(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Pl(i,e,o),n!==null&&(Ks(n,i,o,s),Jy(n,i,o)),o}function Jx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $L(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function qT(n,e){$L(n,e),(n=n.alternate)&&$L(n,e)}function IK(){return null}var zH=typeof reportError=="function"?reportError:function(n){console.error(n)};function ZT(n){this._internalRoot=n}Z1.prototype.render=ZT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ie(409));q1(n,e,null,null)};Z1.prototype.unmount=ZT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;yu(function(){q1(null,n,null,null)}),e[Ca]=null}};function Z1(n){this._internalRoot=n}Z1.prototype.unstable_scheduleHydration=function(n){if(n){var e=v5();n={blockedOn:null,target:n,priority:e};for(var t=0;t<vl.length&&e!==0&&e<vl[t].priority;t++);vl.splice(t,0,n),t===0&&x5(n)}};function eR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function WL(){}function BK(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Jx(o);s.call(c)}}var o=HH(e,r,n,0,null,!1,!1,"",WL);return n._reactRootContainer=o,n[Ca]=o.current,Hm(n.nodeType===8?n.parentNode:n),yu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Jx(l);a.call(c)}}var l=QT(n,0,!1,null,null,!1,!1,"",WL);return n._reactRootContainer=l,n[Ca]=l.current,Hm(n.nodeType===8?n.parentNode:n),yu(function(){q1(e,l,t,r)}),l}function tb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jx(o);a.call(l)}}q1(e,o,n,i)}else o=BK(t,e,n,i,r);return Jx(o)}m5=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yp(e.pendingLanes);t!==0&&(xT(e,t|1),fi(e,Nn()),!(Ht&6)&&(Yd=Nn()+500,rc()))}break;case 13:yu(function(){var r=Ta(n,1);if(r!==null){var i=jr();Ks(r,n,1,i)}}),qT(n,1)}};bT=function(n){if(n.tag===13){var e=Ta(n,134217728);if(e!==null){var t=jr();Ks(e,n,134217728,t)}qT(n,134217728)}};g5=function(n){if(n.tag===13){var e=Bl(n),t=Ta(n,e);if(t!==null){var r=jr();Ks(t,n,e,r)}qT(n,e)}};v5=function(){return Qt};y5=function(n,e){var t=Qt;try{return Qt=n,e()}finally{Qt=t}};cE=function(n,e,t){switch(e){case"input":if(nE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=W1(r);if(!i)throw Error(Ie(90));X4(r),nE(r,i)}}}break;case"textarea":Q4(n,t);break;case"select":e=t.value,e!=null&&Ed(n,!!t.multiple,e,!1)}};i5=JT;s5=yu;var LK={usingClientEntryPoint:!1,Events:[Tg,ld,W1,n5,r5,JT]},_p={findFiberByHostInstance:jc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DK={bundleType:_p.bundleType,version:_p.version,rendererPackageName:_p.rendererPackageName,rendererConfig:_p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=l5(n),n===null?null:n.stateNode},findFiberByHostInstance:_p.findFiberByHostInstance||IK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rv.isDisabled&&Rv.supportsFiber)try{z1=Rv.inject(DK),bo=Rv}catch{}}Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LK;Wi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eR(e))throw Error(Ie(200));return PK(n,e,null,t)};Wi.createRoot=function(n,e){if(!eR(n))throw Error(Ie(299));var t=!1,r="",i=zH;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QT(n,1,!1,null,null,t,!1,r,i),n[Ca]=e.current,Hm(n.nodeType===8?n.parentNode:n),new ZT(e)};Wi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ie(188)):(n=Object.keys(n).join(","),Error(Ie(268,n)));return n=l5(e),n=n===null?null:n.stateNode,n};Wi.flushSync=function(n){return yu(n)};Wi.hydrate=function(n,e,t){if(!eb(e))throw Error(Ie(200));return tb(null,n,e,!0,t)};Wi.hydrateRoot=function(n,e,t){if(!eR(n))throw Error(Ie(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=zH;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=HH(e,null,n,1,t??null,i,!1,s,o),n[Ca]=e.current,Hm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Z1(e)};Wi.render=function(n,e,t){if(!eb(e))throw Error(Ie(200));return tb(null,n,e,!1,t)};Wi.unmountComponentAtNode=function(n){if(!eb(n))throw Error(Ie(40));return n._reactRootContainer?(yu(function(){tb(null,null,n,!1,function(){n._reactRootContainer=null,n[Ca]=null})}),!0):!1};Wi.unstable_batchedUpdates=JT;Wi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!eb(t))throw Error(Ie(200));if(n==null||n._reactInternals===void 0)throw Error(Ie(38));return tb(n,e,t,!1,r)};Wi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Wi})(I7);var jL=Im;KA.createRoot=jL.createRoot,KA.hydrateRoot=jL.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const nb="151",OK={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kK={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GH=0,GE=1,VH=2,NK=3,$H=0,rb=1,gm=2,Xc=3,Po=0,Jr=1,us=2,FK=2,wa=0,au=1,VE=2,$E=3,WE=4,WH=5,$c=100,jH=101,JH=102,jE=103,JE=104,KH=200,XH=201,YH=202,QH=203,tR=204,nR=205,qH=206,ZH=207,ez=208,tz=209,nz=210,rz=0,iz=1,sz=2,Kx=3,oz=4,az=5,lz=6,cz=7,Pg=0,uz=1,fz=2,Xs=0,dz=1,hz=2,pz=3,rR=4,mz=5,ib=300,Pa=301,Vl=302,Qd=303,Xm=304,Ah=306,$l=1e3,xr=1001,qd=1002,Pn=1003,Ym=1004,UK=1004,Id=1005,HK=1005,mn=1006,sb=1007,zK=1007,Io=1008,GK=1008,Ia=1009,gz=1010,vz=1011,iR=1012,yz=1013,Al=1014,Pi=1015,hs=1016,xz=1017,bz=1018,lu=1020,_z=1021,ai=1023,wz=1024,Sz=1025,Dl=1026,xu=1027,Az=1028,Ez=1029,Mz=1030,Cz=1031,Tz=1033,ex=33776,tx=33777,nx=33778,rx=33779,KE=35840,XE=35841,YE=35842,QE=35843,Rz=36196,qE=37492,ZE=37496,eM=37808,tM=37809,nM=37810,rM=37811,iM=37812,sM=37813,oM=37814,aM=37815,lM=37816,cM=37817,uM=37818,fM=37819,dM=37820,hM=37821,ix=36492,Pz=36283,pM=36284,mM=36285,gM=36286,Iz=2200,Bz=2201,Lz=2202,Zd=2300,bu=2301,sx=2302,Yc=2400,Qc=2401,Qm=2402,ob=2500,sR=2501,VK=0,Dz=1,oR=2,Zs=3e3,Dt=3001,Oz=3200,kz=3201,Fa=0,Nz=1,$K="",Hs="srgb",eh="srgb-linear",aR="display-p3",WK=0,ox=7680,jK=7681,JK=7682,KK=7683,XK=34055,YK=34056,QK=5386,qK=512,ZK=513,eX=514,tX=515,nX=516,rX=517,iX=518,Fz=519,qm=35044,sX=35048,oX=35040,aX=35045,lX=35049,cX=35041,uX=35046,fX=35050,dX=35042,hX="100",vM="300 es",Xx=1035;class Ua{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ir=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JL=1234567;const cu=Math.PI/180,th=180/Math.PI;function ki(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ir[n&255]+Ir[n>>8&255]+Ir[n>>16&255]+Ir[n>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[t&63|128]+Ir[t>>8&255]+"-"+Ir[t>>16&255]+Ir[t>>24&255]+Ir[r&255]+Ir[r>>8&255]+Ir[r>>16&255]+Ir[r>>24&255]).toLowerCase()}function In(n,e,t){return Math.max(e,Math.min(t,n))}function lR(n,e){return(n%e+e)%e}function pX(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function mX(n,e,t){return n!==e?(t-n)/(e-n):0}function vm(n,e,t){return(1-t)*n+t*e}function gX(n,e,t,r){return vm(n,e,1-Math.exp(-t*r))}function vX(n,e=1){return e-Math.abs(lR(n,e*2)-e)}function yX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function xX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function bX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function _X(n,e){return n+Math.random()*(e-n)}function wX(n){return n*(.5-Math.random())}function SX(n){n!==void 0&&(JL=n);let e=JL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function AX(n){return n*cu}function EX(n){return n*th}function yM(n){return(n&n-1)===0&&n!==0}function Uz(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Hz(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function MX(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ii(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Et(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Bd={DEG2RAD:cu,RAD2DEG:th,generateUUID:ki,clamp:In,euclideanModulo:lR,mapLinear:pX,inverseLerp:mX,lerp:vm,damp:gX,pingpong:vX,smoothstep:yX,smootherstep:xX,randInt:bX,randFloat:_X,randFloatSpread:wX,seededRandom:SX,degToRad:AX,radToDeg:EX,isPowerOfTwo:yM,ceilPowerOfTwo:Uz,floorPowerOfTwo:Hz,setQuaternionFromProperEuler:MX,normalize:Et,denormalize:Ii};class Me{constructor(e=0,t=0){Me.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(In(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],v=r[8],y=i[0],x=i[3],g=i[6],_=i[1],b=i[4],S=i[7],E=i[2],M=i[5],I=i[8];return s[0]=o*y+a*_+l*E,s[3]=o*x+a*b+l*M,s[6]=o*g+a*S+l*I,s[1]=c*y+u*_+f*E,s[4]=c*x+u*b+f*M,s[7]=c*g+u*S+f*I,s[2]=p*y+m*_+v*E,s[5]=p*x+m*b+v*M,s[8]=p*g+m*S+v*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=t*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ww.makeScale(e,t)),this}rotate(e){return this.premultiply(Ww.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ww.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ww=new Bt;function zz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const CX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function md(n,e){return new CX[n](e)}function Zm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ld(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function jw(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const TX=new Bt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),RX=new Bt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function PX(n){return n.convertSRGBToLinear().applyMatrix3(RX)}function IX(n){return n.applyMatrix3(TX).convertLinearToSRGB()}const BX={[eh]:n=>n,[Hs]:n=>n.convertSRGBToLinear(),[aR]:PX},LX={[eh]:n=>n,[Hs]:n=>n.convertLinearToSRGB(),[aR]:IX},ni={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return eh},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=BX[e],i=LX[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let lf;class cR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{lf===void 0&&(lf=Zm("canvas")),lf.width=e.width,lf.height=e.height;const r=lf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=lf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Zm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ld(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ld(t[r]/255)*255):t[r]=Ld(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qc{constructor(e=null){this.isSource=!0,this.uuid=ki(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Jw(i[o].image)):s.push(Jw(i[o]))}else s=Jw(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Jw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?cR.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let DX=0;class bn extends Ua{constructor(e=bn.DEFAULT_IMAGE,t=bn.DEFAULT_MAPPING,r=xr,i=xr,s=mn,o=Io,a=ai,l=Ia,c=bn.DEFAULT_ANISOTROPY,u=Zs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DX++}),this.uuid=ki(),this.name="",this.source=new qc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Me(0,0),this.repeat=new Me(1,1),this.center=new Me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ib)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $l:e.x=e.x-Math.floor(e.x);break;case xr:e.x=e.x<0?0:1;break;case qd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $l:e.y=e.y-Math.floor(e.y);break;case xr:e.y=e.y<0?0:1;break;case qd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=ib;bn.DEFAULT_ANISOTROPY=1;class Ut{constructor(e=0,t=0,r=0,i=1){Ut.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],v=l[9],y=l[2],x=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,S=(m+1)/2,E=(g+1)/2,M=(u+p)/4,I=(f+y)/4,B=(v+x)/4;return b>S&&b>E?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=M/r,s=I/r):S>E?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=M/i,s=B/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=I/s,i=B/s),this.set(r,i,s,t),this}let _=Math.sqrt((x-v)*(x-v)+(f-y)*(f-y)+(p-u)*(p-u));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(f-y)/_,this.z=(p-u)/_,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Hi extends Ua{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:mn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ab extends bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OX extends Hi{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ab(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class uR extends bn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kX extends Hi{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new uR(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class NX extends Hi{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class pr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(f!==y||l!==p||c!==m||u!==v){let x=1-a;const g=l*p+c*m+u*v+f*y,_=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,g*_);x=Math.sin(x*M)/E,a=Math.sin(a*M)/E}const S=a*_;if(l=l*x+p*S,c=c*x+m*S,u=u*x+v*S,f=f*x+y*S,x===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*f+l*m-c*p,e[t+1]=l*v+u*p+c*f-a*m,e[t+2]=c*v+u*m+a*p-l*f,e[t+3]=u*v-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f-p*m*v;break;case"YXZ":this._x=p*u*f+c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f+p*m*v;break;case"ZXY":this._x=p*u*f-c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f-p*m*v;break;case"ZYX":this._x=p*u*f-c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f+p*m*v;break;case"YZX":this._x=p*u*f+c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f-p*m*v;break;case"XZY":this._x=p*u*f-c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(In(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,t=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(KL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(KL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-f*-o,this.y=u*l+p*-o+f*-s-c*-a,this.z=f*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Kw.copy(this).projectOnVector(e),this.sub(Kw)}reflect(e){return this.sub(Kw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(In(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Kw=new G,KL=new pr;class Ss{constructor(e=new G(1/0,1/0,1/0),t=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Xo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Xo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Xo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),cf.copy(e.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Xo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Xo)}else i.boundingBox===null&&i.computeBoundingBox(),cf.copy(i.boundingBox),cf.applyMatrix4(e.matrixWorld),this.union(cf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Xo),Xo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wp),Pv.subVectors(this.max,wp),uf.subVectors(e.a,wp),ff.subVectors(e.b,wp),df.subVectors(e.c,wp),nl.subVectors(ff,uf),rl.subVectors(df,ff),_c.subVectors(uf,df);let t=[0,-nl.z,nl.y,0,-rl.z,rl.y,0,-_c.z,_c.y,nl.z,0,-nl.x,rl.z,0,-rl.x,_c.z,0,-_c.x,-nl.y,nl.x,0,-rl.y,rl.x,0,-_c.y,_c.x,0];return!Xw(t,uf,ff,df,Pv)||(t=[1,0,0,0,1,0,0,0,1],!Xw(t,uf,ff,df,Pv))?!1:(Iv.crossVectors(nl,rl),t=[Iv.x,Iv.y,Iv.z],Xw(t,uf,ff,df,Pv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Xo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ko),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ko=[new G,new G,new G,new G,new G,new G,new G,new G],Xo=new G,cf=new Ss,uf=new G,ff=new G,df=new G,nl=new G,rl=new G,_c=new G,wp=new G,Pv=new G,Iv=new G,wc=new G;function Xw(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){wc.fromArray(n,s);const a=i.x*Math.abs(wc.x)+i.y*Math.abs(wc.y)+i.z*Math.abs(wc.z),l=e.dot(wc),c=t.dot(wc),u=r.dot(wc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const FX=new Ss,Sp=new G,Yw=new G;class As{constructor(e=new G,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):FX.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sp.subVectors(e,this.center);const t=Sp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Sp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Yw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sp.copy(e.center).add(Yw)),this.expandByPoint(Sp.copy(e.center).sub(Yw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Yo=new G,Qw=new G,Bv=new G,il=new G,qw=new G,Lv=new G,Zw=new G;class Ig{constructor(e=new G,t=new G(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Yo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yo.copy(this.origin).addScaledVector(this.direction,t),Yo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Qw.copy(e).add(t).multiplyScalar(.5),Bv.copy(t).sub(e).normalize(),il.copy(this.origin).sub(Qw);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Bv),a=il.dot(this.direction),l=-il.dot(Bv),c=il.lengthSq(),u=Math.abs(1-o*o);let f,p,m,v;if(u>0)if(f=o*l-a,p=o*a-l,v=s*u,f>=0)if(p>=-v)if(p<=v){const y=1/u;f*=y,p*=y,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Qw).addScaledVector(Bv,p),m}intersectSphere(e,t){Yo.subVectors(e.center,this.origin);const r=Yo.dot(this.direction),i=Yo.dot(Yo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Yo)!==null}intersectTriangle(e,t,r,i,s){qw.subVectors(t,e),Lv.subVectors(r,e),Zw.crossVectors(qw,Lv);let o=this.direction.dot(Zw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;il.subVectors(this.origin,e);const l=a*this.direction.dot(Lv.crossVectors(il,Lv));if(l<0)return null;const c=a*this.direction.dot(qw.cross(il));if(c<0||l+c>o)return null;const u=-a*il.dot(Zw);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(){ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,p,m,v,y,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=y,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/hf.setFromMatrixColumn(e,0).length(),s=1/hf.setFromMatrixColumn(e,1).length(),o=1/hf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+v*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,v=c*u,y=c*f;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,v=c*u,y=c*f;t[0]=p-y*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+y,t[1]=l*f,t[5]=y*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=y-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+v,t[10]=p-y*f}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+y,t[5]=o*u,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*u,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UX,e,HX)}lookAt(e,t,r){const i=this.elements;return Ai.subVectors(e,t),Ai.lengthSq()===0&&(Ai.z=1),Ai.normalize(),sl.crossVectors(r,Ai),sl.lengthSq()===0&&(Math.abs(r.z)===1?Ai.x+=1e-4:Ai.z+=1e-4,Ai.normalize(),sl.crossVectors(r,Ai)),sl.normalize(),Dv.crossVectors(Ai,sl),i[0]=sl.x,i[4]=Dv.x,i[8]=Ai.x,i[1]=sl.y,i[5]=Dv.y,i[9]=Ai.y,i[2]=sl.z,i[6]=Dv.z,i[10]=Ai.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],v=r[2],y=r[6],x=r[10],g=r[14],_=r[3],b=r[7],S=r[11],E=r[15],M=i[0],I=i[4],B=i[8],T=i[12],P=i[1],O=i[5],z=i[9],H=i[13],N=i[2],J=i[6],X=i[10],Y=i[14],k=i[3],U=i[7],V=i[11],q=i[15];return s[0]=o*M+a*P+l*N+c*k,s[4]=o*I+a*O+l*J+c*U,s[8]=o*B+a*z+l*X+c*V,s[12]=o*T+a*H+l*Y+c*q,s[1]=u*M+f*P+p*N+m*k,s[5]=u*I+f*O+p*J+m*U,s[9]=u*B+f*z+p*X+m*V,s[13]=u*T+f*H+p*Y+m*q,s[2]=v*M+y*P+x*N+g*k,s[6]=v*I+y*O+x*J+g*U,s[10]=v*B+y*z+x*X+g*V,s[14]=v*T+y*H+x*Y+g*q,s[3]=_*M+b*P+S*N+E*k,s[7]=_*I+b*O+S*J+E*U,s[11]=_*B+b*z+S*X+E*V,s[15]=_*T+b*H+S*Y+E*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],g=e[15];return v*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+y*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+x*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],g=e[15],_=f*x*c-y*p*c+y*l*m-a*x*m-f*l*g+a*p*g,b=v*p*c-u*x*c-v*l*m+o*x*m+u*l*g-o*p*g,S=u*y*c-v*f*c+v*a*m-o*y*m-u*a*g+o*f*g,E=v*f*l-u*y*l-v*a*p+o*y*p+u*a*x-o*f*x,M=t*_+r*b+i*S+s*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/M;return e[0]=_*I,e[1]=(y*p*s-f*x*s-y*i*m+r*x*m+f*i*g-r*p*g)*I,e[2]=(a*x*s-y*l*s+y*i*c-r*x*c-a*i*g+r*l*g)*I,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*I,e[4]=b*I,e[5]=(u*x*s-v*p*s+v*i*m-t*x*m-u*i*g+t*p*g)*I,e[6]=(v*l*s-o*x*s-v*i*c+t*x*c+o*i*g-t*l*g)*I,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*I,e[8]=S*I,e[9]=(v*f*s-u*y*s-v*r*m+t*y*m+u*r*g-t*f*g)*I,e[10]=(o*y*s-v*a*s+v*r*c-t*y*c-o*r*g+t*a*g)*I,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*I,e[12]=E*I,e[13]=(u*y*i-v*f*i+v*r*p-t*y*p-u*r*x+t*f*x)*I,e[14]=(v*a*i-o*y*i-v*r*l+t*y*l+o*r*x-t*a*x)*I,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,v=s*f,y=o*u,x=o*f,g=a*f,_=l*c,b=l*u,S=l*f,E=r.x,M=r.y,I=r.z;return i[0]=(1-(y+g))*E,i[1]=(m+S)*E,i[2]=(v-b)*E,i[3]=0,i[4]=(m-S)*M,i[5]=(1-(p+g))*M,i[6]=(x+_)*M,i[7]=0,i[8]=(v+b)*I,i[9]=(x-_)*I,i[10]=(1-(p+y))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=hf.set(i[0],i[1],i[2]).length();const o=hf.set(i[4],i[5],i[6]).length(),a=hf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ls.copy(this);const c=1/s,u=1/o,f=1/a;return Ls.elements[0]*=c,Ls.elements[1]*=c,Ls.elements[2]*=c,Ls.elements[4]*=u,Ls.elements[5]*=u,Ls.elements[6]*=u,Ls.elements[8]*=f,Ls.elements[9]*=f,Ls.elements[10]*=f,t.setFromRotationMatrix(Ls),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const hf=new G,Ls=new ut,UX=new G(0,0,0),HX=new G(1,1,1),sl=new G,Dv=new G,Ai=new G,XL=new ut,YL=new pr;class ic{constructor(e=0,t=0,r=0,i=ic.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(In(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-In(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(In(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-In(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(In(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-In(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return XL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return YL.setFromEuler(this),this.setFromQuaternion(YL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ic.DEFAULT_ORDER="XYZ";class uu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zX=0;const QL=new G,pf=new pr,Qo=new ut,Ov=new G,Ap=new G,GX=new G,VX=new pr,qL=new G(1,0,0),ZL=new G(0,1,0),e3=new G(0,0,1),$X={type:"added"},t3={type:"removed"};class Ft extends Ua{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zX++}),this.uuid=ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ft.DEFAULT_UP.clone();const e=new G,t=new ic,r=new pr,i=new G(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ut},normalMatrix:{value:new Bt}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=Ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new uu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pf.setFromAxisAngle(e,t),this.quaternion.multiply(pf),this}rotateOnWorldAxis(e,t){return pf.setFromAxisAngle(e,t),this.quaternion.premultiply(pf),this}rotateX(e){return this.rotateOnAxis(qL,e)}rotateY(e){return this.rotateOnAxis(ZL,e)}rotateZ(e){return this.rotateOnAxis(e3,e)}translateOnAxis(e,t){return QL.copy(e).applyQuaternion(this.quaternion),this.position.add(QL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(qL,e)}translateY(e){return this.translateOnAxis(ZL,e)}translateZ(e){return this.translateOnAxis(e3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Ov.copy(e):Ov.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ap.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qo.lookAt(Ap,Ov,this.up):Qo.lookAt(Ov,Ap,this.up),this.quaternion.setFromRotationMatrix(Qo),i&&(Qo.extractRotation(i.matrixWorld),pf.setFromRotationMatrix(Qo),this.quaternion.premultiply(pf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($X)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(t3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(t3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Qo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,e,GX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,VX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ft.DEFAULT_UP=new G(0,1,0);Ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ds=new G,qo=new G,eS=new G,Zo=new G,mf=new G,gf=new G,n3=new G,tS=new G,nS=new G,rS=new G;let kv=!1;class oi{constructor(e=new G,t=new G,r=new G){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ds.subVectors(e,t),i.cross(Ds);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ds.subVectors(i,t),qo.subVectors(r,t),eS.subVectors(e,t);const o=Ds.dot(Ds),a=Ds.dot(qo),l=Ds.dot(eS),c=qo.dot(qo),u=qo.dot(eS),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Zo),Zo.x>=0&&Zo.y>=0&&Zo.x+Zo.y<=1}static getUV(e,t,r,i,s,o,a,l){return kv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),kv=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Zo),l.setScalar(0),l.addScaledVector(s,Zo.x),l.addScaledVector(o,Zo.y),l.addScaledVector(a,Zo.z),l}static isFrontFacing(e,t,r,i){return Ds.subVectors(r,t),qo.subVectors(e,t),Ds.cross(qo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ds.subVectors(this.c,this.b),qo.subVectors(this.a,this.b),Ds.cross(qo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return oi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return oi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return kv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),kv=!0),oi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return oi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return oi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return oi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;mf.subVectors(i,r),gf.subVectors(s,r),tS.subVectors(e,r);const l=mf.dot(tS),c=gf.dot(tS);if(l<=0&&c<=0)return t.copy(r);nS.subVectors(e,i);const u=mf.dot(nS),f=gf.dot(nS);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(mf,o);rS.subVectors(e,s);const m=mf.dot(rS),v=gf.dot(rS);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(gf,a);const x=u*v-m*f;if(x<=0&&f-u>=0&&m-v>=0)return n3.subVectors(s,i),a=(f-u)/(f-u+(m-v)),t.copy(i).addScaledVector(n3,a);const g=1/(x+y+p);return o=y*g,a=p*g,t.copy(r).addScaledVector(mf,o).addScaledVector(gf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let WX=0,Xn=class extends Ua{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WX++}),this.uuid=ki(),this.name="",this.type="Material",this.blending=au,this.side=Po,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=tR,this.blendDst=nR,this.blendEquation=$c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Kx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Fz,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ox,this.stencilZFail=ox,this.stencilZPass=ox,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==au&&(r.blending=this.blending),this.side!==Po&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};const Gz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Os={h:0,s:0,l:0},Nv={h:0,s:0,l:0};function iS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Oe{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Hs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ni.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ni.workingColorSpace){return this.r=e,this.g=t,this.b=r,ni.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ni.workingColorSpace){if(e=lR(e,1),t=In(t,0,1),r=In(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=iS(o,s,e+1/3),this.g=iS(o,s,e),this.b=iS(o,s,e-1/3)}return ni.toWorkingColorSpace(this,i),this}setStyle(e,t=Hs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ni.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ni.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Hs){const r=Gz[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ld(e.r),this.g=Ld(e.g),this.b=Ld(e.b),this}copyLinearToSRGB(e){return this.r=jw(e.r),this.g=jw(e.g),this.b=jw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Hs){return ni.fromWorkingColorSpace(Br.copy(this),e),In(Br.r*255,0,255)<<16^In(Br.g*255,0,255)<<8^In(Br.b*255,0,255)<<0}getHexString(e=Hs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ni.workingColorSpace){ni.fromWorkingColorSpace(Br.copy(this),t);const r=Br.r,i=Br.g,s=Br.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ni.workingColorSpace){return ni.fromWorkingColorSpace(Br.copy(this),t),e.r=Br.r,e.g=Br.g,e.b=Br.b,e}getStyle(e=Hs){ni.fromWorkingColorSpace(Br.copy(this),e);const t=Br.r,r=Br.g,i=Br.b;return e!==Hs?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(Os),Os.h+=e,Os.s+=t,Os.l+=r,this.setHSL(Os.h,Os.s,Os.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Os),e.getHSL(Nv);const r=vm(Os.h,Nv.h,t),i=vm(Os.s,Nv.s,t),s=vm(Os.l,Nv.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Br=new Oe;Oe.NAMES=Gz;class Bi extends Xn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const aa=jX();function jX(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ri(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=In(n,-65504,65504),aa.floatView[0]=n;const e=aa.uint32View[0],t=e>>23&511;return aa.baseTable[t]+((e&8388607)>>aa.shiftTable[t])}function qp(n){const e=n>>10;return aa.uint32View[0]=aa.mantissaTable[aa.offsetTable[e]+(n&1023)]+aa.exponentTable[e],aa.floatView[0]}const Zp={toHalfFloat:ri,fromHalfFloat:qp},Vn=new G,Fv=new Me;class jt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=qm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Fv.fromBufferAttribute(this,t),Fv.applyMatrix3(e),this.setXY(t,Fv.x,Fv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix3(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix4(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyNormalMatrix(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.transformDirection(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ii(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ii(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ii(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ii(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class JX extends jt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class KX extends jt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class XX extends jt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class YX extends jt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class fR extends jt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class QX extends jt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class dR extends jt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class qX extends jt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=qp(this.array[e*this.itemSize]);return this.normalized&&(t=Ii(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=ri(t),this}getY(e){let t=qp(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ii(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=ri(t),this}getZ(e){let t=qp(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ii(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=ri(t),this}getW(e){let t=qp(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ii(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=ri(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.array[e+0]=ri(t),this.array[e+1]=ri(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.array[e+0]=ri(t),this.array[e+1]=ri(r),this.array[e+2]=ri(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.array[e+0]=ri(t),this.array[e+1]=ri(r),this.array[e+2]=ri(i),this.array[e+3]=ri(s),this}}class Xe extends jt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class ZX extends jt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let eY=0;const rs=new ut,sS=new Ft,vf=new G,Ei=new Ss,Ep=new Ss,ar=new G;class yt extends Ua{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:eY++}),this.uuid=ki(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zz(e)?dR:fR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rs.makeRotationFromQuaternion(e),this.applyMatrix4(rs),this}rotateX(e){return rs.makeRotationX(e),this.applyMatrix4(rs),this}rotateY(e){return rs.makeRotationY(e),this.applyMatrix4(rs),this}rotateZ(e){return rs.makeRotationZ(e),this.applyMatrix4(rs),this}translate(e,t,r){return rs.makeTranslation(e,t,r),this.applyMatrix4(rs),this}scale(e,t,r){return rs.makeScale(e,t,r),this.applyMatrix4(rs),this}lookAt(e){return sS.lookAt(e),sS.updateMatrix(),this.applyMatrix4(sS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vf).negate(),this.translate(vf.x,vf.y,vf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ss);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ei.setFromBufferAttribute(s),this.morphTargetsRelative?(ar.addVectors(this.boundingBox.min,Ei.min),this.boundingBox.expandByPoint(ar),ar.addVectors(this.boundingBox.max,Ei.max),this.boundingBox.expandByPoint(ar)):(this.boundingBox.expandByPoint(Ei.min),this.boundingBox.expandByPoint(Ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new As);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(Ei.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Ep.setFromBufferAttribute(a),this.morphTargetsRelative?(ar.addVectors(Ei.min,Ep.min),Ei.expandByPoint(ar),ar.addVectors(Ei.max,Ep.max),Ei.expandByPoint(ar)):(Ei.expandByPoint(Ep.min),Ei.expandByPoint(Ep.max))}Ei.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ar.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ar));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ar.fromBufferAttribute(a,c),l&&(vf.fromBufferAttribute(e,c),ar.add(vf)),i=Math.max(i,r.distanceToSquared(ar))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new G,u[P]=new G;const f=new G,p=new G,m=new G,v=new Me,y=new Me,x=new Me,g=new G,_=new G;function b(P,O,z){f.fromArray(i,P*3),p.fromArray(i,O*3),m.fromArray(i,z*3),v.fromArray(o,P*2),y.fromArray(o,O*2),x.fromArray(o,z*2),p.sub(f),m.sub(f),y.sub(v),x.sub(v);const H=1/(y.x*x.y-x.x*y.y);isFinite(H)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(H),_.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(H),c[P].add(g),c[O].add(g),c[z].add(g),u[P].add(_),u[O].add(_),u[z].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let P=0,O=S.length;P<O;++P){const z=S[P],H=z.start,N=z.count;for(let J=H,X=H+N;J<X;J+=3)b(r[J+0],r[J+1],r[J+2])}const E=new G,M=new G,I=new G,B=new G;function T(P){I.fromArray(s,P*3),B.copy(I);const O=c[P];E.copy(O),E.sub(I.multiplyScalar(I.dot(O))).normalize(),M.crossVectors(B,O);const H=M.dot(u[P])<0?-1:1;l[P*4]=E.x,l[P*4+1]=E.y,l[P*4+2]=E.z,l[P*4+3]=H}for(let P=0,O=S.length;P<O;++P){const z=S[P],H=z.start,N=z.count;for(let J=H,X=H+N;J<X;J+=3)T(r[J+0]),T(r[J+1]),T(r[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new G,s=new G,o=new G,a=new G,l=new G,c=new G,u=new G,f=new G;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ar.fromBufferAttribute(e,t),ar.normalize(),e.setXYZ(t,ar.x,ar.y,ar.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new jt(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new yt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const r3=new ut,go=new Ig,Uv=new As,i3=new G,yf=new G,xf=new G,bf=new G,oS=new G,Hv=new G,zv=new Me,Gv=new Me,Vv=new Me,s3=new G,o3=new G,a3=new G,$v=new G,Wv=new G;class Jn extends Ft{constructor(e=new yt,t=new Bi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Hv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(oS.fromBufferAttribute(f,e),o?Hv.addScaledVector(oS,u):Hv.addScaledVector(oS.sub(t),u))}t.add(Hv)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Uv.copy(r.boundingSphere),Uv.applyMatrix4(s),go.copy(e.ray).recast(e.near),Uv.containsPoint(go.origin)===!1&&(go.intersectSphere(Uv,i3)===null||go.origin.distanceToSquared(i3)>(e.far-e.near)**2))||(r3.copy(s).invert(),go.copy(e.ray).applyMatrix4(r3),r.boundingBox!==null&&go.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,f=r.attributes.normal,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],g=i[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let S=_,E=b;S<E;S+=3){const M=a.getX(S),I=a.getX(S+1),B=a.getX(S+2);o=jv(this,g,e,go,c,u,f,M,I,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const _=a.getX(x),b=a.getX(x+1),S=a.getX(x+2);o=jv(this,i,e,go,c,u,f,_,b,S),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],g=i[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let S=_,E=b;S<E;S+=3){const M=S,I=S+1,B=S+2;o=jv(this,g,e,go,c,u,f,M,I,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const _=x,b=x+1,S=x+2;o=jv(this,i,e,go,c,u,f,_,b,S),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function tY(n,e,t,r,i,s,o,a){let l;if(e.side===Jr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Po,a),l===null)return null;Wv.copy(a),Wv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Wv);return c<t.near||c>t.far?null:{distance:c,point:Wv.clone(),object:n}}function jv(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,yf),n.getVertexPosition(l,xf),n.getVertexPosition(c,bf);const u=tY(n,e,t,r,yf,xf,bf,$v);if(u){i&&(zv.fromBufferAttribute(i,a),Gv.fromBufferAttribute(i,l),Vv.fromBufferAttribute(i,c),u.uv=oi.getInterpolation($v,yf,xf,bf,zv,Gv,Vv,new Me)),s&&(zv.fromBufferAttribute(s,a),Gv.fromBufferAttribute(s,l),Vv.fromBufferAttribute(s,c),u.uv2=oi.getInterpolation($v,yf,xf,bf,zv,Gv,Vv,new Me)),o&&(s3.fromBufferAttribute(o,a),o3.fromBufferAttribute(o,l),a3.fromBufferAttribute(o,c),u.normal=oi.getInterpolation($v,yf,xf,bf,s3,o3,a3,new G),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new G,materialIndex:0};oi.getNormal(yf,xf,bf,f.normal),u.face=f}return u}class sc extends yt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Xe(c,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(f,2));function v(y,x,g,_,b,S,E,M,I,B,T){const P=S/I,O=E/B,z=S/2,H=E/2,N=M/2,J=I+1,X=B+1;let Y=0,k=0;const U=new G;for(let V=0;V<X;V++){const q=V*O-H;for(let ee=0;ee<J;ee++){const se=ee*P-z;U[y]=se*_,U[x]=q*b,U[g]=N,c.push(U.x,U.y,U.z),U[y]=0,U[x]=0,U[g]=M>0?1:-1,u.push(U.x,U.y,U.z),f.push(ee/I),f.push(1-V/B),Y+=1}}for(let V=0;V<B;V++)for(let q=0;q<I;q++){const ee=p+q+J*V,se=p+q+J*(V+1),Z=p+(q+1)+J*(V+1),de=p+(q+1)+J*V;l.push(ee,se,de),l.push(se,Z,de),k+=6}a.addGroup(m,k,T),m+=k,p+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Gr(n){const e={};for(let t=0;t<n.length;t++){const r=nh(n[t]);for(const i in r)e[i]=r[i]}return e}function nY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Vz(n){return n.getRenderTarget()===null&&n.outputEncoding===Dt?Hs:eh}const hR={clone:nh,merge:Gr};var rY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bs extends Xn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=rY,this.fragmentShader=iY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nh(e.uniforms),this.uniformsGroups=nY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Bg extends Ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class qn extends Bg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=th*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return th*2*Math.atan(Math.tan(cu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _f=-90,wf=1;class $z extends Ft{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new qn(_f,wf,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new qn(_f,wf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new qn(_f,wf,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new qn(_f,wf,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new qn(_f,wf,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new qn(_f,wf,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=Xs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Lg extends bn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Pa,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class pR extends Hi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Lg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:mn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new sc(5,5,5),s=new bs({name:"CubemapFromEquirect",uniforms:nh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Jr,blending:wa});s.uniforms.tEquirect.value=t;const o=new Jn(i,s),a=t.minFilter;return t.minFilter===Io&&(t.minFilter=mn),new $z(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const aS=new G,sY=new G,oY=new Bt;class pl{constructor(e=new G(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=aS.subVectors(r,t).cross(sY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(aS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||oY.getNormalMatrix(e),i=this.coplanarPoint(aS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Sc=new As,Jv=new G;class lb{constructor(e=new pl,t=new pl,r=new pl,i=new pl,s=new pl,o=new pl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],p=r[8],m=r[9],v=r[10],y=r[11],x=r[12],g=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,f-l,y-p,b-x).normalize(),t[1].setComponents(a+i,f+l,y+p,b+x).normalize(),t[2].setComponents(a+s,f+c,y+m,b+g).normalize(),t[3].setComponents(a-s,f-c,y-m,b-g).normalize(),t[4].setComponents(a-o,f-u,y-v,b-_).normalize(),t[5].setComponents(a+o,f+u,y+v,b+_).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Sc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Sc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Sc)}intersectsSprite(e){return Sc.center.set(0,0,0),Sc.radius=.7071067811865476,Sc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Jv.x=i.normal.x>0?e.max.x:e.min.x,Jv.y=i.normal.y>0?e.max.y:e.min.y,Jv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Jv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Wz(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aY(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,f,p),c.onUploadCallback();let v;if(f instanceof Float32Array)v=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(f instanceof Int16Array)v=5122;else if(f instanceof Uint32Array)v=5125;else if(f instanceof Int32Array)v=5124;else if(f instanceof Int8Array)v=5120;else if(f instanceof Uint8Array)v=5121;else if(f instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const p=u.array,m=u.updateRange;n.bindBuffer(f,c),m.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class Eh extends yt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],v=[],y=[],x=[];for(let g=0;g<u;g++){const _=g*p-o;for(let b=0;b<c;b++){const S=b*f-s;v.push(S,-_,0),y.push(0,0,1),x.push(b/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const b=_+c*g,S=_+c*(g+1),E=_+1+c*(g+1),M=_+1+c*g;m.push(b,S,M),m.push(S,E,M)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eh(e.width,e.height,e.widthSegments,e.heightSegments)}}var lY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,cY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,hY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pY="vec3 transformed = vec3( position );",mY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,bY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_Y=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,SY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,AY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,EY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,MY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,CY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,TY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,RY=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,PY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,IY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,BY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,LY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,DY="gl_FragColor = linearToOutputTexel( gl_FragColor );",OY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,kY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,FY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,UY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,HY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$Y=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,WY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,JY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,KY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,XY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,YY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,QY=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,qY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ZY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,eQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,rQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,oQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,aQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,uQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,fQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,dQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,xQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,bQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_Q=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,wQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,SQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,MQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,CQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,TQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,RQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,PQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,IQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,LQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,DQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,OQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,kQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,FQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,UQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,HQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,GQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$Q=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,WQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,XQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,YQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,QQ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,qQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,ZQ=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_UV2
	attribute vec2 uv2;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tq=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,iq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vq=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_q=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Aq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Eq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Tq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Bq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Oq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,St={alphamap_fragment:lY,alphamap_pars_fragment:cY,alphatest_fragment:uY,alphatest_pars_fragment:fY,aomap_fragment:dY,aomap_pars_fragment:hY,begin_vertex:pY,beginnormal_vertex:mY,bsdfs:gY,iridescence_fragment:vY,bumpmap_pars_fragment:yY,clipping_planes_fragment:xY,clipping_planes_pars_fragment:bY,clipping_planes_pars_vertex:_Y,clipping_planes_vertex:wY,color_fragment:SY,color_pars_fragment:AY,color_pars_vertex:EY,color_vertex:MY,common:CY,cube_uv_reflection_fragment:TY,defaultnormal_vertex:RY,displacementmap_pars_vertex:PY,displacementmap_vertex:IY,emissivemap_fragment:BY,emissivemap_pars_fragment:LY,encodings_fragment:DY,encodings_pars_fragment:OY,envmap_fragment:kY,envmap_common_pars_fragment:NY,envmap_pars_fragment:FY,envmap_pars_vertex:UY,envmap_physical_pars_fragment:QY,envmap_vertex:HY,fog_vertex:zY,fog_pars_vertex:GY,fog_fragment:VY,fog_pars_fragment:$Y,gradientmap_pars_fragment:WY,lightmap_fragment:jY,lightmap_pars_fragment:JY,lights_lambert_fragment:KY,lights_lambert_pars_fragment:XY,lights_pars_begin:YY,lights_toon_fragment:qY,lights_toon_pars_fragment:ZY,lights_phong_fragment:eQ,lights_phong_pars_fragment:tQ,lights_physical_fragment:nQ,lights_physical_pars_fragment:rQ,lights_fragment_begin:iQ,lights_fragment_maps:sQ,lights_fragment_end:oQ,logdepthbuf_fragment:aQ,logdepthbuf_pars_fragment:lQ,logdepthbuf_pars_vertex:cQ,logdepthbuf_vertex:uQ,map_fragment:fQ,map_pars_fragment:dQ,map_particle_fragment:hQ,map_particle_pars_fragment:pQ,metalnessmap_fragment:mQ,metalnessmap_pars_fragment:gQ,morphcolor_vertex:vQ,morphnormal_vertex:yQ,morphtarget_pars_vertex:xQ,morphtarget_vertex:bQ,normal_fragment_begin:_Q,normal_fragment_maps:wQ,normal_pars_fragment:SQ,normal_pars_vertex:AQ,normal_vertex:EQ,normalmap_pars_fragment:MQ,clearcoat_normal_fragment_begin:CQ,clearcoat_normal_fragment_maps:TQ,clearcoat_pars_fragment:RQ,iridescence_pars_fragment:PQ,output_fragment:IQ,packing:BQ,premultiplied_alpha_fragment:LQ,project_vertex:DQ,dithering_fragment:OQ,dithering_pars_fragment:kQ,roughnessmap_fragment:NQ,roughnessmap_pars_fragment:FQ,shadowmap_pars_fragment:UQ,shadowmap_pars_vertex:HQ,shadowmap_vertex:zQ,shadowmask_pars_fragment:GQ,skinbase_vertex:VQ,skinning_pars_vertex:$Q,skinning_vertex:WQ,skinnormal_vertex:jQ,specularmap_fragment:JQ,specularmap_pars_fragment:KQ,tonemapping_fragment:XQ,tonemapping_pars_fragment:YQ,transmission_fragment:QQ,transmission_pars_fragment:qQ,uv_pars_fragment:ZQ,uv_pars_vertex:eq,uv_vertex:tq,worldpos_vertex:nq,background_vert:rq,background_frag:iq,backgroundCube_vert:sq,backgroundCube_frag:oq,cube_vert:aq,cube_frag:lq,depth_vert:cq,depth_frag:uq,distanceRGBA_vert:fq,distanceRGBA_frag:dq,equirect_vert:hq,equirect_frag:pq,linedashed_vert:mq,linedashed_frag:gq,meshbasic_vert:vq,meshbasic_frag:yq,meshlambert_vert:xq,meshlambert_frag:bq,meshmatcap_vert:_q,meshmatcap_frag:wq,meshnormal_vert:Sq,meshnormal_frag:Aq,meshphong_vert:Eq,meshphong_frag:Mq,meshphysical_vert:Cq,meshphysical_frag:Tq,meshtoon_vert:Rq,meshtoon_frag:Pq,points_vert:Iq,points_frag:Bq,shadow_vert:Lq,shadow_frag:Dq,sprite_vert:Oq,sprite_frag:kq},Fe={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new Me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new Me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaTest:{value:0}}},Vs={basic:{uniforms:Gr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:St.meshbasic_vert,fragmentShader:St.meshbasic_frag},lambert:{uniforms:Gr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new Oe(0)}}]),vertexShader:St.meshlambert_vert,fragmentShader:St.meshlambert_frag},phong:{uniforms:Gr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:St.meshphong_vert,fragmentShader:St.meshphong_frag},standard:{uniforms:Gr([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag},toon:{uniforms:Gr([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new Oe(0)}}]),vertexShader:St.meshtoon_vert,fragmentShader:St.meshtoon_frag},matcap:{uniforms:Gr([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:St.meshmatcap_vert,fragmentShader:St.meshmatcap_frag},points:{uniforms:Gr([Fe.points,Fe.fog]),vertexShader:St.points_vert,fragmentShader:St.points_frag},dashed:{uniforms:Gr([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:St.linedashed_vert,fragmentShader:St.linedashed_frag},depth:{uniforms:Gr([Fe.common,Fe.displacementmap]),vertexShader:St.depth_vert,fragmentShader:St.depth_frag},normal:{uniforms:Gr([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:St.meshnormal_vert,fragmentShader:St.meshnormal_frag},sprite:{uniforms:Gr([Fe.sprite,Fe.fog]),vertexShader:St.sprite_vert,fragmentShader:St.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:St.background_vert,fragmentShader:St.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:St.backgroundCube_vert,fragmentShader:St.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:St.cube_vert,fragmentShader:St.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:St.equirect_vert,fragmentShader:St.equirect_frag},distanceRGBA:{uniforms:Gr([Fe.common,Fe.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:St.distanceRGBA_vert,fragmentShader:St.distanceRGBA_frag},shadow:{uniforms:Gr([Fe.lights,Fe.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:St.shadow_vert,fragmentShader:St.shadow_frag}};Vs.physical={uniforms:Gr([Vs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new Me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new Me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag};const Kv={r:0,b:0,g:0};function Nq(n,e,t,r,i,s,o){const a=new Oe(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function v(x,g){let _=!1,b=g.isScene===!0?g.background:null;b&&b.isTexture&&(b=(g.backgroundBlurriness>0?t:e).get(b));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(b=null),b===null?y(a,l):b&&b.isColor&&(y(b,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Ah)?(u===void 0&&(u=new Jn(new sc(1,1,1),new bs({name:"BackgroundCubeMaterial",uniforms:nh(Vs.backgroundCube.uniforms),vertexShader:Vs.backgroundCube.vertexShader,fragmentShader:Vs.backgroundCube.fragmentShader,side:Jr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,I,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=b.encoding!==Dt,(f!==b||p!==b.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Jn(new Eh(2,2),new bs({name:"BackgroundMaterial",uniforms:nh(Vs.background.uniforms),vertexShader:Vs.background.vertexShader,fragmentShader:Vs.background.fragmentShader,side:Po,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=b.encoding!==Dt,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||p!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,g){x.getRGB(Kv,Vz(n)),r.buffers.color.setClear(Kv.r,Kv.g,Kv.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function Fq(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function f(N,J,X,Y,k){let U=!1;if(o){const V=y(Y,X,J);c!==V&&(c=V,m(c.object)),U=g(N,Y,X,k),U&&_(N,Y,X,k)}else{const V=J.wireframe===!0;(c.geometry!==Y.id||c.program!==X.id||c.wireframe!==V)&&(c.geometry=Y.id,c.program=X.id,c.wireframe=V,U=!0)}k!==null&&t.update(k,34963),(U||u)&&(u=!1,B(N,J,X,Y),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return r.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function v(N){return r.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function y(N,J,X){const Y=X.wireframe===!0;let k=a[N.id];k===void 0&&(k={},a[N.id]=k);let U=k[J.id];U===void 0&&(U={},k[J.id]=U);let V=U[Y];return V===void 0&&(V=x(p()),U[Y]=V),V}function x(N){const J=[],X=[],Y=[];for(let k=0;k<i;k++)J[k]=0,X[k]=0,Y[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:X,attributeDivisors:Y,object:N,attributes:{},index:null}}function g(N,J,X,Y){const k=c.attributes,U=J.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){const Z=k[ee];let de=U[ee];if(de===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(de=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(de=N.instanceColor)),Z===void 0||Z.attribute!==de||de&&Z.data!==de.data)return!0;V++}return c.attributesNum!==V||c.index!==Y}function _(N,J,X,Y){const k={},U=J.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){let Z=U[ee];Z===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(Z=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(Z=N.instanceColor));const de={};de.attribute=Z,Z&&Z.data&&(de.data=Z.data),k[ee]=de,V++}c.attributes=k,c.attributesNum=V,c.index=Y}function b(){const N=c.newAttributes;for(let J=0,X=N.length;J<X;J++)N[J]=0}function S(N){E(N,0)}function E(N,J){const X=c.newAttributes,Y=c.enabledAttributes,k=c.attributeDivisors;X[N]=1,Y[N]===0&&(n.enableVertexAttribArray(N),Y[N]=1),k[N]!==J&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,J),k[N]=J)}function M(){const N=c.newAttributes,J=c.enabledAttributes;for(let X=0,Y=J.length;X<Y;X++)J[X]!==N[X]&&(n.disableVertexAttribArray(X),J[X]=0)}function I(N,J,X,Y,k,U){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(N,J,X,k,U):n.vertexAttribPointer(N,J,X,Y,k,U)}function B(N,J,X,Y){if(r.isWebGL2===!1&&(N.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const k=Y.attributes,U=X.getAttributes(),V=J.defaultAttributeValues;for(const q in U){const ee=U[q];if(ee.location>=0){let se=k[q];if(se===void 0&&(q==="instanceMatrix"&&N.instanceMatrix&&(se=N.instanceMatrix),q==="instanceColor"&&N.instanceColor&&(se=N.instanceColor)),se!==void 0){const Z=se.normalized,de=se.itemSize,oe=t.get(se);if(oe===void 0)continue;const Q=oe.buffer,Ee=oe.type,ue=oe.bytesPerElement;if(se.isInterleavedBufferAttribute){const he=se.data,we=he.stride,me=se.offset;if(he.isInstancedInterleavedBuffer){for(let fe=0;fe<ee.locationSize;fe++)E(ee.location+fe,he.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let fe=0;fe<ee.locationSize;fe++)S(ee.location+fe);n.bindBuffer(34962,Q);for(let fe=0;fe<ee.locationSize;fe++)I(ee.location+fe,de/ee.locationSize,Ee,Z,we*ue,(me+de/ee.locationSize*fe)*ue)}else{if(se.isInstancedBufferAttribute){for(let he=0;he<ee.locationSize;he++)E(ee.location+he,se.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let he=0;he<ee.locationSize;he++)S(ee.location+he);n.bindBuffer(34962,Q);for(let he=0;he<ee.locationSize;he++)I(ee.location+he,de/ee.locationSize,Ee,Z,de*ue,de/ee.locationSize*he*ue)}}else if(V!==void 0){const Z=V[q];if(Z!==void 0)switch(Z.length){case 2:n.vertexAttrib2fv(ee.location,Z);break;case 3:n.vertexAttrib3fv(ee.location,Z);break;case 4:n.vertexAttrib4fv(ee.location,Z);break;default:n.vertexAttrib1fv(ee.location,Z)}}}}M()}function T(){z();for(const N in a){const J=a[N];for(const X in J){const Y=J[X];for(const k in Y)v(Y[k].object),delete Y[k];delete J[X]}delete a[N]}}function P(N){if(a[N.id]===void 0)return;const J=a[N.id];for(const X in J){const Y=J[X];for(const k in Y)v(Y[k].object),delete Y[k];delete J[X]}delete a[N.id]}function O(N){for(const J in a){const X=a[J];if(X[N.id]===void 0)continue;const Y=X[N.id];for(const k in Y)v(Y[k].object),delete Y[k];delete X[N.id]}}function z(){H(),u=!0,c!==l&&(c=l,m(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:H,dispose:T,releaseStatesOfGeometry:P,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:S,disableUnusedAttributes:M}}function Uq(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Hq(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),g=n.getParameter(36348),_=n.getParameter(36349),b=p>0,S=o||e.has("OES_texture_float"),E=b&&S,M=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:M}}function zq(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new pl,a=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,y=f.clipIntersection,x=f.clipShadows,g=n.get(f);if(!i||v===null||v.length===0||s&&!x)s?u(null):c();else{const _=s?0:r,b=_*4;let S=g.clippingState||null;l.value=S,S=u(v,p,b,m);for(let E=0;E!==b;++E)S[E]=t[E];g.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,v){const y=f!==null?f.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const g=m+y*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let b=0,S=m;b!==y;++b,S+=4)o.copy(f[b]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Gq(n){let e=new WeakMap;function t(o,a){return a===Qd?o.mapping=Pa:a===Xm&&(o.mapping=Vl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Qd||a===Xm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new pR(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Mh extends Bg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const gd=4,l3=[.125,.215,.35,.446,.526,.582],Wc=20,lS=new Mh,c3=new Oe;let cS=null;const Lc=(1+Math.sqrt(5))/2,Sf=1/Lc,u3=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Lc,Sf),new G(0,Lc,-Sf),new G(Sf,0,Lc),new G(-Sf,0,Lc),new G(Lc,Sf,0),new G(-Lc,Sf,0)];class xM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){cS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=h3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=d3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(cS),e.scissorTest=!1,Xv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Pa||e.mapping===Vl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),cS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:mn,minFilter:mn,generateMipmaps:!1,type:hs,format:ai,encoding:Zs,depthBuffer:!1},i=f3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=f3(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Vq(s)),this._blurMaterial=$q(s,e,t)}return i}_compileMaterial(e){const t=new Jn(this._lodPlanes[0],e);this._renderer.compile(t,lS)}_sceneToCubeUV(e,t,r,i){const a=new qn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(c3),u.toneMapping=Xs,u.autoClear=!1;const m=new Bi({name:"PMREM.Background",side:Jr,depthWrite:!1,depthTest:!1}),v=new Jn(new sc,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(c3),y=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;Xv(i,_*b,g>2?b:0,b,b),u.setRenderTarget(i),y&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Pa||e.mapping===Vl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=h3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=d3());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Xv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,lS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=u3[(i-1)%u3.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Jn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Wc-1),y=s/v,x=isFinite(s)?1+Math.floor(u*y):Wc;x>Wc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Wc}`);const g=[];let _=0;for(let I=0;I<Wc;++I){const B=I/y,T=Math.exp(-B*B/2);g.push(T),I===0?_+=T:I<x&&(_+=2*T)}for(let I=0;I<g.length;I++)g[I]=g[I]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-r;const S=this._sizeLods[i],E=3*S*(i>b-gd?i-b+gd:0),M=4*(this._cubeSize-S);Xv(t,E,M,3*S,2*S),l.setRenderTarget(t),l.render(f,lS)}}function Vq(n){const e=[],t=[],r=[];let i=n;const s=n-gd+1+l3.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-gd?l=l3[o-n+gd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,v=6,y=3,x=2,g=1,_=new Float32Array(y*v*m),b=new Float32Array(x*v*m),S=new Float32Array(g*v*m);for(let M=0;M<m;M++){const I=M%3*2/3-1,B=M>2?0:-1,T=[I,B,0,I+2/3,B,0,I+2/3,B+1,0,I,B,0,I+2/3,B+1,0,I,B+1,0];_.set(T,y*v*M),b.set(p,x*v*M);const P=[M,M,M,M,M,M];S.set(P,g*v*M)}const E=new yt;E.setAttribute("position",new jt(_,y)),E.setAttribute("uv",new jt(b,x)),E.setAttribute("faceIndex",new jt(S,g)),e.push(E),i>gd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function f3(n,e,t){const r=new Hi(n,e,t);return r.texture.mapping=Ah,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Xv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function $q(n,e,t){const r=new Float32Array(Wc),i=new G(0,1,0);return new bs({name:"SphericalGaussianBlur",defines:{n:Wc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:mR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:wa,depthTest:!1,depthWrite:!1})}function d3(){return new bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:wa,depthTest:!1,depthWrite:!1})}function h3(){return new bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:wa,depthTest:!1,depthWrite:!1})}function mR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Wq(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Qd||l===Xm,u=l===Pa||l===Vl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new xM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new xM(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function jq(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Jq(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],34962);const m=f.morphAttributes;for(const v in m){const y=m[v];for(let x=0,g=y.length;x<g;x++)e.update(y[x],34962)}}function c(f){const p=[],m=f.index,v=f.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let b=0,S=_.length;b<S;b+=3){const E=_[b+0],M=_[b+1],I=_[b+2];p.push(E,M,M,I,I,E)}}else{const _=v.array;y=v.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const E=b+0,M=b+1,I=b+2;p.push(E,M,M,I,I,E)}}const x=new(zz(p)?dR:fR)(p,1);x.version=y;const g=s.get(f);g&&e.remove(g),s.set(f,x)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Kq(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function f(p,m,v){if(v===0)return;let y,x;if(i)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function Xq(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Yq(n,e){return n[0]-e[0]}function Qq(n,e){return Math.abs(e[1])-Math.abs(n[1])}function qq(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Ut,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let J=function(){H.dispose(),s.delete(u),u.removeEventListener("dispose",J)};var m=J;x!==void 0&&x.texture.dispose();const b=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let T=0;b===!0&&(T=1),S===!0&&(T=2),E===!0&&(T=3);let P=u.attributes.position.count*T,O=1;P>e.maxTextureSize&&(O=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const z=new Float32Array(P*O*4*y),H=new ab(z,P,O,y);H.type=Pi,H.needsUpdate=!0;const N=T*4;for(let X=0;X<y;X++){const Y=M[X],k=I[X],U=B[X],V=P*O*4*X;for(let q=0;q<Y.count;q++){const ee=q*N;b===!0&&(o.fromBufferAttribute(Y,q),z[V+ee+0]=o.x,z[V+ee+1]=o.y,z[V+ee+2]=o.z,z[V+ee+3]=0),S===!0&&(o.fromBufferAttribute(k,q),z[V+ee+4]=o.x,z[V+ee+5]=o.y,z[V+ee+6]=o.z,z[V+ee+7]=0),E===!0&&(o.fromBufferAttribute(U,q),z[V+ee+8]=o.x,z[V+ee+9]=o.y,z[V+ee+10]=o.z,z[V+ee+11]=U.itemSize===4?o.w:1)}}x={count:y,texture:H,size:new Me(P,O)},s.set(u,x),u.addEventListener("dispose",J)}let g=0;for(let b=0;b<p.length;b++)g+=p[b];const _=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let S=0;S<v;S++)y[S]=[S,0];r[u.id]=y}for(let S=0;S<v;S++){const E=y[S];E[0]=S,E[1]=p[S]}y.sort(Qq);for(let S=0;S<8;S++)S<v&&y[S][1]?(a[S][0]=y[S][0],a[S][1]=y[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(Yq);const x=u.morphAttributes.position,g=u.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const E=a[S],M=E[0],I=E[1];M!==Number.MAX_SAFE_INTEGER&&I?(x&&u.getAttribute("morphTarget"+S)!==x[M]&&u.setAttribute("morphTarget"+S,x[M]),g&&u.getAttribute("morphNormal"+S)!==g[M]&&u.setAttribute("morphNormal"+S,g[M]),i[S]=I,_+=I):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),g&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const b=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Zq(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const jz=new bn,Jz=new ab,Kz=new uR,Xz=new Lg,p3=[],m3=[],g3=new Float32Array(16),v3=new Float32Array(9),y3=new Float32Array(4);function Ch(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=p3[i];if(s===void 0&&(s=new Float32Array(i),p3[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function tr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function nr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function cb(n,e){let t=m3[e];t===void 0&&(t=new Int32Array(e),m3[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function eZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function tZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tr(t,e))return;n.uniform2fv(this.addr,e),nr(t,e)}}function nZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(tr(t,e))return;n.uniform3fv(this.addr,e),nr(t,e)}}function rZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tr(t,e))return;n.uniform4fv(this.addr,e),nr(t,e)}}function iZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),nr(t,e)}else{if(tr(t,r))return;y3.set(r),n.uniformMatrix2fv(this.addr,!1,y3),nr(t,r)}}function sZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),nr(t,e)}else{if(tr(t,r))return;v3.set(r),n.uniformMatrix3fv(this.addr,!1,v3),nr(t,r)}}function oZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),nr(t,e)}else{if(tr(t,r))return;g3.set(r),n.uniformMatrix4fv(this.addr,!1,g3),nr(t,r)}}function aZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function lZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tr(t,e))return;n.uniform2iv(this.addr,e),nr(t,e)}}function cZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(tr(t,e))return;n.uniform3iv(this.addr,e),nr(t,e)}}function uZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tr(t,e))return;n.uniform4iv(this.addr,e),nr(t,e)}}function fZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function dZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tr(t,e))return;n.uniform2uiv(this.addr,e),nr(t,e)}}function hZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(tr(t,e))return;n.uniform3uiv(this.addr,e),nr(t,e)}}function pZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tr(t,e))return;n.uniform4uiv(this.addr,e),nr(t,e)}}function mZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||jz,i)}function gZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Kz,i)}function vZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Xz,i)}function yZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Jz,i)}function xZ(n){switch(n){case 5126:return eZ;case 35664:return tZ;case 35665:return nZ;case 35666:return rZ;case 35674:return iZ;case 35675:return sZ;case 35676:return oZ;case 5124:case 35670:return aZ;case 35667:case 35671:return lZ;case 35668:case 35672:return cZ;case 35669:case 35673:return uZ;case 5125:return fZ;case 36294:return dZ;case 36295:return hZ;case 36296:return pZ;case 35678:case 36198:case 36298:case 36306:case 35682:return mZ;case 35679:case 36299:case 36307:return gZ;case 35680:case 36300:case 36308:case 36293:return vZ;case 36289:case 36303:case 36311:case 36292:return yZ}}function bZ(n,e){n.uniform1fv(this.addr,e)}function _Z(n,e){const t=Ch(e,this.size,2);n.uniform2fv(this.addr,t)}function wZ(n,e){const t=Ch(e,this.size,3);n.uniform3fv(this.addr,t)}function SZ(n,e){const t=Ch(e,this.size,4);n.uniform4fv(this.addr,t)}function AZ(n,e){const t=Ch(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function EZ(n,e){const t=Ch(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function MZ(n,e){const t=Ch(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function CZ(n,e){n.uniform1iv(this.addr,e)}function TZ(n,e){n.uniform2iv(this.addr,e)}function RZ(n,e){n.uniform3iv(this.addr,e)}function PZ(n,e){n.uniform4iv(this.addr,e)}function IZ(n,e){n.uniform1uiv(this.addr,e)}function BZ(n,e){n.uniform2uiv(this.addr,e)}function LZ(n,e){n.uniform3uiv(this.addr,e)}function DZ(n,e){n.uniform4uiv(this.addr,e)}function OZ(n,e,t){const r=this.cache,i=e.length,s=cb(t,i);tr(r,s)||(n.uniform1iv(this.addr,s),nr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||jz,s[o])}function kZ(n,e,t){const r=this.cache,i=e.length,s=cb(t,i);tr(r,s)||(n.uniform1iv(this.addr,s),nr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Kz,s[o])}function NZ(n,e,t){const r=this.cache,i=e.length,s=cb(t,i);tr(r,s)||(n.uniform1iv(this.addr,s),nr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Xz,s[o])}function FZ(n,e,t){const r=this.cache,i=e.length,s=cb(t,i);tr(r,s)||(n.uniform1iv(this.addr,s),nr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Jz,s[o])}function UZ(n){switch(n){case 5126:return bZ;case 35664:return _Z;case 35665:return wZ;case 35666:return SZ;case 35674:return AZ;case 35675:return EZ;case 35676:return MZ;case 5124:case 35670:return CZ;case 35667:case 35671:return TZ;case 35668:case 35672:return RZ;case 35669:case 35673:return PZ;case 5125:return IZ;case 36294:return BZ;case 36295:return LZ;case 36296:return DZ;case 35678:case 36198:case 36298:case 36306:case 35682:return OZ;case 35679:case 36299:case 36307:return kZ;case 35680:case 36300:case 36308:case 36293:return NZ;case 36289:case 36303:case 36311:case 36292:return FZ}}class HZ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=xZ(t.type)}}class zZ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=UZ(t.type)}}class GZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const uS=/(\w+)(\])?(\[|\.)?/g;function x3(n,e){n.seq.push(e),n.map[e.id]=e}function VZ(n,e,t){const r=n.name,i=r.length;for(uS.lastIndex=0;;){const s=uS.exec(r),o=uS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){x3(t,c===void 0?new HZ(a,n,e):new zZ(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new GZ(a),x3(t,f)),t=f}}}class ax{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);VZ(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function b3(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let $Z=0;function WZ(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function jZ(n){switch(n){case Zs:return["Linear","( value )"];case Dt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function _3(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+WZ(n.getShaderSource(e),o)}else return i}function JZ(n,e){const t=jZ(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function KZ(n,e){let t;switch(e){case dz:t="Linear";break;case hz:t="Reinhard";break;case pz:t="OptimizedCineon";break;case rR:t="ACESFilmic";break;case mz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function XZ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(em).join(`
`)}function YZ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function QZ(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function em(n){return n!==""}function w3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function S3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function bM(n){return n.replace(qZ,ZZ)}function ZZ(n,e){const t=St[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return bM(t)}const eee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function A3(n){return n.replace(eee,tee)}function tee(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function E3(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nee(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===rb?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===gm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xc&&(e="SHADOWMAP_TYPE_VSM"),e}function ree(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Pa:case Vl:e="ENVMAP_TYPE_CUBE";break;case Ah:e="ENVMAP_TYPE_CUBE_UV";break}return e}function iee(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vl:e="ENVMAP_MODE_REFRACTION";break}return e}function see(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Pg:e="ENVMAP_BLENDING_MULTIPLY";break;case uz:e="ENVMAP_BLENDING_MIX";break;case fz:e="ENVMAP_BLENDING_ADD";break}return e}function oee(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function aee(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=nee(t),c=ree(t),u=iee(t),f=see(t),p=oee(t),m=t.isWebGL2?"":XZ(t),v=YZ(s),y=i.createProgram();let x,g,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(em).join(`
`),x.length>0&&(x+=`
`),g=[m,v].filter(em).join(`
`),g.length>0&&(g+=`
`)):(x=[E3(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(em).join(`
`),g=[m,E3(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xs?"#define TONE_MAPPING":"",t.toneMapping!==Xs?St.tonemapping_pars_fragment:"",t.toneMapping!==Xs?KZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",St.encodings_pars_fragment,JZ("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(em).join(`
`)),o=bM(o),o=w3(o,t),o=S3(o,t),a=bM(a),a=w3(a,t),a=S3(a,t),o=A3(o),a=A3(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===vM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===vM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=_+x+o,S=_+g+a,E=b3(i,35633,b),M=b3(i,35632,S);if(i.attachShader(y,E),i.attachShader(y,M),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(y).trim(),P=i.getShaderInfoLog(E).trim(),O=i.getShaderInfoLog(M).trim();let z=!0,H=!0;if(i.getProgramParameter(y,35714)===!1)if(z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,E,M);else{const N=_3(i,E,"vertex"),J=_3(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+T+`
`+N+`
`+J)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(P===""||O==="")&&(H=!1);H&&(this.diagnostics={runnable:z,programLog:T,vertexShader:{log:P,prefix:x},fragmentShader:{log:O,prefix:g}})}i.deleteShader(E),i.deleteShader(M);let I;this.getUniforms=function(){return I===void 0&&(I=new ax(i,y)),I};let B;return this.getAttributes=function(){return B===void 0&&(B=QZ(i,y)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=$Z++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let lee=0;class cee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new uee(e),t.set(e,r)),r}}class uee{constructor(e){this.id=lee++,this.code=e,this.usedTimes=0}}function fee(n,e,t,r,i,s,o){const a=new uu,l=new cee,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return T===1?"uv2":"uv"}function x(T,P,O,z,H){const N=z.fog,J=H.geometry,X=T.isMeshStandardMaterial?z.environment:null,Y=(T.isMeshStandardMaterial?t:e).get(T.envMap||X),k=Y&&Y.mapping===Ah?Y.image.height:null,U=v[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const V=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,q=V!==void 0?V.length:0;let ee=0;J.morphAttributes.position!==void 0&&(ee=1),J.morphAttributes.normal!==void 0&&(ee=2),J.morphAttributes.color!==void 0&&(ee=3);let se,Z,de,oe;if(U){const He=Vs[U];se=He.vertexShader,Z=He.fragmentShader}else se=T.vertexShader,Z=T.fragmentShader,l.update(T),de=l.getVertexShaderID(T),oe=l.getFragmentShaderID(T);const Q=n.getRenderTarget(),Ee=H.isInstancedMesh===!0,ue=!!T.map,he=!!T.matcap,we=!!Y,me=!!T.aoMap,fe=!!T.lightMap,be=!!T.bumpMap,De=!!T.normalMap,Pe=!!T.displacementMap,ke=!!T.emissiveMap,Ae=!!T.metalnessMap,Be=!!T.roughnessMap,Ve=T.clearcoat>0,ft=T.iridescence>0,W=T.sheen>0,F=T.transmission>0,pe=Ve&&!!T.clearcoatMap,Ce=Ve&&!!T.clearcoatNormalMap,Te=Ve&&!!T.clearcoatRoughnessMap,Ne=ft&&!!T.iridescenceMap,rt=ft&&!!T.iridescenceThicknessMap,Ge=W&&!!T.sheenColorMap,xe=W&&!!T.sheenRoughnessMap,Ke=!!T.specularMap,Ye=!!T.specularColorMap,it=!!T.specularIntensityMap,$e=F&&!!T.transmissionMap,Qe=F&&!!T.thicknessMap,_t=!!T.gradientMap,It=!!T.alphaMap,Wt=T.alphaTest>0,te=!!T.extensions,ye=!!J.attributes.uv2;return{isWebGL2:u,shaderID:U,shaderName:T.type,vertexShader:se,fragmentShader:Z,defines:T.defines,customVertexShaderID:de,customFragmentShaderID:oe,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:Ee,instancingColor:Ee&&H.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:Zs,map:ue,matcap:he,envMap:we,envMapMode:we&&Y.mapping,envMapCubeUVHeight:k,aoMap:me,lightMap:fe,bumpMap:be,normalMap:De,displacementMap:p&&Pe,emissiveMap:ke,normalMapObjectSpace:De&&T.normalMapType===Nz,normalMapTangentSpace:De&&T.normalMapType===Fa,decodeVideoTexture:ue&&T.map.isVideoTexture===!0&&T.map.encoding===Dt,metalnessMap:Ae,roughnessMap:Be,clearcoat:Ve,clearcoatMap:pe,clearcoatNormalMap:Ce,clearcoatRoughnessMap:Te,iridescence:ft,iridescenceMap:Ne,iridescenceThicknessMap:rt,sheen:W,sheenColorMap:Ge,sheenRoughnessMap:xe,specularMap:Ke,specularColorMap:Ye,specularIntensityMap:it,transmission:F,transmissionMap:$e,thicknessMap:Qe,gradientMap:_t,opaque:T.transparent===!1&&T.blending===au,alphaMap:It,alphaTest:Wt,combine:T.combine,mapUv:ue&&y(T.map.channel),aoMapUv:me&&y(T.aoMap.channel),lightMapUv:fe&&y(T.lightMap.channel),bumpMapUv:be&&y(T.bumpMap.channel),normalMapUv:De&&y(T.normalMap.channel),displacementMapUv:Pe&&y(T.displacementMap.channel),emissiveMapUv:ke&&y(T.emissiveMap.channel),metalnessMapUv:Ae&&y(T.metalnessMap.channel),roughnessMapUv:Be&&y(T.roughnessMap.channel),clearcoatMapUv:pe&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Ne&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:rt&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:Ge&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:xe&&y(T.sheenRoughnessMap.channel),specularMapUv:Ke&&y(T.specularMap.channel),specularColorMapUv:Ye&&y(T.specularColorMap.channel),specularIntensityMapUv:it&&y(T.specularIntensityMap.channel),transmissionMapUv:$e&&y(T.transmissionMap.channel),thicknessMapUv:Qe&&y(T.thicknessMap.channel),alphaMapUv:It&&y(T.alphaMap.channel),vertexTangents:De&&!!J.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUvs2:ye,pointsUvs:H.isPoints===!0&&!!J.attributes.uv&&(ue||It),fog:!!N,useFog:T.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:H.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ee,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Xs,useLegacyLights:n.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===us,flipSided:T.side===Jr,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:te&&T.extensions.derivatives===!0,extensionFragDepth:te&&T.extensions.fragDepth===!0,extensionDrawBuffers:te&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:te&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const P=[];if(T.shaderID?P.push(T.shaderID):(P.push(T.customVertexShaderID),P.push(T.customFragmentShaderID)),T.defines!==void 0)for(const O in T.defines)P.push(O),P.push(T.defines[O]);return T.isRawShaderMaterial===!1&&(_(P,T),b(P,T),P.push(n.outputEncoding)),P.push(T.customProgramCacheKey),P.join()}function _(T,P){T.push(P.precision),T.push(P.outputEncoding),T.push(P.envMapMode),T.push(P.envMapCubeUVHeight),T.push(P.mapUv),T.push(P.alphaMapUv),T.push(P.lightMapUv),T.push(P.aoMapUv),T.push(P.bumpMapUv),T.push(P.normalMapUv),T.push(P.displacementMapUv),T.push(P.emissiveMapUv),T.push(P.metalnessMapUv),T.push(P.roughnessMapUv),T.push(P.clearcoatMapUv),T.push(P.clearcoatNormalMapUv),T.push(P.clearcoatRoughnessMapUv),T.push(P.iridescenceMapUv),T.push(P.iridescenceThicknessMapUv),T.push(P.sheenColorMapUv),T.push(P.sheenRoughnessMapUv),T.push(P.specularMapUv),T.push(P.specularColorMapUv),T.push(P.specularIntensityMapUv),T.push(P.transmissionMapUv),T.push(P.thicknessMapUv),T.push(P.combine),T.push(P.fogExp2),T.push(P.sizeAttenuation),T.push(P.morphTargetsCount),T.push(P.morphAttributeCount),T.push(P.numDirLights),T.push(P.numPointLights),T.push(P.numSpotLights),T.push(P.numSpotLightMaps),T.push(P.numHemiLights),T.push(P.numRectAreaLights),T.push(P.numDirLightShadows),T.push(P.numPointLightShadows),T.push(P.numSpotLightShadows),T.push(P.numSpotLightShadowsWithMaps),T.push(P.shadowMapType),T.push(P.toneMapping),T.push(P.numClippingPlanes),T.push(P.numClipIntersection),T.push(P.depthPacking)}function b(T,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUvs2&&a.enable(13),P.vertexTangents&&a.enable(14),T.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.decodeVideoTexture&&a.enable(17),P.opaque&&a.enable(18),P.pointsUvs&&a.enable(19),T.push(a.mask)}function S(T){const P=v[T.type];let O;if(P){const z=Vs[P];O=hR.clone(z.uniforms)}else O=T.uniforms;return O}function E(T,P){let O;for(let z=0,H=c.length;z<H;z++){const N=c[z];if(N.cacheKey===P){O=N,++O.usedTimes;break}}return O===void 0&&(O=new aee(n,P,T,s),c.push(O)),O}function M(T){if(--T.usedTimes===0){const P=c.indexOf(T);c[P]=c[c.length-1],c.pop(),T.destroy()}}function I(T){l.remove(T)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:S,acquireProgram:E,releaseProgram:M,releaseShaderCache:I,programs:c,dispose:B}}function dee(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function hee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function M3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function C3(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,v,y,x){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:y,group:x},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=y,g.group=x),e++,g}function a(f,p,m,v,y,x){const g=o(f,p,m,v,y,x);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,v,y,x){const g=o(f,p,m,v,y,x);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,p){t.length>1&&t.sort(f||hee),r.length>1&&r.sort(p||M3),i.length>1&&i.sort(p||M3)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function pee(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new C3,n.set(r,[o])):i>=s.length?(o=new C3,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function mee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new G,color:new Oe};break;case"SpotLight":t={position:new G,direction:new G,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new G,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new G,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":t={color:new Oe,position:new G,halfWidth:new G,halfHeight:new G};break}return n[e.id]=t,t}}}function gee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let vee=0;function yee(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function xee(n,e){const t=new mee,r=gee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new G);const s=new G,o=new ut,a=new ut;function l(u,f){let p=0,m=0,v=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let y=0,x=0,g=0,_=0,b=0,S=0,E=0,M=0,I=0,B=0;u.sort(yee);const T=f===!0?Math.PI:1;for(let O=0,z=u.length;O<z;O++){const H=u[O],N=H.color,J=H.intensity,X=H.distance,Y=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=N.r*J*T,m+=N.g*J*T,v+=N.b*J*T;else if(H.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(H.sh.coefficients[k],J);else if(H.isDirectionalLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*T),H.castShadow){const U=H.shadow,V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.directionalShadow[y]=V,i.directionalShadowMap[y]=Y,i.directionalShadowMatrix[y]=H.shadow.matrix,S++}i.directional[y]=k,y++}else if(H.isSpotLight){const k=t.get(H);k.position.setFromMatrixPosition(H.matrixWorld),k.color.copy(N).multiplyScalar(J*T),k.distance=X,k.coneCos=Math.cos(H.angle),k.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),k.decay=H.decay,i.spot[g]=k;const U=H.shadow;if(H.map&&(i.spotLightMap[I]=H.map,I++,U.updateMatrices(H),H.castShadow&&B++),i.spotLightMatrix[g]=U.matrix,H.castShadow){const V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.spotShadow[g]=V,i.spotShadowMap[g]=Y,M++}g++}else if(H.isRectAreaLight){const k=t.get(H);k.color.copy(N).multiplyScalar(J),k.halfWidth.set(H.width*.5,0,0),k.halfHeight.set(0,H.height*.5,0),i.rectArea[_]=k,_++}else if(H.isPointLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*T),k.distance=H.distance,k.decay=H.decay,H.castShadow){const U=H.shadow,V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,V.shadowCameraNear=U.camera.near,V.shadowCameraFar=U.camera.far,i.pointShadow[x]=V,i.pointShadowMap[x]=Y,i.pointShadowMatrix[x]=H.shadow.matrix,E++}i.point[x]=k,x++}else if(H.isHemisphereLight){const k=t.get(H);k.skyColor.copy(H.color).multiplyScalar(J*T),k.groundColor.copy(H.groundColor).multiplyScalar(J*T),i.hemi[b]=k,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const P=i.hash;(P.directionalLength!==y||P.pointLength!==x||P.spotLength!==g||P.rectAreaLength!==_||P.hemiLength!==b||P.numDirectionalShadows!==S||P.numPointShadows!==E||P.numSpotShadows!==M||P.numSpotMaps!==I)&&(i.directional.length=y,i.spot.length=g,i.rectArea.length=_,i.point.length=x,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=M+I-B,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=B,P.directionalLength=y,P.pointLength=x,P.spotLength=g,P.rectAreaLength=_,P.hemiLength=b,P.numDirectionalShadows=S,P.numPointShadows=E,P.numSpotShadows=M,P.numSpotMaps=I,i.version=vee++)}function c(u,f){let p=0,m=0,v=0,y=0,x=0;const g=f.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const S=u[_];if(S.isDirectionalLight){const E=i.directional[p];E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),p++}else if(S.isSpotLight){const E=i.spot[v];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),v++}else if(S.isRectAreaLight){const E=i.rectArea[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),a.identity(),o.copy(S.matrixWorld),o.premultiply(g),a.extractRotation(o),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),y++}else if(S.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),m++}else if(S.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:i}}function T3(n,e){const t=new xee(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function bee(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new T3(n,e),t.set(s,[l])):o>=a.length?(l=new T3(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class gR extends Xn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Oz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vR extends Xn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _ee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function See(n,e,t){let r=new lb;const i=new Me,s=new Me,o=new Ut,a=new gR({depthPacking:kz}),l=new vR,c={},u=t.maxTextureSize,f={[Po]:Jr,[Jr]:Po,[us]:us},p=new bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Me},radius:{value:4}},vertexShader:_ee,fragmentShader:wee}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new yt;v.setAttribute("position",new jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Jn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rb,this.render=function(S,E,M){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const I=n.getRenderTarget(),B=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),P=n.state;P.setBlending(wa),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let O=0,z=S.length;O<z;O++){const H=S[O],N=H.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const J=N.getFrameExtents();if(i.multiply(J),s.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/J.x),i.x=s.x*J.x,N.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/J.y),i.y=s.y*J.y,N.mapSize.y=s.y)),N.map===null){const Y=this.type!==Xc?{minFilter:Pn,magFilter:Pn}:{};N.map=new Hi(i.x,i.y,Y),N.map.texture.name=H.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const X=N.getViewportCount();for(let Y=0;Y<X;Y++){const k=N.getViewport(Y);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),P.viewport(o),N.updateMatrices(H,Y),r=N.getFrustum(),b(E,M,N.camera,H,this.type)}N.isPointLightShadow!==!0&&this.type===Xc&&g(N,M),N.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(I,B,T)};function g(S,E){const M=e.update(y);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Hi(i.x,i.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,M,p,y,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,M,m,y,null)}function _(S,E,M,I){let B=null;const T=M.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(T!==void 0)B=T;else if(B=M.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const P=B.uuid,O=E.uuid;let z=c[P];z===void 0&&(z={},c[P]=z);let H=z[O];H===void 0&&(H=B.clone(),z[O]=H),B=H}if(B.visible=E.visible,B.wireframe=E.wireframe,I===Xc?B.side=E.shadowSide!==null?E.shadowSide:E.side:B.side=E.shadowSide!==null?E.shadowSide:f[E.side],B.alphaMap=E.alphaMap,B.alphaTest=E.alphaTest,B.map=E.map,B.clipShadows=E.clipShadows,B.clippingPlanes=E.clippingPlanes,B.clipIntersection=E.clipIntersection,B.displacementMap=E.displacementMap,B.displacementScale=E.displacementScale,B.displacementBias=E.displacementBias,B.wireframeLinewidth=E.wireframeLinewidth,B.linewidth=E.linewidth,M.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const P=n.properties.get(B);P.light=M}return B}function b(S,E,M,I,B){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&B===Xc)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,S.matrixWorld);const O=e.update(S),z=S.material;if(Array.isArray(z)){const H=O.groups;for(let N=0,J=H.length;N<J;N++){const X=H[N],Y=z[X.materialIndex];if(Y&&Y.visible){const k=_(S,Y,I,B);n.renderBufferDirect(M,null,O,k,S,X)}}}else if(z.visible){const H=_(S,z,I,B);n.renderBufferDirect(M,null,O,H,S,null)}}const P=S.children;for(let O=0,z=P.length;O<z;O++)b(P[O],E,M,I,B)}}function Aee(n,e,t){const r=t.isWebGL2;function i(){let te=!1;const ye=new Ut;let Re=null;const He=new Ut(0,0,0,0);return{setMask:function(Ze){Re!==Ze&&!te&&(n.colorMask(Ze,Ze,Ze,Ze),Re=Ze)},setLocked:function(Ze){te=Ze},setClear:function(Ze,Jt,en,Fn,yi){yi===!0&&(Ze*=Fn,Jt*=Fn,en*=Fn),ye.set(Ze,Jt,en,Fn),He.equals(ye)===!1&&(n.clearColor(Ze,Jt,en,Fn),He.copy(ye))},reset:function(){te=!1,Re=null,He.set(-1,0,0,0)}}}function s(){let te=!1,ye=null,Re=null,He=null;return{setTest:function(Ze){Ze?Q(2929):Ee(2929)},setMask:function(Ze){ye!==Ze&&!te&&(n.depthMask(Ze),ye=Ze)},setFunc:function(Ze){if(Re!==Ze){switch(Ze){case rz:n.depthFunc(512);break;case iz:n.depthFunc(519);break;case sz:n.depthFunc(513);break;case Kx:n.depthFunc(515);break;case oz:n.depthFunc(514);break;case az:n.depthFunc(518);break;case lz:n.depthFunc(516);break;case cz:n.depthFunc(517);break;default:n.depthFunc(515)}Re=Ze}},setLocked:function(Ze){te=Ze},setClear:function(Ze){He!==Ze&&(n.clearDepth(Ze),He=Ze)},reset:function(){te=!1,ye=null,Re=null,He=null}}}function o(){let te=!1,ye=null,Re=null,He=null,Ze=null,Jt=null,en=null,Fn=null,yi=null;return{setTest:function(qt){te||(qt?Q(2960):Ee(2960))},setMask:function(qt){ye!==qt&&!te&&(n.stencilMask(qt),ye=qt)},setFunc:function(qt,rr,Sr){(Re!==qt||He!==rr||Ze!==Sr)&&(n.stencilFunc(qt,rr,Sr),Re=qt,He=rr,Ze=Sr)},setOp:function(qt,rr,Sr){(Jt!==qt||en!==rr||Fn!==Sr)&&(n.stencilOp(qt,rr,Sr),Jt=qt,en=rr,Fn=Sr)},setLocked:function(qt){te=qt},setClear:function(qt){yi!==qt&&(n.clearStencil(qt),yi=qt)},reset:function(){te=!1,ye=null,Re=null,He=null,Ze=null,Jt=null,en=null,Fn=null,yi=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,y=[],x=null,g=!1,_=null,b=null,S=null,E=null,M=null,I=null,B=null,T=!1,P=null,O=null,z=null,H=null,N=null;const J=n.getParameter(35661);let X=!1,Y=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(k)[1]),X=Y>=1):k.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),X=Y>=2);let U=null,V={};const q=n.getParameter(3088),ee=n.getParameter(2978),se=new Ut().fromArray(q),Z=new Ut().fromArray(ee);function de(te,ye,Re){const He=new Uint8Array(4),Ze=n.createTexture();n.bindTexture(te,Ze),n.texParameteri(te,10241,9728),n.texParameteri(te,10240,9728);for(let Jt=0;Jt<Re;Jt++)n.texImage2D(ye+Jt,0,6408,1,1,0,6408,5121,He);return Ze}const oe={};oe[3553]=de(3553,3553,1),oe[34067]=de(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Q(2929),l.setFunc(Kx),Pe(!1),ke(GE),Q(2884),be(wa);function Q(te){p[te]!==!0&&(n.enable(te),p[te]=!0)}function Ee(te){p[te]!==!1&&(n.disable(te),p[te]=!1)}function ue(te,ye){return m[te]!==ye?(n.bindFramebuffer(te,ye),m[te]=ye,r&&(te===36009&&(m[36160]=ye),te===36160&&(m[36009]=ye)),!0):!1}function he(te,ye){let Re=y,He=!1;if(te)if(Re=v.get(ye),Re===void 0&&(Re=[],v.set(ye,Re)),te.isWebGLMultipleRenderTargets){const Ze=te.texture;if(Re.length!==Ze.length||Re[0]!==36064){for(let Jt=0,en=Ze.length;Jt<en;Jt++)Re[Jt]=36064+Jt;Re.length=Ze.length,He=!0}}else Re[0]!==36064&&(Re[0]=36064,He=!0);else Re[0]!==1029&&(Re[0]=1029,He=!0);He&&(t.isWebGL2?n.drawBuffers(Re):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Re))}function we(te){return x!==te?(n.useProgram(te),x=te,!0):!1}const me={[$c]:32774,[jH]:32778,[JH]:32779};if(r)me[jE]=32775,me[JE]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(me[jE]=te.MIN_EXT,me[JE]=te.MAX_EXT)}const fe={[KH]:0,[XH]:1,[YH]:768,[tR]:770,[nz]:776,[ez]:774,[qH]:772,[QH]:769,[nR]:771,[tz]:775,[ZH]:773};function be(te,ye,Re,He,Ze,Jt,en,Fn){if(te===wa){g===!0&&(Ee(3042),g=!1);return}if(g===!1&&(Q(3042),g=!0),te!==WH){if(te!==_||Fn!==T){if((b!==$c||M!==$c)&&(n.blendEquation(32774),b=$c,M=$c),Fn)switch(te){case au:n.blendFuncSeparate(1,771,1,771);break;case VE:n.blendFunc(1,1);break;case $E:n.blendFuncSeparate(0,769,0,1);break;case WE:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case au:n.blendFuncSeparate(770,771,1,771);break;case VE:n.blendFunc(770,1);break;case $E:n.blendFuncSeparate(0,769,0,1);break;case WE:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}S=null,E=null,I=null,B=null,_=te,T=Fn}return}Ze=Ze||ye,Jt=Jt||Re,en=en||He,(ye!==b||Ze!==M)&&(n.blendEquationSeparate(me[ye],me[Ze]),b=ye,M=Ze),(Re!==S||He!==E||Jt!==I||en!==B)&&(n.blendFuncSeparate(fe[Re],fe[He],fe[Jt],fe[en]),S=Re,E=He,I=Jt,B=en),_=te,T=!1}function De(te,ye){te.side===us?Ee(2884):Q(2884);let Re=te.side===Jr;ye&&(Re=!Re),Pe(Re),te.blending===au&&te.transparent===!1?be(wa):be(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const He=te.stencilWrite;c.setTest(He),He&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Be(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Q(32926):Ee(32926)}function Pe(te){P!==te&&(te?n.frontFace(2304):n.frontFace(2305),P=te)}function ke(te){te!==GH?(Q(2884),te!==O&&(te===GE?n.cullFace(1029):te===VH?n.cullFace(1028):n.cullFace(1032))):Ee(2884),O=te}function Ae(te){te!==z&&(X&&n.lineWidth(te),z=te)}function Be(te,ye,Re){te?(Q(32823),(H!==ye||N!==Re)&&(n.polygonOffset(ye,Re),H=ye,N=Re)):Ee(32823)}function Ve(te){te?Q(3089):Ee(3089)}function ft(te){te===void 0&&(te=33984+J-1),U!==te&&(n.activeTexture(te),U=te)}function W(te,ye,Re){Re===void 0&&(U===null?Re=33984+J-1:Re=U);let He=V[Re];He===void 0&&(He={type:void 0,texture:void 0},V[Re]=He),(He.type!==te||He.texture!==ye)&&(U!==Re&&(n.activeTexture(Re),U=Re),n.bindTexture(te,ye||oe[te]),He.type=te,He.texture=ye)}function F(){const te=V[U];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function pe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ne(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function rt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ge(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function xe(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ke(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ye(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function it(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function $e(te){se.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),se.copy(te))}function Qe(te){Z.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),Z.copy(te))}function _t(te,ye){let Re=f.get(ye);Re===void 0&&(Re=new WeakMap,f.set(ye,Re));let He=Re.get(te);He===void 0&&(He=n.getUniformBlockIndex(ye,te.name),Re.set(te,He))}function It(te,ye){const He=f.get(ye).get(te);u.get(ye)!==He&&(n.uniformBlockBinding(ye,He,te.__bindingPointIndex),u.set(ye,He))}function Wt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},U=null,V={},m={},v=new WeakMap,y=[],x=null,g=!1,_=null,b=null,S=null,E=null,M=null,I=null,B=null,T=!1,P=null,O=null,z=null,H=null,N=null,se.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Q,disable:Ee,bindFramebuffer:ue,drawBuffers:he,useProgram:we,setBlending:be,setMaterial:De,setFlipSided:Pe,setCullFace:ke,setLineWidth:Ae,setPolygonOffset:Be,setScissorTest:Ve,activeTexture:ft,bindTexture:W,unbindTexture:F,compressedTexImage2D:pe,compressedTexImage3D:Ce,texImage2D:Ye,texImage3D:it,updateUBOMapping:_t,uniformBlockBinding:It,texStorage2D:xe,texStorage3D:Ke,texSubImage2D:Te,texSubImage3D:Ne,compressedTexSubImage2D:rt,compressedTexSubImage3D:Ge,scissor:$e,viewport:Qe,reset:Wt}}function Eee(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(W,F){return g?new OffscreenCanvas(W,F):Zm("canvas")}function b(W,F,pe,Ce){let Te=1;if((W.width>Ce||W.height>Ce)&&(Te=Ce/Math.max(W.width,W.height)),Te<1||F===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Ne=F?Hz:Math.floor,rt=Ne(Te*W.width),Ge=Ne(Te*W.height);y===void 0&&(y=_(rt,Ge));const xe=pe?_(rt,Ge):y;return xe.width=rt,xe.height=Ge,xe.getContext("2d").drawImage(W,0,0,rt,Ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+rt+"x"+Ge+")."),xe}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function S(W){return yM(W.width)&&yM(W.height)}function E(W){return a?!1:W.wrapS!==xr||W.wrapT!==xr||W.minFilter!==Pn&&W.minFilter!==mn}function M(W,F){return W.generateMipmaps&&F&&W.minFilter!==Pn&&W.minFilter!==mn}function I(W){n.generateMipmap(W)}function B(W,F,pe,Ce,Te=!1){if(a===!1)return F;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Ne=F;return F===6403&&(pe===5126&&(Ne=33326),pe===5131&&(Ne=33325),pe===5121&&(Ne=33321)),F===33319&&(pe===5126&&(Ne=33328),pe===5131&&(Ne=33327),pe===5121&&(Ne=33323)),F===6408&&(pe===5126&&(Ne=34836),pe===5131&&(Ne=34842),pe===5121&&(Ne=Ce===Dt&&Te===!1?35907:32856),pe===32819&&(Ne=32854),pe===32820&&(Ne=32855)),(Ne===33325||Ne===33326||Ne===33327||Ne===33328||Ne===34842||Ne===34836)&&e.get("EXT_color_buffer_float"),Ne}function T(W,F,pe){return M(W,pe)===!0||W.isFramebufferTexture&&W.minFilter!==Pn&&W.minFilter!==mn?Math.log2(Math.max(F.width,F.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?F.mipmaps.length:1}function P(W){return W===Pn||W===Ym||W===Id?9728:9729}function O(W){const F=W.target;F.removeEventListener("dispose",O),H(F),F.isVideoTexture&&v.delete(F)}function z(W){const F=W.target;F.removeEventListener("dispose",z),J(F)}function H(W){const F=r.get(W);if(F.__webglInit===void 0)return;const pe=W.source,Ce=x.get(pe);if(Ce){const Te=Ce[F.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&N(W),Object.keys(Ce).length===0&&x.delete(pe)}r.remove(W)}function N(W){const F=r.get(W);n.deleteTexture(F.__webglTexture);const pe=W.source,Ce=x.get(pe);delete Ce[F.__cacheKey],o.memory.textures--}function J(W){const F=W.texture,pe=r.get(W),Ce=r.get(F);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(pe.__webglFramebuffer[Te]),pe.__webglDepthbuffer&&n.deleteRenderbuffer(pe.__webglDepthbuffer[Te]);else{if(n.deleteFramebuffer(pe.__webglFramebuffer),pe.__webglDepthbuffer&&n.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer)for(let Te=0;Te<pe.__webglColorRenderbuffer.length;Te++)pe.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(pe.__webglColorRenderbuffer[Te]);pe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(pe.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Te=0,Ne=F.length;Te<Ne;Te++){const rt=r.get(F[Te]);rt.__webglTexture&&(n.deleteTexture(rt.__webglTexture),o.memory.textures--),r.remove(F[Te])}r.remove(F),r.remove(W)}let X=0;function Y(){X=0}function k(){const W=X;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),X+=1,W}function U(W){const F=[];return F.push(W.wrapS),F.push(W.wrapT),F.push(W.wrapR||0),F.push(W.magFilter),F.push(W.minFilter),F.push(W.anisotropy),F.push(W.internalFormat),F.push(W.format),F.push(W.type),F.push(W.generateMipmaps),F.push(W.premultiplyAlpha),F.push(W.flipY),F.push(W.unpackAlignment),F.push(W.encoding),F.join()}function V(W,F){const pe=r.get(W);if(W.isVideoTexture&&Ve(W),W.isRenderTargetTexture===!1&&W.version>0&&pe.__version!==W.version){const Ce=W.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(pe,W,F);return}}t.bindTexture(3553,pe.__webglTexture,33984+F)}function q(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){Ee(pe,W,F);return}t.bindTexture(35866,pe.__webglTexture,33984+F)}function ee(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){Ee(pe,W,F);return}t.bindTexture(32879,pe.__webglTexture,33984+F)}function se(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){ue(pe,W,F);return}t.bindTexture(34067,pe.__webglTexture,33984+F)}const Z={[$l]:10497,[xr]:33071,[qd]:33648},de={[Pn]:9728,[Ym]:9984,[Id]:9986,[mn]:9729,[sb]:9985,[Io]:9987};function oe(W,F,pe){if(pe?(n.texParameteri(W,10242,Z[F.wrapS]),n.texParameteri(W,10243,Z[F.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,Z[F.wrapR]),n.texParameteri(W,10240,de[F.magFilter]),n.texParameteri(W,10241,de[F.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(F.wrapS!==xr||F.wrapT!==xr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,P(F.magFilter)),n.texParameteri(W,10241,P(F.minFilter)),F.minFilter!==Pn&&F.minFilter!==mn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===Pn||F.minFilter!==Id&&F.minFilter!==Io||F.type===Pi&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===hs&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(n.texParameterf(W,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function Q(W,F){let pe=!1;W.__webglInit===void 0&&(W.__webglInit=!0,F.addEventListener("dispose",O));const Ce=F.source;let Te=x.get(Ce);Te===void 0&&(Te={},x.set(Ce,Te));const Ne=U(F);if(Ne!==W.__cacheKey){Te[Ne]===void 0&&(Te[Ne]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),Te[Ne].usedTimes++;const rt=Te[W.__cacheKey];rt!==void 0&&(Te[W.__cacheKey].usedTimes--,rt.usedTimes===0&&N(F)),W.__cacheKey=Ne,W.__webglTexture=Te[Ne].texture}return pe}function Ee(W,F,pe){let Ce=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ce=35866),F.isData3DTexture&&(Ce=32879);const Te=Q(W,F),Ne=F.source;t.bindTexture(Ce,W.__webglTexture,33984+pe);const rt=r.get(Ne);if(Ne.version!==rt.__version||Te===!0){t.activeTexture(33984+pe),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const Ge=E(F)&&S(F.image)===!1;let xe=b(F.image,Ge,!1,u);xe=ft(F,xe);const Ke=S(xe)||a,Ye=s.convert(F.format,F.encoding);let it=s.convert(F.type),$e=B(F.internalFormat,Ye,it,F.encoding,F.isVideoTexture);oe(Ce,F,Ke);let Qe;const _t=F.mipmaps,It=a&&F.isVideoTexture!==!0,Wt=rt.__version===void 0||Te===!0,te=T(F,xe,Ke);if(F.isDepthTexture)$e=6402,a?F.type===Pi?$e=36012:F.type===Al?$e=33190:F.type===lu?$e=35056:$e=33189:F.type===Pi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Dl&&$e===6402&&F.type!==iR&&F.type!==Al&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Al,it=s.convert(F.type)),F.format===xu&&$e===6402&&($e=34041,F.type!==lu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=lu,it=s.convert(F.type))),Wt&&(It?t.texStorage2D(3553,1,$e,xe.width,xe.height):t.texImage2D(3553,0,$e,xe.width,xe.height,0,Ye,it,null));else if(F.isDataTexture)if(_t.length>0&&Ke){It&&Wt&&t.texStorage2D(3553,te,$e,_t[0].width,_t[0].height);for(let ye=0,Re=_t.length;ye<Re;ye++)Qe=_t[ye],It?t.texSubImage2D(3553,ye,0,0,Qe.width,Qe.height,Ye,it,Qe.data):t.texImage2D(3553,ye,$e,Qe.width,Qe.height,0,Ye,it,Qe.data);F.generateMipmaps=!1}else It?(Wt&&t.texStorage2D(3553,te,$e,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,xe.width,xe.height,Ye,it,xe.data)):t.texImage2D(3553,0,$e,xe.width,xe.height,0,Ye,it,xe.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){It&&Wt&&t.texStorage3D(35866,te,$e,_t[0].width,_t[0].height,xe.depth);for(let ye=0,Re=_t.length;ye<Re;ye++)Qe=_t[ye],F.format!==ai?Ye!==null?It?t.compressedTexSubImage3D(35866,ye,0,0,0,Qe.width,Qe.height,xe.depth,Ye,Qe.data,0,0):t.compressedTexImage3D(35866,ye,$e,Qe.width,Qe.height,xe.depth,0,Qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):It?t.texSubImage3D(35866,ye,0,0,0,Qe.width,Qe.height,xe.depth,Ye,it,Qe.data):t.texImage3D(35866,ye,$e,Qe.width,Qe.height,xe.depth,0,Ye,it,Qe.data)}else{It&&Wt&&t.texStorage2D(3553,te,$e,_t[0].width,_t[0].height);for(let ye=0,Re=_t.length;ye<Re;ye++)Qe=_t[ye],F.format!==ai?Ye!==null?It?t.compressedTexSubImage2D(3553,ye,0,0,Qe.width,Qe.height,Ye,Qe.data):t.compressedTexImage2D(3553,ye,$e,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):It?t.texSubImage2D(3553,ye,0,0,Qe.width,Qe.height,Ye,it,Qe.data):t.texImage2D(3553,ye,$e,Qe.width,Qe.height,0,Ye,it,Qe.data)}else if(F.isDataArrayTexture)It?(Wt&&t.texStorage3D(35866,te,$e,xe.width,xe.height,xe.depth),t.texSubImage3D(35866,0,0,0,0,xe.width,xe.height,xe.depth,Ye,it,xe.data)):t.texImage3D(35866,0,$e,xe.width,xe.height,xe.depth,0,Ye,it,xe.data);else if(F.isData3DTexture)It?(Wt&&t.texStorage3D(32879,te,$e,xe.width,xe.height,xe.depth),t.texSubImage3D(32879,0,0,0,0,xe.width,xe.height,xe.depth,Ye,it,xe.data)):t.texImage3D(32879,0,$e,xe.width,xe.height,xe.depth,0,Ye,it,xe.data);else if(F.isFramebufferTexture){if(Wt)if(It)t.texStorage2D(3553,te,$e,xe.width,xe.height);else{let ye=xe.width,Re=xe.height;for(let He=0;He<te;He++)t.texImage2D(3553,He,$e,ye,Re,0,Ye,it,null),ye>>=1,Re>>=1}}else if(_t.length>0&&Ke){It&&Wt&&t.texStorage2D(3553,te,$e,_t[0].width,_t[0].height);for(let ye=0,Re=_t.length;ye<Re;ye++)Qe=_t[ye],It?t.texSubImage2D(3553,ye,0,0,Ye,it,Qe):t.texImage2D(3553,ye,$e,Ye,it,Qe);F.generateMipmaps=!1}else It?(Wt&&t.texStorage2D(3553,te,$e,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,Ye,it,xe)):t.texImage2D(3553,0,$e,Ye,it,xe);M(F,Ke)&&I(Ce),rt.__version=Ne.version,F.onUpdate&&F.onUpdate(F)}W.__version=F.version}function ue(W,F,pe){if(F.image.length!==6)return;const Ce=Q(W,F),Te=F.source;t.bindTexture(34067,W.__webglTexture,33984+pe);const Ne=r.get(Te);if(Te.version!==Ne.__version||Ce===!0){t.activeTexture(33984+pe),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const rt=F.isCompressedTexture||F.image[0].isCompressedTexture,Ge=F.image[0]&&F.image[0].isDataTexture,xe=[];for(let ye=0;ye<6;ye++)!rt&&!Ge?xe[ye]=b(F.image[ye],!1,!0,c):xe[ye]=Ge?F.image[ye].image:F.image[ye],xe[ye]=ft(F,xe[ye]);const Ke=xe[0],Ye=S(Ke)||a,it=s.convert(F.format,F.encoding),$e=s.convert(F.type),Qe=B(F.internalFormat,it,$e,F.encoding),_t=a&&F.isVideoTexture!==!0,It=Ne.__version===void 0||Ce===!0;let Wt=T(F,Ke,Ye);oe(34067,F,Ye);let te;if(rt){_t&&It&&t.texStorage2D(34067,Wt,Qe,Ke.width,Ke.height);for(let ye=0;ye<6;ye++){te=xe[ye].mipmaps;for(let Re=0;Re<te.length;Re++){const He=te[Re];F.format!==ai?it!==null?_t?t.compressedTexSubImage2D(34069+ye,Re,0,0,He.width,He.height,it,He.data):t.compressedTexImage2D(34069+ye,Re,Qe,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_t?t.texSubImage2D(34069+ye,Re,0,0,He.width,He.height,it,$e,He.data):t.texImage2D(34069+ye,Re,Qe,He.width,He.height,0,it,$e,He.data)}}}else{te=F.mipmaps,_t&&It&&(te.length>0&&Wt++,t.texStorage2D(34067,Wt,Qe,xe[0].width,xe[0].height));for(let ye=0;ye<6;ye++)if(Ge){_t?t.texSubImage2D(34069+ye,0,0,0,xe[ye].width,xe[ye].height,it,$e,xe[ye].data):t.texImage2D(34069+ye,0,Qe,xe[ye].width,xe[ye].height,0,it,$e,xe[ye].data);for(let Re=0;Re<te.length;Re++){const Ze=te[Re].image[ye].image;_t?t.texSubImage2D(34069+ye,Re+1,0,0,Ze.width,Ze.height,it,$e,Ze.data):t.texImage2D(34069+ye,Re+1,Qe,Ze.width,Ze.height,0,it,$e,Ze.data)}}else{_t?t.texSubImage2D(34069+ye,0,0,0,it,$e,xe[ye]):t.texImage2D(34069+ye,0,Qe,it,$e,xe[ye]);for(let Re=0;Re<te.length;Re++){const He=te[Re];_t?t.texSubImage2D(34069+ye,Re+1,0,0,it,$e,He.image[ye]):t.texImage2D(34069+ye,Re+1,Qe,it,$e,He.image[ye])}}}M(F,Ye)&&I(34067),Ne.__version=Te.version,F.onUpdate&&F.onUpdate(F)}W.__version=F.version}function he(W,F,pe,Ce,Te){const Ne=s.convert(pe.format,pe.encoding),rt=s.convert(pe.type),Ge=B(pe.internalFormat,Ne,rt,pe.encoding);r.get(F).__hasExternalTextures||(Te===32879||Te===35866?t.texImage3D(Te,0,Ge,F.width,F.height,F.depth,0,Ne,rt,null):t.texImage2D(Te,0,Ge,F.width,F.height,0,Ne,rt,null)),t.bindFramebuffer(36160,W),Be(F)?p.framebufferTexture2DMultisampleEXT(36160,Ce,Te,r.get(pe).__webglTexture,0,Ae(F)):(Te===3553||Te>=34069&&Te<=34074)&&n.framebufferTexture2D(36160,Ce,Te,r.get(pe).__webglTexture,0),t.bindFramebuffer(36160,null)}function we(W,F,pe){if(n.bindRenderbuffer(36161,W),F.depthBuffer&&!F.stencilBuffer){let Ce=33189;if(pe||Be(F)){const Te=F.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Pi?Ce=36012:Te.type===Al&&(Ce=33190));const Ne=Ae(F);Be(F)?p.renderbufferStorageMultisampleEXT(36161,Ne,Ce,F.width,F.height):n.renderbufferStorageMultisample(36161,Ne,Ce,F.width,F.height)}else n.renderbufferStorage(36161,Ce,F.width,F.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(F.depthBuffer&&F.stencilBuffer){const Ce=Ae(F);pe&&Be(F)===!1?n.renderbufferStorageMultisample(36161,Ce,35056,F.width,F.height):Be(F)?p.renderbufferStorageMultisampleEXT(36161,Ce,35056,F.width,F.height):n.renderbufferStorage(36161,34041,F.width,F.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const Ce=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Te=0;Te<Ce.length;Te++){const Ne=Ce[Te],rt=s.convert(Ne.format,Ne.encoding),Ge=s.convert(Ne.type),xe=B(Ne.internalFormat,rt,Ge,Ne.encoding),Ke=Ae(F);pe&&Be(F)===!1?n.renderbufferStorageMultisample(36161,Ke,xe,F.width,F.height):Be(F)?p.renderbufferStorageMultisampleEXT(36161,Ke,xe,F.width,F.height):n.renderbufferStorage(36161,xe,F.width,F.height)}}n.bindRenderbuffer(36161,null)}function me(W,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),V(F.depthTexture,0);const Ce=r.get(F.depthTexture).__webglTexture,Te=Ae(F);if(F.depthTexture.format===Dl)Be(F)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ce,0,Te):n.framebufferTexture2D(36160,36096,3553,Ce,0);else if(F.depthTexture.format===xu)Be(F)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ce,0,Te):n.framebufferTexture2D(36160,33306,3553,Ce,0);else throw new Error("Unknown depthTexture format")}function fe(W){const F=r.get(W),pe=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!F.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");me(F.__webglFramebuffer,W)}else if(pe){F.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(36160,F.__webglFramebuffer[Ce]),F.__webglDepthbuffer[Ce]=n.createRenderbuffer(),we(F.__webglDepthbuffer[Ce],W,!1)}else t.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),we(F.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function be(W,F,pe){const Ce=r.get(W);F!==void 0&&he(Ce.__webglFramebuffer,W,W.texture,36064,3553),pe!==void 0&&fe(W)}function De(W){const F=W.texture,pe=r.get(W),Ce=r.get(F);W.addEventListener("dispose",z),W.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=F.version,o.memory.textures++);const Te=W.isWebGLCubeRenderTarget===!0,Ne=W.isWebGLMultipleRenderTargets===!0,rt=S(W)||a;if(Te){pe.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)pe.__webglFramebuffer[Ge]=n.createFramebuffer()}else{if(pe.__webglFramebuffer=n.createFramebuffer(),Ne)if(i.drawBuffers){const Ge=W.texture;for(let xe=0,Ke=Ge.length;xe<Ke;xe++){const Ye=r.get(Ge[xe]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Be(W)===!1){const Ge=Ne?F:[F];pe.__webglMultisampledFramebuffer=n.createFramebuffer(),pe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer);for(let xe=0;xe<Ge.length;xe++){const Ke=Ge[xe];pe.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,pe.__webglColorRenderbuffer[xe]);const Ye=s.convert(Ke.format,Ke.encoding),it=s.convert(Ke.type),$e=B(Ke.internalFormat,Ye,it,Ke.encoding,W.isXRRenderTarget===!0),Qe=Ae(W);n.renderbufferStorageMultisample(36161,Qe,$e,W.width,W.height),n.framebufferRenderbuffer(36160,36064+xe,36161,pe.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(pe.__webglDepthRenderbuffer=n.createRenderbuffer(),we(pe.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(Te){t.bindTexture(34067,Ce.__webglTexture),oe(34067,F,rt);for(let Ge=0;Ge<6;Ge++)he(pe.__webglFramebuffer[Ge],W,F,36064,34069+Ge);M(F,rt)&&I(34067),t.unbindTexture()}else if(Ne){const Ge=W.texture;for(let xe=0,Ke=Ge.length;xe<Ke;xe++){const Ye=Ge[xe],it=r.get(Ye);t.bindTexture(3553,it.__webglTexture),oe(3553,Ye,rt),he(pe.__webglFramebuffer,W,Ye,36064+xe,3553),M(Ye,rt)&&I(3553)}t.unbindTexture()}else{let Ge=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Ge=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ge,Ce.__webglTexture),oe(Ge,F,rt),he(pe.__webglFramebuffer,W,F,36064,Ge),M(F,rt)&&I(Ge),t.unbindTexture()}W.depthBuffer&&fe(W)}function Pe(W){const F=S(W)||a,pe=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ce=0,Te=pe.length;Ce<Te;Ce++){const Ne=pe[Ce];if(M(Ne,F)){const rt=W.isWebGLCubeRenderTarget?34067:3553,Ge=r.get(Ne).__webglTexture;t.bindTexture(rt,Ge),I(rt),t.unbindTexture()}}}function ke(W){if(a&&W.samples>0&&Be(W)===!1){const F=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],pe=W.width,Ce=W.height;let Te=16384;const Ne=[],rt=W.stencilBuffer?33306:36096,Ge=r.get(W),xe=W.isWebGLMultipleRenderTargets===!0;if(xe)for(let Ke=0;Ke<F.length;Ke++)t.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,null),t.bindFramebuffer(36160,Ge.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,null,0);t.bindFramebuffer(36008,Ge.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ge.__webglFramebuffer);for(let Ke=0;Ke<F.length;Ke++){Ne.push(36064+Ke),W.depthBuffer&&Ne.push(rt);const Ye=Ge.__ignoreDepthValues!==void 0?Ge.__ignoreDepthValues:!1;if(Ye===!1&&(W.depthBuffer&&(Te|=256),W.stencilBuffer&&(Te|=1024)),xe&&n.framebufferRenderbuffer(36008,36064,36161,Ge.__webglColorRenderbuffer[Ke]),Ye===!0&&(n.invalidateFramebuffer(36008,[rt]),n.invalidateFramebuffer(36009,[rt])),xe){const it=r.get(F[Ke]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,it,0)}n.blitFramebuffer(0,0,pe,Ce,0,0,pe,Ce,Te,9728),m&&n.invalidateFramebuffer(36008,Ne)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),xe)for(let Ke=0;Ke<F.length;Ke++){t.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,Ge.__webglColorRenderbuffer[Ke]);const Ye=r.get(F[Ke]).__webglTexture;t.bindFramebuffer(36160,Ge.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,Ye,0)}t.bindFramebuffer(36009,Ge.__webglMultisampledFramebuffer)}}function Ae(W){return Math.min(f,W.samples)}function Be(W){const F=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Ve(W){const F=o.render.frame;v.get(W)!==F&&(v.set(W,F),W.update())}function ft(W,F){const pe=W.encoding,Ce=W.format,Te=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===Xx||pe!==Zs&&(pe===Dt?a===!1?e.has("EXT_sRGB")===!0&&Ce===ai?(W.format=Xx,W.minFilter=mn,W.generateMipmaps=!1):F=cR.sRGBToLinear(F):(Ce!==ai||Te!==Ia)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",pe)),F}this.allocateTextureUnit=k,this.resetTextureUnits=Y,this.setTexture2D=V,this.setTexture2DArray=q,this.setTexture3D=ee,this.setTextureCube=se,this.rebindTextures=be,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Be}function Yz(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Ia)return 5121;if(s===xz)return 32819;if(s===bz)return 32820;if(s===gz)return 5120;if(s===vz)return 5122;if(s===iR)return 5123;if(s===yz)return 5124;if(s===Al)return 5125;if(s===Pi)return 5126;if(s===hs)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===_z)return 6406;if(s===ai)return 6408;if(s===wz)return 6409;if(s===Sz)return 6410;if(s===Dl)return 6402;if(s===xu)return 34041;if(s===Xx)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Az)return 6403;if(s===Ez)return 36244;if(s===Mz)return 33319;if(s===Cz)return 33320;if(s===Tz)return 36249;if(s===ex||s===tx||s===nx||s===rx)if(o===Dt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ex)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===tx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===nx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===rx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ex)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===tx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===nx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===rx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===KE||s===XE||s===YE||s===QE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===KE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===XE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===YE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===QE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Rz)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===qE||s===ZE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===qE)return o===Dt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===ZE)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===eM||s===tM||s===nM||s===rM||s===iM||s===sM||s===oM||s===aM||s===lM||s===cM||s===uM||s===fM||s===dM||s===hM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===eM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===tM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===nM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===rM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===iM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===sM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===oM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===aM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===lM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===cM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===uM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===fM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===dM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===hM)return o===Dt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===ix)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===ix)return o===Dt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Pz||s===pM||s===mM||s===gM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===ix)return a.COMPRESSED_RED_RGTC1_EXT;if(s===pM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===mM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===gM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===lu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class Qz extends qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ha extends Ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Mee={type:"move"};class fS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ha,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ha,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ha,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,r),g=this._getHandJoint(c,y);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=x.radius),g.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Mee)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new ha;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class qz extends bn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Dl,u!==Dl&&u!==xu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Dl&&(r=Al),r===void 0&&u===xu&&(r=lu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Pn,this.minFilter=l!==void 0?l:Pn,this.flipY=!1,this.generateMipmaps=!1}}class Cee extends Ua{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,v=null;const y=t.getContextAttributes();let x=null,g=null;const _=[],b=[],S=new Set,E=new Map,M=new qn;M.layers.enable(1),M.viewport=new Ut;const I=new qn;I.layers.enable(2),I.viewport=new Ut;const B=[M,I],T=new Qz;T.layers.enable(1),T.layers.enable(2);let P=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let Z=_[se];return Z===void 0&&(Z=new fS,_[se]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(se){let Z=_[se];return Z===void 0&&(Z=new fS,_[se]=Z),Z.getGripSpace()},this.getHand=function(se){let Z=_[se];return Z===void 0&&(Z=new fS,_[se]=Z),Z.getHandSpace()};function z(se){const Z=b.indexOf(se.inputSource);if(Z===-1)return;const de=_[Z];de!==void 0&&de.dispatchEvent({type:se.type,data:se.inputSource})}function H(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",N);for(let se=0;se<_.length;se++){const Z=b[se];Z!==null&&(b[se]=null,_[se].disconnect(Z))}P=null,O=null,e.setRenderTarget(x),m=null,p=null,f=null,i=null,g=null,ee.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",H),i.addEventListener("inputsourceschange",N),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,Z),i.updateRenderState({baseLayer:m}),g=new Hi(m.framebufferWidth,m.framebufferHeight,{format:ai,type:Ia,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let Z=null,de=null,oe=null;y.depth&&(oe=y.stencil?35056:33190,Z=y.stencil?xu:Dl,de=y.stencil?lu:Al);const Q={colorFormat:32856,depthFormat:oe,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Q),i.updateRenderState({layers:[p]}),g=new Hi(p.textureWidth,p.textureHeight,{format:ai,type:Ia,depthTexture:new qz(p.textureWidth,p.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Ee=e.properties.get(g);Ee.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function N(se){for(let Z=0;Z<se.removed.length;Z++){const de=se.removed[Z],oe=b.indexOf(de);oe>=0&&(b[oe]=null,_[oe].disconnect(de))}for(let Z=0;Z<se.added.length;Z++){const de=se.added[Z];let oe=b.indexOf(de);if(oe===-1){for(let Ee=0;Ee<_.length;Ee++)if(Ee>=b.length){b.push(de),oe=Ee;break}else if(b[Ee]===null){b[Ee]=de,oe=Ee;break}if(oe===-1)break}const Q=_[oe];Q&&Q.connect(de)}}const J=new G,X=new G;function Y(se,Z,de){J.setFromMatrixPosition(Z.matrixWorld),X.setFromMatrixPosition(de.matrixWorld);const oe=J.distanceTo(X),Q=Z.projectionMatrix.elements,Ee=de.projectionMatrix.elements,ue=Q[14]/(Q[10]-1),he=Q[14]/(Q[10]+1),we=(Q[9]+1)/Q[5],me=(Q[9]-1)/Q[5],fe=(Q[8]-1)/Q[0],be=(Ee[8]+1)/Ee[0],De=ue*fe,Pe=ue*be,ke=oe/(-fe+be),Ae=ke*-fe;Z.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Ae),se.translateZ(ke),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const Be=ue+ke,Ve=he+ke,ft=De-Ae,W=Pe+(oe-Ae),F=we*he/Ve*Be,pe=me*he/Ve*Be;se.projectionMatrix.makePerspective(ft,W,F,pe,Be,Ve),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function k(se,Z){Z===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(Z.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;T.near=I.near=M.near=se.near,T.far=I.far=M.far=se.far,(P!==T.near||O!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,O=T.far);const Z=se.parent,de=T.cameras;k(T,Z);for(let oe=0;oe<de.length;oe++)k(de[oe],Z);de.length===2?Y(T,M,I):T.projectionMatrix.copy(M.projectionMatrix),U(se,T,Z)};function U(se,Z,de){de===null?se.matrix.copy(Z.matrixWorld):(se.matrix.copy(de.matrixWorld),se.matrix.invert(),se.matrix.multiply(Z.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0);const oe=se.children;for(let Q=0,Ee=oe.length;Q<Ee;Q++)oe[Q].updateMatrixWorld(!0);se.projectionMatrix.copy(Z.projectionMatrix),se.projectionMatrixInverse.copy(Z.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=th*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.getPlanes=function(){return S};let V=null;function q(se,Z){if(u=Z.getViewerPose(c||o),v=Z,u!==null){const de=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let oe=!1;de.length!==T.cameras.length&&(T.cameras.length=0,oe=!0);for(let Q=0;Q<de.length;Q++){const Ee=de[Q];let ue=null;if(m!==null)ue=m.getViewport(Ee);else{const we=f.getViewSubImage(p,Ee);ue=we.viewport,Q===0&&(e.setRenderTargetTextures(g,we.colorTexture,p.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(g))}let he=B[Q];he===void 0&&(he=new qn,he.layers.enable(Q),he.viewport=new Ut,B[Q]=he),he.matrix.fromArray(Ee.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Ee.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(ue.x,ue.y,ue.width,ue.height),Q===0&&(T.matrix.copy(he.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),oe===!0&&T.cameras.push(he)}}for(let de=0;de<_.length;de++){const oe=b[de],Q=_[de];oe!==null&&Q!==void 0&&Q.update(oe,Z,c||o)}if(V&&V(se,Z),Z.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:Z.detectedPlanes});let de=null;for(const oe of S)Z.detectedPlanes.has(oe)||(de===null&&(de=[]),de.push(oe));if(de!==null)for(const oe of de)S.delete(oe),E.delete(oe),r.dispatchEvent({type:"planeremoved",data:oe});for(const oe of Z.detectedPlanes)if(!S.has(oe))S.add(oe),E.set(oe,Z.lastChangedTime),r.dispatchEvent({type:"planeadded",data:oe});else{const Q=E.get(oe);oe.lastChangedTime>Q&&(E.set(oe,oe.lastChangedTime),r.dispatchEvent({type:"planechanged",data:oe}))}}v=null}const ee=new Wz;ee.setAnimationLoop(q),this.setAnimationLoop=function(se){V=se},this.dispose=function(){}}}function Tee(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,Vz(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,_,b,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),f(x,g)):g.isMeshPhongMaterial?(s(x,g),u(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,S)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),y(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,_,b):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Jr&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Jr&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const b=n.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*b,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,b){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=b*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function f(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Jr&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function y(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ree(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const S=b.program;r.uniformBlockBinding(_,S)}function c(_,b){let S=i[_.id];S===void 0&&(v(_),S=u(_),i[_.id]=S,_.addEventListener("dispose",x));const E=b.program;r.updateUBOMapping(_,E);const M=e.render.frame;s[_.id]!==M&&(p(_),s[_.id]=M)}function u(_){const b=f();_.__bindingPointIndex=b;const S=n.createBuffer(),E=_.__size,M=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,E,M),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,S),S}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const b=i[_.id],S=_.uniforms,E=_.__cache;n.bindBuffer(35345,b);for(let M=0,I=S.length;M<I;M++){const B=S[M];if(m(B,M,E)===!0){const T=B.__offset,P=Array.isArray(B.value)?B.value:[B.value];let O=0;for(let z=0;z<P.length;z++){const H=P[z],N=y(H);typeof H=="number"?(B.__data[0]=H,n.bufferSubData(35345,T+O,B.__data)):H.isMatrix3?(B.__data[0]=H.elements[0],B.__data[1]=H.elements[1],B.__data[2]=H.elements[2],B.__data[3]=H.elements[0],B.__data[4]=H.elements[3],B.__data[5]=H.elements[4],B.__data[6]=H.elements[5],B.__data[7]=H.elements[0],B.__data[8]=H.elements[6],B.__data[9]=H.elements[7],B.__data[10]=H.elements[8],B.__data[11]=H.elements[0]):(H.toArray(B.__data,O),O+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,T,B.__data)}}n.bindBuffer(35345,null)}function m(_,b,S){const E=_.value;if(S[b]===void 0){if(typeof E=="number")S[b]=E;else{const M=Array.isArray(E)?E:[E],I=[];for(let B=0;B<M.length;B++)I.push(M[B].clone());S[b]=I}return!0}else if(typeof E=="number"){if(S[b]!==E)return S[b]=E,!0}else{const M=Array.isArray(S[b])?S[b]:[S[b]],I=Array.isArray(E)?E:[E];for(let B=0;B<M.length;B++){const T=M[B];if(T.equals(I[B])===!1)return T.copy(I[B]),!0}}return!1}function v(_){const b=_.uniforms;let S=0;const E=16;let M=0;for(let I=0,B=b.length;I<B;I++){const T=b[I],P={boundary:0,storage:0},O=Array.isArray(T.value)?T.value:[T.value];for(let z=0,H=O.length;z<H;z++){const N=O[z],J=y(N);P.boundary+=J.boundary,P.storage+=J.storage}if(T.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=S,I>0){M=S%E;const z=E-M;M!==0&&z-P.boundary<0&&(S+=E-M,T.__offset=S)}S+=P.storage}return M=S%E,M>0&&(S+=E-M),_.__size=S,_.__cache={},this}function y(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function x(_){const b=_.target;b.removeEventListener("dispose",x);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function g(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}function Pee(){const n=Zm("canvas");return n.style.display="block",n}class yR{constructor(e={}){const{canvas:t=Pee(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;let m=null,v=null;const y=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Zs,this.useLegacyLights=!0,this.toneMapping=Xs,this.toneMappingExposure=1;const g=this;let _=!1,b=0,S=0,E=null,M=-1,I=null;const B=new Ut,T=new Ut;let P=null,O=t.width,z=t.height,H=1,N=null,J=null;const X=new Ut(0,0,O,z),Y=new Ut(0,0,O,z);let k=!1;const U=new lb;let V=!1,q=!1,ee=null;const se=new ut,Z=new G,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function oe(){return E===null?H:1}let Q=r;function Ee($,ce){for(let _e=0;_e<$.length;_e++){const ae=$[_e],Se=t.getContext(ae,ce);if(Se!==null)return Se}return null}try{const $={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${nb}`),t.addEventListener("webglcontextlost",Qe,!1),t.addEventListener("webglcontextrestored",_t,!1),t.addEventListener("webglcontextcreationerror",It,!1),Q===null){const ce=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ce.shift(),Q=Ee(ce,$),Q===null)throw Ee(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let ue,he,we,me,fe,be,De,Pe,ke,Ae,Be,Ve,ft,W,F,pe,Ce,Te,Ne,rt,Ge,xe,Ke,Ye;function it(){ue=new jq(Q),he=new Hq(Q,ue,e),ue.init(he),xe=new Yz(Q,ue,he),we=new Aee(Q,ue,he),me=new Xq,fe=new dee,be=new Eee(Q,ue,we,fe,he,xe,me),De=new Gq(g),Pe=new Wq(g),ke=new aY(Q,he),Ke=new Fq(Q,ue,ke,he),Ae=new Jq(Q,ke,me,Ke),Be=new Zq(Q,Ae,ke,me),Ne=new qq(Q,he,be),pe=new zq(fe),Ve=new fee(g,De,Pe,ue,he,Ke,pe),ft=new Tee(g,fe),W=new pee,F=new bee(ue,he),Te=new Nq(g,De,Pe,we,Be,p,l),Ce=new See(g,Be,he),Ye=new Ree(Q,me,he,we),rt=new Uq(Q,ue,me,he),Ge=new Kq(Q,ue,me,he),me.programs=Ve.programs,g.capabilities=he,g.extensions=ue,g.properties=fe,g.renderLists=W,g.shadowMap=Ce,g.state=we,g.info=me}it();const $e=new Cee(g,Q);this.xr=$e,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const $=ue.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=ue.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function($){$!==void 0&&(H=$,this.setSize(O,z,!1))},this.getSize=function($){return $.set(O,z)},this.setSize=function($,ce,_e=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=$,z=ce,t.width=Math.floor($*H),t.height=Math.floor(ce*H),_e===!0&&(t.style.width=$+"px",t.style.height=ce+"px"),this.setViewport(0,0,$,ce)},this.getDrawingBufferSize=function($){return $.set(O*H,z*H).floor()},this.setDrawingBufferSize=function($,ce,_e){O=$,z=ce,H=_e,t.width=Math.floor($*_e),t.height=Math.floor(ce*_e),this.setViewport(0,0,$,ce)},this.getCurrentViewport=function($){return $.copy(B)},this.getViewport=function($){return $.copy(X)},this.setViewport=function($,ce,_e,ae){$.isVector4?X.set($.x,$.y,$.z,$.w):X.set($,ce,_e,ae),we.viewport(B.copy(X).multiplyScalar(H).floor())},this.getScissor=function($){return $.copy(Y)},this.setScissor=function($,ce,_e,ae){$.isVector4?Y.set($.x,$.y,$.z,$.w):Y.set($,ce,_e,ae),we.scissor(T.copy(Y).multiplyScalar(H).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function($){we.setScissorTest(k=$)},this.setOpaqueSort=function($){N=$},this.setTransparentSort=function($){J=$},this.getClearColor=function($){return $.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function($=!0,ce=!0,_e=!0){let ae=0;$&&(ae|=16384),ce&&(ae|=256),_e&&(ae|=1024),Q.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Qe,!1),t.removeEventListener("webglcontextrestored",_t,!1),t.removeEventListener("webglcontextcreationerror",It,!1),W.dispose(),F.dispose(),fe.dispose(),De.dispose(),Pe.dispose(),Be.dispose(),Ke.dispose(),Ye.dispose(),Ve.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Ze),$e.removeEventListener("sessionend",Jt),ee&&(ee.dispose(),ee=null),en.stop()};function Qe($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function _t(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const $=me.autoReset,ce=Ce.enabled,_e=Ce.autoUpdate,ae=Ce.needsUpdate,Se=Ce.type;it(),me.autoReset=$,Ce.enabled=ce,Ce.autoUpdate=_e,Ce.needsUpdate=ae,Ce.type=Se}function It($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function Wt($){const ce=$.target;ce.removeEventListener("dispose",Wt),te(ce)}function te($){ye($),fe.remove($)}function ye($){const ce=fe.get($).programs;ce!==void 0&&(ce.forEach(function(_e){Ve.releaseProgram(_e)}),$.isShaderMaterial&&Ve.releaseShaderCache($))}this.renderBufferDirect=function($,ce,_e,ae,Se,ot){ce===null&&(ce=de);const ct=Se.isMesh&&Se.matrixWorld.determinant()<0,dt=oo($,ce,_e,ae,Se);we.setMaterial(ae,ct);let xt=_e.index,Mt=1;ae.wireframe===!0&&(xt=Ae.getWireframeAttribute(_e),Mt=2);const Ct=_e.drawRange,Rt=_e.attributes.position;let Kt=Ct.start*Mt,mr=(Ct.start+Ct.count)*Mt;ot!==null&&(Kt=Math.max(Kt,ot.start*Mt),mr=Math.min(mr,(ot.start+ot.count)*Mt)),xt!==null?(Kt=Math.max(Kt,0),mr=Math.min(mr,xt.count)):Rt!=null&&(Kt=Math.max(Kt,0),mr=Math.min(mr,Rt.count));const xi=mr-Kt;if(xi<0||xi===1/0)return;Ke.setup(Se,ae,dt,_e,xt);let Ms,sn=rt;if(xt!==null&&(Ms=ke.get(xt),sn=Ge,sn.setIndex(Ms)),Se.isMesh)ae.wireframe===!0?(we.setLineWidth(ae.wireframeLinewidth*oe()),sn.setMode(1)):sn.setMode(4);else if(Se.isLine){let Pt=ae.linewidth;Pt===void 0&&(Pt=1),we.setLineWidth(Pt*oe()),Se.isLineSegments?sn.setMode(1):Se.isLineLoop?sn.setMode(2):sn.setMode(3)}else Se.isPoints?sn.setMode(0):Se.isSprite&&sn.setMode(4);if(Se.isInstancedMesh)sn.renderInstances(Kt,xi,Se.count);else if(_e.isInstancedBufferGeometry){const Pt=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,fc=Math.min(_e.instanceCount,Pt);sn.renderInstances(Kt,xi,fc)}else sn.render(Kt,xi)},this.compile=function($,ce){function _e(ae,Se,ot){ae.transparent===!0&&ae.side===us&&ae.forceSinglePass===!1?(ae.side=Jr,ae.needsUpdate=!0,Es(ae,Se,ot),ae.side=Po,ae.needsUpdate=!0,Es(ae,Se,ot),ae.side=us):Es(ae,Se,ot)}v=F.get($),v.init(),x.push(v),$.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ce.layers)&&(v.pushLight(ae),ae.castShadow&&v.pushShadow(ae))}),v.setupLights(g.useLegacyLights),$.traverse(function(ae){const Se=ae.material;if(Se)if(Array.isArray(Se))for(let ot=0;ot<Se.length;ot++){const ct=Se[ot];_e(ct,$,ae)}else _e(Se,$,ae)}),x.pop(),v=null};let Re=null;function He($){Re&&Re($)}function Ze(){en.stop()}function Jt(){en.start()}const en=new Wz;en.setAnimationLoop(He),typeof self<"u"&&en.setContext(self),this.setAnimationLoop=function($){Re=$,$e.setAnimationLoop($),$===null?en.stop():en.start()},$e.addEventListener("sessionstart",Ze),$e.addEventListener("sessionend",Jt),this.render=function($,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(ce),ce=$e.getCamera()),$.isScene===!0&&$.onBeforeRender(g,$,ce,E),v=F.get($,x.length),v.init(),x.push(v),se.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),U.setFromProjectionMatrix(se),q=this.localClippingEnabled,V=pe.init(this.clippingPlanes,q),m=W.get($,y.length),m.init(),y.push(m),Fn($,ce,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(N,J),V===!0&&pe.beginShadows();const _e=v.state.shadowsArray;if(Ce.render(_e,$,ce),V===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Te.render(m,$),v.setupLights(g.useLegacyLights),ce.isArrayCamera){const ae=ce.cameras;for(let Se=0,ot=ae.length;Se<ot;Se++){const ct=ae[Se];yi(m,$,ct,ct.viewport)}}else yi(m,$,ce);E!==null&&(be.updateMultisampleRenderTarget(E),be.updateRenderTargetMipmap(E)),$.isScene===!0&&$.onAfterRender(g,$,ce),Ke.resetDefaultState(),M=-1,I=null,x.pop(),x.length>0?v=x[x.length-1]:v=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function Fn($,ce,_e,ae){if($.visible===!1)return;if($.layers.test(ce.layers)){if($.isGroup)_e=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ce);else if($.isLight)v.pushLight($),$.castShadow&&v.pushShadow($);else if($.isSprite){if(!$.frustumCulled||U.intersectsSprite($)){ae&&Z.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const ct=Be.update($),dt=$.material;dt.visible&&m.push($,ct,dt,_e,Z.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==me.render.frame&&($.skeleton.update(),$.skeleton.frame=me.render.frame),!$.frustumCulled||U.intersectsObject($))){ae&&Z.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const ct=Be.update($),dt=$.material;if(Array.isArray(dt)){const xt=ct.groups;for(let Mt=0,Ct=xt.length;Mt<Ct;Mt++){const Rt=xt[Mt],Kt=dt[Rt.materialIndex];Kt&&Kt.visible&&m.push($,ct,Kt,_e,Z.z,Rt)}}else dt.visible&&m.push($,ct,dt,_e,Z.z,null)}}const ot=$.children;for(let ct=0,dt=ot.length;ct<dt;ct++)Fn(ot[ct],ce,_e,ae)}function yi($,ce,_e,ae){const Se=$.opaque,ot=$.transmissive,ct=$.transparent;v.setupLightsView(_e),V===!0&&pe.setGlobalState(g.clippingPlanes,_e),ot.length>0&&qt(Se,ot,ce,_e),ae&&we.viewport(B.copy(ae)),Se.length>0&&rr(Se,ce,_e),ot.length>0&&rr(ot,ce,_e),ct.length>0&&rr(ct,ce,_e),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function qt($,ce,_e,ae){if(ee===null){const dt=he.isWebGL2;ee=new Hi(1024,1024,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?hs:Ia,minFilter:Io,samples:dt&&a===!0?4:0})}const Se=g.getRenderTarget();g.setRenderTarget(ee),g.clear();const ot=g.toneMapping;g.toneMapping=Xs,rr($,_e,ae),be.updateMultisampleRenderTarget(ee),be.updateRenderTargetMipmap(ee);let ct=!1;for(let dt=0,xt=ce.length;dt<xt;dt++){const Mt=ce[dt],Ct=Mt.object,Rt=Mt.geometry,Kt=Mt.material,mr=Mt.group;if(Kt.side===us&&Ct.layers.test(ae.layers)){const xi=Kt.side;Kt.side=Jr,Kt.needsUpdate=!0,Sr(Ct,_e,ae,Rt,Kt,mr),Kt.side=xi,Kt.needsUpdate=!0,ct=!0}}ct===!0&&(be.updateMultisampleRenderTarget(ee),be.updateRenderTargetMipmap(ee)),g.setRenderTarget(Se),g.toneMapping=ot}function rr($,ce,_e){const ae=ce.isScene===!0?ce.overrideMaterial:null;for(let Se=0,ot=$.length;Se<ot;Se++){const ct=$[Se],dt=ct.object,xt=ct.geometry,Mt=ae===null?ct.material:ae,Ct=ct.group;dt.layers.test(_e.layers)&&Sr(dt,ce,_e,xt,Mt,Ct)}}function Sr($,ce,_e,ae,Se,ot){$.onBeforeRender(g,ce,_e,ae,Se,ot),$.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Se.onBeforeRender(g,ce,_e,ae,$,ot),Se.transparent===!0&&Se.side===us&&Se.forceSinglePass===!1?(Se.side=Jr,Se.needsUpdate=!0,g.renderBufferDirect(_e,ce,ae,Se,$,ot),Se.side=Po,Se.needsUpdate=!0,g.renderBufferDirect(_e,ce,ae,Se,$,ot),Se.side=us):g.renderBufferDirect(_e,ce,ae,Se,$,ot),$.onAfterRender(g,ce,_e,ae,Se,ot)}function Es($,ce,_e){ce.isScene!==!0&&(ce=de);const ae=fe.get($),Se=v.state.lights,ot=v.state.shadowsArray,ct=Se.state.version,dt=Ve.getParameters($,Se.state,ot,ce,_e),xt=Ve.getProgramCacheKey(dt);let Mt=ae.programs;ae.environment=$.isMeshStandardMaterial?ce.environment:null,ae.fog=ce.fog,ae.envMap=($.isMeshStandardMaterial?Pe:De).get($.envMap||ae.environment),Mt===void 0&&($.addEventListener("dispose",Wt),Mt=new Map,ae.programs=Mt);let Ct=Mt.get(xt);if(Ct!==void 0){if(ae.currentProgram===Ct&&ae.lightsStateVersion===ct)return Ju($,dt),Ct}else dt.uniforms=Ve.getUniforms($),$.onBuild(_e,dt,g),$.onBeforeCompile(dt,g),Ct=Ve.acquireProgram(dt,xt),Mt.set(xt,Ct),ae.uniforms=dt.uniforms;const Rt=ae.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Rt.clippingPlanes=pe.uniform),Ju($,dt),ae.needsLights=p_($),ae.lightsStateVersion=ct,ae.needsLights&&(Rt.ambientLightColor.value=Se.state.ambient,Rt.lightProbe.value=Se.state.probe,Rt.directionalLights.value=Se.state.directional,Rt.directionalLightShadows.value=Se.state.directionalShadow,Rt.spotLights.value=Se.state.spot,Rt.spotLightShadows.value=Se.state.spotShadow,Rt.rectAreaLights.value=Se.state.rectArea,Rt.ltc_1.value=Se.state.rectAreaLTC1,Rt.ltc_2.value=Se.state.rectAreaLTC2,Rt.pointLights.value=Se.state.point,Rt.pointLightShadows.value=Se.state.pointShadow,Rt.hemisphereLights.value=Se.state.hemi,Rt.directionalShadowMap.value=Se.state.directionalShadowMap,Rt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Rt.spotShadowMap.value=Se.state.spotShadowMap,Rt.spotLightMatrix.value=Se.state.spotLightMatrix,Rt.spotLightMap.value=Se.state.spotLightMap,Rt.pointShadowMap.value=Se.state.pointShadowMap,Rt.pointShadowMatrix.value=Se.state.pointShadowMatrix);const Kt=Ct.getUniforms(),mr=ax.seqWithValue(Kt.seq,Rt);return ae.currentProgram=Ct,ae.uniformsList=mr,Ct}function Ju($,ce){const _e=fe.get($);_e.outputEncoding=ce.outputEncoding,_e.instancing=ce.instancing,_e.skinning=ce.skinning,_e.morphTargets=ce.morphTargets,_e.morphNormals=ce.morphNormals,_e.morphColors=ce.morphColors,_e.morphTargetsCount=ce.morphTargetsCount,_e.numClippingPlanes=ce.numClippingPlanes,_e.numIntersection=ce.numClipIntersection,_e.vertexAlphas=ce.vertexAlphas,_e.vertexTangents=ce.vertexTangents,_e.toneMapping=ce.toneMapping}function oo($,ce,_e,ae,Se){ce.isScene!==!0&&(ce=de),be.resetTextureUnits();const ot=ce.fog,ct=ae.isMeshStandardMaterial?ce.environment:null,dt=E===null?g.outputEncoding:E.isXRRenderTarget===!0?E.texture.encoding:Zs,xt=(ae.isMeshStandardMaterial?Pe:De).get(ae.envMap||ct),Mt=ae.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,Ct=!!ae.normalMap&&!!_e.attributes.tangent,Rt=!!_e.morphAttributes.position,Kt=!!_e.morphAttributes.normal,mr=!!_e.morphAttributes.color,xi=ae.toneMapped?g.toneMapping:Xs,Ms=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,sn=Ms!==void 0?Ms.length:0,Pt=fe.get(ae),fc=v.state.lights;if(V===!0&&(q===!0||$!==I)){const Zt=$===I&&ae.id===M;pe.setState(ae,$,Zt)}let Un=!1;ae.version===Pt.__version?(Pt.needsLights&&Pt.lightsStateVersion!==fc.state.version||Pt.outputEncoding!==dt||Se.isInstancedMesh&&Pt.instancing===!1||!Se.isInstancedMesh&&Pt.instancing===!0||Se.isSkinnedMesh&&Pt.skinning===!1||!Se.isSkinnedMesh&&Pt.skinning===!0||Pt.envMap!==xt||ae.fog===!0&&Pt.fog!==ot||Pt.numClippingPlanes!==void 0&&(Pt.numClippingPlanes!==pe.numPlanes||Pt.numIntersection!==pe.numIntersection)||Pt.vertexAlphas!==Mt||Pt.vertexTangents!==Ct||Pt.morphTargets!==Rt||Pt.morphNormals!==Kt||Pt.morphColors!==mr||Pt.toneMapping!==xi||he.isWebGL2===!0&&Pt.morphTargetsCount!==sn)&&(Un=!0):(Un=!0,Pt.__version=ae.version);let Cs=Pt.currentProgram;Un===!0&&(Cs=Es(ae,ce,Se));let zo=!1,qr=!1,Yt=!1;const bt=Cs.getUniforms(),Ar=Pt.uniforms;if(we.useProgram(Cs.program)&&(zo=!0,qr=!0,Yt=!0),ae.id!==M&&(M=ae.id,qr=!0),zo||I!==$){if(bt.setValue(Q,"projectionMatrix",$.projectionMatrix),he.logarithmicDepthBuffer&&bt.setValue(Q,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),I!==$&&(I=$,qr=!0,Yt=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const Zt=bt.map.cameraPosition;Zt!==void 0&&Zt.setValue(Q,Z.setFromMatrixPosition($.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&bt.setValue(Q,"isOrthographic",$.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||Se.isSkinnedMesh)&&bt.setValue(Q,"viewMatrix",$.matrixWorldInverse)}if(Se.isSkinnedMesh){bt.setOptional(Q,Se,"bindMatrix"),bt.setOptional(Q,Se,"bindMatrixInverse");const Zt=Se.skeleton;Zt&&(he.floatVertexTextures?(Zt.boneTexture===null&&Zt.computeBoneTexture(),bt.setValue(Q,"boneTexture",Zt.boneTexture,be),bt.setValue(Q,"boneTextureSize",Zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Hn=_e.morphAttributes;if((Hn.position!==void 0||Hn.normal!==void 0||Hn.color!==void 0&&he.isWebGL2===!0)&&Ne.update(Se,_e,Cs),(qr||Pt.receiveShadow!==Se.receiveShadow)&&(Pt.receiveShadow=Se.receiveShadow,bt.setValue(Q,"receiveShadow",Se.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(Ar.envMap.value=xt,Ar.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),qr&&(bt.setValue(Q,"toneMappingExposure",g.toneMappingExposure),Pt.needsLights&&Kh(Ar,Yt),ot&&ae.fog===!0&&ft.refreshFogUniforms(Ar,ot),ft.refreshMaterialUniforms(Ar,ae,H,z,ee),ax.upload(Q,Pt.uniformsList,Ar,be)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(ax.upload(Q,Pt.uniformsList,Ar,be),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&bt.setValue(Q,"center",Se.center),bt.setValue(Q,"modelViewMatrix",Se.modelViewMatrix),bt.setValue(Q,"normalMatrix",Se.normalMatrix),bt.setValue(Q,"modelMatrix",Se.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const Zt=ae.uniformsGroups;for(let Ts=0,ja=Zt.length;Ts<ja;Ts++)if(he.isWebGL2){const gr=Zt[Ts];Ye.update(gr,Cs),Ye.bind(gr,Cs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Cs}function Kh($,ce){$.ambientLightColor.needsUpdate=ce,$.lightProbe.needsUpdate=ce,$.directionalLights.needsUpdate=ce,$.directionalLightShadows.needsUpdate=ce,$.pointLights.needsUpdate=ce,$.pointLightShadows.needsUpdate=ce,$.spotLights.needsUpdate=ce,$.spotLightShadows.needsUpdate=ce,$.rectAreaLights.needsUpdate=ce,$.hemisphereLights.needsUpdate=ce}function p_($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function($,ce,_e){fe.get($.texture).__webglTexture=ce,fe.get($.depthTexture).__webglTexture=_e;const ae=fe.get($);ae.__hasExternalTextures=!0,ae.__hasExternalTextures&&(ae.__autoAllocateDepthBuffer=_e===void 0,ae.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ce){const _e=fe.get($);_e.__webglFramebuffer=ce,_e.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function($,ce=0,_e=0){E=$,b=ce,S=_e;let ae=!0,Se=null,ot=!1,ct=!1;if($){const xt=fe.get($);xt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),ae=!1):xt.__webglFramebuffer===void 0?be.setupRenderTarget($):xt.__hasExternalTextures&&be.rebindTextures($,fe.get($.texture).__webglTexture,fe.get($.depthTexture).__webglTexture);const Mt=$.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(ct=!0);const Ct=fe.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Se=Ct[ce],ot=!0):he.isWebGL2&&$.samples>0&&be.useMultisampledRTT($)===!1?Se=fe.get($).__webglMultisampledFramebuffer:Se=Ct,B.copy($.viewport),T.copy($.scissor),P=$.scissorTest}else B.copy(X).multiplyScalar(H).floor(),T.copy(Y).multiplyScalar(H).floor(),P=k;if(we.bindFramebuffer(36160,Se)&&he.drawBuffers&&ae&&we.drawBuffers($,Se),we.viewport(B),we.scissor(T),we.setScissorTest(P),ot){const xt=fe.get($.texture);Q.framebufferTexture2D(36160,36064,34069+ce,xt.__webglTexture,_e)}else if(ct){const xt=fe.get($.texture),Mt=ce||0;Q.framebufferTextureLayer(36160,36064,xt.__webglTexture,_e||0,Mt)}M=-1},this.readRenderTargetPixels=function($,ce,_e,ae,Se,ot,ct){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=fe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&ct!==void 0&&(dt=dt[ct]),dt){we.bindFramebuffer(36160,dt);try{const xt=$.texture,Mt=xt.format,Ct=xt.type;if(Mt!==ai&&xe.convert(Mt)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Rt=Ct===hs&&(ue.has("EXT_color_buffer_half_float")||he.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Ct!==Ia&&xe.convert(Ct)!==Q.getParameter(35738)&&!(Ct===Pi&&(he.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Rt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=$.width-ae&&_e>=0&&_e<=$.height-Se&&Q.readPixels(ce,_e,ae,Se,xe.convert(Mt),xe.convert(Ct),ot)}finally{const xt=E!==null?fe.get(E).__webglFramebuffer:null;we.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function($,ce,_e=0){const ae=Math.pow(2,-_e),Se=Math.floor(ce.image.width*ae),ot=Math.floor(ce.image.height*ae);be.setTexture2D(ce,0),Q.copyTexSubImage2D(3553,_e,0,0,$.x,$.y,Se,ot),we.unbindTexture()},this.copyTextureToTexture=function($,ce,_e,ae=0){const Se=ce.image.width,ot=ce.image.height,ct=xe.convert(_e.format),dt=xe.convert(_e.type);be.setTexture2D(_e,0),Q.pixelStorei(37440,_e.flipY),Q.pixelStorei(37441,_e.premultiplyAlpha),Q.pixelStorei(3317,_e.unpackAlignment),ce.isDataTexture?Q.texSubImage2D(3553,ae,$.x,$.y,Se,ot,ct,dt,ce.image.data):ce.isCompressedTexture?Q.compressedTexSubImage2D(3553,ae,$.x,$.y,ce.mipmaps[0].width,ce.mipmaps[0].height,ct,ce.mipmaps[0].data):Q.texSubImage2D(3553,ae,$.x,$.y,ct,dt,ce.image),ae===0&&_e.generateMipmaps&&Q.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function($,ce,_e,ae,Se=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=$.max.x-$.min.x+1,ct=$.max.y-$.min.y+1,dt=$.max.z-$.min.z+1,xt=xe.convert(ae.format),Mt=xe.convert(ae.type);let Ct;if(ae.isData3DTexture)be.setTexture3D(ae,0),Ct=32879;else if(ae.isDataArrayTexture)be.setTexture2DArray(ae,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ae.flipY),Q.pixelStorei(37441,ae.premultiplyAlpha),Q.pixelStorei(3317,ae.unpackAlignment);const Rt=Q.getParameter(3314),Kt=Q.getParameter(32878),mr=Q.getParameter(3316),xi=Q.getParameter(3315),Ms=Q.getParameter(32877),sn=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;Q.pixelStorei(3314,sn.width),Q.pixelStorei(32878,sn.height),Q.pixelStorei(3316,$.min.x),Q.pixelStorei(3315,$.min.y),Q.pixelStorei(32877,$.min.z),_e.isDataTexture||_e.isData3DTexture?Q.texSubImage3D(Ct,Se,ce.x,ce.y,ce.z,ot,ct,dt,xt,Mt,sn.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(Ct,Se,ce.x,ce.y,ce.z,ot,ct,dt,xt,sn.data)):Q.texSubImage3D(Ct,Se,ce.x,ce.y,ce.z,ot,ct,dt,xt,Mt,sn),Q.pixelStorei(3314,Rt),Q.pixelStorei(32878,Kt),Q.pixelStorei(3316,mr),Q.pixelStorei(3315,xi),Q.pixelStorei(32877,Ms),Se===0&&ae.generateMipmaps&&Q.generateMipmap(Ct),we.unbindTexture()},this.initTexture=function($){$.isCubeTexture?be.setTextureCube($,0):$.isData3DTexture?be.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?be.setTexture2DArray($,0):be.setTexture2D($,0),we.unbindTexture()},this.resetState=function(){b=0,S=0,E=null,we.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class Zz extends yR{}Zz.prototype.isWebGL1Renderer=!0;class ub{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Oe(e),this.density=t}clone(){return new ub(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class fb{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Oe(e),this.near=t,this.far=r}clone(){return new fb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class eg extends Ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Dg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hr=new G;class Wl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.applyMatrix4(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.applyNormalMatrix(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Hr.fromBufferAttribute(this,t),Hr.transformDirection(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ii(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ii(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ii(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ii(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),r=Et(r,this.array),i=Et(i,this.array),s=Et(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xR extends Xn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Af;const Mp=new G,Ef=new G,Mf=new G,Cf=new Me,Cp=new Me,eG=new ut,Yv=new G,Tp=new G,Qv=new G,R3=new Me,dS=new Me,P3=new Me;class tG extends Ft{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Af===void 0){Af=new yt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Dg(t,5);Af.setIndex([0,1,2,0,2,3]),Af.setAttribute("position",new Wl(r,3,0,!1)),Af.setAttribute("uv",new Wl(r,2,3,!1))}this.geometry=Af,this.material=e!==void 0?e:new xR,this.center=new Me(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ef.setFromMatrixScale(this.matrixWorld),eG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Mf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ef.multiplyScalar(-Mf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;qv(Yv.set(-.5,-.5,0),Mf,o,Ef,i,s),qv(Tp.set(.5,-.5,0),Mf,o,Ef,i,s),qv(Qv.set(.5,.5,0),Mf,o,Ef,i,s),R3.set(0,0),dS.set(1,0),P3.set(1,1);let a=e.ray.intersectTriangle(Yv,Tp,Qv,!1,Mp);if(a===null&&(qv(Tp.set(-.5,.5,0),Mf,o,Ef,i,s),dS.set(0,1),a=e.ray.intersectTriangle(Yv,Qv,Tp,!1,Mp),a===null))return;const l=e.ray.origin.distanceTo(Mp);l<e.near||l>e.far||t.push({distance:l,point:Mp.clone(),uv:oi.getInterpolation(Mp,Yv,Tp,Qv,R3,dS,P3,new Me),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function qv(n,e,t,r,i,s){Cf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Cp.x=s*Cf.x-i*Cf.y,Cp.y=i*Cf.x+s*Cf.y):Cp.copy(Cf),n.copy(e),n.x+=Cp.x,n.y+=Cp.y,n.applyMatrix4(eG)}const Zv=new G,I3=new G;class nG extends Ft{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Zv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Zv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Zv.setFromMatrixPosition(e.matrixWorld),I3.setFromMatrixPosition(this.matrixWorld);const r=Zv.distanceTo(I3)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const B3=new G,L3=new Ut,D3=new Ut,Iee=new G,O3=new ut,Tf=new G;class bR extends Jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ss),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Tf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Tf),this.boundingBox.expandByPoint(Tf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new As),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Tf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Tf),this.boundingSphere.expandByPoint(Tf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;L3.fromBufferAttribute(i.attributes.skinIndex,e),D3.fromBufferAttribute(i.attributes.skinWeight,e),B3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=D3.getComponent(s);if(o!==0){const a=L3.getComponent(s);O3.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Iee.copy(B3).applyMatrix4(O3),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class db extends Ft{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Dd extends bn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Pn,u=Pn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const k3=new ut,Bee=new ut;class Og{constructor(e=[],t=[]){this.uuid=ki(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Bee;k3.multiplyMatrices(a,t[s]),k3.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Og(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Uz(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Dd(t,e,e,ai,Pi);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new db),this.bones.push(o),this.boneInverses.push(new ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class rh extends jt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rf=new ut,N3=new ut,ey=[],F3=new Ss,Lee=new ut,Rp=new Jn,Pp=new As;class rG extends Jn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new rh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Lee)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ss),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Rf),F3.copy(e.boundingBox).applyMatrix4(Rf),this.boundingBox.union(F3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new As),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Rf),Pp.copy(e.boundingSphere).applyMatrix4(Rf),this.boundingSphere.union(Pp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Rp.geometry=this.geometry,Rp.material=this.material,Rp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Pp.copy(this.boundingSphere),Pp.applyMatrix4(r),e.ray.intersectsSphere(Pp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Rf),N3.multiplyMatrices(r,Rf),Rp.matrixWorld=N3,Rp.raycast(e,ey);for(let o=0,a=ey.length;o<a;o++){const l=ey[o];l.instanceId=s,l.object=this,t.push(l)}ey.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new rh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Nr extends Xn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const U3=new G,H3=new G,z3=new ut,hS=new Ig,ty=new As;class Ba extends Ft{constructor(e=new yt,t=new Nr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)U3.fromBufferAttribute(t,i-1),H3.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=U3.distanceTo(H3);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ty.copy(r.boundingSphere),ty.applyMatrix4(i),ty.radius+=s,e.ray.intersectsSphere(ty)===!1)return;z3.copy(i).invert(),hS.copy(e.ray).applyMatrix4(z3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new G,u=new G,f=new G,p=new G,m=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=m){const E=v.getX(b),M=v.getX(b+1);if(c.fromBufferAttribute(x,E),u.fromBufferAttribute(x,M),hS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=m){if(c.fromBufferAttribute(x,b),u.fromBufferAttribute(x,b+1),hS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||t.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const G3=new G,V3=new G;class to extends Ba{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)G3.fromBufferAttribute(t,i),V3.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+G3.distanceTo(V3);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _R extends Ba{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class hb extends Xn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $3=new ut,_M=new Ig,ny=new As,ry=new G;class wR extends Ft{constructor(e=new yt,t=new hb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ny.copy(r.boundingSphere),ny.applyMatrix4(i),ny.radius+=s,e.ray.intersectsSphere(ny)===!1)return;$3.copy(i).invert(),_M.copy(e.ray).applyMatrix4($3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const x=c.getX(v);ry.fromBufferAttribute(f,x),W3(ry,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,y=m;v<y;v++)ry.fromBufferAttribute(f,v),W3(ry,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function W3(n,e,t,r,i,s,o){const a=_M.distanceSqToPoint(n);if(a<t){const l=new G;_M.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Dee extends bn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:mn,this.magFilter=s!==void 0?s:mn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Oee extends bn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Pn,this.minFilter=Pn,this.generateMipmaps=!1,this.needsUpdate=!0}}class SR extends bn{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kee extends SR{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=xr}}class Nee extends bn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class no{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Me:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new G,i=[],s=[],o=[],a=new G,l=new ut;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new G)}s[0]=new G,o[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(In(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(In(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class pb extends no{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Me,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class iG extends pb{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function AR(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const iy=new G,pS=new AR,mS=new AR,gS=new AR;class sG extends no{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new G){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(iy.subVectors(i[0],i[1]).add(i[0]),c=iy);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(iy.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=iy),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),pS.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,v,y,x),mS.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,v,y,x),gS.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,v,y,x)}else this.curveType==="catmullrom"&&(pS.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),mS.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),gS.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(pS.calc(l),mS.calc(l),gS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function j3(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Fee(n,e){const t=1-n;return t*t*e}function Uee(n,e){return 2*(1-n)*n*e}function Hee(n,e){return n*n*e}function ym(n,e,t,r){return Fee(n,e)+Uee(n,t)+Hee(n,r)}function zee(n,e){const t=1-n;return t*t*t*e}function Gee(n,e){const t=1-n;return 3*t*t*n*e}function Vee(n,e){return 3*(1-n)*n*n*e}function $ee(n,e){return n*n*n*e}function xm(n,e,t,r,i){return zee(n,e)+Gee(n,t)+Vee(n,r)+$ee(n,i)}class ER extends no{constructor(e=new Me,t=new Me,r=new Me,i=new Me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Me){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(xm(e,i.x,s.x,o.x,a.x),xm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class oG extends no{constructor(e=new G,t=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new G){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(xm(e,i.x,s.x,o.x,a.x),xm(e,i.y,s.y,o.y,a.y),xm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mb extends no{constructor(e=new Me,t=new Me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Me){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Me){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aG extends no{constructor(e=new G,t=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new G){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new G){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MR extends no{constructor(e=new Me,t=new Me,r=new Me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Me){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ym(e,i.x,s.x,o.x),ym(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CR extends no{constructor(e=new G,t=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new G){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ym(e,i.x,s.x,o.x),ym(e,i.y,s.y,o.y),ym(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TR extends no{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Me){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(j3(a,l.x,c.x,u.x,f.x),j3(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Me().fromArray(i))}return this}}var RR=Object.freeze({__proto__:null,ArcCurve:iG,CatmullRomCurve3:sG,CubicBezierCurve:ER,CubicBezierCurve3:oG,EllipseCurve:pb,LineCurve:mb,LineCurve3:aG,QuadraticBezierCurve:MR,QuadraticBezierCurve3:CR,SplineCurve:TR});class lG extends no{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new mb(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new RR[i.type]().fromJSON(i))}return this}}class tg extends lG{constructor(e){super(),this.type="Path",this.currentPoint=new Me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new mb(this.currentPoint.clone(),new Me(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new MR(this.currentPoint.clone(),new Me(e,t),new Me(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new ER(this.currentPoint.clone(),new Me(e,t),new Me(r,i),new Me(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new TR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new pb(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Th extends yt{constructor(e=[new Me(0,-.5),new Me(.5,0),new Me(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=In(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new G,p=new Me,m=new G,v=new G,y=new G;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let _=0;_<=t;_++){const b=r+_*u*i,S=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*S,f.y=e[M].y,f.z=e[M].x*E,o.push(f.x,f.y,f.z),p.x=_/t,p.y=M/(e.length-1),a.push(p.x,p.y);const I=l[3*M+0]*S,B=l[3*M+1],T=l[3*M+0]*E;c.push(I,B,T)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,E=S,M=S+e.length,I=S+e.length+1,B=S+1;s.push(E,M,B),s.push(I,B,M)}this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2)),this.setAttribute("normal",new Xe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Th(e.points,e.segments,e.phiStart,e.phiLength)}}class kg extends Th{constructor(e=1,t=1,r=4,i=8){const s=new tg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new kg(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ng extends yt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new G,u=new Me;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ng(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bu extends yt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let v=0;const y=[],x=r/2;let g=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function _(){const S=new G,E=new G;let M=0;const I=(t-e)/r;for(let B=0;B<=s;B++){const T=[],P=B/s,O=P*(t-e)+e;for(let z=0;z<=i;z++){const H=z/i,N=H*l+a,J=Math.sin(N),X=Math.cos(N);E.x=O*J,E.y=-P*r+x,E.z=O*X,f.push(E.x,E.y,E.z),S.set(J,I,X).normalize(),p.push(S.x,S.y,S.z),m.push(H,1-P),T.push(v++)}y.push(T)}for(let B=0;B<i;B++)for(let T=0;T<s;T++){const P=y[T][B],O=y[T+1][B],z=y[T+1][B+1],H=y[T][B+1];u.push(P,O,H),u.push(O,z,H),M+=6}c.addGroup(g,M,0),g+=M}function b(S){const E=v,M=new Me,I=new G;let B=0;const T=S===!0?e:t,P=S===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,x*P,0),p.push(0,P,0),m.push(.5,.5),v++;const O=v;for(let z=0;z<=i;z++){const N=z/i*l+a,J=Math.cos(N),X=Math.sin(N);I.x=T*X,I.y=x*P,I.z=T*J,f.push(I.x,I.y,I.z),p.push(0,P,0),M.x=J*.5+.5,M.y=X*.5*P+.5,m.push(M.x,M.y),v++}for(let z=0;z<i;z++){const H=E+z,N=O+z;S===!0?u.push(N,N+1,H):u.push(N+1,N,H),B+=3}c.addGroup(g,B,S===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fg extends Bu{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Fg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ha extends yt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(s.slice(),3)),this.setAttribute("uv",new Xe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new G,S=new G,E=new G;for(let M=0;M<t.length;M+=3)m(t[M+0],b),m(t[M+1],S),m(t[M+2],E),l(b,S,E,_)}function l(_,b,S,E){const M=E+1,I=[];for(let B=0;B<=M;B++){I[B]=[];const T=_.clone().lerp(S,B/M),P=b.clone().lerp(S,B/M),O=M-B;for(let z=0;z<=O;z++)z===0&&B===M?I[B][z]=T:I[B][z]=T.clone().lerp(P,z/O)}for(let B=0;B<M;B++)for(let T=0;T<2*(M-B)-1;T++){const P=Math.floor(T/2);T%2===0?(p(I[B][P+1]),p(I[B+1][P]),p(I[B][P])):(p(I[B][P+1]),p(I[B+1][P+1]),p(I[B+1][P]))}}function c(_){const b=new G;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(_),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function u(){const _=new G;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const S=x(_)/2/Math.PI+.5,E=g(_)/Math.PI+.5;o.push(S,1-E)}v(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],S=o[_+2],E=o[_+4],M=Math.max(b,S,E),I=Math.min(b,S,E);M>.9&&I<.1&&(b<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function v(){const _=new G,b=new G,S=new G,E=new G,M=new Me,I=new Me,B=new Me;for(let T=0,P=0;T<s.length;T+=9,P+=6){_.set(s[T+0],s[T+1],s[T+2]),b.set(s[T+3],s[T+4],s[T+5]),S.set(s[T+6],s[T+7],s[T+8]),M.set(o[P+0],o[P+1]),I.set(o[P+2],o[P+3]),B.set(o[P+4],o[P+5]),E.copy(_).add(b).add(S).divideScalar(3);const O=x(E);y(M,P+0,_,O),y(I,P+2,b,O),y(B,P+4,S,O)}}function y(_,b,S,E){E<0&&_.x===1&&(o[b]=_.x-1),S.x===0&&S.z===0&&(o[b]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ha(e.vertices,e.indices,e.radius,e.details)}}class Ug extends Ha{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ug(e.radius,e.detail)}}const sy=new G,oy=new G,vS=new G,ay=new oi;class cG extends yt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(cu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:x,c:g}=ay;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),ay.getNormal(vS),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=f[_],E=f[b],M=ay[u[_]],I=ay[u[b]],B=`${S}_${E}`,T=`${E}_${S}`;T in p&&p[T]?(vS.dot(p[T].normal)<=s&&(m.push(M.x,M.y,M.z),m.push(I.x,I.y,I.z)),p[T]=null):B in p||(p[B]={index0:c[_],index1:c[b],normal:vS.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];sy.fromBufferAttribute(a,y),oy.fromBufferAttribute(a,x),m.push(sy.x,sy.y,sy.z),m.push(oy.x,oy.y,oy.z)}this.setAttribute("position",new Xe(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fu extends tg{constructor(e){super(e),this.uuid=ki(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new tg().fromJSON(i))}return this}}const Wee={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=uG(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=Yee(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<i;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return ng(s,o,t,a,l,m,0),o}};function uG(n,e,t,r,i){let s,o;if(i===ate(n,e,t,r)>0)for(s=e;s<t;s+=r)o=J3(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=J3(s,n[s],n[s+1],o);return o&&gb(o,o.next)&&(ig(o),o=o.next),o}function _u(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(gb(t,t.next)||Sn(t.prev,t,t.next)===0)){if(ig(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ng(n,e,t,r,i,s,o){if(!n)return;!o&&s&&tte(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Jee(n,r,i,s):jee(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),ig(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Kee(_u(n),e,t),ng(n,e,t,r,i,s,2)):o===2&&Xee(n,e,t,r,i,s):ng(_u(n),e,t,r,i,s,1);break}}}function jee(n){const e=n.prev,t=n,r=n.next;if(Sn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=f&&v.y<=m&&vd(i,a,s,l,o,c,v.x,v.y)&&Sn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Jee(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Sn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<f?u<p?u:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,x=u>f?u>p?u:p:f>p?f:p,g=wM(m,v,e,t,r),_=wM(y,x,e,t,r);let b=n.prevZ,S=n.nextZ;for(;b&&b.z>=g&&S&&S.z<=_;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==i&&b!==o&&vd(a,u,l,f,c,p,b.x,b.y)&&Sn(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&vd(a,u,l,f,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=g;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=x&&b!==i&&b!==o&&vd(a,u,l,f,c,p,b.x,b.y)&&Sn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&vd(a,u,l,f,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Kee(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!gb(i,s)&&fG(i,r,r.next,s)&&rg(i,s)&&rg(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),ig(r),ig(r.next),r=n=s),r=r.next}while(r!==n);return _u(r)}function Xee(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ite(o,a)){let l=dG(o,a);o=_u(o,o.next),l=_u(l,l.next),ng(o,e,t,r,i,s,0),ng(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Yee(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=uG(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(rte(c));for(i.sort(Qee),s=0;s<i.length;s++)t=qee(i[s],t);return t}function Qee(n,e){return n.x-e.x}function qee(n,e){const t=Zee(n,e);if(!t)return e;const r=dG(t,n);return _u(r,r.next),_u(t,t.next)}function Zee(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&vd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),rg(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&ete(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function ete(n,e){return Sn(n.prev,n,e.prev)<0&&Sn(e.next,n,n.next)<0}function tte(n,e,t,r){let i=n;do i.z===0&&(i.z=wM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,nte(i)}function nte(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function wM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function rte(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function vd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function ite(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ste(n,e)&&(rg(n,e)&&rg(e,n)&&ote(n,e)&&(Sn(n.prev,n,e.prev)||Sn(n,e.prev,e))||gb(n,e)&&Sn(n.prev,n,n.next)>0&&Sn(e.prev,e,e.next)>0)}function Sn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function gb(n,e){return n.x===e.x&&n.y===e.y}function fG(n,e,t,r){const i=cy(Sn(n,e,t)),s=cy(Sn(n,e,r)),o=cy(Sn(t,r,n)),a=cy(Sn(t,r,e));return!!(i!==s&&o!==a||i===0&&ly(n,t,e)||s===0&&ly(n,r,e)||o===0&&ly(t,n,r)||a===0&&ly(t,e,r))}function ly(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function cy(n){return n>0?1:n<0?-1:0}function ste(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&fG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function rg(n,e){return Sn(n.prev,n,n.next)<0?Sn(n,e,n.next)>=0&&Sn(n,n.prev,e)>=0:Sn(n,e,n.prev)<0||Sn(n,n.next,e)<0}function ote(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function dG(n,e){const t=new SM(n.i,n.x,n.y),r=new SM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function J3(n,e,t,r){const i=new SM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ig(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function SM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ate(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class wo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return wo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];K3(e),X3(r,e);let o=e.length;t.forEach(K3);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,X3(r,t[l]);const a=Wee.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function K3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function X3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Hg extends yt{constructor(e=new fu([new Me(.5,.5),new Me(-.5,.5),new Me(-.5,-.5),new Me(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Xe(i,3)),this.setAttribute("uv",new Xe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:lte;let b,S=!1,E,M,I,B;g&&(b=g.getSpacedPoints(u),S=!0,p=!1,E=g.computeFrenetFrames(u,!1),M=new G,I=new G,B=new G),p||(x=0,m=0,v=0,y=0);const T=a.extractPoints(c);let P=T.shape;const O=T.holes;if(!wo.isClockWise(P)){P=P.reverse();for(let me=0,fe=O.length;me<fe;me++){const be=O[me];wo.isClockWise(be)&&(O[me]=be.reverse())}}const H=wo.triangulateShape(P,O),N=P;for(let me=0,fe=O.length;me<fe;me++){const be=O[me];P=P.concat(be)}function J(me,fe,be){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(fe,be)}const X=P.length,Y=H.length;function k(me,fe,be){let De,Pe,ke;const Ae=me.x-fe.x,Be=me.y-fe.y,Ve=be.x-me.x,ft=be.y-me.y,W=Ae*Ae+Be*Be,F=Ae*ft-Be*Ve;if(Math.abs(F)>Number.EPSILON){const pe=Math.sqrt(W),Ce=Math.sqrt(Ve*Ve+ft*ft),Te=fe.x-Be/pe,Ne=fe.y+Ae/pe,rt=be.x-ft/Ce,Ge=be.y+Ve/Ce,xe=((rt-Te)*ft-(Ge-Ne)*Ve)/(Ae*ft-Be*Ve);De=Te+Ae*xe-me.x,Pe=Ne+Be*xe-me.y;const Ke=De*De+Pe*Pe;if(Ke<=2)return new Me(De,Pe);ke=Math.sqrt(Ke/2)}else{let pe=!1;Ae>Number.EPSILON?Ve>Number.EPSILON&&(pe=!0):Ae<-Number.EPSILON?Ve<-Number.EPSILON&&(pe=!0):Math.sign(Be)===Math.sign(ft)&&(pe=!0),pe?(De=-Be,Pe=Ae,ke=Math.sqrt(W)):(De=Ae,Pe=Be,ke=Math.sqrt(W/2))}return new Me(De/ke,Pe/ke)}const U=[];for(let me=0,fe=N.length,be=fe-1,De=me+1;me<fe;me++,be++,De++)be===fe&&(be=0),De===fe&&(De=0),U[me]=k(N[me],N[be],N[De]);const V=[];let q,ee=U.concat();for(let me=0,fe=O.length;me<fe;me++){const be=O[me];q=[];for(let De=0,Pe=be.length,ke=Pe-1,Ae=De+1;De<Pe;De++,ke++,Ae++)ke===Pe&&(ke=0),Ae===Pe&&(Ae=0),q[De]=k(be[De],be[ke],be[Ae]);V.push(q),ee=ee.concat(q)}for(let me=0;me<x;me++){const fe=me/x,be=m*Math.cos(fe*Math.PI/2),De=v*Math.sin(fe*Math.PI/2)+y;for(let Pe=0,ke=N.length;Pe<ke;Pe++){const Ae=J(N[Pe],U[Pe],De);Q(Ae.x,Ae.y,-be)}for(let Pe=0,ke=O.length;Pe<ke;Pe++){const Ae=O[Pe];q=V[Pe];for(let Be=0,Ve=Ae.length;Be<Ve;Be++){const ft=J(Ae[Be],q[Be],De);Q(ft.x,ft.y,-be)}}}const se=v+y;for(let me=0;me<X;me++){const fe=p?J(P[me],ee[me],se):P[me];S?(I.copy(E.normals[0]).multiplyScalar(fe.x),M.copy(E.binormals[0]).multiplyScalar(fe.y),B.copy(b[0]).add(I).add(M),Q(B.x,B.y,B.z)):Q(fe.x,fe.y,0)}for(let me=1;me<=u;me++)for(let fe=0;fe<X;fe++){const be=p?J(P[fe],ee[fe],se):P[fe];S?(I.copy(E.normals[me]).multiplyScalar(be.x),M.copy(E.binormals[me]).multiplyScalar(be.y),B.copy(b[me]).add(I).add(M),Q(B.x,B.y,B.z)):Q(be.x,be.y,f/u*me)}for(let me=x-1;me>=0;me--){const fe=me/x,be=m*Math.cos(fe*Math.PI/2),De=v*Math.sin(fe*Math.PI/2)+y;for(let Pe=0,ke=N.length;Pe<ke;Pe++){const Ae=J(N[Pe],U[Pe],De);Q(Ae.x,Ae.y,f+be)}for(let Pe=0,ke=O.length;Pe<ke;Pe++){const Ae=O[Pe];q=V[Pe];for(let Be=0,Ve=Ae.length;Be<Ve;Be++){const ft=J(Ae[Be],q[Be],De);S?Q(ft.x,ft.y+b[u-1].y,b[u-1].x+be):Q(ft.x,ft.y,f+be)}}}Z(),de();function Z(){const me=i.length/3;if(p){let fe=0,be=X*fe;for(let De=0;De<Y;De++){const Pe=H[De];Ee(Pe[2]+be,Pe[1]+be,Pe[0]+be)}fe=u+x*2,be=X*fe;for(let De=0;De<Y;De++){const Pe=H[De];Ee(Pe[0]+be,Pe[1]+be,Pe[2]+be)}}else{for(let fe=0;fe<Y;fe++){const be=H[fe];Ee(be[2],be[1],be[0])}for(let fe=0;fe<Y;fe++){const be=H[fe];Ee(be[0]+X*u,be[1]+X*u,be[2]+X*u)}}r.addGroup(me,i.length/3-me,0)}function de(){const me=i.length/3;let fe=0;oe(N,fe),fe+=N.length;for(let be=0,De=O.length;be<De;be++){const Pe=O[be];oe(Pe,fe),fe+=Pe.length}r.addGroup(me,i.length/3-me,1)}function oe(me,fe){let be=me.length;for(;--be>=0;){const De=be;let Pe=be-1;Pe<0&&(Pe=me.length-1);for(let ke=0,Ae=u+x*2;ke<Ae;ke++){const Be=X*ke,Ve=X*(ke+1),ft=fe+De+Be,W=fe+Pe+Be,F=fe+Pe+Ve,pe=fe+De+Ve;ue(ft,W,F,pe)}}}function Q(me,fe,be){l.push(me),l.push(fe),l.push(be)}function Ee(me,fe,be){he(me),he(fe),he(be);const De=i.length/3,Pe=_.generateTopUV(r,i,De-3,De-2,De-1);we(Pe[0]),we(Pe[1]),we(Pe[2])}function ue(me,fe,be,De){he(me),he(fe),he(De),he(fe),he(be),he(De);const Pe=i.length/3,ke=_.generateSideWallUV(r,i,Pe-6,Pe-3,Pe-2,Pe-1);we(ke[0]),we(ke[1]),we(ke[3]),we(ke[1]),we(ke[2]),we(ke[3])}function he(me){i.push(l[me*3+0]),i.push(l[me*3+1]),i.push(l[me*3+2])}function we(me){s.push(me.x),s.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return cte(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new RR[i.type]().fromJSON(i)),new Hg(r,e.options)}}const lte={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Me(s,o),new Me(a,l),new Me(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Me(o,1-l),new Me(c,1-f),new Me(p,1-v),new Me(y,1-g)]:[new Me(a,1-l),new Me(u,1-f),new Me(m,1-v),new Me(x,1-g)]}};function cte(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Rh extends Ha{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Rh(e.radius,e.detail)}}class Ph extends Ha{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ph(e.radius,e.detail)}}class zg extends yt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new G,v=new Me;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const g=s+x/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}f+=p}for(let y=0;y<i;y++){const x=y*(r+1);for(let g=0;g<r;g++){const _=g+x,b=_,S=_+r+1,E=_+r+2,M=_+1;a.push(b,S,M),a.push(S,E,M)}}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Gg extends yt{constructor(e=new fu([new Me(0,.5),new Me(-.5,-.5),new Me(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Xe(i,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;wo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const _=v[x];wo.isClockWise(_)===!0&&(v[x]=_.reverse())}const y=wo.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const _=v[x];m=m.concat(_)}for(let x=0,g=m.length;x<g;x++){const _=m[x];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,g=y.length;x<g;x++){const _=y[x],b=_[0]+f,S=_[1]+f,E=_[2]+f;r.push(b,S,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ute(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Gg(r,e.curveSegments)}}function ute(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Ih extends yt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new G,p=new G,m=[],v=[],y=[],x=[];for(let g=0;g<=r;g++){const _=[],b=g/r;let S=0;g===0&&o===0?S=.5/t:g===r&&l===Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const M=E/t;f.x=-e*Math.cos(i+M*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+M*s)*Math.sin(o+b*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),x.push(M+S,1-b),_.push(c++)}u.push(_)}for(let g=0;g<r;g++)for(let _=0;_<t;_++){const b=u[g][_+1],S=u[g][_],E=u[g+1][_],M=u[g+1][_+1];(g!==0||o>0)&&m.push(b,S,M),(g!==r-1||l<Math.PI)&&m.push(S,E,M)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ih(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Vg extends Ha{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vg(e.radius,e.detail)}}class $g extends yt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new G,f=new G,p=new G;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,x=m/r*Math.PI*2;f.x=(e+t*Math.cos(x))*Math.cos(y),f.y=(e+t*Math.cos(x))*Math.sin(y),f.z=t*Math.sin(x),a.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,x=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,_=(i+1)*m+v;o.push(y,x,_),o.push(x,g,_)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $g(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Wg extends yt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new G,p=new G,m=new G,v=new G,y=new G,x=new G,g=new G;for(let b=0;b<=r;++b){const S=b/r*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),y.crossVectors(x,g),g.crossVectors(y,x),y.normalize(),g.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,I=-t*Math.cos(M),B=t*Math.sin(M);f.x=m.x+(I*g.x+B*y.x),f.y=m.y+(I*g.y+B*y.y),f.z=m.z+(I*g.z+B*y.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(E/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),I=(i+1)*b+S,B=(i+1)*(b-1)+S;a.push(E,M,B),a.push(M,I,B)}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(u,2));function _(b,S,E,M,I){const B=Math.cos(b),T=Math.sin(b),P=E/S*b,O=Math.cos(P);I.x=M*(2+O)*.5*B,I.y=M*(2+O)*T*.5,I.z=M*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jg extends yt{constructor(e=new CR(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,c=new Me;let u=new G;const f=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function y(){for(let b=0;b<t;b++)x(b);x(s===!1?t:0),_(),g()}function x(b){u=e.getPointAt(b/t,u);const S=o.normals[b],E=o.binormals[b];for(let M=0;M<=i;M++){const I=M/i*Math.PI*2,B=Math.sin(I),T=-Math.cos(I);l.x=T*S.x+B*E.x,l.y=T*S.y+B*E.y,l.z=T*S.z+B*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let b=1;b<=t;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),I=(i+1)*b+S,B=(i+1)*(b-1)+S;v.push(E,M,B),v.push(M,I,B)}}function _(){for(let b=0;b<=t;b++)for(let S=0;S<=i;S++)c.x=b/t,c.y=S/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jg(new RR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class hG extends yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let v=p,y=p+m;v<y;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),_=a.getX(v+(x+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),Y3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),Y3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Y3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var Q3=Object.freeze({__proto__:null,BoxGeometry:sc,CapsuleGeometry:kg,CircleGeometry:Ng,ConeGeometry:Fg,CylinderGeometry:Bu,DodecahedronGeometry:Ug,EdgesGeometry:cG,ExtrudeGeometry:Hg,IcosahedronGeometry:Rh,LatheGeometry:Th,OctahedronGeometry:Ph,PlaneGeometry:Eh,PolyhedronGeometry:Ha,RingGeometry:zg,ShapeGeometry:Gg,SphereGeometry:Ih,TetrahedronGeometry:Vg,TorusGeometry:$g,TorusKnotGeometry:Wg,TubeGeometry:jg,WireframeGeometry:hG});class pG extends Xn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Oe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class mG extends bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Bh extends Xn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class za extends Bh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return In(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class gG extends Xn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Oe(16777215),this.specular=new Oe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vG extends Xn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class yG extends Xn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class PR extends Xn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xG extends Xn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bG extends Nr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function as(n,e,t){return IR(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Zc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function IR(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function _G(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function AM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function BR(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function fte(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){f.push(c.times[m]);for(let y=0;y<u;++y)p.push(c.values[m*u+y])}}f.length!==0&&(c.times=Zc(f,c.times.constructor),c.values=Zc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function dte(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const g=u,_=f-u;y=as(a.values,g,_)}else if(s>=a.times[v]){const g=v*f+u,_=g+f-u;y=as(a.values,g,_)}else{const g=a.createInterpolant(),_=u,b=f-u;g.evaluate(s),y=as(g.resultBuffer,_,b)}l==="quaternion"&&new pr().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let g=0;g<x;++g){const _=g*m+p;if(l==="quaternion")pr.multiplyQuaternionsFlat(c.values,_,y,0,c.values,_);else{const b=m-p*2;for(let S=0;S<b;++S)c.values[_+S]-=y[S]}}}return n.blendMode=sR,n}const hte={arraySlice:as,convertArray:Zc,isTypedArray:IR,getKeyframeOrder:_G,sortedArray:AM,flattenJSON:BR,subclip:fte,makeClipAdditive:dte};class Lh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wG extends Lh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yc,endingEnd:Yc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Qc:s=e,a=2*t-r;break;case Qm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Qc:o=e,l=2*r-t;break;case Qm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),y=v*v,x=y*v,g=-p*x+2*p*y-p*v,_=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,b=(-1-m)*x+(1.5+m)*y+.5*v,S=m*x-m*y;for(let E=0;E!==a;++E)s[E]=g*o[u+E]+_*o[c+E]+b*o[l+E]+S*o[f+E];return s}}class LR extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class SG extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ro{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zc(t,this.TimeBufferType),this.values=Zc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Zc(e.times,Array),values:Zc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new SG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Zd:t=this.InterpolantFactoryMethodDiscrete;break;case bu:t=this.InterpolantFactoryMethodLinear;break;case sx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Zd;case this.InterpolantFactoryMethodLinear:return bu;case this.InterpolantFactoryMethodSmooth:return sx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=as(r,s,o),this.values=as(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&IR(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=as(this.times),t=as(this.values),r=this.getValueSize(),i=this.getInterpolation()===sx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const y=t[f+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=as(e,0,o),this.values=as(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=as(this.times,0),t=as(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ro.prototype.TimeBufferType=Float32Array;ro.prototype.ValueBufferType=Float32Array;ro.prototype.DefaultInterpolation=bu;class Lu extends ro{}Lu.prototype.ValueTypeName="bool";Lu.prototype.ValueBufferType=Array;Lu.prototype.DefaultInterpolation=Zd;Lu.prototype.InterpolantFactoryMethodLinear=void 0;Lu.prototype.InterpolantFactoryMethodSmooth=void 0;class DR extends ro{}DR.prototype.ValueTypeName="color";class ih extends ro{}ih.prototype.ValueTypeName="number";class AG extends Lh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)pr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class jl extends ro{InterpolantFactoryMethodLinear(e){return new AG(this.times,this.values,this.getValueSize(),e)}}jl.prototype.ValueTypeName="quaternion";jl.prototype.DefaultInterpolation=bu;jl.prototype.InterpolantFactoryMethodSmooth=void 0;class Du extends ro{}Du.prototype.ValueTypeName="string";Du.prototype.ValueBufferType=Array;Du.prototype.DefaultInterpolation=Zd;Du.prototype.InterpolantFactoryMethodLinear=void 0;Du.prototype.InterpolantFactoryMethodSmooth=void 0;class sh extends ro{}sh.prototype.ValueTypeName="vector";class oh{constructor(e,t=-1,r,i=ob){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ki(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(mte(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ro.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=_G(l);l=AM(l,1,u),c=AM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ih(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,v,y){if(m.length!==0){const x=[],g=[];BR(m,x,g,v),x.length!==0&&y.push(new f(p,x,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],g=[];for(let _=0;_!==p[v].morphTargets.length;++_){const b=p[v];x.push(b.time),g.push(b.morphTarget===y?1:0)}i.push(new ih(".morphTargetInfluence["+y+"]",x,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(sh,m+".position",p,"pos",i),r(jl,m+".quaternion",p,"rot",i),r(sh,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pte(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ih;case"vector":case"vector2":case"vector3":case"vector4":return sh;case"color":return DR;case"quaternion":return jl;case"bool":case"boolean":return Lu;case"string":return Du}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function mte(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pte(n.type);if(n.times===void 0){const t=[],r=[];BR(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const wu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class OR{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],v=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const EG=new OR;class Qr{constructor(e){this.manager=e!==void 0?e:EG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ea={};class gte extends Error{constructor(e,t){super(e),this.response=t}}class zi extends Qr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ea[e]!==void 0){ea[e].push({onLoad:t,onProgress:r,onError:i});return}ea[e]=[],ea[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ea[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const x=new ReadableStream({start(g){_();function _(){f.read().then(({done:b,value:S})=>{if(b)g.close();else{y+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let M=0,I=u.length;M<I;M++){const B=u[M];B.onProgress&&B.onProgress(E)}g.enqueue(S),_()}})}}});return new Response(x)}else throw new gte(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{wu.add(e,c);const u=ea[e];delete ea[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ea[e];if(u===void 0)throw this.manager.itemError(e),c;delete ea[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vte extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new zi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=oh.parse(e[r]);t.push(i)}return t}}class yte extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new SR,l=new zi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=mn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=mn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class sg extends Qr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Zm("img");function l(){u(),wu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class MG extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=new Lg,o=new sg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class CG extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Dd,a=new zi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:xr,o.wrapT=c.wrapT!==void 0?c.wrapT:xr,o.magFilter=c.magFilter!==void 0?c.magFilter:mn,o.minFilter=c.minFilter!==void 0?c.minFilter:mn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Io),c.mipmapCount===1&&(o.minFilter=mn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Jg extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=new bn,o=new sg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class oc extends Ft{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Oe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class TG extends oc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Oe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const yS=new ut,q3=new G,Z3=new G;class kR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Me(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lb,this._frameExtents=new Me(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;q3.setFromMatrixPosition(e.matrixWorld),t.position.copy(q3),Z3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Z3),t.updateMatrixWorld(),yS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(yS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xte extends kR{constructor(){super(new qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=th*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class NR extends oc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new xte}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const eD=new ut,Ip=new G,xS=new G;class bte extends kR{constructor(){super(new qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Me(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ip.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ip),xS.copy(r.position),xS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(xS),r.updateMatrixWorld(),i.makeTranslation(-Ip.x,-Ip.y,-Ip.z),eD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eD)}}class FR extends oc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new bte}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class _te extends kR{constructor(){super(new Mh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UR extends oc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.shadow=new _te}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class RG extends oc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class PG extends oc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class IG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class vb extends oc{constructor(e=new IG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yb extends Qr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new zi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=yb.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Oe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Oe().setHex(o.value);break;case"v2":i.uniforms[s].value=new Me().fromArray(o.value);break;case"v3":i.uniforms[s].value=new G().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Ut().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Bt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ut().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Me().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:pG,SpriteMaterial:xR,RawShaderMaterial:mG,ShaderMaterial:bs,PointsMaterial:hb,MeshPhysicalMaterial:za,MeshStandardMaterial:Bh,MeshPhongMaterial:gG,MeshToonMaterial:vG,MeshNormalMaterial:yG,MeshLambertMaterial:PR,MeshDepthMaterial:gR,MeshDistanceMaterial:vR,MeshBasicMaterial:Bi,MeshMatcapMaterial:xG,LineDashedMaterial:bG,LineBasicMaterial:Nr,Material:Xn};return new t[e]}}class So{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class BG extends yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class LG extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new zi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),_=md(x.type,g),b=new Dg(_,x.stride);return b.uuid=x.uuid,t[v]=b,b}function s(m,v){if(r[v]!==void 0)return r[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new BG:new yt,a=e.data.index;if(a!==void 0){const m=md(a.type,a.array);o.setIndex(new jt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);y=new Wl(x,v.itemSize,v.offset,v.normalized)}else{const x=md(v.type,v.array),g=v.isInstancedBufferAttribute?rh:jt;y=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let x=0,g=v.length;x<g;x++){const _=v[x];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new Wl(S,_.itemSize,_.offset,_.normalized)}else{const S=md(_.type,_.array);b=new jt(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new G;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new As(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class wte extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?So.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new zi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?So.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new zi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new fu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Og().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new LG;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Q3?a=Q3[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new yb;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=oh.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:md(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new OR(t);s=new sg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Dd(g.data,g.width,g.height)))}i[f.uuid]=new qc(m)}else{const m=a(f.url);i[f.uuid]=new qc(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:md(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new sg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Dd(v.data,v.width,v.height)))}r[l.uuid]=new qc(u)}else{const u=await s(l.url);r[l.uuid]=new qc(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Lg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Dd:u=new bn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Ste)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],tD),u.wrapT=r(a.wrap[1],tD)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,nD)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,nD)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new eg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Oe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new fb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ub(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Mh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new RG(e.color,e.intensity);break;case"DirectionalLight":o=new UR(e.color,e.intensity);break;case"PointLight":o=new FR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new PG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new NR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new TG(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new vb().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new bR(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Jn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new rG(u,f,p),o.instanceMatrix=new rh(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new rh(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new nG;break;case"Line":o=new Ba(a(e.geometry),l(e.material));break;case"LineLoop":o=new _R(a(e.geometry),l(e.material));break;case"LineSegments":o=new to(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new wR(a(e.geometry),l(e.material));break;case"Sprite":o=new tG(l(e.material));break;case"Group":o=new ha;break;case"Bone":o=new db;break;default:o=new Ft}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Ste={UVMapping:ib,CubeReflectionMapping:Pa,CubeRefractionMapping:Vl,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:Xm,CubeUVReflectionMapping:Ah},tD={RepeatWrapping:$l,ClampToEdgeWrapping:xr,MirroredRepeatWrapping:qd},nD={NearestFilter:Pn,NearestMipmapNearestFilter:Ym,NearestMipmapLinearFilter:Id,LinearFilter:mn,LinearMipmapNearestFilter:sb,LinearMipmapLinearFilter:Io};class DG extends Qr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){wu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let uy;class HR{static getContext(){return uy===void 0&&(uy=new(window.AudioContext||window.webkitAudioContext)),uy}static setContext(e){uy=e}}class Ate extends Qr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new zi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);HR.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class Ete extends vb{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Oe().set(e),s=new Oe().set(t),o=new G(i.r,i.g,i.b),a=new G(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Mte extends vb{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Oe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const rD=new ut,iD=new ut,Ac=new ut;class Cte{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ac.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(cu*t.fov*.5)/t.zoom;let a,l;iD.elements[12]=-i,rD.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Ac.elements[0]=2*t.near/(l-a),Ac.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ac),a=-o*t.aspect-s,l=o*t.aspect-s,Ac.elements[0]=2*t.near/(l-a),Ac.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ac)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rD)}}class zR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=sD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function sD(){return(typeof performance>"u"?Date:performance).now()}const Ec=new G,oD=new pr,Tte=new G,Mc=new G;class Rte extends Ft{constructor(){super(),this.type="AudioListener",this.context=HR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ec,oD,Tte),Mc.set(0,0,-1).applyQuaternion(oD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ec.x,i),t.positionY.linearRampToValueAtTime(Ec.y,i),t.positionZ.linearRampToValueAtTime(Ec.z,i),t.forwardX.linearRampToValueAtTime(Mc.x,i),t.forwardY.linearRampToValueAtTime(Mc.y,i),t.forwardZ.linearRampToValueAtTime(Mc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Ec.x,Ec.y,Ec.z),t.setOrientation(Mc.x,Mc.y,Mc.z,r.x,r.y,r.z)}}class OG extends Ft{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Cc=new G,aD=new pr,Pte=new G,Tc=new G;class Ite extends OG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cc,aD,Pte),Tc.set(0,0,1).applyQuaternion(aD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Cc.x,r),t.positionY.linearRampToValueAtTime(Cc.y,r),t.positionZ.linearRampToValueAtTime(Cc.z,r),t.orientationX.linearRampToValueAtTime(Tc.x,r),t.orientationY.linearRampToValueAtTime(Tc.y,r),t.orientationZ.linearRampToValueAtTime(Tc.z,r)}else t.setPosition(Cc.x,Cc.y,Cc.z),t.setOrientation(Tc.x,Tc.y,Tc.z)}}class Bte{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class kG{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){pr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;pr.multiplyQuaternionsFlat(e,o,e,t,e,r),pr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const GR="\\[\\]\\.:\\/",Lte=new RegExp("["+GR+"]","g"),VR="[^"+GR+"]",Dte="[^"+GR.replace("\\.","")+"]",Ote=/((?:WC+[\/:])*)/.source.replace("WC",VR),kte=/(WCOD+)?/.source.replace("WCOD",Dte),Nte=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",VR),Fte=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",VR),Ute=new RegExp("^"+Ote+kte+Nte+Fte+"$"),Hte=["material","materials","bones","map"];class zte{constructor(e,t,r){const i=r||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Nt{constructor(e,t,r){this.path=t,this.parsedPath=r||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,r):new Nt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Lte,"")}static parseTrackName(e){const t=Ute.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Hte.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=zte;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Gte{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ki(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new Nt(p,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,x=e[y];t[x.uuid]=v,e[v]=x,t[m]=y,e[y]=p;for(let g=0,_=o;g!==_;++g){const b=s[g],S=b[y];let E=b[v];b[v]=S,E===void 0&&(E=new Nt(p,r[g],i[g])),b[y]=E}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const y=r[m],x=y[f],g=y[u];y[u]=x,y[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=f,e[f]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,g=i;x!==g;++x){const _=r[x],b=_[p],S=_[v];_[f]=b,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,y=i;v!==y;++v){const x=r[v];x[f]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const v=l[p];f[p]=new Nt(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class NG{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Yc,endingEnd:Yc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Bz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case sR:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case ob:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Lz;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===Iz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Qc,i.endingEnd=Qc):(e?i.endingStart=this.zeroSlopeAtStart?Qc:Yc:i.endingStart=Qm,t?i.endingEnd=this.zeroSlopeAtEnd?Qc:Yc:i.endingEnd=Qm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Vte=new Float32Array(1);class $te extends Ua{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;v=new kG(Nt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new LR(new Float32Array(2),new Float32Array(2),1,Vte),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?oh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=ob),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new NG(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?oh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $R{constructor(e){this.value=e}clone(){return new $R(this.value.clone===void 0?this.value:this.value.clone())}}let Wte=0;class jte extends Ua{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Wte++}),this.name="",this.usage=qm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Jte extends Dg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Kte{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class WR{constructor(e,t,r=0,i=1/0){this.ray=new Ig(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new uu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return EM(e,this,r,t),r.sort(lD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)EM(e[i],this,r,t);return r.sort(lD),r}}function lD(n,e){return n.distance-e.distance}function EM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)EM(i[s],e,t,!0)}}class FG{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(In(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Xte{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const cD=new Me;class Yte{constructor(e=new Me(1/0,1/0),t=new Me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=cD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uD=new G,fy=new G;class Qte{constructor(e=new G,t=new G){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){uD.subVectors(e,this.start),fy.subVectors(this.end,this.start);const r=fy.dot(fy);let s=fy.dot(uD)/r;return t&&(s=In(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const fD=new G;class qte extends Ft{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new yt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Xe(i,3));const s=new Nr({fog:!1,toneMapped:!1});this.cone=new to(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),fD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(fD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ol=new G,dy=new ut,bS=new ut;class Zte extends to{constructor(e){const t=UG(e),r=new yt,i=[],s=[],o=new Oe(0,0,1),a=new Oe(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Xe(i,3)),r.setAttribute("color",new Xe(s,3));const l=new Nr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");bS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(dy.multiplyMatrices(bS,a.matrixWorld),ol.setFromMatrixPosition(dy),i.setXYZ(o,ol.x,ol.y,ol.z),dy.multiplyMatrices(bS,a.parent.matrixWorld),ol.setFromMatrixPosition(dy),i.setXYZ(o+1,ol.x,ol.y,ol.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function UG(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UG(n.children[t]));return e}class ene extends Jn{constructor(e,t,r){const i=new Ih(t,4,2),s=new Bi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tne=new G,dD=new Oe,hD=new Oe;class nne extends Ft{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Ph(t);i.rotateY(Math.PI*.5),this.material=new Bi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new jt(o,3)),this.add(new Jn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");dD.copy(this.light.color),hD.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?dD:hD;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tne.setFromMatrixPosition(this.light.matrixWorld).negate())}}class rne extends to{constructor(e=10,t=10,r=4473924,i=8947848){r=new Oe(r),i=new Oe(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new yt;u.setAttribute("position",new Xe(l,3)),u.setAttribute("color",new Xe(c,3));const f=new Nr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ine extends to{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Oe(s),o=new Oe(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),y=(v+1)/i*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new yt;c.setAttribute("position",new Xe(a,3)),c.setAttribute("color",new Xe(l,3));const u=new Nr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pD=new G,hy=new G,mD=new G;class sne extends Ft{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new yt;i.setAttribute("position",new Xe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Nr({fog:!1,toneMapped:!1});this.lightPlane=new Ba(i,s),this.add(this.lightPlane),i=new yt,i.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new Ba(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pD.setFromMatrixPosition(this.light.matrixWorld),hy.setFromMatrixPosition(this.light.target.matrixWorld),mD.subVectors(hy,pD),this.lightPlane.lookAt(hy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hy),this.targetLine.scale.z=mD.length()}}const py=new G,Tn=new Bg;class one extends to{constructor(e){const t=new yt,r=new Nr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Xe(i,3)),t.setAttribute("color",new Xe(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Oe(16755200),u=new Oe(16711680),f=new Oe(43775),p=new Oe(16777215),m=new Oe(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Tn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Dn("c",t,e,Tn,0,0,-1),Dn("t",t,e,Tn,0,0,1),Dn("n1",t,e,Tn,-r,-i,-1),Dn("n2",t,e,Tn,r,-i,-1),Dn("n3",t,e,Tn,-r,i,-1),Dn("n4",t,e,Tn,r,i,-1),Dn("f1",t,e,Tn,-r,-i,1),Dn("f2",t,e,Tn,r,-i,1),Dn("f3",t,e,Tn,-r,i,1),Dn("f4",t,e,Tn,r,i,1),Dn("u1",t,e,Tn,r*.7,i*1.1,-1),Dn("u2",t,e,Tn,-r*.7,i*1.1,-1),Dn("u3",t,e,Tn,0,i*2,-1),Dn("cf1",t,e,Tn,-r,0,1),Dn("cf2",t,e,Tn,r,0,1),Dn("cf3",t,e,Tn,0,-i,1),Dn("cf4",t,e,Tn,0,i,1),Dn("cn1",t,e,Tn,-r,0,-1),Dn("cn2",t,e,Tn,r,0,-1),Dn("cn3",t,e,Tn,0,-i,-1),Dn("cn4",t,e,Tn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Dn(n,e,t,r,i,s,o){py.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],py.x,py.y,py.z)}}const my=new Ss;class ane extends to{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new yt;s.setIndex(new jt(r,1)),s.setAttribute("position",new jt(i,3)),super(s,new Nr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&my.setFromObject(this.object),my.isEmpty())return;const t=my.min,r=my.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lne extends to{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new yt;s.setIndex(new jt(r,1)),s.setAttribute("position",new Xe(i,3)),super(s,new Nr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cne extends Ba{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new yt;o.setAttribute("position",new Xe(s,3)),o.computeBoundingSphere(),super(o,new Nr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new yt;l.setAttribute("position",new Xe(a,3)),l.computeBoundingSphere(),this.add(new Jn(l,new Bi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gD=new G;let gy,_S;class une extends Ft{constructor(e=new G(0,0,1),t=new G(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",gy===void 0&&(gy=new yt,gy.setAttribute("position",new Xe([0,0,0,0,1,0],3)),_S=new Bu(0,.5,1,5,1),_S.translate(0,-.5,0)),this.position.copy(t),this.line=new Ba(gy,new Nr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jn(_S,new Bi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gD,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fne extends to{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new yt;i.setAttribute("position",new Xe(t,3)),i.setAttribute("color",new Xe(r,3));const s=new Nr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Oe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dne{constructor(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new tg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const _=[];for(let b=0,S=g.length;b<S;b++){const E=g[b],M=new fu;M.curves=E.curves,_.push(M)}return _}function r(g,_){const b=_.length;let S=!1;for(let E=b-1,M=0;M<b;E=M++){let I=_[E],B=_[M],T=B.x-I.x,P=B.y-I.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(I=_[M],T=-T,B=_[E],P=-P),g.y<I.y||g.y>B.y)continue;if(g.y===I.y){if(g.x===I.x)return!0}else{const O=P*(g.x-I.x)-T*(g.y-I.y);if(O===0)return!0;if(O<0)continue;S=!S}}else{if(g.y!==I.y)continue;if(B.x<=g.x&&g.x<=I.x||I.x<=g.x&&g.x<=B.x)return!0}}return S}const i=wo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new fu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new fu,p:y},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,_=0;for(let b=0,S=p.length;b<S;b++)f[b]=[];for(let b=0,S=p.length;b<S;b++){const E=m[b];for(let M=0;M<E.length;M++){const I=E[M];let B=!0;for(let T=0;T<p.length;T++)r(I.p,p[T].p)&&(b!==T&&_++,B?(B=!1,f[T].push(I)):g=!0);B&&f[b].push(I)}}_>0&&g===!1&&(m=f)}let x;for(let g=0,_=p.length;g<_;g++){l=p[g].s,c.push(l),x=m[g];for(let b=0,S=x.length;b<S;b++)l.holes.push(x[b].h)}return c}}class hne extends sc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class pne extends kg{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class mne extends Ng{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class gne extends Fg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class vne extends Bu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class yne extends Ug{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class xne extends Hg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class bne extends Rh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class _ne extends Th{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class wne extends Ph{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Sne extends Eh{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class Ane extends Ha{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Ene extends zg{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class Mne extends Gg{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Cne extends Ih{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Tne extends Vg{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Rne extends $g{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Pne extends Wg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Ine extends jg{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:nb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=nb);const Bne=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rR,AddEquation:$c,AddOperation:fz,AdditiveAnimationBlendMode:sR,AdditiveBlending:VE,AlphaFormat:_z,AlwaysDepth:iz,AlwaysStencilFunc:Fz,AmbientLight:RG,AmbientLightProbe:Mte,AnimationAction:NG,AnimationClip:oh,AnimationLoader:vte,AnimationMixer:$te,AnimationObjectGroup:Gte,AnimationUtils:hte,ArcCurve:iG,ArrayCamera:Qz,ArrowHelper:une,Audio:OG,AudioAnalyser:Bte,AudioContext:HR,AudioListener:Rte,AudioLoader:Ate,AxesHelper:fne,BackSide:Jr,BasicDepthPacking:Oz,BasicShadowMap:$H,Bone:db,BooleanKeyframeTrack:Lu,Box2:Yte,Box3:Ss,Box3Helper:lne,BoxBufferGeometry:hne,BoxGeometry:sc,BoxHelper:ane,BufferAttribute:jt,BufferGeometry:yt,BufferGeometryLoader:LG,ByteType:gz,Cache:wu,Camera:Bg,CameraHelper:one,CanvasTexture:Nee,CapsuleBufferGeometry:pne,CapsuleGeometry:kg,CatmullRomCurve3:sG,CineonToneMapping:pz,CircleBufferGeometry:mne,CircleGeometry:Ng,ClampToEdgeWrapping:xr,Clock:zR,Color:Oe,ColorKeyframeTrack:DR,ColorManagement:ni,CompressedArrayTexture:kee,CompressedTexture:SR,CompressedTextureLoader:yte,ConeBufferGeometry:gne,ConeGeometry:Fg,CubeCamera:$z,CubeReflectionMapping:Pa,CubeRefractionMapping:Vl,CubeTexture:Lg,CubeTextureLoader:MG,CubeUVReflectionMapping:Ah,CubicBezierCurve:ER,CubicBezierCurve3:oG,CubicInterpolant:wG,CullFaceBack:GE,CullFaceFront:VH,CullFaceFrontBack:NK,CullFaceNone:GH,Curve:no,CurvePath:lG,CustomBlending:WH,CustomToneMapping:mz,CylinderBufferGeometry:vne,CylinderGeometry:Bu,Cylindrical:Xte,Data3DTexture:uR,DataArrayTexture:ab,DataTexture:Dd,DataTextureLoader:CG,DataUtils:Zp,DecrementStencilOp:KK,DecrementWrapStencilOp:YK,DefaultLoadingManager:EG,DepthFormat:Dl,DepthStencilFormat:xu,DepthTexture:qz,DirectionalLight:UR,DirectionalLightHelper:sne,DiscreteInterpolant:SG,DisplayP3ColorSpace:aR,DodecahedronBufferGeometry:yne,DodecahedronGeometry:Ug,DoubleSide:us,DstAlphaFactor:qH,DstColorFactor:ez,DynamicCopyUsage:fX,DynamicDrawUsage:sX,DynamicReadUsage:lX,EdgesGeometry:cG,EllipseCurve:pb,EqualDepth:oz,EqualStencilFunc:eX,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:Xm,Euler:ic,EventDispatcher:Ua,ExtrudeBufferGeometry:xne,ExtrudeGeometry:Hg,FileLoader:zi,Float16BufferAttribute:qX,Float32BufferAttribute:Xe,Float64BufferAttribute:ZX,FloatType:Pi,Fog:fb,FogExp2:ub,FramebufferTexture:Oee,FrontSide:Po,Frustum:lb,GLBufferAttribute:Kte,GLSL1:hX,GLSL3:vM,GreaterDepth:lz,GreaterEqualDepth:az,GreaterEqualStencilFunc:iX,GreaterStencilFunc:nX,GridHelper:rne,Group:ha,HalfFloatType:hs,HemisphereLight:TG,HemisphereLightHelper:nne,HemisphereLightProbe:Ete,IcosahedronBufferGeometry:bne,IcosahedronGeometry:Rh,ImageBitmapLoader:DG,ImageLoader:sg,ImageUtils:cR,IncrementStencilOp:JK,IncrementWrapStencilOp:XK,InstancedBufferAttribute:rh,InstancedBufferGeometry:BG,InstancedInterleavedBuffer:Jte,InstancedMesh:rG,Int16BufferAttribute:YX,Int32BufferAttribute:QX,Int8BufferAttribute:JX,IntType:yz,InterleavedBuffer:Dg,InterleavedBufferAttribute:Wl,Interpolant:Lh,InterpolateDiscrete:Zd,InterpolateLinear:bu,InterpolateSmooth:sx,InvertStencilOp:QK,KeepStencilOp:ox,KeyframeTrack:ro,LOD:nG,LatheBufferGeometry:_ne,LatheGeometry:Th,Layers:uu,LessDepth:sz,LessEqualDepth:Kx,LessEqualStencilFunc:tX,LessStencilFunc:ZK,Light:oc,LightProbe:vb,Line:Ba,Line3:Qte,LineBasicMaterial:Nr,LineCurve:mb,LineCurve3:aG,LineDashedMaterial:bG,LineLoop:_R,LineSegments:to,LinearEncoding:Zs,LinearFilter:mn,LinearInterpolant:LR,LinearMipMapLinearFilter:GK,LinearMipMapNearestFilter:zK,LinearMipmapLinearFilter:Io,LinearMipmapNearestFilter:sb,LinearSRGBColorSpace:eh,LinearToneMapping:dz,Loader:Qr,LoaderUtils:So,LoadingManager:OR,LoopOnce:Iz,LoopPingPong:Lz,LoopRepeat:Bz,LuminanceAlphaFormat:Sz,LuminanceFormat:wz,MOUSE:OK,Material:Xn,MaterialLoader:yb,MathUtils:Bd,Matrix3:Bt,Matrix4:ut,MaxEquation:JE,Mesh:Jn,MeshBasicMaterial:Bi,MeshDepthMaterial:gR,MeshDistanceMaterial:vR,MeshLambertMaterial:PR,MeshMatcapMaterial:xG,MeshNormalMaterial:yG,MeshPhongMaterial:gG,MeshPhysicalMaterial:za,MeshStandardMaterial:Bh,MeshToonMaterial:vG,MinEquation:jE,MirroredRepeatWrapping:qd,MixOperation:uz,MultiplyBlending:WE,MultiplyOperation:Pg,NearestFilter:Pn,NearestMipMapLinearFilter:HK,NearestMipMapNearestFilter:UK,NearestMipmapLinearFilter:Id,NearestMipmapNearestFilter:Ym,NeverDepth:rz,NeverStencilFunc:qK,NoBlending:wa,NoColorSpace:$K,NoToneMapping:Xs,NormalAnimationBlendMode:ob,NormalBlending:au,NotEqualDepth:cz,NotEqualStencilFunc:rX,NumberKeyframeTrack:ih,Object3D:Ft,ObjectLoader:wte,ObjectSpaceNormalMap:Nz,OctahedronBufferGeometry:wne,OctahedronGeometry:Ph,OneFactor:XH,OneMinusDstAlphaFactor:ZH,OneMinusDstColorFactor:tz,OneMinusSrcAlphaFactor:nR,OneMinusSrcColorFactor:QH,OrthographicCamera:Mh,PCFShadowMap:rb,PCFSoftShadowMap:gm,PMREMGenerator:xM,Path:tg,PerspectiveCamera:qn,Plane:pl,PlaneBufferGeometry:Sne,PlaneGeometry:Eh,PlaneHelper:cne,PointLight:FR,PointLightHelper:ene,Points:wR,PointsMaterial:hb,PolarGridHelper:ine,PolyhedronBufferGeometry:Ane,PolyhedronGeometry:Ha,PositionalAudio:Ite,PropertyBinding:Nt,PropertyMixer:kG,QuadraticBezierCurve:MR,QuadraticBezierCurve3:CR,Quaternion:pr,QuaternionKeyframeTrack:jl,QuaternionLinearInterpolant:AG,RED_GREEN_RGTC2_Format:mM,RED_RGTC1_Format:Pz,REVISION:nb,RGBADepthPacking:kz,RGBAFormat:ai,RGBAIntegerFormat:Tz,RGBA_ASTC_10x10_Format:fM,RGBA_ASTC_10x5_Format:lM,RGBA_ASTC_10x6_Format:cM,RGBA_ASTC_10x8_Format:uM,RGBA_ASTC_12x10_Format:dM,RGBA_ASTC_12x12_Format:hM,RGBA_ASTC_4x4_Format:eM,RGBA_ASTC_5x4_Format:tM,RGBA_ASTC_5x5_Format:nM,RGBA_ASTC_6x5_Format:rM,RGBA_ASTC_6x6_Format:iM,RGBA_ASTC_8x5_Format:sM,RGBA_ASTC_8x6_Format:oM,RGBA_ASTC_8x8_Format:aM,RGBA_BPTC_Format:ix,RGBA_ETC2_EAC_Format:ZE,RGBA_PVRTC_2BPPV1_Format:QE,RGBA_PVRTC_4BPPV1_Format:YE,RGBA_S3TC_DXT1_Format:tx,RGBA_S3TC_DXT3_Format:nx,RGBA_S3TC_DXT5_Format:rx,RGB_ETC1_Format:Rz,RGB_ETC2_Format:qE,RGB_PVRTC_2BPPV1_Format:XE,RGB_PVRTC_4BPPV1_Format:KE,RGB_S3TC_DXT1_Format:ex,RGFormat:Mz,RGIntegerFormat:Cz,RawShaderMaterial:mG,Ray:Ig,Raycaster:WR,RectAreaLight:PG,RedFormat:Az,RedIntegerFormat:Ez,ReinhardToneMapping:hz,RepeatWrapping:$l,ReplaceStencilOp:jK,ReverseSubtractEquation:JH,RingBufferGeometry:Ene,RingGeometry:zg,SIGNED_RED_GREEN_RGTC2_Format:gM,SIGNED_RED_RGTC1_Format:pM,SRGBColorSpace:Hs,Scene:eg,ShaderChunk:St,ShaderLib:Vs,ShaderMaterial:bs,ShadowMaterial:pG,Shape:fu,ShapeBufferGeometry:Mne,ShapeGeometry:Gg,ShapePath:dne,ShapeUtils:wo,ShortType:vz,Skeleton:Og,SkeletonHelper:Zte,SkinnedMesh:bR,Source:qc,Sphere:As,SphereBufferGeometry:Cne,SphereGeometry:Ih,Spherical:FG,SphericalHarmonics3:IG,SplineCurve:TR,SpotLight:NR,SpotLightHelper:qte,Sprite:tG,SpriteMaterial:xR,SrcAlphaFactor:tR,SrcAlphaSaturateFactor:nz,SrcColorFactor:YH,StaticCopyUsage:uX,StaticDrawUsage:qm,StaticReadUsage:aX,StereoCamera:Cte,StreamCopyUsage:dX,StreamDrawUsage:oX,StreamReadUsage:cX,StringKeyframeTrack:Du,SubtractEquation:jH,SubtractiveBlending:$E,TOUCH:kK,TangentSpaceNormalMap:Fa,TetrahedronBufferGeometry:Tne,TetrahedronGeometry:Vg,Texture:bn,TextureLoader:Jg,TorusBufferGeometry:Rne,TorusGeometry:$g,TorusKnotBufferGeometry:Pne,TorusKnotGeometry:Wg,Triangle:oi,TriangleFanDrawMode:oR,TriangleStripDrawMode:Dz,TrianglesDrawMode:VK,TubeBufferGeometry:Ine,TubeGeometry:jg,TwoPassDoubleSide:FK,UVMapping:ib,Uint16BufferAttribute:fR,Uint32BufferAttribute:dR,Uint8BufferAttribute:KX,Uint8ClampedBufferAttribute:XX,Uniform:$R,UniformsGroup:jte,UniformsLib:Fe,UniformsUtils:hR,UnsignedByteType:Ia,UnsignedInt248Type:lu,UnsignedIntType:Al,UnsignedShort4444Type:xz,UnsignedShort5551Type:bz,UnsignedShortType:iR,VSMShadowMap:Xc,Vector2:Me,Vector3:G,Vector4:Ut,VectorKeyframeTrack:sh,VideoTexture:Dee,WebGL1Renderer:Zz,WebGL3DRenderTarget:kX,WebGLArrayRenderTarget:OX,WebGLCubeRenderTarget:pR,WebGLMultipleRenderTargets:NX,WebGLRenderTarget:Hi,WebGLRenderer:yR,WebGLUtils:Yz,WireframeGeometry:hG,WrapAroundEnding:Qm,ZeroCurvatureEnding:Yc,ZeroFactor:KH,ZeroSlopeEnding:Qc,ZeroStencilOp:WK,_SRGBAFormat:Xx,sRGBEncoding:Dt},Symbol.toStringTag,{value:"Module"}));var El={},Lne={get exports(){return El},set exports(n){El=n}},Ou={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ou.ConcurrentRoot=1;Ou.ContinuousEventPriority=4;Ou.DefaultEventPriority=16;Ou.DiscreteEventPriority=1;Ou.IdleEventPriority=536870912;Ou.LegacyRoot=0;(function(n){n.exports=Ou})(Lne);function Dne(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!f(p,v)){const y=p;c(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const One=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),vD=One?R.useEffect:R.useLayoutEffect;function HG(n){const e=typeof n=="function"?Dne(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=R.useReducer(x=>x+1,0),o=e.getState(),a=R.useRef(o),l=R.useRef(r),c=R.useRef(i),u=R.useRef(!1),f=R.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),vD(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=R.useRef(o);vD(()=>{const x=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(a.current=_,f.current=b,s())}catch{u.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const y=m?p:f.current;return R.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var MM={},kne={get exports(){return MM},set exports(n){MM=n}},og={},Nne={get exports(){return og},set exports(n){og=n}},zG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,U){var V=k.length;k.push(U);e:for(;0<V;){var q=V-1>>>1,ee=k[q];if(0<i(ee,U))k[q]=U,k[V]=ee,V=q;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],V=k.pop();if(V!==U){k[0]=V;e:for(var q=0,ee=k.length,se=ee>>>1;q<se;){var Z=2*(q+1)-1,de=k[Z],oe=Z+1,Q=k[oe];if(0>i(de,V))oe<ee&&0>i(Q,de)?(k[q]=Q,k[oe]=V,q=oe):(k[q]=de,k[Z]=V,q=Z);else if(oe<ee&&0>i(Q,V))k[q]=Q,k[oe]=V,q=oe;else break e}}return U}function i(k,U){var V=k.sortIndex-U.sortIndex;return V!==0?V:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function S(k){if(y=!1,b(k),!v)if(t(l)!==null)v=!0,X(E);else{var U=t(c);U!==null&&Y(S,U.startTime-k)}}function E(k,U){v=!1,y&&(y=!1,g(B),B=-1),m=!0;var V=p;try{for(b(U),f=t(l);f!==null&&(!(f.expirationTime>U)||k&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var ee=q(f.expirationTime<=U);U=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(U)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var Z=t(c);Z!==null&&Y(S,Z.startTime-U),se=!1}return se}finally{f=null,p=V,m=!1}}var M=!1,I=null,B=-1,T=5,P=-1;function O(){return!(n.unstable_now()-P<T)}function z(){if(I!==null){var k=n.unstable_now();P=k;var U=!0;try{U=I(!0,k)}finally{U?H():(M=!1,I=null)}}else M=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){x(z,0)};function X(k){I=k,M||(M=!0,H())}function Y(k,U){B=x(function(){k(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return U()}finally{p=V}},n.unstable_scheduleCallback=function(k,U,V){var q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,k={id:u++,callback:U,priorityLevel:k,startTime:V,expirationTime:ee,sortIndex:-1},V>q?(k.sortIndex=V,e(c,k),t(l)===null&&k===t(c)&&(y?(g(B),B=-1):y=!0,Y(S,V-q))):(k.sortIndex=ee,e(l,k),v||m||(v=!0,X(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var U=p;return function(){var V=p;p=U;try{return k.apply(this,arguments)}finally{p=V}}}})(zG);(function(n){n.exports=zG})(Nne);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fne=function(e){var t={},r=R,i=og,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function I(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return h=d.displayName||null,h!==null?h:I(d.type)||"Memo";case b:h=d._payload,d=d._init;try{return I(d(h))}catch{}}return null}function B(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function T(d){var h=d,w=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(w=h.return),d=h.return;while(d)}return h.tag===3?w:null}function P(d){if(T(d)!==d)throw Error(o(188))}function O(d){var h=d.alternate;if(!h){if(h=T(d),h===null)throw Error(o(188));return h!==d?null:d}for(var w=d,A=h;;){var C=w.return;if(C===null)break;var L=C.alternate;if(L===null){if(A=C.return,A!==null){w=A;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===w)return P(C),d;if(L===A)return P(C),h;L=L.sibling}throw Error(o(188))}if(w.return!==A.return)w=C,A=L;else{for(var j=!1,re=C.child;re;){if(re===w){j=!0,w=C,A=L;break}if(re===A){j=!0,A=C,w=L;break}re=re.sibling}if(!j){for(re=L.child;re;){if(re===w){j=!0,w=L,A=C;break}if(re===A){j=!0,A=L,w=C;break}re=re.sibling}if(!j)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:h}function z(d){return d=O(d),d!==null?H(d):null}function H(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=H(d);if(h!==null)return h;d=d.sibling}return null}function N(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=N(d);if(h!==null)return h}d=d.sibling}return null}var J=Array.isArray,X=e.getPublicInstance,Y=e.getRootHostContext,k=e.getChildHostContext,U=e.prepareForCommit,V=e.resetAfterCommit,q=e.createInstance,ee=e.appendInitialChild,se=e.finalizeInitialChildren,Z=e.prepareUpdate,de=e.shouldSetTextContent,oe=e.createTextInstance,Q=e.scheduleTimeout,Ee=e.cancelTimeout,ue=e.noTimeout,he=e.isPrimaryRenderer,we=e.supportsMutation,me=e.supportsPersistence,fe=e.supportsHydration,be=e.getInstanceFromNode,De=e.preparePortalMount,Pe=e.getCurrentEventPriority,ke=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Be=e.scheduleMicrotask,Ve=e.supportsTestSelectors,ft=e.findFiberRoot,W=e.getBoundingRect,F=e.getTextContent,pe=e.isHiddenSubtree,Ce=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Ne=e.setupIntersectionObserver,rt=e.appendChild,Ge=e.appendChildToContainer,xe=e.commitTextUpdate,Ke=e.commitMount,Ye=e.commitUpdate,it=e.insertBefore,$e=e.insertInContainerBefore,Qe=e.removeChild,_t=e.removeChildFromContainer,It=e.resetTextContent,Wt=e.hideInstance,te=e.hideTextInstance,ye=e.unhideInstance,Re=e.unhideTextInstance,He=e.clearContainer,Ze=e.cloneInstance,Jt=e.createContainerChildSet,en=e.appendChildToContainerChildSet,Fn=e.finalizeContainerChildren,yi=e.replaceContainerChildren,qt=e.cloneHiddenInstance,rr=e.cloneHiddenTextInstance,Sr=e.canHydrateInstance,Es=e.canHydrateTextInstance,Ju=e.canHydrateSuspenseInstance,oo=e.isSuspenseInstancePending,Kh=e.isSuspenseInstanceFallback,p_=e.registerSuspenseInstanceRetry,$=e.getNextHydratableSibling,ce=e.getFirstHydratableChild,_e=e.getFirstHydratableChildWithinContainer,ae=e.getFirstHydratableChildWithinSuspenseInstance,Se=e.hydrateInstance,ot=e.hydrateTextInstance,ct=e.hydrateSuspenseInstance,dt=e.getNextHydratableInstanceAfterSuspenseInstance,xt=e.commitHydratedContainer,Mt=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,Rt=e.clearSuspenseBoundaryFromContainer,Kt=e.shouldDeleteUnhydratedTailInstances,mr=e.didNotMatchHydratedContainerTextInstance,xi=e.didNotMatchHydratedTextInstance,Ms;function sn(d){if(Ms===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);Ms=h&&h[1]||""}return`
`+Ms+d}var Pt=!1;function fc(d,h){if(!d||Pt)return"";Pt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Le){var A=Le}Reflect.construct(d,[],h)}else{try{h.call()}catch(Le){A=Le}d.call(h.prototype)}else{try{throw Error()}catch(Le){A=Le}d()}}catch(Le){if(Le&&A&&typeof Le.stack=="string"){for(var C=Le.stack.split(`
`),L=A.stack.split(`
`),j=C.length-1,re=L.length-1;1<=j&&0<=re&&C[j]!==L[re];)re--;for(;1<=j&&0<=re;j--,re--)if(C[j]!==L[re]){if(j!==1||re!==1)do if(j--,re--,0>re||C[j]!==L[re]){var ve=`
`+C[j].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=j&&0<=re);break}}}finally{Pt=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?sn(d):""}var Un=Object.prototype.hasOwnProperty,Cs=[],zo=-1;function qr(d){return{current:d}}function Yt(d){0>zo||(d.current=Cs[zo],Cs[zo]=null,zo--)}function bt(d,h){zo++,Cs[zo]=d.current,d.current=h}var Ar={},Hn=qr(Ar),Zt=qr(!1),Ts=Ar;function ja(d,h){var w=d.type.contextTypes;if(!w)return Ar;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in w)C[L]=h[L];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=C),C}function gr(d){return d=d.childContextTypes,d!=null}function y0(){Yt(Zt),Yt(Hn)}function i2(d,h,w){if(Hn.current!==Ar)throw Error(o(168));bt(Hn,h),bt(Zt,w)}function s2(d,h,w){var A=d.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var C in A)if(!(C in h))throw Error(o(108,B(d)||"Unknown",C));return s({},w,A)}function x0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ar,Ts=Hn.current,bt(Hn,d),bt(Zt,Zt.current),!0}function o2(d,h,w){var A=d.stateNode;if(!A)throw Error(o(169));w?(d=s2(d,h,Ts),A.__reactInternalMemoizedMergedChildContext=d,Yt(Zt),Yt(Hn),bt(Hn,d)):Yt(Zt),bt(Zt,w)}var Rs=Math.clz32?Math.clz32:vj,mj=Math.log,gj=Math.LN2;function vj(d){return d>>>=0,d===0?32:31-(mj(d)/gj|0)|0}var b0=64,_0=4194304;function Xh(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function w0(d,h){var w=d.pendingLanes;if(w===0)return 0;var A=0,C=d.suspendedLanes,L=d.pingedLanes,j=w&268435455;if(j!==0){var re=j&~C;re!==0?A=Xh(re):(L&=j,L!==0&&(A=Xh(L)))}else j=w&~C,j!==0?A=Xh(j):L!==0&&(A=Xh(L));if(A===0)return 0;if(h!==0&&h!==A&&!(h&C)&&(C=A&-A,L=h&-h,C>=L||C===16&&(L&4194240)!==0))return h;if(A&4&&(A|=w&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=A;0<h;)w=31-Rs(h),C=1<<w,A|=d[w],h&=~C;return A}function yj(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xj(d,h){for(var w=d.suspendedLanes,A=d.pingedLanes,C=d.expirationTimes,L=d.pendingLanes;0<L;){var j=31-Rs(L),re=1<<j,ve=C[j];ve===-1?(!(re&w)||re&A)&&(C[j]=yj(re,h)):ve<=h&&(d.expiredLanes|=re),L&=~re}}function m_(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function g_(d){for(var h=[],w=0;31>w;w++)h.push(d);return h}function Yh(d,h,w){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Rs(h),d[h]=w}function bj(d,h){var w=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var C=31-Rs(w),L=1<<C;h[C]=0,A[C]=-1,d[C]=-1,w&=~L}}function v_(d,h){var w=d.entangledLanes|=h;for(d=d.entanglements;w;){var A=31-Rs(w),C=1<<A;C&h|d[A]&h&&(d[A]|=h),w&=~C}}var zt=0;function a2(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var y_=i.unstable_scheduleCallback,l2=i.unstable_cancelCallback,_j=i.unstable_shouldYield,wj=i.unstable_requestPaint,ir=i.unstable_now,x_=i.unstable_ImmediatePriority,Sj=i.unstable_UserBlockingPriority,b_=i.unstable_NormalPriority,Aj=i.unstable_IdlePriority,S0=null,ao=null;function Ej(d){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(S0,d,void 0,(d.current.flags&128)===128)}catch{}}function Mj(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var lo=typeof Object.is=="function"?Object.is:Mj,Go=null,A0=!1,__=!1;function c2(d){Go===null?Go=[d]:Go.push(d)}function Cj(d){A0=!0,c2(d)}function co(){if(!__&&Go!==null){__=!0;var d=0,h=zt;try{var w=Go;for(zt=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}Go=null,A0=!1}catch(C){throw Go!==null&&(Go=Go.slice(d+1)),y_(x_,co),C}finally{zt=h,__=!1}}return null}var Tj=a.ReactCurrentBatchConfig;function E0(d,h){if(lo(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var w=Object.keys(d),A=Object.keys(h);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var C=w[A];if(!Un.call(h,C)||!lo(d[C],h[C]))return!1}return!0}function Rj(d){switch(d.tag){case 5:return sn(d.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 2:case 15:return d=fc(d.type,!1),d;case 11:return d=fc(d.type.render,!1),d;case 1:return d=fc(d.type,!0),d;default:return""}}function Ps(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var w in d)h[w]===void 0&&(h[w]=d[w]);return h}return h}var M0=qr(null),C0=null,Ku=null,w_=null;function S_(){w_=Ku=C0=null}function u2(d,h,w){he?(bt(M0,h._currentValue),h._currentValue=w):(bt(M0,h._currentValue2),h._currentValue2=w)}function A_(d){var h=M0.current;Yt(M0),he?d._currentValue=h:d._currentValue2=h}function E_(d,h,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),d===w)break;d=d.return}}function Xu(d,h){C0=d,w_=Ku=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(wi=!0),d.firstContext=null)}function Xi(d){var h=he?d._currentValue:d._currentValue2;if(w_!==d)if(d={context:d,memoizedValue:h,next:null},Ku===null){if(C0===null)throw Error(o(308));Ku=d,C0.dependencies={lanes:0,firstContext:d}}else Ku=Ku.next=d;return h}var uo=null,Ja=!1;function M_(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f2(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Vo(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Ka(d,h){var w=d.updateQueue;w!==null&&(w=w.shared,zn!==null&&d.mode&1&&!(Tt&2)?(d=w.interleaved,d===null?(h.next=h,uo===null?uo=[w]:uo.push(w)):(h.next=d.next,d.next=h),w.interleaved=h):(d=w.pending,d===null?h.next=h:(h.next=d.next,d.next=h),w.pending=h))}function T0(d,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var A=h.lanes;A&=d.pendingLanes,w|=A,h.lanes=w,v_(d,w)}}function d2(d,h){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var C=null,L=null;if(w=w.firstBaseUpdate,w!==null){do{var j={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};L===null?C=L=j:L=L.next=j,w=w.next}while(w!==null);L===null?C=L=h:L=L.next=h}else C=L=h;w={baseState:A.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=h:d.next=h,w.lastBaseUpdate=h}function R0(d,h,w,A){var C=d.updateQueue;Ja=!1;var L=C.firstBaseUpdate,j=C.lastBaseUpdate,re=C.shared.pending;if(re!==null){C.shared.pending=null;var ve=re,Le=ve.next;ve.next=null,j===null?L=Le:j.next=Le,j=ve;var Je=d.alternate;Je!==null&&(Je=Je.updateQueue,re=Je.lastBaseUpdate,re!==j&&(re===null?Je.firstBaseUpdate=Le:re.next=Le,Je.lastBaseUpdate=ve))}if(L!==null){var gt=C.baseState;j=0,Je=Le=ve=null,re=L;do{var at=re.lane,tn=re.eventTime;if((A&at)===at){Je!==null&&(Je=Je.next={eventTime:tn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var nt=d,Tr=re;switch(at=h,tn=w,Tr.tag){case 1:if(nt=Tr.payload,typeof nt=="function"){gt=nt.call(tn,gt,at);break e}gt=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Tr.payload,at=typeof nt=="function"?nt.call(tn,gt,at):nt,at==null)break e;gt=s({},gt,at);break e;case 2:Ja=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,at=C.effects,at===null?C.effects=[re]:at.push(re))}else tn={eventTime:tn,lane:at,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Je===null?(Le=Je=tn,ve=gt):Je=Je.next=tn,j|=at;if(re=re.next,re===null){if(re=C.shared.pending,re===null)break;at=re,re=at.next,at.next=null,C.lastBaseUpdate=at,C.shared.pending=null}}while(1);if(Je===null&&(ve=gt),C.baseState=ve,C.firstBaseUpdate=Le,C.lastBaseUpdate=Je,h=C.shared.interleaved,h!==null){C=h;do j|=C.lane,C=C.next;while(C!==h)}else L===null&&(C.shared.lanes=0);sf|=j,d.lanes=j,d.memoizedState=gt}}function h2(d,h,w){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var A=d[h],C=A.callback;if(C!==null){if(A.callback=null,A=w,typeof C!="function")throw Error(o(191,C));C.call(A)}}}var p2=new r.Component().refs;function C_(d,h,w,A){h=d.memoizedState,w=w(A,h),w=w==null?h:s({},h,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var P0={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,h,w){d=d._reactInternals;var A=Ur(),C=Qa(d),L=Vo(A,C);L.payload=h,w!=null&&(L.callback=w),Ka(d,L),h=es(d,C,A),h!==null&&T0(h,d,C)},enqueueReplaceState:function(d,h,w){d=d._reactInternals;var A=Ur(),C=Qa(d),L=Vo(A,C);L.tag=1,L.payload=h,w!=null&&(L.callback=w),Ka(d,L),h=es(d,C,A),h!==null&&T0(h,d,C)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var w=Ur(),A=Qa(d),C=Vo(w,A);C.tag=2,h!=null&&(C.callback=h),Ka(d,C),h=es(d,A,w),h!==null&&T0(h,d,A)}};function m2(d,h,w,A,C,L,j){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,L,j):h.prototype&&h.prototype.isPureReactComponent?!E0(w,A)||!E0(C,L):!0}function g2(d,h,w){var A=!1,C=Ar,L=h.contextType;return typeof L=="object"&&L!==null?L=Xi(L):(C=gr(h)?Ts:Hn.current,A=h.contextTypes,L=(A=A!=null)?ja(d,C):Ar),h=new h(w,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=P0,d.stateNode=h,h._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=C,d.__reactInternalMemoizedMaskedChildContext=L),h}function v2(d,h,w,A){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,A),h.state!==d&&P0.enqueueReplaceState(h,h.state,null)}function T_(d,h,w,A){var C=d.stateNode;C.props=w,C.state=d.memoizedState,C.refs=p2,M_(d);var L=h.contextType;typeof L=="object"&&L!==null?C.context=Xi(L):(L=gr(h)?Ts:Hn.current,C.context=ja(d,L)),C.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(C_(d,h,L,w),C.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&P0.enqueueReplaceState(C,C.state,null),R0(d,w,C,A),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308)}var Yu=[],Qu=0,I0=null,B0=0,Yi=[],Qi=0,dc=null,$o=1,Wo="";function hc(d,h){Yu[Qu++]=B0,Yu[Qu++]=I0,I0=d,B0=h}function y2(d,h,w){Yi[Qi++]=$o,Yi[Qi++]=Wo,Yi[Qi++]=dc,dc=d;var A=$o;d=Wo;var C=32-Rs(A)-1;A&=~(1<<C),w+=1;var L=32-Rs(h)+C;if(30<L){var j=C-C%5;L=(A&(1<<j)-1).toString(32),A>>=j,C-=j,$o=1<<32-Rs(h)+C|w<<C|A,Wo=L+d}else $o=1<<L|w<<C|A,Wo=d}function R_(d){d.return!==null&&(hc(d,1),y2(d,1,0))}function P_(d){for(;d===I0;)I0=Yu[--Qu],Yu[Qu]=null,B0=Yu[--Qu],Yu[Qu]=null;for(;d===dc;)dc=Yi[--Qi],Yi[Qi]=null,Wo=Yi[--Qi],Yi[Qi]=null,$o=Yi[--Qi],Yi[Qi]=null}var bi=null,_i=null,vn=!1,Qh=!1,Is=null;function x2(d,h){var w=ts(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=d,h=d.deletions,h===null?(d.deletions=[w],d.flags|=16):h.push(w)}function b2(d,h){switch(d.tag){case 5:return h=Sr(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,bi=d,_i=ce(h),!0):!1;case 6:return h=Es(h,d.pendingProps),h!==null?(d.stateNode=h,bi=d,_i=null,!0):!1;case 13:if(h=Ju(h),h!==null){var w=dc!==null?{id:$o,overflow:Wo}:null;return d.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=ts(18,null,null,0),w.stateNode=h,w.return=d,d.child=w,bi=d,_i=null,!0}return!1;default:return!1}}function I_(d){return(d.mode&1)!==0&&(d.flags&128)===0}function B_(d){if(vn){var h=_i;if(h){var w=h;if(!b2(d,h)){if(I_(d))throw Error(o(418));h=$(w);var A=bi;h&&b2(d,h)?x2(A,w):(d.flags=d.flags&-4097|2,vn=!1,bi=d)}}else{if(I_(d))throw Error(o(418));d.flags=d.flags&-4097|2,vn=!1,bi=d}}}function _2(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;bi=d}function qh(d){if(!fe||d!==bi)return!1;if(!vn)return _2(d),vn=!0,!1;if(d.tag!==3&&(d.tag!==5||Kt(d.type)&&!de(d.type,d.memoizedProps))){var h=_i;if(h){if(I_(d)){for(d=_i;d;)d=$(d);throw Error(o(418))}for(;h;)x2(d,h),h=$(h)}}if(_2(d),d.tag===13){if(!fe)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));_i=dt(d)}else _i=bi?$(d.stateNode):null;return!0}function qu(){fe&&(_i=bi=null,Qh=vn=!1)}function L_(d){Is===null?Is=[d]:Is.push(d)}function Zh(d,h,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,d));var C=A,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(j){var re=C.refs;re===p2&&(re=C.refs={}),j===null?delete re[L]:re[L]=j},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function L0(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function w2(d){var h=d._init;return h(d._payload)}function S2(d){function h(le,ie){if(d){var ge=le.deletions;ge===null?(le.deletions=[ie],le.flags|=16):ge.push(ie)}}function w(le,ie){if(!d)return null;for(;ie!==null;)h(le,ie),ie=ie.sibling;return null}function A(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function C(le,ie){return le=Za(le,ie),le.index=0,le.sibling=null,le}function L(le,ie,ge){return le.index=ge,d?(ge=le.alternate,ge!==null?(ge=ge.index,ge<ie?(le.flags|=2,ie):ge):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function j(le){return d&&le.alternate===null&&(le.flags|=2),le}function re(le,ie,ge,ze){return ie===null||ie.tag!==6?(ie=gw(ge,le.mode,ze),ie.return=le,ie):(ie=C(ie,ge),ie.return=le,ie)}function ve(le,ie,ge,ze){var et=ge.type;return et===u?Je(le,ie,ge.props.children,ze,ge.key):ie!==null&&(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===b&&w2(et)===ie.type)?(ze=C(ie,ge.props),ze.ref=Zh(le,ie,ge),ze.return=le,ze):(ze=uv(ge.type,ge.key,ge.props,null,le.mode,ze),ze.ref=Zh(le,ie,ge),ze.return=le,ze)}function Le(le,ie,ge,ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=vw(ge,le.mode,ze),ie.return=le,ie):(ie=C(ie,ge.children||[]),ie.return=le,ie)}function Je(le,ie,ge,ze,et){return ie===null||ie.tag!==7?(ie=bc(ge,le.mode,ze,et),ie.return=le,ie):(ie=C(ie,ge),ie.return=le,ie)}function gt(le,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=gw(""+ie,le.mode,ge),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return ge=uv(ie.type,ie.key,ie.props,null,le.mode,ge),ge.ref=Zh(le,null,ie),ge.return=le,ge;case c:return ie=vw(ie,le.mode,ge),ie.return=le,ie;case b:var ze=ie._init;return gt(le,ze(ie._payload),ge)}if(J(ie)||M(ie))return ie=bc(ie,le.mode,ge,null),ie.return=le,ie;L0(le,ie)}return null}function at(le,ie,ge,ze){var et=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return et!==null?null:re(le,ie,""+ge,ze);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===et?ve(le,ie,ge,ze):null;case c:return ge.key===et?Le(le,ie,ge,ze):null;case b:return et=ge._init,at(le,ie,et(ge._payload),ze)}if(J(ge)||M(ge))return et!==null?null:Je(le,ie,ge,ze,null);L0(le,ge)}return null}function tn(le,ie,ge,ze,et){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return le=le.get(ge)||null,re(ie,le,""+ze,et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case l:return le=le.get(ze.key===null?ge:ze.key)||null,ve(ie,le,ze,et);case c:return le=le.get(ze.key===null?ge:ze.key)||null,Le(ie,le,ze,et);case b:var wt=ze._init;return tn(le,ie,ge,wt(ze._payload),et)}if(J(ze)||M(ze))return le=le.get(ge)||null,Je(ie,le,ze,et,null);L0(ie,ze)}return null}function nt(le,ie,ge,ze){for(var et=null,wt=null,vt=ie,Gt=ie=0,or=null;vt!==null&&Gt<ge.length;Gt++){vt.index>Gt?(or=vt,vt=null):or=vt.sibling;var Vt=at(le,vt,ge[Gt],ze);if(Vt===null){vt===null&&(vt=or);break}d&&vt&&Vt.alternate===null&&h(le,vt),ie=L(Vt,ie,Gt),wt===null?et=Vt:wt.sibling=Vt,wt=Vt,vt=or}if(Gt===ge.length)return w(le,vt),vn&&hc(le,Gt),et;if(vt===null){for(;Gt<ge.length;Gt++)vt=gt(le,ge[Gt],ze),vt!==null&&(ie=L(vt,ie,Gt),wt===null?et=vt:wt.sibling=vt,wt=vt);return vn&&hc(le,Gt),et}for(vt=A(le,vt);Gt<ge.length;Gt++)or=tn(vt,le,Gt,ge[Gt],ze),or!==null&&(d&&or.alternate!==null&&vt.delete(or.key===null?Gt:or.key),ie=L(or,ie,Gt),wt===null?et=or:wt.sibling=or,wt=or);return d&&vt.forEach(function(el){return h(le,el)}),vn&&hc(le,Gt),et}function Tr(le,ie,ge,ze){var et=M(ge);if(typeof et!="function")throw Error(o(150));if(ge=et.call(ge),ge==null)throw Error(o(151));for(var wt=et=null,vt=ie,Gt=ie=0,or=null,Vt=ge.next();vt!==null&&!Vt.done;Gt++,Vt=ge.next()){vt.index>Gt?(or=vt,vt=null):or=vt.sibling;var el=at(le,vt,Vt.value,ze);if(el===null){vt===null&&(vt=or);break}d&&vt&&el.alternate===null&&h(le,vt),ie=L(el,ie,Gt),wt===null?et=el:wt.sibling=el,wt=el,vt=or}if(Vt.done)return w(le,vt),vn&&hc(le,Gt),et;if(vt===null){for(;!Vt.done;Gt++,Vt=ge.next())Vt=gt(le,Vt.value,ze),Vt!==null&&(ie=L(Vt,ie,Gt),wt===null?et=Vt:wt.sibling=Vt,wt=Vt);return vn&&hc(le,Gt),et}for(vt=A(le,vt);!Vt.done;Gt++,Vt=ge.next())Vt=tn(vt,le,Gt,Vt.value,ze),Vt!==null&&(d&&Vt.alternate!==null&&vt.delete(Vt.key===null?Gt:Vt.key),ie=L(Vt,ie,Gt),wt===null?et=Vt:wt.sibling=Vt,wt=Vt);return d&&vt.forEach(function(s7){return h(le,s7)}),vn&&hc(le,Gt),et}function ns(le,ie,ge,ze){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var et=ge.key,wt=ie;wt!==null;){if(wt.key===et){if(et=ge.type,et===u){if(wt.tag===7){w(le,wt.sibling),ie=C(wt,ge.props.children),ie.return=le,le=ie;break e}}else if(wt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===b&&w2(et)===wt.type){w(le,wt.sibling),ie=C(wt,ge.props),ie.ref=Zh(le,wt,ge),ie.return=le,le=ie;break e}w(le,wt);break}else h(le,wt);wt=wt.sibling}ge.type===u?(ie=bc(ge.props.children,le.mode,ze,ge.key),ie.return=le,le=ie):(ze=uv(ge.type,ge.key,ge.props,null,le.mode,ze),ze.ref=Zh(le,ie,ge),ze.return=le,le=ze)}return j(le);case c:e:{for(wt=ge.key;ie!==null;){if(ie.key===wt)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){w(le,ie.sibling),ie=C(ie,ge.children||[]),ie.return=le,le=ie;break e}else{w(le,ie);break}else h(le,ie);ie=ie.sibling}ie=vw(ge,le.mode,ze),ie.return=le,le=ie}return j(le);case b:return wt=ge._init,ns(le,ie,wt(ge._payload),ze)}if(J(ge))return nt(le,ie,ge,ze);if(M(ge))return Tr(le,ie,ge,ze);L0(le,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ie!==null&&ie.tag===6?(w(le,ie.sibling),ie=C(ie,ge),ie.return=le,le=ie):(w(le,ie),ie=gw(ge,le.mode,ze),ie.return=le,le=ie),j(le)):w(le,ie)}return ns}var Zu=S2(!0),A2=S2(!1),ep={},qi=qr(ep),tp=qr(ep),ef=qr(ep);function fo(d){if(d===ep)throw Error(o(174));return d}function D_(d,h){bt(ef,h),bt(tp,d),bt(qi,ep),d=Y(h),Yt(qi),bt(qi,d)}function tf(){Yt(qi),Yt(tp),Yt(ef)}function E2(d){var h=fo(ef.current),w=fo(qi.current);h=k(w,d.type,h),w!==h&&(bt(tp,d),bt(qi,h))}function O_(d){tp.current===d&&(Yt(qi),Yt(tp))}var _n=qr(0);function D0(d){for(var h=d;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||oo(w)||Kh(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var k_=[];function N_(){for(var d=0;d<k_.length;d++){var h=k_[d];he?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}k_.length=0}var O0=a.ReactCurrentDispatcher,Zi=a.ReactCurrentBatchConfig,nf=0,Cn=null,Er=null,sr=null,k0=!1,np=!1,rp=0,Pj=0;function Mr(){throw Error(o(321))}function F_(d,h){if(h===null)return!1;for(var w=0;w<h.length&&w<d.length;w++)if(!lo(d[w],h[w]))return!1;return!0}function U_(d,h,w,A,C,L){if(nf=L,Cn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,O0.current=d===null||d.memoizedState===null?Dj:Oj,d=w(A,C),np){L=0;do{if(np=!1,rp=0,25<=L)throw Error(o(301));L+=1,sr=Er=null,h.updateQueue=null,O0.current=kj,d=w(A,C)}while(np)}if(O0.current=z0,h=Er!==null&&Er.next!==null,nf=0,sr=Er=Cn=null,k0=!1,h)throw Error(o(300));return d}function H_(){var d=rp!==0;return rp=0,d}function jo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Cn.memoizedState=sr=d:sr=sr.next=d,sr}function ho(){if(Er===null){var d=Cn.alternate;d=d!==null?d.memoizedState:null}else d=Er.next;var h=sr===null?Cn.memoizedState:sr.next;if(h!==null)sr=h,Er=d;else{if(d===null)throw Error(o(310));Er=d,d={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},sr===null?Cn.memoizedState=sr=d:sr=sr.next=d}return sr}function pc(d,h){return typeof h=="function"?h(d):h}function N0(d){var h=ho(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=Er,C=A.baseQueue,L=w.pending;if(L!==null){if(C!==null){var j=C.next;C.next=L.next,L.next=j}A.baseQueue=C=L,w.pending=null}if(C!==null){L=C.next,A=A.baseState;var re=j=null,ve=null,Le=L;do{var Je=Le.lane;if((nf&Je)===Je)ve!==null&&(ve=ve.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),A=Le.hasEagerState?Le.eagerState:d(A,Le.action);else{var gt={lane:Je,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ve===null?(re=ve=gt,j=A):ve=ve.next=gt,Cn.lanes|=Je,sf|=Je}Le=Le.next}while(Le!==null&&Le!==L);ve===null?j=A:ve.next=re,lo(A,h.memoizedState)||(wi=!0),h.memoizedState=A,h.baseState=j,h.baseQueue=ve,w.lastRenderedState=A}if(d=w.interleaved,d!==null){C=d;do L=C.lane,Cn.lanes|=L,sf|=L,C=C.next;while(C!==d)}else C===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function F0(d){var h=ho(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=w.dispatch,C=w.pending,L=h.memoizedState;if(C!==null){w.pending=null;var j=C=C.next;do L=d(L,j.action),j=j.next;while(j!==C);lo(L,h.memoizedState)||(wi=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),w.lastRenderedState=L}return[L,A]}function M2(){}function C2(d,h){var w=Cn,A=ho(),C=h(),L=!lo(A.memoizedState,C);if(L&&(A.memoizedState=C,wi=!0),A=A.queue,sp(P2.bind(null,w,A,d),[d]),A.getSnapshot!==h||L||sr!==null&&sr.memoizedState.tag&1){if(w.flags|=2048,ip(9,R2.bind(null,w,A,C,h),void 0,null),zn===null)throw Error(o(349));nf&30||T2(w,h,C)}return C}function T2(d,h,w){d.flags|=16384,d={getSnapshot:h,value:w},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.stores=[d]):(w=h.stores,w===null?h.stores=[d]:w.push(d))}function R2(d,h,w,A){h.value=w,h.getSnapshot=A,I2(h)&&es(d,1,-1)}function P2(d,h,w){return w(function(){I2(h)&&es(d,1,-1)})}function I2(d){var h=d.getSnapshot;d=d.value;try{var w=h();return!lo(d,w)}catch{return!0}}function z_(d){var h=jo();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:d},h.queue=d,d=d.dispatch=Lj.bind(null,Cn,d),[h.memoizedState,d]}function ip(d,h,w,A){return d={tag:d,create:h,destroy:w,deps:A,next:null},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.lastEffect=d.next=d):(w=h.lastEffect,w===null?h.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,h.lastEffect=d)),d}function B2(){return ho().memoizedState}function U0(d,h,w,A){var C=jo();Cn.flags|=d,C.memoizedState=ip(1|h,w,void 0,A===void 0?null:A)}function H0(d,h,w,A){var C=ho();A=A===void 0?null:A;var L=void 0;if(Er!==null){var j=Er.memoizedState;if(L=j.destroy,A!==null&&F_(A,j.deps)){C.memoizedState=ip(h,w,L,A);return}}Cn.flags|=d,C.memoizedState=ip(1|h,w,L,A)}function G_(d,h){return U0(8390656,8,d,h)}function sp(d,h){return H0(2048,8,d,h)}function L2(d,h){return H0(4,2,d,h)}function D2(d,h){return H0(4,4,d,h)}function O2(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function k2(d,h,w){return w=w!=null?w.concat([d]):null,H0(4,4,O2.bind(null,h,d),w)}function V_(){}function N2(d,h){var w=ho();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&F_(h,A[1])?A[0]:(w.memoizedState=[d,h],d)}function F2(d,h){var w=ho();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&F_(h,A[1])?A[0]:(d=d(),w.memoizedState=[d,h],d)}function Ij(d,h){var w=zt;zt=w!==0&&4>w?w:4,d(!0);var A=Zi.transition;Zi.transition={};try{d(!1),h()}finally{zt=w,Zi.transition=A}}function U2(){return ho().memoizedState}function Bj(d,h,w){var A=Qa(d);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},H2(d)?z2(h,w):(G2(d,h,w),w=Ur(),d=es(d,A,w),d!==null&&V2(d,h,A))}function Lj(d,h,w){var A=Qa(d),C={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(H2(d))z2(h,C);else{G2(d,h,C);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,re=L(j,w);if(C.hasEagerState=!0,C.eagerState=re,lo(re,j))return}catch{}finally{}w=Ur(),d=es(d,A,w),d!==null&&V2(d,h,A)}}function H2(d){var h=d.alternate;return d===Cn||h!==null&&h===Cn}function z2(d,h){np=k0=!0;var w=d.pending;w===null?h.next=h:(h.next=w.next,w.next=h),d.pending=h}function G2(d,h,w){zn!==null&&d.mode&1&&!(Tt&2)?(d=h.interleaved,d===null?(w.next=w,uo===null?uo=[h]:uo.push(h)):(w.next=d.next,d.next=w),h.interleaved=w):(d=h.pending,d===null?w.next=w:(w.next=d.next,d.next=w),h.pending=w)}function V2(d,h,w){if(w&4194240){var A=h.lanes;A&=d.pendingLanes,w|=A,h.lanes=w,v_(d,w)}}var z0={readContext:Xi,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Dj={readContext:Xi,useCallback:function(d,h){return jo().memoizedState=[d,h===void 0?null:h],d},useContext:Xi,useEffect:G_,useImperativeHandle:function(d,h,w){return w=w!=null?w.concat([d]):null,U0(4194308,4,O2.bind(null,h,d),w)},useLayoutEffect:function(d,h){return U0(4194308,4,d,h)},useInsertionEffect:function(d,h){return U0(4,2,d,h)},useMemo:function(d,h){var w=jo();return h=h===void 0?null:h,d=d(),w.memoizedState=[d,h],d},useReducer:function(d,h,w){var A=jo();return h=w!==void 0?w(h):h,A.memoizedState=A.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},A.queue=d,d=d.dispatch=Bj.bind(null,Cn,d),[A.memoizedState,d]},useRef:function(d){var h=jo();return d={current:d},h.memoizedState=d},useState:z_,useDebugValue:V_,useDeferredValue:function(d){var h=z_(d),w=h[0],A=h[1];return G_(function(){var C=Zi.transition;Zi.transition={};try{A(d)}finally{Zi.transition=C}},[d]),w},useTransition:function(){var d=z_(!1),h=d[0];return d=Ij.bind(null,d[1]),jo().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,w){var A=Cn,C=jo();if(vn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=h(),zn===null)throw Error(o(349));nf&30||T2(A,h,w)}C.memoizedState=w;var L={value:w,getSnapshot:h};return C.queue=L,G_(P2.bind(null,A,L,d),[d]),A.flags|=2048,ip(9,R2.bind(null,A,L,w,h),void 0,null),w},useId:function(){var d=jo(),h=zn.identifierPrefix;if(vn){var w=Wo,A=$o;w=(A&~(1<<32-Rs(A)-1)).toString(32)+w,h=":"+h+"R"+w,w=rp++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=Pj++,h=":"+h+"r"+w.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},Oj={readContext:Xi,useCallback:N2,useContext:Xi,useEffect:sp,useImperativeHandle:k2,useInsertionEffect:L2,useLayoutEffect:D2,useMemo:F2,useReducer:N0,useRef:B2,useState:function(){return N0(pc)},useDebugValue:V_,useDeferredValue:function(d){var h=N0(pc),w=h[0],A=h[1];return sp(function(){var C=Zi.transition;Zi.transition={};try{A(d)}finally{Zi.transition=C}},[d]),w},useTransition:function(){var d=N0(pc)[0],h=ho().memoizedState;return[d,h]},useMutableSource:M2,useSyncExternalStore:C2,useId:U2,unstable_isNewReconciler:!1},kj={readContext:Xi,useCallback:N2,useContext:Xi,useEffect:sp,useImperativeHandle:k2,useInsertionEffect:L2,useLayoutEffect:D2,useMemo:F2,useReducer:F0,useRef:B2,useState:function(){return F0(pc)},useDebugValue:V_,useDeferredValue:function(d){var h=F0(pc),w=h[0],A=h[1];return sp(function(){var C=Zi.transition;Zi.transition={};try{A(d)}finally{Zi.transition=C}},[d]),w},useTransition:function(){var d=F0(pc)[0],h=ho().memoizedState;return[d,h]},useMutableSource:M2,useSyncExternalStore:C2,useId:U2,unstable_isNewReconciler:!1};function $_(d,h){try{var w="",A=h;do w+=Rj(A),A=A.return;while(A);var C=w}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:C}}function W_(d,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var Nj=typeof WeakMap=="function"?WeakMap:Map;function $2(d,h,w){w=Vo(-1,w),w.tag=3,w.payload={element:null};var A=h.value;return w.callback=function(){rv||(rv=!0,cw=A),W_(d,h)},w}function W2(d,h,w){w=Vo(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var C=h.value;w.payload=function(){return A(C)},w.callback=function(){W_(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(w.callback=function(){W_(d,h),typeof A!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),w}function j2(d,h,w){var A=d.pingCache;if(A===null){A=d.pingCache=new Nj;var C=new Set;A.set(h,C)}else C=A.get(h),C===void 0&&(C=new Set,A.set(h,C));C.has(w)||(C.add(w),d=Qj.bind(null,d,h,w),h.then(d,d))}function J2(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function K2(d,h,w,A,C){return d.mode&1?(d.flags|=65536,d.lanes=C,d):(d===h?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=Vo(-1,1),h.tag=2,Ka(w,h))),w.lanes|=1),d)}function po(d){d.flags|=4}function X2(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var op,ap,G0,V0;if(we)op=function(d,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)ee(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},ap=function(){},G0=function(d,h,w,A,C){if(d=d.memoizedProps,d!==A){var L=h.stateNode,j=fo(qi.current);w=Z(L,w,d,A,C,j),(h.updateQueue=w)&&po(h)}},V0=function(d,h,w,A){w!==A&&po(h)};else if(me){op=function(d,h,w,A){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;w&&A&&(L=qt(L,C.type,C.memoizedProps,C)),ee(d,L)}else if(C.tag===6)L=C.stateNode,w&&A&&(L=rr(L,C.memoizedProps,C)),ee(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),op(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var Y2=function(d,h,w,A){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;w&&A&&(L=qt(L,C.type,C.memoizedProps,C)),en(d,L)}else if(C.tag===6)L=C.stateNode,w&&A&&(L=rr(L,C.memoizedProps,C)),en(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),Y2(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};ap=function(d,h){var w=h.stateNode;if(!X2(d,h)){d=w.containerInfo;var A=Jt(d);Y2(A,h,!1,!1),w.pendingChildren=A,po(h),Fn(d,A)}},G0=function(d,h,w,A,C){var L=d.stateNode,j=d.memoizedProps;if((d=X2(d,h))&&j===A)h.stateNode=L;else{var re=h.stateNode,ve=fo(qi.current),Le=null;j!==A&&(Le=Z(re,w,j,A,C,ve)),d&&Le===null?h.stateNode=L:(L=Ze(L,Le,w,j,A,h,d,re),se(L,w,A,C,ve)&&po(h),h.stateNode=L,d?po(h):op(L,h,!1,!1))}},V0=function(d,h,w,A){w!==A?(d=fo(ef.current),w=fo(qi.current),h.stateNode=oe(A,d,w,h),po(h)):h.stateNode=d.stateNode}}else ap=function(){},G0=function(){},V0=function(){};function lp(d,h){if(!vn)switch(d.tailMode){case"hidden":h=d.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Cr(d){var h=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(h)for(var C=d.child;C!==null;)w|=C.lanes|C.childLanes,A|=C.subtreeFlags&14680064,A|=C.flags&14680064,C.return=d,C=C.sibling;else for(C=d.child;C!==null;)w|=C.lanes|C.childLanes,A|=C.subtreeFlags,A|=C.flags,C.return=d,C=C.sibling;return d.subtreeFlags|=A,d.childLanes=w,h}function Fj(d,h,w){var A=h.pendingProps;switch(P_(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(h),null;case 1:return gr(h.type)&&y0(),Cr(h),null;case 3:return A=h.stateNode,tf(),Yt(Zt),Yt(Hn),N_(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(qh(h)?po(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Is!==null&&(dw(Is),Is=null))),ap(d,h),Cr(h),null;case 5:O_(h),w=fo(ef.current);var C=h.type;if(d!==null&&h.stateNode!=null)G0(d,h,C,A,w),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(o(166));return Cr(h),null}if(d=fo(qi.current),qh(h)){if(!fe)throw Error(o(175));d=Se(h.stateNode,h.type,h.memoizedProps,w,d,h,!Qh),h.updateQueue=d,d!==null&&po(h)}else{var L=q(C,A,w,d,h);op(L,h,!1,!1),h.stateNode=L,se(L,C,A,w,d)&&po(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Cr(h),null;case 6:if(d&&h.stateNode!=null)V0(d,h,d.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(o(166));if(d=fo(ef.current),w=fo(qi.current),qh(h)){if(!fe)throw Error(o(176));if(d=h.stateNode,A=h.memoizedProps,(w=ot(d,A,h,!Qh))&&(C=bi,C!==null))switch(L=(C.mode&1)!==0,C.tag){case 3:mr(C.stateNode.containerInfo,d,A,L);break;case 5:xi(C.type,C.memoizedProps,C.stateNode,d,A,L)}w&&po(h)}else h.stateNode=oe(A,d,w,h)}return Cr(h),null;case 13:if(Yt(_n),A=h.memoizedState,vn&&_i!==null&&h.mode&1&&!(h.flags&128)){for(d=_i;d;)d=$(d);return qu(),h.flags|=98560,h}if(A!==null&&A.dehydrated!==null){if(A=qh(h),d===null){if(!A)throw Error(o(318));if(!fe)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ct(d,h)}else qu(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Cr(h),null}return Is!==null&&(dw(Is),Is=null),h.flags&128?(h.lanes=w,h):(A=A!==null,w=!1,d===null?qh(h):w=d.memoizedState!==null,A&&!w&&(h.child.flags|=8192,h.mode&1&&(d===null||_n.current&1?Yn===0&&(Yn=3):pw())),h.updateQueue!==null&&(h.flags|=4),Cr(h),null);case 4:return tf(),ap(d,h),d===null&&De(h.stateNode.containerInfo),Cr(h),null;case 10:return A_(h.type._context),Cr(h),null;case 17:return gr(h.type)&&y0(),Cr(h),null;case 19:if(Yt(_n),C=h.memoizedState,C===null)return Cr(h),null;if(A=(h.flags&128)!==0,L=C.rendering,L===null)if(A)lp(C,!1);else{if(Yn!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=D0(d),L!==null){for(h.flags|=128,lp(C,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=w,A=h.child;A!==null;)w=A,C=d,w.flags&=14680066,L=w.alternate,L===null?(w.childLanes=0,w.lanes=C,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=L.childLanes,w.lanes=L.lanes,w.child=L.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=L.memoizedProps,w.memoizedState=L.memoizedState,w.updateQueue=L.updateQueue,w.type=L.type,C=L.dependencies,w.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),A=A.sibling;return bt(_n,_n.current&1|2),h.child}d=d.sibling}C.tail!==null&&ir()>lw&&(h.flags|=128,A=!0,lp(C,!1),h.lanes=4194304)}else{if(!A)if(d=D0(L),d!==null){if(h.flags|=128,A=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),lp(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!vn)return Cr(h),null}else 2*ir()-C.renderingStartTime>lw&&w!==1073741824&&(h.flags|=128,A=!0,lp(C,!1),h.lanes=4194304);C.isBackwards?(L.sibling=h.child,h.child=L):(d=C.last,d!==null?d.sibling=L:h.child=L,C.last=L)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=ir(),h.sibling=null,d=_n.current,bt(_n,A?d&1|2:d&1),h):(Cr(h),null);case 22:case 23:return hw(),A=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(h.flags|=8192),A&&h.mode&1?Si&1073741824&&(Cr(h),we&&h.subtreeFlags&6&&(h.flags|=8192)):Cr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var Uj=a.ReactCurrentOwner,wi=!1;function Fr(d,h,w,A){h.child=d===null?A2(h,null,w,A):Zu(h,d.child,w,A)}function Q2(d,h,w,A,C){w=w.render;var L=h.ref;return Xu(h,C),A=U_(d,h,w,A,L,C),w=H_(),d!==null&&!wi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,Jo(d,h,C)):(vn&&w&&R_(h),h.flags|=1,Fr(d,h,A,C),h.child)}function q2(d,h,w,A,C){if(d===null){var L=w.type;return typeof L=="function"&&!mw(L)&&L.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=L,Z2(d,h,L,A,C)):(d=uv(w.type,null,A,h,h.mode,C),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&C)){var j=L.memoizedProps;if(w=w.compare,w=w!==null?w:E0,w(j,A)&&d.ref===h.ref)return Jo(d,h,C)}return h.flags|=1,d=Za(L,A),d.ref=h.ref,d.return=h,h.child=d}function Z2(d,h,w,A,C){if(d!==null&&E0(d.memoizedProps,A)&&d.ref===h.ref)if(wi=!1,(d.lanes&C)!==0)d.flags&131072&&(wi=!0);else return h.lanes=d.lanes,Jo(d,h,C);return j_(d,h,w,A,C)}function eB(d,h,w){var A=h.pendingProps,C=A.children,L=d!==null?d.memoizedState:null;if(A.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},bt(rf,Si),Si|=w;else if(w&1073741824)h.memoizedState={baseLanes:0,cachePool:null},A=L!==null?L.baseLanes:w,bt(rf,Si),Si|=A;else return d=L!==null?L.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,bt(rf,Si),Si|=d,null;else L!==null?(A=L.baseLanes|w,h.memoizedState=null):A=w,bt(rf,Si),Si|=A;return Fr(d,h,C,w),h.child}function tB(d,h){var w=h.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function j_(d,h,w,A,C){var L=gr(w)?Ts:Hn.current;return L=ja(h,L),Xu(h,C),w=U_(d,h,w,A,L,C),A=H_(),d!==null&&!wi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,Jo(d,h,C)):(vn&&A&&R_(h),h.flags|=1,Fr(d,h,w,C),h.child)}function nB(d,h,w,A,C){if(gr(w)){var L=!0;x0(h)}else L=!1;if(Xu(h,C),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),g2(h,w,A),T_(h,w,A,C),A=!0;else if(d===null){var j=h.stateNode,re=h.memoizedProps;j.props=re;var ve=j.context,Le=w.contextType;typeof Le=="object"&&Le!==null?Le=Xi(Le):(Le=gr(w)?Ts:Hn.current,Le=ja(h,Le));var Je=w.getDerivedStateFromProps,gt=typeof Je=="function"||typeof j.getSnapshotBeforeUpdate=="function";gt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(re!==A||ve!==Le)&&v2(h,j,A,Le),Ja=!1;var at=h.memoizedState;j.state=at,R0(h,A,j,C),ve=h.memoizedState,re!==A||at!==ve||Zt.current||Ja?(typeof Je=="function"&&(C_(h,w,Je,A),ve=h.memoizedState),(re=Ja||m2(h,w,re,A,at,ve,Le))?(gt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=ve),j.props=A,j.state=ve,j.context=Le,A=re):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{j=h.stateNode,f2(d,h),re=h.memoizedProps,Le=h.type===h.elementType?re:Ps(h.type,re),j.props=Le,gt=h.pendingProps,at=j.context,ve=w.contextType,typeof ve=="object"&&ve!==null?ve=Xi(ve):(ve=gr(w)?Ts:Hn.current,ve=ja(h,ve));var tn=w.getDerivedStateFromProps;(Je=typeof tn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(re!==gt||at!==ve)&&v2(h,j,A,ve),Ja=!1,at=h.memoizedState,j.state=at,R0(h,A,j,C);var nt=h.memoizedState;re!==gt||at!==nt||Zt.current||Ja?(typeof tn=="function"&&(C_(h,w,tn,A),nt=h.memoizedState),(Le=Ja||m2(h,w,Le,A,at,nt,ve)||!1)?(Je||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(A,nt,ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(A,nt,ve)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||re===d.memoizedProps&&at===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&at===d.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=nt),j.props=A,j.state=nt,j.context=ve,A=Le):(typeof j.componentDidUpdate!="function"||re===d.memoizedProps&&at===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&at===d.memoizedState||(h.flags|=1024),A=!1)}return J_(d,h,w,A,L,C)}function J_(d,h,w,A,C,L){tB(d,h);var j=(h.flags&128)!==0;if(!A&&!j)return C&&o2(h,w,!1),Jo(d,h,L);A=h.stateNode,Uj.current=h;var re=j&&typeof w.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,d!==null&&j?(h.child=Zu(h,d.child,null,L),h.child=Zu(h,null,re,L)):Fr(d,h,re,L),h.memoizedState=A.state,C&&o2(h,w,!0),h.child}function rB(d){var h=d.stateNode;h.pendingContext?i2(d,h.pendingContext,h.pendingContext!==h.context):h.context&&i2(d,h.context,!1),D_(d,h.containerInfo)}function iB(d,h,w,A,C){return qu(),L_(C),h.flags|=256,Fr(d,h,w,A),h.child}var $0={dehydrated:null,treeContext:null,retryLane:0};function W0(d){return{baseLanes:d,cachePool:null}}function sB(d,h,w){var A=h.pendingProps,C=_n.current,L=!1,j=(h.flags&128)!==0,re;if((re=j)||(re=d!==null&&d.memoizedState===null?!1:(C&2)!==0),re?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(C|=1),bt(_n,C&1),d===null)return B_(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?Kh(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(C=A.children,d=A.fallback,L?(A=h.mode,L=h.child,C={mode:"hidden",children:C},!(A&1)&&L!==null?(L.childLanes=0,L.pendingProps=C):L=fv(C,A,0,null),d=bc(d,A,w,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=W0(w),h.memoizedState=$0,d):K_(h,C));if(C=d.memoizedState,C!==null){if(re=C.dehydrated,re!==null){if(j)return h.flags&256?(h.flags&=-257,j0(d,h,w,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=A.fallback,C=h.mode,A=fv({mode:"visible",children:A.children},C,0,null),L=bc(L,C,w,null),L.flags|=2,A.return=h,L.return=h,A.sibling=L,h.child=A,h.mode&1&&Zu(h,d.child,null,w),h.child.memoizedState=W0(w),h.memoizedState=$0,L);if(!(h.mode&1))h=j0(d,h,w,null);else if(Kh(re))h=j0(d,h,w,Error(o(419)));else if(A=(w&d.childLanes)!==0,wi||A){if(A=zn,A!==null){switch(w&-w){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}A=L&(A.suspendedLanes|w)?0:L,A!==0&&A!==C.retryLane&&(C.retryLane=A,es(d,A,-1))}pw(),h=j0(d,h,w,Error(o(421)))}else oo(re)?(h.flags|=128,h.child=d.child,h=qj.bind(null,d),p_(re,h),h=null):(w=C.treeContext,fe&&(_i=ae(re),bi=h,vn=!0,Is=null,Qh=!1,w!==null&&(Yi[Qi++]=$o,Yi[Qi++]=Wo,Yi[Qi++]=dc,$o=w.id,Wo=w.overflow,dc=h)),h=K_(h,h.pendingProps.children),h.flags|=4096);return h}return L?(A=aB(d,h,A.children,A.fallback,w),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?W0(w):{baseLanes:C.baseLanes|w,cachePool:null},L.childLanes=d.childLanes&~w,h.memoizedState=$0,A):(w=oB(d,h,A.children,w),h.memoizedState=null,w)}return L?(A=aB(d,h,A.children,A.fallback,w),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?W0(w):{baseLanes:C.baseLanes|w,cachePool:null},L.childLanes=d.childLanes&~w,h.memoizedState=$0,A):(w=oB(d,h,A.children,w),h.memoizedState=null,w)}function K_(d,h){return h=fv({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function oB(d,h,w,A){var C=d.child;return d=C.sibling,w=Za(C,{mode:"visible",children:w}),!(h.mode&1)&&(w.lanes=A),w.return=h,w.sibling=null,d!==null&&(A=h.deletions,A===null?(h.deletions=[d],h.flags|=16):A.push(d)),h.child=w}function aB(d,h,w,A,C){var L=h.mode;d=d.child;var j=d.sibling,re={mode:"hidden",children:w};return!(L&1)&&h.child!==d?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=Za(d,re),w.subtreeFlags=d.subtreeFlags&14680064),j!==null?A=Za(j,A):(A=bc(A,L,C,null),A.flags|=2),A.return=h,w.return=h,w.sibling=A,h.child=w,A}function j0(d,h,w,A){return A!==null&&L_(A),Zu(h,d.child,null,w),d=K_(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function lB(d,h,w){d.lanes|=h;var A=d.alternate;A!==null&&(A.lanes|=h),E_(d.return,h,w)}function X_(d,h,w,A,C){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:C}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=A,L.tail=w,L.tailMode=C)}function cB(d,h,w){var A=h.pendingProps,C=A.revealOrder,L=A.tail;if(Fr(d,h,A.children,w),A=_n.current,A&2)A=A&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&lB(d,w,h);else if(d.tag===19)lB(d,w,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(bt(_n,A),!(h.mode&1))h.memoizedState=null;else switch(C){case"forwards":for(w=h.child,C=null;w!==null;)d=w.alternate,d!==null&&D0(d)===null&&(C=w),w=w.sibling;w=C,w===null?(C=h.child,h.child=null):(C=w.sibling,w.sibling=null),X_(h,!1,C,w,L);break;case"backwards":for(w=null,C=h.child,h.child=null;C!==null;){if(d=C.alternate,d!==null&&D0(d)===null){h.child=C;break}d=C.sibling,C.sibling=w,w=C,C=d}X_(h,!0,w,null,L);break;case"together":X_(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Jo(d,h,w){if(d!==null&&(h.dependencies=d.dependencies),sf|=h.lanes,!(w&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,w=Za(d,d.pendingProps),h.child=w,w.return=h;d.sibling!==null;)d=d.sibling,w=w.sibling=Za(d,d.pendingProps),w.return=h;w.sibling=null}return h.child}function Hj(d,h,w){switch(h.tag){case 3:rB(h),qu();break;case 5:E2(h);break;case 1:gr(h.type)&&x0(h);break;case 4:D_(h,h.stateNode.containerInfo);break;case 10:u2(h,h.type._context,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(bt(_n,_n.current&1),h.flags|=128,null):w&h.child.childLanes?sB(d,h,w):(bt(_n,_n.current&1),d=Jo(d,h,w),d!==null?d.sibling:null);bt(_n,_n.current&1);break;case 19:if(A=(w&h.childLanes)!==0,d.flags&128){if(A)return cB(d,h,w);h.flags|=128}var C=h.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),bt(_n,_n.current),A)break;return null;case 22:case 23:return h.lanes=0,eB(d,h,w)}return Jo(d,h,w)}function zj(d,h){switch(P_(h),h.tag){case 1:return gr(h.type)&&y0(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return tf(),Yt(Zt),Yt(Hn),N_(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return O_(h),null;case 13:if(Yt(_n),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));qu()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Yt(_n),null;case 4:return tf(),null;case 10:return A_(h.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var J0=!1,mc=!1,Gj=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function K0(d,h){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){ti(d,h,A)}else w.current=null}function Y_(d,h,w){try{w()}catch(A){ti(d,h,A)}}var uB=!1;function Vj(d,h){for(U(d.containerInfo),Ue=h;Ue!==null;)if(d=Ue,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ue=h;else for(;Ue!==null;){d=Ue;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,C=w.memoizedState,L=d.stateNode,j=L.getSnapshotBeforeUpdate(d.elementType===d.type?A:Ps(d.type,A),C);L.__reactInternalSnapshotBeforeUpdate=j}break;case 3:we&&He(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){ti(d,d.return,re)}if(h=d.sibling,h!==null){h.return=d.return,Ue=h;break}Ue=d.return}return w=uB,uB=!1,w}function gc(d,h,w){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var C=A=A.next;do{if((C.tag&d)===d){var L=C.destroy;C.destroy=void 0,L!==void 0&&Y_(h,w,L)}C=C.next}while(C!==A)}}function cp(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==h)}}function Q_(d){var h=d.ref;if(h!==null){var w=d.stateNode;switch(d.tag){case 5:d=X(w);break;default:d=w}typeof h=="function"?h(d):h.current=d}}function fB(d,h,w){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(S0,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var A=d=d.next;do{var C=A,L=C.destroy;C=C.tag,L!==void 0&&(C&2||C&4)&&Y_(h,w,L),A=A.next}while(A!==d)}break;case 1:if(K0(h,w),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(j){ti(h,w,j)}break;case 5:K0(h,w);break;case 4:we?vB(d,h,w):me&&me&&(h=h.stateNode.containerInfo,w=Jt(h),yi(h,w))}}function dB(d,h,w){for(var A=h;;)if(fB(d,A,w),A.child===null||we&&A.tag===4){if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function hB(d){var h=d.alternate;h!==null&&(d.alternate=null,hB(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&ke(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function pB(d){return d.tag===5||d.tag===3||d.tag===4}function mB(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||pB(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function gB(d){if(we){e:{for(var h=d.return;h!==null;){if(pB(h))break e;h=h.return}throw Error(o(160))}var w=h;switch(w.tag){case 5:h=w.stateNode,w.flags&32&&(It(h),w.flags&=-33),w=mB(d),Z_(d,w,h);break;case 3:case 4:h=w.stateNode.containerInfo,w=mB(d),q_(d,w,h);break;default:throw Error(o(161))}}}function q_(d,h,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?$e(w,d,h):Ge(w,d);else if(A!==4&&(d=d.child,d!==null))for(q_(d,h,w),d=d.sibling;d!==null;)q_(d,h,w),d=d.sibling}function Z_(d,h,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?it(w,d,h):rt(w,d);else if(A!==4&&(d=d.child,d!==null))for(Z_(d,h,w),d=d.sibling;d!==null;)Z_(d,h,w),d=d.sibling}function vB(d,h,w){for(var A=h,C=!1,L,j;;){if(!C){C=A.return;e:for(;;){if(C===null)throw Error(o(160));switch(L=C.stateNode,C.tag){case 5:j=!1;break e;case 3:L=L.containerInfo,j=!0;break e;case 4:L=L.containerInfo,j=!0;break e}C=C.return}C=!0}if(A.tag===5||A.tag===6)dB(d,A,w),j?_t(L,A.stateNode):Qe(L,A.stateNode);else if(A.tag===18)j?Rt(L,A.stateNode):Ct(L,A.stateNode);else if(A.tag===4){if(A.child!==null){L=A.stateNode.containerInfo,j=!0,A.child.return=A,A=A.child;continue}}else if(fB(d,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return,A.tag===4&&(C=!1)}A.sibling.return=A.return,A=A.sibling}}function ew(d,h){if(we){switch(h.tag){case 0:case 11:case 14:case 15:gc(3,h,h.return),cp(3,h),gc(5,h,h.return);return;case 1:return;case 5:var w=h.stateNode;if(w!=null){var A=h.memoizedProps;d=d!==null?d.memoizedProps:A;var C=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&Ye(w,L,C,d,A,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));w=h.memoizedProps,xe(h.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:fe&&d!==null&&d.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);return;case 12:return;case 13:X0(h);return;case 19:X0(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:gc(3,h,h.return),cp(3,h),gc(5,h,h.return);return;case 12:return;case 13:X0(h);return;case 19:X0(h);return;case 3:fe&&d!==null&&d.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,yi(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function X0(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new Gj),h.forEach(function(A){var C=Zj.bind(null,d,A);w.has(A)||(w.add(A),A.then(C,C))})}}function $j(d,h){for(Ue=h;Ue!==null;){h=Ue;var w=h.deletions;if(w!==null)for(var A=0;A<w.length;A++){var C=w[A];try{var L=d;we?vB(L,C,h):dB(L,C,h);var j=C.alternate;j!==null&&(j.return=null),C.return=null}catch(et){ti(C,h,et)}}if(w=h.child,h.subtreeFlags&12854&&w!==null)w.return=h,Ue=w;else for(;Ue!==null;){h=Ue;try{var re=h.flags;if(re&32&&we&&It(h.stateNode),re&512){var ve=h.alternate;if(ve!==null){var Le=ve.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(re&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Je=h.alternate;(Je===null||Je.memoizedState===null)&&(aw=ir())}break;case 22:var gt=h.memoizedState!==null,at=h.alternate,tn=at!==null&&at.memoizedState!==null;if(w=h,we){e:if(A=w,C=gt,L=null,we)for(var nt=A;;){if(nt.tag===5){if(L===null){L=nt;var Tr=nt.stateNode;C?Wt(Tr):ye(nt.stateNode,nt.memoizedProps)}}else if(nt.tag===6){if(L===null){var ns=nt.stateNode;C?te(ns):Re(ns,nt.memoizedProps)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===A)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===A)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===A)break e;L===nt&&(L=null),nt=nt.return}L===nt&&(L=null),nt.sibling.return=nt.return,nt=nt.sibling}}if(gt&&!tn&&w.mode&1){Ue=w;for(var le=w.child;le!==null;){for(w=Ue=le;Ue!==null;){A=Ue;var ie=A.child;switch(A.tag){case 0:case 11:case 14:case 15:gc(4,A,A.return);break;case 1:K0(A,A.return);var ge=A.stateNode;if(typeof ge.componentWillUnmount=="function"){var ze=A.return;try{ge.props=A.memoizedProps,ge.state=A.memoizedState,ge.componentWillUnmount()}catch(et){ti(A,ze,et)}}break;case 5:K0(A,A.return);break;case 22:if(A.memoizedState!==null){bB(w);continue}}ie!==null?(ie.return=A,Ue=ie):bB(w)}le=le.sibling}}}switch(re&4102){case 2:gB(h),h.flags&=-3;break;case 6:gB(h),h.flags&=-3,ew(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,ew(h.alternate,h);break;case 4:ew(h.alternate,h)}}catch(et){ti(h,h.return,et)}if(w=h.sibling,w!==null){w.return=h.return,Ue=w;break}Ue=h.return}}}function Wj(d,h,w){Ue=d,yB(d)}function yB(d,h,w){for(var A=(d.mode&1)!==0;Ue!==null;){var C=Ue,L=C.child;if(C.tag===22&&A){var j=C.memoizedState!==null||J0;if(!j){var re=C.alternate,ve=re!==null&&re.memoizedState!==null||mc;re=J0;var Le=mc;if(J0=j,(mc=ve)&&!Le)for(Ue=C;Ue!==null;)j=Ue,ve=j.child,j.tag===22&&j.memoizedState!==null?_B(C):ve!==null?(ve.return=j,Ue=ve):_B(C);for(;L!==null;)Ue=L,yB(L),L=L.sibling;Ue=C,J0=re,mc=Le}xB(d)}else C.subtreeFlags&8772&&L!==null?(L.return=C,Ue=L):xB(d)}}function xB(d){for(;Ue!==null;){var h=Ue;if(h.flags&8772){var w=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:mc||cp(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!mc)if(w===null)A.componentDidMount();else{var C=h.elementType===h.type?w.memoizedProps:Ps(h.type,w.memoizedProps);A.componentDidUpdate(C,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&h2(h,L,A);break;case 3:var j=h.updateQueue;if(j!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=X(h.child.stateNode);break;case 1:w=h.child.stateNode}h2(h,j,w)}break;case 5:var re=h.stateNode;w===null&&h.flags&4&&Ke(re,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&h.memoizedState===null){var ve=h.alternate;if(ve!==null){var Le=ve.memoizedState;if(Le!==null){var Je=Le.dehydrated;Je!==null&&Mt(Je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}mc||h.flags&512&&Q_(h)}catch(gt){ti(h,h.return,gt)}}if(h===d){Ue=null;break}if(w=h.sibling,w!==null){w.return=h.return,Ue=w;break}Ue=h.return}}function bB(d){for(;Ue!==null;){var h=Ue;if(h===d){Ue=null;break}var w=h.sibling;if(w!==null){w.return=h.return,Ue=w;break}Ue=h.return}}function _B(d){for(;Ue!==null;){var h=Ue;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{cp(4,h)}catch(ve){ti(h,w,ve)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var C=h.return;try{A.componentDidMount()}catch(ve){ti(h,C,ve)}}var L=h.return;try{Q_(h)}catch(ve){ti(h,L,ve)}break;case 5:var j=h.return;try{Q_(h)}catch(ve){ti(h,j,ve)}}}catch(ve){ti(h,h.return,ve)}if(h===d){Ue=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Ue=re;break}Ue=h.return}}var Y0=0,Q0=1,q0=2,Z0=3,ev=4;if(typeof Symbol=="function"&&Symbol.for){var up=Symbol.for;Y0=up("selector.component"),Q0=up("selector.has_pseudo_class"),q0=up("selector.role"),Z0=up("selector.test_id"),ev=up("selector.text")}function tw(d){var h=be(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=ft(d),d===null)throw Error(o(362));return d.stateNode.current}function nw(d,h){switch(h.$$typeof){case Y0:if(d.type===h.value)return!0;break;case Q0:e:{h=h.value,d=[d,0];for(var w=0;w<d.length;){var A=d[w++],C=d[w++],L=h[C];if(A.tag!==5||!pe(A)){for(;L!=null&&nw(A,L);)C++,L=h[C];if(C===h.length){h=!0;break e}else for(A=A.child;A!==null;)d.push(A,C),A=A.sibling}}h=!1}return h;case q0:if(d.tag===5&&Ce(d.stateNode,h.value))return!0;break;case ev:if((d.tag===5||d.tag===6)&&(d=F(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case Z0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function rw(d){switch(d.$$typeof){case Y0:return"<"+(I(d.value)||"Unknown")+">";case Q0:return":has("+(rw(d)||"")+")";case q0:return'[role="'+d.value+'"]';case ev:return'"'+d.value+'"';case Z0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function wB(d,h){var w=[];d=[d,0];for(var A=0;A<d.length;){var C=d[A++],L=d[A++],j=h[L];if(C.tag!==5||!pe(C)){for(;j!=null&&nw(C,j);)L++,j=h[L];if(L===h.length)w.push(C);else for(C=C.child;C!==null;)d.push(C,L),C=C.sibling}}return w}function iw(d,h){if(!Ve)throw Error(o(363));d=tw(d),d=wB(d,h),h=[],d=Array.from(d);for(var w=0;w<d.length;){var A=d[w++];if(A.tag===5)pe(A)||h.push(A.stateNode);else for(A=A.child;A!==null;)d.push(A),A=A.sibling}return h}var jj=Math.ceil,tv=a.ReactCurrentDispatcher,sw=a.ReactCurrentOwner,Ln=a.ReactCurrentBatchConfig,Tt=0,zn=null,Gn=null,vr=0,Si=0,rf=qr(0),Yn=0,fp=null,sf=0,nv=0,ow=0,dp=null,Zr=null,aw=0,lw=1/0;function of(){lw=ir()+500}var rv=!1,cw=null,Xa=null,iv=!1,Ya=null,sv=0,hp=0,uw=null,ov=-1,av=0;function Ur(){return Tt&6?ir():ov!==-1?ov:ov=ir()}function Qa(d){return d.mode&1?Tt&2&&vr!==0?vr&-vr:Tj.transition!==null?(av===0&&(d=b0,b0<<=1,!(b0&4194240)&&(b0=64),av=d),av):(d=zt,d!==0?d:Pe()):1}function es(d,h,w){if(50<hp)throw hp=0,uw=null,Error(o(185));var A=lv(d,h);return A===null?null:(Yh(A,h,w),(!(Tt&2)||A!==zn)&&(A===zn&&(!(Tt&2)&&(nv|=h),Yn===4&&qa(A,vr)),ei(A,w),h===1&&Tt===0&&!(d.mode&1)&&(of(),A0&&co())),A)}function lv(d,h){d.lanes|=h;var w=d.alternate;for(w!==null&&(w.lanes|=h),w=d,d=d.return;d!==null;)d.childLanes|=h,w=d.alternate,w!==null&&(w.childLanes|=h),w=d,d=d.return;return w.tag===3?w.stateNode:null}function ei(d,h){var w=d.callbackNode;xj(d,h);var A=w0(d,d===zn?vr:0);if(A===0)w!==null&&l2(w),d.callbackNode=null,d.callbackPriority=0;else if(h=A&-A,d.callbackPriority!==h){if(w!=null&&l2(w),h===1)d.tag===0?Cj(AB.bind(null,d)):c2(AB.bind(null,d)),Ae?Be(function(){Tt===0&&co()}):y_(x_,co),w=null;else{switch(a2(A)){case 1:w=x_;break;case 4:w=Sj;break;case 16:w=b_;break;case 536870912:w=Aj;break;default:w=b_}w=LB(w,SB.bind(null,d))}d.callbackPriority=h,d.callbackNode=w}}function SB(d,h){if(ov=-1,av=0,Tt&6)throw Error(o(327));var w=d.callbackNode;if(xc()&&d.callbackNode!==w)return null;var A=w0(d,d===zn?vr:0);if(A===0)return null;if(A&30||A&d.expiredLanes||h)h=cv(d,A);else{h=A;var C=Tt;Tt|=2;var L=CB();(zn!==d||vr!==h)&&(of(),vc(d,h));do try{Xj();break}catch(re){MB(d,re)}while(1);S_(),tv.current=L,Tt=C,Gn!==null?h=0:(zn=null,vr=0,h=Yn)}if(h!==0){if(h===2&&(C=m_(d),C!==0&&(A=C,h=fw(d,C))),h===1)throw w=fp,vc(d,0),qa(d,A),ei(d,ir()),w;if(h===6)qa(d,A);else{if(C=d.current.alternate,!(A&30)&&!Jj(C)&&(h=cv(d,A),h===2&&(L=m_(d),L!==0&&(A=L,h=fw(d,L))),h===1))throw w=fp,vc(d,0),qa(d,A),ei(d,ir()),w;switch(d.finishedWork=C,d.finishedLanes=A,h){case 0:case 1:throw Error(o(345));case 2:yc(d,Zr);break;case 3:if(qa(d,A),(A&130023424)===A&&(h=aw+500-ir(),10<h)){if(w0(d,0)!==0)break;if(C=d.suspendedLanes,(C&A)!==A){Ur(),d.pingedLanes|=d.suspendedLanes&C;break}d.timeoutHandle=Q(yc.bind(null,d,Zr),h);break}yc(d,Zr);break;case 4:if(qa(d,A),(A&4194240)===A)break;for(h=d.eventTimes,C=-1;0<A;){var j=31-Rs(A);L=1<<j,j=h[j],j>C&&(C=j),A&=~L}if(A=C,A=ir()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*jj(A/1960))-A,10<A){d.timeoutHandle=Q(yc.bind(null,d,Zr),A);break}yc(d,Zr);break;case 5:yc(d,Zr);break;default:throw Error(o(329))}}}return ei(d,ir()),d.callbackNode===w?SB.bind(null,d):null}function fw(d,h){var w=dp;return d.current.memoizedState.isDehydrated&&(vc(d,h).flags|=256),d=cv(d,h),d!==2&&(h=Zr,Zr=w,h!==null&&dw(h)),d}function dw(d){Zr===null?Zr=d:Zr.push.apply(Zr,d)}function Jj(d){for(var h=d;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var C=w[A],L=C.getSnapshot;C=C.value;try{if(!lo(L(),C))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function qa(d,h){for(h&=~ow,h&=~nv,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var w=31-Rs(h),A=1<<w;d[w]=-1,h&=~A}}function AB(d){if(Tt&6)throw Error(o(327));xc();var h=w0(d,0);if(!(h&1))return ei(d,ir()),null;var w=cv(d,h);if(d.tag!==0&&w===2){var A=m_(d);A!==0&&(h=A,w=fw(d,A))}if(w===1)throw w=fp,vc(d,0),qa(d,h),ei(d,ir()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,yc(d,Zr),ei(d,ir()),null}function EB(d){Ya!==null&&Ya.tag===0&&!(Tt&6)&&xc();var h=Tt;Tt|=1;var w=Ln.transition,A=zt;try{if(Ln.transition=null,zt=1,d)return d()}finally{zt=A,Ln.transition=w,Tt=h,!(Tt&6)&&co()}}function hw(){Si=rf.current,Yt(rf)}function vc(d,h){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==ue&&(d.timeoutHandle=ue,Ee(w)),Gn!==null)for(w=Gn.return;w!==null;){var A=w;switch(P_(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&y0();break;case 3:tf(),Yt(Zt),Yt(Hn),N_();break;case 5:O_(A);break;case 4:tf();break;case 13:Yt(_n);break;case 19:Yt(_n);break;case 10:A_(A.type._context);break;case 22:case 23:hw()}w=w.return}if(zn=d,Gn=d=Za(d.current,null),vr=Si=h,Yn=0,fp=null,ow=nv=sf=0,Zr=dp=null,uo!==null){for(h=0;h<uo.length;h++)if(w=uo[h],A=w.interleaved,A!==null){w.interleaved=null;var C=A.next,L=w.pending;if(L!==null){var j=L.next;L.next=C,A.next=j}w.pending=A}uo=null}return d}function MB(d,h){do{var w=Gn;try{if(S_(),O0.current=z0,k0){for(var A=Cn.memoizedState;A!==null;){var C=A.queue;C!==null&&(C.pending=null),A=A.next}k0=!1}if(nf=0,sr=Er=Cn=null,np=!1,rp=0,sw.current=null,w===null||w.return===null){Yn=1,fp=h,Gn=null;break}e:{var L=d,j=w.return,re=w,ve=h;if(h=vr,re.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Le=ve,Je=re,gt=Je.tag;if(!(Je.mode&1)&&(gt===0||gt===11||gt===15)){var at=Je.alternate;at?(Je.updateQueue=at.updateQueue,Je.memoizedState=at.memoizedState,Je.lanes=at.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var tn=J2(j);if(tn!==null){tn.flags&=-257,K2(tn,j,re,L,h),tn.mode&1&&j2(L,Le,h),h=tn,ve=Le;var nt=h.updateQueue;if(nt===null){var Tr=new Set;Tr.add(ve),h.updateQueue=Tr}else nt.add(ve);break e}else{if(!(h&1)){j2(L,Le,h),pw();break e}ve=Error(o(426))}}else if(vn&&re.mode&1){var ns=J2(j);if(ns!==null){!(ns.flags&65536)&&(ns.flags|=256),K2(ns,j,re,L,h),L_(ve);break e}}L=ve,Yn!==4&&(Yn=2),dp===null?dp=[L]:dp.push(L),ve=$_(ve,re),re=j;do{switch(re.tag){case 3:re.flags|=65536,h&=-h,re.lanes|=h;var le=$2(re,ve,h);d2(re,le);break e;case 1:L=ve;var ie=re.type,ge=re.stateNode;if(!(re.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Xa===null||!Xa.has(ge)))){re.flags|=65536,h&=-h,re.lanes|=h;var ze=W2(re,L,h);d2(re,ze);break e}}re=re.return}while(re!==null)}RB(w)}catch(et){h=et,Gn===w&&w!==null&&(Gn=w=w.return);continue}break}while(1)}function CB(){var d=tv.current;return tv.current=z0,d===null?z0:d}function pw(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),zn===null||!(sf&268435455)&&!(nv&268435455)||qa(zn,vr)}function cv(d,h){var w=Tt;Tt|=2;var A=CB();zn===d&&vr===h||vc(d,h);do try{Kj();break}catch(C){MB(d,C)}while(1);if(S_(),Tt=w,tv.current=A,Gn!==null)throw Error(o(261));return zn=null,vr=0,Yn}function Kj(){for(;Gn!==null;)TB(Gn)}function Xj(){for(;Gn!==null&&!_j();)TB(Gn)}function TB(d){var h=BB(d.alternate,d,Si);d.memoizedProps=d.pendingProps,h===null?RB(d):Gn=h,sw.current=null}function RB(d){var h=d;do{var w=h.alternate;if(d=h.return,h.flags&32768){if(w=zj(w,h),w!==null){w.flags&=32767,Gn=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Yn=6,Gn=null;return}}else if(w=Fj(w,h,Si),w!==null){Gn=w;return}if(h=h.sibling,h!==null){Gn=h;return}Gn=h=d}while(h!==null);Yn===0&&(Yn=5)}function yc(d,h){var w=zt,A=Ln.transition;try{Ln.transition=null,zt=1,Yj(d,h,w)}finally{Ln.transition=A,zt=w}return null}function Yj(d,h,w){do xc();while(Ya!==null);if(Tt&6)throw Error(o(327));var A=d.finishedWork,C=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=A.lanes|A.childLanes;if(bj(d,L),d===zn&&(Gn=zn=null,vr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||iv||(iv=!0,LB(b_,function(){return xc(),null})),L=(A.flags&15990)!==0,A.subtreeFlags&15990||L){L=Ln.transition,Ln.transition=null;var j=zt;zt=1;var re=Tt;Tt|=4,sw.current=null,Vj(d,A),$j(d,A),V(d.containerInfo),d.current=A,Wj(A),wj(),Tt=re,zt=j,Ln.transition=L}else d.current=A;if(iv&&(iv=!1,Ya=d,sv=C),L=d.pendingLanes,L===0&&(Xa=null),Ej(A.stateNode),ei(d,ir()),h!==null)for(w=d.onRecoverableError,A=0;A<h.length;A++)w(h[A]);if(rv)throw rv=!1,d=cw,cw=null,d;return sv&1&&d.tag!==0&&xc(),L=d.pendingLanes,L&1?d===uw?hp++:(hp=0,uw=d):hp=0,co(),null}function xc(){if(Ya!==null){var d=a2(sv),h=Ln.transition,w=zt;try{if(Ln.transition=null,zt=16>d?16:d,Ya===null)var A=!1;else{if(d=Ya,Ya=null,sv=0,Tt&6)throw Error(o(331));var C=Tt;for(Tt|=4,Ue=d.current;Ue!==null;){var L=Ue,j=L.child;if(Ue.flags&16){var re=L.deletions;if(re!==null){for(var ve=0;ve<re.length;ve++){var Le=re[ve];for(Ue=Le;Ue!==null;){var Je=Ue;switch(Je.tag){case 0:case 11:case 15:gc(8,Je,L)}var gt=Je.child;if(gt!==null)gt.return=Je,Ue=gt;else for(;Ue!==null;){Je=Ue;var at=Je.sibling,tn=Je.return;if(hB(Je),Je===Le){Ue=null;break}if(at!==null){at.return=tn,Ue=at;break}Ue=tn}}}var nt=L.alternate;if(nt!==null){var Tr=nt.child;if(Tr!==null){nt.child=null;do{var ns=Tr.sibling;Tr.sibling=null,Tr=ns}while(Tr!==null)}}Ue=L}}if(L.subtreeFlags&2064&&j!==null)j.return=L,Ue=j;else e:for(;Ue!==null;){if(L=Ue,L.flags&2048)switch(L.tag){case 0:case 11:case 15:gc(9,L,L.return)}var le=L.sibling;if(le!==null){le.return=L.return,Ue=le;break e}Ue=L.return}}var ie=d.current;for(Ue=ie;Ue!==null;){j=Ue;var ge=j.child;if(j.subtreeFlags&2064&&ge!==null)ge.return=j,Ue=ge;else e:for(j=ie;Ue!==null;){if(re=Ue,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:cp(9,re)}}catch(et){ti(re,re.return,et)}if(re===j){Ue=null;break e}var ze=re.sibling;if(ze!==null){ze.return=re.return,Ue=ze;break e}Ue=re.return}}if(Tt=C,co(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(S0,d)}catch{}A=!0}return A}finally{zt=w,Ln.transition=h}}return!1}function PB(d,h,w){h=$_(w,h),h=$2(d,h,1),Ka(d,h),h=Ur(),d=lv(d,1),d!==null&&(Yh(d,1,h),ei(d,h))}function ti(d,h,w){if(d.tag===3)PB(d,d,w);else for(;h!==null;){if(h.tag===3){PB(h,d,w);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Xa===null||!Xa.has(A))){d=$_(w,d),d=W2(h,d,1),Ka(h,d),d=Ur(),h=lv(h,1),h!==null&&(Yh(h,1,d),ei(h,d));break}}h=h.return}}function Qj(d,h,w){var A=d.pingCache;A!==null&&A.delete(h),h=Ur(),d.pingedLanes|=d.suspendedLanes&w,zn===d&&(vr&w)===w&&(Yn===4||Yn===3&&(vr&130023424)===vr&&500>ir()-aw?vc(d,0):ow|=w),ei(d,h)}function IB(d,h){h===0&&(d.mode&1?(h=_0,_0<<=1,!(_0&130023424)&&(_0=4194304)):h=1);var w=Ur();d=lv(d,h),d!==null&&(Yh(d,h,w),ei(d,w))}function qj(d){var h=d.memoizedState,w=0;h!==null&&(w=h.retryLane),IB(d,w)}function Zj(d,h){var w=0;switch(d.tag){case 13:var A=d.stateNode,C=d.memoizedState;C!==null&&(w=C.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(h),IB(d,w)}var BB;BB=function(d,h,w){if(d!==null)if(d.memoizedProps!==h.pendingProps||Zt.current)wi=!0;else{if(!(d.lanes&w)&&!(h.flags&128))return wi=!1,Hj(d,h,w);wi=!!(d.flags&131072)}else wi=!1,vn&&h.flags&1048576&&y2(h,B0,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var C=ja(h,Hn.current);Xu(h,w),C=U_(null,h,A,d,C,w);var L=H_();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,gr(A)?(L=!0,x0(h)):L=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,M_(h),C.updater=P0,h.stateNode=C,C._reactInternals=h,T_(h,A,d,w),h=J_(null,h,A,!0,L,w)):(h.tag=0,vn&&L&&R_(h),Fr(null,h,C,w),h=h.child),h;case 16:A=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,C=A._init,A=C(A._payload),h.type=A,C=h.tag=t7(A),d=Ps(A,d),C){case 0:h=j_(null,h,A,d,w);break e;case 1:h=nB(null,h,A,d,w);break e;case 11:h=Q2(null,h,A,d,w);break e;case 14:h=q2(null,h,A,Ps(A.type,d),w);break e}throw Error(o(306,A,""))}return h;case 0:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ps(A,C),j_(d,h,A,C,w);case 1:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ps(A,C),nB(d,h,A,C,w);case 3:e:{if(rB(h),d===null)throw Error(o(387));A=h.pendingProps,L=h.memoizedState,C=L.element,f2(d,h),R0(h,A,null,w);var j=h.memoizedState;if(A=j.element,fe&&L.isDehydrated)if(L={element:A,isDehydrated:!1,cache:j.cache,transitions:j.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){C=Error(o(423)),h=iB(d,h,A,w,C);break e}else if(A!==C){C=Error(o(424)),h=iB(d,h,A,w,C);break e}else for(fe&&(_i=_e(h.stateNode.containerInfo),bi=h,vn=!0,Is=null,Qh=!1),w=A2(h,null,A,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(qu(),A===C){h=Jo(d,h,w);break e}Fr(d,h,A,w)}h=h.child}return h;case 5:return E2(h),d===null&&B_(h),A=h.type,C=h.pendingProps,L=d!==null?d.memoizedProps:null,j=C.children,de(A,C)?j=null:L!==null&&de(A,L)&&(h.flags|=32),tB(d,h),Fr(d,h,j,w),h.child;case 6:return d===null&&B_(h),null;case 13:return sB(d,h,w);case 4:return D_(h,h.stateNode.containerInfo),A=h.pendingProps,d===null?h.child=Zu(h,null,A,w):Fr(d,h,A,w),h.child;case 11:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ps(A,C),Q2(d,h,A,C,w);case 7:return Fr(d,h,h.pendingProps,w),h.child;case 8:return Fr(d,h,h.pendingProps.children,w),h.child;case 12:return Fr(d,h,h.pendingProps.children,w),h.child;case 10:e:{if(A=h.type._context,C=h.pendingProps,L=h.memoizedProps,j=C.value,u2(h,A,j),L!==null)if(lo(L.value,j)){if(L.children===C.children&&!Zt.current){h=Jo(d,h,w);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var re=L.dependencies;if(re!==null){j=L.child;for(var ve=re.firstContext;ve!==null;){if(ve.context===A){if(L.tag===1){ve=Vo(-1,w&-w),ve.tag=2;var Le=L.updateQueue;if(Le!==null){Le=Le.shared;var Je=Le.pending;Je===null?ve.next=ve:(ve.next=Je.next,Je.next=ve),Le.pending=ve}}L.lanes|=w,ve=L.alternate,ve!==null&&(ve.lanes|=w),E_(L.return,w,h),re.lanes|=w;break}ve=ve.next}}else if(L.tag===10)j=L.type===h.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(o(341));j.lanes|=w,re=j.alternate,re!==null&&(re.lanes|=w),E_(j,w,h),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===h){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}Fr(d,h,C.children,w),h=h.child}return h;case 9:return C=h.type,A=h.pendingProps.children,Xu(h,w),C=Xi(C),A=A(C),h.flags|=1,Fr(d,h,A,w),h.child;case 14:return A=h.type,C=Ps(A,h.pendingProps),C=Ps(A.type,C),q2(d,h,A,C,w);case 15:return Z2(d,h,h.type,h.pendingProps,w);case 17:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ps(A,C),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,gr(A)?(d=!0,x0(h)):d=!1,Xu(h,w),g2(h,A,C),T_(h,A,C,w),J_(null,h,A,!0,d,w);case 19:return cB(d,h,w);case 22:return eB(d,h,w)}throw Error(o(156,h.tag))};function LB(d,h){return y_(d,h)}function e7(d,h,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(d,h,w,A){return new e7(d,h,w,A)}function mw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function t7(d){if(typeof d=="function")return mw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===_)return 14}return 2}function Za(d,h){var w=d.alternate;return w===null?(w=ts(d.tag,h,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=h,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,h=d.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function uv(d,h,w,A,C,L){var j=2;if(A=d,typeof d=="function")mw(d)&&(j=1);else if(typeof d=="string")j=5;else e:switch(d){case u:return bc(w.children,C,L,h);case f:j=8,C|=8;break;case p:return d=ts(12,w,h,C|2),d.elementType=p,d.lanes=L,d;case x:return d=ts(13,w,h,C),d.elementType=x,d.lanes=L,d;case g:return d=ts(19,w,h,C),d.elementType=g,d.lanes=L,d;case S:return fv(w,C,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:j=10;break e;case v:j=9;break e;case y:j=11;break e;case _:j=14;break e;case b:j=16,A=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=ts(j,w,h,C),h.elementType=d,h.type=A,h.lanes=L,h}function bc(d,h,w,A){return d=ts(7,d,A,h),d.lanes=w,d}function fv(d,h,w,A){return d=ts(22,d,A,h),d.elementType=S,d.lanes=w,d.stateNode={},d}function gw(d,h,w){return d=ts(6,d,null,h),d.lanes=w,d}function vw(d,h,w){return h=ts(4,d.children!==null?d.children:[],d.key,h),h.lanes=w,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function n7(d,h,w,A,C){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.identifierPrefix=A,this.onRecoverableError=C,fe&&(this.mutableSourceEagerHydrationData=null)}function DB(d,h,w,A,C,L,j,re,ve){return d=new n7(d,h,w,re,ve),h===1?(h=1,L===!0&&(h|=8)):h=0,L=ts(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},M_(L),d}function OB(d){if(!d)return Ar;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(gr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if(gr(w))return s2(d,w,h)}return h}function kB(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=z(h),d===null?null:d.stateNode}function NB(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<h?w:h}}function yw(d,h){NB(d,h),(d=d.alternate)&&NB(d,h)}function r7(d){return d=z(d),d===null?null:d.stateNode}function i7(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=Ur();es(d,134217728,h),yw(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Ur(),w=Qa(d);es(d,w,h),yw(d,w)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var w=Xh(h.pendingLanes);w!==0&&(v_(h,w|1),ei(h,ir()),!(Tt&6)&&(of(),co()))}break;case 13:var A=Ur();EB(function(){return es(d,1,A)}),yw(d,1)}},t.batchedUpdates=function(d,h){var w=Tt;Tt|=1;try{return d(h)}finally{Tt=w,Tt===0&&(of(),A0&&co())}},t.createComponentSelector=function(d){return{$$typeof:Y0,value:d}},t.createContainer=function(d,h,w,A,C,L,j){return DB(d,h,!1,null,w,A,C,L,j)},t.createHasPseudoClassSelector=function(d){return{$$typeof:Q0,value:d}},t.createHydrationContainer=function(d,h,w,A,C,L,j,re,ve){return d=DB(w,A,!0,d,C,L,j,re,ve),d.context=OB(null),w=d.current,A=Ur(),C=Qa(w),L=Vo(A,C),L.callback=h??null,Ka(w,L),d.current.lanes=C,Yh(d,C,A),ei(d,A),d},t.createPortal=function(d,h,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:d,containerInfo:h,implementation:w}},t.createRoleSelector=function(d){return{$$typeof:q0,value:d}},t.createTestNameSelector=function(d){return{$$typeof:Z0,value:d}},t.createTextSelector=function(d){return{$$typeof:ev,value:d}},t.deferredUpdates=function(d){var h=zt,w=Ln.transition;try{return Ln.transition=null,zt=16,d()}finally{zt=h,Ln.transition=w}},t.discreteUpdates=function(d,h,w,A,C){var L=zt,j=Ln.transition;try{return Ln.transition=null,zt=1,d(h,w,A,C)}finally{zt=L,Ln.transition=j,Tt===0&&of()}},t.findAllNodes=iw,t.findBoundingRects=function(d,h){if(!Ve)throw Error(o(363));h=iw(d,h),d=[];for(var w=0;w<h.length;w++)d.push(W(h[w]));for(h=d.length-1;0<h;h--){w=d[h];for(var A=w.x,C=A+w.width,L=w.y,j=L+w.height,re=h-1;0<=re;re--)if(h!==re){var ve=d[re],Le=ve.x,Je=Le+ve.width,gt=ve.y,at=gt+ve.height;if(A>=Le&&L>=gt&&C<=Je&&j<=at){d.splice(h,1);break}else if(A!==Le||w.width!==ve.width||at<L||gt>j){if(!(L!==gt||w.height!==ve.height||Je<A||Le>C)){Le>A&&(ve.width+=Le-A,ve.x=A),Je<C&&(ve.width=C-Le),d.splice(h,1);break}}else{gt>L&&(ve.height+=gt-L,ve.y=L),at<j&&(ve.height=j-gt),d.splice(h,1);break}}}return d},t.findHostInstance=kB,t.findHostInstanceWithNoPortals=function(d){return d=O(d),d=d!==null?N(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return kB(d)},t.flushControlled=function(d){var h=Tt;Tt|=1;var w=Ln.transition,A=zt;try{Ln.transition=null,zt=1,d()}finally{zt=A,Ln.transition=w,Tt=h,Tt===0&&(of(),co())}},t.flushPassiveEffects=xc,t.flushSync=EB,t.focusWithin=function(d,h){if(!Ve)throw Error(o(363));for(d=tw(d),h=wB(d,h),h=Array.from(h),d=0;d<h.length;){var w=h[d++];if(!pe(w)){if(w.tag===5&&Te(w.stateNode))return!0;for(w=w.child;w!==null;)h.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return zt},t.getFindAllNodesFailureDescription=function(d,h){if(!Ve)throw Error(o(363));var w=0,A=[];d=[tw(d),0];for(var C=0;C<d.length;){var L=d[C++],j=d[C++],re=h[j];if((L.tag!==5||!pe(L))&&(nw(L,re)&&(A.push(rw(re)),j++,j>w&&(w=j)),j<h.length))for(L=L.child;L!==null;)d.push(L,j),L=L.sibling}if(w<h.length){for(d=[];w<h.length;w++)d.push(rw(h[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:r7,findFiberByHostInstance:d.findFiberByHostInstance||i7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{S0=h.inject(d),ao=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,w,A){if(!Ve)throw Error(o(363));d=iw(d,h);var C=Ne(d,w,A).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(d,h){var w=h._getVersion;w=w(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,w]:d.mutableSourceEagerHydrationData.push(h,w)},t.runWithPriority=function(d,h){var w=zt;try{return zt=d,h()}finally{zt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,w,A){var C=h.current,L=Ur(),j=Qa(C);return w=OB(w),h.context===null?h.context=w:h.pendingContext=w,h=Vo(L,j),h.payload={element:d},A=A===void 0?null:A,A!==null&&(h.callback=A),Ka(C,h),d=es(C,j,L),d!==null&&T0(d,C,j),j},t};(function(n){n.exports=Fne})(kne);const Une=U1(MM);function GG(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const la=[];function VG(n,e,t=!1,r={}){for(const s of la)if(GG(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=la.indexOf(i);s!==-1&&la.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(la.push(i),!t)throw i.promise}const Hne=(n,e,t)=>VG(n,e,!1,t),zne=(n,e,t)=>void VG(n,e,!0,t),Gne=n=>{if(n===void 0||n.length===0)la.splice(0,la.length);else{const e=la.find(t=>GG(n,t.keys,t.equal));if(e){const t=la.indexOf(e);t!==-1&&la.splice(t,1)}}},jR={},JR=n=>void Object.assign(jR,n);function Vne(n,e){function t(u,{args:f=[],attach:p,...m},v){let y=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Nf(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=jR[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=Nf(new g(...f),{type:u,root:v,attach:p,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof yt?x.__r3f.attach="geometry":x instanceof Xn&&(x.__r3f.attach="material")),y!=="inject"&&SS(x,m),x}function r(u,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?wS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||Nf(f,{}),f.__r3f.parent=u,TM(f),Ff(f)}}function i(u,f,p){let m=!1;if(f){var v,y;if((v=f.__r3f)!=null&&v.attach)wS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const x=u.children.filter(_=>_!==f),g=x.indexOf(p);u.children=[...x.slice(0,g),f,...x.slice(g)],m=!0}m||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Nf(f,{}),f.__r3f.parent=u,TM(f),Ff(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,v,y;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==f)),(v=f.__r3f)!=null&&v.attach)wD(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var x;u.remove(f),(x=f.__r3f)!=null&&x.root&&Yne(f.__r3f.root,f)}const _=(y=f.__r3f)==null?void 0:y.primitive,b=p===void 0?f.dispose!==null&&!_:p;if(!_){var g;s((g=f.__r3f)==null?void 0:g.objects,f,b),s(f.children,f,b)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),b&&f.dispose&&f.type!=="Scene"&&og.unstable_scheduleCallback(og.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Ff(u)}}function a(u,f,p,m){var v;const y=(v=u.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(f,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(x,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(x,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Une({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:y,...x}=m,{args:g=[],children:_,...b}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((E,M)=>E!==g[M]))return[!0];const S=YG(u,x,b,!0);return S.changes.length?[!1,S]:null}},commitUpdate(u,[f,p],m,v,y,x){f?a(u,m,y,x):SS(u,p)},commitMount(u,f,p,m){var v;const y=(v=u.__r3f)!=null?v:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Nf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&wD(m,u,p),u.isObject3D&&(u.visible=!1),Ff(u)},unhideInstance(u,f){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&wS(v,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Ff(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():El.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&pn.fun(performance.now)?performance.now:pn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:pn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:pn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:SS}}var yD,xD;const $G=()=>{var n;return(n=jR.ColorManagement)!=null?n:null},WG=n=>n&&n.isOrthographicCamera,$ne=n=>n&&n.hasOwnProperty("current"),Kg=typeof window<"u"&&((yD=window.document)!=null&&yD.createElement||((xD=window.navigator)==null?void 0:xD.product)==="ReactNative")?R.useLayoutEffect:R.useEffect;function jG(n){const e=R.useRef(n);return Kg(()=>void(e.current=n),[n]),e}function Wne({set:n}){return Kg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class JG extends R.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}JG.getDerivedStateFromError=()=>({error:!0});const KG="__default",bD=new Map,jne=n=>n&&!!n.memoized&&!!n.changes;function XG(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Bp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},pn={obj:n=>n===Object(n)&&!pn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(pn.str(n)||pn.num(n))return n===e;const s=pn.obj(n);if(s&&r==="reference")return n===e;const o=pn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!pn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(pn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Jne(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Kne(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Nf(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function CM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const _D=/-\d+$/;function wS(n,e,t){if(pn.str(t)){if(_D.test(t)){const s=t.replace(_D,""),{target:o,key:a}=CM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=CM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function wD(n,e,t){var r,i;if(pn.str(t)){const{target:s,key:o}=CM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function YG(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||p.unshift([y[x],KG+"remove"])}p.forEach(([y,x])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&y==="object"||pn.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,x,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),m.push([y,x,!1,_]);for(const b in i){const S=i[b];b.startsWith(`${y}-`)&&m.push([b,S,!1,b.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function SS(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=jne(e)?e:YG(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,y,x]=c[p],g=n,_=g[m];if(x.length&&(_=x.reduce((b,S)=>b[S],n),!(_&&_.set))){const[b,...S]=x.reverse();g=S.reverse().reduce((E,M)=>E[M],n),m=b}if(v===KG+"remove")if(g.constructor){let b=bD.get(g.constructor);b||(b=new g.constructor,bD.set(g.constructor,b)),v=b[m]}else v=0;if(y)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof uu)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&_.constructor===v.constructor)_.copy(v);else if(v!==void 0){const b=_ instanceof Oe;!b&&_.setScalar?_.setScalar(v):_ instanceof uu&&v instanceof uu?_.mask=v.mask:_.set(v),!$G()&&!a.linear&&b&&_.convertSRGBToLinear()}}else g[m]=v,!a.linear&&g[m]instanceof bn&&g[m].format===ai&&g[m].type===Ia&&(g[m].encoding=Dt);Ff(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&TM(n),n}function Ff(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function TM(n){n.onUpdate==null||n.onUpdate(n)}function QG(n,e){n.manual||(WG(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function vy(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Xne(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return El.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return El.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return El.ContinuousEventPriority;default:return El.DefaultEventPriority}}function qG(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Yne(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{qG(t.capturedMap,e,r,i)})}function Qne(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const _=Bp(m[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const _=Bp(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let y=m.flatMap(v).sort((g,_)=>{const b=Bp(g.object),S=Bp(_.object);return!b||!S?g.distance-_.distance:S.events.priority-b.events.priority||g.distance-_.distance}).filter(g=>{const _=vy(g);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const g of y){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(vy(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=Bp(v.object)||p,{raycaster:x,pointer:g,camera:_,internal:b}=y,S=new G(g.x,g.y,0).unproject(_),E=P=>{var O,z;return(O=(z=b.capturedMap.get(P))==null?void 0:z.has(v.eventObject))!=null?O:!1},M=P=>{const O={intersection:v,target:c.target};b.capturedMap.has(P)?b.capturedMap.get(P).set(v.eventObject,O):b.capturedMap.set(P,new Map([[v.eventObject,O]])),c.target.setPointerCapture(P)},I=P=>{const O=b.capturedMap.get(P);O&&qG(b.capturedMap,v.eventObject,O,P)};let B={};for(let P in c){let O=c[P];typeof O!="function"&&(B[P]=O)}let T={...v,...B,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const P="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!P||P.has(v.eventObject))&&(T.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:I},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:I},nativeEvent:c};if(f(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(vy(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=x.map(b=>b.eventObject)),v&&!x.length&&g<=2&&(o(u,p.interaction),f&&f(u)),m&&s(x);function _(b){const S=b.eventObject,E=S.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const I=vy(b),B=p.hovered.get(I);B?B.stopped&&b.stopPropagation():(p.hovered.set(I,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const I=M[l];I?(!v||p.initialHits.includes(S))&&(o(u,p.interaction.filter(B=>!p.initialHits.includes(B))),I(b)):v&&p.initialHits.includes(S)&&o(u,p.interaction.filter(B=>!p.initialHits.includes(B)))}}i(x,u,g,_)}}return{handlePointer:a}}const qne=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],ZG=n=>!!(n!=null&&n.render),KR=R.createContext(null),Zne=(n,e)=>{const t=HG((a,l)=>{const c=new G,u=new G,f=new G;function p(g=l().camera,_=u,b=l().size){const{width:S,height:E,top:M,left:I}=b,B=S/E;_ instanceof G?f.copy(_):f.set(..._);const T=g.getWorldPosition(c).distanceTo(f);if(WG(g))return{width:S/g.zoom,height:E/g.zoom,top:M,left:I,factor:1,distance:T,aspect:B};{const P=g.fov*Math.PI/180,O=2*Math.tan(P/2)*T,z=O*(S/E);return{width:z,height:O,top:M,left:I,factor:S/z,distance:T,aspect:B}}}let m;const v=g=>a(_=>({performance:{..._.performance,current:g}})),y=new Me;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zR,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,b,S,E)=>{const M=l().camera,I={width:g,height:_,top:S||0,left:E||0,updateStyle:b};a(B=>({size:I,viewport:{...B.viewport,...p(M,u,I)}}))},setDpr:g=>a(_=>{const b=XG(g);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:R.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,b)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:g,priority:_,store:b}),S.subscribers=S.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,QG(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let yy,ere=new Set,tre=new Set,nre=new Set;function AS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Lp(n,e){switch(n){case"before":return AS(ere,e);case"after":return AS(tre,e);case"tail":return AS(nre,e)}}let ES,MS;function CS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ES=e.internal.subscribers,yy=0;yy<ES.length;yy++)MS=ES[yy],MS.ref.current(MS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function rre(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Lp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=CS(l,i))}if(Lp("after",l),t===0)return Lp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&Lp("before",l),u)CS(l,u,f);else for(const p of n.values())CS(l,p.store.getState());c&&Lp("after",l)}return{loop:s,invalidate:o,advance:a}}function XR(){const n=R.useContext(KR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function pa(n=t=>t,e){return XR()(n,e)}function ku(n,e=0){const t=XR(),r=t.getState().internal.subscribe,i=jG(n);return Kg(()=>r(i,e,t),[e,r,t]),null}function eV(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Jne(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Ga(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Hne(eV(t,r),[n,...i],{equal:pn.equ});return Array.isArray(e)?s:s[0]}Ga.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return zne(eV(t),[n,...r])};Ga.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Gne([n,...t])};const ah=new Map,{invalidate:SD,advance:AD}=rre(ah),{reconciler:ag,applyProps:ca}=Vne(ah,Xne),Pf={objects:"shallow",strict:!1},ire=(n,e)=>{const t=typeof n=="function"?n(e):n;return ZG(t)?t:new yR({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function sre(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function ore(n){const e=ah.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Zne(SD,AD),o=t||ag.createContainer(s,El.ConcurrentRoot,null,!1,null,"",i,null);e||ah.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:v,onCreated:y,shadows:x=!1,linear:g=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:E="always",dpr:M=[1,2],performance:I,raycaster:B,camera:T,onPointerMissed:P}=u,O=s.getState(),z=O.gl;O.gl||O.set({gl:z=ire(f,n)});let H=O.raycaster;H||O.set({raycaster:H=new WR});const{params:N,...J}=B||{};if(pn.equ(J,H,Pf)||ca(H,{...J}),pn.equ(N,H.params,Pf)||ca(H,{params:{...H.params,...N}}),!O.camera||O.camera===c&&!pn.equ(c,T,Pf)){c=T;const q=T instanceof Bg,ee=q?T:S?new Mh(0,0,0,0,.1,1e3):new qn(75,0,.1,1e3);q||(ee.position.z=5,T&&ca(ee,T),!O.camera&&!(T!=null&&T.rotation)&&ee.lookAt(0,0,0)),O.set({camera:ee})}if(!O.scene){let q;m instanceof eg?q=m:(q=new eg,m&&ca(q,m)),O.set({scene:Nf(q)})}if(!O.xr){const q=(Z,de)=>{const oe=s.getState();oe.frameloop!=="never"&&AD(Z,!0,oe,de)},ee=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?q:null),Z.gl.xr.isPresenting||SD(Z)},se={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",ee),Z.xr.addEventListener("sessionend",ee)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",ee),Z.xr.removeEventListener("sessionend",ee)}};z.xr&&se.connect(),O.set({xr:se})}if(z.shadowMap){const q=z.shadowMap.enabled,ee=z.shadowMap.type;if(z.shadowMap.enabled=!!x,pn.boo(x))z.shadowMap.type=gm;else if(pn.str(x)){var X;const se={basic:$H,percentage:rb,soft:gm,variance:Xc};z.shadowMap.type=(X=se[x])!=null?X:gm}else pn.obj(x)&&Object.assign(z.shadowMap,x);(q!==z.shadowMap.enabled||ee!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const Y=$G();Y&&("enabled"in Y?Y.enabled=!b:"legacyMode"in Y&&(Y.legacyMode=b));const k=g?Zs:Dt,U=_?Xs:rR;z.outputEncoding!==k&&(z.outputEncoding=k),z.toneMapping!==U&&(z.toneMapping=U),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==_&&O.set(()=>({flat:_})),f&&!pn.fun(f)&&!ZG(f)&&!pn.equ(f,z,Pf)&&ca(z,f),v&&!O.events.handlers&&O.set({events:v(s)});const V=sre(n,p);return pn.equ(V,O.size,Pf)||O.setSize(V.width,V.height,V.updateStyle,V.top,V.left),M&&O.viewport.dpr!==XG(M)&&O.setDpr(M),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:P}),I&&!pn.equ(I,O.performance,Pf)&&O.set(q=>({performance:{...q.performance,...I}})),a=y,l=!0,this},render(u){return l||this.configure(),ag.updateContainer(R.createElement(are,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){tV(n)}}}function are({store:n,children:e,onCreated:t,rootElement:r}){return Kg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),R.createElement(KR.Provider,{value:n},e)}function tV(n,e){const t=ah.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),ag.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Kne(i),ah.delete(n),e&&e(n)}catch{}},500)})}}function lre(n,e,t){return R.createElement(cre,{key:e.uuid,children:n,container:e,state:t})}function cre({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=XR(),[a]=R.useState(()=>new WR),[l]=R.useState(()=>new Me),c=R.useCallback((f,p)=>{const m={...f};Object.keys(f).forEach(y=>{(qne.includes(y)||f[y]!==p[y]&&p[y])&&delete m[y]});let v;if(p&&i){const y=p.camera;v=f.viewport.getCurrentViewport(y,new G,i),y!==f.camera&&QG(y,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...p==null?void 0:p.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...v},...s}},[n]),[u]=R.useState(()=>{const f=o.getState();return HG((m,v)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:v,setEvents:y=>m(x=>({...x,events:{...x.events,...y}}))}))});return R.useEffect(()=>{const f=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{f(),u.destroy()}},[]),R.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),R.createElement(R.Fragment,null,ag.createPortal(R.createElement(KR.Provider,{value:u},e),u,null))}ag.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version});function Jl(){return Jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jl.apply(null,arguments)}function RM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}RM.debounce=RM;var ED=RM;function ure(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=R.useRef(!1);R.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=R.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:S,width:E,height:M,bottom:I,right:B,x:T,y:P}=l.current.element.getBoundingClientRect(),O={left:b,top:S,width:E,height:M,bottom:I,right:B,x:T,y:P};l.current.element instanceof HTMLElement&&i&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),f.current&&!pre(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,u?ED(_,u):_,c?ED(_,c):_]},[a,i,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=_=>{!_||_===l.current.element||(y(),l.current.element=_,l.current.scrollContainers=nV(_),x())};return dre(v,!!t),fre(m),R.useEffect(()=>{y(),x()},[t,v,m]),R.useEffect(()=>y,[]),[g,o,p]}function fre(n){R.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function dre(n,e){R.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function nV(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...nV(n.parentElement)]}const hre=["x","y","top","bottom","left","right","width","height"],pre=(n,e)=>hre.every(t=>n[t]===e[t]);var mre=Object.defineProperty,gre=Object.defineProperties,vre=Object.getOwnPropertyDescriptors,MD=Object.getOwnPropertySymbols,yre=Object.prototype.hasOwnProperty,xre=Object.prototype.propertyIsEnumerable,CD=(n,e,t)=>e in n?mre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,TD=(n,e)=>{for(var t in e||(e={}))yre.call(e,t)&&CD(n,t,e[t]);if(MD)for(var t of MD(e))xre.call(e,t)&&CD(n,t,e[t]);return n},bre=(n,e)=>gre(n,vre(e));function rV(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=rV(r,e,t);if(i)return i;r=e?null:r.sibling}}function iV(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const YR=iV(R.createContext(null));class sV extends R.Component{render(){return R.createElement(YR.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:RD,ReactCurrentDispatcher:PD}=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _re(){const n=R.useContext(YR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{var r;return(r=RD==null?void 0:RD.current)!=null?r:rV(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function wre(){var n,e;const t=_re(),[r]=R.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==YR&&!r.has(s)&&r.set(s,(e=PD==null?void 0:PD.current)==null?void 0:e.readContext(iV(s))),i=i.return}return r}function Sre(){const n=wre();return R.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>R.createElement(e,null,R.createElement(t.Provider,bre(TD({},r),{value:n.get(t)}))),e=>R.createElement(sV,TD({},e))),[n])}const TS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Are(n){const{handlePointer:e}=Qne(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(TS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=TS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=TS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Ere=R.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Are,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:_,onPointerMissed:b,onCreated:S,...E},M){R.useMemo(()=>JR(Bne),[]);const I=Sre(),[B,T]=ure({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=R.useRef(null),O=R.useRef(null);R.useImperativeHandle(M,()=>P.current);const z=jG(b),[H,N]=R.useState(!1),[J,X]=R.useState(!1);if(H)throw H;if(J)throw J;const Y=R.useRef(null);Kg(()=>{const U=P.current;T.width>0&&T.height>0&&U&&(Y.current||(Y.current=ore(U)),Y.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:_,size:T,onPointerMissed:(...V)=>z.current==null?void 0:z.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?$ne(a)?a.current:a:O.current),l&&V.setEvents({compute:(q,ee)=>{const se=q[l+"X"],Z=q[l+"Y"];ee.pointer.set(se/ee.size.width*2-1,-(Z/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),S==null||S(V)}}),Y.current.render(R.createElement(I,null,R.createElement(JG,{set:X},R.createElement(R.Suspense,{fallback:R.createElement(Wne,{set:N})},e)))))}),R.useEffect(()=>{const U=P.current;if(U)return()=>tV(U)},[]);const k=a?"none":"auto";return R.createElement("div",Jl({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...i}},E),R.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},R.createElement("canvas",{ref:P,style:{display:"block"}},t)))}),PM=R.forwardRef(function(e,t){return R.createElement(sV,null,R.createElement(Ere,Jl({},e,{ref:t})))});function bm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mre(n,e){if(n){if(typeof n=="string")return IM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IM(n,e)}}function Cre(n){if(Array.isArray(n))return IM(n)}function Tre(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(n){return Cre(n)||Tre(n)||Mre(n)||Rre()}new Me;new Me;function Ire(n,e,t){return Math.max(e,Math.min(t,n))}function Bre(n,e){return Ire(n-Math.floor(n/e)*e,0,e)}function Lre(n,e){var t=Bre(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function oV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var is=function n(e,t,r){var i=this;oV(this,n),bm(this,"dot2",function(s,o){return i.x*s+i.y*o}),bm(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},Dre=[new is(1,1,0),new is(-1,1,0),new is(1,-1,0),new is(-1,-1,0),new is(1,0,1),new is(-1,0,1),new is(1,0,-1),new is(-1,0,-1),new is(0,1,1),new is(0,-1,1),new is(0,1,-1),new is(0,-1,-1)],ID=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],BD=new Array(512),LD=new Array(512),Ore=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=ID[t]^e&255:r=ID[t]^e>>8&255,BD[t]=BD[t+256]=r,LD[t]=LD[t+256]=Dre[r%12]}};Ore(0);function kre(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function DD(n){var e=kre(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Nre=function n(e){var t=this;oV(this,n),bm(this,"seed",0),bm(this,"init",function(r){t.seed=r,t.value=DD(r)}),bm(this,"value",DD(this.seed)),this.init(e)};new Nre(Math.random());var Fre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},aV=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function er(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:aV,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,p=t,m=s*r;f=Math.min(Math.max(f,-m),m),t=n[e]-f;var v=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*v)*u;var y=t+(f+v)*u;return p-n[e]>0==y>p&&(y=p,n.__damp[l]=(y-p)/i),n[e]=y,!0}function Od(n,e,t,r,i,s,o,a){return er(n,e,n[e]+Lre(n[e],t),r,i,s,o,a)}var Dp=new Me,OD,kD;function Ure(n,e,t,r,i,s,o){return typeof e=="number"?Dp.setScalar(e):Array.isArray(e)?Dp.set(e[0],e[1]):Dp.copy(e),OD=er(n,"x",Dp.x,t,r,i,s,o),kD=er(n,"y",Dp.y,t,r,i,s,o),OD||kD}var If=new G,ND,FD,UD;function BM(n,e,t,r,i,s,o){return typeof e=="number"?If.setScalar(e):Array.isArray(e)?If.set(e[0],e[1],e[2]):If.copy(e),ND=er(n,"x",If.x,t,r,i,s,o),FD=er(n,"y",If.y,t,r,i,s,o),UD=er(n,"z",If.z,t,r,i,s,o),ND||FD||UD}var Rc=new Ut,HD,zD,GD,VD;function Hre(n,e,t,r,i,s,o){return typeof e=="number"?Rc.setScalar(e):Array.isArray(e)?Rc.set(e[0],e[1],e[2],e[3]):Rc.copy(e),HD=er(n,"x",Rc.x,t,r,i,s,o),zD=er(n,"y",Rc.y,t,r,i,s,o),GD=er(n,"z",Rc.z,t,r,i,s,o),VD=er(n,"w",Rc.w,t,r,i,s,o),HD||zD||GD||VD}var Op=new ic,$D,WD,jD;function zre(n,e,t,r,i,s,o){return Array.isArray(e)?Op.set(e[0],e[1],e[2],e[3]):Op.copy(e),$D=Od(n,"x",Op.x,t,r,i,s,o),WD=Od(n,"y",Op.y,t,r,i,s,o),jD=Od(n,"z",Op.z,t,r,i,s,o),$D||WD||jD}var Bf=new Oe,JD,KD,XD;function Gre(n,e,t,r,i,s,o){return e instanceof Oe?Bf.copy(e):Array.isArray(e)?Bf.setRGB(e[0],e[1],e[2]):Bf.set(e),JD=er(n,"r",Bf.r,t,r,i,s,o),KD=er(n,"g",Bf.g,t,r,i,s,o),XD=er(n,"b",Bf.b,t,r,i,s,o),JD||KD||XD}var ks=new pr,ta=new Ut,YD=new Ut,kp=new Ut,QD,qD,ZD,eO;function lV(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?ks.set(e[0],e[1],e[2],e[3]):ks.copy(e);var l=n.dot(ks)>0?1:-1;return ks.x*=l,ks.y*=l,ks.z*=l,ks.w*=l,QD=er(n,"x",ks.x,t,r,i,s,o),qD=er(n,"y",ks.y,t,r,i,s,o),ZD=er(n,"z",ks.z,t,r,i,s,o),eO=er(n,"w",ks.w,t,r,i,s,o),ta.set(n.x,n.y,n.z,n.w).normalize(),YD.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),kp.copy(ta).multiplyScalar(YD.dot(ta)/ta.dot(ta)),a.__damp.velocity_x-=kp.x,a.__damp.velocity_y-=kp.y,a.__damp.velocity_z-=kp.z,a.__damp.velocity_w-=kp.w,n.set(ta.x,ta.y,ta.z,ta.w),QD||qD||ZD||eO}var Np=new FG,tO,nO,rO;function Vre(n,e,t,r,i,s,o){return Array.isArray(e)?Np.set(e[0],e[1],e[2]):Np.copy(e),tO=er(n,"radius",Np.radius,t,r,i,s,o),nO=Od(n,"phi",Np.phi,t,r,i,s,o),rO=Od(n,"theta",Np.theta,t,r,i,s,o),tO||nO||rO}var xy=new ut,iO=new G,sO=new pr,oO=new G,aO,lO,cO;function $re(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new G,rotation:new pr,scale:new G},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?xy.set.apply(xy,Pre(e)):xy.copy(e),xy.decompose(iO,sO,oO),aO=BM(a.__damp.position,iO,t,r,i,s,o),lO=lV(a.__damp.rotation,sO,t,r,i,s,o),cO=BM(a.__damp.scale,oO,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),aO||lO||cO}var Xg=Object.freeze({__proto__:null,rsqw:Fre,exp:aV,damp:er,dampAngle:Od,damp2:Ure,damp3:BM,damp4:Hre,dampE:zre,dampC:Gre,dampQ:lV,dampS:Vre,dampM:$re});const Wre=n=>n&&n.isCubeTexture;class jre extends Jn{constructor(e,t){var r,i;const s=Wre(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new Rh(1,16),g=new bs({uniforms:y,fragmentShader:v,vertexShader:m,side:us});super(x,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class QR extends Qr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Qre(t)}),this.register(function(t){return new iie(t)}),this.register(function(t){return new sie(t)}),this.register(function(t){return new Zre(t)}),this.register(function(t){return new eie(t)}),this.register(function(t){return new tie(t)}),this.register(function(t){return new nie(t)}),this.register(function(t){return new Yre(t)}),this.register(function(t){return new rie(t)}),this.register(function(t){return new qre(t)}),this.register(function(t){return new Kre(t)}),this.register(function(t){return new oie(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=So.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new zi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(So.decodeText(new Uint8Array(e,0,4))===cV){try{o[Lt.KHR_BINARY_GLTF]=new aie(e)}catch(f){i&&i(f);return}s=o[Lt.KHR_BINARY_GLTF].content}else s=So.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new bie(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](c);a[f.name]=f,o[f.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const f=l.extensionsUsed[u],p=l.extensionsRequired||[];switch(f){case Lt.KHR_MATERIALS_UNLIT:o[f]=new Xre;break;case Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new uie;break;case Lt.KHR_DRACO_MESH_COMPRESSION:o[f]=new lie(l,this.dracoLoader);break;case Lt.KHR_TEXTURE_TRANSFORM:o[f]=new cie;break;case Lt.KHR_MESH_QUANTIZATION:o[f]=new fie;break;default:p.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Jre(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Lt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Kre{constructor(e){this.parser=e,this.name=Lt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Oe(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new UR(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new FR(u),c.distance=f;break;case"spot":c=new NR(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Xre{constructor(){this.name=Lt.KHR_MATERIALS_UNLIT}getMaterialType(){return Bi}extendParams(e,t,r){const i=[];e.color=new Oe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Dt))}return Promise.all(i)}}class Yre{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Qre{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Me(a,a)}return Promise.all(s)}}class qre{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Zre{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Oe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Dt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class eie{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class tie{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Oe(a[0],a[1],a[2]),Promise.all(s)}}class nie{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class rie{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:za}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Oe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Dt)),Promise.all(s)}}class iie{constructor(e){this.parser=e,this.name=Lt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class sie{constructor(e){this.parser=e,this.name=Lt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class oie{constructor(e){this.name=Lt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}const cV="glTF",Fp=12,uO={JSON:1313821514,BIN:5130562};class aie{constructor(e){this.name=Lt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Fp);if(this.header={magic:So.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==cV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Fp,i=new DataView(e,Fp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===uO.JSON){const l=new Uint8Array(e,Fp+s,o);this.content=So.decodeText(l)}else if(a===uO.BIN){const l=Fp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class lie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Lt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=DM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=DM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=lg[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const v=p.attributes[m],y=l[m];y!==void 0&&(v.normalized=y)}f(p)},a,c)})})}}class cie{constructor(){this.name=Lt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class LM extends Bh{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Oe().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class uie{constructor(){this.name=Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return LM}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Oe(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,Dt)),e.emissive=new Oe(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Oe(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,Dt))}return Promise.all(s)}createMaterial(e){const t=new LM(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Fa,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class fie{constructor(){this.name=Lt.KHR_MESH_QUANTIZATION}}class uV extends Lh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,v=e*c,y=v-c,x=-2*m+3*p,g=m-p,_=1-x,b=g-p+f;for(let S=0;S!==a;S++){const E=o[y+S+a],M=o[y+S+l]*u,I=o[v+S+a],B=o[v+S]*u;s[S]=_*E+b*M+x*I+g*B}return s}}const die=new pr;class hie extends uV{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return die.fromArray(s).normalize().toArray(s),s}}const na={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},lg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},fO={9728:Pn,9729:mn,9984:Ym,9985:sb,9986:Id,9987:Io},dO={33071:xr,33648:qd,10497:$l},hO={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},DM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},al={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pie={CUBICSPLINE:void 0,LINEAR:bu,STEP:Zd},RS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Bh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Po})),n.DefaultMaterial}function Up(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Dc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gie(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function vie(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yie(n){const e=n.extensions&&n.extensions[Lt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+pO(e.attributes):t=n.indices+":"+pO(n.attributes)+":"+n.mode,t}function pO(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function OM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class bie{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Jre,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new Jg(this.options.manager):this.textureLoader=new DG(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new zi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Up(s,a,i),Dc(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Lt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(So.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=hO[i.type],c=lg[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,x;if(m&&m!==f){const g=Math.floor(p/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let b=t.cache.get(_);b||(y=new c(a,g*m,i.count*m/u),b=new Dg(y,m/u),t.cache.add(_,b)),x=new Wl(b,l,p%m/u,v)}else a===null?y=new c(i.count*l):y=new c(a,p,i.count*l),x=new jt(y,l,v);if(i.sparse!==void 0){const g=hO.SCALAR,_=lg[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,E=new _(o[1],b,i.sparse.count*g),M=new c(o[2],S,i.sparse.count*l);a!==null&&(x=new jt(x.array.slice(),x.itemSize,x.normalized));for(let I=0,B=E.length;I<B;I++){const T=E[I];if(x.setX(T,M[I*l]),l>=2&&x.setY(T,M[I*l+1]),l>=3&&x.setZ(T,M[I*l+2]),l>=4&&x.setW(T,M[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=fO[p.magFilter]||mn,u.minFilter=fO[p.minFilter]||Io,u.wrapS=dO[p.wrapS]||$l,u.wrapT=dO[p.wrapT]||$l,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(y){const x=new bn(y);x.needsUpdate=!0,p(x)}),t.load(So.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||xie(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Lt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Lt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Lt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new hb,Xn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Nr,Xn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Bh}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=i[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else if(l[Lt.KHR_MATERIALS_UNLIT]){const f=i[Lt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Oe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,Dt)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=us);const u=s.alphaMode||RS.OPAQUE;if(u===RS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===RS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Bi&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Me(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Bi&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Bi&&(a.emissive=new Oe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Bi&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Dt)),Promise.all(c).then(function(){let f;return o===LM?f=i[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):f=new o(a),s.name&&(f.name=s.name),Dc(f,s),t.associations.set(f,{materials:e}),s.extensions&&Up(i,f,s),f})}createUniqueName(e){const t=Nt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Lt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return mO(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=yie(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[Lt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=mO(new yt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?mie(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,v=u.length;m<v;m++){const y=u[m],x=o[m];let g;const _=c[m];if(x.mode===na.TRIANGLES||x.mode===na.TRIANGLE_STRIP||x.mode===na.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new bR(y,_):new Jn(y,_),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),x.mode===na.TRIANGLE_STRIP?g.geometry=gO(g.geometry,Dz):x.mode===na.TRIANGLE_FAN&&(g.geometry=gO(g.geometry,oR));else if(x.mode===na.LINES)g=new to(y,_);else if(x.mode===na.LINE_STRIP)g=new Ba(y,_);else if(x.mode===na.LINE_LOOP)g=new _R(y,_);else if(x.mode===na.POINTS)g=new wR(y,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&vie(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Dc(g,s),x.extensions&&Up(i,g,x),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return f[0];const p=new ha;t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new qn(Bd.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Mh(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Dc(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const f=r.channels[c],p=r.samplers[f.sampler],m=f.target,v=m.node,y=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",y)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2],m=c[3],v=c[4],y=[];for(let g=0,_=u.length;g<_;g++){const b=u[g],S=f[g],E=p[g],M=m[g],I=v[g];if(b===void 0)continue;b.updateMatrix();let B;switch(al[I.path]){case al.weights:B=ih;break;case al.rotation:B=jl;break;case al.position:case al.scale:default:B=sh;break}const T=b.name?b.name:b.uuid,P=M.interpolation!==void 0?pie[M.interpolation]:bu,O=[];al[I.path]===al.weights?b.traverse(function(H){H.morphTargetInfluences&&O.push(H.name?H.name:H.uuid)}):O.push(T);let z=E.array;if(E.normalized){const H=OM(z.constructor),N=new Float32Array(z.length);for(let J=0,X=z.length;J<X;J++)N[J]=z[J]*H;z=N}for(let H=0,N=O.length;H<N;H++){const J=new B(O[H]+"."+al[I.path],S.array,z,P);M.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function(Y){const k=this instanceof jl?hie:uV;return new k(this.times,this.values,this.getValueSize()/3,Y)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(J)}}const x=r.name?r.name:"animation_"+e;return new oh(x,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new db:a.length>1?l=new ha:a.length===1?l=a[0]:l=new Ft,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Dc(l,s),s.extensions&&Up(r,l,s),s.matrix!==void 0){const c=new ut;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new ha;i.name&&(o.name=s.createUniqueName(i.name)),Dc(o,i),i.extensions&&Up(r,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(fV(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const f=new Map;for(const[p,m]of s.associations)(p instanceof Xn||p instanceof bn)&&f.set(p,m);return u.traverse(p=>{const m=s.associations.get(p);m!=null&&f.set(p,m)}),f};return s.associations=c(o),o})}}function fV(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let f=0,p=a.length;f<p;f++){const m=a[f];if(m){c.push(m);const v=new ut;o.inverseBindMatrices!==void 0&&v.fromArray(o.inverseBindMatrices.array,f*16),u.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[f])}l.bind(new Og(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(fV(u,s,t,r))}}return Promise.all(o)})}function _ie(n,e,t){const r=e.attributes,i=new Ss;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),a.normalized){const u=OM(lg[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new G,l=new G;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=OM(lg[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new As;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function mO(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=DM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Dc(n,e),_ie(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?gie(n,e.targets,t):n})}function gO(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===oR)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class wie extends yt{constructor(e,t,r,i){super();const s=[],o=[],a=[],l=new G,c=new ut;c.makeRotationFromEuler(r),c.setPosition(t);const u=new ut;u.copy(c).invert(),f(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2));function f(){let y,x=[];const g=new G,_=new G;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const b=e.geometry,S=b.attributes.position,E=b.attributes.normal;if(b.index!==null){const M=b.index;for(y=0;y<M.count;y++)g.fromBufferAttribute(S,M.getX(y)),_.fromBufferAttribute(E,M.getX(y)),p(x,g,_)}else for(y=0;y<S.count;y++)g.fromBufferAttribute(S,y),_.fromBufferAttribute(E,y),p(x,g,_);for(x=m(x,l.set(1,0,0)),x=m(x,l.set(-1,0,0)),x=m(x,l.set(0,1,0)),x=m(x,l.set(0,-1,0)),x=m(x,l.set(0,0,1)),x=m(x,l.set(0,0,-1)),y=0;y<x.length;y++){const M=x[y];a.push(.5+M.position.x/i.x,.5+M.position.y/i.y),M.position.applyMatrix4(c),s.push(M.position.x,M.position.y,M.position.z),o.push(M.normal.x,M.normal.y,M.normal.z)}}function p(y,x,g){x.applyMatrix4(e.matrixWorld),x.applyMatrix4(u),g.transformDirection(e.matrixWorld),y.push(new vO(x.clone(),g.clone()))}function m(y,x){const g=[],_=.5*Math.abs(i.dot(x));for(let b=0;b<y.length;b+=3){let S,E,M,I=0,B,T,P,O;const z=y[b+0].position.dot(x)-_,H=y[b+1].position.dot(x)-_,N=y[b+2].position.dot(x)-_;switch(S=z>0,E=H>0,M=N>0,I=(S?1:0)+(E?1:0)+(M?1:0),I){case 0:{g.push(y[b]),g.push(y[b+1]),g.push(y[b+2]);break}case 1:{if(S&&(B=y[b+1],T=y[b+2],P=v(y[b],B,x,_),O=v(y[b],T,x,_)),E){B=y[b],T=y[b+2],P=v(y[b+1],B,x,_),O=v(y[b+1],T,x,_),g.push(P),g.push(T.clone()),g.push(B.clone()),g.push(T.clone()),g.push(P.clone()),g.push(O);break}M&&(B=y[b],T=y[b+1],P=v(y[b+2],B,x,_),O=v(y[b+2],T,x,_)),g.push(B.clone()),g.push(T.clone()),g.push(P),g.push(O),g.push(P.clone()),g.push(T.clone());break}case 2:{S||(B=y[b].clone(),T=v(B,y[b+1],x,_),P=v(B,y[b+2],x,_),g.push(B),g.push(T),g.push(P)),E||(B=y[b+1].clone(),T=v(B,y[b+2],x,_),P=v(B,y[b],x,_),g.push(B),g.push(T),g.push(P)),M||(B=y[b+2].clone(),T=v(B,y[b],x,_),P=v(B,y[b+1],x,_),g.push(B),g.push(T),g.push(P));break}}}return g}function v(y,x,g,_){const b=y.position.dot(g)-_,S=x.position.dot(g)-_,E=b/(b-S);return new vO(new G(y.position.x+E*(x.position.x-y.position.x),y.position.y+E*(x.position.y-y.position.y),y.position.z+E*(x.position.z-y.position.z)),new G(y.normal.x+E*(x.normal.x-y.normal.x),y.normal.y+E*(x.normal.y-y.normal.y),y.normal.z+E*(x.normal.z-y.normal.z)))}}}class vO{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}var Sie=Object.prototype;function Aie(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Sie;return n===t}var qR=Aie;function Eie(n,e){return function(t){return n(e(t))}}var dV=Eie,Mie=dV,Cie=Mie(Object.keys,Object),Tie=Cie,Rie=qR,Pie=Tie,Iie=Object.prototype,Bie=Iie.hasOwnProperty;function Lie(n){if(!Rie(n))return Pie(n);var e=[];for(var t in Object(n))Bie.call(n,t)&&t!="constructor"&&e.push(t);return e}var Die=Lie,Oie=typeof dv=="object"&&dv&&dv.Object===Object&&dv,hV=Oie,kie=hV,Nie=typeof self=="object"&&self&&self.Object===Object&&self,Fie=kie||Nie||Function("return this")(),ko=Fie,Uie=ko,Hie=Uie.Symbol,Yg=Hie,yO=Yg,pV=Object.prototype,zie=pV.hasOwnProperty,Gie=pV.toString,Hp=yO?yO.toStringTag:void 0;function Vie(n){var e=zie.call(n,Hp),t=n[Hp];try{n[Hp]=void 0;var r=!0}catch{}var i=Gie.call(n);return r&&(e?n[Hp]=t:delete n[Hp]),i}var $ie=Vie,Wie=Object.prototype,jie=Wie.toString;function Jie(n){return jie.call(n)}var Kie=Jie,xO=Yg,Xie=$ie,Yie=Kie,Qie="[object Null]",qie="[object Undefined]",bO=xO?xO.toStringTag:void 0;function Zie(n){return n==null?n===void 0?qie:Qie:bO&&bO in Object(n)?Xie(n):Yie(n)}var Nu=Zie;function ese(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Dh=ese,tse=Nu,nse=Dh,rse="[object AsyncFunction]",ise="[object Function]",sse="[object GeneratorFunction]",ose="[object Proxy]";function ase(n){if(!nse(n))return!1;var e=tse(n);return e==ise||e==sse||e==rse||e==ose}var mV=ase,lse=ko,cse=lse["__core-js_shared__"],use=cse,PS=use,_O=function(){var n=/[^.]+$/.exec(PS&&PS.keys&&PS.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function fse(n){return!!_O&&_O in n}var dse=fse,hse=Function.prototype,pse=hse.toString;function mse(n){if(n!=null){try{return pse.call(n)}catch{}try{return n+""}catch{}}return""}var gV=mse,gse=mV,vse=dse,yse=Dh,xse=gV,bse=/[\\^$.*+?()[\]{}|]/g,_se=/^\[object .+?Constructor\]$/,wse=Function.prototype,Sse=Object.prototype,Ase=wse.toString,Ese=Sse.hasOwnProperty,Mse=RegExp("^"+Ase.call(Ese).replace(bse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cse(n){if(!yse(n)||vse(n))return!1;var e=gse(n)?Mse:_se;return e.test(xse(n))}var Tse=Cse;function Rse(n,e){return n==null?void 0:n[e]}var Pse=Rse,Ise=Tse,Bse=Pse;function Lse(n,e){var t=Bse(n,e);return Ise(t)?t:void 0}var Fu=Lse,Dse=Fu,Ose=ko,kse=Dse(Ose,"DataView"),Nse=kse,Fse=Fu,Use=ko,Hse=Fse(Use,"Map"),ZR=Hse,zse=Fu,Gse=ko,Vse=zse(Gse,"Promise"),$se=Vse,Wse=Fu,jse=ko,Jse=Wse(jse,"Set"),Kse=Jse,Xse=Fu,Yse=ko,Qse=Xse(Yse,"WeakMap"),qse=Qse,kM=Nse,NM=ZR,FM=$se,UM=Kse,HM=qse,vV=Nu,Oh=gV,wO="[object Map]",Zse="[object Object]",SO="[object Promise]",AO="[object Set]",EO="[object WeakMap]",MO="[object DataView]",eoe=Oh(kM),toe=Oh(NM),noe=Oh(FM),roe=Oh(UM),ioe=Oh(HM),Oc=vV;(kM&&Oc(new kM(new ArrayBuffer(1)))!=MO||NM&&Oc(new NM)!=wO||FM&&Oc(FM.resolve())!=SO||UM&&Oc(new UM)!=AO||HM&&Oc(new HM)!=EO)&&(Oc=function(n){var e=vV(n),t=e==Zse?n.constructor:void 0,r=t?Oh(t):"";if(r)switch(r){case eoe:return MO;case toe:return wO;case noe:return SO;case roe:return AO;case ioe:return EO}return e});var xb=Oc;function soe(n){return n!=null&&typeof n=="object"}var Va=soe,ooe=Nu,aoe=Va,loe="[object Arguments]";function coe(n){return aoe(n)&&ooe(n)==loe}var uoe=coe,CO=uoe,foe=Va,yV=Object.prototype,doe=yV.hasOwnProperty,hoe=yV.propertyIsEnumerable,poe=CO(function(){return arguments}())?CO:function(n){return foe(n)&&doe.call(n,"callee")&&!hoe.call(n,"callee")},xV=poe,moe=Array.isArray,io=moe,goe=9007199254740991;function voe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=goe}var eP=voe,yoe=mV,xoe=eP;function boe(n){return n!=null&&xoe(n.length)&&!yoe(n)}var bb=boe,lh={},_oe={get exports(){return lh},set exports(n){lh=n}};function woe(){return!1}var Soe=woe;(function(n,e){var t=ko,r=Soe,i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c})(_oe,lh);var Aoe=Nu,Eoe=eP,Moe=Va,Coe="[object Arguments]",Toe="[object Array]",Roe="[object Boolean]",Poe="[object Date]",Ioe="[object Error]",Boe="[object Function]",Loe="[object Map]",Doe="[object Number]",Ooe="[object Object]",koe="[object RegExp]",Noe="[object Set]",Foe="[object String]",Uoe="[object WeakMap]",Hoe="[object ArrayBuffer]",zoe="[object DataView]",Goe="[object Float32Array]",Voe="[object Float64Array]",$oe="[object Int8Array]",Woe="[object Int16Array]",joe="[object Int32Array]",Joe="[object Uint8Array]",Koe="[object Uint8ClampedArray]",Xoe="[object Uint16Array]",Yoe="[object Uint32Array]",dn={};dn[Goe]=dn[Voe]=dn[$oe]=dn[Woe]=dn[joe]=dn[Joe]=dn[Koe]=dn[Xoe]=dn[Yoe]=!0;dn[Coe]=dn[Toe]=dn[Hoe]=dn[Roe]=dn[zoe]=dn[Poe]=dn[Ioe]=dn[Boe]=dn[Loe]=dn[Doe]=dn[Ooe]=dn[koe]=dn[Noe]=dn[Foe]=dn[Uoe]=!1;function Qoe(n){return Moe(n)&&Eoe(n.length)&&!!dn[Aoe(n)]}var qoe=Qoe;function Zoe(n){return function(e){return n(e)}}var tP=Zoe,ch={},eae={get exports(){return ch},set exports(n){ch=n}};(function(n,e){var t=hV,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(eae,ch);var tae=qoe,nae=tP,TO=ch,RO=TO&&TO.isTypedArray,rae=RO?nae(RO):tae,bV=rae;function iae(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var _V=iae;function sae(){this.__data__=[],this.size=0}var oae=sae;function aae(n,e){return n===e||n!==n&&e!==e}var nP=aae,lae=nP;function cae(n,e){for(var t=n.length;t--;)if(lae(n[t][0],e))return t;return-1}var _b=cae,uae=_b,fae=Array.prototype,dae=fae.splice;function hae(n){var e=this.__data__,t=uae(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():dae.call(e,t,1),--this.size,!0}var pae=hae,mae=_b;function gae(n){var e=this.__data__,t=mae(e,n);return t<0?void 0:e[t][1]}var vae=gae,yae=_b;function xae(n){return yae(this.__data__,n)>-1}var bae=xae,_ae=_b;function wae(n,e){var t=this.__data__,r=_ae(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var Sae=wae,Aae=oae,Eae=pae,Mae=vae,Cae=bae,Tae=Sae;function kh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}kh.prototype.clear=Aae;kh.prototype.delete=Eae;kh.prototype.get=Mae;kh.prototype.has=Cae;kh.prototype.set=Tae;var wb=kh,Rae=wb;function Pae(){this.__data__=new Rae,this.size=0}var Iae=Pae;function Bae(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Lae=Bae;function Dae(n){return this.__data__.get(n)}var Oae=Dae;function kae(n){return this.__data__.has(n)}var Nae=kae,Fae=Fu,Uae=Fae(Object,"create"),Sb=Uae,PO=Sb;function Hae(){this.__data__=PO?PO(null):{},this.size=0}var zae=Hae;function Gae(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Vae=Gae,$ae=Sb,Wae="__lodash_hash_undefined__",jae=Object.prototype,Jae=jae.hasOwnProperty;function Kae(n){var e=this.__data__;if($ae){var t=e[n];return t===Wae?void 0:t}return Jae.call(e,n)?e[n]:void 0}var Xae=Kae,Yae=Sb,Qae=Object.prototype,qae=Qae.hasOwnProperty;function Zae(n){var e=this.__data__;return Yae?e[n]!==void 0:qae.call(e,n)}var ele=Zae,tle=Sb,nle="__lodash_hash_undefined__";function rle(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=tle&&e===void 0?nle:e,this}var ile=rle,sle=zae,ole=Vae,ale=Xae,lle=ele,cle=ile;function Nh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Nh.prototype.clear=sle;Nh.prototype.delete=ole;Nh.prototype.get=ale;Nh.prototype.has=lle;Nh.prototype.set=cle;var ule=Nh,IO=ule,fle=wb,dle=ZR;function hle(){this.size=0,this.__data__={hash:new IO,map:new(dle||fle),string:new IO}}var ple=hle;function mle(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var gle=mle,vle=gle;function yle(n,e){var t=n.__data__;return vle(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Ab=yle,xle=Ab;function ble(n){var e=xle(this,n).delete(n);return this.size-=e?1:0,e}var _le=ble,wle=Ab;function Sle(n){return wle(this,n).get(n)}var Ale=Sle,Ele=Ab;function Mle(n){return Ele(this,n).has(n)}var Cle=Mle,Tle=Ab;function Rle(n,e){var t=Tle(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Ple=Rle,Ile=ple,Ble=_le,Lle=Ale,Dle=Cle,Ole=Ple;function Fh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Fh.prototype.clear=Ile;Fh.prototype.delete=Ble;Fh.prototype.get=Lle;Fh.prototype.has=Dle;Fh.prototype.set=Ole;var rP=Fh,kle=wb,Nle=ZR,Fle=rP,Ule=200;function Hle(n,e){var t=this.__data__;if(t instanceof kle){var r=t.__data__;if(!Nle||r.length<Ule-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Fle(r)}return t.set(n,e),this.size=t.size,this}var zle=Hle,Gle=wb,Vle=Iae,$le=Lae,Wle=Oae,jle=Nae,Jle=zle;function Uh(n){var e=this.__data__=new Gle(n);this.size=e.size}Uh.prototype.clear=Vle;Uh.prototype.delete=$le;Uh.prototype.get=Wle;Uh.prototype.has=jle;Uh.prototype.set=Jle;var iP=Uh,Kle="__lodash_hash_undefined__";function Xle(n){return this.__data__.set(n,Kle),this}var Yle=Xle;function Qle(n){return this.__data__.has(n)}var qle=Qle,Zle=rP,ece=Yle,tce=qle;function Yx(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Zle;++e<t;)this.add(n[e])}Yx.prototype.add=Yx.prototype.push=ece;Yx.prototype.has=tce;var nce=Yx;function rce(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var ice=rce;function sce(n,e){return n.has(e)}var oce=sce,ace=nce,lce=ice,cce=oce,uce=1,fce=2;function dce(n,e,t,r,i,s){var o=t&uce,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var f=-1,p=!0,m=t&fce?new ace:void 0;for(s.set(n,e),s.set(e,n);++f<a;){var v=n[f],y=e[f];if(r)var x=o?r(y,v,f,e,n,s):r(v,y,f,n,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!lce(e,function(g,_){if(!cce(m,_)&&(v===g||i(v,g,t,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}var wV=dce,hce=ko,pce=hce.Uint8Array,SV=pce;function mce(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var gce=mce;function vce(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var yce=vce,BO=Yg,LO=SV,xce=nP,bce=wV,_ce=gce,wce=yce,Sce=1,Ace=2,Ece="[object Boolean]",Mce="[object Date]",Cce="[object Error]",Tce="[object Map]",Rce="[object Number]",Pce="[object RegExp]",Ice="[object Set]",Bce="[object String]",Lce="[object Symbol]",Dce="[object ArrayBuffer]",Oce="[object DataView]",DO=BO?BO.prototype:void 0,IS=DO?DO.valueOf:void 0;function kce(n,e,t,r,i,s,o){switch(t){case Oce:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Dce:return!(n.byteLength!=e.byteLength||!s(new LO(n),new LO(e)));case Ece:case Mce:case Rce:return xce(+n,+e);case Cce:return n.name==e.name&&n.message==e.message;case Pce:case Bce:return n==e+"";case Tce:var a=_ce;case Ice:var l=r&Sce;if(a||(a=wce),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=Ace,o.set(n,e);var u=bce(a(n),a(e),r,i,s,o);return o.delete(n),u;case Lce:if(IS)return IS.call(n)==IS.call(e)}return!1}var Nce=kce;function Fce(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var AV=Fce,Uce=AV,Hce=io;function zce(n,e,t){var r=e(n);return Hce(n)?r:Uce(r,t(n))}var EV=zce;function Gce(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}var Vce=Gce;function $ce(){return[]}var MV=$ce,Wce=Vce,jce=MV,Jce=Object.prototype,Kce=Jce.propertyIsEnumerable,OO=Object.getOwnPropertySymbols,Xce=OO?function(n){return n==null?[]:(n=Object(n),Wce(OO(n),function(e){return Kce.call(n,e)}))}:jce,sP=Xce;function Yce(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Qce=Yce,qce=9007199254740991,Zce=/^(?:0|[1-9]\d*)$/;function eue(n,e){var t=typeof n;return e=e??qce,!!e&&(t=="number"||t!="symbol"&&Zce.test(n))&&n>-1&&n%1==0&&n<e}var CV=eue,tue=Qce,nue=xV,rue=io,iue=lh,sue=CV,oue=bV,aue=Object.prototype,lue=aue.hasOwnProperty;function cue(n,e){var t=rue(n),r=!t&&nue(n),i=!t&&!r&&iue(n),s=!t&&!r&&!i&&oue(n),o=t||r||i||s,a=o?tue(n.length,String):[],l=a.length;for(var c in n)(e||lue.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||sue(c,l)))&&a.push(c);return a}var TV=cue,uue=TV,fue=Die,due=bb;function hue(n){return due(n)?uue(n):fue(n)}var Qg=hue,pue=EV,mue=sP,gue=Qg;function vue(n){return pue(n,gue,mue)}var RV=vue,kO=RV,yue=1,xue=Object.prototype,bue=xue.hasOwnProperty;function _ue(n,e,t,r,i,s){var o=t&yue,a=kO(n),l=a.length,c=kO(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:bue.call(e,p)))return!1}var m=s.get(n),v=s.get(e);if(m&&v)return m==e&&v==n;var y=!0;s.set(n,e),s.set(e,n);for(var x=o;++f<l;){p=a[f];var g=n[p],_=e[p];if(r)var b=o?r(_,g,p,e,n,s):r(g,_,p,n,e,s);if(!(b===void 0?g===_||i(g,_,t,r,s):b)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var S=n.constructor,E=e.constructor;S!=E&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(n),s.delete(e),y}var wue=_ue,BS=iP,Sue=wV,Aue=Nce,Eue=wue,NO=xb,FO=io,UO=lh,Mue=bV,Cue=1,HO="[object Arguments]",zO="[object Array]",by="[object Object]",Tue=Object.prototype,GO=Tue.hasOwnProperty;function Rue(n,e,t,r,i,s){var o=FO(n),a=FO(e),l=o?zO:NO(n),c=a?zO:NO(e);l=l==HO?by:l,c=c==HO?by:c;var u=l==by,f=c==by,p=l==c;if(p&&UO(n)){if(!UO(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new BS),o||Mue(n)?Sue(n,e,t,r,i,s):Aue(n,e,l,t,r,i,s);if(!(t&Cue)){var m=u&&GO.call(n,"__wrapped__"),v=f&&GO.call(e,"__wrapped__");if(m||v){var y=m?n.value():n,x=v?e.value():e;return s||(s=new BS),i(y,x,t,r,s)}}return p?(s||(s=new BS),Eue(n,e,t,r,i,s)):!1}var Pue=Rue,Iue=Pue,VO=Va;function PV(n,e,t,r,i){return n===e?!0:n==null||e==null||!VO(n)&&!VO(e)?n!==n&&e!==e:Iue(n,e,t,r,PV,i)}var IV=PV,Bue=iP,Lue=IV,Due=1,Oue=2;function kue(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var f=new Bue;if(r)var p=r(c,u,l,n,e,f);if(!(p===void 0?Lue(u,c,Due|Oue,r,f):p))return!1}}return!0}var Nue=kue,Fue=Dh;function Uue(n){return n===n&&!Fue(n)}var BV=Uue,Hue=BV,zue=Qg;function Gue(n){for(var e=zue(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,Hue(i)]}return e}var Vue=Gue;function $ue(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var LV=$ue,Wue=Nue,jue=Vue,Jue=LV;function Kue(n){var e=jue(n);return e.length==1&&e[0][2]?Jue(e[0][0],e[0][1]):function(t){return t===n||Wue(t,n,e)}}var Xue=Kue,Yue=Nu,Que=Va,que="[object Symbol]";function Zue(n){return typeof n=="symbol"||Que(n)&&Yue(n)==que}var oP=Zue,efe=io,tfe=oP,nfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rfe=/^\w*$/;function ife(n,e){if(efe(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||tfe(n)?!0:rfe.test(n)||!nfe.test(n)||e!=null&&n in Object(e)}var aP=ife,DV=rP,sfe="Expected a function";function lP(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(sfe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(lP.Cache||DV),t}lP.Cache=DV;var ofe=lP,afe=ofe,lfe=500;function cfe(n){var e=afe(n,function(r){return t.size===lfe&&t.clear(),r}),t=e.cache;return e}var ufe=cfe,ffe=ufe,dfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hfe=/\\(\\)?/g,pfe=ffe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(dfe,function(t,r,i,s){e.push(i?s.replace(hfe,"$1"):r||t)}),e}),mfe=pfe,$O=Yg,gfe=_V,vfe=io,yfe=oP,xfe=1/0,WO=$O?$O.prototype:void 0,jO=WO?WO.toString:void 0;function OV(n){if(typeof n=="string")return n;if(vfe(n))return gfe(n,OV)+"";if(yfe(n))return jO?jO.call(n):"";var e=n+"";return e=="0"&&1/n==-xfe?"-0":e}var bfe=OV,_fe=bfe;function wfe(n){return n==null?"":_fe(n)}var Sfe=wfe,Afe=io,Efe=aP,Mfe=mfe,Cfe=Sfe;function Tfe(n,e){return Afe(n)?n:Efe(n,e)?[n]:Mfe(Cfe(n))}var kV=Tfe,Rfe=oP,Pfe=1/0;function Ife(n){if(typeof n=="string"||Rfe(n))return n;var e=n+"";return e=="0"&&1/n==-Pfe?"-0":e}var Eb=Ife,Bfe=kV,Lfe=Eb;function Dfe(n,e){e=Bfe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Lfe(e[t++])];return t&&t==r?n:void 0}var NV=Dfe,Ofe=NV;function kfe(n,e,t){var r=n==null?void 0:Ofe(n,e);return r===void 0?t:r}var Nfe=kfe;function Ffe(n,e){return n!=null&&e in Object(n)}var Ufe=Ffe,Hfe=kV,zfe=xV,Gfe=io,Vfe=CV,$fe=eP,Wfe=Eb;function jfe(n,e,t){e=Hfe(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Wfe(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&$fe(i)&&Vfe(o,i)&&(Gfe(n)||zfe(n)))}var Jfe=jfe,Kfe=Ufe,Xfe=Jfe;function Yfe(n,e){return n!=null&&Xfe(n,e,Kfe)}var Qfe=Yfe,qfe=IV,Zfe=Nfe,ede=Qfe,tde=aP,nde=BV,rde=LV,ide=Eb,sde=1,ode=2;function ade(n,e){return tde(n)&&nde(e)?rde(ide(n),e):function(t){var r=Zfe(t,n);return r===void 0&&r===e?ede(t,n):qfe(e,r,sde|ode)}}var lde=ade;function cde(n){return n}var FV=cde;function ude(n){return function(e){return e==null?void 0:e[n]}}var fde=ude,dde=NV;function hde(n){return function(e){return dde(e,n)}}var pde=hde,mde=fde,gde=pde,vde=aP,yde=Eb;function xde(n){return vde(n)?mde(yde(n)):gde(n)}var bde=xde,_de=Xue,wde=lde,Sde=FV,Ade=io,Ede=bde;function Mde(n){return typeof n=="function"?n:n==null?Sde:typeof n=="object"?Ade(n)?wde(n[0],n[1]):_de(n):Ede(n)}var Cde=Mde;function Tde(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var Rde=Tde,Pde=Rde,Ide=Pde(),Bde=Ide,Lde=Bde,Dde=Qg;function Ode(n,e){return n&&Lde(n,e,Dde)}var UV=Ode,kde=bb;function Nde(n,e){return function(t,r){if(t==null)return t;if(!kde(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var Fde=Nde,Ude=UV,Hde=Fde,zde=Hde(Ude),Gde=zde,Vde=Gde,$de=bb;function Wde(n,e){var t=-1,r=$de(n)?Array(n.length):[];return Vde(n,function(i,s,o){r[++t]=e(i,s,o)}),r}var jde=Wde,Jde=_V,Kde=Cde,Xde=jde,Yde=io;function Qde(n,e){var t=Yde(n)?Jde:Xde;return t(n,Kde(e))}var qde=Qde;function Zde(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var ehe=Zde,the=FV;function nhe(n){return typeof n=="function"?n:the}var rhe=nhe,ihe=Fu,she=function(){try{var n=ihe(Object,"defineProperty");return n({},"",{}),n}catch{}}(),ohe=she,JO=ohe;function ahe(n,e,t){e=="__proto__"&&JO?JO(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var HV=ahe,lhe=HV,che=nP,uhe=Object.prototype,fhe=uhe.hasOwnProperty;function dhe(n,e,t){var r=n[e];(!(fhe.call(n,e)&&che(r,t))||t===void 0&&!(e in n))&&lhe(n,e,t)}var zV=dhe,hhe=zV,phe=HV;function mhe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?phe(t,a,l):hhe(t,a,l)}return t}var Mb=mhe,ghe=Mb,vhe=Qg;function yhe(n,e){return n&&ghe(e,vhe(e),n)}var xhe=yhe;function bhe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var _he=bhe,whe=Dh,She=qR,Ahe=_he,Ehe=Object.prototype,Mhe=Ehe.hasOwnProperty;function Che(n){if(!whe(n))return Ahe(n);var e=She(n),t=[];for(var r in n)r=="constructor"&&(e||!Mhe.call(n,r))||t.push(r);return t}var The=Che,Rhe=TV,Phe=The,Ihe=bb;function Bhe(n){return Ihe(n)?Rhe(n,!0):Phe(n)}var cP=Bhe,Lhe=Mb,Dhe=cP;function Ohe(n,e){return n&&Lhe(e,Dhe(e),n)}var khe=Ohe,Qx={},Nhe={get exports(){return Qx},set exports(n){Qx=n}};(function(n,e){var t=ko,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}n.exports=l})(Nhe,Qx);function Fhe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Uhe=Fhe,Hhe=Mb,zhe=sP;function Ghe(n,e){return Hhe(n,zhe(n),e)}var Vhe=Ghe,$he=dV,Whe=$he(Object.getPrototypeOf,Object),uP=Whe,jhe=AV,Jhe=uP,Khe=sP,Xhe=MV,Yhe=Object.getOwnPropertySymbols,Qhe=Yhe?function(n){for(var e=[];n;)jhe(e,Khe(n)),n=Jhe(n);return e}:Xhe,GV=Qhe,qhe=Mb,Zhe=GV;function epe(n,e){return qhe(n,Zhe(n),e)}var tpe=epe,npe=EV,rpe=GV,ipe=cP;function spe(n){return npe(n,ipe,rpe)}var ope=spe,ape=Object.prototype,lpe=ape.hasOwnProperty;function cpe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&lpe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var upe=cpe,KO=SV;function fpe(n){var e=new n.constructor(n.byteLength);return new KO(e).set(new KO(n)),e}var fP=fpe,dpe=fP;function hpe(n,e){var t=e?dpe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var ppe=hpe,mpe=/\w*$/;function gpe(n){var e=new n.constructor(n.source,mpe.exec(n));return e.lastIndex=n.lastIndex,e}var vpe=gpe,XO=Yg,YO=XO?XO.prototype:void 0,QO=YO?YO.valueOf:void 0;function ype(n){return QO?Object(QO.call(n)):{}}var xpe=ype,bpe=fP;function _pe(n,e){var t=e?bpe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var wpe=_pe,Spe=fP,Ape=ppe,Epe=vpe,Mpe=xpe,Cpe=wpe,Tpe="[object Boolean]",Rpe="[object Date]",Ppe="[object Map]",Ipe="[object Number]",Bpe="[object RegExp]",Lpe="[object Set]",Dpe="[object String]",Ope="[object Symbol]",kpe="[object ArrayBuffer]",Npe="[object DataView]",Fpe="[object Float32Array]",Upe="[object Float64Array]",Hpe="[object Int8Array]",zpe="[object Int16Array]",Gpe="[object Int32Array]",Vpe="[object Uint8Array]",$pe="[object Uint8ClampedArray]",Wpe="[object Uint16Array]",jpe="[object Uint32Array]";function Jpe(n,e,t){var r=n.constructor;switch(e){case kpe:return Spe(n);case Tpe:case Rpe:return new r(+n);case Npe:return Ape(n,t);case Fpe:case Upe:case Hpe:case zpe:case Gpe:case Vpe:case $pe:case Wpe:case jpe:return Cpe(n,t);case Ppe:return new r;case Ipe:case Dpe:return new r(n);case Bpe:return Epe(n);case Lpe:return new r;case Ope:return Mpe(n)}}var Kpe=Jpe,Xpe=Dh,qO=Object.create,Ype=function(){function n(){}return function(e){if(!Xpe(e))return{};if(qO)return qO(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Qpe=Ype,qpe=Qpe,Zpe=uP,eme=qR;function tme(n){return typeof n.constructor=="function"&&!eme(n)?qpe(Zpe(n)):{}}var nme=tme,rme=xb,ime=Va,sme="[object Map]";function ome(n){return ime(n)&&rme(n)==sme}var ame=ome,lme=ame,cme=tP,ZO=ch,ek=ZO&&ZO.isMap,ume=ek?cme(ek):lme,fme=ume,dme=xb,hme=Va,pme="[object Set]";function mme(n){return hme(n)&&dme(n)==pme}var gme=mme,vme=gme,yme=tP,tk=ch,nk=tk&&tk.isSet,xme=nk?yme(nk):vme,bme=xme,_me=iP,wme=ehe,Sme=zV,Ame=xhe,Eme=khe,Mme=Qx,Cme=Uhe,Tme=Vhe,Rme=tpe,Pme=RV,Ime=ope,Bme=xb,Lme=upe,Dme=Kpe,Ome=nme,kme=io,Nme=lh,Fme=fme,Ume=Dh,Hme=bme,zme=Qg,Gme=cP,Vme=1,$me=2,Wme=4,VV="[object Arguments]",jme="[object Array]",Jme="[object Boolean]",Kme="[object Date]",Xme="[object Error]",$V="[object Function]",Yme="[object GeneratorFunction]",Qme="[object Map]",qme="[object Number]",WV="[object Object]",Zme="[object RegExp]",ege="[object Set]",tge="[object String]",nge="[object Symbol]",rge="[object WeakMap]",ige="[object ArrayBuffer]",sge="[object DataView]",oge="[object Float32Array]",age="[object Float64Array]",lge="[object Int8Array]",cge="[object Int16Array]",uge="[object Int32Array]",fge="[object Uint8Array]",dge="[object Uint8ClampedArray]",hge="[object Uint16Array]",pge="[object Uint32Array]",on={};on[VV]=on[jme]=on[ige]=on[sge]=on[Jme]=on[Kme]=on[oge]=on[age]=on[lge]=on[cge]=on[uge]=on[Qme]=on[qme]=on[WV]=on[Zme]=on[ege]=on[tge]=on[nge]=on[fge]=on[dge]=on[hge]=on[pge]=!0;on[Xme]=on[$V]=on[rge]=!1;function lx(n,e,t,r,i,s){var o,a=e&Vme,l=e&$me,c=e&Wme;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!Ume(n))return n;var u=kme(n);if(u){if(o=Lme(n),!a)return Cme(n,o)}else{var f=Bme(n),p=f==$V||f==Yme;if(Nme(n))return Mme(n,a);if(f==WV||f==VV||p&&!i){if(o=l||p?{}:Ome(n),!a)return l?Rme(n,Eme(o,n)):Tme(n,Ame(o,n))}else{if(!on[f])return i?n:{};o=Dme(n,f,a)}}s||(s=new _me);var m=s.get(n);if(m)return m;s.set(n,o),Hme(n)?n.forEach(function(x){o.add(lx(x,e,t,x,n,s))}):Fme(n)&&n.forEach(function(x,g){o.set(g,lx(x,e,t,g,n,s))});var v=c?l?Ime:Pme:l?Gme:zme,y=u?void 0:v(n);return wme(y||n,function(x,g){y&&(g=x,x=n[g]),Sme(o,g,lx(x,e,t,g,n,s))}),o}var mge=lx,gge=Nu,vge=io,yge=Va,xge="[object String]";function bge(n){return typeof n=="string"||!vge(n)&&yge(n)&&gge(n)==xge}var _ge=bge;class wge extends CG{constructor(e){super(e),this.type=hs}parse(e){const a=function(b,S){switch(b){case 1:console.error("THREE.RGBELoader Read Error: "+(S||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(S||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(S||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(S||""))}return-1},f=`
`,p=function(b,S,E){S=S||1024;let I=b.pos,B=-1,T=0,P="",O=String.fromCharCode.apply(null,new Uint16Array(b.subarray(I,I+128)));for(;0>(B=O.indexOf(f))&&T<S&&I<b.byteLength;)P+=O,T+=O.length,I+=128,O+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(I,I+128)));return-1<B?(E!==!1&&(b.pos+=T+B+1),P+O.slice(0,B)):!1},m=function(b){const S=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,M=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,B=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let P,O;if(b.pos>=b.byteLength||!(P=p(b)))return a(1,"no header found");if(!(O=P.match(S)))return a(3,"bad initial token");for(T.valid|=1,T.programtype=O[1],T.string+=P+`
`;P=p(b),P!==!1;){if(T.string+=P+`
`,P.charAt(0)==="#"){T.comments+=P+`
`;continue}if((O=P.match(E))&&(T.gamma=parseFloat(O[1])),(O=P.match(M))&&(T.exposure=parseFloat(O[1])),(O=P.match(I))&&(T.valid|=2,T.format=O[1]),(O=P.match(B))&&(T.valid|=4,T.height=parseInt(O[1],10),T.width=parseInt(O[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(b,S,E){const M=S;if(M<8||M>32767||b[0]!==2||b[1]!==2||b[2]&128)return new Uint8Array(b);if(M!==(b[2]<<8|b[3]))return a(3,"wrong scanline width");const I=new Uint8Array(4*S*E);if(!I.length)return a(4,"unable to allocate buffer space");let B=0,T=0;const P=4*M,O=new Uint8Array(4),z=new Uint8Array(P);let H=E;for(;H>0&&T<b.byteLength;){if(T+4>b.byteLength)return a(1);if(O[0]=b[T++],O[1]=b[T++],O[2]=b[T++],O[3]=b[T++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=M)return a(3,"bad rgbe scanline format");let N=0,J;for(;N<P&&T<b.byteLength;){J=b[T++];const Y=J>128;if(Y&&(J-=128),J===0||N+J>P)return a(3,"bad scanline data");if(Y){const k=b[T++];for(let U=0;U<J;U++)z[N++]=k}else z.set(b.subarray(T,T+J),N),N+=J,T+=J}const X=M;for(let Y=0;Y<X;Y++){let k=0;I[B]=z[Y+k],k+=M,I[B+1]=z[Y+k],k+=M,I[B+2]=z[Y+k],k+=M,I[B+3]=z[Y+k],B+=4}H--}return I},y=function(b,S,E,M){const I=b[S+3],B=Math.pow(2,I-128)/255;E[M+0]=b[S+0]*B,E[M+1]=b[S+1]*B,E[M+2]=b[S+2]*B,E[M+3]=1},x=function(b,S,E,M){const I=b[S+3],B=Math.pow(2,I-128)/255;E[M+0]=Zp.toHalfFloat(Math.min(b[S+0]*B,65504)),E[M+1]=Zp.toHalfFloat(Math.min(b[S+1]*B,65504)),E[M+2]=Zp.toHalfFloat(Math.min(b[S+2]*B,65504)),E[M+3]=Zp.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const _=m(g);if(_!==-1){const b=_.width,S=_.height,E=v(g.subarray(g.pos),b,S);if(E!==-1){let M,I,B;switch(this.type){case Pi:B=E.length/4;const T=new Float32Array(B*4);for(let O=0;O<B;O++)y(E,O*4,T,O*4);M=T,I=Pi;break;case hs:B=E.length/4;const P=new Uint16Array(B*4);for(let O=0;O<B;O++)x(E,O*4,P,O*4);M=P,I=hs;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:b,height:S,data:M,header:_.string,gamma:_.gamma,exposure:_.exposure,type:I}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Pi:case hs:o.encoding=Zs,o.minFilter=mn,o.magFilter=mn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const LS=new WeakMap;class Sge extends Qr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new zi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(LS.has(e)){const l=LS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),LS.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new yt;e.index&&t.setIndex(new jt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new jt(o,a))}return t}_loadLibrary(e,t){const r=new zi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Age.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Age(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,c),y=v.attributes.map(x=>x.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const x in u){const g=self[f[x]];let _,b;if(c.useUniqueIDs)b=u[x],_=a.GetAttributeByUniqueId(p,b);else{if(b=a.GetAttributeId(p,o[u[x]]),b===-1)continue;_=a.GetAttribute(p,b)}y.attributes.push(i(o,a,p,x,g,_))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),v=l.num_points()*p,y=v*u.BYTES_PER_ELEMENT,x=s(o,u),g=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,x,y,g);const _=new u(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let _y;const DS=()=>{if(_y)return _y;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const y=f.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,y,x){const g=s.exports.sbrk,_=m+3&-4,b=g(_*v),S=g(y.length),E=new Uint8Array(s.exports.memory.buffer);E.set(y,S);const M=f(b,m,v,S,y.length);if(M===0&&x&&x(b,_,v),p.set(E.subarray(b,b+m*v)),g(b-g(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _y={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[c[y]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,y,x){l(s.exports[u[y]],f,p,m,v,s.exports[c[x]])}},_y};function jV(n,e,t,r){const i=class extends bs{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=hR.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o),r&&r(this)}};return i.key=Bd.generateUUID(),i}const rk=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function di(n,e){const t=pa(i=>i.gl),r=Ga(Jg,rk(n)?Object.values(n):n);if(R.useLayoutEffect(()=>{e==null||e(r)},[e]),R.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),rk(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}di.preload=n=>Ga.preload(Jg,n);di.clear=n=>Ga.clear(Jg,n);function Ege(n){return Array.isArray(n)}function OS(n=[0,0,0]){return Ege(n)?n:n instanceof G||n instanceof ic?[n.x,n.y,n.z]:[n,n,n]}function gs({debug:n,mesh:e,children:t,position:r,rotation:i,scale:s,...o}){const a=R.useRef(null),l=R.useRef(null);return R.useLayoutEffect(()=>{const c=(e==null?void 0:e.current)||a.current.parent,u=a.current;if(!(c instanceof Jn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const f={position:new G,rotation:new ic,scale:new G(1,1,1)};if(c){ca(f,{position:r,scale:s});const p=c.matrixWorld.clone();if(c.matrixWorld.identity(),!i||typeof i=="number"){const m=new Ft;m.position.copy(f.position),m.lookAt(c.position),typeof i=="number"&&m.rotateZ(i),ca(f,{rotation:m.rotation})}else ca(f,{rotation:i});return u.geometry=new wie(c,f.position,f.rotation,f.scale),l.current&&ca(l.current,f),c.matrixWorld=p,()=>{u.geometry.dispose()}}},[e,...OS(r),...OS(s),...OS(i)]),R.createElement("mesh",{ref:a},t||R.createElement("meshStandardMaterial",Jl({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),n&&R.createElement("mesh",{ref:l},R.createElement("boxGeometry",null),R.createElement("meshNormalMaterial",{wireframe:!0}),R.createElement("axesHelper",null)))}let wy=null;function JV(n,e,t){return r=>{t&&t(r),n&&(wy||(wy=new Sge),wy.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(wy)),e&&r.setMeshoptDecoder(typeof DS=="function"?DS():DS)}}function No(n,e=!0,t=!0,r){return Ga(QR,n,JV(e,t,r))}No.preload=(n,e=!0,t=!0,r)=>Ga.preload(QR,n,JV(e,t,r));No.clear=n=>Ga.clear(QR,n);const Mge=jV({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),zM=R.forwardRef(function({children:e,disable:t,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:c,front:u,back:f,onCentered:p,precise:m=!0,...v},y){const x=R.useRef(null),g=R.useRef(null),_=R.useRef(null);return R.useLayoutEffect(()=>{g.current.matrixWorld.identity();const b=new Ss().setFromObject(_.current,m),S=new G,E=new As,M=b.max.x-b.min.x,I=b.max.y-b.min.y,B=b.max.z-b.min.z;b.getCenter(S),b.getBoundingSphere(E);const T=l?I/2:c?-I/2:0,P=o?-M/2:a?M/2:0,O=u?B/2:f?-B/2:0;g.current.position.set(t||r?0:-S.x+P,t||i?0:-S.y+T,t||s?0:-S.z+O),typeof p<"u"&&p({parent:x.current.parent,container:x.current,width:M,height:I,depth:B,boundingBox:b,boundingSphere:E,center:S,verticalAlignment:T,horizontalAlignment:P,depthAlignment:O})}),R.useImperativeHandle(y,()=>x.current,[]),R.createElement("group",Jl({ref:x},v),R.createElement("group",{ref:g},R.createElement("group",{ref:_},e)))}),kS={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Cge="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function KV({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){if(t){if(!(t in kS))throw new Error("Preset must be one of: "+Object.keys(kS).join(", "));n=kS[t],e=Cge}const s=Array.isArray(n),a=Ga(s?MG:wge,s?[n]:n,c=>{c.setPath(e),i&&i(c)}),l=s?a[0]:a;return l.mapping=s?Pa:Qd,l.encoding=r??s?Dt:Zs,l}const Tge=n=>n.current&&n.current.isScene,Rge=n=>Tge(n)?n.current:n;function dP(n,e,t,r,i=0){const s=Rge(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function hP({scene:n,background:e=!1,blur:t,map:r}){const i=pa(s=>s.scene);return R.useLayoutEffect(()=>{if(r)return dP(e,n,i,r,t)},[i,n,r,e,t]),null}function XV({background:n=!1,scene:e,blur:t,...r}){const i=KV(r),s=pa(o=>o.scene);return R.useLayoutEffect(()=>dP(n,e,s,i,t),[i,n,e,s,t]),null}function Pge({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:f=void 0,extensions:p}){const m=pa(b=>b.gl),v=pa(b=>b.scene),y=R.useRef(null),[x]=R.useState(()=>new eg),g=R.useMemo(()=>{const b=new pR(r);return b.texture.type=hs,b},[r]);R.useLayoutEffect(()=>(i===1&&y.current.update(m,x),dP(o,l,v,g.texture,a)),[n,x,g.texture,l,v,o,i,m]);let _=1;return ku(()=>{(i===1/0||_<i)&&(y.current.update(m,x),_++)}),R.createElement(R.Fragment,null,lre(R.createElement(R.Fragment,null,n,R.createElement("cubeCamera",{ref:y,args:[e,t,g]}),c||f?R.createElement(XV,{background:!0,files:c,preset:f,path:u,extensions:p}):s?R.createElement(hP,{background:!0,map:s,extensions:p}):null),x))}function Ige(n){var e,t,r,i;const s=KV(n),o=n.map||s;R.useMemo(()=>JR({GroundProjectedEnvImpl:jre}),[]);const a=R.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return R.createElement(R.Fragment,null,R.createElement(hP,Jl({},n,{map:o})),R.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function GM(n){return n.ground?R.createElement(Ige,n):n.map?R.createElement(hP,n):n.children?R.createElement(Pge,n):R.createElement(XV,n)}function Bge(n){return n.isLight}function Lge(n){return!!n.geometry}const YV=R.createContext(null),Dge=jV({color:new Oe,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),Oge=R.forwardRef(({children:n,temporal:e,frames:t=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:c=2,resolution:u=1024,toneMapped:f=!0,...p},m)=>{JR({SoftShadowMaterial:Dge});const v=pa(M=>M.gl),y=pa(M=>M.scene),x=pa(M=>M.camera),g=pa(M=>M.invalidate),_=R.useRef(null),b=R.useRef(null),[S]=R.useState(()=>new kge(v,y,u));R.useLayoutEffect(()=>{S.configure(_.current)},[]);const E=R.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?i:t),count:0,getMesh:()=>_.current,reset:()=>{S.clear();const M=_.current.material;M.opacity=0,M.alphaTest=0,E.count=0},update:(M=1)=>{const I=_.current.material;E.temporal?(I.opacity=Math.min(o,I.opacity+o/E.blend),I.alphaTest=Math.min(a,I.alphaTest+a/E.blend)):(I.opacity=o,I.alphaTest=a),b.current.visible=!0,S.prepare();for(let B=0;B<M;B++)E.lights.forEach(T=>T.update()),S.update(x,E.blend);b.current.visible=!1,S.finish()}}),[S,x,y,e,t,i,o,a]);return R.useLayoutEffect(()=>{E.reset(),!E.temporal&&E.frames!==1/0&&E.update(E.blend)}),R.useImperativeHandle(m,()=>E,[E]),ku(()=>{(E.temporal||E.frames===1/0)&&E.count<E.frames&&E.count<r&&(g(),E.update(),E.count++)}),R.createElement("group",p,R.createElement("group",{traverse:()=>null,ref:b},R.createElement(YV.Provider,{value:E},n)),R.createElement("mesh",{receiveShadow:!0,ref:_,scale:s,rotation:[-Math.PI/2,0,0]},R.createElement("planeGeometry",null),R.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:c,map:S.progressiveLightMap2.texture})))}),ik=R.forwardRef(({castShadow:n=!0,bias:e=.001,mapSize:t=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:c=8,intensity:u=1,ambient:f=.5,...p},m)=>{const v=R.useRef(null),y=new G(...a).length(),x=R.useContext(YV),g=R.useCallback(()=>{let b;if(v.current)for(let S=0;S<v.current.children.length;S++)if(b=v.current.children[S],Math.random()>f)b.position.set(a[0]+Bd.randFloatSpread(l),a[1]+Bd.randFloatSpread(l),a[2]+Bd.randFloatSpread(l));else{let E=Math.acos(2*Math.random()-1)-Math.PI/2,M=2*Math.PI*Math.random();b.position.set(Math.cos(E)*Math.cos(M)*y,Math.abs(Math.cos(E)*Math.sin(M)*y),Math.sin(E)*y)}},[l,f,y,...a]),_=R.useMemo(()=>({update:g}),[g]);return R.useImperativeHandle(m,()=>_,[_]),R.useLayoutEffect(()=>{const b=v.current;return x&&x.lights.set(b.uuid,_),()=>void x.lights.delete(b.uuid)},[x,_]),R.createElement("group",Jl({ref:v},p),Array.from({length:c},(b,S)=>R.createElement("directionalLight",{key:S,castShadow:n,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:u/c},R.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class kge{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Oe,this.clearAlpha=0;const i=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?hs:Pi;this.progressiveLightMap1=new Hi(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.progressiveLightMap2=new Hi(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.discardMat=new Mge,this.targetMat=new PR({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Lge(e)?this.meshes.push({object:e,material:e.material}):Bge(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}var ne={},Nge={get exports(){return ne},set exports(n){ne=n}},Fge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uge=Fge,Hge=Uge;function QV(){}function qV(){}qV.resetWarningCache=QV;var zge=function(){function n(r,i,s,o,a,l){if(l!==Hge){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qV,resetWarningCache:QV};return t.PropTypes=t,t};Nge.exports=zge();const Gge=Symbol(),pP=Symbol(),zp="a",_m="w";let Vge=(n,e)=>new Proxy(n,e);const VM=Object.getPrototypeOf,$M=new WeakMap,ZV=n=>n&&($M.has(n)?$M.get(n):VM(n)===Object.prototype||VM(n)===Array.prototype),qx=n=>typeof n=="object"&&n!==null,$ge=n=>{if(Array.isArray(n))return Array.from(n);const e=Object.getOwnPropertyDescriptors(n);return Object.values(e).forEach(t=>{t.configurable=!0}),Object.create(VM(n),e)},mP=n=>n[pP]||n,e6=(n,e,t,r)=>{if(!ZV(n))return n;let i=r&&r.get(n);if(!i){const l=mP(n);i=(c=>Object.values(Object.getOwnPropertyDescriptors(c)).some(u=>!u.configurable&&!u.writable))(l)?[l,$ge(l)]:[l],r==null||r.set(n,i)}const[s,o]=i;let a=t&&t.get(s);return a&&a[1].f===!!o||(a=((l,c)=>{const u={f:c};let f=!1;const p=(v,y)=>{if(!f){let x=u[zp].get(l);if(x||(x={},u[zp].set(l,x)),v===_m)x[_m]=!0;else{let g=x[v];g||(g=new Set,x[v]=g),g.add(y)}}},m={get:(v,y)=>y===pP?l:(p("k",y),e6(Reflect.get(v,y),u[zp],u.c)),has:(v,y)=>y===Gge?(f=!0,u[zp].delete(l),!0):(p("h",y),Reflect.has(v,y)),getOwnPropertyDescriptor:(v,y)=>(p("o",y),Reflect.getOwnPropertyDescriptor(v,y)),ownKeys:v=>(p(_m),Reflect.ownKeys(v))};return c&&(m.set=m.deleteProperty=()=>!1),[m,u]})(s,!!o),a[1].p=Vge(o||s,a[0]),t&&t.set(s,a)),a[1][zp]=e,a[1].c=t,a[1].p},t6=(n,e,t,r)=>{if(Object.is(n,e))return!1;if(!qx(n)||!qx(e))return!0;const i=t.get(mP(n));if(!i)return!0;if(r){const o=r.get(n);if(o&&o.n===e)return o.g;r.set(n,{n:e,g:!1})}let s=null;try{for(const o of i.h||[])if(s=Reflect.has(n,o)!==Reflect.has(e,o),s)return s;if(i[_m]===!0){if(s=((o,a)=>{const l=Reflect.ownKeys(o),c=Reflect.ownKeys(a);return l.length!==c.length||l.some((u,f)=>u!==c[f])})(n,e),s)return s}else for(const o of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(n,o)!=!!Reflect.getOwnPropertyDescriptor(e,o),s)return s;for(const o of i.k||[])if(s=t6(n[o],e[o],t,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(n,{n:e,g:s})}},Wge=n=>ZV(n)&&n[pP]||null,sk=(n,e=!0)=>{$M.set(n,e)},jge=(n,e,t)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;qx(o)&&i.add(o);const l=qx(o)&&e.get(mP(o));if(l){var c,u;if((c=l.h)==null||c.forEach(p=>{const m=`:has(${String(p)})`;r.push(a?[...a,m]:[m])}),l[_m]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else{var f;(f=l.o)==null||f.forEach(p=>{const m=`:hasOwn(${String(p)})`;r.push(a?[...a,m]:[m])})}(u=l.k)==null||u.forEach(p=>{t&&!("value"in(Object.getOwnPropertyDescriptor(o,p)||{}))||s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(n),r},NS=n=>typeof n=="object"&&n!==null,ml=new WeakMap,Sy=new WeakSet,Jge=(n=Object.is,e=(c,u)=>new Proxy(c,u),t=c=>NS(c)&&!Sy.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),r=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,u,f=r)=>{const p=i.get(c);if((p==null?void 0:p[0])===u)return p[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return sk(m,!0),i.set(c,[u,m]),Reflect.ownKeys(c).forEach(v=>{if(Object.getOwnPropertyDescriptor(m,v))return;const y=Reflect.get(c,v),x={value:y,enumerable:!0,configurable:!0};if(Sy.has(y))sk(y,!1);else if(y instanceof Promise)delete x.value,x.get=()=>f(y);else if(ml.has(y)){const[g,_]=ml.get(y);x.value=s(g,_(),f)}Object.defineProperty(m,v,x)}),m},o=new WeakMap,a=[1,1],l=c=>{if(!NS(c))throw new Error("object required");const u=o.get(c);if(u)return u;let f=a[0];const p=new Set,m=(T,P=++a[0])=>{f!==P&&(f=P,p.forEach(O=>O(T,P)))};let v=a[1];const y=(T=++a[1])=>(v!==T&&!p.size&&(v=T,g.forEach(([P])=>{const O=P[1](T);O>f&&(f=O)})),f),x=T=>(P,O)=>{const z=[...P];z[1]=[T,...z[1]],m(z,O)},g=new Map,_=(T,P)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&g.has(T))throw new Error("prop listener already exists");if(p.size){const O=P[3](x(T));g.set(T,[P,O])}else g.set(T,[P])},b=T=>{var P;const O=g.get(T);O&&(g.delete(T),(P=O[1])==null||P.call(O))},S=T=>(p.add(T),p.size===1&&g.forEach(([O,z],H)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&z)throw new Error("remove already exists");const N=O[3](x(H));g.set(H,[O,N])}),()=>{p.delete(T),p.size===0&&g.forEach(([O,z],H)=>{z&&(z(),g.set(H,[O]))})}),E=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),I=e(E,{deleteProperty(T,P){const O=Reflect.get(T,P);b(P);const z=Reflect.deleteProperty(T,P);return z&&m(["delete",[P],O]),z},set(T,P,O,z){const H=Reflect.has(T,P),N=Reflect.get(T,P,z);if(H&&(n(N,O)||o.has(O)&&n(N,o.get(O))))return!0;b(P),NS(O)&&(O=Wge(O)||O);let J=O;if(O instanceof Promise)O.then(X=>{O.status="fulfilled",O.value=X,m(["resolve",[P],X])}).catch(X=>{O.status="rejected",O.reason=X,m(["reject",[P],X])});else{!ml.has(O)&&t(O)&&(J=l(O));const X=!Sy.has(J)&&ml.get(J);X&&_(P,X)}return Reflect.set(T,P,J,z),m(["set",[P],O,N]),!0}});o.set(c,I);const B=[E,y,s,S];return ml.set(I,B),Reflect.ownKeys(c).forEach(T=>{const P=Object.getOwnPropertyDescriptor(c,T);"value"in P&&(I[T]=c[T],delete P.value,delete P.writable),Object.defineProperty(E,T,P)}),I})=>[l,ml,Sy,n,e,t,r,i,s,o,a],[Kge]=Jge();function Xge(n={}){return Kge(n)}function Yge(n,e,t){const r=ml.get(n);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const c=o(u=>{if(s.push(u),t){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function ok(n,e){const t=ml.get(n);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!t&&console.warn("Please use proxy object");const[r,i,s]=t;return s(r,i(),e)}var Zx={},Qge={get exports(){return Zx},set exports(n){Zx=n}},n6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh=R;function qge(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zge=typeof Object.is=="function"?Object.is:qge,e0e=uh.useState,t0e=uh.useEffect,n0e=uh.useLayoutEffect,r0e=uh.useDebugValue;function i0e(n,e){var t=e(),r=e0e({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return n0e(function(){i.value=t,i.getSnapshot=e,FS(i)&&s({inst:i})},[n,t,e]),t0e(function(){return FS(i)&&s({inst:i}),n(function(){FS(i)&&s({inst:i})})},[n]),r0e(t),t}function FS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zge(n,t)}catch{return!0}}function s0e(n,e){return e()}var o0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s0e:i0e;n6.useSyncExternalStore=uh.useSyncExternalStore!==void 0?uh.useSyncExternalStore:o0e;(function(n){n.exports=n6})(Qge);const a0e=U1(Zx),{use:ak}=D,{useSyncExternalStore:l0e}=a0e,c0e=(n,e)=>{const t=R.useRef();R.useEffect(()=>{t.current=jge(n,e,!0)}),R.useDebugValue(t.current)},u0e=new WeakMap;function mi(n,e){const t=e==null?void 0:e.sync,r=R.useRef(),i=R.useRef();let s=!0;const o=l0e(R.useCallback(c=>{const u=Yge(n,c,t);return c(),u},[n,t]),()=>{const c=ok(n,ak);try{if(!s&&r.current&&i.current&&!t6(r.current,c,i.current,new WeakMap))return r.current}catch{}return c},()=>ok(n,ak));s=!1;const a=new WeakMap;R.useEffect(()=>{r.current=o,i.current=a}),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&c0e(o,a);const l=R.useMemo(()=>new WeakMap,[]);return e6(o,a,l,u0e)}const mt=Xge({intro:!0,color:{shirt:"#cac8c2",tsports:"#0C0A00",hoodie:"#2c2c2c",jeans:"#FFFFFF"},selectedApparel:"shirt",isLogoTexture:!1,isFullTexture:!1,isBaseTexture:!0,logoDecal:"./kalkinso.png",fullDecal:"./shiv.png",baseDecal:"./kalkinso.png"}),WM=()=>{const n=mi(mt),{nodes:e,materials:t}=No("/shirt_baked.glb"),r=di(n.logoDecal),i=di(n.fullDecal),s=di(n.baseDecal);ku((a,l)=>Xg.dampC(t.lambert1.color,n.color.shirt,.15,l));const o=JSON.stringify(n);return K("group",{children:tt("mesh",{castShadow:!0,geometry:e.T_Shirt_male.geometry,material:t.lambert1,"material-roughness":1,dispose:null,children:[n.isBaseTexture&&K(gs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.23,map:s,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),n.isFullTexture&&K(gs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:i}),n.isLogoTexture&&K(gs,{position:[.07,.09,.1],rotation:[0,0,0],scale:.07,map:r,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]})},o)},f0e=()=>{const n=R.useRef();return tt(Oge,{ref:n,temporal:!0,framers:60,alphaTest:.85,scale:10,rotation:[Math.PI/2,0,0],position:[0,0,-.14],children:[K(ik,{amount:4,radius:9,intensity:.55,ambient:.25,position:[5,5,-10]}),K(ik,{amount:4,radius:5,intensity:.25,ambient:.55,position:[5,5,-90]})]})},jM=({children:n,defaultPosition:e=[-.4,0,2]})=>{const t=R.useRef(),r=mi(mt);return ku((i,s)=>{const o=window.innerWidth<=1260,a=window.innerWidth<=600;let l=e;r.intro?(o&&(l=[0,0,2]),a&&(l=[0,.2,2.5])):a?l=[0,.2,2.5]:l=[0,0,2],Xg.damp3(i.camera.position,l,.25,s)}),K("group",{ref:t,children:n})};function d0e(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}const h0e=H4["useInsertionEffect"],p0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m0e=p0e?R.useLayoutEffect:R.useEffect,g0e=h0e||m0e,r6=n=>{const e=R.useRef([n,(...t)=>e[0](...t)]).current;return g0e(()=>{e[0]=n}),e[1]},v0e="popstate",gP="pushState",vP="replaceState",y0e="hashchange",lk=[v0e,gP,vP,y0e],x0e=n=>{for(const e of lk)addEventListener(e,n);return()=>{for(const e of lk)removeEventListener(e,n)}},i6=(n,e)=>Zx.useSyncExternalStore(x0e,n,e),b0e=()=>location.search,_0e=({ssrSearch:n=""}={})=>i6(b0e,()=>n),ck=()=>location.pathname,w0e=({ssrPath:n}={})=>i6(ck,n?()=>n:ck),S0e=(n,{replace:e=!1,state:t=null}={})=>history[e?vP:gP](t,"",n),A0e=(n={})=>[w0e(n),S0e],uk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[uk]>"u"){for(const n of[gP,vP]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,uk,{value:!0})}const E0e=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",s6=(n="")=>n==="/"?"":n,M0e=(n,e)=>n[0]==="~"?n.slice(1):s6(e)+n,C0e=(n="",e)=>E0e(fk(s6(n)),fk(e)),fk=n=>{try{return decodeURI(n)}catch{return n}},T0e={hook:A0e,searchHook:_0e,parser:d0e,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},R0e=R.createContext(T0e),P0e=()=>R.useContext(R0e),I0e={};R.createContext(I0e);const B0e=n=>{const[e,t]=n.hook(n);return[C0e(n.base,e),r6((r,i)=>t(M0e(r,n.base),i))]};R.forwardRef((n,e)=>{const t=P0e(),[r,i]=B0e(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:f,state:p,...m}=n,v=r6(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,n)))}),y=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&R.isValidElement(c)?R.cloneElement(c,{onClick:v,href:y}):R.createElement("a",{...m,onClick:v,href:y,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});No.preload("/t-shirt-sports-transformed.glb");No.preload("/jeans-transformed.glb");function o6(n){const e=mi(mt),{nodes:t,materials:r}=No("/hoodie.glb"),i=di(e.logoDecal),s=di(e.fullDecal),o=di(e.baseDecal);ku((l,c)=>{Xg.dampC(t.mesh_0.material.color,e.color.hoodie,.1,c)});const a=JSON.stringify(e);return R.createElement("group",{...n,dispose:null,key:a},tt("mesh",{castShadow:!0,"material-roughness":1,geometry:t.mesh_0.geometry,material:t.mesh_0.material,dispose:null,scale:.7,children:[e.isBaseTexture&&K(gs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.4,map:o,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),e.isFullTexture&&K(gs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:s}),e.isLogoTexture&&K(gs,{position:[.11,.18,.1],rotation:[0,0,0],scale:.15,map:i,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]}))}No.preload("/hoodie.glb");var st={};try{({}).CARBON_ENABLE_CSS_CUSTOM_PROPERTIES&&{}.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES==="true"?st.enableCssCustomProperties=!0:st.enableCssCustomProperties=!1,{}.CARBON_ENABLE_CSS_GRID&&{}.CARBON_ENABLE_CSS_GRID==="true"?st.enableCssGrid=!0:st.enableCssGrid=!1,{}.CARBON_ENABLE_V11_RELEASE?{}.CARBON_ENABLE_V11_RELEASE==="true"?st.enableV11Release=!0:st.enableV11Release=!1:st.enableV11Release=!0,{}.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST&&{}.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST==="true"?st.enableExperimentalTileContrast=!0:st.enableExperimentalTileContrast=!1,{}.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS&&{}.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS==="true"?st.enableV12TileDefaultIcons=!0:st.enableV12TileDefaultIcons=!1,{}.CARBON_ENABLE_V12_TILE_RADIO_ICONS&&{}.CARBON_ENABLE_V12_TILE_RADIO_ICONS==="true"?st.enableV12TileRadioIcons=!0:st.enableV12TileRadioIcons=!1,{}.CARBON_ENABLE_V12_OVERFLOWMENU&&{}.CARBON_ENABLE_V12_OVERFLOWMENU==="true"?st.enableV12Overflowmenu=!0:st.enableV12Overflowmenu=!1,{}.CARBON_ENABLE_TREEVIEW_CONTROLLABLE&&{}.CARBON_ENABLE_TREEVIEW_CONTROLLABLE==="true"?st.enableTreeviewControllable=!0:st.enableTreeviewControllable=!1,{}.CARBON_ENABLE_V12_STRUCTURED_LIST_VISIBLE_ICONS&&{}.CARBON_ENABLE_V12_STRUCTURED_LIST_VISIBLE_ICONS==="true"?st.enableV12StructuredListVisibleIcons=!0:st.enableV12StructuredListVisibleIcons=!1,{}.CARBON_ENABLE_EXPERIMENTAL_FOCUS_WRAP_WITHOUT_SENTINELS&&{}.CARBON_ENABLE_EXPERIMENTAL_FOCUS_WRAP_WITHOUT_SENTINELS==="true"?st.enableExperimentalFocusWrapWithoutSentinels=!0:st.enableExperimentalFocusWrapWithoutSentinels=!1,{}.CARBON_ENABLE_V12_DYNAMIC_FLOATING_STYLES&&{}.CARBON_ENABLE_V12_DYNAMIC_FLOATING_STYLES==="true"?st.enableV12DynamicFloatingStyles=!0:st.enableV12DynamicFloatingStyles=!1}catch{st.enableCssCustomProperties=!1,st.enableCssGrid=!1,st.enableV11Release=!0,st.enableExperimentalTileContrast=!1,st.enableV12TileDefaultIcons=!1,st.enableV12TileRadioIcons=!1,st.enableV12Overflowmenu=!1,st.enableTreeviewControllable=!1,st.enableV12StructuredListVisibleIcons=!1,st.enableExperimentalFocusWrapWithoutSentinels=!1,st.enableV12DynamicFloatingStyles=!1}var dk=[{name:"enable-css-custom-properties",description:"Describe what the flag does",enabled:st.enableCssCustomProperties},{name:"enable-css-grid",description:`Enable CSS Grid Layout in the Grid and Column React components
`,enabled:st.enableCssGrid},{name:"enable-v11-release",description:`Enable the features and functionality for the v11 Release
`,enabled:st.enableV11Release},{name:"enable-experimental-tile-contrast",description:`Enable the experimental tile improved contrast styles
`,enabled:st.enableExperimentalTileContrast},{name:"enable-v12-tile-default-icons",description:`Enable rendering of default icons in the tile components
`,enabled:st.enableV12TileDefaultIcons},{name:"enable-v12-tile-radio-icons",description:`Enable rendering of radio icons in the RadioTile component
`,enabled:st.enableV12TileRadioIcons},{name:"enable-v12-overflowmenu",description:`Enable the use of the v12 OverflowMenu leveraging the Menu subcomponents
`,enabled:st.enableV12Overflowmenu},{name:"enable-treeview-controllable",description:`Enable the new TreeView controllable API
`,enabled:st.enableTreeviewControllable},{name:"enable-v12-structured-list-visible-icons",description:`Enable rendering of radio icons in the StructuredList component
`,enabled:st.enableV12StructuredListVisibleIcons},{name:"enable-experimental-focus-wrap-without-sentinels",description:`Enable the new focus wrap behavior that doesn't use sentinel nodes
`,enabled:st.enableExperimentalFocusWrapWithoutSentinels},{name:"enable-v12-dynamic-floating-styles",description:`Enable dynamic setting of floating styles for components like Popover, Tooltip, etc.
`,enabled:st.enableV12DynamicFloatingStyles}];function hk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function L0e(n){if(Array.isArray(n))return n}function D0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,z0e(r.key),r)}}function O0e(n,e,t){return e&&pk(n.prototype,e),t&&pk(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function k0e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=a6(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function N0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function F0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(n,e){return L0e(n)||N0e(n,e)||a6(n,e)||F0e()}function H0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function z0e(n){var e=H0e(n,"string");return typeof e=="symbol"?e:e+""}function a6(n,e){if(n){if(typeof n=="string")return hk(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hk(n,e):void 0}}var G0e=function(){function n(e){var t=this;D0e(this,n),this.flags=new Map,e&&Object.keys(e).forEach(function(r){t.flags.set(r,e[r])})}return O0e(n,[{key:"checkForFlag",value:function(t){if(!this.flags.has(t))throw new Error("Unable to find a feature flag with the name: `".concat(t,"`"))}},{key:"add",value:function(t,r){if(this.flags.has(t))throw new Error("The feature flag: ".concat(t," already exists"));this.flags.set(t,r)}},{key:"enable",value:function(t){this.checkForFlag(t),this.flags.set(t,!0)}},{key:"disable",value:function(t){this.checkForFlag(t),this.flags.set(t,!1)}},{key:"merge",value:function(t){var r=this;Object.keys(t).forEach(function(i){r.flags.set(i,t[i])})}},{key:"mergeWithScope",value:function(t){var r=k0e(t.flags),i;try{for(r.s();!(i=r.n()).done;){var s=U0e(i.value,2),o=s[0],a=s[1];this.flags.has(o)||this.flags.set(o,a)}}catch(l){r.e(l)}finally{r.f()}}},{key:"enabled",value:function(t){return this.checkForFlag(t),this.flags.get(t)}}])}(),JM=V0e();for(var US=0;US<dk.length;US++){var mk=dk[US];JM.add(mk.name,mk.enabled)}function V0e(n){return new G0e(n)}function $0e(){return JM.merge.apply(JM,arguments)}$0e({"enable-css-custom-properties":!0,"enable-css-grid":!0,"enable-v11-release":!0,"enable-experimental-tile-contrast":!1,"enable-v12-tile-radio-icons":!1,"enable-v12-structured-list-visible-icons":!1,"enable-v12-dynamic-floating-styles":!1});function Gi(){return Gi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gi.apply(null,arguments)}var KM={},W0e={get exports(){return KM},set exports(n){KM=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(W0e);const Bo=KM,j0e=D.createContext("cds");function Fo(){return D.useContext(j0e)}function J0e(n,e,t){return(e=Y0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(t),!0).forEach(function(r){J0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vk(n,e){if(n==null)return{};var t,r,i=K0e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function K0e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function X0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Y0e(n){var e=X0e(n,"string");return typeof e=="symbol"?e:e+""}var Q0e=["width","height","viewBox"],q0e=["tabindex"],Z0e={focusable:"false",preserveAspectRatio:"xMidYMid meet"};function eve(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.width,t=n.height,r=n.viewBox,i=r===void 0?"0 0 ".concat(e," ").concat(t):r,s=vk(n,Q0e),o=s.tabindex,a=vk(s,q0e),l=HS(HS(HS({},Z0e),a),{},{width:e,height:t,viewBox:i});return l["aria-label"]||l["aria-labelledby"]||l.title?(l.role="img",o!=null&&(l.focusable="true",l.tabindex=o)):l["aria-hidden"]=!0,l}const vs=D.forwardRef(function(e,t){let{className:r,children:i,tabIndex:s,xmlns:o="http://www.w3.org/2000/svg",preserveAspectRatio:a="xMidYMid meet",...l}=e;const{tabindex:c,...u}=eve({...l,tabindex:s}),f=u;return r&&(f.className=r),c!=null&&(typeof c=="number"?f.tabIndex=c:f.tabIndex=Number(s)),t&&(f.ref=t),o&&(f.xmlns=o),a&&(f.preserveAspectRatio=a),D.createElement("svg",f,i)});vs.displayName="Icon";vs.propTypes={"aria-hidden":ne.oneOfType([ne.bool,ne.oneOf(["true","false"])]),"aria-label":ne.string,"aria-labelledby":ne.string,children:ne.node,className:ne.string,height:ne.oneOfType([ne.number,ne.string]),preserveAspectRatio:ne.string,tabIndex:ne.oneOfType([ne.number,ne.string]),viewBox:ne.string,width:ne.oneOfType([ne.number,ne.string]),xmlns:ne.string};var yk,xk,bk,_k,wk,Sk,Ak,Ek;const tve=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i==="glyph"||i==="glyph"||i==="glyphpx"?D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 8",fill:"currentColor",...s},yk||(yk=D.createElement("path",{d:"M5 8L0 4 5 0z"})),r):D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},xk||(xk=D.createElement("path",{d:"M20 24L10 16 20 8z"})),r)}),nve=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i==="glyph"||i==="glyph"||i==="glyphpx"?D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 8",fill:"currentColor",...s},bk||(bk=D.createElement("path",{d:"M0 0L5 4 0 8z"})),r):D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},_k||(_k=D.createElement("path",{d:"M12 8L22 16 12 24z"})),r)}),l6=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i===20||i==="20"||i==="20px"?D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...s},wk||(wk=D.createElement("path",{d:"M8 13.2L3.6 8.8 2.7 9.7 7.1 14.1 8 15 16.5 6.5 15.6 5.6z"})),Sk||(Sk=D.createElement("path",{d:"M15.6 5.6L8 13.2 3.6 8.8 2.7 9.7 7.1 14.1 8 15 16.5 6.5 15.6 5.6z"})),r):i===24||i==="24"||i==="24px"?D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...s},Ak||(Ak=D.createElement("path",{d:"M10 15.9L4.7 10.6 3.6 11.6 8.9 16.9 10 18 20.6 7.4 19.5 6.3z"})),r):D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Ek||(Ek=D.createElement("path",{d:"M13 24L4 15 5.414 13.586 13 21.171 26.586 7.586 28 9 13 24z"})),r)});var Mk;const rve=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Mk||(Mk=D.createElement("path",{d:"M17.4141 16L24 9.4141 22.5859 8 16 14.5859 9.4143 8 8 9.4141 14.5859 16 8 22.5859 9.4143 24 16 17.4141 22.5859 24 24 22.5859 17.4141 16z"})),r)});var Ck,Tk;const ive=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i===16||i==="16"||i==="16px"?D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...s},Ck||(Ck=D.createElement("path",{d:"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5 C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"})),r):D.createElement(vs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Tk||(Tk=D.createElement("path",{d:"M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"})),r)}),Rk=R.createContext(null),c6=D.forwardRef(function(e,t){let{as:r,children:i,dir:s="auto",...o}=e;const a=R.useContext(Rk),l={},c=r??"span",u={...a};if(!a)l.dir=s,u.direction=s;else{const{direction:f,getTextDirection:p}=a;if(p&&p.current){const m=sve(i),v=p.current(m);f!==v?(l.dir=v,u.direction=v):f==="auto"&&(l.dir=v)}else f!==s?(l.dir=s,u.direction=s):f==="auto"&&(l.dir=s)}return D.createElement(Rk.Provider,{value:u},D.createElement(c,Gi({ref:t},o,l),i))});c6.propTypes={as:ne.oneOfType([ne.func,ne.string,ne.elementType]),children:ne.node.isRequired,dir:ne.oneOf(["ltr","rtl","auto"])};function sve(n){var t;if(typeof n=="string")return n;const e=(t=D.Children.map(n,r=>typeof r=="string"?r:null))==null?void 0:t.filter(r=>r!==null);return(e==null?void 0:e.length)===1?e[0]:e}function ove(){let n=0;return function(){return++n}}const u6=!!(typeof window<"u"&&window.document&&window.document.createElement),ave=D.createContext(null);function f6(){return D.useContext(ave)}const d6={...D},zS=ove(),lve=u6?R.useLayoutEffect:R.useEffect;let GS=!1;const h6="id";function cve(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h6;const e=f6(),[t,r]=R.useState(()=>GS?`${e?`${e}-`:""}${n}-${zS()}`:null);return lve(()=>{t===null&&r(`${e?`${e}-`:""}${n}-${zS()}`)},[zS]),R.useEffect(()=>{GS===!1&&(GS=!0)},[]),t}function uve(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h6;const e=f6();return`${e?`${e}-`:""}${n}-${d6.useId()}`}const fve=d6.useId?uve:cve,Ay={};function dve(n,e){function t(r,i,s){if(r[i]!==void 0){(!Ay[s]||!Ay[s][i])&&(Ay[s]={...Ay[s],[i]:!0});for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return n(r,i,s,...a)}}return t}function $s(n){let{key:e,which:t,keyCode:r,code:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof n=="string"?n===e:typeof n=="number"?n===t||n===r:n.key&&Array.isArray(e)?e.indexOf(n.key)!==-1:n.key===e||n.which===t||n.keyCode===r||n.code===i}const p6={key:"Enter",which:13,keyCode:13,code:"Enter"},yP={key:["Escape","Esc"],which:27,keyCode:27,code:"Esc"},m6={key:" ",which:32,keyCode:32,code:"Space"},hve={key:"ArrowLeft",which:37,keyCode:37,code:"ArrowLeft"},pve={key:"ArrowUp",which:38,keyCode:38,code:"ArrowUp"},mve={key:"ArrowRight",which:39,keyCode:39,code:"ArrowRight"},gve={key:"ArrowDown",which:40,keyCode:40,code:"ArrowDown"},xP=n=>R.useCallback(e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n);function Cb(){return typeof window<"u"}function ac(n){return g6(n)?(n.nodeName||"").toLowerCase():"#document"}function Ni(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(n){var e;return(e=(g6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function g6(n){return Cb()?n instanceof Node||n instanceof Ni(n).Node:!1}function dr(n){return Cb()?n instanceof Element||n instanceof Ni(n).Element:!1}function Or(n){return Cb()?n instanceof HTMLElement||n instanceof Ni(n).HTMLElement:!1}function XM(n){return!Cb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ni(n).ShadowRoot}function qg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=eo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function vve(n){return["table","td","th"].includes(ac(n))}function Tb(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function bP(n){const e=_P(),t=dr(n)?eo(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function yve(n){let e=Kl(n);for(;Or(e)&&!fh(e);){if(bP(e))return e;if(Tb(e))return null;e=Kl(e)}return null}function _P(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fh(n){return["html","body","#document"].includes(ac(n))}function eo(n){return Ni(n).getComputedStyle(n)}function Rb(n){return dr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Kl(n){if(ac(n)==="html")return n;const e=n.assignedSlot||n.parentNode||XM(n)&&n.host||Uo(n);return XM(e)?e.host:e}function v6(n){const e=Kl(n);return fh(e)?n.ownerDocument?n.ownerDocument.body:n.body:Or(e)&&qg(e)?e:v6(e)}function cg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=v6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ni(i);if(s){const a=YM(o);return e.concat(o,o.visualViewport||[],qg(i)?i:[],a&&t?cg(a):[])}return e.concat(i,cg(i,[],t))}function YM(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kc(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Vr(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&XM(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function xve(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function y6(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function bve(n){return n.mozInputSource===0&&n.isTrusted?!0:QM()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function _ve(n){return Sve()?!1:!QM()&&n.width===0&&n.height===0||QM()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function wve(){return/apple/i.test(navigator.vendor)}function QM(){const n=/android/i;return n.test(xve())||n.test(y6())}function Sve(){return y6().includes("jsdom/")}function qM(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}function Ti(n){return(n==null?void 0:n.ownerDocument)||document}function ZM(n){return"composedPath"in n?n.composedPath()[0]:n.target}const Ave="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Eve(n){return Or(n)&&n.matches(Ave)}function VS(n){n.preventDefault(),n.stopPropagation()}function Mve(n){return n?n.getAttribute("role")==="combobox"&&Eve(n):!1}const eC=Math.min,kd=Math.max,e1=Math.round,Ey=Math.floor,Ao=n=>({x:n,y:n});function Cve(n,e){return typeof n=="function"?n(e):n}function wP(n){return n.split("-")[0]}function x6(n){return n.split("-")[1]}function Tve(n){return n==="x"?"y":"x"}function Rve(n){return n==="y"?"height":"width"}function SP(n){return["top","bottom"].includes(wP(n))?"y":"x"}function Pve(n){return Tve(SP(n))}function b6(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ive=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],t1=Ive.join(","),_6=typeof Element>"u",dh=_6?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,n1=!_6&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},r1=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},Bve=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Lve=function(e,t,r){if(r1(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(t1));return t&&dh.call(e,t1)&&i.unshift(e),i=i.filter(r),i},Dve=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!r1(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=n(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var u=dh.call(o,t1);u&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!r1(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&p){var m=n(f===!0?o.children:f.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},w6=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},S6=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Bve(e))&&!w6(e)?0:e.tabIndex},Ove=function(e,t){var r=S6(e);return r<0&&t&&!w6(e)?0:r},kve=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},A6=function(e){return e.tagName==="INPUT"},Nve=function(e){return A6(e)&&e.type==="hidden"},Fve=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Uve=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Hve=function(e){if(!e.name)return!0;var t=e.form||n1(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Uve(i,e.form);return!s||s===e},zve=function(e){return A6(e)&&e.type==="radio"},Gve=function(e){return zve(e)&&!Hve(e)},Vve=function(e){var t,r=e&&n1(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var c,u,f;r=n1(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((u=i)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return s},Pk=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},$ve=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=dh.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(dh.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=n1(e);if(l&&!l.shadowRoot&&i(l)===!0)return Pk(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(Vve(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Pk(e);return!1},Wve=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return dh.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},jve=function(e,t){return!(t.disabled||r1(t)||Nve(t)||$ve(t,e)||Fve(t)||Wve(t))},tC=function(e,t){return!(Gve(t)||S6(t)<0||!jve(e,t))},Jve=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Kve=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=Ove(a,o),c=o?n(i.candidates):a;l===0?o?t.push.apply(t,c):t.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(kve).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},AP=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Dve([e],t.includeContainer,{filter:tC.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Jve}):r=Lve(e,t.includeContainer,tC.bind(null,t)),Kve(r)},Xve=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return dh.call(e,t1)===!1?!1:tC(t,e)};function Ik(n,e,t){let{reference:r,floating:i}=n;const s=SP(e),o=Pve(e),a=Rve(o),l=wP(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(x6(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const Yve=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=Ik(c,r,l),p=r,m={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:g}=a[y],{x:_,y:b,data:S,reset:E}=await g({x:u,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,f=b??f,m={...m,[x]:{...m[x],...S}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):E.rects),{x:u,y:f}=Ik(c,p,l)),y=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:m}};async function Qve(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=wP(t),a=x6(t),l=SP(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Cve(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const qve=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Qve(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function E6(n){const e=eo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Or(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=e1(t)!==s||e1(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function EP(n){return dr(n)?n:n.contextElement}function Nd(n){const e=EP(n);if(!Or(e))return Ao(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=E6(e);let o=(s?e1(t.width):t.width)/r,a=(s?e1(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Zve=Ao(0);function M6(n){const e=Ni(n);return!_P()||!e.visualViewport?Zve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eye(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ni(n)?!1:e}function Su(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=EP(n);let o=Ao(1);e&&(r?dr(r)&&(o=Nd(r)):o=Nd(n));const a=eye(s,t,r)?M6(s):Ao(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const p=Ni(s),m=r&&dr(r)?Ni(r):r;let v=p,y=YM(v);for(;y&&r&&m!==v;){const x=Nd(y),g=y.getBoundingClientRect(),_=eo(y),b=g.left+(y.clientLeft+parseFloat(_.paddingLeft))*x.x,S=g.top+(y.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=b,c+=S,v=Ni(y),y=YM(v)}}return b6({width:u,height:f,x:l,y:c})}function MP(n,e){const t=Rb(n).scrollLeft;return e?e.left+t:Su(Uo(n)).left+t}function C6(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:MP(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function tye(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Uo(r),a=e?Tb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Ao(1);const u=Ao(0),f=Or(r);if((f||!f&&!s)&&((ac(r)!=="body"||qg(o))&&(l=Rb(r)),Or(r))){const m=Su(r);c=Nd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!s?C6(o,l,!0):Ao(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function nye(n){return Array.from(n.getClientRects())}function rye(n){const e=Uo(n),t=Rb(n),r=n.ownerDocument.body,i=kd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=kd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+MP(n);const a=-t.scrollTop;return eo(r).direction==="rtl"&&(o+=kd(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function iye(n,e){const t=Ni(n),r=Uo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=_P();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function sye(n,e){const t=Su(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Or(n)?Nd(n):Ao(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Bk(n,e,t){let r;if(e==="viewport")r=iye(n,t);else if(e==="document")r=rye(Uo(n));else if(dr(e))r=sye(e,t);else{const i=M6(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return b6(r)}function T6(n,e){const t=Kl(n);return t===e||!dr(t)||fh(t)?!1:eo(t).position==="fixed"||T6(t,e)}function oye(n,e){const t=e.get(n);if(t)return t;let r=cg(n,[],!1).filter(a=>dr(a)&&ac(a)!=="body"),i=null;const s=eo(n).position==="fixed";let o=s?Kl(n):n;for(;dr(o)&&!fh(o);){const a=eo(o),l=bP(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qg(o)&&!l&&T6(n,o))?r=r.filter(u=>u!==o):i=a,o=Kl(o)}return e.set(n,r),r}function aye(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Tb(e)?[]:oye(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=Bk(e,u,i);return c.top=kd(f.top,c.top),c.right=eC(f.right,c.right),c.bottom=eC(f.bottom,c.bottom),c.left=kd(f.left,c.left),c},Bk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lye(n){const{width:e,height:t}=E6(n);return{width:e,height:t}}function cye(n,e,t){const r=Or(e),i=Uo(e),s=t==="fixed",o=Su(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ao(0);if(r||!r&&!s)if((ac(e)!=="body"||qg(i))&&(a=Rb(e)),r){const p=Su(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=MP(i));const c=i&&!r&&!s?C6(i,a):Ao(0),u=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:u,y:f,width:o.width,height:o.height}}function $S(n){return eo(n).position==="static"}function Lk(n,e){if(!Or(n)||eo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Uo(n)===t&&(t=t.ownerDocument.body),t}function R6(n,e){const t=Ni(n);if(Tb(n))return t;if(!Or(n)){let i=Kl(n);for(;i&&!fh(i);){if(dr(i)&&!$S(i))return i;i=Kl(i)}return t}let r=Lk(n,e);for(;r&&vve(r)&&$S(r);)r=Lk(r,e);return r&&fh(r)&&$S(r)&&!bP(r)?t:r||yve(n)||t}const uye=async function(n){const e=this.getOffsetParent||R6,t=this.getDimensions,r=await t(n.floating);return{reference:cye(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fye(n){return eo(n).direction==="rtl"}const dye={convertOffsetParentRelativeRectToViewportRelativeRect:tye,getDocumentElement:Uo,getClippingRect:aye,getOffsetParent:R6,getElementRects:uye,getClientRects:nye,getDimensions:lye,getScale:Nd,isElement:dr,isRTL:fye};function hye(n,e){let t=null,r;const i=Uo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:p}=n.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Ey(u),v=Ey(i.clientWidth-(c+f)),y=Ey(i.clientHeight-(u+p)),x=Ey(c),_={rootMargin:-m+"px "+-v+"px "+-y+"px "+-x+"px",threshold:kd(0,eC(1,l))||1};let b=!0;function S(E){const M=E[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(S,_)}t.observe(n)}return o(!0),s}function pye(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=EP(n),u=i||s?[...c?cg(c):[],...cg(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const f=c&&a?hye(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,y=l?Su(n):null;l&&x();function x(){const g=Su(n);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&t(),y=g,v=requestAnimationFrame(x)}return t(),()=>{var g;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const mye=qve,gye=(n,e,t)=>{const r=new Map,i={platform:dye,...t},s={...i.platform,_c:r};return Yve(n,e,{...i,platform:s})};var cx=typeof document<"u"?R.useLayoutEffect:R.useEffect;function i1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!i1(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!i1(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function P6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Dk(n,e){const t=P6(n);return Math.round(e*t)/t}function WS(n){const e=R.useRef(n);return cx(()=>{e.current=n}),e}function vye(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=R.useState(r);i1(p,r)||m(r);const[v,y]=R.useState(null),[x,g]=R.useState(null),_=R.useCallback(k=>{k!==M.current&&(M.current=k,y(k))},[]),b=R.useCallback(k=>{k!==I.current&&(I.current=k,g(k))},[]),S=s||v,E=o||x,M=R.useRef(null),I=R.useRef(null),B=R.useRef(u),T=l!=null,P=WS(l),O=WS(i),z=WS(c),H=R.useCallback(()=>{if(!M.current||!I.current)return;const k={placement:e,strategy:t,middleware:p};O.current&&(k.platform=O.current),gye(M.current,I.current,k).then(U=>{const V={...U,isPositioned:z.current!==!1};N.current&&!i1(B.current,V)&&(B.current=V,Im.flushSync(()=>{f(V)}))})},[p,e,t,O,z]);cx(()=>{c===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[c]);const N=R.useRef(!1);cx(()=>(N.current=!0,()=>{N.current=!1}),[]),cx(()=>{if(S&&(M.current=S),E&&(I.current=E),S&&E){if(P.current)return P.current(S,E,H);H()}},[S,E,H,P,T]);const J=R.useMemo(()=>({reference:M,floating:I,setReference:_,setFloating:b}),[_,b]),X=R.useMemo(()=>({reference:S,floating:E}),[S,E]),Y=R.useMemo(()=>{const k={position:t,left:0,top:0};if(!X.floating)return k;const U=Dk(X.floating,u.x),V=Dk(X.floating,u.y);return a?{...k,transform:"translate("+U+"px, "+V+"px)",...P6(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:U,top:V}},[t,a,X.floating,u.x,u.y]);return R.useMemo(()=>({...u,update:H,refs:J,elements:X,floatingStyles:Y}),[u,H,J,X,Y])}const yye=(n,e)=>({...mye(n),options:[n,e]}),I6={...H4},xye=I6.useInsertionEffect,bye=xye||(n=>n());function Fd(n){const e=R.useRef(()=>{});return bye(()=>{e.current=n}),R.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Ws=typeof document<"u"?R.useLayoutEffect:R.useEffect;function s1(){return s1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},s1.apply(this,arguments)}let Ok=!1,_ye=0;const kk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_ye++;function wye(){const[n,e]=R.useState(()=>Ok?kk():void 0);return Ws(()=>{n==null&&e(kk())},[]),R.useEffect(()=>{Ok=!0},[]),n}const Sye=I6.useId,Aye=Sye||wye;function Eye(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const Mye=R.createContext(null),Cye=R.createContext(null),B6=()=>{var n;return((n=R.useContext(Mye))==null?void 0:n.id)||null},CP=()=>R.useContext(Cye);function o1(n){return"data-floating-ui-"+n}function Ud(n){const e=R.useRef(n);return Ws(()=>{e.current=n}),e}const Nk=o1("safe-polygon");function jS(n,e,t){return t&&!qM(t)?0:typeof n=="number"?n:n==null?void 0:n[e]}function Tye(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,events:s,elements:o}=n,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:f=0,move:p=!0}=e,m=CP(),v=B6(),y=Ud(c),x=Ud(l),g=Ud(t),_=R.useRef(),b=R.useRef(-1),S=R.useRef(),E=R.useRef(-1),M=R.useRef(!0),I=R.useRef(!1),B=R.useRef(()=>{}),T=R.useRef(!1),P=R.useCallback(()=>{var Y;const k=(Y=i.current.openEvent)==null?void 0:Y.type;return(k==null?void 0:k.includes("mouse"))&&k!=="mousedown"},[i]);R.useEffect(()=>{if(!a)return;function Y(k){let{open:U}=k;U||(clearTimeout(b.current),clearTimeout(E.current),M.current=!0,T.current=!1)}return s.on("openchange",Y),()=>{s.off("openchange",Y)}},[a,s]),R.useEffect(()=>{if(!a||!y.current||!t)return;function Y(U){P()&&r(!1,U,"hover")}const k=Ti(o.floating).documentElement;return k.addEventListener("mouseleave",Y),()=>{k.removeEventListener("mouseleave",Y)}},[o.floating,t,r,a,y,P]);const O=R.useCallback(function(Y,k,U){k===void 0&&(k=!0),U===void 0&&(U="hover");const V=jS(x.current,"close",_.current);V&&!S.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,Y,U),V)):k&&(clearTimeout(b.current),r(!1,Y,U))},[x,r]),z=Fd(()=>{B.current(),S.current=void 0}),H=Fd(()=>{if(I.current){const Y=Ti(o.floating).body;Y.style.pointerEvents="",Y.removeAttribute(Nk),I.current=!1}}),N=Fd(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);R.useEffect(()=>{if(!a)return;function Y(q){if(clearTimeout(b.current),M.current=!1,u&&!qM(_.current)||f>0&&!jS(x.current,"open"))return;const ee=jS(x.current,"open",_.current);ee?b.current=window.setTimeout(()=>{g.current||r(!0,q,"hover")},ee):t||r(!0,q,"hover")}function k(q){if(N())return;B.current();const ee=Ti(o.floating);if(clearTimeout(E.current),T.current=!1,y.current&&i.current.floatingContext){t||clearTimeout(b.current),S.current=y.current({...i.current.floatingContext,tree:m,x:q.clientX,y:q.clientY,onClose(){H(),z(),N()||O(q,!0,"safe-polygon")}});const Z=S.current;ee.addEventListener("mousemove",Z),B.current=()=>{ee.removeEventListener("mousemove",Z)};return}(_.current==="touch"?!Vr(o.floating,q.relatedTarget):!0)&&O(q)}function U(q){N()||i.current.floatingContext&&(y.current==null||y.current({...i.current.floatingContext,tree:m,x:q.clientX,y:q.clientY,onClose(){H(),z(),N()||O(q)}})(q))}if(dr(o.domReference)){var V;const q=o.domReference;return t&&q.addEventListener("mouseleave",U),(V=o.floating)==null||V.addEventListener("mouseleave",U),p&&q.addEventListener("mousemove",Y,{once:!0}),q.addEventListener("mouseenter",Y),q.addEventListener("mouseleave",k),()=>{var ee;t&&q.removeEventListener("mouseleave",U),(ee=o.floating)==null||ee.removeEventListener("mouseleave",U),p&&q.removeEventListener("mousemove",Y),q.removeEventListener("mouseenter",Y),q.removeEventListener("mouseleave",k)}}},[o,a,n,u,f,p,O,z,H,r,t,g,m,x,y,i,N]),Ws(()=>{var Y;if(a&&t&&(Y=y.current)!=null&&Y.__options.blockPointerEvents&&P()){I.current=!0;const U=o.floating;if(dr(o.domReference)&&U){var k;const V=Ti(o.floating).body;V.setAttribute(Nk,"");const q=o.domReference,ee=m==null||(k=m.nodesRef.current.find(se=>se.id===v))==null||(k=k.context)==null?void 0:k.elements.floating;return ee&&(ee.style.pointerEvents=""),V.style.pointerEvents="none",q.style.pointerEvents="auto",U.style.pointerEvents="auto",()=>{V.style.pointerEvents="",q.style.pointerEvents="",U.style.pointerEvents=""}}}},[a,t,v,o,m,y,P]),Ws(()=>{t||(_.current=void 0,T.current=!1,z(),H())},[t,z,H]),R.useEffect(()=>()=>{z(),clearTimeout(b.current),clearTimeout(E.current),H()},[a,o.domReference,z,H]);const J=R.useMemo(()=>{function Y(k){_.current=k.pointerType}return{onPointerDown:Y,onPointerEnter:Y,onMouseMove(k){const{nativeEvent:U}=k;function V(){!M.current&&!g.current&&r(!0,U,"hover")}u&&!qM(_.current)||t||f===0||T.current&&k.movementX**2+k.movementY**2<2||(clearTimeout(E.current),_.current==="touch"?V():(T.current=!0,E.current=window.setTimeout(V,f)))}}},[u,r,t,g,f]),X=R.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(Y){N()||O(Y.nativeEvent,!1)}}),[O,N]);return R.useMemo(()=>a?{reference:J,floating:X}:{},[a,J,X])}let Fk=0;function Lf(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(Fk);const s=()=>n==null?void 0:n.focus({preventScroll:t});i?s():Fk=requestAnimationFrame(s)}function Rye(n,e){var t;let r=[],i=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;i;){const s=n.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function nC(n,e){let t=n.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=t;for(;r.length;)r=n.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),t=t.concat(r);return t}let Df=new WeakMap,My=new WeakSet,Cy={},JS=0;const Pye=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,L6=n=>n&&(n.host||L6(n.parentNode)),Iye=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=L6(t);return n.contains(r)?r:null}).filter(t=>t!=null);function Bye(n,e,t,r){const i="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,o=Iye(e,n),a=new Set,l=new Set(o),c=[];Cy[i]||(Cy[i]=new WeakMap);const u=Cy[i];o.forEach(f),p(e),a.clear();function f(m){!m||a.has(m)||(a.add(m),m.parentNode&&f(m.parentNode))}function p(m){!m||l.has(m)||[].forEach.call(m.children,v=>{if(ac(v)!=="script")if(a.has(v))p(v);else{const y=s?v.getAttribute(s):null,x=y!==null&&y!=="false",g=(Df.get(v)||0)+1,_=(u.get(v)||0)+1;Df.set(v,g),u.set(v,_),c.push(v),g===1&&x&&My.add(v),_===1&&v.setAttribute(i,""),!x&&s&&v.setAttribute(s,"true")}})}return JS++,()=>{c.forEach(m=>{const v=(Df.get(m)||0)-1,y=(u.get(m)||0)-1;Df.set(m,v),u.set(m,y),v||(!My.has(m)&&s&&m.removeAttribute(s),My.delete(m)),y||m.removeAttribute(i)}),JS--,JS||(Df=new WeakMap,Df=new WeakMap,My=new WeakSet,Cy={})}}function Uk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Ti(n[0]).body;return Bye(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const a1=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function D6(n,e){const t=AP(n,a1());e==="prev"&&t.reverse();const r=t.indexOf(kc(Ti(n)));return t.slice(r+1)[0]}function Lye(){return D6(document.body,"next")}function Dye(){return D6(document.body,"prev")}function Hk(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Vr(t,r)}const TP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Oye;function zk(n){n.key==="Tab"&&(n.target,clearTimeout(Oye))}const Gk=R.forwardRef(function(e,t){const[r,i]=R.useState();Ws(()=>(wve()&&i("button"),document.addEventListener("keydown",zk),()=>{document.removeEventListener("keydown",zk)}),[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[o1("focus-guard")]:"",style:TP};return R.createElement("span",s1({},e,s))}),kye=R.createContext(null),Nye=()=>R.useContext(kye),rC="data-floating-ui-focusable";function Fye(n){return n?n.hasAttribute(rC)?n:n.querySelector("["+rC+"]")||n:null}const Vk=20;let Nc=[];function KS(n){Nc=Nc.filter(t=>t.isConnected);let e=n;if(!(!e||ac(e)==="body")){if(!Xve(e,a1())){const t=AP(e,a1())[0];t&&(e=t)}Nc.push(e),Nc.length>Vk&&(Nc=Nc.slice(-Vk))}}function $k(){return Nc.slice().reverse().find(n=>n.isConnected)}const Uye=R.forwardRef(function(e,t){return R.createElement("button",s1({},e,{type:"button",ref:t,tabIndex:-1,style:TP}))});function Hye(n){const{context:e,children:t,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:f=!0}=n,{open:p,refs:m,nodeId:v,onOpenChange:y,events:x,dataRef:g,floatingId:_,elements:{domReference:b,floating:S}}=e,E=typeof o=="number"&&o<0,M=Mve(b)&&E,I=Pye()?s:!0,B=Ud(i),T=Ud(o),P=Ud(a),O=CP(),z=Nye(),H=R.useRef(null),N=R.useRef(null),J=R.useRef(!1),X=R.useRef(!1),Y=R.useRef(-1),k=z!=null,U=Fye(S),V=Fd(function(Z){return Z===void 0&&(Z=U),Z?AP(Z,a1()):[]}),q=Fd(Z=>{const de=V(Z);return B.current.map(oe=>b&&oe==="reference"?b:U&&oe==="floating"?U:de).filter(Boolean).flat()});R.useEffect(()=>{if(r||!c)return;function Z(oe){if(oe.key==="Tab"){Vr(U,kc(Ti(U)))&&V().length===0&&!M&&VS(oe);const Q=q(),Ee=ZM(oe);B.current[0]==="reference"&&Ee===b&&(VS(oe),oe.shiftKey?Lf(Q[Q.length-1]):Lf(Q[1])),B.current[1]==="floating"&&Ee===U&&oe.shiftKey&&(VS(oe),Lf(Q[0]))}}const de=Ti(U);return de.addEventListener("keydown",Z),()=>{de.removeEventListener("keydown",Z)}},[r,b,U,c,B,M,V,q]),R.useEffect(()=>{if(r||!S)return;function Z(de){const oe=ZM(de),Ee=V().indexOf(oe);Ee!==-1&&(Y.current=Ee)}return S.addEventListener("focusin",Z),()=>{S.removeEventListener("focusin",Z)}},[r,S,V]),R.useEffect(()=>{if(r||!f)return;function Z(){X.current=!0,setTimeout(()=>{X.current=!1})}function de(oe){const Q=oe.relatedTarget;queueMicrotask(()=>{const Ee=!(Vr(b,Q)||Vr(S,Q)||Vr(Q,S)||Vr(z==null?void 0:z.portalNode,Q)||Q!=null&&Q.hasAttribute(o1("focus-guard"))||O&&(nC(O.nodesRef.current,v).find(ue=>{var he,we;return Vr((he=ue.context)==null?void 0:he.elements.floating,Q)||Vr((we=ue.context)==null?void 0:we.elements.domReference,Q)})||Rye(O.nodesRef.current,v).find(ue=>{var he,we;return((he=ue.context)==null?void 0:he.elements.floating)===Q||((we=ue.context)==null?void 0:we.elements.domReference)===Q})));if(l&&Ee&&kc(Ti(U))===Ti(U).body){Or(U)&&U.focus();const ue=Y.current,he=V(),we=he[ue]||he[he.length-1]||U;Or(we)&&we.focus()}(M||!c)&&Q&&Ee&&!X.current&&Q!==$k()&&(J.current=!0,y(!1,oe,"focus-out"))})}if(S&&Or(b))return b.addEventListener("focusout",de),b.addEventListener("pointerdown",Z),S.addEventListener("focusout",de),()=>{b.removeEventListener("focusout",de),b.removeEventListener("pointerdown",Z),S.removeEventListener("focusout",de)}},[r,b,S,U,c,v,O,z,y,f,l,V,M]),R.useEffect(()=>{var Z;if(r)return;const de=Array.from((z==null||(Z=z.portalNode)==null?void 0:Z.querySelectorAll("["+o1("portal")+"]"))||[]);if(S){const oe=[S,...de,H.current,N.current,B.current.includes("reference")||M?b:null].filter(Ee=>Ee!=null),Q=c||M?Uk(oe,I,!I):Uk(oe);return()=>{Q()}}},[r,b,S,c,B,z,M,I]),Ws(()=>{if(r||!Or(U))return;const Z=Ti(U),de=kc(Z);queueMicrotask(()=>{const oe=q(U),Q=T.current,Ee=(typeof Q=="number"?oe[Q]:Q.current)||U,ue=Vr(U,de);!E&&!ue&&p&&Lf(Ee,{preventScroll:Ee===U})})},[r,p,U,E,q,T]),Ws(()=>{if(r||!U)return;let Z=!1;const de=Ti(U),oe=kc(de);let Ee=g.current.openEvent;KS(oe);function ue(me){let{open:fe,reason:be,event:De,nested:Pe}=me;fe&&(Ee=De),be==="escape-key"&&m.domReference.current&&KS(m.domReference.current),be==="hover"&&De.type==="mouseleave"&&(J.current=!0),be==="outside-press"&&(Pe?(J.current=!1,Z=!0):J.current=!(bve(De)||_ve(De)))}x.on("openchange",ue);const he=de.createElement("span");he.setAttribute("tabindex","-1"),he.setAttribute("aria-hidden","true"),Object.assign(he.style,TP),k&&b&&b.insertAdjacentElement("afterend",he);function we(){return typeof P.current=="boolean"?$k()||he:P.current.current||he}return()=>{x.off("openchange",ue);const me=kc(de),fe=Vr(S,me)||O&&nC(O.nodesRef.current,v).some(Pe=>{var ke;return Vr((ke=Pe.context)==null?void 0:ke.elements.floating,me)});(fe||Ee&&["click","mousedown"].includes(Ee.type))&&m.domReference.current&&KS(m.domReference.current);const De=we();queueMicrotask(()=>{P.current&&!J.current&&Or(De)&&(!(De!==me&&me!==de.body)||fe)&&De.focus({preventScroll:Z}),he.remove()})}},[r,S,U,P,g,m,x,O,v,k,b]),R.useEffect(()=>{queueMicrotask(()=>{J.current=!1})},[r]),Ws(()=>{if(!r&&z)return z.setFocusManagerState({modal:c,closeOnFocusOut:f,open:p,onOpenChange:y,refs:m}),()=>{z.setFocusManagerState(null)}},[r,z,c,p,y,m,f]),Ws(()=>{if(r||!U||typeof MutationObserver!="function"||E)return;const Z=()=>{const oe=U.getAttribute("tabindex"),Q=V(),Ee=kc(Ti(S)),ue=Q.indexOf(Ee);ue!==-1&&(Y.current=ue),B.current.includes("floating")||Ee!==m.domReference.current&&Q.length===0?oe!=="0"&&U.setAttribute("tabindex","0"):oe!=="-1"&&U.setAttribute("tabindex","-1")};Z();const de=new MutationObserver(Z);return de.observe(U,{childList:!0,subtree:!0,attributes:!0}),()=>{de.disconnect()}},[r,S,U,m,B,V,E]);function ee(Z){return r||!u||!c?null:R.createElement(Uye,{ref:Z==="start"?H:N,onClick:de=>y(!1,de.nativeEvent)},typeof u=="string"?u:"Dismiss")}const se=!r&&I&&(c?!M:!0)&&(k||c);return R.createElement(R.Fragment,null,se&&R.createElement(Gk,{"data-type":"inside",ref:z==null?void 0:z.beforeInsideRef,onFocus:Z=>{if(c){const oe=q();Lf(i[0]==="reference"?oe[0]:oe[oe.length-1])}else if(z!=null&&z.preserveTabOrder&&z.portalNode)if(J.current=!1,Hk(Z,z.portalNode)){const oe=Lye()||b;oe==null||oe.focus()}else{var de;(de=z.beforeOutsideRef.current)==null||de.focus()}}}),!M&&ee("start"),t,ee("end"),se&&R.createElement(Gk,{"data-type":"inside",ref:z==null?void 0:z.afterInsideRef,onFocus:Z=>{if(c)Lf(q()[0]);else if(z!=null&&z.preserveTabOrder&&z.portalNode)if(f&&(J.current=!0),Hk(Z,z.portalNode)){const oe=Dye()||b;oe==null||oe.focus()}else{var de;(de=z.afterOutsideRef.current)==null||de.focus()}}}))}function zye(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=Aye(),s=R.useRef({}),[o]=R.useState(()=>Eye()),a=B6()!=null,[l,c]=R.useState(r.reference),u=Fd((m,v,y)=>{s.current.openEvent=m?v:void 0,o.emit("openchange",{open:m,event:v,reason:y,nested:a}),t==null||t(m,v,y)}),f=R.useMemo(()=>({setPositionReference:c}),[]),p=R.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return R.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:p,events:o,floatingId:i,refs:f}),[e,u,p,o,i,f])}function Gye(n){n===void 0&&(n={});const{nodeId:e}=n,t=zye({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=R.useState(null),[a,l]=R.useState(null),u=(i==null?void 0:i.domReference)||s,f=R.useRef(null),p=CP();Ws(()=>{u&&(f.current=u)},[u]);const m=vye({...n,elements:{...i,...a&&{reference:a}}}),v=R.useCallback(b=>{const S=dr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(S),m.refs.setReference(S)},[m.refs]),y=R.useCallback(b=>{(dr(b)||b===null)&&(f.current=b,o(b)),(dr(m.refs.reference.current)||m.refs.reference.current===null||b!==null&&!dr(b))&&m.refs.setReference(b)},[m.refs]),x=R.useMemo(()=>({...m.refs,setReference:y,setPositionReference:v,domReference:f}),[m.refs,y,v]),g=R.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),_=R.useMemo(()=>({...m,...r,refs:x,elements:g,nodeId:e}),[m,x,g,e,r]);return Ws(()=>{r.dataRef.current.floatingContext=_;const b=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);b&&(b.context=_)}),R.useMemo(()=>({...m,context:_,refs:x,elements:g}),[m,x,g,_])}const Wk="active",jk="selected";function XS(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[Wk]:o,[jk]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1,[rC]:""},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[Wk,jk].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),o[c]=function(){for(var p,m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];return(p=r.get(c))==null?void 0:p.map(x=>x(...v)).find(x=>x!==void 0)}}}else o[c]=u}),o),{})}}function Vye(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=R.useCallback(a=>XS(a,n,"reference"),e),s=R.useCallback(a=>XS(a,n,"floating"),t),o=R.useCallback(a=>XS(a,n,"item"),r);return R.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Jk(n,e){const[t,r]=n;let i=!1;const s=e.length;for(let o=0,a=s-1;o<s;a=o++){const[l,c]=e[o]||[0,0],[u,f]=e[a]||[0,0];c>=r!=f>=r&&t<=(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function $ye(n,e){return n[0]>=e.x&&n[0]<=e.x+e.width&&n[1]>=e.y&&n[1]<=e.y+e.height}function Wye(n){n===void 0&&(n={});const{buffer:e=.5,blockPointerEvents:t=!1,requireIntent:r=!0}=n;let i,s=!1,o=null,a=null,l=performance.now();function c(f,p){const m=performance.now(),v=m-l;if(o===null||a===null||v===0)return o=f,a=p,l=m,null;const y=f-o,x=p-a,_=Math.sqrt(y*y+x*x)/v;return o=f,a=p,l=m,_}const u=f=>{let{x:p,y:m,placement:v,elements:y,onClose:x,nodeId:g,tree:_}=f;return function(S){function E(){clearTimeout(i),x()}if(clearTimeout(i),!y.domReference||!y.floating||v==null||p==null||m==null)return;const{clientX:M,clientY:I}=S,B=[M,I],T=ZM(S),P=S.type==="mouseleave",O=Vr(y.floating,T),z=Vr(y.domReference,T),H=y.domReference.getBoundingClientRect(),N=y.floating.getBoundingClientRect(),J=v.split("-")[0],X=p>N.right-N.width/2,Y=m>N.bottom-N.height/2,k=$ye(B,H),U=N.width>H.width,V=N.height>H.height,q=(U?H:N).left,ee=(U?H:N).right,se=(V?H:N).top,Z=(V?H:N).bottom;if(O&&(s=!0,!P))return;if(z&&(s=!1),z&&!P){s=!0;return}if(P&&dr(S.relatedTarget)&&Vr(y.floating,S.relatedTarget)||_&&nC(_.nodesRef.current,g).some(Q=>{let{context:Ee}=Q;return Ee==null?void 0:Ee.open}))return;if(J==="top"&&m>=H.bottom-1||J==="bottom"&&m<=H.top+1||J==="left"&&p>=H.right-1||J==="right"&&p<=H.left+1)return E();let de=[];switch(J){case"top":de=[[q,H.top+1],[q,N.bottom-1],[ee,N.bottom-1],[ee,H.top+1]];break;case"bottom":de=[[q,N.top+1],[q,H.bottom-1],[ee,H.bottom-1],[ee,N.top+1]];break;case"left":de=[[N.right-1,Z],[N.right-1,se],[H.left+1,se],[H.left+1,Z]];break;case"right":de=[[H.right-1,Z],[H.right-1,se],[N.left+1,se],[N.left+1,Z]];break}function oe(Q){let[Ee,ue]=Q;switch(J){case"top":{const he=[U?Ee+e/2:X?Ee+e*4:Ee-e*4,ue+e+1],we=[U?Ee-e/2:X?Ee+e*4:Ee-e*4,ue+e+1],me=[[N.left,X||U?N.bottom-e:N.top],[N.right,X?U?N.bottom-e:N.top:N.bottom-e]];return[he,we,...me]}case"bottom":{const he=[U?Ee+e/2:X?Ee+e*4:Ee-e*4,ue-e],we=[U?Ee-e/2:X?Ee+e*4:Ee-e*4,ue-e],me=[[N.left,X||U?N.top+e:N.bottom],[N.right,X?U?N.top+e:N.bottom:N.top+e]];return[he,we,...me]}case"left":{const he=[Ee+e+1,V?ue+e/2:Y?ue+e*4:ue-e*4],we=[Ee+e+1,V?ue-e/2:Y?ue+e*4:ue-e*4];return[...[[Y||V?N.right-e:N.left,N.top],[Y?V?N.right-e:N.left:N.right-e,N.bottom]],he,we]}case"right":{const he=[Ee-e,V?ue+e/2:Y?ue+e*4:ue-e*4],we=[Ee-e,V?ue-e/2:Y?ue+e*4:ue-e*4],me=[[Y||V?N.left+e:N.right,N.top],[Y?V?N.left+e:N.right:N.left+e,N.bottom]];return[he,we,...me]}}}if(!Jk([M,I],de)){if(s&&!k)return E();if(!P&&r){const Q=c(S.clientX,S.clientY);if(Q!==null&&Q<.1)return E()}Jk([M,I],oe([p,m]))?!s&&r&&(i=window.setTimeout(E,40)):E()}}};return u.__options={blockPointerEvents:t},u}const yd=n=>function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(let s=0;s<n.length&&!e.defaultPrevented;s++){const o=n[s];typeof o=="function"&&o(e,...r)}};function RP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const jye=R.createContext({isFluid:!1}),Jye=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return r=>{e.forEach(i=>{typeof i=="function"?i(r):Object(i)===i&&(i.current=r)})}};var Kye=Jye;const Xye={isRoot:!0,mode:"full",hasIcons:!1,size:null,items:[],requestCloseRoot:()=>{}};function Yye(n,e){switch(e.type){case"enableIcons":return{...n,hasIcons:!0};case"registerItem":return{...n,items:[...n.items,e.payload].filter(t=>t.ref.current!==null)}}}const ug=R.createContext({state:Xye,dispatch:n=>{}}),Qye=D.createContext({direction:"ltr"});function O6(){return R.useContext(Qye)}const Ty=8,PP=R.forwardRef(function(e,t){let{children:r,className:i,containerRef:s,label:o,menuAlignment:a,mode:l="full",onClose:c,onOpen:u,open:f,size:p="sm",legacyAutoalign:m="true",target:v=u6&&document.body,x:y=0,y:x=0,...g}=e;const _=Fo(),b=R.useRef(null),S=R.useContext(ug),E=S.state.isRoot;S.state.mode;const M=E?p:S.state.size,[I,B]=R.useReducer(Yye,{...S.state,isRoot:!1,mode:l,size:p,requestCloseRoot:E?U:S.state.requestCloseRoot}),T=R.useMemo(()=>({state:I,dispatch:B}),[I,B]),P=R.useRef(null),O=xP([t,P]),[z,H]=R.useState([-1,-1]),N=T.state.items.filter(ue=>!ue.disabled&&ue.ref.current);let J;if(s!=null&&s.current){const{width:ue}=s.current.getBoundingClientRect();J=ue}const{direction:X}=O6();function Y(){b.current&&b.current.focus()}function k(){var ue;if(P.current){if(b.current=document.activeElement,m){const he=oe();((document==null?void 0:document.dir)==="rtl"||X==="rtl")&&!((ue=g==null?void 0:g.id)!=null&&ue.includes("MenuButton"))?(P.current.style.insetInlineStart="initial",P.current.style.insetInlineEnd=`${he[0]}px`):(P.current.style.insetInlineStart=`${he[0]}px`,P.current.style.insetInlineEnd="initial"),P.current.style.insetBlockStart=`${he[1]}px`,H(he)}P.current.focus(),u&&u()}}function U(ue){/^key/.test(ue.type)?window.addEventListener("keyup",Y,{once:!0}):ue.type==="click"&&P.current?P.current.addEventListener("focusout",Y,{once:!0}):Y(),c&&c()}function V(ue){ue.stopPropagation(),($s(ue,yP)||!E&&$s(ue,hve))&&c?U(ue):q(ue)}function q(ue){var me,fe;const he=N.findIndex(be=>{var De,Pe;return(Pe=(De=be.ref)==null?void 0:De.current)==null?void 0:Pe.contains(document.activeElement)});let we=he;he===-1?we=0:ue&&($s(ue,pve)&&(we=we-1),$s(ue,gve)&&(we=we+1)),we<0&&(we=N.length-1),we>=N.length&&(we=0),we!==he&&((fe=(me=N[we].ref)==null?void 0:me.current)==null||fe.focus(),ue==null||ue.preventDefault())}function ee(ue){var he;f&&c&&E&&!((he=P.current)!=null&&he.contains(ue.relatedTarget))&&U(ue)}function se(ue,he){if(!P.current)return;const{width:we,height:me}=P.current.getBoundingClientRect(),fe=E?"vertical":"horizontal",be={x:{max:window.innerWidth,size:we,anchor:fe==="horizontal"?ue[1]:ue[0],reversedAnchor:fe==="horizontal"?ue[0]:ue[1],offset:0},y:{max:window.innerHeight,size:me,anchor:fe==="horizontal"?ue[0]:ue[1],reversedAnchor:fe==="horizontal"?ue[1]:ue[0],offset:E?0:4}};if(J&&J<be.x.size&&(a==="bottom"||a==="top")&&(be.x.size=J),J&&(a==="bottom-end"||a==="top-end")&&be.x.anchor>=87&&J<be.x.size){const F=be.x.anchor+be.x.reversedAnchor;be.x.anchor=be.x.anchor+F}const{max:De,size:Pe,anchor:ke,reversedAnchor:Ae,offset:Be}=be[he],Ve=[De-Ty-Pe-ke>=0?ke-Be:!1,Ae-Pe>=0?Ae-Pe+Be:!1,De-Ty-Pe],ft=a==="top"||a==="top-end"||a==="top-start";typeof Ve[0]=="number"&&ft&&Ve[0]>=0&&!Ve[1]&&he==="y"?P.current.style.transform="translate(0)":ft&&!Ve[0]&&he==="y"&&(Ve[0]=ke-Be);const W=Ve.find(F=>F!==!1);return W>=Ty?W:Ty}function Z(ue){return ue!=null}function de(ue){if(Array.isArray(ue)){const he=ue.filter(Z);return he.length===2?he:void 0}else return[ue,ue]}function oe(){const ue={x:de(y),y:de(x)};return!ue.x||!ue.y?[-1,-1]:[se(ue.x,"x")??-1,se(ue.y,"y")??-1]}R.useEffect(()=>{f&&N.length>0&&q()},[f,N]),R.useEffect(()=>{f?k():H([-1,-1])},[f]);const Q=Bo(i,`${_}--menu`,`${_}--menu--${M}`,{[`${_}--menu--box-shadow-top`]:a&&a.slice(0,3)==="top",[`${_}--menu--open`]:f,[`${_}--menu--shown`]:f&&!m||z[0]>=0&&z[1]>=0,[`${_}--menu--with-icons`]:T.state.hasIcons,[`${_}--autoalign`]:!m}),Ee=D.createElement(ug.Provider,{value:T},D.createElement("ul",Gi({},g,{className:Q,role:"menu",ref:O,"aria-label":o,tabIndex:-1,onKeyDown:V,onBlur:ee}),r));return v&&E?f&&Im.createPortal(Ee,v)||null:Ee});PP.propTypes={children:ne.node,className:ne.string,label:ne.string,menuAlignment:ne.string,mode:ne.oneOf(["full","basic"]),onClose:ne.func,onOpen:ne.func,open:ne.bool,size:ne.oneOf(["xs","sm","md","lg"]),target:ne.object,x:ne.oneOfType([ne.number,ne.arrayOf(ne.number)]),y:ne.oneOfType([ne.number,ne.arrayOf(ne.number)])};function k6(n){let{defaultValue:e,name:t="custom",onChange:r,value:i}=n;const[s,o]=R.useState(i??e),a=R.useRef(null);a.current===null&&(a.current=i!==void 0);function l(c){const u=typeof c=="function"?c(s):c;a.current===!1&&o(u),r&&r(u)}return R.useEffect(()=>{const c=i!==void 0;a.current,a.current},[t,i]),a.current===!0?[i,l]:[s,l]}var Kk,Xk;const Pb=R.forwardRef(function(e,t){let{children:r,className:i,disabled:s,kind:o="default",label:a,onClick:l,renderIcon:c,shortcut:u,...f}=e;const[p,m]=R.useState(!1),[v,y]=R.useState(!1),{refs:x,floatingStyles:g,context:_}=Gye({open:p,onOpenChange:m,placement:v?"left-start":"right-start",whileElementsMounted:pye,middleware:[yye({mainAxis:-6,crossAxis:-6})]}),{getReferenceProps:b,getFloatingProps:S}=Vye([Tye(_,{delay:100,enabled:!0,handleClose:Wye({requireIntent:!1})})]),E=Fo(),M=R.useContext(ug),I=R.useRef(null),B=xP([t,I,x.setReference]),T=!!r,P=s&&!T,O=o==="danger"&&!T;function z(){M.dispatch({type:"registerItem",payload:{ref:I,disabled:!!s}})}function H(){I.current&&m(!0)}function N(){m(!1)}function J(V){P||(T?H():(M.state.requestCloseRoot(V),l&&l(V)))}function X(V){T&&$s(V,mve)&&(H(),V.stopPropagation()),($s(V,p6)||$s(V,m6))&&J(V),f.onKeyDown&&f.onKeyDown(V)}const Y=Bo(i,`${E}--menu-item`,{[`${E}--menu-item--disabled`]:P,[`${E}--menu-item--danger`]:O});R.useEffect(()=>{z()},[]);const{direction:k}=O6();R.useEffect(()=>{(document==null?void 0:document.dir)==="rtl"||k==="rtl"?y(!0):y(!1)},[k]);const U=M.state.mode==="basic"||f.role==="menuitemcheckbox"||f.role==="menuitemradio";return R.useEffect(()=>{U&&c&&!M.state.hasIcons&&M.dispatch({type:"enableIcons"})},[U,c,M.state.hasIcons,M]),R.useEffect(()=>{Object.keys(g).forEach(V=>{x.floating.current&&V!=="position"&&(x.floating.current.style[V]=g[V])})},[g,x.floating]),D.createElement(Hye,{context:_,order:["reference","floating"],modal:!1},D.createElement("li",Gi({role:"menuitem"},f,{ref:B,className:Y,tabIndex:-1,"aria-disabled":P??void 0,"aria-haspopup":T??void 0,"aria-expanded":T?p:void 0,onClick:J,onKeyDown:X},b()),D.createElement("div",{className:`${E}--menu-item__icon`},U&&c&&D.createElement(c,null)),D.createElement(c6,{as:"div",className:`${E}--menu-item__label`,title:a},a),u&&!T&&D.createElement("div",{className:`${E}--menu-item__shortcut`},u),T&&D.createElement(D.Fragment,null,D.createElement("div",{className:`${E}--menu-item__shortcut`},v?Kk||(Kk=D.createElement(tve,null)):Xk||(Xk=D.createElement(nve,null))),D.createElement(PP,Gi({label:a,open:p,onClose:()=>{var V;N(),(V=I.current)==null||V.focus()},ref:x.setFloating},S()),r))))});Pb.propTypes={children:ne.node,className:ne.string,disabled:ne.bool,kind:ne.oneOf(["default","danger"]),label:ne.string.isRequired,onClick:ne.func,renderIcon:ne.oneOfType([ne.func,ne.object]),shortcut:ne.string};const qye=R.forwardRef(function(e,t){let{className:r,defaultSelected:i,label:s,onChange:o,selected:a,...l}=e;const c=Fo(),u=R.useContext(ug);u.state.mode;const[f,p]=k6({value:a,onChange:o,defaultValue:i??!1});function m(y){p(!f)}R.useEffect(()=>{u.state.hasIcons||u.dispatch({type:"enableIcons"})},[u.state.hasIcons,u]);const v=Bo(r,`${c}--menu-item-selectable--selected`);return D.createElement(Pb,Gi({},l,{ref:t,label:s,className:v,role:"menuitemcheckbox","aria-checked":f,renderIcon:f?l6:void 0,onClick:m}))});qye.propTypes={className:ne.string,defaultSelected:ne.bool,label:ne.string.isRequired,onChange:ne.func,selected:ne.bool};const Zye=R.forwardRef(function(e,t){let{children:r,className:i,label:s,...o}=e;const a=Fo(),l=Bo(i,`${a}--menu-item-group`);return D.createElement("li",{className:l,role:"none",ref:t},D.createElement("ul",Gi({},o,{role:"group","aria-label":s}),r))});Zye.propTypes={children:ne.node,className:ne.string,label:ne.string.isRequired};const exe=n=>n.toString(),txe=R.forwardRef(function(e,t){let{className:r,defaultSelectedItem:i,items:s,itemToString:o=exe,label:a,onChange:l,selectedItem:c,...u}=e;const f=Fo(),p=R.useContext(ug);p.state.mode;const[m,v]=k6({value:c,onChange:l,defaultValue:i});function y(g,_){v(g)}R.useEffect(()=>{p.state.hasIcons||p.dispatch({type:"enableIcons"})},[p.state.hasIcons,p]);const x=Bo(r,`${f}--menu-item-radio-group`);return D.createElement("li",{className:x,role:"none",ref:t},D.createElement("ul",Gi({},u,{role:"group","aria-label":a}),s.map((g,_)=>D.createElement(Pb,{key:_,label:o(g),role:"menuitemradio","aria-checked":g===m,renderIcon:g===m?l6:void 0,onClick:b=>{y(g)}}))))});txe.propTypes={className:ne.string,defaultSelectedItem:ne.any,itemToString:ne.func,items:ne.array,label:ne.string.isRequired,onChange:ne.func,selectedItem:ne.any};const N6=R.forwardRef(function(e,t){let{className:r,...i}=e;const s=Fo(),o=Bo(r,`${s}--menu-item-divider`);return D.createElement("li",Gi({},i,{className:o,role:"separator",ref:t}))});N6.propTypes={className:ne.string};const nxe=D.createContext(1);function rxe(n){const e=n.current||n;e&&e.focus&&document.activeElement!==e&&e.focus()}var Yk;const Ib=D.forwardRef(function(e,t){let{autoComplete:r="off",className:i,closeButtonLabelText:s="Clear search input",defaultValue:o,disabled:a,isExpanded:l=!0,id:c,labelText:u,light:f,onChange:p=()=>{},onClear:m=()=>{},onKeyDown:v,onExpand:y,placeholder:x="Search",renderIcon:g,role:_="searchbox",size:b="md",type:S="text",value:E,...M}=e;const I=!!(E||o),B=Fo(),{isFluid:T}=R.useContext(jye),P=R.useRef(null),O=xP([t,P]),z=R.useRef(null),H=fve("search-input"),N=c||H,J=`${N}-search`,[X,Y]=R.useState(I||!1),[k,U]=R.useState(E),V=Bo({[`${B}--search`]:!0,[`${B}--search--sm`]:b==="sm",[`${B}--search--md`]:b==="md",[`${B}--search--lg`]:b==="lg",[`${B}--search--light`]:f,[`${B}--search--disabled`]:a,[`${B}--search--fluid`]:T},i),q=Bo({[`${B}--search-close`]:!0,[`${B}--search-close--hidden`]:!X||!l});E!==k&&(Y(!!E),U(E));function ee(){!E&&P.current&&(P.current.value="");const Q={target:Object.assign({},P.current,{value:""}),type:"change"};p(Q),m(),Y(!1),rxe(P)}function se(oe){Y(oe.target.value!=="")}function Z(oe){var Q,Ee;$s(oe,yP)&&(oe.stopPropagation(),(Q=P.current)!=null&&Q.value?ee():y&&l&&((Ee=z.current)==null||Ee.focus()))}function de(oe){($s(oe,p6)||$s(oe,m6))&&(oe.stopPropagation(),y&&y(oe))}return D.createElement("div",{role:"search","aria-label":x,className:V},D.createElement("div",{"aria-label":y?"button":void 0,"aria-labelledby":y?N:void 0,role:y?"button":void 0,className:`${B}--search-magnifier`,onClick:y,onKeyDown:de,tabIndex:y&&!l?0:-1,ref:z,"aria-expanded":y&&l?!0:y&&!l?!1:void 0,"aria-controls":y?N:void 0},D.createElement(F6,{icon:g})),D.createElement("label",{id:J,htmlFor:N,className:`${B}--label`},u),D.createElement("input",Gi({autoComplete:r,className:`${B}--search-input`,defaultValue:o,disabled:a,role:_,ref:O,id:N,onChange:yd([p,se]),onKeyDown:yd([v,Z]),placeholder:x,type:S,value:E,tabIndex:y&&!l?-1:void 0},M)),D.createElement("button",{"aria-label":s,className:q,disabled:a,onClick:ee,title:s,type:"button"},Yk||(Yk=D.createElement(rve,null))))});Ib.displayName="Search";Ib.propTypes={autoComplete:ne.string,className:ne.string,closeButtonLabelText:ne.string,defaultValue:ne.oneOfType([ne.string,ne.number]),disabled:ne.bool,id:ne.string,isExpanded:ne.bool,labelText:ne.node.isRequired,light:dve(ne.bool),onChange:ne.func,onClear:ne.func,onExpand:ne.func,onKeyDown:ne.func,placeholder:ne.string,renderIcon:ne.oneOfType([ne.func,ne.object]),role:ne.string,size:ne.oneOf(["sm","md","lg"]),type:ne.string,value:ne.oneOfType([ne.string,ne.number])};function F6(n){let{icon:e}=n;const t=Fo();return e?D.createElement(e,{className:`${t}--search-magnifier-icon`}):D.createElement(ive,{className:`${t}--search-magnifier-icon`})}F6.propTypes={icon:ne.oneOfType([ne.func,ne.object])};const IP=D.forwardRef(function(e,t){let{onBlur:r,onChange:i,onExpand:s,onKeyDown:o,defaultValue:a,isExpanded:l,...c}=e;const[u,f]=R.useState(l||!1),[p,m]=R.useState(!!a),v=R.useRef(null),y=Fo();function x(E){const M=E.relatedTarget&&E.relatedTarget.classList.contains(`${y}--search-close`);u&&!M&&!p&&!l&&f(!1)}R.useEffect(()=>{f(!!l)},[l]);function g(E){m(E.target.value!=="")}function _(){var E,M;f(!0),(M=(E=v.current)==null?void 0:E.focus)==null||M.call(E)}function b(E){var M;u&&$s(E,yP)&&(E.stopPropagation(),!((M=E.target)!=null&&M.value)&&!l&&f(!1))}const S=Bo(`${y}--search--expandable`,{[`${y}--search--expanded`]:u},c.className);return D.createElement(Ib,Gi({},c,{defaultValue:a,isExpanded:u,ref:Kye(v,t),className:S,onBlur:yd([r,x]),onChange:yd([i,g]),onExpand:yd([s,_]),onKeyDown:yd([o,b])}))});IP.propTypes=Ib.propTypes;IP.displayName="ExpandableSearch";const U6=D.createContext({theme:"white"}),ixe=D.forwardRef(function(e,t){let{children:r,theme:i}=e;const s=R.useMemo(()=>({theme:i}),[i]),o=D.cloneElement(r,{ref:t});return D.createElement(U6.Provider,{value:s},o)});ixe.propTypes={children:ne.node,theme:ne.oneOf(["white","g10","g90","g100"])};function H6(n){let{as:e="div",className:t,theme:r,...i}=n;const s=Fo(),o=Bo(t,{[`${s}--white`]:r==="white",[`${s}--g10`]:r==="g10",[`${s}--g90`]:r==="g90",[`${s}--g100`]:r==="g100",[`${s}--layer-one`]:!0}),a=D.useMemo(()=>{const c=r&&["g90","g100"].includes(r);return{theme:r,isDark:c}},[r]),l=e;return D.createElement(U6.Provider,{value:a},D.createElement(nxe.Provider,{value:1},D.createElement(l,Gi({},i,{className:o}))))}H6.propTypes={as:ne.oneOfType([ne.func,ne.string,ne.elementType]),children:ne.node,className:ne.string,theme:ne.oneOf(["white","g10","g90","g100"])};const z6=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Bb=R.createContext({}),Lb=R.createContext(null),Db=typeof document<"u",BP=Db?R.useLayoutEffect:R.useEffect,G6=R.createContext({strict:!1}),LP=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),sxe="framerAppearId",V6="data-"+LP(sxe);function oxe(n,e,t,r){const{visualElement:i}=R.useContext(Bb),s=R.useContext(G6),o=R.useContext(Lb),a=R.useContext(z6).reducedMotion,l=R.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;R.useInsertionEffect(()=>{c&&c.update(t,o)});const u=R.useRef(!!(t[V6]&&!window.HandoffComplete));return BP(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),R.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function xd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function axe(n,e,t){return R.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):xd(t)&&(t.current=r))},[e])}function fg(n){return typeof n=="string"||Array.isArray(n)}function Ob(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const DP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],OP=["initial",...DP];function kb(n){return Ob(n.animate)||OP.some(e=>fg(n[e]))}function $6(n){return!!(kb(n)||n.variants)}function lxe(n,e){if(kb(n)){const{initial:t,animate:r}=n;return{initial:t===!1||fg(t)?t:void 0,animate:fg(r)?r:void 0}}return n.inherit!==!1?e:{}}function cxe(n){const{initial:e,animate:t}=lxe(n,R.useContext(Bb));return R.useMemo(()=>({initial:e,animate:t}),[Qk(e),Qk(t)])}function Qk(n){return Array.isArray(n)?n.join(" "):n}const qk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dg={};for(const n in qk)dg[n]={isEnabled:e=>qk[n].some(t=>!!e[t])};function uxe(n){for(const e in n)dg[e]={...dg[e],...n[e]}}const kP=R.createContext({}),W6=R.createContext({}),fxe=Symbol.for("motionComponentSymbol");function dxe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&uxe(n);function s(a,l){let c;const u={...R.useContext(z6),...a,layoutId:hxe(a)},{isStatic:f}=u,p=cxe(a),m=r(a,f);if(!f&&Db){p.visualElement=oxe(i,m,u,e);const v=R.useContext(W6),y=R.useContext(G6).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,y,n,v))}return R.createElement(Bb.Provider,{value:p},c&&p.visualElement?R.createElement(c,{visualElement:p.visualElement,...u}):null,t(i,a,axe(m,p.visualElement,l),m,f,p.visualElement))}const o=R.forwardRef(s);return o[fxe]=i,o}function hxe({layoutId:n}){const e=R.useContext(kP).id;return e&&n!==void 0?e+"-"+n:n}function pxe(n){function e(r,i={}){return dxe(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const mxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NP(n){return typeof n!="string"||n.includes("-")?!1:!!(mxe.indexOf(n)>-1||/[A-Z]/.test(n))}const l1={};function gxe(n){Object.assign(l1,n)}const Zg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uu=new Set(Zg);function j6(n,{layout:e,layoutId:t}){return Uu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!l1[n]||n==="opacity")}const pi=n=>!!(n&&n.getVelocity),vxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yxe=Zg.length;function xxe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<yxe;o++){const a=Zg[o];if(n[a]!==void 0){const l=vxe[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const J6=n=>e=>typeof e=="string"&&e.startsWith(n),K6=J6("--"),iC=J6("var(--"),bxe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,_xe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Xl=(n,e,t)=>Math.min(Math.max(t,n),e),Hu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wm={...Hu,transform:n=>Xl(0,1,n)},Ry={...Hu,default:1},Sm=n=>Math.round(n*1e5)/1e5,Nb=/(-)?([\d]*\.?[\d])+/g,X6=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wxe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function e0(n){return typeof n=="string"}const t0=n=>({test:e=>e0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ul=t0("deg"),Eo=t0("%"),lt=t0("px"),Sxe=t0("vh"),Axe=t0("vw"),Zk={...Eo,parse:n=>Eo.parse(n)/100,transform:n=>Eo.transform(n*100)},eN={...Hu,transform:Math.round},Y6={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,size:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,rotate:ul,rotateX:ul,rotateY:ul,rotateZ:ul,scale:Ry,scaleX:Ry,scaleY:Ry,scaleZ:Ry,skew:ul,skewX:ul,skewY:ul,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:wm,originX:Zk,originY:Zk,originZ:lt,zIndex:eN,fillOpacity:wm,strokeOpacity:wm,numOctaves:eN};function FP(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const p=e[f];if(K6(f)){s[f]=p;continue}const m=Y6[f],v=_xe(p,m);if(Uu.has(f)){if(l=!0,o[f]=v,!u)continue;p!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=v):i[f]=v}if(e.transform||(l||r?i.transform=xxe(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const UP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Q6(n,e,t){for(const r in e)!pi(e[r])&&!j6(r,t)&&(n[r]=e[r])}function Exe({transformTemplate:n},e,t){return R.useMemo(()=>{const r=UP();return FP(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Mxe(n,e,t){const r=n.style||{},i={};return Q6(i,r,n),Object.assign(i,Exe(n,e,t)),n.transformValues?n.transformValues(i):i}function Cxe(n,e,t){const r={},i=Mxe(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Txe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function c1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Txe.has(n)}let q6=n=>!c1(n);function Rxe(n){n&&(q6=e=>e.startsWith("on")?!c1(e):n(e))}try{Rxe(require("@emotion/is-prop-valid").default)}catch{}function Pxe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(q6(i)||t===!0&&c1(i)||!e&&!c1(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function tN(n,e,t){return typeof n=="string"?n:lt.transform(e+t*n)}function Ixe(n,e,t){const r=tN(e,n.x,n.width),i=tN(t,n.y,n.height);return`${r} ${i}`}const Bxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lxe={offset:"strokeDashoffset",array:"strokeDasharray"};function Dxe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Bxe:Lxe;n[s.offset]=lt.transform(-r);const o=lt.transform(e),a=lt.transform(t);n[s.array]=`${o} ${a}`}function HP(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,p){if(FP(n,c,u,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:y}=n;m.transform&&(y&&(v.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Ixe(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&Dxe(m,o,a,l,!1)}const Z6=()=>({...UP(),attrs:{}}),zP=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Oxe(n,e,t,r){const i=R.useMemo(()=>{const s=Z6();return HP(s,e,{enableHardwareAcceleration:!1},zP(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Q6(s,n.style,n),i.style={...s,...i.style}}return i}function kxe(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(NP(t)?Oxe:Cxe)(r,s,o,t),u={...Pxe(r,typeof t=="string",n),...l,ref:i},{children:f}=r,p=R.useMemo(()=>pi(f)?f.get():f,[f]);return R.createElement(t,{...u,children:p})}}function e8(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const t8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n8(n,e,t,r){e8(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(t8.has(i)?i:LP(i),e.attrs[i])}function GP(n,e){const{style:t}=n,r={};for(const i in t)(pi(t[i])||e.style&&pi(e.style[i])||j6(i,n))&&(r[i]=t[i]);return r}function r8(n,e){const t=GP(n,e);for(const r in n)if(pi(n[r])||pi(e[r])){const i=Zg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function VP(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function i8(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const u1=n=>Array.isArray(n),Nxe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Fxe=n=>u1(n)?n[n.length-1]||0:n;function ux(n){const e=pi(n)?n.get():n;return Nxe(e)?e.toValue():e}function Uxe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Hxe(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const s8=n=>(e,t)=>{const r=R.useContext(Bb),i=R.useContext(Lb),s=()=>Uxe(n,e,r,i);return t?s():i8(s)};function Hxe(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=ux(s[p]);let{initial:o,animate:a}=n;const l=kb(n),c=$6(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!Ob(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=VP(n,m);if(!v)return;const{transitionEnd:y,transition:x,...g}=v;for(const _ in g){let b=g[_];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(i[_]=b)}for(const _ in y)i[_]=y[_]}),i}const Bn=n=>n;class nN{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function zxe(n){let e=new nN,t=new nN,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,p=f?e:t;return c&&o.add(l),p.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const Py=["prepare","read","update","preRender","render","postRender"],Gxe=40;function Vxe(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Py.reduce((f,p)=>(f[p]=zxe(()=>t=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Gxe),1),i.timestamp=f,i.isProcessing=!0,Py.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:Py.reduce((f,p)=>{const m=s[p];return f[p]=(v,y=!1,x=!1)=>(t||l(),m.schedule(v,y,x)),f},{}),cancel:f=>Py.forEach(p=>s[p].cancel(f)),state:i,steps:s}}const{schedule:ln,cancel:La,state:Lr,steps:YS}=Vxe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0),$xe={useVisualState:s8({scrapeMotionValuesFromProps:r8,createRenderState:Z6,onMount:(n,e,{renderState:t,latestValues:r})=>{ln.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ln.render(()=>{HP(t,r,{enableHardwareAcceleration:!1},zP(e.tagName),n.transformTemplate),n8(e,t)})}})},Wxe={useVisualState:s8({scrapeMotionValuesFromProps:GP,createRenderState:UP})};function jxe(n,{forwardMotionProps:e=!1},t,r){return{...NP(n)?$xe:Wxe,preloadedFeatures:t,useRender:kxe(e),createVisualElement:r,Component:n}}function ma(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const o8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Fb(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Jxe=n=>e=>o8(e)&&n(e,Fb(e));function Sa(n,e,t,r){return ma(n,e,Jxe(t),r)}const Kxe=(n,e)=>t=>e(n(t)),Ol=(...n)=>n.reduce(Kxe);function a8(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const rN=a8("dragHorizontal"),iN=a8("dragVertical");function l8(n){let e=!1;if(n==="y")e=iN();else if(n==="x")e=rN();else{const t=rN(),r=iN();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function c8(){const n=l8(!0);return n?(n(),!1):!0}class lc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sN(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||c8())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&ln.update(()=>a[r](s,o))};return Sa(n.current,t,i,{passive:!n.getProps()[r]})}class Xxe extends lc{mount(){this.unmount=Ol(sN(this.node,!0),sN(this.node,!1))}unmount(){}}class Yxe extends lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(ma(this.node.current,"focus",()=>this.onFocus()),ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const u8=(n,e)=>e?n===e?!0:u8(n,e.parentElement):!1;function QS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Fb(t))}class Qxe extends lc{constructor(){super(...arguments),this.removeStartListeners=Bn,this.removeEndListeners=Bn,this.removeAccessibleListeners=Bn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Sa(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();ln.update(()=>{!f&&!u8(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Sa(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ol(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||QS("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ln.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ma(this.node.current,"keyup",o),QS("down",(a,l)=>{this.startPress(a,l)})},t=ma(this.node.current,"keydown",e),r=()=>{this.isPressing&&QS("cancel",(s,o)=>this.cancelPress(s,o))},i=ma(this.node.current,"blur",r);this.removeAccessibleListeners=Ol(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ln.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!c8()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ln.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Sa(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ma(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ol(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sC=new WeakMap,qS=new WeakMap,qxe=n=>{const e=sC.get(n.target);e&&e(n)},Zxe=n=>{n.forEach(qxe)};function e1e({root:n,...e}){const t=n||document;qS.has(t)||qS.set(t,{});const r=qS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Zxe,{root:n,...e})),r[i]}function t1e(n,e,t){const r=e1e(e);return sC.set(n,t),r.observe(n),()=>{sC.delete(n),r.unobserve(n)}}const n1e={some:0,all:1};class r1e extends lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:n1e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return t1e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(i1e(e,t))&&this.startObserver()}unmount(){}}function i1e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const s1e={inView:{Feature:r1e},tap:{Feature:Qxe},focus:{Feature:Yxe},hover:{Feature:Xxe}};function f8(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function o1e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function a1e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Ub(n,e,t){const r=n.getProps();return VP(r,e,t!==void 0?t:r.custom,o1e(n),a1e(n))}let l1e=Bn,$P=Bn;const kl=n=>n*1e3,Aa=n=>n/1e3,c1e={current:!1},d8=n=>Array.isArray(n)&&typeof n[0]=="number";function h8(n){return!!(!n||typeof n=="string"&&p8[n]||d8(n)||Array.isArray(n)&&n.every(h8))}const tm=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,p8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tm([0,.65,.55,1]),circOut:tm([.55,0,1,.45]),backIn:tm([.31,.01,.66,-.59]),backOut:tm([.33,1.53,.69,.99])};function m8(n){if(n)return d8(n)?tm(n):Array.isArray(n)?n.map(m8):p8[n]}function u1e(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=m8(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function f1e(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const g8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,d1e=1e-7,h1e=12;function p1e(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=g8(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>d1e&&++a<h1e);return o}function n0(n,e,t,r){if(n===e&&t===r)return Bn;const i=s=>p1e(s,0,1,n,t);return s=>s===0||s===1?s:g8(i(s),e,r)}const m1e=n0(.42,0,1,1),g1e=n0(0,0,.58,1),v8=n0(.42,0,.58,1),v1e=n=>Array.isArray(n)&&typeof n[0]!="number",y8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,x8=n=>e=>1-n(1-e),WP=n=>1-Math.sin(Math.acos(n)),b8=x8(WP),y1e=y8(WP),_8=n0(.33,1.53,.69,.99),jP=x8(_8),x1e=y8(jP),b1e=n=>(n*=2)<1?.5*jP(n):.5*(2-Math.pow(2,-10*(n-1))),_1e={linear:Bn,easeIn:m1e,easeInOut:v8,easeOut:g1e,circIn:WP,circInOut:y1e,circOut:b8,backIn:jP,backInOut:x1e,backOut:_8,anticipate:b1e},oN=n=>{if(Array.isArray(n)){$P(n.length===4);const[e,t,r,i]=n;return n0(e,t,r,i)}else if(typeof n=="string")return _1e[n];return n},JP=(n,e)=>t=>!!(e0(t)&&wxe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),w8=(n,e,t)=>r=>{if(!e0(r))return r;const[i,s,o,a]=r.match(Nb);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},w1e=n=>Xl(0,255,n),ZS={...Hu,transform:n=>Math.round(w1e(n))},eu={test:JP("rgb","red"),parse:w8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+ZS.transform(n)+", "+ZS.transform(e)+", "+ZS.transform(t)+", "+Sm(wm.transform(r))+")"};function S1e(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oC={test:JP("#"),parse:S1e,transform:eu.transform},bd={test:JP("hsl","hue"),parse:w8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Eo.transform(Sm(e))+", "+Eo.transform(Sm(t))+", "+Sm(wm.transform(r))+")"},$r={test:n=>eu.test(n)||oC.test(n)||bd.test(n),parse:n=>eu.test(n)?eu.parse(n):bd.test(n)?bd.parse(n):oC.parse(n),transform:n=>e0(n)?n:n.hasOwnProperty("red")?eu.transform(n):bd.transform(n)},An=(n,e,t)=>-t*n+t*e+n;function eA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function A1e({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=eA(l,a,n+1/3),s=eA(l,a,n),o=eA(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const tA=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},E1e=[oC,eu,bd],M1e=n=>E1e.find(e=>e.test(n));function aN(n){const e=M1e(n);let t=e.parse(n);return e===bd&&(t=A1e(t)),t}const S8=(n,e)=>{const t=aN(n),r=aN(e),i={...t};return s=>(i.red=tA(t.red,r.red,s),i.green=tA(t.green,r.green,s),i.blue=tA(t.blue,r.blue,s),i.alpha=An(t.alpha,r.alpha,s),eu.transform(i))};function C1e(n){var e,t;return isNaN(n)&&e0(n)&&(((e=n.match(Nb))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(X6))===null||t===void 0?void 0:t.length)||0)>0}const A8={regex:bxe,countKey:"Vars",token:"${v}",parse:Bn},E8={regex:X6,countKey:"Colors",token:"${c}",parse:$r.parse},M8={regex:Nb,countKey:"Numbers",token:"${n}",parse:Hu.parse};function nA(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function f1(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&nA(t,A8),nA(t,E8),nA(t,M8),t}function C8(n){return f1(n).values}function T8(n){const{values:e,numColors:t,numVars:r,tokenised:i}=f1(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(A8.token,o[l]):l<r+t?a=a.replace(E8.token,$r.transform(o[l])):a=a.replace(M8.token,Sm(o[l]));return a}}const T1e=n=>typeof n=="number"?0:n;function R1e(n){const e=C8(n);return T8(n)(e.map(T1e))}const Yl={test:C1e,parse:C8,createTransformer:T8,getAnimatableNone:R1e},R8=(n,e)=>t=>`${t>0?e:n}`;function P8(n,e){return typeof n=="number"?t=>An(n,e,t):$r.test(n)?S8(n,e):n.startsWith("var(")?R8(n,e):B8(n,e)}const I8=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>P8(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},P1e=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=P8(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},B8=(n,e)=>{const t=Yl.createTransformer(e),r=f1(n),i=f1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ol(I8(r.values,i.values),t):R8(n,e)},hg=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},lN=(n,e)=>t=>An(n,e,t);function I1e(n){return typeof n=="number"?lN:typeof n=="string"?$r.test(n)?S8:B8:Array.isArray(n)?I8:typeof n=="object"?P1e:lN}function B1e(n,e,t){const r=[],i=t||I1e(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Bn:e;a=Ol(l,a)}r.push(a)}return r}function L8(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if($P(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=B1e(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=hg(n[u],n[u+1],c);return o[u](f)};return t?c=>l(Xl(n[0],n[s-1],c)):l}function L1e(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=hg(0,e,r);n.push(An(t,1,i))}}function D1e(n){const e=[0];return L1e(e,n.length-1),e}function O1e(n,e){return n.map(t=>t*e)}function k1e(n,e){return n.map(()=>e||v8).splice(0,n.length-1)}function d1({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=v1e(r)?r.map(oN):oN(r),s={done:!1,value:e[0]},o=O1e(t&&t.length===e.length?t:D1e(e),n),a=L8(o,e,{ease:Array.isArray(i)?i:k1e(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function D8(n,e){return e?n*(1e3/e):0}const N1e=5;function O8(n,e,t){const r=Math.max(e-N1e,0);return D8(t-n(r),e-r)}const rA=.001,F1e=.01,cN=10,U1e=.05,H1e=1;function z1e({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;l1e(n<=kl(cN));let o=1-e;o=Xl(U1e,H1e,o),n=Xl(F1e,cN,Aa(n)),o<1?(i=c=>{const u=c*o,f=u*n,p=u-t,m=aC(c,o),v=Math.exp(-f);return rA-p/m*v},s=c=>{const f=c*o*n,p=f*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-f),y=aC(Math.pow(c,2),o);return(-i(c)+rA>0?-1:1)*((p-m)*v)/y}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-rA+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=V1e(i,s,a);if(n=kl(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const G1e=12;function V1e(n,e,t){let r=t;for(let i=1;i<G1e;i++)r=r-n(r)/e(r);return r}function aC(n,e){return n*Math.sqrt(1-e*e)}const $1e=["duration","bounce"],W1e=["stiffness","damping","mass"];function uN(n,e){return e.some(t=>n[t]!==void 0)}function j1e(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!uN(n,W1e)&&uN(n,$1e)){const t=z1e(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function k8({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:p}=j1e({...r,velocity:-Aa(r.velocity||0)}),m=f||0,v=l/(2*Math.sqrt(a*c)),y=s-i,x=Aa(Math.sqrt(a/c)),g=Math.abs(y)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let _;if(v<1){const b=aC(x,v);_=S=>{const E=Math.exp(-v*x*S);return s-E*((m+v*x*y)/b*Math.sin(b*S)+y*Math.cos(b*S))}}else if(v===1)_=b=>s-Math.exp(-x*b)*(y+(m+x*y)*b);else{const b=x*Math.sqrt(v*v-1);_=S=>{const E=Math.exp(-v*x*S),M=Math.min(b*S,300);return s-E*((m+v*x*y)*Math.sinh(M)+b*y*Math.cosh(M))/b}}return{calculatedDuration:p&&u||null,next:b=>{const S=_(b);if(p)o.done=b>=u;else{let E=m;b!==0&&(v<1?E=O8(_,b,S):E=0);const M=Math.abs(E)<=t,I=Math.abs(s-S)<=e;o.done=M&&I}return o.value=o.done?s:S,o}}}function fN({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],p={done:!1,value:f},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,v=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let y=t*e;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const _=B=>-y*Math.exp(-B/r),b=B=>g+_(B),S=B=>{const T=_(B),P=b(B);p.done=Math.abs(T)<=c,p.value=p.done?g:P};let E,M;const I=B=>{m(p.value)&&(E=B,M=k8({keyframes:[p.value,v(p.value)],velocity:O8(b,B,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:B=>{let T=!1;return!M&&E===void 0&&(T=!0,S(B),I(B)),E!==void 0&&B>E?M.next(B-E):(!T&&S(B),p)}}}const J1e=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ln.update(e,!0),stop:()=>La(e),now:()=>Lr.isProcessing?Lr.timestamp:performance.now()}},dN=2e4;function hN(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<dN;)e+=t,r=n.next(e);return e>=dN?1/0:e}const K1e={decay:fN,inertia:fN,tween:d1,keyframes:d1,spring:k8};function h1({autoplay:n=!0,delay:e=0,driver:t=J1e,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...p}){let m=1,v=!1,y,x;const g=()=>{x=new Promise(q=>{y=q})};g();let _;const b=K1e[i]||d1;let S;b!==d1&&typeof r[0]!="number"&&(S=L8([0,100],r,{clamp:!1}),r=[0,100]);const E=b({...p,keyframes:r});let M;a==="mirror"&&(M=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",B=null,T=null,P=null;E.calculatedDuration===null&&s&&(E.calculatedDuration=hN(E));const{calculatedDuration:O}=E;let z=1/0,H=1/0;O!==null&&(z=O+o,H=z*(s+1)-o);let N=0;const J=q=>{if(T===null)return;m>0&&(T=Math.min(T,q)),m<0&&(T=Math.min(q-H/m,T)),B!==null?N=B:N=Math.round(q-T)*m;const ee=N-e*(m>=0?1:-1),se=m>=0?ee<0:ee>H;N=Math.max(ee,0),I==="finished"&&B===null&&(N=H);let Z=N,de=E;if(s){const ue=Math.min(N,H)/z;let he=Math.floor(ue),we=ue%1;!we&&ue>=1&&(we=1),we===1&&he--,he=Math.min(he,s+1),!!(he%2)&&(a==="reverse"?(we=1-we,o&&(we-=o/z)):a==="mirror"&&(de=M)),Z=Xl(0,1,we)*z}const oe=se?{done:!1,value:r[0]}:de.next(Z);S&&(oe.value=S(oe.value));let{done:Q}=oe;!se&&O!==null&&(Q=m>=0?N>=H:N<=0);const Ee=B===null&&(I==="finished"||I==="running"&&Q);return f&&f(oe.value),Ee&&k(),oe},X=()=>{_&&_.stop(),_=void 0},Y=()=>{I="idle",X(),y(),g(),T=P=null},k=()=>{I="finished",u&&u(),X(),y()},U=()=>{if(v)return;_||(_=t(J));const q=_.now();l&&l(),B!==null?T=q-B:(!T||I==="finished")&&(T=q),I==="finished"&&g(),P=T,B=null,I="running",_.start()};n&&U();const V={then(q,ee){return x.then(q,ee)},get time(){return Aa(N)},set time(q){q=kl(q),N=q,B!==null||!_||m===0?B=q:T=_.now()-q/m},get duration(){const q=E.calculatedDuration===null?hN(E):E.calculatedDuration;return Aa(q)},get speed(){return m},set speed(q){q===m||!_||(m=q,V.time=Aa(N))},get state(){return I},play:U,pause:()=>{I="paused",B=N},stop:()=>{v=!0,I!=="idle"&&(I="idle",c&&c(),Y())},cancel:()=>{P!==null&&J(P),Y()},complete:()=>{I="finished"},sample:q=>(T=0,J(q))};return V}function X1e(n){let e;return()=>(e===void 0&&(e=n()),e)}const Y1e=X1e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Q1e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Iy=10,q1e=2e4,Z1e=(n,e)=>e.type==="spring"||n==="backgroundColor"||!h8(e.ease);function ebe(n,e,{onUpdate:t,onComplete:r,...i}){if(!(Y1e()&&Q1e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:p=300,ease:m,times:v}=i;if(Z1e(e,i)){const b=h1({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let M=0;for(;!S.done&&M<q1e;)S=b.sample(M),E.push(S.value),M+=Iy;v=void 0,f=E,p=M-Iy,m="linear"}const y=u1e(n.owner.current,e,f,{...i,duration:p,ease:m,times:v}),x=()=>{c=!1,y.cancel()},g=()=>{c=!0,ln.update(x),a(),u()};return y.onfinish=()=>{c||(n.set(f1e(f,i)),r&&r(),g())},{then(b,S){return l.then(b,S)},attachTimeline(b){return y.timeline=b,y.onfinish=null,Bn},get time(){return Aa(y.currentTime||0)},set time(b){y.currentTime=kl(b)},get speed(){return y.playbackRate},set speed(b){y.playbackRate=b},get duration(){return Aa(p)},play:()=>{o||(y.play(),La(x))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:b}=y;if(b){const S=h1({...i,autoplay:!1});n.setWithVelocity(S.sample(b-Iy).value,S.sample(b).value,Iy)}g()},complete:()=>{c||y.finish()},cancel:g}}function tbe({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Bn,pause:Bn,stop:Bn,then:s=>(s(),Promise.resolve()),cancel:Bn,complete:Bn});return e?h1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const nbe={type:"spring",stiffness:500,damping:25,restSpeed:10},rbe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ibe={type:"keyframes",duration:.8},sbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},obe=(n,{keyframes:e})=>e.length>2?ibe:Uu.has(n)?n.startsWith("scale")?rbe(e[1]):nbe:sbe,lC=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yl.test(e)||e==="0")&&!e.startsWith("url(")),abe=new Set(["brightness","contrast","saturate","opacity"]);function lbe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Nb)||[];if(!r)return n;const i=t.replace(r,"");let s=abe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const cbe=/([a-z-]*)\(.*?\)/g,cC={...Yl,getAnimatableNone:n=>{const e=n.match(cbe);return e?e.map(lbe).join(" "):n}},ube={...Y6,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:cC,WebkitFilter:cC},KP=n=>ube[n];function N8(n,e){let t=KP(n);return t!==cC&&(t=Yl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const F8=n=>/^0[^.\s]+$/.test(n);function fbe(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||F8(n)}function dbe(n,e,t,r){const i=lC(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),fbe(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=N8(e,a)}return s}function hbe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function XP(n,e){return n[e]||n.default||n}const pbe={skipAnimations:!1},YP=(n,e,t,r={})=>i=>{const s=XP(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-kl(o);const l=dbe(e,n,t,s),c=l[0],u=l[l.length-1],f=lC(n,c),p=lC(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(hbe(s)||(m={...m,...obe(n,m)}),m.duration&&(m.duration=kl(m.duration)),m.repeatDelay&&(m.repeatDelay=kl(m.repeatDelay)),!f||!p||c1e.current||s.type===!1||pbe.skipAnimations)return tbe(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=ebe(e,n,m);if(v)return v}return h1(m)};function p1(n){return!!(pi(n)&&n.add)}const U8=n=>/^\-?\d*\.?\d+$/.test(n);function QP(n,e){n.indexOf(e)===-1&&n.push(e)}function qP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ZP{constructor(){this.subscriptions=[]}add(e){return QP(this.subscriptions,e),()=>qP(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mbe=n=>!isNaN(parseFloat(n));class gbe{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Lr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ln.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ln.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=mbe(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZP);const r=this.events[e].add(t);return e==="change"?()=>{r(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?D8(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hh(n,e){return new gbe(n,e)}const H8=n=>e=>e.test(n),vbe={test:n=>n==="auto",parse:n=>n},z8=[Hu,lt,Eo,ul,Axe,Sxe,vbe],Gp=n=>z8.find(H8(n)),ybe=[...z8,$r,Yl],xbe=n=>ybe.find(H8(n));function bbe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,hh(t))}function _be(n,e){const t=Ub(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Fxe(s[o]);bbe(n,o,a)}}function wbe(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(U8(u)||F8(u))?u=parseFloat(u):!xbe(u)&&Yl.test(c)&&(u=N8(l,c)),n.addValue(l,hh(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Sbe(n,e){return e?(e[n]||e.default||e).from:void 0}function Abe(n,e,t){const r={};for(const i in n){const s=Sbe(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function Ebe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Mbe(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function G8(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||u&&Ebe(u,f))continue;const v={delay:t,elapsed:0,...XP(s||{},f)};if(window.HandoffAppearAnimations){const g=n.getProps()[V6];if(g){const _=window.HandoffAppearAnimations(g,f,p,ln);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let y=!v.isHandoff&&!Mbe(p,m);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(YP(f,p,m,n.shouldReduceMotion&&Uu.has(f)?{type:!1}:v));const x=p.animation;p1(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&_be(n,o)}),c}function uC(n,e,t={}){const r=Ub(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(G8(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Cbe(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Cbe(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Tbe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(uC(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Tbe(n,e){return n.sortNodePosition(e)}function Rbe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>uC(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=uC(n,e,t);else{const i=typeof e=="function"?Ub(n,e,t.custom):e;r=Promise.all(G8(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Pbe=[...DP].reverse(),Ibe=DP.length;function Bbe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Rbe(n,t,r)))}function Lbe(n){let e=Bbe(n);const t=Obe();let r=!0;const i=(l,c)=>{const u=Ub(n,c);if(u){const{transition:f,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},y=1/0;for(let g=0;g<Ibe;g++){const _=Pbe[g],b=t[_],S=u[_]!==void 0?u[_]:f[_],E=fg(S),M=_===c?b.isActive:null;M===!1&&(y=g);let I=S===f[_]&&S!==u[_]&&E;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...v},!b.isActive&&M===null||!S&&!b.prevProp||Ob(S)||typeof S=="boolean")continue;let T=Dbe(b.prevProp,S)||_===c&&b.isActive&&!I&&E||g>y&&E,P=!1;const O=Array.isArray(S)?S:[S];let z=O.reduce(i,{});M===!1&&(z={});const{prevResolvedValues:H={}}=b,N={...H,...z},J=X=>{T=!0,m.has(X)&&(P=!0,m.delete(X)),b.needsAnimating[X]=!0};for(const X in N){const Y=z[X],k=H[X];if(v.hasOwnProperty(X))continue;let U=!1;u1(Y)&&u1(k)?U=!f8(Y,k):U=Y!==k,U?Y!==void 0?J(X):m.add(X):Y!==void 0&&m.has(X)?J(X):b.protectedKeys[X]=!0}b.prevProp=S,b.prevResolvedValues=z,b.isActive&&(v={...v,...z}),r&&n.blockInitialAnimation&&(T=!1),T&&(!I||P)&&p.push(...O.map(X=>({animation:X,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const b=n.getBaseTarget(_);b!==void 0&&(g[_]=b)}),p.push({animation:g})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Dbe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!f8(e,n):!1}function Pc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Obe(){return{animate:Pc(!0),whileInView:Pc(),whileHover:Pc(),whileTap:Pc(),whileDrag:Pc(),whileFocus:Pc(),exit:Pc()}}class kbe extends lc{constructor(e){super(e),e.animationState||(e.animationState=Lbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ob(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Nbe=0;class Fbe extends lc{constructor(){super(...arguments),this.id=Nbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ube={animation:{Feature:kbe},exit:{Feature:Fbe}},pN=(n,e)=>Math.abs(n-e);function Hbe(n,e){const t=pN(n.x,e.x),r=pN(n.y,e.y);return Math.sqrt(t**2+r**2)}class V8{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=sA(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Hbe(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:y}=Lr;this.history.push({...v,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=iA(p,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=sA(f.type==="pointercancel"?this.lastMoveEventInfo:iA(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),v&&v(f,x)},!o8(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=Fb(e),a=iA(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,sA(a,this.history)),this.removeListeners=Ol(Sa(this.contextWindow,"pointermove",this.handlePointerMove),Sa(this.contextWindow,"pointerup",this.handlePointerUp),Sa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),La(this.updatePoint)}}function iA(n,e){return e?{point:e(n.point)}:n}function mN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function sA({point:n},e){return{point:n,delta:mN(n,$8(e)),offset:mN(n,zbe(e)),velocity:Gbe(e,.1)}}function zbe(n){return n[0]}function $8(n){return n[n.length-1]}function Gbe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=$8(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>kl(e)));)t--;if(!r)return{x:0,y:0};const s=Aa(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vi(n){return n.max-n.min}function fC(n,e=0,t=.01){return Math.abs(n-e)<=t}function gN(n,e,t,r=.5){n.origin=r,n.originPoint=An(e.min,e.max,n.origin),n.scale=Vi(t)/Vi(e),(fC(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=An(t.min,t.max,n.origin)-n.originPoint,(fC(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Am(n,e,t,r){gN(n.x,e.x,t.x,r?r.originX:void 0),gN(n.y,e.y,t.y,r?r.originY:void 0)}function vN(n,e,t){n.min=t.min+e.min,n.max=n.min+Vi(e)}function Vbe(n,e,t){vN(n.x,e.x,t.x),vN(n.y,e.y,t.y)}function yN(n,e,t){n.min=e.min-t.min,n.max=n.min+Vi(e)}function Em(n,e,t){yN(n.x,e.x,t.x),yN(n.y,e.y,t.y)}function $be(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?An(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?An(t,n,r.max):Math.min(n,t)),n}function xN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Wbe(n,{top:e,left:t,bottom:r,right:i}){return{x:xN(n.x,t,i),y:xN(n.y,e,r)}}function bN(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function jbe(n,e){return{x:bN(n.x,e.x),y:bN(n.y,e.y)}}function Jbe(n,e){let t=.5;const r=Vi(n),i=Vi(e);return i>r?t=hg(e.min,e.max-r,n.min):r>i&&(t=hg(n.min,n.max-i,e.min)),Xl(0,1,t)}function Kbe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const dC=.35;function Xbe(n=dC){return n===!1?n=0:n===!0&&(n=dC),{x:_N(n,"left","right"),y:_N(n,"top","bottom")}}function _N(n,e,t){return{min:wN(n,e),max:wN(n,t)}}function wN(n,e){return typeof n=="number"?n:n[e]||0}const SN=()=>({translate:0,scale:1,origin:0,originPoint:0}),_d=()=>({x:SN(),y:SN()}),AN=()=>({min:0,max:0}),$n=()=>({x:AN(),y:AN()});function os(n){return[n("x"),n("y")]}function W8({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Ybe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Qbe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function oA(n){return n===void 0||n===1}function hC({scale:n,scaleX:e,scaleY:t}){return!oA(n)||!oA(e)||!oA(t)}function Fc(n){return hC(n)||j8(n)||n.z||n.rotate||n.rotateX||n.rotateY}function j8(n){return EN(n.x)||EN(n.y)}function EN(n){return n&&n!=="0%"}function m1(n,e,t){const r=n-t,i=e*r;return t+i}function MN(n,e,t,r,i){return i!==void 0&&(n=m1(n,i,r)),m1(n,t,r)+e}function pC(n,e=0,t=1,r,i){n.min=MN(n.min,e,t,r,i),n.max=MN(n.max,e,t,r,i)}function J8(n,{x:e,y:t}){pC(n.x,e.translate,e.scale,e.originPoint),pC(n.y,t.translate,t.scale,t.originPoint)}function qbe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wd(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,J8(n,o)),r&&Fc(s.latestValues)&&wd(n,s.latestValues))}e.x=CN(e.x),e.y=CN(e.y)}function CN(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function gl(n,e){n.min=n.min+e,n.max=n.max+e}function TN(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=An(n.min,n.max,s);pC(n,e[t],e[r],o,e.scale)}const Zbe=["x","scaleX","originX"],e_e=["y","scaleY","originY"];function wd(n,e){TN(n.x,e,Zbe),TN(n.y,e,e_e)}function K8(n,e){return W8(Qbe(n.getBoundingClientRect(),e))}function t_e(n,e,t){const r=K8(n,t),{scroll:i}=e;return i&&(gl(r.x,i.offset.x),gl(r.y,i.offset.y)),r}const X8=({current:n})=>n?n.ownerDocument.defaultView:null,n_e=new WeakMap;class r_e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$n(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fb(u,"page").point)},s=(u,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=l8(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Eo.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[x];b&&(g=Vi(b)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&ln.update(()=>v(u,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=i_e(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(u,f)},a=(u,f)=>this.stop(u,f),l=()=>os(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new V8(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:X8(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ln.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!By(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$be(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&xd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Wbe(i.layoutBox,t):this.constraints=!1,this.elastic=Xbe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&os(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Kbe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=t_e(r,i.root,this.visualElement.getTransformPagePoint());let o=jbe(i.layout.layoutBox,s);if(t){const a=t(Ybe(o));this.hasMutatedConstraints=!!a,a&&(o=W8(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=os(u=>{if(!By(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(YP(e,r,0,t))}stopAnimation(){os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){os(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){os(t=>{const{drag:r}=this.getProps();if(!By(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-An(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!xd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};os(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Jbe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),os(o=>{if(!By(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(An(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;n_e.set(this.visualElement,this);const e=this.visualElement.current,t=Sa(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(os(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=dC,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function By(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function i_e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class s_e extends lc{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new r_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const RN=n=>(e,t)=>{n&&ln.update(()=>n(e,t))};class o_e extends lc{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new V8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RN(e),onStart:RN(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ln.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Sa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function a_e(){const n=R.useContext(Lb);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=R.useId();return R.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const fx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Vp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(lt.test(n))n=parseFloat(n);else return n;const t=PN(n,e.target.x),r=PN(n,e.target.y);return`${t}% ${r}%`}},l_e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Yl.parse(n);if(i.length>5)return r;const s=Yl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=An(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class c_e extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;gxe(u_e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ln.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y8(n){const[e,t]=a_e(),r=R.useContext(kP);return D.createElement(c_e,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(W6),isPresent:e,safeToRemove:t})}const u_e={borderRadius:{...Vp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vp,borderTopRightRadius:Vp,borderBottomLeftRadius:Vp,borderBottomRightRadius:Vp,boxShadow:l_e},Q8=["TopLeft","TopRight","BottomLeft","BottomRight"],f_e=Q8.length,IN=n=>typeof n=="string"?parseFloat(n):n,BN=n=>typeof n=="number"||lt.test(n);function d_e(n,e,t,r,i,s){i?(n.opacity=An(0,t.opacity!==void 0?t.opacity:1,h_e(r)),n.opacityExit=An(e.opacity!==void 0?e.opacity:1,0,p_e(r))):s&&(n.opacity=An(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<f_e;o++){const a=`border${Q8[o]}Radius`;let l=LN(e,a),c=LN(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||BN(l)===BN(c)?(n[a]=Math.max(An(IN(l),IN(c),r),0),(Eo.test(c)||Eo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=An(e.rotate||0,t.rotate||0,r))}function LN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const h_e=q8(0,.5,b8),p_e=q8(.5,.95,Bn);function q8(n,e,t){return r=>r<n?0:r>e?1:t(hg(n,e,r))}function DN(n,e){n.min=e.min,n.max=e.max}function ss(n,e){DN(n.x,e.x),DN(n.y,e.y)}function ON(n,e,t,r,i){return n-=e,n=m1(n,1/t,r),i!==void 0&&(n=m1(n,1/i,r)),n}function m_e(n,e=0,t=1,r=.5,i,s=n,o=n){if(Eo.test(e)&&(e=parseFloat(e),e=An(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=An(s.min,s.max,r);n===s&&(a-=e),n.min=ON(n.min,e,t,a,i),n.max=ON(n.max,e,t,a,i)}function kN(n,e,[t,r,i],s,o){m_e(n,e[t],e[r],e[i],e.scale,s,o)}const g_e=["x","scaleX","originX"],v_e=["y","scaleY","originY"];function NN(n,e,t,r){kN(n.x,e,g_e,t?t.x:void 0,r?r.x:void 0),kN(n.y,e,v_e,t?t.y:void 0,r?r.y:void 0)}function FN(n){return n.translate===0&&n.scale===1}function Z8(n){return FN(n.x)&&FN(n.y)}function y_e(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function e9(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function UN(n){return Vi(n.x)/Vi(n.y)}class x_e{constructor(){this.members=[]}add(e){QP(this.members,e),e.scheduleRender()}remove(e){if(qP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HN(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const b_e=(n,e)=>n.depth-e.depth;class __e{constructor(){this.children=[],this.isDirty=!1}add(e){QP(this.children,e),this.isDirty=!0}remove(e){qP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b_e),this.isDirty=!1,this.children.forEach(e)}}function w_e(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(La(r),n(s-e))};return ln.read(r,!0),()=>La(r)}function S_e(n){window.MotionDebug&&window.MotionDebug.record(n)}function A_e(n){return n instanceof SVGElement&&n.tagName!=="svg"}function E_e(n,e,t){const r=pi(n)?n:hh(n);return r.start(YP("",r,e,t)),r.animation}const zN=["","X","Y","Z"],M_e={visibility:"hidden"},GN=1e3;let C_e=0;const Uc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function t9({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=C_e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Uc.totalNodes=Uc.resolvedTargetDeltas=Uc.recalculatedProjection=0,this.nodes.forEach(P_e),this.nodes.forEach(O_e),this.nodes.forEach(k_e),this.nodes.forEach(I_e),S_e(Uc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new __e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZP),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=A_e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=w_e(p,250),fx.hasAnimatedSinceResize&&(fx.hasAnimatedSinceResize=!1,this.nodes.forEach($N))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||z_e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=u.getProps(),_=!this.targetLayout||!e9(this.targetLayout,v)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...XP(y,"layout"),onPlay:x,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||$N(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,La(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N_e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VN);return}this.isUpdating||this.nodes.forEach(L_e),this.isUpdating=!1,this.nodes.forEach(D_e),this.nodes.forEach(T_e),this.nodes.forEach(R_e),this.clearAllSnapshots();const a=performance.now();Lr.delta=Xl(0,1e3/60,a-Lr.timestamp),Lr.timestamp=a,Lr.isProcessing=!0,YS.update.process(Lr),YS.preRender.process(Lr),YS.render.process(Lr),Lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(B_e),this.sharedNodes.forEach(F_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Z8(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Fc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),G_e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $n();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(gl(a.x,l.offset.x),gl(a.y,l.offset.y)),a}removeElementScroll(o){const a=$n();ss(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){ss(a,o);const{scroll:p}=this.root;p&&(gl(a.x,-p.offset.x),gl(a.y,-p.offset.y))}gl(a.x,u.offset.x),gl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=$n();ss(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fc(u.latestValues)&&wd(l,u.latestValues)}return Fc(this.latestValues)&&wd(l,this.latestValues),l}removeTransform(o){const a=$n();ss(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fc(c.latestValues))continue;hC(c.latestValues)&&c.updateSnapshot();const u=$n(),f=c.measurePageBox();ss(u,f),NN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Fc(this.latestValues)&&NN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Lr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$n(),this.relativeTargetOrigin=$n(),Em(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$n(),this.targetWithTransforms=$n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),J8(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$n(),this.relativeTargetOrigin=$n(),Em(this.relativeTargetOrigin,this.target,m.target),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hC(this.parent.latestValues)||j8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ss(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;qbe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=_d(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=_d(),this.projectionDeltaWithTransform=_d());const y=this.projectionTransform;Am(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=HN(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Uc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=_d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=$n(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,x=this.getStack(),g=!x||x.members.length<=1,_=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(H_e));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const E=S/1e3;WN(f.x,o.x,E),WN(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Em(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U_e(this.relativeTarget,this.relativeTargetOrigin,p,E),b&&y_e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=$n()),ss(b,this.relativeTarget)),y&&(this.animationValues=u,d_e(u,c,this.latestValues,E,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(La(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{fx.hasAnimatedSinceResize=!0,this.currentAnimation=E_e(0,GN,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&n9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$n();const f=Vi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Vi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ss(a,l),wd(a,u),Am(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new x_e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<zN.length;u++){const f="rotate"+zN[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return M_e;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ux(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ux(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fc(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=HN(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in l1){if(p[y]===void 0)continue;const{correct:x,applyTo:g}=l1[y],_=c.transform==="none"?p[y]:x(p[y],f);if(g){const b=g.length;for(let S=0;S<b;S++)c[g[S]]=_}else c[y]=_}return this.options.layoutId&&(c.pointerEvents=f===this?ux(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(VN),this.root.sharedNodes.clear()}}}function T_e(n){n.updateLayout()}function R_e(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?os(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Vi(p);p.min=r[f].min,p.max=p.min+m}):n9(s,t.layoutBox,r)&&os(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Vi(r[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=_d();Am(a,r,t.layoutBox);const l=_d();o?Am(l,n.applyTransform(i,!0),t.measuredBox):Am(l,r,t.layoutBox);const c=!Z8(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=$n();Em(v,t.layoutBox,p.layoutBox);const y=$n();Em(y,r,m.layoutBox),e9(v,y)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function P_e(n){Uc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function I_e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function B_e(n){n.clearSnapshot()}function VN(n){n.clearMeasurements()}function L_e(n){n.isLayoutDirty=!1}function D_e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $N(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function O_e(n){n.resolveTargetDelta()}function k_e(n){n.calcProjection()}function N_e(n){n.resetRotation()}function F_e(n){n.removeLeadSnapshot()}function WN(n,e,t){n.translate=An(e.translate,0,t),n.scale=An(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function jN(n,e,t,r){n.min=An(e.min,t.min,r),n.max=An(e.max,t.max,r)}function U_e(n,e,t,r){jN(n.x,e.x,t.x,r),jN(n.y,e.y,t.y,r)}function H_e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const z_e={duration:.45,ease:[.4,0,.1,1]},JN=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),KN=JN("applewebkit/")&&!JN("chrome/")?Math.round:Bn;function XN(n){n.min=KN(n.min),n.max=KN(n.max)}function G_e(n){XN(n.x),XN(n.y)}function n9(n,e,t){return n==="position"||n==="preserve-aspect"&&!fC(UN(e),UN(t),.2)}const V_e=t9({attachResizeListener:(n,e)=>ma(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aA={current:void 0},r9=t9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!aA.current){const n=new V_e({});n.mount(window),n.setOptions({layoutScroll:!0}),aA.current=n}return aA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),$_e={pan:{Feature:o_e},drag:{Feature:s_e,ProjectionNode:r9,MeasureLayout:Y8}},W_e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function j_e(n){const e=W_e.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function mC(n,e,t=1){const[r,i]=j_e(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return U8(o)?parseFloat(o):o}else return iC(i)?mC(i,e,t+1):i}function J_e(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!iC(s))return;const o=mC(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!iC(s))continue;const o=mC(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const K_e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),i9=n=>K_e.has(n),X_e=n=>Object.keys(n).some(i9),YN=n=>n===Hu||n===lt,QN=(n,e)=>parseFloat(n.split(", ")[e]),qN=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return QN(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?QN(s[1],n):0}},Y_e=new Set(["x","y","z"]),Q_e=Zg.filter(n=>!Y_e.has(n));function q_e(n){const e=[];return Q_e.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ph={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:qN(4,13),y:qN(5,14)};ph.translateX=ph.x;ph.translateY=ph.y;const Z_e=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=ph[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=ph[c](l,s)}),n},ewe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(i9);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=Gp(u);const p=e[l];let m;if(u1(p)){const v=p.length,y=p[0]===null?1:0;u=p[y],f=Gp(u);for(let x=y;x<v&&p[x]!==null;x++)m?$P(Gp(p[x])===m):m=Gp(p[x])}else m=Gp(p);if(f!==m)if(YN(f)&&YN(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===lt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=f.transform(p):(o||(s=q_e(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Z_e(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),Db&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function twe(n,e,t,r){return X_e(e)?ewe(n,e,t,r):{target:e,transitionEnd:r}}const nwe=(n,e,t,r)=>{const i=J_e(n,e,r);return e=i.target,r=i.transitionEnd,twe(n,e,t,r)},gC={current:null},s9={current:!1};function rwe(){if(s9.current=!0,!!Db)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>gC.current=n.matches;n.addListener(e),e()}else gC.current=!1}function iwe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(pi(s))n.addValue(i,s),p1(r)&&r.add(i);else if(pi(o))n.addValue(i,hh(s,{owner:n})),p1(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,hh(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const ZN=new WeakMap,o9=Object.keys(dg),swe=o9.length,eF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],owe=OP.length;class awe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ln.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=kb(t),this.isVariantNode=$6(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const p=u[f];a[f]!==void 0&&pi(p)&&(p.set(a[f],!1),p1(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,ZN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),s9.current||rwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZN.delete(this.current),this.projection&&this.projection.unmount(),La(this.notifyUpdate),La(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Uu.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ln.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<swe;l++){const c=o9[l],{isEnabled:u,Feature:f,ProjectionNode:p,MeasureLayout:m}=dg[c];p&&(o=p),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&xd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<eF.length;r++){const i=eF[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=iwe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<owe;r++){const i=OP[r],s=this.props[i];(fg(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=hh(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=VP(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZP),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class a9 extends awe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Abe(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){wbe(this,r,o);const a=nwe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function lwe(n){return window.getComputedStyle(n)}class cwe extends a9{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Uu.has(t)){const r=KP(t);return r&&r.default||0}else{const r=lwe(e),i=(K6(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return K8(e,t)}build(e,t,r,i){FP(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return GP(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){e8(e,t,r,i)}}class uwe extends a9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Uu.has(t)){const r=KP(t);return r&&r.default||0}return t=t8.has(t)?t:LP(t),e.getAttribute(t)}measureInstanceViewportBox(){return $n()}scrapeMotionValuesFromProps(e,t){return r8(e,t)}build(e,t,r,i){HP(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){n8(e,t,r,i)}mount(e){this.isSVGTag=zP(e.tagName),super.mount(e)}}const fwe=(n,e)=>NP(n)?new uwe(e,{enableHardwareAcceleration:!1}):new cwe(e,{enableHardwareAcceleration:!0}),dwe={layout:{ProjectionNode:r9,MeasureLayout:Y8}},hwe={...Ube,...s1e,...$_e,...dwe},zs=pxe((n,e)=>jxe(n,e,hwe,fwe));function l9(){const n=R.useRef(!1);return BP(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function pwe(){const n=l9(),[e,t]=R.useState(0),r=R.useCallback(()=>{n.current&&t(e+1)},[e]);return[R.useCallback(()=>ln.postRender(r),[r]),e]}class mwe extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gwe({children:n,isPresent:e}){const t=R.useId(),r=R.useRef(null),i=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),R.createElement(mwe,{isPresent:e,childRef:r,sizeRef:i},R.cloneElement(n,{ref:r}))}const lA=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=i8(vwe),l=R.useId(),c=R.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return R.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[t]),R.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=R.createElement(gwe,{isPresent:t},n)),R.createElement(Lb.Provider,{value:c},n)};function vwe(){return new Map}function ywe(n){return R.useEffect(()=>()=>n(),[])}const Hc=n=>n.key||"";function xwe(n,e){n.forEach(t=>{const r=Hc(t);e.set(r,t)})}function bwe(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const c9=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=R.useContext(kP).forceRender||pwe()[0],l=l9(),c=bwe(n);let u=c;const f=R.useRef(new Map).current,p=R.useRef(u),m=R.useRef(new Map).current,v=R.useRef(!0);if(BP(()=>{v.current=!1,xwe(c,m),p.current=u}),ywe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return R.createElement(R.Fragment,null,u.map(_=>R.createElement(lA,{key:Hc(_),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},_)));u=[...u];const y=p.current.map(Hc),x=c.map(Hc),g=y.length;for(let _=0;_<g;_++){const b=y[_];x.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(u=[]),f.forEach((_,b)=>{if(x.indexOf(b)!==-1)return;const S=m.get(b);if(!S)return;const E=y.indexOf(b);let M=_;if(!M){const I=()=>{f.delete(b);const B=Array.from(m.keys()).filter(T=>!x.includes(T));if(B.forEach(T=>m.delete(T)),p.current=c.filter(T=>{const P=Hc(T);return P===b||B.includes(P)}),!f.size){if(l.current===!1)return;a(),r&&r()}};M=R.createElement(lA,{key:Hc(S),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},S),f.set(b,M)}u.splice(E,0,M)}),u=u.map(_=>{const b=_.key;return f.has(b)?_:R.createElement(lA,{key:Hc(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),R.createElement(R.Fragment,null,f.size?u:u.map(_=>R.cloneElement(_)))},Ea={type:"spring",duration:.8},tu=n=>({initial:{x:n==="left"?-100:n==="right"?100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0,transition:{...Ea,delay:.5}},animate:{x:0,y:0,opacity:1,transition:{...Ea,delay:0}},exit:{x:n==="left"?-100:n==="right"?100:0,y:n==="up"?100:n==="down"?-100:0,transition:{...Ea,delay:0}}}),_we={initial:{opacity:0,transition:{...Ea,delay:.5}},animate:{opacity:1,transition:{...Ea,delay:0}},exit:{opacity:0,transition:{...Ea,delay:0}}},wwe={initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:5,stiffness:40,restDelta:.001,duration:.3}},Swe={initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:7,stiffness:30,restDelta:.001,duration:.6,delay:.2,delayChildren:.2}},Awe={initial:{x:-100,opacity:0,transition:{...Ea,delay:.5}},animate:{x:0,opacity:1,transition:{...Ea,delay:0}},exit:{x:-100,opacity:0,transition:{...Ea,delay:0}}},tF=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>e(r.result),r.readAsDataURL(n)}),Ewe=n=>{const e=n.replace("#",""),t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return(t*299+r*587+i*114)/1e3>128?"black":"white"},Hd=({type:n,title:e,customStyles:t,style:r,handleClick:i,disabled:s})=>{const o=mi(mt),a=l=>{if(l==="filled")return{backgroundColor:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"],color:Ewe(o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"])};if(l==="outline")return{borderWidth:"1px",borderColor:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"],color:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"]}};return K("button",{className:`px-2 py-1.5 flex-1 rounded-md ${t}`,style:{...a(n),...r},onClick:i,disabled:s,children:e})},Mwe=({prompt:n,setPrompt:e,generatingImg:t,handleSubmit:r})=>tt("div",{className:"aipicker-container",children:[K("textarea",{placeholder:"Ask AI...",rows:5,value:n,onChange:i=>e(i.target.value),className:"aipicker-textarea"}),K("div",{className:"flex flex-wrap gap-3",children:t?K(Hd,{type:"outline",title:"Asking AI...",customStyles:"text-xs"}):tt(Hl,{children:[K(Hd,{type:"outline",title:"AI Logo",handleClick:()=>r("logo"),customStyles:"text-xs"}),K(Hd,{type:"filled",title:"AI Full",handleClick:()=>r("full"),customStyles:"text-xs"})]})})]});var fs={},r0={},Cwe=UV,Twe=rhe;function Rwe(n,e){return n&&Cwe(n,Twe(e))}var eI=Rwe,Pwe=Nu,Iwe=uP,Bwe=Va,Lwe="[object Object]",Dwe=Function.prototype,Owe=Object.prototype,u9=Dwe.toString,kwe=Owe.hasOwnProperty,Nwe=u9.call(Object);function Fwe(n){if(!Bwe(n)||Pwe(n)!=Lwe)return!1;var e=Iwe(n);if(e===null)return!0;var t=kwe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&u9.call(t)==Nwe}var Uwe=Fwe;Object.defineProperty(r0,"__esModule",{value:!0});r0.flattenNames=void 0;var Hwe=_ge,zwe=Hb(Hwe),Gwe=eI,Vwe=Hb(Gwe),$we=Uwe,Wwe=Hb($we),jwe=qde,Jwe=Hb(jwe);function Hb(n){return n&&n.__esModule?n:{default:n}}var Kwe=r0.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,Jwe.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,Wwe.default)(r)?(0,Vwe.default)(r,function(i,s){i===!0&&t.push(s),t.push(s+"-"+i)}):(0,zwe.default)(r)&&t.push(r)}),t};r0.default=Kwe;var i0={},Xwe=mge,Ywe=1,Qwe=4;function qwe(n){return Xwe(n,Ywe|Qwe)}var Zwe=qwe;Object.defineProperty(i0,"__esModule",{value:!0});i0.mergeClasses=void 0;var eSe=eI,tSe=f9(eSe),nSe=Zwe,rSe=f9(nSe),iSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function f9(n){return n&&n.__esModule?n:{default:n}}var sSe=i0.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,rSe.default)(e.default)||{};return t.map(function(i){var s=e[i];return s&&(0,tSe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=iSe({},r[a],s[a])}),i}),r};i0.default=sSe;var s0={};Object.defineProperty(s0,"__esModule",{value:!0});s0.autoprefix=void 0;var oSe=eI,nF=lSe(oSe),aSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function lSe(n){return n&&n.__esModule?n:{default:n}}var cSe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},uSe=s0.autoprefix=function(e){var t={};return(0,nF.default)(e,function(r,i){var s={};(0,nF.default)(r,function(o,a){var l=cSe[a];l?s=aSe({},s,l(o)):s[a]=o}),t[i]=s}),t};s0.default=uSe;var o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.hover=void 0;var fSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dSe=R,cA=hSe(dSe);function hSe(n){return n&&n.__esModule?n:{default:n}}function pSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function mSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var gSe=o0.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mSe(i,r);function i(){var s,o,a,l;pSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=rF(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return cA.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},cA.default.createElement(e,fSe({},a.props,a.state)))},o),rF(a,l)}return i}(cA.default.Component)};o0.default=gSe;var a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.active=void 0;var vSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ySe=R,uA=xSe(ySe);function xSe(n){return n&&n.__esModule?n:{default:n}}function bSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function _Se(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var wSe=a0.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){_Se(i,r);function i(){var s,o,a,l;bSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=iF(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return uA.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},uA.default.createElement(e,vSe({},a.props,a.state)))},o),iF(a,l)}return i}(uA.default.Component)};a0.default=wSe;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});var SSe=function(e,t){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};tI.default=SSe;Object.defineProperty(fs,"__esModule",{value:!0});fs.ReactCSS=fs.loop=fs.handleActive=nI=fs.handleHover=fs.hover=void 0;var ASe=r0,ESe=Hh(ASe),MSe=i0,CSe=Hh(MSe),TSe=s0,RSe=Hh(TSe),PSe=o0,d9=Hh(PSe),ISe=a0,BSe=Hh(ISe),LSe=tI,DSe=Hh(LSe);function Hh(n){return n&&n.__esModule?n:{default:n}}fs.hover=d9.default;var nI=fs.handleHover=d9.default;fs.handleActive=BSe.default;fs.loop=DSe.default;var OSe=fs.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=(0,ESe.default)(r),o=(0,CSe.default)(e,s);return(0,RSe.default)(o)},pt=fs.default=OSe,kSe=function(e,t,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,t.a!==p)return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}else{var m=void 0;if(u<0?m=0:u>o?m=1:m=Math.round(u*100/o)/100,i!==m)return{h:t.h,s:t.s,l:t.l,a:m,source:"rgb"}}return null},fA={},NSe=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},FSe=function(e,t,r,i){var s=e+"-"+t+"-"+r+(i?"-server":"");if(fA[s])return fA[s];var o=NSe(e,t,r,i);return fA[s]=o,o},sF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zh=function(e){var t=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=pt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+FSe(t,r,i,s.canvas)+") center left"}}});return R.isValidElement(l)?D.cloneElement(l,sF({},l.props,{style:sF({},l.props.style,c.grid)})):D.createElement("div",{style:c.grid})};zh.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var USe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HSe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function zSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function GSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var rI=function(n){GSe(e,n);function e(){var t,r,i,s;zSe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=oF(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var u=kSe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),oF(i,s)}return HSe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=pt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:USe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return D.createElement("div",{style:s.alpha},D.createElement("div",{style:s.checkboard},D.createElement(zh,{renderers:this.props.renderers})),D.createElement("div",{style:s.gradient}),D.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("div",{style:s.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:s.slider}))))}}]),e}(R.PureComponent||R.Component),VSe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function $Se(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jSe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function JSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var KSe=1,h9=38,XSe=40,YSe=[h9,XSe],QSe=function(e){return YSe.indexOf(e)>-1},qSe=function(e){return Number(String(e).replace(/%/g,""))},ZSe=1,kt=function(n){JSe(e,n);function e(t){WSe(this,e);var r=jSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=qSe(i.target.value);if(!isNaN(s)&&QSe(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===h9?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+ZSe++,r}return VSe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return $Se({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||KSe}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=pt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return D.createElement("div",{style:i.wrap},D.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?D.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(R.PureComponent||R.Component),eAe=function(e,t,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var f=void 0;if(u<0)f=359;else if(u>o)f=0;else{var p=-(u*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},tAe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function nAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function aF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function rAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Gh=function(n){rAe(e,n);function e(){var t,r,i,s;nAe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=aF(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var u=eAe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),aF(i,s)}return tAe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=pt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return D.createElement("div",{style:o.hue},D.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),D.createElement("div",{style:o.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:o.slider}))))}}]),e}(R.PureComponent||R.Component);function iAe(){this.__data__=[],this.size=0}function l0(n,e){return n===e||n!==n&&e!==e}function zb(n,e){for(var t=n.length;t--;)if(l0(n[t][0],e))return t;return-1}var sAe=Array.prototype,oAe=sAe.splice;function aAe(n){var e=this.__data__,t=zb(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():oAe.call(e,t,1),--this.size,!0}function lAe(n){var e=this.__data__,t=zb(e,n);return t<0?void 0:e[t][1]}function cAe(n){return zb(this.__data__,n)>-1}function uAe(n,e){var t=this.__data__,r=zb(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function $a(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$a.prototype.clear=iAe;$a.prototype.delete=aAe;$a.prototype.get=lAe;$a.prototype.has=cAe;$a.prototype.set=uAe;function fAe(){this.__data__=new $a,this.size=0}function dAe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function hAe(n){return this.__data__.get(n)}function pAe(n){return this.__data__.has(n)}var mAe=typeof global=="object"&&global&&global.Object===Object&&global;const p9=mAe;var gAe=typeof self=="object"&&self&&self.Object===Object&&self,vAe=p9||gAe||Function("return this")();const so=vAe;var yAe=so.Symbol;const Ql=yAe;var m9=Object.prototype,xAe=m9.hasOwnProperty,bAe=m9.toString,$p=Ql?Ql.toStringTag:void 0;function _Ae(n){var e=xAe.call(n,$p),t=n[$p];try{n[$p]=void 0;var r=!0}catch{}var i=bAe.call(n);return r&&(e?n[$p]=t:delete n[$p]),i}var wAe=Object.prototype,SAe=wAe.toString;function AAe(n){return SAe.call(n)}var EAe="[object Null]",MAe="[object Undefined]",lF=Ql?Ql.toStringTag:void 0;function zu(n){return n==null?n===void 0?MAe:EAe:lF&&lF in Object(n)?_Ae(n):AAe(n)}function _s(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var CAe="[object AsyncFunction]",TAe="[object Function]",RAe="[object GeneratorFunction]",PAe="[object Proxy]";function iI(n){if(!_s(n))return!1;var e=zu(n);return e==TAe||e==RAe||e==CAe||e==PAe}var IAe=so["__core-js_shared__"];const dA=IAe;var cF=function(){var n=/[^.]+$/.exec(dA&&dA.keys&&dA.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function BAe(n){return!!cF&&cF in n}var LAe=Function.prototype,DAe=LAe.toString;function Gu(n){if(n!=null){try{return DAe.call(n)}catch{}try{return n+""}catch{}}return""}var OAe=/[\\^$.*+?()[\]{}|]/g,kAe=/^\[object .+?Constructor\]$/,NAe=Function.prototype,FAe=Object.prototype,UAe=NAe.toString,HAe=FAe.hasOwnProperty,zAe=RegExp("^"+UAe.call(HAe).replace(OAe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GAe(n){if(!_s(n)||BAe(n))return!1;var e=iI(n)?zAe:kAe;return e.test(Gu(n))}function VAe(n,e){return n==null?void 0:n[e]}function Vu(n,e){var t=VAe(n,e);return GAe(t)?t:void 0}var $Ae=Vu(so,"Map");const pg=$Ae;var WAe=Vu(Object,"create");const mg=WAe;function jAe(){this.__data__=mg?mg(null):{},this.size=0}function JAe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var KAe="__lodash_hash_undefined__",XAe=Object.prototype,YAe=XAe.hasOwnProperty;function QAe(n){var e=this.__data__;if(mg){var t=e[n];return t===KAe?void 0:t}return YAe.call(e,n)?e[n]:void 0}var qAe=Object.prototype,ZAe=qAe.hasOwnProperty;function eEe(n){var e=this.__data__;return mg?e[n]!==void 0:ZAe.call(e,n)}var tEe="__lodash_hash_undefined__";function nEe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=mg&&e===void 0?tEe:e,this}function Au(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Au.prototype.clear=jAe;Au.prototype.delete=JAe;Au.prototype.get=QAe;Au.prototype.has=eEe;Au.prototype.set=nEe;function rEe(){this.size=0,this.__data__={hash:new Au,map:new(pg||$a),string:new Au}}function iEe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Gb(n,e){var t=n.__data__;return iEe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function sEe(n){var e=Gb(this,n).delete(n);return this.size-=e?1:0,e}function oEe(n){return Gb(this,n).get(n)}function aEe(n){return Gb(this,n).has(n)}function lEe(n,e){var t=Gb(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Wa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Wa.prototype.clear=rEe;Wa.prototype.delete=sEe;Wa.prototype.get=oEe;Wa.prototype.has=aEe;Wa.prototype.set=lEe;var cEe=200;function uEe(n,e){var t=this.__data__;if(t instanceof $a){var r=t.__data__;if(!pg||r.length<cEe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Wa(r)}return t.set(n,e),this.size=t.size,this}function Mo(n){var e=this.__data__=new $a(n);this.size=e.size}Mo.prototype.clear=fAe;Mo.prototype.delete=dAe;Mo.prototype.get=hAe;Mo.prototype.has=pAe;Mo.prototype.set=uEe;var fEe=function(){try{var n=Vu(Object,"defineProperty");return n({},"",{}),n}catch{}}();const g1=fEe;function sI(n,e,t){e=="__proto__"&&g1?g1(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function vC(n,e,t){(t!==void 0&&!l0(n[e],t)||t===void 0&&!(e in n))&&sI(n,e,t)}function dEe(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var hEe=dEe();const g9=hEe;var v9=typeof Li=="object"&&Li&&!Li.nodeType&&Li,uF=v9&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,pEe=uF&&uF.exports===v9,fF=pEe?so.Buffer:void 0,dF=fF?fF.allocUnsafe:void 0;function mEe(n,e){if(e)return n.slice();var t=n.length,r=dF?dF(t):new n.constructor(t);return n.copy(r),r}var gEe=so.Uint8Array;const v1=gEe;function vEe(n){var e=new n.constructor(n.byteLength);return new v1(e).set(new v1(n)),e}function yEe(n,e){var t=e?vEe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function xEe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var hF=Object.create,bEe=function(){function n(){}return function(e){if(!_s(e))return{};if(hF)return hF(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const _Ee=bEe;function y9(n,e){return function(t){return n(e(t))}}var wEe=y9(Object.getPrototypeOf,Object);const x9=wEe;var SEe=Object.prototype;function oI(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||SEe;return n===t}function AEe(n){return typeof n.constructor=="function"&&!oI(n)?_Ee(x9(n)):{}}function ql(n){return n!=null&&typeof n=="object"}var EEe="[object Arguments]";function pF(n){return ql(n)&&zu(n)==EEe}var b9=Object.prototype,MEe=b9.hasOwnProperty,CEe=b9.propertyIsEnumerable,TEe=pF(function(){return arguments}())?pF:function(n){return ql(n)&&MEe.call(n,"callee")&&!CEe.call(n,"callee")};const y1=TEe;var REe=Array.isArray;const $i=REe;var PEe=9007199254740991;function aI(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=PEe}function Vh(n){return n!=null&&aI(n.length)&&!iI(n)}function IEe(n){return ql(n)&&Vh(n)}function BEe(){return!1}var _9=typeof Li=="object"&&Li&&!Li.nodeType&&Li,mF=_9&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,LEe=mF&&mF.exports===_9,gF=LEe?so.Buffer:void 0,DEe=gF?gF.isBuffer:void 0,OEe=DEe||BEe;const x1=OEe;var kEe="[object Object]",NEe=Function.prototype,FEe=Object.prototype,w9=NEe.toString,UEe=FEe.hasOwnProperty,HEe=w9.call(Object);function zEe(n){if(!ql(n)||zu(n)!=kEe)return!1;var e=x9(n);if(e===null)return!0;var t=UEe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&w9.call(t)==HEe}var GEe="[object Arguments]",VEe="[object Array]",$Ee="[object Boolean]",WEe="[object Date]",jEe="[object Error]",JEe="[object Function]",KEe="[object Map]",XEe="[object Number]",YEe="[object Object]",QEe="[object RegExp]",qEe="[object Set]",ZEe="[object String]",eMe="[object WeakMap]",tMe="[object ArrayBuffer]",nMe="[object DataView]",rMe="[object Float32Array]",iMe="[object Float64Array]",sMe="[object Int8Array]",oMe="[object Int16Array]",aMe="[object Int32Array]",lMe="[object Uint8Array]",cMe="[object Uint8ClampedArray]",uMe="[object Uint16Array]",fMe="[object Uint32Array]",hn={};hn[rMe]=hn[iMe]=hn[sMe]=hn[oMe]=hn[aMe]=hn[lMe]=hn[cMe]=hn[uMe]=hn[fMe]=!0;hn[GEe]=hn[VEe]=hn[tMe]=hn[$Ee]=hn[nMe]=hn[WEe]=hn[jEe]=hn[JEe]=hn[KEe]=hn[XEe]=hn[YEe]=hn[QEe]=hn[qEe]=hn[ZEe]=hn[eMe]=!1;function dMe(n){return ql(n)&&aI(n.length)&&!!hn[zu(n)]}function hMe(n){return function(e){return n(e)}}var S9=typeof Li=="object"&&Li&&!Li.nodeType&&Li,Mm=S9&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,pMe=Mm&&Mm.exports===S9,hA=pMe&&p9.process,mMe=function(){try{var n=Mm&&Mm.require&&Mm.require("util").types;return n||hA&&hA.binding&&hA.binding("util")}catch{}}();const vF=mMe;var yF=vF&&vF.isTypedArray,gMe=yF?hMe(yF):dMe;const lI=gMe;function yC(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var vMe=Object.prototype,yMe=vMe.hasOwnProperty;function xMe(n,e,t){var r=n[e];(!(yMe.call(n,e)&&l0(r,t))||t===void 0&&!(e in n))&&sI(n,e,t)}function bMe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?sI(t,a,l):xMe(t,a,l)}return t}function _Me(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var wMe=9007199254740991,SMe=/^(?:0|[1-9]\d*)$/;function cI(n,e){var t=typeof n;return e=e??wMe,!!e&&(t=="number"||t!="symbol"&&SMe.test(n))&&n>-1&&n%1==0&&n<e}var AMe=Object.prototype,EMe=AMe.hasOwnProperty;function A9(n,e){var t=$i(n),r=!t&&y1(n),i=!t&&!r&&x1(n),s=!t&&!r&&!i&&lI(n),o=t||r||i||s,a=o?_Me(n.length,String):[],l=a.length;for(var c in n)(e||EMe.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cI(c,l)))&&a.push(c);return a}function MMe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var CMe=Object.prototype,TMe=CMe.hasOwnProperty;function RMe(n){if(!_s(n))return MMe(n);var e=oI(n),t=[];for(var r in n)r=="constructor"&&(e||!TMe.call(n,r))||t.push(r);return t}function E9(n){return Vh(n)?A9(n,!0):RMe(n)}function PMe(n){return bMe(n,E9(n))}function IMe(n,e,t,r,i,s,o){var a=yC(n,t),l=yC(e,t),c=o.get(l);if(c){vC(n,t,c);return}var u=s?s(a,l,t+"",n,e,o):void 0,f=u===void 0;if(f){var p=$i(l),m=!p&&x1(l),v=!p&&!m&&lI(l);u=l,p||m||v?$i(a)?u=a:IEe(a)?u=xEe(a):m?(f=!1,u=mEe(l,!0)):v?(f=!1,u=yEe(l,!0)):u=[]:zEe(l)||y1(l)?(u=a,y1(a)?u=PMe(a):(!_s(a)||iI(a))&&(u=AEe(l))):f=!1}f&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),vC(n,t,u)}function M9(n,e,t,r,i){n!==e&&g9(e,function(s,o){if(i||(i=new Mo),_s(s))IMe(n,e,o,t,M9,r,i);else{var a=r?r(yC(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),vC(n,o,a)}},E9)}function Vb(n){return n}function BMe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var xF=Math.max;function LMe(n,e,t){return e=xF(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=xF(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),BMe(n,this,a)}}function DMe(n){return function(){return n}}var OMe=g1?function(n,e){return g1(n,"toString",{configurable:!0,enumerable:!1,value:DMe(e),writable:!0})}:Vb;const kMe=OMe;var NMe=800,FMe=16,UMe=Date.now;function HMe(n){var e=0,t=0;return function(){var r=UMe(),i=FMe-(r-t);if(t=r,i>0){if(++e>=NMe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var zMe=HMe(kMe);const GMe=zMe;function VMe(n,e){return GMe(LMe(n,e,Vb),n+"")}function $Me(n,e,t){if(!_s(t))return!1;var r=typeof e;return(r=="number"?Vh(t)&&cI(e,t.length):r=="string"&&e in t)?l0(t[e],n):!1}function WMe(n){return VMe(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&$Me(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}var jMe=WMe(function(n,e,t){M9(n,e,t)});const gi=jMe;var c0=function(e){var t=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=pt(gi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return D.createElement("div",{style:l.wrap},D.createElement("div",{style:l.bg}),D.createElement("div",{style:l.content},s))};c0.propTypes={background:ne.string,zDepth:ne.oneOf([0,1,2,3,4,5]),radius:ne.number,styles:ne.object};c0.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var JMe=function(){return so.Date.now()};const pA=JMe;var KMe=/\s/;function XMe(n){for(var e=n.length;e--&&KMe.test(n.charAt(e)););return e}var YMe=/^\s+/;function QMe(n){return n&&n.slice(0,XMe(n)+1).replace(YMe,"")}var qMe="[object Symbol]";function $b(n){return typeof n=="symbol"||ql(n)&&zu(n)==qMe}var bF=0/0,ZMe=/^[-+]0x[0-9a-f]+$/i,eCe=/^0b[01]+$/i,tCe=/^0o[0-7]+$/i,nCe=parseInt;function _F(n){if(typeof n=="number")return n;if($b(n))return bF;if(_s(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=_s(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=QMe(n);var t=eCe.test(n);return t||tCe.test(n)?nCe(n.slice(2),t?2:8):ZMe.test(n)?bF:+n}var rCe="Expected a function",iCe=Math.max,sCe=Math.min;function C9(n,e,t){var r,i,s,o,a,l,c=0,u=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(rCe);e=_F(e)||0,_s(t)&&(u=!!t.leading,f="maxWait"in t,s=f?iCe(_F(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(M){var I=r,B=i;return r=i=void 0,c=M,o=n.apply(B,I),o}function v(M){return c=M,a=setTimeout(g,e),u?m(M):o}function y(M){var I=M-l,B=M-c,T=e-I;return f?sCe(T,s-B):T}function x(M){var I=M-l,B=M-c;return l===void 0||I>=e||I<0||f&&B>=s}function g(){var M=pA();if(x(M))return _(M);a=setTimeout(g,y(M))}function _(M){return a=void 0,p&&r?m(M):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:_(pA())}function E(){var M=pA(),I=x(M);if(r=arguments,i=this,l=M,I){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return E.cancel=b,E.flush=S,E}var oCe="Expected a function";function aCe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(oCe);return _s(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),C9(n,e,{leading:r,maxWait:e,trailing:i})}var lCe=function(e,t,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),u<0?u=0:u>o&&(u=o);var f=c/s,p=1-u/o;return{h:t.h,s:f,v:p,a:t.a,source:"hsv"}},cCe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function uCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fCe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function dCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Wb=function(n){dCe(e,n);function e(t){uCe(this,e);var r=fCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,lCe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=aCe(function(i,s,o){i(s,o)},50),r}return cCe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,u=pt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return D.createElement("div",{style:u.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),D.createElement("div",{style:u.white,className:"saturation-white"},D.createElement("div",{style:u.black,className:"saturation-black"}),D.createElement("div",{style:u.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:u.circle}))))}}]),e}(R.PureComponent||R.Component);function hCe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var pCe=y9(Object.keys,Object);const mCe=pCe;var gCe=Object.prototype,vCe=gCe.hasOwnProperty;function yCe(n){if(!oI(n))return mCe(n);var e=[];for(var t in Object(n))vCe.call(n,t)&&t!="constructor"&&e.push(t);return e}function uI(n){return Vh(n)?A9(n):yCe(n)}function xCe(n,e){return n&&g9(n,e,uI)}function bCe(n,e){return function(t,r){if(t==null)return t;if(!Vh(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var _Ce=bCe(xCe);const T9=_Ce;function wCe(n){return typeof n=="function"?n:Vb}function SCe(n,e){var t=$i(n)?hCe:T9;return t(n,wCe(e))}function b1(n){return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(n)}var ACe=/^\s+/,ECe=/\s+$/;function qe(n,e){if(n=n||"",e=e||{},n instanceof qe)return n;if(!(this instanceof qe))return new qe(n,e);var t=MCe(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}qe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,s,o,a;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=R9(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=SF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=SF(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=wF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=wF(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return AF(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return PCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yn(this._r,255)*100)+"%",g:Math.round(yn(this._g,255)*100)+"%",b:Math.round(yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%)":"rgba("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:GCe[AF(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+EF(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=qe(e);r="#"+EF(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return qe(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(DCe,arguments)},brighten:function(){return this._applyModification(OCe,arguments)},darken:function(){return this._applyModification(kCe,arguments)},desaturate:function(){return this._applyModification(ICe,arguments)},saturate:function(){return this._applyModification(BCe,arguments)},greyscale:function(){return this._applyModification(LCe,arguments)},spin:function(){return this._applyModification(NCe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(HCe,arguments)},complement:function(){return this._applyCombination(FCe,arguments)},monochromatic:function(){return this._applyCombination(zCe,arguments)},splitcomplement:function(){return this._applyCombination(UCe,arguments)},triad:function(){return this._applyCombination(MF,[3])},tetrad:function(){return this._applyCombination(MF,[4])}};qe.fromRatio=function(n,e){if(b1(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=nm(n[r]));n=t}return qe(n,e)};function MCe(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=jCe(n)),b1(n)=="object"&&(ra(n.r)&&ra(n.g)&&ra(n.b)?(e=CCe(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):ra(n.h)&&ra(n.s)&&ra(n.v)?(r=nm(n.s),i=nm(n.v),e=RCe(n.h,r,i),o=!0,a="hsv"):ra(n.h)&&ra(n.s)&&ra(n.l)&&(r=nm(n.s),s=nm(n.l),e=TCe(n.h,r,s),o=!0,a="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=R9(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function CCe(n,e,t){return{r:yn(n,255)*255,g:yn(e,255)*255,b:yn(t,255)*255}}function wF(n,e,t){n=yn(n,255),e=yn(e,255),t=yn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function TCe(n,e,t){var r,i,s;n=yn(n,360),e=yn(e,100),t=yn(t,100);function o(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=s=t;else{var a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=o(l,a,n+1/3),i=o(l,a,n),s=o(l,a,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function SF(n,e,t){n=yn(n,255),e=yn(e,255),t=yn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function RCe(n,e,t){n=yn(n,360)*6,e=yn(e,100),t=yn(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],f=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:f*255}}function AF(n,e,t,r){var i=[js(Math.round(n).toString(16)),js(Math.round(e).toString(16)),js(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function PCe(n,e,t,r,i){var s=[js(Math.round(n).toString(16)),js(Math.round(e).toString(16)),js(Math.round(t).toString(16)),js(P9(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function EF(n,e,t,r){var i=[js(P9(r)),js(Math.round(n).toString(16)),js(Math.round(e).toString(16)),js(Math.round(t).toString(16))];return i.join("")}qe.equals=function(n,e){return!n||!e?!1:qe(n).toRgbString()==qe(e).toRgbString()};qe.random=function(){return qe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ICe(n,e){e=e===0?0:e||10;var t=qe(n).toHsl();return t.s-=e/100,t.s=jb(t.s),qe(t)}function BCe(n,e){e=e===0?0:e||10;var t=qe(n).toHsl();return t.s+=e/100,t.s=jb(t.s),qe(t)}function LCe(n){return qe(n).desaturate(100)}function DCe(n,e){e=e===0?0:e||10;var t=qe(n).toHsl();return t.l+=e/100,t.l=jb(t.l),qe(t)}function OCe(n,e){e=e===0?0:e||10;var t=qe(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),qe(t)}function kCe(n,e){e=e===0?0:e||10;var t=qe(n).toHsl();return t.l-=e/100,t.l=jb(t.l),qe(t)}function NCe(n,e){var t=qe(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,qe(t)}function FCe(n){var e=qe(n).toHsl();return e.h=(e.h+180)%360,qe(e)}function MF(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=qe(n).toHsl(),r=[qe(n)],i=360/e,s=1;s<e;s++)r.push(qe({h:(t.h+s*i)%360,s:t.s,l:t.l}));return r}function UCe(n){var e=qe(n).toHsl(),t=e.h;return[qe(n),qe({h:(t+72)%360,s:e.s,l:e.l}),qe({h:(t+216)%360,s:e.s,l:e.l})]}function HCe(n,e,t){e=e||6,t=t||30;var r=qe(n).toHsl(),i=360/t,s=[qe(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(qe(r));return s}function zCe(n,e){e=e||6;for(var t=qe(n).toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(qe({h:r,s:i,v:s})),s=(s+a)%1;return o}qe.mix=function(n,e,t){t=t===0?0:t||50;var r=qe(n).toRgb(),i=qe(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return qe(o)};qe.readability=function(n,e){var t=qe(n),r=qe(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};qe.isReadable=function(n,e,t){var r=qe.readability(n,e),i,s;switch(s=!1,i=JCe(t),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};qe.mostReadable=function(n,e,t){var r=null,i=0,s,o,a,l;t=t||{},o=t.includeFallbackColors,a=t.level,l=t.size;for(var c=0;c<e.length;c++)s=qe.readability(n,e[c]),s>i&&(i=s,r=qe(e[c]));return qe.isReadable(n,r,{level:a,size:l})||!o?r:(t.includeFallbackColors=!1,qe.mostReadable(n,["#fff","#000"],t))};var xC=qe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},GCe=qe.hexNames=VCe(xC);function VCe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function R9(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function yn(n,e){$Ce(n)&&(n="100%");var t=WCe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function jb(n){return Math.min(1,Math.max(0,n))}function Mi(n){return parseInt(n,16)}function $Ce(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function WCe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function js(n){return n.length==1?"0"+n:""+n}function nm(n){return n<=1&&(n=n*100+"%"),n}function P9(n){return Math.round(parseFloat(n)*255).toString(16)}function CF(n){return Mi(n)/255}var Ns=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ra(n){return!!Ns.CSS_UNIT.exec(n)}function jCe(n){n=n.replace(ACe,"").replace(ECe,"").toLowerCase();var e=!1;if(xC[n])n=xC[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=Ns.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=Ns.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Ns.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Ns.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Ns.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Ns.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Ns.hex8.exec(n))?{r:Mi(t[1]),g:Mi(t[2]),b:Mi(t[3]),a:CF(t[4]),format:e?"name":"hex8"}:(t=Ns.hex6.exec(n))?{r:Mi(t[1]),g:Mi(t[2]),b:Mi(t[3]),format:e?"name":"hex"}:(t=Ns.hex4.exec(n))?{r:Mi(t[1]+""+t[1]),g:Mi(t[2]+""+t[2]),b:Mi(t[3]+""+t[3]),a:CF(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=Ns.hex3.exec(n))?{r:Mi(t[1]+""+t[1]),g:Mi(t[2]+""+t[2]),b:Mi(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function JCe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var TF=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return SCe(t,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},rm=function(e,t){var r=e.hex?qe(e.hex):qe(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,s.h=t||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||t||i.h,source:e.source}},cc=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&qe(e).isValid()},fI=function(e){if(!e)return"#fff";var t=rm(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},mA=function(e,t){var r=e.replace("°","");return qe(t+" ("+r+")")._ok},Wp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KCe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function XCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function QCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var vi=function(e){var t=function(r){QCe(i,r);function i(s){XCe(this,i);var o=YCe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=TF(a);if(c){var u=rm(a,a.h||o.state.oldHue);o.setState(u),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,u,l),o.props.onChange&&o.props.onChange(u,l)}},o.handleSwatchHover=function(a,l){var c=TF(a);if(c){var u=rm(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(u,l)}},o.state=Wp({},rm(s.color,0)),o.debounce=C9(function(a,l,c){a(l,c)},100),o}return KCe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),D.createElement(e,Wp({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Wp({},rm(o.color,a.oldHue))}}]),i}(R.PureComponent||R.Component);return t.propTypes=Wp({},e.propTypes),t.defaultProps=Wp({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},qCe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZCe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function eTe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function tTe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var nTe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tTe(i,r);function i(){var s,o,a,l;eTe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=RF(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),RF(a,l)}return ZCe(i,[{key:"render",value:function(){return D.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},D.createElement(e,qCe({},this.props,this.state)))}}]),i}(D.Component)},PF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rTe=13,iTe=function(e){var t=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?t:a,c=e.children,u=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=t==="transparent",v=pt({default:{swatch:PF({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?p:{})}}),y=function(S){return s(t,S)},x=function(S){return S.keyCode===rTe&&s(t,S)},g=function(S){return o(t,S)},_={};return o&&(_.onMouseOver=g),D.createElement("div",PF({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},_),c,m&&D.createElement(zh,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const $u=nTe(iTe);var sTe=function(e){var t=e.direction,r=pt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return D.createElement("div",{style:r.picker})},oTe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},I9=function(e){var t=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,p=f===void 0?"":f,m=pt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return D.createElement("div",{style:m.picker,className:"alpha-picker "+p},D.createElement(rI,oTe({},m.alpha,{rgb:t,hsl:r,pointer:u,renderers:c,onChange:o,direction:a})))};I9.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:sTe};vi(I9);function B9(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var aTe="__lodash_hash_undefined__";function lTe(n){return this.__data__.set(n,aTe),this}function cTe(n){return this.__data__.has(n)}function _1(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Wa;++e<t;)this.add(n[e])}_1.prototype.add=_1.prototype.push=lTe;_1.prototype.has=cTe;function uTe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function fTe(n,e){return n.has(e)}var dTe=1,hTe=2;function L9(n,e,t,r,i,s){var o=t&dTe,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var f=-1,p=!0,m=t&hTe?new _1:void 0;for(s.set(n,e),s.set(e,n);++f<a;){var v=n[f],y=e[f];if(r)var x=o?r(y,v,f,e,n,s):r(v,y,f,n,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!uTe(e,function(g,_){if(!fTe(m,_)&&(v===g||i(v,g,t,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}function pTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function mTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var gTe=1,vTe=2,yTe="[object Boolean]",xTe="[object Date]",bTe="[object Error]",_Te="[object Map]",wTe="[object Number]",STe="[object RegExp]",ATe="[object Set]",ETe="[object String]",MTe="[object Symbol]",CTe="[object ArrayBuffer]",TTe="[object DataView]",IF=Ql?Ql.prototype:void 0,gA=IF?IF.valueOf:void 0;function RTe(n,e,t,r,i,s,o){switch(t){case TTe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case CTe:return!(n.byteLength!=e.byteLength||!s(new v1(n),new v1(e)));case yTe:case xTe:case wTe:return l0(+n,+e);case bTe:return n.name==e.name&&n.message==e.message;case STe:case ETe:return n==e+"";case _Te:var a=pTe;case ATe:var l=r&gTe;if(a||(a=mTe),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=vTe,o.set(n,e);var u=L9(a(n),a(e),r,i,s,o);return o.delete(n),u;case MTe:if(gA)return gA.call(n)==gA.call(e)}return!1}function PTe(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}function ITe(n,e,t){var r=e(n);return $i(n)?r:PTe(r,t(n))}function BTe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function LTe(){return[]}var DTe=Object.prototype,OTe=DTe.propertyIsEnumerable,BF=Object.getOwnPropertySymbols,kTe=BF?function(n){return n==null?[]:(n=Object(n),BTe(BF(n),function(e){return OTe.call(n,e)}))}:LTe;const NTe=kTe;function LF(n){return ITe(n,uI,NTe)}var FTe=1,UTe=Object.prototype,HTe=UTe.hasOwnProperty;function zTe(n,e,t,r,i,s){var o=t&FTe,a=LF(n),l=a.length,c=LF(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:HTe.call(e,p)))return!1}var m=s.get(n),v=s.get(e);if(m&&v)return m==e&&v==n;var y=!0;s.set(n,e),s.set(e,n);for(var x=o;++f<l;){p=a[f];var g=n[p],_=e[p];if(r)var b=o?r(_,g,p,e,n,s):r(g,_,p,n,e,s);if(!(b===void 0?g===_||i(g,_,t,r,s):b)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var S=n.constructor,E=e.constructor;S!=E&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(n),s.delete(e),y}var GTe=Vu(so,"DataView");const bC=GTe;var VTe=Vu(so,"Promise");const _C=VTe;var $Te=Vu(so,"Set");const wC=$Te;var WTe=Vu(so,"WeakMap");const SC=WTe;var DF="[object Map]",jTe="[object Object]",OF="[object Promise]",kF="[object Set]",NF="[object WeakMap]",FF="[object DataView]",JTe=Gu(bC),KTe=Gu(pg),XTe=Gu(_C),YTe=Gu(wC),QTe=Gu(SC),zc=zu;(bC&&zc(new bC(new ArrayBuffer(1)))!=FF||pg&&zc(new pg)!=DF||_C&&zc(_C.resolve())!=OF||wC&&zc(new wC)!=kF||SC&&zc(new SC)!=NF)&&(zc=function(n){var e=zu(n),t=e==jTe?n.constructor:void 0,r=t?Gu(t):"";if(r)switch(r){case JTe:return FF;case KTe:return DF;case XTe:return OF;case YTe:return kF;case QTe:return NF}return e});const UF=zc;var qTe=1,HF="[object Arguments]",zF="[object Array]",Ly="[object Object]",ZTe=Object.prototype,GF=ZTe.hasOwnProperty;function eRe(n,e,t,r,i,s){var o=$i(n),a=$i(e),l=o?zF:UF(n),c=a?zF:UF(e);l=l==HF?Ly:l,c=c==HF?Ly:c;var u=l==Ly,f=c==Ly,p=l==c;if(p&&x1(n)){if(!x1(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new Mo),o||lI(n)?L9(n,e,t,r,i,s):RTe(n,e,l,t,r,i,s);if(!(t&qTe)){var m=u&&GF.call(n,"__wrapped__"),v=f&&GF.call(e,"__wrapped__");if(m||v){var y=m?n.value():n,x=v?e.value():e;return s||(s=new Mo),i(y,x,t,r,s)}}return p?(s||(s=new Mo),zTe(n,e,t,r,i,s)):!1}function dI(n,e,t,r,i){return n===e?!0:n==null||e==null||!ql(n)&&!ql(e)?n!==n&&e!==e:eRe(n,e,t,r,dI,i)}var tRe=1,nRe=2;function rRe(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var f=new Mo;if(r)var p=r(c,u,l,n,e,f);if(!(p===void 0?dI(u,c,tRe|nRe,r,f):p))return!1}}return!0}function D9(n){return n===n&&!_s(n)}function iRe(n){for(var e=uI(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,D9(i)]}return e}function O9(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function sRe(n){var e=iRe(n);return e.length==1&&e[0][2]?O9(e[0][0],e[0][1]):function(t){return t===n||rRe(t,n,e)}}var oRe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aRe=/^\w*$/;function hI(n,e){if($i(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||$b(n)?!0:aRe.test(n)||!oRe.test(n)||e!=null&&n in Object(e)}var lRe="Expected a function";function pI(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(lRe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(pI.Cache||Wa),t}pI.Cache=Wa;var cRe=500;function uRe(n){var e=pI(n,function(r){return t.size===cRe&&t.clear(),r}),t=e.cache;return e}var fRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dRe=/\\(\\)?/g,hRe=uRe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(fRe,function(t,r,i,s){e.push(i?s.replace(dRe,"$1"):r||t)}),e});const pRe=hRe;var mRe=1/0,VF=Ql?Ql.prototype:void 0,$F=VF?VF.toString:void 0;function k9(n){if(typeof n=="string")return n;if($i(n))return B9(n,k9)+"";if($b(n))return $F?$F.call(n):"";var e=n+"";return e=="0"&&1/n==-mRe?"-0":e}function gRe(n){return n==null?"":k9(n)}function N9(n,e){return $i(n)?n:hI(n,e)?[n]:pRe(gRe(n))}var vRe=1/0;function Jb(n){if(typeof n=="string"||$b(n))return n;var e=n+"";return e=="0"&&1/n==-vRe?"-0":e}function F9(n,e){e=N9(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Jb(e[t++])];return t&&t==r?n:void 0}function yRe(n,e,t){var r=n==null?void 0:F9(n,e);return r===void 0?t:r}function xRe(n,e){return n!=null&&e in Object(n)}function bRe(n,e,t){e=N9(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Jb(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&aI(i)&&cI(o,i)&&($i(n)||y1(n)))}function _Re(n,e){return n!=null&&bRe(n,e,xRe)}var wRe=1,SRe=2;function ARe(n,e){return hI(n)&&D9(e)?O9(Jb(n),e):function(t){var r=yRe(t,n);return r===void 0&&r===e?_Re(t,n):dI(e,r,wRe|SRe)}}function ERe(n){return function(e){return e==null?void 0:e[n]}}function MRe(n){return function(e){return F9(e,n)}}function CRe(n){return hI(n)?ERe(Jb(n)):MRe(n)}function TRe(n){return typeof n=="function"?n:n==null?Vb:typeof n=="object"?$i(n)?ARe(n[0],n[1]):sRe(n):CRe(n)}function RRe(n,e){var t=-1,r=Vh(n)?Array(n.length):[];return T9(n,function(i,s,o){r[++t]=e(i,s,o)}),r}function Wu(n,e){var t=$i(n)?B9:RRe;return t(n,TRe(e))}var PRe=function(e){var t=e.colors,r=e.onClick,i=e.onSwatchHover,s=pt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return D.createElement("div",{style:s.swatches},Wu(t,function(o){return D.createElement($u,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),D.createElement("div",{style:s.clear}))},mI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=i==="transparent",m=function(x,g){cc(x)&&t({hex:x,source:"hex"},g)},v=pt(gi({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:fI(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return D.createElement("div",{style:v.card,className:"block-picker "+f},D.createElement("div",{style:v.triangle}),D.createElement("div",{style:v.head},p&&D.createElement(zh,{borderRadius:"6px 6px 0 0"}),D.createElement("div",{style:v.label},i)),D.createElement("div",{style:v.body},D.createElement(PRe,{colors:s,onClick:m,onSwatchHover:r}),D.createElement(kt,{style:{input:v.input},value:i,onChange:m})))};mI.propTypes={width:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.string),triangle:ne.oneOf(["top","hide"]),styles:ne.object};mI.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};vi(mI);var Uf={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Hf={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},zf={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Gf={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Vf={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},$f={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Wf={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},jf={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Jf={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},im={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Kf={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Xf={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Yf={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Qf={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},qf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Zf={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},ed={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},td={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},U9=function(e){var t=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=pt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:o});return D.createElement("div",{style:c.swatch},D.createElement($u,{style:c.Swatch,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};U9.defaultProps={circleSize:28,circleSpacing:14};const IRe=nI(U9);var gI=function(e){var t=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=pt(gi({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),v=function(x,g){return r({hex:x,source:"hex"},g)};return D.createElement("div",{style:m.card,className:"circle-picker "+p},Wu(s,function(y){return D.createElement(IRe,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:u})}))};gI.propTypes={width:ne.oneOfType([ne.string,ne.number]),circleSize:ne.number,circleSpacing:ne.number,styles:ne.object};gI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Uf[500],Hf[500],zf[500],Gf[500],Vf[500],$f[500],Wf[500],jf[500],Jf[500],im[500],Kf[500],Xf[500],Yf[500],Qf[500],qf[500],Zf[500],ed[500],td[500]],styles:{}};const BRe=vi(gI);function WF(n){return n===void 0}var H9={};Object.defineProperty(H9,"__esModule",{value:!0});var jF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LRe=R,JF=DRe(LRe);function DRe(n){return n&&n.__esModule?n:{default:n}}function ORe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Dy=24,kRe=H9.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Dy:r,s=n.height,o=s===void 0?Dy:s,a=n.style,l=a===void 0?{}:a,c=ORe(n,["fill","width","height","style"]);return JF.default.createElement("svg",jF({viewBox:"0 0 "+Dy+" "+Dy,style:jF({fill:t,width:i,height:o},l)},c),JF.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},NRe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function FRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function URe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function HRe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var z9=function(n){HRe(e,n);function e(t){FRe(this,e);var r=URe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?cc(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(WF(i.s)?r.props.hsl.s:i.s),l:Number(WF(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return NRe(e,[{key:"render",value:function(){var r=this,i=pt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(kt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(kt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),D.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,D.createElement("div",{style:i.toggle},D.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},D.createElement(kRe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(D.Component);z9.defaultProps={view:"hex"};var KF=function(){var e=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},zRe=function(){var e=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return D.createElement("div",{style:e.picker})},vI=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=pt(gi({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return D.createElement("div",{style:y.picker,className:"chrome-picker "+m},D.createElement("div",{style:y.saturation},D.createElement(Wb,{style:y.Saturation,hsl:o,hsv:a,pointer:zRe,onChange:r})),D.createElement("div",{style:y.body},D.createElement("div",{style:y.controls,className:"flexbox-fix"},D.createElement("div",{style:y.color},D.createElement("div",{style:y.swatch},D.createElement("div",{style:y.active}),D.createElement(zh,{renderers:c}))),D.createElement("div",{style:y.toggles},D.createElement("div",{style:y.hue},D.createElement(Gh,{style:y.Hue,hsl:o,pointer:KF,onChange:r})),D.createElement("div",{style:y.alpha},D.createElement(rI,{style:y.Alpha,rgb:s,hsl:o,pointer:KF,renderers:c,onChange:r})))),D.createElement(z9,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};vI.propTypes={width:ne.oneOfType([ne.string,ne.number]),disableAlpha:ne.bool,styles:ne.object,defaultView:ne.oneOf(["hex","rgb","hsl"])};vI.defaultProps={width:225,disableAlpha:!1,styles:{}};vi(vI);var GRe=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=pt({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:fI(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return D.createElement($u,{style:a.color,color:t,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},D.createElement("div",{style:a.dot}))},VRe=function(e){var t=e.hex,r=e.rgb,i=e.onChange,s=pt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return D.createElement("div",{style:s.fields,className:"flexbox-fix"},D.createElement("div",{style:s.active}),D.createElement(kt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},yI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=pt(gi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?cc(v.hex)&&t({hex:v.hex,source:"hex"},y):t(v,y)};return D.createElement(c0,{style:f.Compact,styles:l},D.createElement("div",{style:f.compact,className:"compact-picker "+u},D.createElement("div",null,Wu(i,function(m){return D.createElement(GRe,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),D.createElement("div",{style:f.clear})),D.createElement(VRe,{hex:s,rgb:o,onChange:p})))};yI.propTypes={colors:ne.arrayOf(ne.string),styles:ne.object};yI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};vi(yI);var $Re=function(e){var t=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=pt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return D.createElement("div",{style:a.swatch},D.createElement($u,{color:r,onClick:i,onHover:s,focusStyle:o}))};const WRe=nI($Re);var xI=function(e){var t=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=pt(gi({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return D.createElement("div",{style:f.card,className:"github-picker "+u},D.createElement("div",{style:f.triangleShadow}),D.createElement("div",{style:f.triangle}),Wu(r,function(m){return D.createElement(WRe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};xI.propTypes={width:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.string),triangle:ne.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ne.object};xI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};vi(xI);var jRe=function(e){var t=e.direction,r=pt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return D.createElement("div",{style:r.picker})},JRe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bI=function(e){var t=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=pt(gi({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return D.createElement("div",{style:p.picker,className:"hue-picker "+f},D.createElement(Gh,JRe({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};bI.propTypes={styles:ne.object};bI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:jRe,styles:{}};vi(bI);var KRe=function(e){var t=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=pt(gi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(p,m){p.hex?cc(p.hex)&&t({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&t({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return D.createElement(c0,{styles:o},D.createElement("div",{style:c.material,className:"material-picker "+l},D.createElement(kt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),D.createElement("div",{style:c.split,className:"flexbox-fix"},D.createElement("div",{style:c.third},D.createElement(kt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),D.createElement("div",{style:c.third},D.createElement(kt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),D.createElement("div",{style:c.third},D.createElement(kt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};vi(KRe);var XRe=function(e){var t=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=pt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?cc(c["#"])&&t({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?t({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&t({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return D.createElement("div",{style:o.fields},D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(kt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),D.createElement("div",{style:o.fieldSymbols},D.createElement("div",{style:o.symbol},"°"),D.createElement("div",{style:o.symbol},"%"),D.createElement("div",{style:o.symbol},"%")))},YRe=function(e){var t=e.hsl,r=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return D.createElement("div",{style:r.picker})},QRe=function(){var e=pt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return D.createElement("div",{style:e.pointer},D.createElement("div",{style:e.left},D.createElement("div",{style:e.leftInside})),D.createElement("div",{style:e.right},D.createElement("div",{style:e.rightInside})))},XF=function(e){var t=e.onClick,r=e.label,i=e.children,s=e.active,o=pt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return D.createElement("div",{style:o.button,onClick:t},r||i)},qRe=function(e){var t=e.rgb,r=e.currentColor,i=pt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return D.createElement("div",null,D.createElement("div",{style:i.label},"new"),D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.new}),D.createElement("div",{style:i.current})),D.createElement("div",{style:i.label},"current"))},ZRe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function ePe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tPe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function nPe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var _I=function(n){nPe(e,n);function e(t){ePe(this,e);var r=tPe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:t.hex},r}return ZRe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=pt(gi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return D.createElement("div",{style:l.picker,className:"photoshop-picker "+a},D.createElement("div",{style:l.head},this.props.header),D.createElement("div",{style:l.body,className:"flexbox-fix"},D.createElement("div",{style:l.saturation},D.createElement(Wb,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:YRe,onChange:this.props.onChange})),D.createElement("div",{style:l.hue},D.createElement(Gh,{direction:"vertical",hsl:this.props.hsl,pointer:QRe,onChange:this.props.onChange})),D.createElement("div",{style:l.controls},D.createElement("div",{style:l.top,className:"flexbox-fix"},D.createElement("div",{style:l.previews},D.createElement(qRe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),D.createElement("div",{style:l.actions},D.createElement(XF,{label:"OK",onClick:this.props.onAccept,active:!0}),D.createElement(XF,{label:"Cancel",onClick:this.props.onCancel}),D.createElement(XRe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(D.Component);_I.propTypes={header:ne.string,styles:ne.object};_I.defaultProps={header:"Color Picker",styles:{}};vi(_I);var rPe=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=pt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(u,f){u.hex?cc(u.hex)&&t({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?t({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,t({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return D.createElement("div",{style:a.fields,className:"flexbox-fix"},D.createElement("div",{style:a.double},D.createElement(kt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.alpha},D.createElement(kt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},iPe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},G9=function(e){var t=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=pt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return D.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return D.createElement("div",{key:u,style:o.swatchWrap},D.createElement($u,iPe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};G9.propTypes={colors:ne.arrayOf(ne.oneOfType([ne.string,ne.shape({color:ne.string,title:ne.string})])).isRequired};var sPe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wI=function(e){var t=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=pt(gi({default:sPe({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return D.createElement("div",{style:x.picker,className:"sketch-picker "+y},D.createElement("div",{style:x.saturation},D.createElement(Wb,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),D.createElement("div",{style:x.controls,className:"flexbox-fix"},D.createElement("div",{style:x.sliders},D.createElement("div",{style:x.hue},D.createElement(Gh,{style:x.Hue,hsl:o,onChange:a})),D.createElement("div",{style:x.alpha},D.createElement(rI,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),D.createElement("div",{style:x.color},D.createElement(zh,null),D.createElement("div",{style:x.activeColor}))),D.createElement(rPe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),D.createElement(G9,{colors:u,onClick:a,onSwatchHover:l}))};wI.propTypes={disableAlpha:ne.bool,width:ne.oneOfType([ne.string,ne.number]),styles:ne.object};wI.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};vi(wI);var jp=function(e){var t=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=pt({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),u=function(p){return s({h:t.h,s:.5,l:r,source:"hsl"},p)};return D.createElement("div",{style:c.swatch,onClick:u})},oPe=function(e){var t=e.onClick,r=e.hsl,i=pt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.swatch},D.createElement(jp,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:t,first:!0})),D.createElement("div",{style:i.swatch},D.createElement(jp,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(jp,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(jp,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(jp,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:t,last:!0})),D.createElement("div",{style:i.clear}))},aPe=function(){var e=pt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},SI=function(e){var t=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=pt(gi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return D.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},D.createElement("div",{style:c.hue},D.createElement(Gh,{style:c.Hue,hsl:t,pointer:i,onChange:r})),D.createElement("div",{style:c.swatches},D.createElement(oPe,{hsl:t,onClick:r})))};SI.propTypes={styles:ne.object};SI.defaultProps={pointer:aPe,styles:{}};vi(SI);var V9={};Object.defineProperty(V9,"__esModule",{value:!0});var YF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lPe=R,QF=cPe(lPe);function cPe(n){return n&&n.__esModule?n:{default:n}}function uPe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Oy=24,fPe=V9.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Oy:r,s=n.height,o=s===void 0?Oy:s,a=n.style,l=a===void 0?{}:a,c=uPe(n,["fill","width","height","style"]);return QF.default.createElement("svg",YF({viewBox:"0 0 "+Oy+" "+Oy,style:YF({fill:t,width:i,height:o},l)},c),QF.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},dPe=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=pt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:fI(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return D.createElement($u,{color:t,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},D.createElement("div",{style:c.check},D.createElement(fPe,null)))},hPe=function(e){var t=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=pt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return D.createElement("div",{style:o.group},Wu(i,function(a,l){return D.createElement(dPe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:t,onSwatchHover:r})}))},AI=function(e){var t=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=pt(gi({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return D.createElement("div",{style:p.picker,className:"swatches-picker "+f},D.createElement(c0,null,D.createElement("div",{style:p.overflow},D.createElement("div",{style:p.body},Wu(o,function(v){return D.createElement(hPe,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),D.createElement("div",{style:p.clear})))))};AI.propTypes={width:ne.oneOfType([ne.string,ne.number]),height:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.arrayOf(ne.string)),styles:ne.object};AI.defaultProps={width:320,height:240,colors:[[Uf[900],Uf[700],Uf[500],Uf[300],Uf[100]],[Hf[900],Hf[700],Hf[500],Hf[300],Hf[100]],[zf[900],zf[700],zf[500],zf[300],zf[100]],[Gf[900],Gf[700],Gf[500],Gf[300],Gf[100]],[Vf[900],Vf[700],Vf[500],Vf[300],Vf[100]],[$f[900],$f[700],$f[500],$f[300],$f[100]],[Wf[900],Wf[700],Wf[500],Wf[300],Wf[100]],[jf[900],jf[700],jf[500],jf[300],jf[100]],[Jf[900],Jf[700],Jf[500],Jf[300],Jf[100]],["#194D33",im[700],im[500],im[300],im[100]],[Kf[900],Kf[700],Kf[500],Kf[300],Kf[100]],[Xf[900],Xf[700],Xf[500],Xf[300],Xf[100]],[Yf[900],Yf[700],Yf[500],Yf[300],Yf[100]],[Qf[900],Qf[700],Qf[500],Qf[300],Qf[100]],[qf[900],qf[700],qf[500],qf[300],qf[100]],[Zf[900],Zf[700],Zf[500],Zf[300],Zf[100]],[ed[900],ed[700],ed[500],ed[300],ed[100]],[td[900],td[700],td[500],td[300],td[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};vi(AI);var EI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=pt(gi({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){cc(y)&&t({hex:y,source:"hex"},x)};return D.createElement("div",{style:p.card,className:"twitter-picker "+f},D.createElement("div",{style:p.triangleShadow}),D.createElement("div",{style:p.triangle}),D.createElement("div",{style:p.body},Wu(s,function(v,y){return D.createElement($u,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),D.createElement("div",{style:p.hash},"#"),D.createElement(kt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),D.createElement("div",{style:p.clear})))};EI.propTypes={width:ne.oneOfType([ne.string,ne.number]),triangle:ne.oneOf(["hide","top-left","top-right"]),colors:ne.arrayOf(ne.string),styles:ne.object};EI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};vi(EI);var MI=function(e){var t=pt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return D.createElement("div",{style:t.picker})};MI.propTypes={hsl:ne.shape({h:ne.number,s:ne.number,l:ne.number,a:ne.number})};MI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var CI=function(e){var t=pt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return D.createElement("div",{style:t.picker})};CI.propTypes={hsl:ne.shape({h:ne.number,s:ne.number,l:ne.number,a:ne.number})};CI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var pPe=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)cc(m.hex)&&t({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");mA(m.rgb,"rgb")&&t({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");mA(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),t({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var g=m.hsl.split(",");mA(m.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),t({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},v))}},l=pt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return D.createElement("div",{style:l.wrap,className:"flexbox-fix"},D.createElement("div",{style:l.fields},D.createElement("div",{style:l.double},D.createElement(kt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),D.createElement("div",{style:l.column},D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},TI=function(e){var t=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=pt(gi({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return D.createElement("div",{style:m.picker,className:"google-picker "+p},D.createElement("div",{style:m.head},l),D.createElement("div",{style:m.swatch}),D.createElement("div",{style:m.saturation},D.createElement(Wb,{hsl:s,hsv:o,pointer:MI,onChange:r})),D.createElement("div",{style:m.body},D.createElement("div",{style:m.controls,className:"flexbox-fix"},D.createElement("div",{style:m.hue},D.createElement(Gh,{style:m.Hue,hsl:s,radius:"4px",pointer:CI,onChange:r}))),D.createElement(pPe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};TI.propTypes={width:ne.oneOfType([ne.string,ne.number]),styles:ne.object,header:ne.string};TI.defaultProps={width:652,styles:{},header:"Color picker"};vi(TI);const mPe=()=>{const n=mi(mt);return K("div",{className:"absolute left-full ml-3",style:{background:"white",padding:"1rem",borderRadius:"1.5rem"},children:K(BRe,{color:n.color[n.selectedApparel.split("-")[0]],disableAlpha:!0,onChange:e=>mt.color[n.selectedApparel.split("-")[0]]=e.hex,colors:[{color:"#2f344a",title:"blue"},{color:"#cac8c2",title:"white/gray"},{color:"#772522",title:"red"},{color:"#2c2c2c",title:"black"},{color:"#cf9583",title:"swirl"}].map(e=>e.color)})})},gPe=({file:n,setFile:e,readFile:t})=>(mi(mt),K("div",{className:"filepicker-container",children:["./styles/1B_025.png","./styles/I_008.png","./styles/Picsart_24-12-25_18-34-59-490.png","./styles/1E_016.png","./styles/I_027.png","./styles/Picsart_24-12-25_19-05-28-594.png","./styles/A_024.png","./styles/P_005.png","./styles/Picsart_24-12-25_19-08-26-881.png","./styles/F_008.png","./styles/P_089.png","./styles/Picsart_24-12-25_19-12-06-351.png","./styles/F_039.png","./styles/P_106.png","./styles/Picsart_24-12-25_19-16-58-200.png","./kalkinso.png"].map(i=>K("div",{onClick:()=>{mt.logoDecal=i,mt.baseDecal=i,mt.fullDecal=i},className:"image flex-1 flex flex-col",children:K("img",{src:i})}))})),vPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEdElEQVR4nO3d34sVZRgH8DHyLiLqL9j7wroLNlsUCloQ29U9FhaRoBIUi+y+73qxKBES1F0QXQSF6SybEZtd7Hpk9YCoRBw97+v+0NAFD4Ii6i7pnDNzfn5jjoYQLnTcmXned+Z54Hs/8/3wnDlnzsA4Dg8PDw8PDw/PagM19hqUOAAlj0KLApQompDaiVzZn+ov+79vOVM7MbQLcJ5JrSLgrIOW26HEZWgJExNMD8Bzex/n2OZ6MD3wHQp9zzppGizufwlKzlIXjm5BHqX661t/1/K5l500DNRID5S8Rl021gDycFs2NYKZHVsdmwfzB5+DEpeoi0YUIGEm+1rBzLZBx9aBFoepS0aUIP+i5AcGHNsGeuwVKNFKHYhr6aZAyQnqghEXiG2bguKe9dByJdUgrkWbgtJoL3W5SALElk2BFu9nBsS1YFOgxXCmQFzDNwVaiMyBuAZvSmZBXENRMg3iGoiSeRC3F97Pfa1gNveuY8LYClLLD0WzIaZtiq0g9dmd0YKYgmIrSPPc7uhBTPj4shUESqAy+WY8KJN9LT+/420G0d2hBDOD8YC4vaj8srnm54d6eEP0/wdpF4fhTWyMDcWfeuc6g+guL+6nPogNJEz4RAtfQzTRj8Qnbkl/mUF09xf52slcPCgTG9sofPQCf8vS3aM0znwcXoyj35L89r0Mop/y63BpFPXCh/CP98ObeCMSkGBm8FsG0RH8VimNoPXnp2ie34vmuadP6/wnXzCINilCMIimRmAQ0BfPIKAvm0FAXzCDgL5UBgF9kQxiQHmSQegLkwxCX5JkEPpiJIPQlyENCN86AT1CKkDG0F44hPbil7RZONQ5lkyD1Mu/ofJgGZ7nGZHKg+XOMWUSpLH0EzmAt0oaS4ezB+LfvkhevLdK/NsXsghywWCQYvZAwo8F6uI9/sj670V9CpX798gBvEcJjyU8prVvh4Ub8jj8tTe7T7/rJGPthqQ1gkFAjsAgoC+eQUBfNoOAvmAGAX2pDAL6IhnEgPIkg3RKuLQfzavfd25X1MvH15TG0hG05z83AMLW3yFz46jevRLxvag7aF75xgAMC0FqN6ZjuUFYXbluAIaFIP6dudju2rbnDjBItyDBrbOx3UJHpA8rZGRDWpe/hnd/JXKQemT/Z2QMpIOy+BWCm2dRvfsXqveurinhX8LRPJyQYZB0RzAIyBEYBPTFMwjoy2YQ0BfMIKAvlUFAXySDGFCeZBD6wiSD0JckGYS+GMkg9GVIA8K3TpBlECtfeYRkQYaTA1HyPfoTlmanJHPJgVj62jwkm9eTA7H0xZJIKkoso3Aw2Xe0QwmX/MS1oVHyaKIYtr6cGIlgiBbmxjYkDtJBUfJH8gK0YVHiBxIMG19wj/izgD8+e54MpIOiRnqg5DUDygBpwg7USPJv13nSYH7fi1DiJHkpmiz5sAPHpAGcdVCj26DEogEFIaEsQMnB8Nwdkwel0VehxTi0OAItT0OJYiqi5emH5yTGw3Ok7pmHh4eHh4fHMXf+AeIfVIkLad8DAAAAAElFTkSuQmCC",yPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAM5klEQVR4nO3dW1Qadx4H8Jzunm72nD503/rWPX1r39q8bx82D3vOKphm3V7SbgKKGGO8zABimmRAUam9YiRt0nTTy7bp2mpuaqK24SLOIAzGGsQYZTUGvCE6CkJU8L9nUCIaRS4zQMh8z/k+Jg98zv//H378kT17mDBhwoQJEyZMmDBhwoRJxAGHL+4lOHX7CU6d3AZBcptAsH8EQfZG/j8wiTsE55OXCI4ij+AoGghO3QLBrQNk7TAcrMcOQR12GC4bh+F9AEGeYV52CuM+XP8CkXMmm+DWnSM4CnsQYGtDQDbVBsMOOww3jMNw3kRx8Z8ZnCgzVVD/XHAbIjh1+E4AkYJsA2S1wfA5GwRl3xeL/8QAbQlAkN8TuYp9BFdRRnAVHXMcxXKkCLGAbMHx2WAYD54/944f/8NTCbTwnvLlOY6iZI6jaCY4ClcsAAQFINsAuewQ1GwXCErGRcUv73ka0s7HeHheq4oKBIJikNA6TxSpQG3u8T3pjtGWj6228fWeSe65B6kLAtn9tXmL4APeatqiBDHa8/WArJavQlMVxIUUoKCWBwJNR5StGMGO5nzTm2og4wKoD8hJhHWQdEPZCYPsL/nowCxX4UsVEBsE+ZdkfMsmjHRCCYcRrJnXqE0VkKmyYu22GOmAEgnGWjGHk6ucTzaIDYJcvhreVFiQJxUlcoy16vNuqpMNMneyUL0rxpOIEi3G+ipZGud+OZIskHEYuu+X5z6MGORJQYkNY63qfG13skDckgJDVBhPAko8GMFac/5jTDTIhKDUFBNGKqNQgREoH7XOcuoSN1yEoJVlWf5QXCCphkIZxnp/y72iThSIQ1wU+UH+JKBQjdEeWCX6OQfnrJN+EGjWJ89zUgaSbBRaMPLXivE7NHSDEKcKNZRiJBNFAfe88k2JQXWTr/fQAdKer/fZuV8N0gcCDYMPeD5aQGpzPeCHbBVoZb2SMJB6oalUKTQBpRCfuFRk0NGxUm7laW/TBeKpOBrfk9VO/fJdA2jJfABuZALQmlmSMBClwNSyBrLWswKT+cqx7jtUowzlXMKoBpkogzDKIeqPDIBmVm8AItjWjOaEYDQg5meVAtwVCkK2XoivXoBwXctR/RRVIB356Ngs94yXMhAIWlqu5o9SBvEJ1wl+OqgBNzJ8mzDWVogbtP6N/s/olcKe17dibC7u/rrEqG7jdz+kAsXEa1ZRBTIT+FiWknNiGXz3pga0ZMw/BhHaZtZf6AcR4JXhQYLbGD7603EDGjcKH3NPcz+fjBfEBsPT/hreQtwY594zgZbM4bAQG9tWBe0g9QITFglIsF/AeM/VY9334kHR8X/tjBdk/nSBLi4IxZERcJVtiAhiY9tCacX4tPj280qBaSUakEAFppULkFHbmq+fiQWkLR9bHeVeNMcMIoAsoDbXHxPERzlzoOGgGtzIWIoKI9AMH2j+O32X8c4I8ANRY4Qe/ALT7PdFBs1Nvn4lWpRf+bo7c1zFarQgNhhe9VYe7YvhnPCDr9/SgdZMR/QQIW3JyKINpF5gUsYDEuznQpO1sdBgjBbFwmvQRQsyKSqOfqv64r3boDVzMC6IjW2rnkYQ/B4VIMGeh3DD9QL9/SgO+Akn94w7UhAbBC2u1PDtEUN8mmMHl7N0lEBsdJAeDNj0IpUYG+9fTMv/LsU1N/L1C5Gg4LybqkhBnCeOR/aY+1GuG1zKVoPWTC/FGOtlU3/r/owQz6UDJKSTPxQZtO18zB/+gNd7J7nnx3YFgUrXbh/uNgj86hAKWjLs9EA82rZyKAepF+A/0gwCyJ4V4Jamwu6+cCgavhrbDcQtKQg/Iqk/bAHXM/tohdh42rpEKQaCgGeUAnw6ESDK9THMeRhHm49223ZCGc35dtPwMRRjXAj99tjtw41xxyRoPKAFNzL8icEI1EHpN7nOCPHXEoWhDIURmBbJMcx2Y/5f+F2DobceQw5y/5Is//Hbhx/ylgLjjtYMVwIhQrYt1quUgSgFJlEyQJTBCvDx7cb8fbwm7VYQh7hEs8NYfCwpEBvblpAykHoh3pFUEOH6+QIbe68VdN/deAzWzzq4Z2c3QCDCJ+fNbIw7DlvBtSw8uRDBFZLRTgnGRUS1Vyk0eZKNodxYLf71Mf80iaLPawtcigh8LHty/dLCx9zZHcfiSQPJ9IKG7D/GDXJW0LM/6QjC7WBMxHfFRvXNfL3bzv1qyA7DVn9t7iL45m0taM10Jh1g+1Xy17hB6gW4POkvvjAcjHH0SqGm3VN35DpoYQ0l/UUP2wx53CDlVQZ5ebURpGrFcnyk+CdtMzF2tAVYsoZAPxukblnxg4hrDPtTEqLaQPAvDKkPaN0uBKv5X/sgMgoIkRuMcbXgDtuZ/Bd/28a/ZSGIam95ldGTQhB+6LM+3cFfXNPsTi8o7LqulmIy0NQvBVNTYjWYFwEwC8+Cobc0wMzypQDCWs1sLxij4FAnU15l7Eg2RHm1EQhrTb1vNTvvkhBkD2pnZiSYjAiCXOtHFgAhmgqgkHUUWcHdN/AUAaHmsXcdRJTcVYGP534/pmNrPatBDLKirgtaEiMIQvbug/e1j0CCtfMNoJ81llwUFnVvDE/I8NeStD0tHjs/qGarFz2hEGTf1lrvSrBK31aQy2apf4UQWh5DmRMsgdHDGtDPciUJ5FVKh4viasN0wjCqDKvwJ71odtu8bStEsKfQD3uDGKEgZHXWU32AEK0+hkLWWToJ7v1TC8wsfwK3KwcAFP+ZqPIq44+JwCj7ALccujrdtxME2dwuFA3F2ApC1uUsw7YFCXaq0ALuHuhLEAi143cyZTV4Lq3bU41xMufbES1L4/GHwzjQueCVoFUPdgO5MXjaDuaFi2FRyFVk56HAnGWnGYX6D6jerzS9SNM5sVSktGjeuOVaCAcRbFHXz6qtGNuBkLVPnVCFBXkEI1gE1kPqwKMpHSADNHyES0ZcbbxHJYbg49uGf7TNjUUCwe70guzO6QkJWumOFOSKRbroI0T2iFAC719K7WAwW0ftdsWi55IDmfIqo5KSVSHHrf9qnDBGCsFerxg7q9sOYycQsuax93URgwQ7cfQ26GcPUoRC3zWgspruA3GeE7P8i8OaLO3iSrQYh3SDdyRo5Wq0II1mZHV5TvRb1CiE0A9sXHK1OOIEoe+iHILcfl5cbVyJ/pwwrpQqzNoDt1zOaCHYnV6QpfWsIliteSeMcCBkNUOnLYEXOFqUwPsXmADD76hBP2sphu3KB/povEpKRlxtwKLBENb29LzZ4hyKBYK93vyuW53hMHYDIUs4xJ0xgWyMYUbAwEFDlCD0XrZeB6mMcHsaPdJgR+OBYAdWB+GWoNWT8YK0DCDTYF60EBcK2cmjJmBhD0eGwqL/6wjlVYbXw2JUGdzkuCNLu/gwXgx2pxeUdv2w7WNutCBk749H+Bi86zYmWg6MYcys+V1A6P/CDoKYnxVXG1y7jcWpaHanfUyKybxUgVyxSJf8hGiEEpTAYzLsDDPmd4N7CfhKG5nyKkNLKEZZrcn8zrWZO1RBsNd7Aq3TR4IRKQjZ26Onwo9UYunM8QFgeaN38/nBTsyXPtdAjKVrqwKf2G4sTkUP6/p6IsWIBoSsd1aMU47yaMyftTbmt7AT97Xo8g97Xik4P6jabixOTRd9ElQ+SBfIrWFkGBAiHy0ohNADrO+qgDmBfziADEvr5dGxMtidXnBM16qJBiNaELIzDrGGHhDRKiBEhQnFoBPlYCcxJ+mSOekGaRmQzIJ5kTNtMOhCEXR9Hbi0QDcI2WH7CXVaYVCN8qbuvlWCVi4nCqTJIl1ZmRUNpRUGlSgnsc+MsWDEDNIvBZj1VE/aYVCBwtF1d8eKEQ8IWY+zrDvtMOJDcS1JuqpHkgXSNnj6PiBED9MOI1aUQt3VmA5yKUUgZCcn1289phtGtCgHOx0OCSqbTzbINYvEBQjhZFpiRINShn356PahNIkgZAcenNCmLUYkKId01gEpKvOnCshls9S/PCfqT1uM3VBOox9tun0oTTIIWZ319OO3HtMJYyeUPFTXRRWGlEIQsgszZWhaY2xFydK6PAhWbUtVkJt3kXEwL3KnNUYoSknXfyP6WFaaJBCytslyVdpjBHMSk78sRWUlErSyWYrJXCkE4moyS5obLdKSpjsnn44fltyahoaG31XoK/ZJMFmZFJN1JHS4aJb4Gs0SvKlfKv+5H9nfek/xdP70arggKuQ5BK3cL0Ur5RJUhtMAYm3sl5xr6pdmN/fVMD9OHDVQN/KCFJVlS9DKcxKscscHgZ0AGs1SR1O/tOGyuSLv8gDC/Hw35SvIUPNShV6WJ8VkDRKscuExELPE02SWdjSaJWWXByr2IVR/c4nJzkFUyN7g9hY8By6OIHvD/BMmTJgwYcKECRMmTJgwYbJnc/4PKLMFE0aceqoAAAAASUVORK5CYII=",xPe="/assets/l-102b9de8.png",bPe="/assets/xl-daca963c.png",_Pe="/assets/m-c37e63ca.png",wPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAALoUlEQVR4nO1deXAT5xXf0k4z7XSmLX8U2gx/MRM69GDSdqZtIJQrXCaEGwzBgCVZsmVz37iY+LYbQzgsMGAuyzYmjuNgcAFjbI5QTBxIABOukMMYKrCl/T7FcTqO/TpvLdm7OlfWSlqZ/c28GQat9L33fvv73nftmmEUKFCgQIECBQoUKFCg4DmG2Wz+Ocuyf7ZarXMJIWsopeukNPxNq9U6j2XZv1gsll+EOl7ZwGQy/cxqtY4hhKwghOyjlH5ICHlKKYVgGiHkGaX0P4SQ/YSQlegT+sY8D7BYLH8ihKRSSusJIe3BTj4VT1K7zcdU9JnpKwCAH1BKR1BKt1JKvwh1omnvDX3PwVgwJibcAAAvEEKiCCG3ZJBMkNjuE0KWNTU1/ZSRO6xW669shbOptwGbWyxw5/ZDqKmuh6KC03Bw/wlJrfDIaaiu+gg+u/2Qa8uPbu0pISSztbX1RUZuYFn2l5TSbEJImy9BffnFIy45ebnlsHalAeZOT4KxI5bDqL8vDYqNGb6ca3PN8lzIM5TD2TNXOZ98JKaNEJIlixEbAPSjlMZSSlvE3v3na65BRkoBzJiSGLTEj/LRZr6eyPmIvprN4lRECMEc6DAnISHDarX+DoeqIhyFC7XXYMumfIgYt9Z7QoYvhcmTE2DOQj2oVsTBArUe5qukMfwt1cpYmBulh4jJ8Vxb3vxBn9F3jAFj8RYvy7KXrVbr74NGBAD8yFYnvvPkWEuLGcrerYFFkWlug31tVALMmq+HmLU6WLc9BjJL1bCrNhoMF3tsc74G1u+MkcTwt/i/jW1hm9g2+oC+oE/u/MVYMCaMzQsp7VhfAODHwVDFVU/ONDe3QP7eCpg2eaPrOy4iAbTrdJBcoIbc88Lku7LM99SSEZJVpvbaHvqUYtSAdn0sRETEu4wBYzuw7wQXq8cu2my+ZbFYXg6ZKqpO13FF0pUSYtbGQnqJ8A4VYztroiExz38y8Dcc1SfG0Gf03ZVyMFaM2ZtaWJbNkkwtYlSBQ8gV8TucHJ48KQGWpelge5XviTDwbGulCjbs6j0Z+N1t/1b55QPGsCxVy8XkGCfGjjkIqFrEqMJiYTnpvjZypcDBCeMSYHWOVlSX5AspGw2+k4Hfwe9K5QfGtPptLRcjP+bx/1jF5QJzIrlaxKii4eYD0CzOdhohLdbHwbZT0iXAwO++zqkg2aiB9WLUsiuGuxa7vED48s6ZaNCsjoXRDiO1JQsy4JPrd6VRi23tqVeqmDEnHjKOeS+akhBTrYKMUjW8dVgDiXu6ko+G/8b/w4EAXhMMX9KPqbnYBTVz5Eoxavkfy7Ib3K6N2SZ5hb6qYsyIpaDbENurgtlXLPdCNCxN0cLYV31Xi8lkKnFJCiFklSdV4DqQoyrUUVlQci4v5AkxyMRKz+8FnSpHkKNxr66AndtKPc74r1y5kikgA1cuKaWsWFVgI3m5x6G9/XuwftcCey7FhDwZhhDbnksaoG3PoKOjA4oKqrgiL1Ytzc3N3wwePHgUXx2vO16EywSuVDFr3jL4/MHXwMe5ewdCnhBDiK3m3kFBTj5/0MjlyrG2YE5dLcGkpKRkMwwzhCOEUrrW8YIPyi441YqEZB037Lv5uFrQOGkzwZ5LwSnoBhna7ktqsHz7X0FObjSddVtbKsovOhFSUlJiZBhmJsMwP2RshwkEF7xfWisYzqYf7ZllH7m6Gjo62wUOVN3ZG/LEGEJkZ+/uE+Sio/N7KLi6pvtzzB1/IRNz64aQSIZhfuOyy8IFtFlT/9kzG83UCpxoeHJe4IS59THsvhicoaZBRoYxt7Q+EuSi4Umt4BrMXff0IGITPHvW4q7LQkJ+i0Pen1BKLY4XFRWc6f6hSeMTuImZvRHjR+ugo7ND4MjpzwwhT5AhyIYx89HZ2QGF9Ru6P8eJ6aSJPfMU3AV1UdRbBw4cuKibEFthT/FVJXdMHwqcaf7mazA8VypRwVPrl4IcYE58VcfJkyfLbGR0dVkI3IL0VSV4J+AdwUdlw3YZJCo6KFbZsMNJHUX1G31Sh9lsbhs2bFiMjYyuos4b/vqskvvP6gROmejDkCfKECR7Qu4LYr//tM5fdfxRMEHsjUqOfpwIndApcKziZk7Ik2UIsFXc2iqIGaATSq5t9kcdsxmGecHVEorPKnnYfE3gGt45Uga/q0YFq7K1MHu+nrPscs9znp3VXXsXuCWLO5RT34iHBeo42LhbuhWFx+SuIOaHzR9Lqw5/VHLs+hbuDuGj/EaWJIFvOaThEsqfWMUn6dxe//ZxFUyZ4nrrFW1hbKzf+zQYmyPevZ4svTr8UclX5hsCBxstDX4FvbVSBVG6OJdJjd3kmhBM9Bsz3JPh7ftirdFyWxDrV+ZPA6MOn1QyMV6w+fPeJ6lOd03Zp+ncqQ7tBh3EJuq4rkds0NNm6n1O6JocrdN175xSQdb7aq774i8DbT0pzhf0GX8HY8BY3MXJV8fECQnSqcOTSvCUBR4ic6eSR7Y7B1eBa6qvgy4mXZAgrANiCZk43hbU8K5uRgwhc97sSfq0WXphV1ahgtGv8PbBM8T5gj7z29Zp07nYMMaunuC2e3VMSXR5MsUndfhTSwovpnNLz3OmOZ88QdNvFt9VJB/RcFukqcVqbkvYGyHYXeGd76nOTJ/Z0529GRMnyg/02VUsmGzcgiioTQ9c7ehtLUkrVnN76fyE+EuIgWdiCMEzV/xrNhmcjxyhj/bPp06L94sQu6Hq5kfHQdIBjfS1ozcqcXccs+sOKoesNGNQCEk2agTX4OjM8RpUnP1z7BJ9JQRjwZjcnkvm5UJydfiiEr6pojK5vRT7liWeKg8GIVsOCQlJLXKeq+D37J/jwTdfCcFYMCaWZbmT8sv1O2D0K8JNqICpw5tKjhZW9dSSMashO72Q2+51vC5YhCQHQSF2QviGMf8rowgmjV3TfR3mxvkmbvl26NChGr/U4UkluA2JO1+42WIyNTs5EGxCsstUAa8hrgixG+YAc3Hig0sut2glUYcdLMv2p5QSd854smARkns+WrBV6qot/ihroTZOUkI8mYM6ZjEM4/85X3wYRc6EGBzmITPmCOchOSfUwnmIwxwqkITk5+fvk0wdduBhLovFcjhYhOyq7ToViENqHFLyCVmSEMv9P9r2syq3M/VlKV2HMnC2Pm+xcKaeI/K8r7+EXL58uaZfv37zJVUHH/X19ckmk8npDFdLS0tbY2Njk1SEzF7gfumEb9zktKaHRKwN/M+5uZHD0Byf/RDrhzdCMGaM3bmmmFij0XiIpwy0wUwgMGjQoBFJSUmZ2GBxcXFBWlpa9oABAxZXVFSUSkXIBIfT5Z6Mf7fjuhV/tuxokUv0Pq2peSMEY8b9cMwB5gJzgrnp379/lAMZf2UCjJcYhpnOb1RKQtZtj+GSh88DurN5i/SQ8JbW5cl0PG+My/ZjRybA+DFLucVF7NJ8XXoXQ4gt/ghblxTpYNNtuQoK8InTX9saHHLv3r2cQBR1QwjNB0L+YNsPf9F2AvElW25C81QughCy5TknRF5QCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCAkzQg7ur4Rww8H9lX331IlCSJChECIzKITIDEpRlxkUQmQGhZAwIwQfIcDXpoaTzY3S991hb7hbXhgS4vT++OPlF0OeyFESmasXIONTU3ImxOUryzEQfCF9ONsJN8+f8963Kz9CbC/1d3rrQ1+15uZmK+99u13vbZcb8M9xhzpRNEhmNBoPO71vV27A59kJIcZQJ4sG2Orq6i7wnj8Xvm9XjqTU1dWl49/FCHXiaAC6KVQGj4zIYD5l6xfwj5TYn98+derU8XC2Ytvz+LyaYbe/MWGGITZJR/Yxmxk2ynAB/vPbw8LchthikW/NUKBAgQIFChQoUMA44/+a1QMyPToXpQAAAABJRU5ErkJggg==",SPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOnElEQVR4nO2dCVBURxrHO+4ma9Zda1PZyu5Waitbe1jWblU02Rh31XgFYwyeeCQYE2ISE68wb1DwioIXauLJghoUFUFF8UJFUTlEQRSQeOGIiiCKDMfMdD9AEJBvq4c533tzMsO8wfdV/atUnH7d/eP7uvvr7jcISSaZZJJJJplkkkkmmWSSSSZZZzcAeAlj/IqpKisrf+PpeonWAOAXLMuOI4QkYoyLCCFqK9IQQsBFKsYYb8MY/93TfSAKo7+lhJBA2jEu7GRwVBjjZkJIvEajeRs9j1ZbW/sHQkgYIUTlSRBEGE4Wxngi9VrU2U2tVr9JCPkJY9zg6Y4ntnWXECIDgJdRZzOWZQdgjI9jjFtF0NHgoMdUEUJW19XV/Ql5swHAi4SQLzDGN+xsOKSdzQVm1iYYNXw+jBw2zyGNeD8YBv830G6NGDoXwhbFwPWrd+yFU08I2YIx/ivyJqOxF2M8nRBSak9Da2pUcPRQJnz+yQqHOtSVmvH1Ojh7+rK9HtOMMY7DGP8Nid00Gk1vQshlexpWVvYYfoo6CmNGLHR7h494bxaMHDjTqMHfCf6/aV/8ACknc0CjwfaAoeNgGAD8ConNAOAFQkgwxrjFVkNuFRbDquVxMHzwHF6HfOQTAhHrE6EoORYeLn1HUJXL3wZNeO92Ccd/AwVXFPD9vGgY2p/h1WPyhKWQmJAG1dU1NsGo1ep8lUr1ZyQWA4CuhJADtiqek30dFoX8JNgBH4+aCzu3n4CKiipgWRaIIrPdnW5N5HiY9jlUd+88gPXLomD4IL7HUO/dGnUEyh8pbYTdGnVVVdUgMcB4mRByxlJFqevTEDAtYI1giJg+KRDSoxhoyl1p6CCWAlFXg2bdAPcBuXrC7HlP7yaB5jQD2xczMOp94QlAxIZEKC15ZM1TGouKinw9PYuyCOPa1SL4duqPvMYN6R8IC76SQf5OBiBbblCd6qE5lONL3QIDbxwKLFabPavl53WGejzJkMPB1QxMGsEHQ8Ms9RhVjdoilIyMjJEeAUII2Wxp+rpz2wl4f4B5aBo+MBDWB8ng4VEjBFM13ks26yS26iFoNg51vXcUJJk9p666BCA7iFef5vNyOL2JgS/9ZPzBP2ANFN8rE4RSVVXFRkREvNvRMAKEKqNSqWHJgu1mlf/gPRlEL5JpQ4IQCL1ac5dALa4295KbqaBZ865bxg69mm7ttl6vLDlkRzPw9XjO+PLhAsjPLRSEUlxcXNyzZ8+OWUjW1dX9UZd15birBubP3WpW6Vn+lj1CSE23E3gdRm6cBc0PfdsP48QyYFliVnZ9xXVB7xBSywU57FspA5/3zGeFeZeFoSQlJe1BCLk/xU8I2S9UgR9X7TGDQcMTdXt7YbQpCOofX+NBYR/dBrz7S+dgbBgCJDeRVyb1xmd5KxysnxxuxDMw1sd8JiYUvlQqVZO/v/9UhNALbl34CeWjjh7ONIMRNd96eLIaInLmQ32lgg+FJW3eEjcNNKvsWItsHgnkwg5ga5R8GEQFLVc3OV3H+4cYGDtMZjam0AjBm+rn5JxHCP3LbUAwxke4D31YVgGjP5xvqNzib2TauOtsY4FCubTQAhSdqsuBXDsFJHWjdlzAB+SAjywAnLIGyKV9wD60/FnqGS3XItpVP6qbe+UwbIDxl5BOZPjTfs0zPz8/GULoty6HUV9f/7rQSjx8aayhUv6+MmhIb19DQa+Lc6DxbhKwBFsG46DqlYXwLG+Za+qXLYeElcaZ5AeD58CD0nIelNTU1GSE0H9cDgRjPJ/7sHt3H4DPQLmhUpdjnA9VltTy83p48vjndoGoq3kATYo9dg/g9upZlhymTTR6yca1+3lAlEol6d69+6cu9xKMcSH3YZGbDprNqFwNA0wbX/ADNDw4B7Wqcrsg0HHiyeMCaC6M0Xqbu+p1cZvRS+gWQFUVP/8VHh6+FiHkuu1hjHEfoQXgpLFLDJWhc3V3AgFTOPnh0KSIh6f3jkFDyVl4UnYRGh5kaheXT2/vbxsjcoI7pC50vPx8jHGATz6WzQNSUFBwGSE0DiHUxSVACCGR3IdczLpmqMRon0BozuwYGCBCxS01ApkTGCmUUmnu1avXNwih1111pqma+5AVobuMsXOue8MViFzKE4w2R0f7gqaMSgSSkLGxsTsRQgPaDUSj0Yzn5Wsqa7QZUD0QRYLnOwU8LPkUo5fsikkWSqfcQwh9jBBq34YWxviYtYVgwFjv845nWXJQpTBQk9L2Z1eUmbLJOLjT7WihbMaUKVNCEEL/cBpGbW3taxjjJm7BgTM2Gh6+b0XHDebgAjWek0POdgZSI9uUvY2Bxoz2T4fp+uujwcYpcEG+ggckJSXlGEJouNNACCFB3ELvFz807PrRuFmV7PlOBgek2GeEoRdddbui7FXfGcPW2tV7eUAqKirUXbt2pWuS3zkL5Cq30O1bjxkeGjLV+8JV7k4+kEsxrim7YLcxbNGjTPREDbf/QkNDVyOEejt7goQfByctNzw0Lcq7whVQD0mQ84AU7mNctibx9zWGLbp9ze2/vLy8iwihsQ5ngTHGG7iFXc65YdwLGBIIjRme72BwULWp5kDoeELHFVeVv2OJMWzNC9oimJbv0aPHVwgh+zewAOCXGGMlLwWwbLcxRsq9L1xBthxu7zcCoeuH1guuLf/xcQaG9DOuSYQSjjExMdsQQv3sBsKy7BhuIfSMkq9PiAHIzT3eF65At4ijoZZ6hqumvFx9N9noJfGxKTwgd+7cKUIITUIIvWRvuDrMLYTmaPQP+XRsCLRmz3W4ovVpclgTKIPVgQzUpXoOaPP5tnhv6ed0Krzwa5k2cehM+cc2hxv6auqn4YJrEj8/vyCEkO2LQoSQVzHGjdwCaI5G/5BtW5O0x3a0KW0HMqkRwcZZyIFVthv7JEMO1+LkcG4Lo01e3j8od3mIEdLIIW11/HBQINScYhzaKqBb0JXKau3+iL6t9EgU7xc8OfkwQmiYPd4xm/vhkvsma49+Mu1pP+MxmvvQVLjL5l7D4+NyswMCO0Otj0FNmQxkRfOnqB2RpjHdjl7L2B4rWwrWwpPyfLP0/5KFxtM3GwT2SSoqKqq7dOkyGSHU3ZaH8A6/0e1JfeGBMzYJbwJVFkHz9S0WKx023fx8ky0gZUf501O9mtycWTat59B+gVByWPj/PbuyGp48yuWdZqE6f67A7CAEPSLF7deAgID5CKE3bXnIY+4HaRw0bERNWw+FN4utbJPegpZr/+OtjvUzD3uBFB0QhkGFz3YcECo6npiByF0KDaXpFreXaefvjTttVsa59Cs8IJGRkZEIoTG2gPCmuwGTV5oVPqS/THsgzjqYm4aTHTKTTKi9QMqPCcNI3yzrUA8xjAPxDLTmhdkEkbDnLIwf9T3v8xlp+TwgUVFRmxFC/gihV6wBOc/9oOLWfQhmorTjBw/MQutgMo4eEWygLSAtF9pODHKB0Cnr1Tg5PM103yxNqL7TPwsFolFZBTFhNB+En+8i7c/oDiu3X2fOnLlYB+Qv1sYQudA0jepK/i2rYOjdD9OK0kp8ZnIzynTmYQlIUyYDt/cz2pmVpZBFRWdfHQHkg0FzzFIhpu1TqzSQsOeMIIhxvosgbtcpwT123aCu0iUarQOpqKjoRgh5YAkKFb2XR+96CIGh/64HQy+9GFItPiFmpxuFgDRlmqfGrSljc8d4yKZ1Bwx/njxxmfZAHFXSoUz4eFwoDwQ980vvulRbAKFXdHT0Vh0MqldtjSPvCJ3fteQx3ErRKXLoohitu+r/LSb6uPYovzUgN/danllxRbO2HQGkvFypvVSq/zsdOyeMXizoEbt3WvYIU124cCHNBMYYuxKNLMv2FBpPHPEYveggR39jrAGhoSotyj4YdH3CunGlb1p32j66JSvULkc8gqqmpqYhPj4+Vrf+0ANx7FYvxthHrVbn2QOGrkiFwBxKzND+3BoQcsY+78jdYT3t4Q4g9IIONzw5AkKlUjWmp6ef6tOnz3QTEFR9HILhLJj8vFvaVAsFw8yKoGdcbQLhpsVTLagg1v05MC4QKnptmg7w2tC046RDIPr27TuDA2ICQqiH0zCcBUNPp5j+3RqQ1qwgOL/VNpSSw54Bom1PVY3hl8tJEBMRQv9GCHV1CQxnwdgDhKr0sHUYFJi7F4XWgIgShAUw+a4A0polh1sCW6xUmVsY0JxxPwxngIgChDNgbAEBnapPyrWpCromoYP4vcS24zsdAcMRIKIEIfBGB1+VSnVIo9E0OAsEPCxbQEpLS0uPHDly4K233vpWAESvdp9OdIcRQlZ2RiBKpVLDgaAH0VuUIJ4zICN0dwjFC0JvhJAVnRzIOORNRghZLgERkRFClokJSGsWXee0XUGjU+iruxmoS3u+PGSpmIDcEdgSpnsuDQIn3zsrkDCxAGk+L7eYSb6b+Jx4CMY4VCxAiJVMstDOY2cFskQMQNhURnt/3hKQ58lDFosBSPY2yzDo4C6UkumsQL73NJCmTH6oomPJuedxloUxXuRpIKB704LZUVQ7Lud0ViALxQCkNrXtGhv1iut76DHU5xfIAjEAASfUWYHw3h4kAfGgYYznSUBEZCzLhkhARGT0XfASEBGZBERkRgiZK3mIiIwQMkcCIiITenGN6bTXW0Q60TpkOrcx9EqCpzt4sAMaNjCIB+TRo0dVXgmEEDKC25jbihLwHx/m8Y4ebIfo62+jIg7xgCgUipteCaS8vPzXhBCW2yBvV0JCQpwOyCjkbSa0a+jNUiqVmjfeeGOqDshQ5G1Gv4UHY5zm6Y4kLpBarW4KDg5eZnJIrifyRqNfK6dQKBLoi+k93anESZWVlZXPnj1bf4VZP368iLzYugQEBHx28ODBvfQrHK5cuXLJC5STlpZ2kr4mvFu3blNMYNBXvb6GOoHR12y/gxD6ROCwsrfIFyH0e9TJjH5LwD91X+HQ30v0tu414e77thzJJJNMMskkk0wyySSTTDLkGfs/qs34Wg57eFIAAAAASUVORK5CYII=",APe=[{name:"colorpicker",icon:yPe},{name:"filepicker",icon:vPe}],$9=[{name:"XL",icon:bPe},{name:"L",icon:xPe},{name:"M",icon:_Pe}],W9=[{name:"logoShirt",icon:wPe},{name:"baseShirt",icon:SPe}],EPe={logo:{stateProperty:"logoDecal",filterTab:"logoShirt"},full:{stateProperty:"fullDecal",filterTab:"stylishShirt"},base:{stateProperty:"baseDecal",filterTab:"baseShirt"}},AC=({tab:n,isFilterTab:e,isActiveTab:t,handleClick:r})=>{const i=mi(mt),s=e&&t?{backgroundColor:i.color[i.selectedApparel.split("-")[0]],opacity:.5}:{backgroundColor:"transparent",opacity:1};return K("div",{className:`tab-btn ${e?"rounded-full glassmorphism":"rounded-4"}`,onClick:r,style:s,children:K("img",{src:n.icon,alt:n.name,className:`${e?"w-2/3 h-2/3":"w-11/112 h-11/12 object-contain"}`})},n.name)},MPe=({texture:n,color:e})=>{const t=mi(mt),{nodes:r,materials:i}=No("/shirt_baked.glb"),s=di(n),o=di(n),a=di(n);ku((c,u)=>Xg.dampC(i.lambert1.color,e,.15,u));const l=JSON.stringify(t);return K("group",{children:tt("mesh",{castShadow:!0,geometry:r.T_Shirt_male.geometry,material:i.lambert1,"material-roughness":1,dispose:null,children:[t.isBaseTexture&&K(gs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.23,map:a,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),t.isFullTexture&&K(gs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:o}),t.isLogoTexture&&K(gs,{position:[.07,.09,.1],rotation:[0,0,0],scale:.07,map:s,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]})},l)};function CPe({texture:n,color:e,...t}){const r=mi(mt),{nodes:i,materials:s}=No("/hoodie.glb"),o=di(n),a=di(n),l=di(n);ku((u,f)=>{Xg.dampC(i.mesh_0.material.color,e,.1,f)});const c=JSON.stringify(r);return R.createElement("group",{...t,dispose:null,key:c},tt("mesh",{castShadow:!0,"material-roughness":1,geometry:i.mesh_0.geometry,material:i.mesh_0.material,dispose:null,scale:.7,children:[r.isBaseTexture&&K(gs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.4,map:l,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),r.isFullTexture&&K(gs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:a}),r.isLogoTexture&&K(gs,{position:[.11,.18,.1],rotation:[0,0,0],scale:.15,map:o,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]}))}No.preload("/hoodie.glb");const TPe=()=>{const n={shirt:K(WM,{}),hoodie:K(o6,{})},{selectedApparel:e,intro:t,buy:r}=mi(mt),[i,s]=R.useState(K(WM,{})),[o,a]=R.useState({x:0,y:0}),[l,c]=R.useState(!1),[u,f]=R.useState(n),p=R.useRef();return R.useEffect(()=>{Object.keys(n).includes(e)&&s(n[e])},[e]),R.useEffect(()=>{if(p.current){const{x:m,y:v,width:y,height:x}=p.current.getBoundingClientRect();a({x:m+y,y:v+x})}},[p]),!r&&tt(Hl,{children:[tt(PM,{onClick:()=>{c(!1)},shadows:!0,camera:{position:[0,0,0],fov:25},className:"w-full max-w-full h-full transition-all ease-in",children:[K(GM,{files:"canary_wharf_1k.hdr"}),tt(jM,{children:[K(f0e,{}),K(zM,{children:i})]})]},e),t&&tt("div",{className:"nav",children:[K(H6,{style:{background:"none",color:"black"},theme:"white",children:K(IP,{ref:p,defaultValue:mt.selectedApparel,onClear:()=>c(!1),size:"lg",labelText:"Search",closeButtonLabelText:"Clear search input",id:"search-expandable-1",onChange:m=>{m.target.value&&c(!0),f(m.target.value?Object.keys(n).filter(v=>v.includes(m.target.value)).reduce((v,y)=>Object.assign(v,{[y]:n[y]}),{}):n)},onKeyDown:m=>{m.key==="Escape"&&c(!1)}})}),K(PP,{size:"lg",mode:"full",open:l,x:o.x,y:o.y,onFocus:()=>{p.current&&p.current.focus()},children:Object.keys(u).map((m,v)=>tt(Hl,{children:[K(Pb,{label:m,onClick:()=>{mt.selectedApparel=m,c(!1),p.current.value=m}},v),K(N6,{},`${v}-divider`)]}))})]})]})},j9=({tab:n,isFilterTab:e,isActiveTab:t,selectedSize:r,handleClick:i})=>{mi(mt);const s=r===n.name?{background:"white",borderRadius:"100%"}:{background:"none"};return K("div",{className:`tab-btn ${e?"rounded-full glassmorphism":"rounded-4"}`,onClick:i,style:s,children:K("img",{src:n.icon,alt:n.name,className:`${e?"w-2/3 h-2/3":"w-11/112 h-11/12 object-contain"}`})},n.name)},EC=(n,e)=>{switch(e){case"BRL":return n.toFixed(2).replace(".",",");default:return n.toFixed(2)}},J9=R.createContext(void 0),RI=()=>{const n=R.useContext(J9);if(!n)throw new Error("useCartContext must be used within a CartProvider");return n},RPe={productQuantity:0,installments:0,totalPrice:0,currencyId:"USD",currencyFormat:"$"},PPe=n=>{const[e,t]=R.useState(!1),[r,i]=R.useState([]),[s,o]=R.useState(RPe),a={isOpen:e,setIsOpen:t,products:r,setProducts:i,total:s,setTotal:o};return K(J9.Provider,{value:a,...n})},K9=()=>{const{total:n,setTotal:e}=RI();return{total:n,updateCartTotal:r=>{const i=r.reduce((l,c)=>(l+=c.quantity,l),0),s=r.reduce((l,c)=>(l+=c.price*c.quantity,l),0),o=r.reduce((l,c)=>(l=c.installments>l?c.installments:l,l),0);e({productQuantity:i,installments:o,totalPrice:s,currencyId:"INR",currencyFormat:"₹"})}}},IPe=()=>{const{products:n,setProducts:e}=RI(),{updateCartTotal:t}=K9(),r=(l,c,u)=>l.id===c.id?Object.assign({...l,quantity:l.quantity+u,availableSizes:[...new Set([...l.availableSizes,...c.availableSizes])]}):l;return{products:n,addProduct:l=>{let c;n.some(f=>l.id===f.id)?c=n.map(f=>r(f,l,l.quantity)):c=[...n,l],e(c),t(c)},removeProduct:l=>{const c=n.filter(u=>u.id!==l.id);e(c),t(c)},increaseProductQuantity:l=>{const c=n.map(u=>r(u,l,1));e(c),t(c)},decreaseProductQuantity:l=>{const c=n.map(u=>r(u,l,-1));e(c),t(c)}}},Kb=()=>{const{isOpen:n,setIsOpen:e}=RI(),{products:t,addProduct:r,removeProduct:i,increaseProductQuantity:s,decreaseProductQuantity:o}=IPe(),{total:a,updateCartTotal:l}=K9();return{isOpen:n,openCart:()=>e(!0),closeCart:()=>e(!1),products:t,addProduct:r,removeProduct:i,increaseProductQuantity:s,decreaseProductQuantity:o,total:a,updateCartTotal:l}};var Kn=function(){return Kn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Kn.apply(this,arguments)};function mh(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var BPe=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var f=e[u],p=t[u];if(s=r?r.call(i,f,p,u):void 0,s===!1||s===void 0&&f!==p)return!1}return!0},fn="-ms-",Cm="-moz-",Xt="-webkit-",X9="comm",Xb="rule",PI="decl",LPe="@import",Y9="@keyframes",DPe="@layer",Q9=Math.abs,II=String.fromCharCode,MC=Object.assign;function OPe(n,e){return ur(n,0)^45?(((e<<2^ur(n,0))<<2^ur(n,1))<<2^ur(n,2))<<2^ur(n,3):0}function q9(n){return n.trim()}function sa(n,e){return(n=e.exec(n))?n[0]:n}function At(n,e,t){return n.replace(e,t)}function dx(n,e,t){return n.indexOf(e,t)}function ur(n,e){return n.charCodeAt(e)|0}function gh(n,e,t){return n.slice(e,t)}function yo(n){return n.length}function Z9(n){return n.length}function sm(n,e){return e.push(n),n}function kPe(n,e){return n.map(e).join("")}function qF(n,e){return n.filter(function(t){return!sa(t,e)})}var Yb=1,vh=1,e$=0,ws=0,Wn=0,$h="";function Qb(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Yb,column:vh,length:o,return:"",siblings:a}}function fl(n,e){return MC(Qb("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Of(n){for(;n.root;)n=fl(n.root,{children:[n]});sm(n,n.siblings)}function NPe(){return Wn}function FPe(){return Wn=ws>0?ur($h,--ws):0,vh--,Wn===10&&(vh=1,Yb--),Wn}function Ys(){return Wn=ws<e$?ur($h,ws++):0,vh++,Wn===10&&(vh=1,Yb++),Wn}function du(){return ur($h,ws)}function hx(){return ws}function qb(n,e){return gh($h,n,e)}function CC(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UPe(n){return Yb=vh=1,e$=yo($h=n),ws=0,[]}function HPe(n){return $h="",n}function vA(n){return q9(qb(ws-1,TC(n===91?n+2:n===40?n+1:n)))}function zPe(n){for(;(Wn=du())&&Wn<33;)Ys();return CC(n)>2||CC(Wn)>3?"":" "}function GPe(n,e){for(;--e&&Ys()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return qb(n,hx()+(e<6&&du()==32&&Ys()==32))}function TC(n){for(;Ys();)switch(Wn){case n:return ws;case 34:case 39:n!==34&&n!==39&&TC(Wn);break;case 40:n===41&&TC(n);break;case 92:Ys();break}return ws}function VPe(n,e){for(;Ys()&&n+Wn!==47+10;)if(n+Wn===42+42&&du()===47)break;return"/*"+qb(e,ws-1)+"*"+II(n===47?n:Ys())}function $Pe(n){for(;!CC(du());)Ys();return qb(n,ws)}function WPe(n){return HPe(px("",null,null,null,[""],n=UPe(n),0,[0],n))}function px(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,v=0,y=1,x=1,g=1,_=0,b="",S=i,E=s,M=r,I=b;x;)switch(v=_,_=Ys()){case 40:if(v!=108&&ur(I,f-1)==58){dx(I+=At(vA(_),"&","&\f"),"&\f",Q9(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:I+=vA(_);break;case 9:case 10:case 13:case 32:I+=zPe(v);break;case 92:I+=GPe(hx()-1,7);continue;case 47:switch(du()){case 42:case 47:sm(jPe(VPe(Ys(),hx()),e,t,l),l);break;default:I+="/"}break;case 123*y:a[c++]=yo(I)*g;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+u:g==-1&&(I=At(I,/\f/g,"")),m>0&&yo(I)-f&&sm(m>32?eU(I+";",r,t,f-1,l):eU(At(I," ","")+";",r,t,f-2,l),l);break;case 59:I+=";";default:if(sm(M=ZF(I,e,t,c,u,i,a,b,S=[],E=[],f,s),s),_===123)if(u===0)px(I,e,M,M,S,s,f,a,E);else switch(p===99&&ur(I,3)===110?100:p){case 100:case 108:case 109:case 115:px(n,M,M,r&&sm(ZF(n,M,M,0,0,i,a,b,i,S=[],f,E),E),i,E,f,a,r?S:E);break;default:px(I,M,M,M,[""],E,0,a,E)}}c=u=m=0,y=g=1,b=I="",f=o;break;case 58:f=1+yo(I),m=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&FPe()==125)continue}switch(I+=II(_),_*y){case 38:g=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(yo(I)-1)*g,g=1;break;case 64:du()===45&&(I+=vA(Ys())),p=du(),u=f=yo(b=I+=$Pe(hx())),_++;break;case 45:v===45&&yo(I)==2&&(y=0)}}return s}function ZF(n,e,t,r,i,s,o,a,l,c,u,f){for(var p=i-1,m=i===0?s:[""],v=Z9(m),y=0,x=0,g=0;y<r;++y)for(var _=0,b=gh(n,p+1,p=Q9(x=o[y])),S=n;_<v;++_)(S=q9(x>0?m[_]+" "+b:At(b,/&\f/g,m[_])))&&(l[g++]=S);return Qb(n,e,t,i===0?Xb:a,l,c,u,f)}function jPe(n,e,t,r){return Qb(n,e,t,X9,II(NPe()),gh(n,2,-2),0,r)}function eU(n,e,t,r,i){return Qb(n,e,t,PI,gh(n,0,r),gh(n,r+1,-1),r,i)}function t$(n,e,t){switch(OPe(n,e)){case 5103:return Xt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xt+n+n;case 4789:return Cm+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xt+n+Cm+n+fn+n+n;case 5936:switch(ur(n,e+11)){case 114:return Xt+n+fn+At(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xt+n+fn+At(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xt+n+fn+At(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Xt+n+fn+n+n;case 6165:return Xt+n+fn+"flex-"+n+n;case 5187:return Xt+n+At(n,/(\w+).+(:[^]+)/,Xt+"box-$1$2"+fn+"flex-$1$2")+n;case 5443:return Xt+n+fn+"flex-item-"+At(n,/flex-|-self/g,"")+(sa(n,/flex-|baseline/)?"":fn+"grid-row-"+At(n,/flex-|-self/g,""))+n;case 4675:return Xt+n+fn+"flex-line-pack"+At(n,/align-content|flex-|-self/g,"")+n;case 5548:return Xt+n+fn+At(n,"shrink","negative")+n;case 5292:return Xt+n+fn+At(n,"basis","preferred-size")+n;case 6060:return Xt+"box-"+At(n,"-grow","")+Xt+n+fn+At(n,"grow","positive")+n;case 4554:return Xt+At(n,/([^-])(transform)/g,"$1"+Xt+"$2")+n;case 6187:return At(At(At(n,/(zoom-|grab)/,Xt+"$1"),/(image-set)/,Xt+"$1"),n,"")+n;case 5495:case 3959:return At(n,/(image-set\([^]*)/,Xt+"$1$`$1");case 4968:return At(At(n,/(.+:)(flex-)?(.*)/,Xt+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xt+n+n;case 4200:if(!sa(n,/flex-|baseline/))return fn+"grid-column-align"+gh(n,e)+n;break;case 2592:case 3360:return fn+At(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,sa(r.props,/grid-\w+-end/)})?~dx(n+(t=t[e].value),"span",0)?n:fn+At(n,"-start","")+n+fn+"grid-row-span:"+(~dx(t,"span",0)?sa(t,/\d+/):+sa(t,/\d+/)-+sa(n,/\d+/))+";":fn+At(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return sa(r.props,/grid-\w+-start/)})?n:fn+At(At(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return At(n,/(.+)-inline(.+)/,Xt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yo(n)-1-e>6)switch(ur(n,e+1)){case 109:if(ur(n,e+4)!==45)break;case 102:return At(n,/(.+:)(.+)-([^]+)/,"$1"+Xt+"$2-$3$1"+Cm+(ur(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~dx(n,"stretch",0)?t$(At(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return At(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return fn+i+":"+s+c+(o?fn+i+"-span:"+(a?l:+l-+s)+c:"")+n});case 4949:if(ur(n,e+6)===121)return At(n,":",":"+Xt)+n;break;case 6444:switch(ur(n,ur(n,14)===45?18:11)){case 120:return At(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xt+(ur(n,14)===45?"inline-":"")+"box$3$1"+Xt+"$2$3$1"+fn+"$2box$3")+n;case 100:return At(n,":",":"+fn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return At(n,"scroll-","scroll-snap-")+n}return n}function w1(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function JPe(n,e,t,r){switch(n.type){case DPe:if(n.children.length)break;case LPe:case PI:return n.return=n.return||n.value;case X9:return"";case Y9:return n.return=n.value+"{"+w1(n.children,r)+"}";case Xb:if(!yo(n.value=n.props.join(",")))return""}return yo(t=w1(n.children,r))?n.return=n.value+"{"+t+"}":""}function KPe(n){var e=Z9(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function XPe(n){return function(e){e.root||(e=e.return)&&n(e)}}function YPe(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case PI:n.return=t$(n.value,n.length,t);return;case Y9:return w1([fl(n,{value:At(n.value,"@","@"+Xt)})],r);case Xb:if(n.length)return kPe(t=n.props,function(i){switch(sa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Of(fl(n,{props:[At(i,/:(read-\w+)/,":"+Cm+"$1")]})),Of(fl(n,{props:[i]})),MC(n,{props:qF(t,r)});break;case"::placeholder":Of(fl(n,{props:[At(i,/:(plac\w+)/,":"+Xt+"input-$1")]})),Of(fl(n,{props:[At(i,/:(plac\w+)/,":"+Cm+"$1")]})),Of(fl(n,{props:[At(i,/:(plac\w+)/,fn+"input-$1")]})),Of(fl(n,{props:[i]})),MC(n,{props:qF(t,r)});break}return""})}}var QPe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",n$="active",S1="data-styled-version",Eu="6.1.13",BI=`/*!sc*/
`,A1=typeof window<"u"&&"HTMLElement"in window,qPe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),ZPe={},Zb=Object.freeze([]),yh=Object.freeze({});function LI(n,e,t){return t===void 0&&(t=yh),n.theme!==t.theme&&n.theme||e||t.theme}var r$=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),eIe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,tIe=/(^-|-$)/g;function tU(n){return n.replace(eIe,"-").replace(tIe,"")}var nIe=/(a)(d)/gi,ky=52,nU=function(n){return String.fromCharCode(n+(n>25?39:97))};function RC(n){var e,t="";for(e=Math.abs(n);e>ky;e=e/ky|0)t=nU(e%ky)+t;return(nU(e%ky)+t).replace(nIe,"$1-$2")}var yA,i$=5381,Sd=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},s$=function(n){return Sd(i$,n)};function DI(n){return RC(s$(n)>>>0)}function o$(n){return n.displayName||n.name||"Component"}function xA(n){return typeof n=="string"&&!0}var a$=typeof Symbol=="function"&&Symbol.for,l$=a$?Symbol.for("react.memo"):60115,rIe=a$?Symbol.for("react.forward_ref"):60112,iIe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sIe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oIe=((yA={})[rIe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yA[l$]=c$,yA);function rU(n){return("type"in(e=n)&&e.type.$$typeof)===l$?c$:"$$typeof"in n?oIe[n.$$typeof]:iIe;var e}var aIe=Object.defineProperty,lIe=Object.getOwnPropertyNames,iU=Object.getOwnPropertySymbols,cIe=Object.getOwnPropertyDescriptor,uIe=Object.getPrototypeOf,sU=Object.prototype;function OI(n,e,t){if(typeof e!="string"){if(sU){var r=uIe(e);r&&r!==sU&&OI(n,r,t)}var i=lIe(e);iU&&(i=i.concat(iU(e)));for(var s=rU(n),o=rU(e),a=0;a<i.length;++a){var l=i[a];if(!(l in sIe||t&&t[l]||o&&l in o||s&&l in s)){var c=cIe(e,l);try{aIe(n,l,c)}catch{}}}}return n}function Mu(n){return typeof n=="function"}function e_(n){return typeof n=="object"&&"styledComponentId"in n}function nu(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function gg(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=e?e+n[r]:n[r];return t}function vg(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function PC(n,e,t){if(t===void 0&&(t=!1),!t&&!vg(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=PC(n[r],e[r]);else if(vg(e))for(var r in e)n[r]=PC(n[r],e[r]);return n}function kI(n,e){Object.defineProperty(n,"toString",{value:e})}function ps(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fIe=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ps(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(BI);return t},n}(),mx=new Map,E1=new Map,gx=1,Ny=function(n){if(mx.has(n))return mx.get(n);for(;E1.has(gx);)gx++;var e=gx++;return mx.set(n,e),E1.set(e,n),e},dIe=function(n,e){gx=e+1,mx.set(n,e),E1.set(e,n)},hIe="style[".concat(Zl,"][").concat(S1,'="').concat(Eu,'"]'),pIe=new RegExp("^".concat(Zl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),mIe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},gIe=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(BI),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(pIe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(dIe(u,c),mIe(n,u,l[3]),n.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},oU=function(n){for(var e=document.querySelectorAll(hIe),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(Zl)!==n$&&(gIe(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function IC(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var u$=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Zl,"]")));return l[l.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Zl,n$),r.setAttribute(S1,Eu);var o=IC();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},vIe=function(){function n(e){this.element=u$(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw ps(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),yIe=function(){function n(e){this.element=u$(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),xIe=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),aU=A1,bIe={isServer:!A1,useCSSOMInjection:!qPe},xh=function(){function n(e,t,r){e===void 0&&(e=yh),t===void 0&&(t={});var i=this;this.options=Kn(Kn({},bIe),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&A1&&aU&&(aU=!1,oU(this)),kI(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(f){var p=function(g){return E1.get(g)}(f);if(p===void 0)return"continue";var m=s.names.get(p),v=o.getGroup(f);if(m===void 0||!m.size||v.length===0)return"continue";var y="".concat(Zl,".g").concat(f,'[id="').concat(p,'"]'),x="";m!==void 0&&m.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(v).concat(y,'{content:"').concat(x,'"}').concat(BI)},u=0;u<a;u++)c(u);return l}(i)})}return n.registerId=function(e){return Ny(e)},n.prototype.rehydrate=function(){!this.server&&A1&&oU(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Kn(Kn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new xIe(i):r?new vIe(i):new yIe(i)}(this.options),new fIe(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Ny(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(Ny(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Ny(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),_Ie=/&/g,wIe=/^\s*\/\/.*$/gm;function f$(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=f$(t.children,e)),t})}function d$(n){var e,t,r,i=n===void 0?yh:n,s=i.options,o=s===void 0?yh:s,a=i.plugins,l=a===void 0?Zb:a,c=function(p,m,v){return v.startsWith(t)&&v.endsWith(t)&&v.replaceAll(t,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===Xb&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(_Ie,t).replace(r,c))}),o.prefix&&u.push(YPe),u.push(JPe);var f=function(p,m,v,y){m===void 0&&(m=""),v===void 0&&(v=""),y===void 0&&(y="&"),e=y,t=m,r=new RegExp("\\".concat(t,"\\b"),"g");var x=p.replace(wIe,""),g=WPe(v||m?"".concat(v," ").concat(m," { ").concat(x," }"):x);o.namespace&&(g=f$(g,o.namespace));var _=[];return w1(g,KPe(u.concat(XPe(function(b){return _.push(b)})))),_};return f.hash=l.length?l.reduce(function(p,m){return m.name||ps(15),Sd(p,m.name)},i$).toString():"",f}var h$=new xh,BC=d$(),t_=D.createContext({shouldForwardProp:void 0,styleSheet:h$,stylis:BC}),SIe=t_.Consumer,AIe=D.createContext(void 0);function M1(){return R.useContext(t_)}function p$(n){var e=R.useState(n.stylisPlugins),t=e[0],r=e[1],i=M1().styleSheet,s=R.useMemo(function(){var l=i;return n.sheet?l=n.sheet:n.target&&(l=l.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(l=l.reconstructWithOptions({useCSSOMInjection:!1})),l},[n.disableCSSOMInjection,n.sheet,n.target,i]),o=R.useMemo(function(){return d$({options:{namespace:n.namespace,prefix:n.enableVendorPrefixes},plugins:t})},[n.enableVendorPrefixes,n.namespace,t]);R.useEffect(function(){BPe(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]);var a=R.useMemo(function(){return{shouldForwardProp:n.shouldForwardProp,styleSheet:s,stylis:o}},[n.shouldForwardProp,s,o]);return D.createElement(t_.Provider,{value:a},D.createElement(AIe.Provider,{value:o},n.children))}var m$=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=BC);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,kI(this,function(){throw ps(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=BC),this.name+e.hash},n}(),EIe=function(n){return n>="A"&&n<="Z"};function lU(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;EIe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var g$=function(n){return n==null||n===!1||n===""},v$=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!g$(s)&&(Array.isArray(s)&&s.isCss||Mu(s)?r.push("".concat(lU(i),":"),s,";"):vg(s)?r.push.apply(r,mh(mh(["".concat(i," {")],v$(s),!1),["}"],!1)):r.push("".concat(lU(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in QPe||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Nl(n,e,t,r){if(g$(n))return[];if(e_(n))return[".".concat(n.styledComponentId)];if(Mu(n)){if(!Mu(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Nl(i,e,t,r)}var s;return n instanceof m$?t?(n.inject(t,r),[n.getName(r)]):[n]:vg(n)?v$(n):Array.isArray(n)?Array.prototype.concat.apply(Zb,n.map(function(o){return Nl(o,e,t,r)})):[n.toString()]}function y$(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Mu(t)&&!e_(t))return!1}return!0}var MIe=s$(Eu),CIe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&y$(e),this.componentId=t,this.baseHash=Sd(MIe,t),this.baseStyle=r,xh.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=nu(i,this.staticRulesId);else{var s=gg(Nl(this.rules,e,t,r)),o=RC(Sd(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=nu(i,o),this.staticRulesId=o}else{for(var l=Sd(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var f=this.rules[u];if(typeof f=="string")c+=f;else if(f){var p=gg(Nl(f,e,t,r));l=Sd(l,p+u),c+=p}}if(c){var m=RC(l>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=nu(i,m)}}return i},n}(),ec=D.createContext(void 0),TIe=ec.Consumer;function RIe(){var n=R.useContext(ec);if(!n)throw ps(18);return n}function PIe(n){var e=D.useContext(ec),t=R.useMemo(function(){return function(r,i){if(!r)throw ps(14);if(Mu(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ps(8);return i?Kn(Kn({},i),r):r}(n.theme,e)},[n.theme,e]);return n.children?D.createElement(ec.Provider,{value:t},n.children):null}var bA={};function IIe(n,e,t){var r=e_(n),i=n,s=!xA(n),o=e.attrs,a=o===void 0?Zb:o,l=e.componentId,c=l===void 0?function(S,E){var M=typeof S!="string"?"sc":tU(S);bA[M]=(bA[M]||0)+1;var I="".concat(M,"-").concat(DI(Eu+M+bA[M]));return E?"".concat(E,"-").concat(I):I}(e.displayName,e.parentComponentId):l,u=e.displayName,f=u===void 0?function(S){return xA(S)?"styled.".concat(S):"Styled(".concat(o$(S),")")}(n):u,p=e.displayName&&e.componentId?"".concat(tU(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;v=function(S,E){return y(S,E)&&x(S,E)}}else v=y}var g=new CIe(t,p,r?i.componentStyle:void 0);function _(S,E){return function(M,I,B){var T=M.attrs,P=M.componentStyle,O=M.defaultProps,z=M.foldedComponentIds,H=M.styledComponentId,N=M.target,J=D.useContext(ec),X=M1(),Y=M.shouldForwardProp||X.shouldForwardProp,k=LI(I,J,O)||yh,U=function(de,oe,Q){for(var Ee,ue=Kn(Kn({},oe),{className:void 0,theme:Q}),he=0;he<de.length;he+=1){var we=Mu(Ee=de[he])?Ee(ue):Ee;for(var me in we)ue[me]=me==="className"?nu(ue[me],we[me]):me==="style"?Kn(Kn({},ue[me]),we[me]):we[me]}return oe.className&&(ue.className=nu(ue.className,oe.className)),ue}(T,I,k),V=U.as||N,q={};for(var ee in U)U[ee]===void 0||ee[0]==="$"||ee==="as"||ee==="theme"&&U.theme===k||(ee==="forwardedAs"?q.as=U.forwardedAs:Y&&!Y(ee,V)||(q[ee]=U[ee]));var se=function(de,oe){var Q=M1(),Ee=de.generateAndInjectStyles(oe,Q.styleSheet,Q.stylis);return Ee}(P,U),Z=nu(z,H);return se&&(Z+=" "+se),U.className&&(Z+=" "+U.className),q[xA(V)&&!r$.has(V)?"class":"className"]=Z,q.ref=B,R.createElement(V,q)}(b,S,E)}_.displayName=f;var b=D.forwardRef(_);return b.attrs=m,b.componentStyle=g,b.displayName=f,b.shouldForwardProp=v,b.foldedComponentIds=r?nu(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=p,b.target=r?i.target:n,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(E){for(var M=[],I=1;I<arguments.length;I++)M[I-1]=arguments[I];for(var B=0,T=M;B<T.length;B++)PC(E,T[B],!0);return E}({},i.defaultProps,S):S}}),kI(b,function(){return".".concat(b.styledComponentId)}),s&&OI(b,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function cU(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var uU=function(n){return Object.assign(n,{isCss:!0})};function n_(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Mu(n)||vg(n))return uU(Nl(cU(Zb,mh([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Nl(r):uU(Nl(cU(r,e)))}function LC(n,e,t){if(t===void 0&&(t=yh),!e)throw ps(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,n_.apply(void 0,mh([i],s,!1)))};return r.attrs=function(i){return LC(n,e,Kn(Kn({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return LC(n,e,Kn(Kn({},t),i))},r}var x$=function(n){return LC(IIe,n)},cn=x$;r$.forEach(function(n){cn[n]=x$(n)});var BIe=function(){function n(e,t){this.rules=e,this.componentId=t,this.isStatic=y$(e),xh.registerId(this.componentId+1)}return n.prototype.createStyles=function(e,t,r,i){var s=i(gg(Nl(this.rules,t,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},n.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},n.prototype.renderStyles=function(e,t,r,i){e>2&&xh.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,i)},n}();function LIe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=n_.apply(void 0,mh([n],e,!1)),i="sc-global-".concat(DI(JSON.stringify(r))),s=new BIe(r,i),o=function(l){var c=M1(),u=D.useContext(ec),f=D.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(f,l,c.styleSheet,u,c.stylis),D.useLayoutEffect(function(){if(!c.styleSheet.server)return a(f,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(f,c.styleSheet)}},[f,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,f,p){if(s.isStatic)s.renderStyles(l,ZPe,u,p);else{var m=Kn(Kn({},c),{theme:LI(c,f,o.defaultProps)});s.renderStyles(l,m,u,p)}}return D.memo(o)}function DIe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=gg(n_.apply(void 0,mh([n],e,!1))),i=DI(r);return new m$(i,r)}function OIe(n){var e=D.forwardRef(function(t,r){var i=LI(t,D.useContext(ec),n.defaultProps);return D.createElement(n,Kn({},t,{theme:i,ref:r}))});return e.displayName="WithTheme(".concat(o$(n),")"),OI(e,n)}var kIe=function(){function n(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=IC(),i=gg([r&&'nonce="'.concat(r,'"'),"".concat(Zl,'="true"'),"".concat(S1,'="').concat(Eu,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw ps(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw ps(2);var r=e.instance.toString();if(!r)return[];var i=((t={})[Zl]="",t[S1]=Eu,t.dangerouslySetInnerHTML={__html:r},t),s=IC();return s&&(i.nonce=s),[D.createElement("style",Kn({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new xh({isServer:!0}),this.sealed=!1}return n.prototype.collectStyles=function(e){if(this.sealed)throw ps(2);return D.createElement(p$,{sheet:this.instance},e)},n.prototype.interleaveWithNodeStream=function(e){throw ps(3)},n}(),NIe={StyleSheet:xh,mainSheet:h$};const FIe=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:kIe,StyleSheetConsumer:SIe,StyleSheetContext:t_,StyleSheetManager:p$,ThemeConsumer:TIe,ThemeContext:ec,ThemeProvider:PIe,__PRIVATE__:NIe,createGlobalStyle:LIe,css:n_,default:cn,isStyledComponent:e_,keyframes:DIe,styled:cn,useTheme:RIe,version:Eu,withTheme:OIe},Symbol.toStringTag,{value:"Module"})),UIe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAOCAYAAADT0Rc6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMzgwMTE3NDA3MjA2ODExODA4MzlFRjgwMkJGMENDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NzRFMzQ0QjI3MzgxMUU4QjRFMUVBNEJCODU5RDAzMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NzRFMzQ0QTI3MzgxMUU4QjRFMUVBNEJCODU5RDAzMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUE3RjExNzQwNzIwNjgxMUIxQTQ5QTgyNkJBMzJBOEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDM4MDExNzQwNzIwNjgxMTgwODM5RUY4MDJCRjBDQzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5cNiR0AAAA50lEQVR42qSUaw6EMAiEYY8rB7JcVrYoNaQCNbsk88N2ypc+HICrtq69CyEvNM8mIuCk33sXTuNeaJ5zrRZ1HV361RIw2pyYd4Cp65CrWgJGmxPz6gbvZpKAMfJYw9FMEjBGntGUE3AEVC+6ppyAI6B60e8mAldAWIBD4LjTCvwAqjG5txkcAmdoBWZ/z8UL5RVQ9YF3JfB7lWtXx9v+ON4WHW8E5GTszUPiZOx+SBkQq7kFEKs5yH6LxbFn4cBBOHAUDj4GuYhBdjFIQQxyEYPsYpBGUypyd45DmppSkbtzHJ5rvwIMAKXLCXxfiHXkAAAAAElFTkSuQmCC",HIe=cn.div`
  position: relative;
  box-sizing: border-box;
  padding: 5%;

  transition: background-color 0.2s, opacity 0.2s;

  &::before {
    content: '';
    width: 90%;
    height: 2px;
    background-color: rgba(0, 0, 0, 0.2);
    position: absolute;
    top: 0;
    left: 5%;
  }
`,zIe=cn.div`
  width: 57%;
  display: inline-block;
  vertical-align: middle;
`,GIe=cn.p`
  color: #ececec;
  margin: 0;
`,VIe=cn.p`
  color: #5b5a5e;
  margin: 0;
`,$Ie=cn.div`
  display: inline-block;
  vertical-align: middle;
  color: ${({theme:n})=>n.colors.secondary};
  text-align: right;
  width: 25%;
`,WIe=cn.button`
  width: 16px;
  height: 16px;
  top: 15px;
  right: 5%;
  border-radius: 50%;
  position: absolute;
  background-size: auto 100%;
  background-image: url(${UIe});
  background-repeat: no-repeat;
  z-index: 2;
  cursor: pointer;
  border: 0;
  background-color: transparent;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    background-position-x: -17px;
  }
`,fU=cn.button`
  color: #b7b7b7;
  border: 0;
  background-color: #000;
  width: 25px;
  height: 25px;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:disabled {
    opacity: 0.2;
  }
`;cn.img`
  display: inline-block;
  vertical-align: middle;
  width: 15%;
  height: auto;
  margin-right: 3%;
`;const jIe=({product:n})=>{const{removeProduct:e,increaseProductQuantity:t,decreaseProductQuantity:r}=Kb(),{sku:i,title:s,price:o,style:a,currencyId:l,currencyFormat:c,availableSizes:u,quantity:f}=n,p=()=>e(n),m=()=>t(n),v=()=>r(n);return tt(HIe,{children:[K(WIe,{onClick:p,title:"remove product from cart"}),i(s),tt(zIe,{children:[K(GIe,{children:s}),tt(VIe,{children:[`${u.join(", ")} | ${a}`," ",K("br",{}),"Quantity: ",f]})]}),tt($Ie,{children:[K("p",{children:`${c}  ${EC(o,l)}`}),tt("div",{children:[K(fU,{onClick:v,disabled:f===1,children:"-"}),K(fU,{onClick:m,children:"+"})]})]})]})},JIe=cn.div`
  position: relative;
  min-height: 280px;
  padding-bottom: 200px;
`,KIe=cn.p`
  color: #ececec;
  text-align: center;
  line-height: 40px;
`,XIe=({products:n})=>K(JIe,{children:n!=null&&n.length?n.map(e=>K(jIe,{product:e},e.sku)):tt(KIe,{children:["Add some products in the cart ",K("br",{}),":)"]})}),YIe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCwwQEgYn7+gWAAABQklEQVRIx9WTsUoDQRRF72xMYSFokcRCjBFESGWRwtZe8AtEFFNrI1bB0tLGQuzs/AJB8AO2kZRCxBiRQNKIoIYoyLFwCZuss9nNgpBXzc7be3j3zow09mU48321zVF8gNtbZ5Q1UwmGYQPIxFU5vnVdUuHfARO+OD5oa9GzM6NcbICkem+CLZ0kA1zKHQ2w6tlpqRUN4AwA5knFiTAISGsuHqDfwoOkgp4kUkoP1WI+Azt02ZYk9hle3cAEBh69c7iKEOJ30IJU/71KpqbaKCH6b0LEGgTcaYXpeIj+GJf54pyI70CSTACxq1M5ehmqvDCHfwIkFrQW4S1WzXUCq+E5lNhkMqSfo0ze3t7hlWeqIfJ3GnQo2n644ZhZYMnSL9OQcKnYAHs0ueUeY+nn6eDyRskGcFjngGxIBkUqVvk41g+oBJ136GBf8AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMS0xMlQxNjoxODowNiswMTowMEVm3zEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTEtMTJUMTY6MTg6MDYrMDE6MDA0O2eNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",DC=cn.button`
  border: 0;
  padding: 0;
  width: 50px;
  height: 50px;
  color: #ececec;
  background-color: ${({theme:n})=>n.colors.primary};
  text-align: center;
  line-height: 50px;
  position: absolute;
  top: 0;
  left: 0;
  cursor: pointer;
  z-index: 2;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    filter: brightness(85%);
  }
`,QIe=cn.div`
  position: fixed;
  top: 0;
  right: ${({isOpen:n})=>n?"0":"-100%"};
  width: 100%;
  height: 100%;
  background-color: ${({theme:n})=>n.colors.primary};
  box-sizing: border-box;
  z-index: 99;

  transition: right 0.2s;

  ${DC} {
    left: ${({isOpen:n})=>n?"0":"-50px"};
    background-color: ${({theme:n,isOpen:e})=>e?n.colors.black:n.colors.primary};
  }

  @media only screen and (min-width: ${({theme:{breakpoints:n}})=>n.tablet}) {
    width: 450px;
    right: ${({isOpen:n})=>n?"0":"-450px"};

    ${DC} {
      left: -50px;
    }
  }
`,dU=cn.div`
  width: ${({large:n})=>n?"60px":"50px"};
  height: ${({large:n})=>n?"60px":"50px"};
  position: relative;
  display: inline-block;
  vertical-align: middle;
  margin-right: 15px;
  background-image: url(${YIe});
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;

  background-size: 50%;
`,hU=cn.div`
  display: inline-block;
  width: 18px;
  height: 18px;
  color: #0c0b10;
  font-weight: bold;
  font-size: 0.7em;
  text-align: center;
  line-height: 18px;
  border-radius: 50%;
  background-color: ${({theme:n})=>n.colors.secondary};
  position: absolute;
  bottom: 0;
  right: 5px;
`,qIe=cn.div`
  height: 100%;
  overflow-y: scroll;

  /* MAC scrollbar para desktop*/
  @media screen and (min-width: 640px) {
    &::-webkit-scrollbar {
      -webkit-appearance: none;
      width: 10px;
      background-color: rgba(0, 0, 0, 0.2);
      padding: 10px;
    }
    &::-webkit-scrollbar-thumb {
      border-radius: 4px;
      background-color: #0c0b10;
    }
  }
`,ZIe=cn.div`
  color: #ececec;
  box-sizing: border-box;
  text-align: center;
  padding: 45px 0;
`,e2e=cn.span`
  font-weight: bold;
  font-size: 1.2em;
  vertical-align: middle;
`,t2e=cn.p`
  width: 20%;
  color: #5b5a5e;
  vertical-align: middle;
  display: inline-block;
`,n2e=cn.div`
  width: 80%;
  text-align: right;
  color: #5b5a5e;
  vertical-align: middle;
  display: inline-block;
`,r2e=cn.p`
  color: ${({theme:n})=>n.colors.secondary};
  font-size: 22px;
  margin: 0;
`,i2e=cn.p`
  margin: 0;
`,s2e=cn.button.attrs({type:"button"})`
  width: 100%;
  border: 0;
  color: #ececec;
  text-transform: uppercase;
  background-color: #0c0b10;
  text-align: center;
  padding: 15px 0;
  margin-top: 40px;
  cursor: pointer;
  outline: none;

  transition: background-color 0.2s;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    background-color: #000;
  }
`,o2e=cn.div`
  box-sizing: border-box;
  padding: 5%;
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 200px;
  z-index: 2;
  background-color: ${({theme:n})=>n.colors.primary};

  &::before {
    content: '';
    width: 100%;
    height: 20px;
    display: block;
    position: absolute;
    top: -20px;
    left: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2), transparent);
  }
`,a2e=()=>{const{products:n,total:e,isOpen:t,openCart:r,closeCart:i}=Kb();return tt(QIe,{isOpen:t,children:[K(DC,{onClick:(o=>()=>o?i():r())(t),children:t?K("span",{children:"X"}):K(dU,{children:K(hU,{title:"Products in cart quantity",children:e.productQuantity})})}),t&&tt(qIe,{children:[tt(ZIe,{children:[K(dU,{large:!0,children:K(hU,{children:e.productQuantity})}),K(e2e,{children:"Cart"})]}),K(XIe,{products:n}),tt(o2e,{children:[K(t2e,{children:"SUBTOTAL"}),tt(n2e,{children:[K(r2e,{children:`${e.currencyFormat} ${EC(e.totalPrice,e.currencyId)}`}),K(i2e,{children:e.installments?K("span",{children:`OR UP TO ${e.installments} x ${e.currencyFormat} ${EC(e.totalPrice/e.installments,e.currencyId)}`}):null})]}),K(s2e,{onClick:()=>{mt.buy=!0},children:"Checkout"})]})]})]})},l2e=()=>K(a2e,{}),c2e=({setItems:n,items:e})=>{const t=mi(mt),{addProduct:r}=Kb(),[i,s]=R.useState("M"),o={shirt:{id:"shirt-1",sku:e[0].icon(),title:"Shirt",description:"Elevate your wardrobe with our classic shirt, tailored for a perfect fit and crafted with premium, breathable fabric. Ideal for both formal and casual occasions, this shirt ensures you stay stylish and comfortable all day.",availableSizes:[i],style:"Quality",price:560,color:t.color.shirt,isLogoTexture:t.isLogoTexture,isBaseTexture:t.isBaseTexture,texture:t.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1},hoodie:{id:"hoodie-1",sku:e[1].icon(),title:"Hoodie",description:"Stay warm and cozy in our stylish hoodie, designed to keep you comfortable in all weather conditions. Made with premium fabric, this hoodie is perfect for casual outings and everyday wear.",availableSizes:[i],style:"Quality",price:899,color:t.color.hoodie,isLogoTexture:t.isLogoTexture,isBaseTexture:t.isBaseTexture,texture:t.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1}},[a,l]=R.useState(""),[c,u]=R.useState(""),[f,p]=R.useState(!1),[m,v]=R.useState(""),[y,x]=R.useState({logoShirt:!1,baseShirt:!0}),g=()=>{switch(m){case"colorpicker":return K(mPe,{});case"filepicker":return K(gPe,{file:a,setFile:l,readFile:E});case"aipicker":return K(Mwe,{prompt:c,setPrompt:u,generatingImg:f,handleSubmit:_});default:return null}},_=async M=>{if(!c)return alert("Please enter a prompt");try{p(!0);const B=await(await fetch("http://localhost:8080/api/v1/dalle",{method:"POST",body:JSON.stringify({prompt:c}),headers:{"Content-Type":"application/json"}})).json(),T=await fetch(`http://localhost:8080/api/v1/dalle/fetch-image?imageUrl=${encodeURIComponent(B.photo)}`),P=await tF(await T.blob());b(M,P)}catch(I){alert(I)}finally{p(!1),v("")}},b=(M,I)=>{const B=EPe[M];mt[B.stateProperty]=I,y[B.filterTab]||S(B.filterTab)},S=M=>{switch(M){case"logoShirt":mt.isLogoTexture=!y[M];break;case"stylishShirt":mt.isFullTexture=!y[M];break;case"baseShirt":mt.isBaseTexture=!y[M];break;default:mt.isLogoTexture=!1,mt.isFullTexture=!1,mt.isBaseTexture=!0;break}x(I=>({...I,[M]:!I[M]}))},E=M=>{tF(a).then(I=>{b(M,I),v("")})};return!t.buy&&K(c9,{children:!t.intro&&tt(Hl,{children:[K(zs.div,{className:"absolute top-0 left-0 z-10",...tu("left"),children:K("div",{className:"flex items-center min-h-screen",children:tt("div",{className:"editortabs-container tabs",children:[APe.map(M=>K(AC,{tab:M,handleClick:()=>{m==""?(v(M.name),console.log("moose")):v("")}},M.name)),g()]})})},"custom"),K(zs.div,{className:"absolute top-0 right-0 z-10",...tu("right"),children:K("div",{className:"flex items-center min-h-screen",children:K("div",{className:"editortabs-container tabs",children:$9.map(M=>K(j9,{tab:M,selectedSize:i,handleClick:()=>{s(M.name)}},M.name))})})},"custom"),tt(zs.div,{className:"absolute z-10 top-5 right-5",..._we,children:[K("div",{className:"w-fit px-4 py-2.5 font-bold text-sm",children:K(l2e,{})}),K(Hd,{type:"filled",title:"Go Back",handleClick:()=>mt.intro=!0,customStyles:"w-fit px-4 py-2.5 font-bold text-sm",style:{position:"absolute",right:"88vw",top:"1rem",minWidth:"8rem"}}),K(Hd,{type:"filled",title:"Add",handleClick:()=>r({...o[t.selectedApparel],title:o[t.selectedApparel].title+` ${o[t.selectedApparel].texture.split("/").slice(-1)[0].replace(".png","")}`,id:`PROD-${o[t.selectedApparel].title.toLocaleUpperCase()}-${o[t.selectedApparel].availableSizes[0]}-${o[t.selectedApparel].color.replace("#","")}-${o[t.selectedApparel].texture}`,sku:M=>{if(M.toLocaleUpperCase()==="SHIRT")return K(MPe,{texture:o[t.selectedApparel].texture,color:o[t.selectedApparel].color});o[t.selectedApparel].texture,o[t.selectedApparel].color}}),customStyles:"w-fit px-4 py-2.5 font-bold text-sm mr-20"})]}),K(zs.div,{className:"filtertabs-container",...tu("up"),children:W9.map(M=>K(AC,{tab:M,isFilterTab:!0,isActiveTab:y[M.name],handleClick:()=>S(M.name)},M.name))})]})})};function u2e(n){if(Array.isArray(n))return n}function f2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function OC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function b$(n,e){if(n){if(typeof n=="string")return OC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?OC(n,e):void 0}}function d2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vx(n,e){return u2e(n)||f2e(n,e)||b$(n,e)||d2e()}function fr(n){return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(n)}function Co(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var o=fr(s);if(o==="string"||o==="number")r.push(s);else if(o==="object"){var a=Array.isArray(s)?s:Object.entries(s).map(function(l){var c=vx(l,2),u=c[0],f=c[1];return f?u:null});r=a.length?r.concat(a.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function h2e(n){if(Array.isArray(n))return OC(n)}function p2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function m2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kC(n){return h2e(n)||p2e(n)||b$(n)||m2e()}function NI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function g2e(n,e){if(fr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(fr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _$(n){var e=g2e(n,"string");return fr(e)=="symbol"?e:e+""}function pU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_$(r.key),r)}}function FI(n,e,t){return e&&pU(n.prototype,e),t&&pU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function r_(n,e,t){return(e=_$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _A(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=v2e(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){a=!0,s=c},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function v2e(n,e){if(n){if(typeof n=="string")return mU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mU(n,e):void 0}}function mU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var On=function(){function n(){NI(this,n)}return FI(n,null,[{key:"innerWidth",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},{key:"getOuterWidth",value:function(t,r){if(t){var i=t.getBoundingClientRect().width||t.offsetWidth;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(t,r){if(t){var i=t.getBoundingClientRect().height||t.offsetHeight;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(t,r){if(t){var i=t.clientHeight;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(t,r){if(t){var i=t.clientWidth;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||s.clientWidth,a=t.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:a}}},{key:"getOffset",value:function(t){if(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(t){if(t)for(var r=t.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===t)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(t,r){if(t&&r)if(t.classList)for(var i=r.split(" "),s=0;s<i.length;s++)t.classList.add(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)t.className=t.className+(" "+o[a])}},{key:"removeMultipleClasses",value:function(t,r){if(t&&r)if(t.classList)for(var i=r.split(" "),s=0;s<i.length;s++)t.classList.remove(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)t.className=t.className.replace(new RegExp("(^|\\b)"+o[a].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(t,r){t&&r&&(t.classList?t.classList.add(r):t.className=t.className+(" "+r))}},{key:"removeClass",value:function(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,r){return t?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}},{key:"addStyles",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&Object.entries(r).forEach(function(i){var s=vx(i,2),o=s[0],a=s[1];return t.style[o]=a})}},{key:"find",value:function(t,r){return t?Array.from(t.querySelectorAll(r)):[]}},{key:"findSingle",value:function(t,r){return t?t.querySelector(r):null}},{key:"setAttributes",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var s=function(a,l){var c,u,f=t!=null&&(c=t.$attrs)!==null&&c!==void 0&&c[a]?[t==null||(u=t.$attrs)===null||u===void 0?void 0:u[a]]:[];return[l].flat().reduce(function(p,m){if(m!=null){var v=fr(m);if(v==="string"||v==="number")p.push(m);else if(v==="object"){var y=Array.isArray(m)?s(a,m):Object.entries(m).map(function(x){var g=vx(x,2),_=g[0],b=g[1];return a==="style"&&(b||b===0)?"".concat(_.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(b):b?_:void 0});p=y.length?p.concat(y.filter(function(x){return!!x})):p}}return p},f)};Object.entries(i).forEach(function(o){var a=vx(o,2),l=a[0],c=a[1];if(c!=null){var u=l.match(/^on(.+)/);u?t.addEventListener(u[1].toLowerCase(),c):l==="p-bind"?r.setAttributes(t,c):(c=l==="class"?kC(new Set(s("class",c))).join(" ").trim():l==="style"?s("style",c).join(";").trim():c,(t.$attrs=t.$attrs||{})&&(t.$attrs[l]=c),t.setAttribute(l,c))}})}}},{key:"getAttribute",value:function(t,r){if(t){var i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(t,r,i){return t?this.getAttribute(t,r)===i:!1}},{key:"isAttributeNotEquals",value:function(t,r,i){return!this.isAttributeEquals(t,r,i)}},{key:"getHeight",value:function(t){if(t){var r=t.offsetHeight,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(t,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;t&&r&&(i==="self"?this.relativePosition(t,r):(s&&(t.style.minWidth=n.getOuterWidth(r)+"px"),this.absolutePosition(t,r)))}},{key:"absolutePosition",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(t&&r){var s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight,c=r.offsetWidth,u=r.getBoundingClientRect(),f=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),v,y;u.top+l+o>m.height?(v=u.top+f-o,v<0&&(v=f),t.style.transformOrigin="bottom"):(v=l+u.top+f,t.style.transformOrigin="top");var x=u.left,g=i==="left"?0:a-c;x+c+a>m.width?y=Math.max(0,x+p+c-a):y=x-g+p,t.style.top=v+"px",t.style.left=y+"px"}}},{key:"relativePosition",value:function(t,r){if(t&&r){var i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.offsetHeight,o=r.getBoundingClientRect(),a=this.getViewport(),l,c;o.top+s+i.height>a.height?(l=-1*i.height,o.top+l<0&&(l=-1*o.top),t.style.transformOrigin="bottom"):(l=s,t.style.transformOrigin="top"),i.width>a.width?c=o.left*-1:o.left+i.width>a.width?c=(o.left+i.width-a.width)*-1:c=0,t.style.top=l+"px",t.style.left=c+"px"}}},{key:"flipfitCollision",value:function(t,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",a=arguments.length>4?arguments[4]:void 0;if(t&&r){var l=r.getBoundingClientRect(),c=this.getViewport(),u=s.split(" "),f=o.split(" "),p=function(g,_){return _?+g.substring(g.search(/(\+|-)/g))||0:g.substring(0,g.search(/(\+|-)/g))||g},m={my:{x:p(u[0]),y:p(u[1]||u[0]),offsetX:p(u[0],!0),offsetY:p(u[1]||u[0],!0)},at:{x:p(f[0]),y:p(f[1]||f[0]),offsetX:p(f[0],!0),offsetY:p(f[1]||f[0],!0)}},v={left:function(){var g=m.my.offsetX+m.at.offsetX;return g+l.left+(m.my.x==="left"?0:-1*(m.my.x==="center"?i.getOuterWidth(t)/2:i.getOuterWidth(t)))},top:function(){var g=m.my.offsetY+m.at.offsetY;return g+l.top+(m.my.y==="top"?0:-1*(m.my.y==="center"?i.getOuterHeight(t)/2:i.getOuterHeight(t)))}},y={count:{x:0,y:0},left:function(){var g=v.left(),_=n.getWindowScrollLeft();t.style.left=g+_+"px",this.count.x===2?(t.style.left=_+"px",this.count.x=0):g<0&&(this.count.x++,m.my.x="left",m.at.x="right",m.my.offsetX*=-1,m.at.offsetX*=-1,this.right())},right:function(){var g=v.left()+n.getOuterWidth(r),_=n.getWindowScrollLeft();t.style.left=g+_+"px",this.count.x===2?(t.style.left=c.width-n.getOuterWidth(t)+_+"px",this.count.x=0):g+n.getOuterWidth(t)>c.width&&(this.count.x++,m.my.x="right",m.at.x="left",m.my.offsetX*=-1,m.at.offsetX*=-1,this.left())},top:function(){var g=v.top(),_=n.getWindowScrollTop();t.style.top=g+_+"px",this.count.y===2?(t.style.left=_+"px",this.count.y=0):g<0&&(this.count.y++,m.my.y="top",m.at.y="bottom",m.my.offsetY*=-1,m.at.offsetY*=-1,this.bottom())},bottom:function(){var g=v.top()+n.getOuterHeight(r),_=n.getWindowScrollTop();t.style.top=g+_+"px",this.count.y===2?(t.style.left=c.height-n.getOuterHeight(t)+_+"px",this.count.y=0):g+n.getOuterHeight(r)>c.height&&(this.count.y++,m.my.y="bottom",m.at.y="top",m.my.offsetY*=-1,m.at.offsetY*=-1,this.top())},center:function(g){if(g==="y"){var _=v.top()+n.getOuterHeight(r)/2;t.style.top=_+n.getWindowScrollTop()+"px",_<0?this.bottom():_+n.getOuterHeight(r)>c.height&&this.top()}else{var b=v.left()+n.getOuterWidth(r)/2;t.style.left=b+n.getWindowScrollLeft()+"px",b<0?this.left():b+n.getOuterWidth(t)>c.width&&this.right()}}};y[m.at.x]("x"),y[m.at.y]("y"),this.isFunction(a)&&a(m)}}},{key:"findCollisionPosition",value:function(t){if(t){var r=t==="top"||t==="bottom",i=t==="left"?"right":"left",s=t==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(t)}:{axis:"x",my:"".concat(i," center"),at:"".concat(t," center")}}}},{key:"getParents",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}},{key:"getScrollableParents",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(t){var s=this.getParents(t),o=/(auto|scroll)/,a=function(b){var S=b?getComputedStyle(b):null;return S&&(o.test(S.getPropertyValue("overflow"))||o.test(S.getPropertyValue("overflow-x"))||o.test(S.getPropertyValue("overflow-y")))},l=function(b){r?i.push(b.nodeName==="BODY"||b.nodeName==="HTML"||b.nodeType===9?window:b):i.push(b)},c=_A(s),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,p=f.nodeType===1&&f.dataset.scrollselectors;if(p){var m=p.split(","),v=_A(m),y;try{for(v.s();!(y=v.n()).done;){var x=y.value,g=this.findSingle(f,x);g&&a(g)&&l(g)}}catch(_){v.e(_)}finally{v.f()}}f.nodeType===1&&a(f)&&l(f)}}catch(_){c.e(_)}finally{c.f()}}return i.some(function(_){return _===document.body||_===window})||i.push(window),i}},{key:"getHiddenElementOuterHeight",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(t){var r={};return t&&(t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible"),r}},{key:"fadeIn",value:function(t,r){if(t){t.style.opacity=0;var i=+new Date,s=0,o=function(){s=+t.style.opacity+(new Date().getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}}},{key:"fadeOut",value:function(t,r){if(t)var i=1,s=50,o=s/r,a=setInterval(function(){i=i-o,i<=0&&(i=0,clearInterval(a)),t.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"appendChild",value:function(t,r){if(this.isElement(r))r.appendChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw new Error("Cannot append "+r+" to "+t)}},{key:"removeChild",value:function(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw new Error("Cannot remove "+t+" from "+r)}},{key:"isElement",value:function(t){return(typeof HTMLElement>"u"?"undefined":fr(HTMLElement))==="object"?t instanceof HTMLElement:t&&fr(t)==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}},{key:"scrollInView",value:function(t,r){var i=getComputedStyle(t).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("padding-top"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,f=t.scrollTop,p=t.clientHeight,m=this.getOuterHeight(r);u<0?t.scrollTop=f+u:u+m>p&&(t.scrollTop=f+u-p+m)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(t){if(t){var r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var t=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}},{key:"unblockBodyScroll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}},{key:"isVisible",value:function(t){return t&&(t.clientHeight!==0||t.getClientRects().length!==0||getComputedStyle(t).display!=="none")}},{key:"isExist",value:function(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)}},{key:"getFocusableElements",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],o=_A(i),a;try{for(o.s();!(a=o.n()).done;){var l=a.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(c){o.e(c)}finally{o.f()}return s}},{key:"getFirstFocusableElement",value:function(t,r){var i=n.getFocusableElements(t,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(t,r){var i=n.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(t,r){var i=r===void 0?!0:!r;t&&document.activeElement!==t&&t.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(t,r){if(t){var i=n.getFirstFocusableElement(t);return i&&n.focus(i,r),i}}},{key:"getCursorOffset",value:function(t,r,i,s){if(t){var o=getComputedStyle(t),a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.visibility="hidden",a.style.pointerEvents="none",a.style.overflow=o.overflow,a.style.width=o.width,a.style.height=o.height,a.style.padding=o.padding,a.style.border=o.border,a.style.overflowWrap=o.overflowWrap,a.style.whiteSpace=o.whiteSpace,a.style.lineHeight=o.lineHeight,a.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,a.appendChild(l);var c=document.createTextNode(i);a.appendChild(c),document.body.appendChild(a);var u=l.offsetLeft,f=l.offsetTop,p=l.clientHeight;return document.body.removeChild(a),{left:Math.abs(u-t.scrollLeft),top:Math.abs(f-t.scrollTop)+p}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(t,r,i){t[r].apply(t,i)}},{key:"isClickable",value:function(t){var r=t.nodeName,i=t.parentElement&&t.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(t,"p-button")||this.hasClass(t.parentElement,"p-button")||this.hasClass(t.parentElement,"p-checkbox")||this.hasClass(t.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(t,r){if(typeof r=="string")t.style.cssText=r;else for(var i in r)t.style[i]=r[i]}},{key:"exportCSV",value:function(t,r){var i=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=n.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}}},{key:"saveAs",value:function(t){if(t){var r=document.createElement("a");if(r.download!==void 0){var i=t.name,s=t.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(t,r){var i=document.createElement("style");return n.addNonce(i,t),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(t){if(this.isExist(t)){try{t.parentNode.removeChild(t)}catch{}t=null}return t}},{key:"addNonce",value:function(t,r){try{r||(r={}.REACT_APP_CSS_NONCE)}catch{}r&&t.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(t){if(!t)return null;if(t==="document")return document;if(t==="window")return window;if(fr(t)==="object"&&t.hasOwnProperty("current"))return this.isExist(t.current)?t.current:null;var r=function(o){return!!(o&&o.constructor&&o.call&&o.apply)},i=r(t)?t():t;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(t){var r,i,s;for(i=[],s=t.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(t,r){var i,s,o,a,l;if(i=n.getAttributeNames(t),s=n.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var c=0;c<i.length;++c)if(o=i[c],o==="style")for(var u=t.style,f=r.style,p=/^\d+$/,m=0,v=Object.keys(u);m<v.length;m++){var y=v[m];if(!p.test(y)&&u[y]!==f[y])return!1}else if(t.getAttribute(o)!==r.getAttribute(o))return!1;for(a=t.firstChild,l=r.firstChild;a&&l;a=a.nextSibling,l=l.nextSibling){if(a.nodeType!==l.nodeType)return!1;if(a.nodeType===1){if(!n.isEqualElement(a,l))return!1}else if(a.nodeValue!==l.nodeValue)return!1}return!(a||l)}},{key:"hasCSSAnimation",value:function(t){if(t){var r=getComputedStyle(t),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(t){if(t){var r=getComputedStyle(t),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();r_(On,"DATA_PROPS",["data-"]);r_(On,"ARIA_PROPS",["aria","focus-target"]);function NC(){return NC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},NC.apply(null,arguments)}function y2e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=x2e(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){a=!0,s=c},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function x2e(n,e){if(n){if(typeof n=="string")return gU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gU(n,e):void 0}}function gU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var rn=function(){function n(){NI(this,n)}return FI(n,null,[{key:"equals",value:function(t,r,i){return i&&t&&fr(t)==="object"&&r&&fr(r)==="object"?this.deepEquals(this.resolveFieldData(t,i),this.resolveFieldData(r,i)):this.deepEquals(t,r)}},{key:"deepEquals",value:function(t,r){if(t===r)return!0;if(t&&r&&fr(t)==="object"&&fr(r)==="object"){var i=Array.isArray(t),s=Array.isArray(r),o,a,l;if(i&&s){if(a=t.length,a!==r.length)return!1;for(o=a;o--!==0;)if(!this.deepEquals(t[o],r[o]))return!1;return!0}if(i!==s)return!1;var c=t instanceof Date,u=r instanceof Date;if(c!==u)return!1;if(c&&u)return t.getTime()===r.getTime();var f=t instanceof RegExp,p=r instanceof RegExp;if(f!==p)return!1;if(f&&p)return t.toString()===r.toString();var m=Object.keys(t);if(a=m.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,m[o]))return!1;for(o=a;o--!==0;)if(l=m[o],!this.deepEquals(t[l],r[l]))return!1;return!0}return t!==t&&r!==r}},{key:"resolveFieldData",value:function(t,r){if(!t||!r)return null;try{var i=t[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(t).length){if(this.isFunction(r))return r(t);if(this.isNotEmpty(t[r]))return t[r];if(r.indexOf(".")===-1)return t[r];for(var s=r.split("."),o=t,a=0,l=s.length;a<l;++a){if(o==null)return null;o=o[s[a]]}return o}return null}},{key:"findDiffKeys",value:function(t,r){return!t||!r?{}:Object.keys(t).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=t[s],i},{})}},{key:"reduceKeys",value:function(t,r){var i={};return!t||!r||r.length===0||Object.keys(t).filter(function(s){return r.some(function(o){return s.startsWith(o)})}).forEach(function(s){i[s]=t[s],delete t[s]}),i}},{key:"reorderArray",value:function(t,r,i){t&&r!==i&&(i>=t.length&&(i=i%t.length,r=r%t.length),t.splice(i,0,t.splice(r,1)[0]))}},{key:"findIndexInList",value:function(t,r,i){var s=this;return r?i?r.findIndex(function(o){return s.equals(o,t,i)}):r.findIndex(function(o){return o===t}):-1}},{key:"getJSXElement",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getItemValue",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getProp",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t?t[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var o in t)if(t.hasOwnProperty(o)&&this.toFlatCase(o)===s)return t[o];for(var a in i)if(i.hasOwnProperty(a)&&this.toFlatCase(a)===s)return i[a]}},{key:"getMergedProps",value:function(t,r){return Object.assign({},r,t)}},{key:"getDiffProps",value:function(t,r){return this.findDiffKeys(t,r)}},{key:"getPropValue",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getComponentProp",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(t)?this.getProp(t.props,r,i):void 0}},{key:"getComponentProps",value:function(t,r){return this.isNotEmpty(t)?this.getMergedProps(t.props,r):void 0}},{key:"getComponentDiffProps",value:function(t,r){return this.isNotEmpty(t)?this.getDiffProps(t.props,r):void 0}},{key:"isValidChild",value:function(t,r,i){if(t){var s,o=this.getComponentProp(t,"__TYPE")||(t.type?t.type.displayName:void 0);!o&&t!==null&&t!==void 0&&(s=t.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(o=t.type._payload.value.find(function(c){return c===r}));var a=o===r;try{var l}catch{}return a}return!1}},{key:"getRefElement",value:function(t){return t?fr(t)==="object"&&t.hasOwnProperty("current")?t.current:t:null}},{key:"combinedRefs",value:function(t,r){t&&r&&(typeof r=="function"?r(t.current):r.current=t.current)}},{key:"removeAccents",value:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}},{key:"toFlatCase",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}},{key:"toCapitalCase",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t[0].toUpperCase()+t.slice(1):t}},{key:"trim",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t.trim():t}},{key:"isEmpty",value:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&fr(t)==="object"&&Object.keys(t).length===0}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"isObject",value:function(t){return t!==null&&t instanceof Object&&t.constructor===Object}},{key:"isDate",value:function(t){return t!==null&&t instanceof Date&&t.constructor===Date}},{key:"isArray",value:function(t){return t!==null&&Array.isArray(t)}},{key:"isString",value:function(t){return t!==null&&typeof t=="string"}},{key:"isPrintableCharacter",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}},{key:"isLetter",value:function(t){return/^[a-zA-Z\u00C0-\u017F]$/.test(t)}},{key:"isScalar",value:function(t){return t!=null&&(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="boolean")}},{key:"findLast",value:function(t,r){var i;if(this.isNotEmpty(t))try{i=t.findLast(r)}catch{i=kC(t).reverse().find(r)}return i}},{key:"findLastIndex",value:function(t,r){var i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(r)}catch{i=t.lastIndexOf(kC(t).reverse().find(r))}return i}},{key:"sort",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=this.compare(t,r,s,i),l=i;return(this.isEmpty(t)||this.isEmpty(r))&&(l=o===1?i:o),l*a}},{key:"compare",value:function(t,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=-1,a=this.isEmpty(t),l=this.isEmpty(r);return a&&l?o=0:a?o=s:l?o=-s:typeof t=="string"&&typeof r=="string"?o=i(t,r):o=t<r?-1:t>r?1:0,o}},{key:"localeComparator",value:function(t){return new Intl.Collator(t,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(t,r){var i=y2e(t),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o.key===r)return o.children||[];if(o.children){var a=this.findChildrenByKey(o.children,r);if(a.length>0)return a}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(t,r,i){if(!(fr(t)!=="object"||typeof r!="string"))for(var s=r.split("."),o=t,a=0,l=s.length;a<l;++a){if(a+1-l===0){o[s[a]]=i;break}o[s[a]]||(o[s[a]]={}),o=o[s[a]]}}}])}();function vU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function b2e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(t),!0).forEach(function(r){r_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var _2e=function(){function n(){NI(this,n)}return FI(n,null,[{key:"getJSXIcon",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(t!==null){var o=fr(t),a=Co(r.className,o==="string"&&t);if(s=R.createElement("span",NC({},r,{className:a})),o!=="string"){var l=b2e({iconProps:r,element:s},i);return rn.getJSXElement(t,l)}}return s}}])}();function yU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(t),!0).forEach(function(r){r_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function C1(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var t=function(o){return typeof o=="function"},r=e.classNameMergeFunction,i=t(r);return n.reduce(function(s,o){if(!o)return s;var a=function(){var u=o[l];if(l==="style")s.style=xU(xU({},s.style),o.style);else if(l==="className"){var f="";i?f=r(s.className,o.className):f=[s.className,o.className].join(" ").trim(),s.className=f||void 0}else if(t(u)){var p=s[l];s[l]=p?function(){p.apply(void 0,arguments),u.apply(void 0,arguments)}:u}else s[l]=u};for(var l in o)a();return s},{})}}var bU=0;function w2e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return bU++,"".concat(n).concat(bU)}var $t=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function yg(n){return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(n)}function S2e(n,e){if(yg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function w$(n){var e=S2e(n,"string");return yg(e)=="symbol"?e:e+""}function Ji(n,e,t){return(e=w$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _U(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,w$(r.key),r)}}function A2e(n,e,t){return e&&_U(n.prototype,e),t&&_U(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function E2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _r=A2e(function n(){E2e(this,n)});Ji(_r,"ripple",!1);Ji(_r,"inputStyle","outlined");Ji(_r,"locale","en");Ji(_r,"appendTo",null);Ji(_r,"cssTransition",!0);Ji(_r,"autoZIndex",!0);Ji(_r,"hideOverlaysOnDocumentScrolling",!1);Ji(_r,"nonce",null);Ji(_r,"nullSortOrder",1);Ji(_r,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Ji(_r,"pt",void 0);Ji(_r,"filterMatchModeOptions",{text:[$t.STARTS_WITH,$t.CONTAINS,$t.NOT_CONTAINS,$t.ENDS_WITH,$t.EQUALS,$t.NOT_EQUALS],numeric:[$t.EQUALS,$t.NOT_EQUALS,$t.LESS_THAN,$t.LESS_THAN_OR_EQUAL_TO,$t.GREATER_THAN,$t.GREATER_THAN_OR_EQUAL_TO],date:[$t.DATE_IS,$t.DATE_IS_NOT,$t.DATE_BEFORE,$t.DATE_AFTER]});Ji(_r,"changeTheme",function(n,e,t,r){var i,s=document.getElementById(t);if(!s)throw Error("Element with id ".concat(t," not found."));var o=s.getAttribute("href").replace(n,e),a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("id",t),a.setAttribute("href",o),a.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(a,s)});function M2e(n){if(Array.isArray(n))return n}function C2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function wU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function T2e(n,e){if(n){if(typeof n=="string")return wU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wU(n,e):void 0}}function R2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(n,e){return M2e(n)||C2e(n,e)||T2e(n,e)||R2e()}var u0=D.createContext(),P2e=function(e){var t,r,i,s,o,a,l,c,u,f,p,m,v,y,x,g,_=(t=e.value)!==null&&t!==void 0?t:{},b=R.useState((r=_.ripple)!==null&&r!==void 0?r:!1),S=zr(b,2),E=S[0],M=S[1],I=R.useState((i=_.inputStyle)!==null&&i!==void 0?i:"outlined"),B=zr(I,2),T=B[0],P=B[1],O=R.useState((s=_.locale)!==null&&s!==void 0?s:"en"),z=zr(O,2),H=z[0],N=z[1],J=R.useState((o=_.appendTo)!==null&&o!==void 0?o:null),X=zr(J,2),Y=X[0],k=X[1],U=R.useState((a=_.styleContainer)!==null&&a!==void 0?a:null),V=zr(U,2),q=V[0],ee=V[1],se=R.useState((l=_.cssTransition)!==null&&l!==void 0?l:!0),Z=zr(se,2),de=Z[0],oe=Z[1],Q=R.useState((c=_.autoZIndex)!==null&&c!==void 0?c:!0),Ee=zr(Q,2),ue=Ee[0],he=Ee[1],we=R.useState((u=_.hideOverlaysOnDocumentScrolling)!==null&&u!==void 0?u:!1),me=zr(we,2),fe=me[0],be=me[1],De=R.useState((f=_.nonce)!==null&&f!==void 0?f:null),Pe=zr(De,2),ke=Pe[0],Ae=Pe[1],Be=R.useState((p=_.nullSortOrder)!==null&&p!==void 0?p:1),Ve=zr(Be,2),ft=Ve[0],W=Ve[1],F=R.useState((m=_.zIndex)!==null&&m!==void 0?m:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),pe=zr(F,2),Ce=pe[0],Te=pe[1],Ne=R.useState((v=_.ptOptions)!==null&&v!==void 0?v:{mergeSections:!0,mergeProps:!0}),rt=zr(Ne,2),Ge=rt[0],xe=rt[1],Ke=R.useState((y=_.pt)!==null&&y!==void 0?y:void 0),Ye=zr(Ke,2),it=Ye[0],$e=Ye[1],Qe=R.useState((x=_.unstyled)!==null&&x!==void 0?x:!1),_t=zr(Qe,2),It=_t[0],Wt=_t[1],te=R.useState((g=_.filterMatchModeOptions)!==null&&g!==void 0?g:{text:[$t.STARTS_WITH,$t.CONTAINS,$t.NOT_CONTAINS,$t.ENDS_WITH,$t.EQUALS,$t.NOT_EQUALS],numeric:[$t.EQUALS,$t.NOT_EQUALS,$t.LESS_THAN,$t.LESS_THAN_OR_EQUAL_TO,$t.GREATER_THAN,$t.GREATER_THAN_OR_EQUAL_TO],date:[$t.DATE_IS,$t.DATE_IS_NOT,$t.DATE_BEFORE,$t.DATE_AFTER]}),ye=zr(te,2),Re=ye[0],He=ye[1],Ze=function(Fn,yi,qt,rr){var Sr,Es=document.getElementById(qt);if(!Es)throw Error("Element with id ".concat(qt," not found."));var Ju=Es.getAttribute("href").replace(Fn,yi),oo=document.createElement("link");oo.setAttribute("rel","stylesheet"),oo.setAttribute("id",qt),oo.setAttribute("href",Ju),oo.addEventListener("load",function(){rr&&rr()}),(Sr=Es.parentNode)===null||Sr===void 0||Sr.replaceChild(oo,Es)};D.useEffect(function(){_r.ripple=E},[E]),D.useEffect(function(){_r.inputStyle=T},[T]),D.useEffect(function(){_r.locale=H},[H]);var Jt={changeTheme:Ze,ripple:E,setRipple:M,inputStyle:T,setInputStyle:P,locale:H,setLocale:N,appendTo:Y,setAppendTo:k,styleContainer:q,setStyleContainer:ee,cssTransition:de,setCssTransition:oe,autoZIndex:ue,setAutoZIndex:he,hideOverlaysOnDocumentScrolling:fe,setHideOverlaysOnDocumentScrolling:be,nonce:ke,setNonce:Ae,nullSortOrder:ft,setNullSortOrder:W,zIndex:Ce,setZIndex:Te,ptOptions:Ge,setPtOptions:xe,pt:it,setPt:$e,filterMatchModeOptions:Re,setFilterMatchModeOptions:He,unstyled:It,setUnstyled:Wt};return D.createElement(u0.Provider,{value:Jt},e.children)},f0=_r;function I2e(n){if(Array.isArray(n))return n}function B2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function SU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function L2e(n,e){if(n){if(typeof n=="string")return SU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SU(n,e):void 0}}function D2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(n,e){return I2e(n)||B2e(n,e)||L2e(n,e)||D2e()}var S$=function(e){return R.useEffect(function(){return e},[])},A$=function(){var e=R.useContext(u0);return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return C1(r,e==null?void 0:e.ptOptions)}},UI=function(e){var t=R.useRef(!1);return R.useEffect(function(){if(!t.current)return t.current=!0,e&&e()},[])},k2e=0,om=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=R.useState(!1),i=O2e(r,2),s=i[0],o=i[1],a=R.useRef(null),l=R.useContext(u0),c=On.isClient()?window.document:void 0,u=t.document,f=u===void 0?c:u,p=t.manual,m=p===void 0?!1:p,v=t.name,y=v===void 0?"style_".concat(++k2e):v,x=t.id,g=x===void 0?void 0:x,_=t.media,b=_===void 0?void 0:_,S=function(T){var P=T.querySelector('style[data-primereact-style-id="'.concat(y,'"]'));if(P)return P;if(g!==void 0){var O=f.getElementById(g);if(O)return O}return f.createElement("style")},E=function(T){s&&e!==T&&(a.current.textContent=T)},M=function(){if(!(!f||s)){var T=(l==null?void 0:l.styleContainer)||f.head;a.current=S(T),a.current.isConnected||(a.current.type="text/css",g&&(a.current.id=g),b&&(a.current.media=b),On.addNonce(a.current,l&&l.nonce||f0.nonce),T.appendChild(a.current),y&&a.current.setAttribute("data-primereact-style-id",y)),a.current.textContent=e,o(!0)}},I=function(){!f||!a.current||(On.removeInlineStyle(a.current),o(!1))};return R.useEffect(function(){m||M()},[m]),{id:g,name:y,update:E,unload:I,load:M,isLoaded:s}},FC=function(e,t){var r=R.useRef(!1);return R.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},t)};function UC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function N2e(n){if(Array.isArray(n))return UC(n)}function F2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function U2e(n,e){if(n){if(typeof n=="string")return UC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?UC(n,e):void 0}}function H2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(n){return N2e(n)||F2e(n)||U2e(n)||H2e()}function xg(n){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(n)}function z2e(n,e){if(xg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function G2e(n){var e=z2e(n,"string");return xg(e)=="symbol"?e:e+""}function HC(n,e,t){return(e=G2e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(t),!0).forEach(function(r){HC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var V2e=`
.p-hidden-accessible {
    border: 0;
    padding: 0;
    margin: -1px;
    position: absolute;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
    white-space: nowrap;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,$2e=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}
`,W2e=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,j2e=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,J2e=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-sr-only {
        border: 0;
        clip: rect(1px, 1px, 1px, 1px);
        clip-path: inset(50%);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
        word-wrap: normal;
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat($2e,`
    `).concat(W2e,`
    `).concat(j2e,`
}
`),kn={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.css,r=lr(lr({},e.defaultProps),kn.defaultProps),i={},s=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return kn.context=f,kn.cProps=u,rn.getMergedProps(u,r)},o=function(u){return rn.getDiffProps(u,r)},a=function(){var u,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;f.hasOwnProperty("pt")&&f.pt!==void 0&&(f=f.pt);var y=p,x=/./g.test(y)&&!!m[y.split(".")[0]],g=x?rn.toFlatCase(y.split(".")[1]):rn.toFlatCase(y),_=m.hostName&&rn.toFlatCase(m.hostName),b=_||m.props&&m.props.__TYPE&&rn.toFlatCase(m.props.__TYPE)||"",S=g==="transition",E="data-pc-",M=function(k){return k!=null&&k.props?k.hostName?k.props.__TYPE===k.hostName?k.props:M(k.parent):k.parent:void 0},I=function(k){var U,V;return((U=m.props)===null||U===void 0?void 0:U[k])||((V=M(m))===null||V===void 0?void 0:V[k])};kn.cParams=m,kn.cName=b;var B=I("ptOptions")||kn.context.ptOptions||{},T=B.mergeSections,P=T===void 0?!0:T,O=B.mergeProps,z=O===void 0?!1:O,H=function(){var k=ga.apply(void 0,arguments);return Array.isArray(k)?{className:Co.apply(void 0,AU(k))}:rn.isString(k)?{className:k}:k!=null&&k.hasOwnProperty("className")&&Array.isArray(k.className)?{className:Co.apply(void 0,AU(k.className))}:k},N=v?x?E$(H,y,m):M$(H,y,m):void 0,J=x?void 0:s_(i_(f,b),H,y,m),X=!S&&lr(lr({},g==="root"&&HC({},"".concat(E,"name"),m.props&&m.props.__parentMetadata?rn.toFlatCase(m.props.__TYPE):b)),{},HC({},"".concat(E,"section"),g));return P||!P&&J?z?C1([N,J,Object.keys(X).length?X:{}],{classNameMergeFunction:(u=kn.context.ptOptions)===null||u===void 0?void 0:u.classNameMergeFunction}):lr(lr(lr({},N),J),Object.keys(X).length?X:{}):lr(lr({},J),Object.keys(X).length?X:{})},l=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.props,p=u.state,m=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a((f||{}).pt,b,lr(lr({},u),S))},v=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a(b,S,E,!1)},y=function(){return kn.context.unstyled||f0.unstyled||f.unstyled},x=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y()?void 0:ga(t&&t.classes,b,lr({props:f,state:p},S))},g=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(E){var M,I=ga(t&&t.inlineStyles,b,lr({props:f,state:p},S)),B=ga(i,b,lr({props:f,state:p},S));return C1([B,I],{classNameMergeFunction:(M=kn.context.ptOptions)===null||M===void 0?void 0:M.classNameMergeFunction})}};return{ptm:m,ptmo:v,sx:g,cx:x,isUnstyled:y}};return lr(lr({getProps:s,getOtherProps:o,setMetaData:l},e),{},{defaultProps:r})}},ga=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(rn.toFlatCase(t)).split("."),s=i.shift(),o=rn.isNotEmpty(e)?Object.keys(e).find(function(a){return rn.toFlatCase(a)===s}):"";return s?rn.isObject(e)?ga(rn.getItemValue(e[o],r),i.join("."),r):void 0:rn.getItemValue(e,r)},i_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,s=function(a){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=r?r(a):a,f=rn.toFlatCase(t);return(l=c?f!==kn.cName?u==null?void 0:u[f]:void 0:u==null?void 0:u[f])!==null&&l!==void 0?l:u};return rn.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},s_=function(e,t,r,i){var s=function(y){return t(y,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o=e._usept||kn.context.ptOptions||{},a=o.mergeSections,l=a===void 0?!0:a,c=o.mergeProps,u=c===void 0?!1:c,f=o.classNameMergeFunction,p=s(e.originalValue),m=s(e.value);return p===void 0&&m===void 0?void 0:rn.isString(m)?m:rn.isString(p)?p:l||!l&&m?u?C1([p,m],{classNameMergeFunction:f}):lr(lr({},p),m):m}return s(e)},K2e=function(){return i_(kn.context.pt||f0.pt,void 0,function(e){return rn.getItemValue(e,kn.cParams)})},X2e=function(){return i_(kn.context.pt||f0.pt,void 0,function(e){return ga(e,kn.cName,kn.cParams)||rn.getItemValue(e,kn.cParams)})},E$=function(e,t,r){return s_(K2e(),e,t,r)},M$=function(e,t,r){return s_(X2e(),e,t,r)},Y2e=function(e){var t=arguments.length>2?arguments[2]:void 0,r=t.name,i=t.styled,s=i===void 0?!1:i,o=t.hostName,a=o===void 0?"":o,l=E$(ga,"global.css",kn.cParams),c=rn.toFlatCase(r),u=om(V2e,{name:"base",manual:!0}),f=u.load,p=om(J2e,{name:"common",manual:!0}),m=p.load,v=om(l,{name:"global",manual:!0}),y=v.load,x=om(e,{name:r,manual:!0}),g=x.load,_=function(S){if(!a){var E=s_(i_((kn.cProps||{}).pt,c),ga,"hooks.".concat(S)),M=M$(ga,"hooks.".concat(S));E==null||E(),M==null||M()}};_("useMountEffect"),UI(function(){f(),y(),m(),s||g()}),FC(function(){_("useUpdateEffect")}),S$(function(){_("useUnmountEffect")})};const Q2e=()=>{const n=mi(mt),[e,t]=R.useState("M"),r={shirt:1200,tsports:800,hoodie:1500,jeans:2e3},i={shirt:"Elevate your wardrobe with our classic shirt, tailored for a perfect fit and crafted with premium, breathable fabric. Ideal for both formal and casual occasions, this shirt ensures you stay stylish and comfortable all day.",tsports:"Stay cool and comfortable in our sports tee, designed to keep you dry and fresh during your workout. Made with moisture-wicking fabric, this tee is perfect for all your fitness activities.",hoodie:"Stay warm and cozy in our stylish hoodie, designed to keep you comfortable in all weather conditions. Made with premium fabric, this hoodie is perfect for casual outings and everyday wear.",jeans:"Add a touch of style to your wardrobe with our classic jeans, designed for a perfect fit and crafted with durable denim fabric. Ideal for casual and semi-formal occasions, these jeans are a versatile addition to your collection."},[s,o]=R.useState({logoShirt:!1,baseShirt:!0}),a=l=>{switch(l){case"logoShirt":mt.isLogoTexture=!s[l],mt.isFullTexture=!1,mt.isBaseTexture=!1;break;case"stylishShirt":mt.isFullTexture=!s[l],mt.isLogoTexture=!1,mt.isBaseTexture=!1;break;case"baseShirt":mt.isBaseTexture=!s[l],mt.isLogoTexture=!1,mt.isFullTexture=!1;break;default:mt.isLogoTexture=!1,mt.isFullTexture=!1,mt.isBaseTexture=!0;break}o(c=>({...c,[l]:!c[l]}))};return!n.buy&&tt(c9,{children:[n.intro&&tt(zs.section,{className:"home",...tu("left"),children:[K(zs.header,{...tu("down"),children:K("img",{src:"./kalkinso.png",alt:"logo",className:"w-24 h-24 object-contain"})}),tt(zs.div,{className:"home-content",...Awe,children:[K(zs.div,{...wwe,children:K("h1",{className:"head-text",children:n.selectedApparel.split("-")[0].slice(0,1).toLocaleUpperCase()+n.selectedApparel.split("-")[0].slice(1).toLocaleLowerCase()})}),tt(zs.div,{...Swe,className:"flex flex-col gap-5",children:[tt("ul",{className:"mt-4 text-gray-600 text-sm",children:[tt("li",{children:[K("strong",{children:"Price:"})," Starting at ₹ ",r[n.selectedApparel.split("-")[0]]]}),K("li",{children:K("strong",{children:"Key Features:"})}),K("p",{style:{maxWidth:"40rem"},children:i[n.selectedApparel.split("-")[0]]})]}),K(Hd,{type:"filled",title:"Check",disabled:!e,handleClick:()=>{mt.intro=!1},customStyles:"w-fit px-4 py-2.5 font-bold text-sm"})]})]})]}),K(zs.div,{className:"filtertabs-container",...tu("up"),children:W9.map(l=>K(AC,{tab:l,isFilterTab:!0,isActiveTab:s[l.name],handleClick:()=>a(l.name)},l.name))}),K(zs.div,{className:"absolute top-0 right-0 z-10",...tu("right"),children:K("div",{className:"flex items-center min-h-screen",children:K("div",{className:"editortabs-container tabs",children:$9.map(l=>K(j9,{tab:l,selectedSize:e,handleClick:()=>{t(l.name)}},l.name))})})},"custom")]})};function zC(){return zC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zC.apply(null,arguments)}function bg(n){return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(n)}function q2e(n,e){if(bg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z2e(n){var e=q2e(n,"string");return bg(e)=="symbol"?e:e+""}function eBe(n,e,t){return(e=Z2e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tBe(n){if(Array.isArray(n))return n}function nBe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function MU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function rBe(n,e){if(n){if(typeof n=="string")return MU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MU(n,e):void 0}}function iBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sBe(n,e){return tBe(n)||nBe(n,e)||rBe(n,e)||iBe()}var oBe=`
@layer primereact {
    .p-ripple {
        overflow: hidden;
        position: relative;
    }
    
    .p-ink {
        display: block;
        position: absolute;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 100%;
        transform: scale(0);
    }
    
    .p-ink-active {
        animation: ripple 0.4s linear;
    }
    
    .p-ripple-disabled .p-ink {
        display: none;
    }
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}

`,aBe={root:"p-ink"},Ad=kn.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:oBe,classes:aBe},getProps:function(e){return rn.getMergedProps(e,Ad.defaultProps)},getOtherProps:function(e){return rn.getDiffProps(e,Ad.defaultProps)}});function CU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lBe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(t),!0).forEach(function(r){eBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var C$=R.memo(R.forwardRef(function(n,e){var t=R.useState(!1),r=sBe(t,2),i=r[0],s=r[1],o=R.useRef(null),a=R.useRef(null),l=A$(),c=R.useContext(u0),u=Ad.getProps(n,c),f=c&&c.ripple||f0.ripple,p={props:u};om(Ad.css.styles,{name:"ripple",manual:!f});var m=Ad.setMetaData(lBe({},p)),v=m.ptm,y=m.cx,x=function(){return o.current&&o.current.parentElement},g=function(){a.current&&a.current.addEventListener("pointerdown",b)},_=function(){a.current&&a.current.removeEventListener("pointerdown",b)},b=function(T){var P=On.getOffset(a.current),O=T.pageX-P.left+document.body.scrollTop-On.getWidth(o.current)/2,z=T.pageY-P.top+document.body.scrollLeft-On.getHeight(o.current)/2;S(O,z)},S=function(T,P){!o.current||getComputedStyle(o.current,null).display==="none"||(On.removeClass(o.current,"p-ink-active"),M(),o.current.style.top=P+"px",o.current.style.left=T+"px",On.addClass(o.current,"p-ink-active"))},E=function(T){On.removeClass(T.currentTarget,"p-ink-active")},M=function(){if(o.current&&!On.getHeight(o.current)&&!On.getWidth(o.current)){var T=Math.max(On.getOuterWidth(a.current),On.getOuterHeight(a.current));o.current.style.height=T+"px",o.current.style.width=T+"px"}};if(R.useImperativeHandle(e,function(){return{props:u,getInk:function(){return o.current},getTarget:function(){return a.current}}}),UI(function(){s(!0)}),FC(function(){i&&o.current&&(a.current=x(),M(),g())},[i]),FC(function(){o.current&&!a.current&&(a.current=x(),M(),g())}),S$(function(){o.current&&(a.current=null,_())}),!f)return null;var I=l({"aria-hidden":!0,className:Co(y("root"))},Ad.getOtherProps(u),v("root"));return R.createElement("span",zC({role:"presentation",ref:o},I,{onAnimationEnd:E}))}));C$.displayName="Ripple";function T1(){return T1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T1.apply(null,arguments)}function _g(n){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(n)}function cBe(n,e){if(_g(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uBe(n){var e=cBe(n,"string");return _g(e)=="symbol"?e:e+""}function GC(n,e,t){return(e=uBe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function fBe(n){if(Array.isArray(n))return VC(n)}function dBe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function T$(n,e){if(n){if(typeof n=="string")return VC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?VC(n,e):void 0}}function hBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(n){return fBe(n)||dBe(n)||T$(n)||hBe()}function pBe(n){if(Array.isArray(n))return n}function mBe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function gBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fy(n,e){return pBe(n)||mBe(n,e)||T$(n,e)||gBe()}var vBe={icon:"p-dock-action-icon",action:function(e){var t=e.disabled;return Co("p-dock-action",{"p-disabled":t})},menuitem:function(e){var t=e.currentIndexState,r=e.index,i=e.active;return Co("p-dock-item",{"p-dock-item-second-prev":t-2===r,"p-dock-item-prev":t-1===r,"p-dock-item-current":t===r,"p-dock-item-next":t+1===r,"p-dock-item-second-next":t+2===r,"p-focus":i})},content:"p-menuitem-content",header:"p-dock-header",menu:"p-dock-list",footer:"p-dock-footer",root:function(e){var t=e.props;return Co("p-dock p-component p-dock-".concat(t.position),{"p-dock-magnification":t.magnification})},container:"p-dock-list-container"},yBe=`
@layer primereact {
    .p-dock {
        position: absolute;
        z-index: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        pointer-events: none;
    }

    .p-dock-list-container {
        display: flex;
        pointer-events: auto;
    }

    .p-dock-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: auto;
    }

    .p-dock-magnification .p-dock-item {
        transition: all .2s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform;
    }

    .p-dock-action {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        cursor: default;
    }

    .p-dock-magnification .p-dock-item-second-prev,
    .p-dock-magnification .p-dock-item-second-next {
        transform: scale(1.2);
    }

    .p-dock-magnification .p-dock-item-prev,
    .p-dock-magnification .p-dock-item-next {
        transform: scale(1.4);
    }

    .p-dock-magnification .p-dock-item-current {
        transform: scale(1.6);
        z-index: 1;
    }

    /* Position */
    /* top */
    .p-dock-top {
        left: 0;
        top: 0;
        width: 100%;
    }

    .p-dock-top.p-dock-magnification .p-dock-item {
        transform-origin: center top;
    }

    .p-dock-top .p-dock-list-container {
        flex-direction: column-reverse;
    }

    /* bottom */
    .p-dock-bottom {
        left: 0;
        bottom: 0;
        width: 100%;
    }

    .p-dock-bottom.p-dock-magnification .p-dock-item {
        transform-origin: center bottom;
    }

    .p-dock-bottom .p-dock-list-container {
        flex-direction: column;
    }

    /* right */
    .p-dock-right {
        right: 0;
        top: 0;
        height: 100%;
    }

    .p-dock-right.p-dock-magnification .p-dock-item {
        transform-origin: center right;
    }

    .p-dock-right .p-dock-list {
        flex-direction: column;
    }

    /* left */
    .p-dock-left {
        left: 0;
        top: 0;
        height: 100%;
    }

    .p-dock-left.p-dock-magnification .p-dock-item {
        transform-origin: center left;
    }

    .p-dock-left .p-dock-list {
        flex-direction: column;
    }

    .p-dock-left .p-dock-list-container {
        flex-direction: row-reverse;
    }
}
`,Uy=kn.extend({defaultProps:{__TYPE:"Dock",id:null,style:null,className:null,model:null,tabIndex:0,onFocus:null,onBlur:null,position:"bottom",magnification:!0,header:null,footer:null,children:void 0},css:{classes:vBe,styles:yBe}});function RU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xBe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(t),!0).forEach(function(r){GC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var R$=R.memo(R.forwardRef(function(n,e){var t=R.useState(-3),r=Fy(t,2),i=r[0],s=r[1],o=R.useState(!1),a=Fy(o,2),l=a[0],c=a[1],u=R.useState(-1),f=Fy(u,2),p=f[0],m=f[1],v=A$(),y=R.useContext(u0),x=Uy.getProps(n,y),g=R.useState(x.id),_=Fy(g,2),b=_[0],S=_[1],E=Uy.setMetaData({props:x,state:{id:b,currentIndex:i}}),M=E.ptm,I=E.cx,B=E.isUnstyled,T=R.useRef(null),P=R.useRef(null);Y2e(Uy.css.styles,B,{name:"dock"});var O=function(Ae,Be,Ve){return M(Ae,{context:{index:Ve,item:Be}})},z=function(){s(-3)},H=function(Ae){s(Ae)},N=function(Ae,Be){Be.command&&Be.command({originalEvent:Ae,item:Be}),Ae.preventDefault()},J=function(Ae){c(!0),de(0),x.onFocus&&x.onFocus(Ae)},X=function(Ae){c(!1),m(-1),x.onBlur&&x.onBlur(Ae)},Y=function(Ae){switch(Ae.code){case"ArrowDown":(x.position==="left"||x.position==="right")&&k(),Ae.preventDefault();break;case"ArrowUp":(x.position==="left"||x.position==="right")&&U(),Ae.preventDefault();break;case"ArrowRight":(x.position==="top"||x.position==="bottom")&&k(),Ae.preventDefault();break;case"ArrowLeft":(x.position==="top"||x.position==="bottom")&&U(),Ae.preventDefault();break;case"Home":V(),Ae.preventDefault();break;case"End":q(),Ae.preventDefault();break;case"Enter":case"NumpadEnter":case"Space":ee(),Ae.preventDefault();break}},k=function(){var Ae=se(p);de(Ae)},U=function(){var Ae=Z(p);de(Ae)},V=function(){de(0)},q=function(){de(On.find(P.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1)},ee=function(){var Ae=On.findSingle(P.current,'li[id="'.concat("".concat(p),'"]')),Be=Ae&&On.findSingle(Ae,'[data-pc-section="action"]');Be?Be.click():Ae&&Ae.click()},se=function(Ae){var Be=On.find(P.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),Ve=TU(Be).findIndex(function(ft){return ft.id===Ae});return Ve>-1?Ve+1:0},Z=function(Ae){var Be=On.find(P.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),Ve=TU(Be).findIndex(function(ft){return ft.id===Ae});return Ve>-1?Ve-1:0},de=function(Ae){var Be=On.find(P.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),Ve=Ae>=Be.length?Be.length-1:Ae<0?0:Ae;m(Be[Ve].getAttribute("id"))},oe=function(Ae){return Ae===p},Q=function(Ae,Be){if(Ae.visible===!1)return null;var Ve=Ae.disabled,ft=Ae.icon,W=Ae.label,F=Ae.template,pe=Ae.url,Ce=Ae.target,Te=Ae.id||b+"_"+Be,Ne=Co("p-dock-action",{"p-disabled":Ve}),rt=Co("p-dock-action-icon",ft),Ge=v({className:I("icon")},O("icon",Ae,Be)),xe=_2e.getJSXIcon(ft,xBe({},Ge),{props:x}),Ke=v({href:pe||"#",onFocus:function(Wt){return Wt.stopPropagation()},className:I("action",{disabled:Ve}),"aria-hidden":"true",tabIndex:-1,target:Ce,"data-pr-tooltip":W,onClick:function(Wt){return N(Wt,Ae)}},O("action",Ae,Be)),Ye=R.createElement("a",Ke,xe,R.createElement(C$,null));if(F){var it={onClick:function(Wt){return N(Wt,Ae)},className:Ne,iconClassName:rt,"aria-hidden":"true",tabIndex:-1,element:Ye,props:x,index:Be};Ye=rn.getJSXElement(F,Ae,it)}var $e=v({className:I("content")},O("content",Ae,Be)),Qe=oe(Te),_t=v(GC(GC({id:Te,role:"menuitem","aria-label":W,"aria-disabled":Ve,"data-p-focused":Qe,"data-p-disabled":Ve||!1,className:I("menuitem",{currentIndexState:i,index:Be,active:oe(Te)})},"role","none"),"onMouseEnter",function(){return H(Be)}),O("menuitem",Ae,Be));return R.createElement("li",T1({},_t,{key:Te}),R.createElement("div",$e,Ye))},Ee=function(){return x.model?x.model.map(Q):null},ue=function(){if(x.header){var Ae=rn.getJSXElement(x.header,{props:x}),Be=v({className:I("header")},M("header"));return R.createElement("div",Be,Ae)}return null},he=function(){var Ae=Ee(),Be=v({ref:P,className:I("menu"),role:"menu","aria-orientation":x.position==="bottom"||x.position==="top"?"horizontal":"vertical","aria-activedescendant":l?p!==-1?p:null:void 0,tabIndex:x.tabIndex||0,onFocus:J,onBlur:X,onKeyDown:Y,onMouseLeave:z},M("menu"));return R.createElement("ul",Be,Ae)},we=function(){if(x.footer){var Ae=rn.getJSXElement(x.footer,{props:x}),Be=v({className:I("footer")},M("footer"));return R.createElement("div",Be,Ae)}return null};UI(function(){b||S(w2e())}),R.useImperativeHandle(e,function(){return{props:x,getElement:function(){return T.current}}});var me=ue(),fe=he(),be=we(),De=v({className:Co(x.className,I("root")),style:x.style},Uy.getOtherProps(x),M("root")),Pe=v({className:I("container")},M("container"));return R.createElement("div",T1({id:x.id,ref:T},De),R.createElement("div",Pe,me,fe,be))}));R$.displayName="Dock";const{default:xFe,css:bFe,createGlobalStyle:_Fe,keyframes:wFe,ThemeProvider:bBe}=FIe,_Be={primary:"#1b1a20",secondary:"#eabf00"},wBe={mobile:"480px",tablet:"768px",desktop:"1025px"},SBe={colors:_Be,breakpoints:wBe};function P$(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=P$(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function je(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=P$(e))&&(r&&(r+=" "),r+=t);return r}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ABe=D.forwardRef(({breakpoint:n,fluid:e,children:t,className:r,tag:i="div",...s},o)=>{const a=je(`${e?"container-fluid":`container${n?"-"+n:""}`}`,r);return K(i,{className:a,...s,ref:o,children:t})});ABe.displayName="MDBContainer";const nd=D.forwardRef(({center:n,children:e,className:t,end:r,lg:i,md:s,offsetLg:o,offsetMd:a,offsetSm:l,order:c,size:u,sm:f,start:p,tag:m="div",xl:v,xxl:y,xs:x,...g},_)=>{const b=je(u&&`col-${u}`,x&&`col-xs-${x}`,f&&`col-sm-${f}`,s&&`col-md-${s}`,i&&`col-lg-${i}`,v&&`col-xl-${v}`,y&&`col-xxl-${y}`,!u&&!x&&!f&&!s&&!i&&!v&&!y?"col":"",c&&`order-${c}`,p&&"align-self-start",n&&"align-self-center",r&&"align-self-end",l&&`offset-sm-${l}`,a&&`offset-md-${a}`,o&&`offset-lg-${o}`,t);return K(m,{className:b,ref:_,...g,children:e})});nd.displayName="MDBCol";const EBe=D.forwardRef(({className:n,color:e="primary",pill:t,light:r,dot:i,tag:s="span",children:o,notification:a,...l},c)=>{const u=je("badge",r?e&&`badge-${e}`:e&&`bg-${e}`,i&&"badge-dot",t&&"rounded-pill",a&&"badge-notification",n);return K(s,{className:u,ref:c,...l,children:o})});EBe.displayName="MDBBadge";const MBe=({...n})=>{const[e,t]=R.useState(!1),r=je("ripple-wave",e&&"active");return R.useEffect(()=>{const i=setTimeout(()=>{t(!0)},50);return()=>{clearTimeout(i)}},[]),K("div",{className:r,...n})},CBe=(...n)=>{const e=D.useRef();return D.useEffect(()=>{n.forEach(t=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)})},[n]),e},I$=D.forwardRef(({className:n,rippleTag:e="div",rippleCentered:t,rippleDuration:r=500,rippleUnbound:i,rippleRadius:s=0,rippleColor:o="dark",children:a,onMouseDown:l,...c},u)=>{const f=R.useRef(null),p=CBe(u,f),m="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",v=[0,0,0],y=["primary","secondary","success","danger","warning","info","light","dark"],[x,g]=R.useState([]),[_,b]=R.useState(!1),S=je("ripple","ripple-surface",i&&"ripple-surface-unbound",_&&`ripple-surface-${o}`,n),E=()=>{if(y.find(P=>P===(o==null?void 0:o.toLowerCase())))return b(!0);{const P=M(o).join(",");return`radial-gradient(circle, ${m.split("{{color}}").join(`${P}`)})`}},M=P=>{const O=N=>(N.length<7&&(N=`#${N[1]}${N[1]}${N[2]}${N[2]}${N[3]}${N[3]}`),[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]),z=N=>{const J=document.body.appendChild(document.createElement("fictum")),X="rgb(1, 2, 3)";return J.style.color=X,J.style.color!==X||(J.style.color=N,J.style.color===X||J.style.color==="")?v:(N=getComputedStyle(J).color,document.body.removeChild(J),N)},H=N=>(N=N.match(/[.\d]+/g).map(J=>+Number(J)),N.length=3,N);return P.toLowerCase()==="transparent"?v:P[0]==="#"?O(P):(P.indexOf("rgb")===-1&&(P=z(P)),P.indexOf("rgb")===0?H(P):v)},I=P=>{const{offsetX:O,offsetY:z,height:H,width:N}=P,J=z<=H/2,X=O<=N/2,Y=(ee,se)=>Math.sqrt(ee**2+se**2),k=z===H/2&&O===N/2,U={first:J===!0&&X===!1,second:J===!0&&X===!0,third:J===!1&&X===!0,fourth:J===!1&&X===!1},V={topLeft:Y(O,z),topRight:Y(N-O,z),bottomLeft:Y(O,H-z),bottomRight:Y(N-O,H-z)};let q=0;return k||U.fourth?q=V.topLeft:U.third?q=V.topRight:U.second?q=V.bottomRight:U.first&&(q=V.bottomLeft),q*2},B=P=>{var O;const z=(O=p.current)==null?void 0:O.getBoundingClientRect(),H=P.clientX-z.left,N=P.clientY-z.top,J=z.height,X=z.width,Y={offsetX:t?J/2:H,offsetY:t?X/2:N,height:J,width:X},k={delay:r&&r*.5,duration:r&&r-r*.5},U=I(Y),V=s||U/2,q={left:t?`${X/2-V}px`:`${H-V}px`,top:t?`${J/2-V}px`:`${N-V}px`,height:s?`${s*2}px`:`${U}px`,width:s?`${s*2}px`:`${U}px`,transitionDelay:`0s, ${k.delay}ms`,transitionDuration:`${r}ms, ${k.duration}ms`};return _?q:{...q,backgroundImage:`${E()}`}},T=P=>{const O=B(P),z=x.concat(O);g(z),l&&l(P)};return R.useEffect(()=>{const P=setTimeout(()=>{x.length>0&&g(x.splice(1,x.length-1))},r);return()=>{clearTimeout(P)}},[r,x]),tt(e,{className:S,onMouseDown:P=>T(P),ref:p,...c,children:[a,x.map((P,O)=>K(MBe,{style:P},O))]})});I$.displayName="MDBRipple";const B$=D.forwardRef(({className:n,color:e="primary",outline:t,children:r,rounded:i,disabled:s,floating:o,size:a,href:l,block:c,active:u,toggle:f,noRipple:p,tag:m="button",role:v="button",...y},x)=>{const[g,_]=R.useState(u||!1);let b;const S=e&&["light","link"].includes(e)||t?"dark":"light";e!=="none"?t?e?b=`btn-outline-${e}`:b="btn-outline-primary":e?b=`btn-${e}`:b="btn-primary":b="";const E=je(e!=="none"&&"btn",b,i&&"btn-rounded",o&&"btn-floating",a&&`btn-${a}`,`${(l||m!=="button")&&s?"disabled":""}`,c&&"btn-block",g&&"active",n);return l&&m!=="a"&&(m="a"),["hr","img","input"].includes(m)||p?K(m,{className:E,onClick:f?()=>{_(!g)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:x,role:v,...y,children:r}):K(I$,{rippleTag:m,rippleColor:S,className:E,onClick:f?()=>{_(!g)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:x,role:v,...y,children:r})});B$.displayName="MDBBtn";const TBe=D.forwardRef(({className:n,children:e,shadow:t,toolbar:r,size:i,vertical:s,tag:o="div",role:a="group",...l},c)=>{let u;r?u="btn-toolbar":s?u="btn-group-vertical":u="btn-group";const f=je(u,t&&`shadow-${t}`,i&&`btn-group-${i}`,n);return K(o,{className:f,ref:c,role:a,...l,children:e})});TBe.displayName="MDBBtnGroup";const RBe=D.forwardRef(({className:n,children:e,tag:t="div",color:r,grow:i,size:s,...o},a)=>{const l=je(`${i?"spinner-grow":"spinner-border"}`,r&&`text-${r}`,`${s?i?"spinner-grow-"+s:"spinner-border-"+s:""}`,n);return K(t,{className:l,ref:a,...o,children:e})});RBe.displayName="MDBSpinner";const $C=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",shadow:s,alignment:o,...a},l)=>{const c=je("card",t&&`border border-${t}`,r&&`bg-${r}`,s&&`shadow-${s}`,o&&`text-${o}`,n);return K(i,{className:c,ref:l,...a,children:e})});$C.displayName="MDBCard";const WC=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",...s},o)=>{const a=je("card-header",t&&`border-${t}`,r&&`bg-${r}`,n);return K(i,{className:a,...s,ref:o,children:e})});WC.displayName="MDBCardHeader";const PBe=D.forwardRef(({className:n,children:e,tag:t="p",...r},i)=>{const s=je("card-subtitle",n);return K(t,{className:s,...r,ref:i,children:e})});PBe.displayName="MDBCardSubTitle";const IBe=D.forwardRef(({className:n,children:e,tag:t="h5",...r},i)=>{const s=je("card-title",n);return K(t,{className:s,...r,ref:i,children:e})});IBe.displayName="MDBCardTitle";const BBe=D.forwardRef(({className:n,children:e,tag:t="p",...r},i)=>{const s=je("card-text",n);return K(t,{className:s,...r,ref:i,children:e})});BBe.displayName="MDBCardText";const jC=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("card-body",n);return K(t,{className:s,...r,ref:i,children:e})});jC.displayName="MDBCardBody";const LBe=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",...s},o)=>{const a=je("card-footer",t&&`border-${t}`,r&&`bg-${r}`,n);return K(i,{className:a,...s,ref:o,children:e})});LBe.displayName="MDBCardFooter";const DBe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("card-img-overlay",n);return K(t,{className:s,...r,ref:i,children:e})});DBe.displayName="MDBCardOverlay";const OBe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("card-group",n);return K(t,{className:s,...r,ref:i,children:e})});OBe.displayName="MDBCardGroup";const L$=D.forwardRef(({className:n,tag:e="ul",horizontal:t,horizontalSize:r,light:i,numbered:s,children:o,small:a,...l},c)=>{const u=je("list-group",t&&(r?`list-group-horizontal-${r}`:"list-group-horizontal"),i&&"list-group-light",s&&"list-group-numbered",a&&"list-group-small",n);return K(e,{className:u,ref:c,...l,children:o})});L$.displayName="MDBListGroup";const yx=D.forwardRef(({className:n,tag:e="li",active:t,disabled:r,action:i,color:s,children:o,noBorders:a,...l},c)=>{const u=e==="button",f=je("list-group-item",t&&"active",r&&!u&&"disabled",i&&"list-group-item-action",s&&`list-group-item-${s}`,a&&"border-0",n);return K(e,{className:f,disabled:u&&r,ref:c,...l,children:o})});yx.displayName="MDBListGroupItem";const JC=D.forwardRef(({around:n,between:e,bottom:t,center:r,children:i,className:s,evenly:o,end:a,middle:l,start:c,tag:u="div",top:f,...p},m)=>{const v=je("row",n&&"justify-content-around",e&&"justify-content-between",t&&"align-self-end",r&&"justify-content-center",o&&"justifty-content-evenly",a&&"justify-content-end",l&&"align-self-center",c&&"justify-content-start",f&&"align-self-start",s);return K(u,{className:v,...p,ref:m,children:i})});JC.displayName="MDBRow";const KC=D.forwardRef(({className:n,children:e,tag:t="p",variant:r,color:i,blockquote:s,note:o,noteColor:a,listUnStyled:l,listInLine:c,...u},f)=>{const p=je(r&&r,s&&"blockquote",o&&"note",i&&`text-${i}`,a&&`note-${a}`,l&&"list-unstyled",c&&"list-inline",n);return s&&(t="blockquote"),(l||c)&&(t="ul"),K(t,{className:p,ref:f,...u,children:e})});KC.displayName="MDBTypography";const kBe=D.forwardRef(({className:n,color:e,uppercase:t,bold:r,children:i,...s},o)=>{const a=je("breadcrumb",r&&"font-weight-bold",e&&`text-${e}`,t&&"text-uppercase",n);return K("nav",{"aria-label":"breadcrumb",children:K("ol",{className:a,ref:o,...s,children:i})})});kBe.displayName="MDBBreadcrumb";const NBe=D.forwardRef(({className:n,active:e,current:t="page",children:r,...i},s)=>{const o=je("breadcrumb-item",e&&"active",n);return K("li",{className:o,ref:s,"aria-current":e&&t,...i,children:r})});NBe.displayName="MDBBreadcrumbItem";const FBe=n=>{if(n!==!1)return`navbar-expand-${n}`},UBe=D.forwardRef(({className:n,children:e,light:t,dark:r,scrolling:i,fixed:s,sticky:o,scrollingNavbarOffset:a,color:l,transparent:c,expand:u,tag:f="nav",bgColor:p,...m},v)=>{const[y,x]=R.useState(!1),g=je({"navbar-light":t,"navbar-dark":r,"scrolling-navbar":i||a,"top-nav-collapse":y,[`text-${l}`]:l&&c?y:l},s&&`fixed-${s}`,o&&"sticky-top","navbar",u&&FBe(u),p&&`bg-${p}`,n),_=R.useCallback(()=>{a&&window.pageYOffset>a?x(!0):x(!1)},[a]);return R.useEffect(()=>((i||a)&&window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}),[_,i,a]),K(f,{className:g,role:"navigation",...m,ref:v,children:e})});UBe.displayName="MDBNavbar";const HBe=D.forwardRef(({children:n,className:e="",disabled:t=!1,active:r=!1,tag:i="a",...s},o)=>{const a=je("nav-link",t?"disabled":r?"active":"",e);return K(i,{"data-test":"nav-link",className:a,style:{cursor:"pointer"},ref:o,...s,children:n})});HBe.displayName="MDBNavbarLink";const zBe=D.forwardRef(({className:n,children:e,tag:t="a",...r},i)=>{const s=je("navbar-brand",n);return K(t,{className:s,ref:i,...r,children:e})});zBe.displayName="MDBNavbarBrand";const GBe=D.forwardRef(({children:n,className:e,active:t,text:r,tag:i="li",...s},o)=>{const a=je("nav-item",t&&"active",r&&"navbar-text",e);return K(i,{...s,className:a,ref:o,children:n})});GBe.displayName="MDBNavbarItem";const VBe=D.forwardRef(({children:n,className:e,right:t,fullWidth:r=!0,left:i,tag:s="ul",...o},a)=>{const l=je("navbar-nav",r&&"w-100",t&&"ms-auto",i&&"me-auto",e);return K(s,{className:l,ref:a,...o,children:n})});VBe.displayName="MDBNavbarNav";const $Be=D.forwardRef(({children:n,className:e,tag:t="button",...r},i)=>{const s=je("navbar-toggler",e);return K(t,{...r,className:s,ref:i,children:n})});$Be.displayName="MDBNavbarToggler";const WBe=D.forwardRef(({children:n,bgColor:e,color:t,className:r,...i},s)=>{const o=je(e&&`bg-${e}`,t&&`text-${t}`,r);return K("footer",{className:o,...i,ref:s,children:n})});WBe.displayName="MDBFooter";const jBe=D.forwardRef(({children:n,size:e,circle:t,center:r,end:i,start:s,className:o,...a},l)=>{const c=je("pagination",r&&"justify-content-center",t&&"pagination-circle",i&&"justify-content-end",e&&`pagination-${e}`,s&&"justify-content-start",o);return K("ul",{className:c,...a,ref:l,children:n})});jBe.displayName="MDBPagination";const JBe=D.forwardRef(({children:n,className:e,tag:t="a",...r},i)=>{const s=je("page-link",e);return K(t,{className:s,...r,ref:i,children:n})});JBe.displayName="MDBPaginationLink";const KBe=D.forwardRef(({children:n,className:e,active:t,disabled:r,...i},s)=>{const o=je("page-item",t&&"active",r&&"disabled",e);return K("li",{className:o,...i,ref:s,children:n})});KBe.displayName="MDBPaginationItem";const D$=D.forwardRef(({animated:n,children:e,className:t,style:r,tag:i="div",valuenow:s,valuemax:o,striped:a,bgColor:l,valuemin:c,width:u,...f},p)=>{const m=je("progress-bar",l&&`bg-${l}`,a&&"progress-bar-striped",n&&"progress-bar-animated",t),v={width:`${u}%`,...r};return K(i,{className:m,style:v,ref:p,role:"progressbar",...f,"aria-valuenow":Number(u)??s,"aria-valuemin":Number(c),"aria-valuemax":Number(o),children:e})});D$.displayName="MDBProgressBar";const XBe=D.forwardRef(({className:n,children:e,tag:t="div",height:r,style:i,...s},o)=>{const a=je("progress",n),l={height:`${r}px`,...i};return K(t,{className:a,ref:o,style:l,...s,children:D.Children.map(e,c=>{if(!D.isValidElement(c)||c.type!==D$){console.error("Progress component only allows ProgressBar as child");return}else return c})})});XBe.displayName="MDBProgress";const YBe=n=>{const[e,t]=R.useState(!1),[r,i]=R.useState(null);return R.useEffect(()=>{i(()=>new IntersectionObserver(([s])=>{t(s.isIntersecting)}))},[]),R.useEffect(()=>{if(!(!n.current||!r))return r.observe(n.current),()=>r.disconnect()},[r,n]),e},Gc=D.forwardRef(({className:n,size:e,contrast:t,value:r,defaultValue:i,id:s,labelClass:o,wrapperClass:a,wrapperStyle:l,wrapperTag:c="div",label:u,onChange:f,children:p,labelRef:m,labelStyle:v,type:y,onBlur:x,readonly:g=!1,showCounter:_=!1,...b},S)=>{var E;const[M,I]=R.useState(i),B=R.useMemo(()=>r!==void 0?r:M,[r,M]),[T,P]=R.useState(0),[O,z]=R.useState(!1),[H,N]=R.useState(0),J=R.useRef(null),X=YBe(J),Y=R.useRef(null),k=m||Y;R.useImperativeHandle(S,()=>J.current);const U=je("form-outline",t&&"form-white",a),V=["date","time","datetime-local","month","week"].includes(y),q=je("form-control",O&&"active",V&&"active",e&&`form-control-${e}`,n),ee=je("form-label",o),se=R.useCallback(()=>{var oe;(oe=k.current)!=null&&oe.clientWidth&&P(k.current.clientWidth*.8+8)},[k]),Z=oe=>{I(oe.target.value),_&&N(oe.target.value.length),f==null||f(oe)},de=R.useCallback(oe=>{J.current&&(z(!!B),x&&x(oe))},[B,x]);return R.useEffect(()=>{se()},[(E=k.current)==null?void 0:E.clientWidth,se,X]),R.useEffect(()=>{if(B)return z(!0);z(!1)},[B]),tt(c,{className:U,style:l,children:[K("input",{type:y,readOnly:g,className:q,onBlur:de,onChange:Z,onFocus:se,value:r,defaultValue:i,id:s,ref:J,...b}),u&&K("label",{className:ee,style:v,htmlFor:s,ref:k,children:u}),tt("div",{className:"form-notch",children:[K("div",{className:"form-notch-leading"}),K("div",{className:"form-notch-middle",style:{width:T}}),K("div",{className:"form-notch-trailing"})]}),p,_&&b.maxLength&&K("div",{className:"form-helper",children:K("div",{className:"form-counter",children:`${H}/${b.maxLength}`})})]})});Gc.displayName="MDBInput";const O$=R.forwardRef(({className:n,inputRef:e,labelClass:t,wrapperClass:r,labelStyle:i,wrapperTag:s="div",wrapperStyle:o,label:a,inline:l,btn:c,id:u,btnColor:f,disableWrapper:p,toggleSwitch:m,...v},y)=>{let x="form-check-input",g="form-check-label";c&&(x="btn-check",f?g=`btn btn-${f}`:g="btn btn-primary");const _=je(a&&!c&&"form-check",l&&!c&&"form-check-inline",m&&"form-switch",r),b=je(x,n),S=je(g,t),E=tt(Hl,{children:[K("input",{className:b,id:u,ref:e,...v}),a&&K("label",{className:S,style:i,htmlFor:u,children:a})]});return K(Hl,{children:p?E:K(s,{style:o,className:_,ref:y,children:E})})});O$.displayName="InputTemplate";const QBe=({...n})=>K(O$,{type:"checkbox",...n});function qBe({showCollapse:n,setCollapseHeight:e,refCollapse:t,contentRef:r}){R.useEffect(()=>{n||e("0px")},[n]),R.useEffect(()=>{const i=t.current,s=a=>{if(!i)return;const l=a.contentRect.height,c=window.getComputedStyle(i),u=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.marginBottom)+parseFloat(c.marginTop),f=`${l+u}px`;e(f)},o=new ResizeObserver(([a])=>{s(a)});return o.observe(r.current),()=>{o.disconnect()}},[])}const ZBe=({className:n,children:e,open:t=!1,id:r,navbar:i,tag:s="div",collapseRef:o,style:a,onOpen:l,onClose:c,...u})=>{const[f,p]=R.useState(!1),[m,v]=R.useState(void 0),[y,x]=R.useState(!1),g=je(y?"collapsing":"collapse",!y&&f&&"show",i&&"navbar-collapse",n),_=R.useRef(null),b=o??_,S=R.useRef(null),E=R.useCallback(()=>{f&&v(void 0)},[f]);return R.useEffect(()=>(window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}),[E]),qBe({showCollapse:f,setCollapseHeight:v,refCollapse:b,contentRef:S}),R.useEffect(()=>{f!==t&&(t?l==null||l():c==null||c(),p(t)),f&&x(!0);const M=setTimeout(()=>{x(!1)},350);return()=>{clearTimeout(M)}},[t,f,l,c]),K(s,{style:{height:m,...a},id:r,className:g,...u,ref:b,children:K("div",{ref:S,className:"collapse-content",children:e})})};R.createContext(null);const eLe=D.forwardRef(({className:n,centered:e,children:t,size:r,scrollable:i,tag:s="div",...o},a)=>{const l=je("modal-dialog",i&&"modal-dialog-scrollable",e&&"modal-dialog-centered",r&&`modal-${r}`,n);return K(s,{className:l,...o,ref:a,children:t})});eLe.displayName="MDBModalDialog";const tLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("modal-content",n);return K(t,{className:s,...r,ref:i,children:e})});tLe.displayName="MDBModalContent";const nLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("modal-header",n);return K(t,{className:s,...r,ref:i,children:e})});nLe.displayName="MDBModalHeader";const rLe=D.forwardRef(({className:n,children:e,tag:t="h5",...r},i)=>{const s=je("modal-title",n);return K(t,{className:s,...r,ref:i,children:e})});rLe.displayName="MDBModalTitle";const iLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("modal-body",n);return K(t,{className:s,...r,ref:i,children:e})});iLe.displayName="MDBModalBody";const sLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=je("modal-footer",n);return K(t,{className:s,...r,ref:i,children:e})});sLe.displayName="MDBModalFooter";D.createContext({activeElement:null,setTargets:null});const oLe=R.forwardRef(({className:n,labelClass:e,labelStyle:t,inputRef:r,size:i,label:s,id:o,...a},l)=>{const c=je("form-control",`form-control-${i}`,n),u=je("form-label",e),f=R.useRef(null);return R.useImperativeHandle(l,()=>f.current||(r==null?void 0:r.current)),tt(Hl,{children:[s&&K("label",{className:u,style:t,htmlFor:o,children:s}),K("input",{className:c,type:"file",id:o,ref:f,...a})]})});oLe.displayName="MDBFile";const aLe=D.forwardRef(({className:n,children:e,noBorder:t,textBefore:r,textAfter:i,noWrap:s,tag:o="div",textTag:a="span",textClass:l,size:c,textProps:u,...f},p)=>{const m=je("input-group",s&&"flex-nowrap",c&&`input-group-${c}`,n),v=je("input-group-text",t&&"border-0",l),y=x=>K(Hl,{children:x&&Array.isArray(x)?x.map((g,_)=>K(a,{className:v,...u,children:g},_)):K(a,{className:v,...u,children:x})});return tt(o,{className:m,ref:p,...f,children:[r&&y(r),e,i&&y(i)]})});aLe.displayName="MDBInputGroup";const lLe=D.forwardRef(({className:n,children:e,isValidated:t=!1,onReset:r,onSubmit:i,noValidate:s=!0,...o},a)=>{const[l,c]=R.useState(t),u=je("needs-validation",l&&"was-validated",n),f=m=>{m.preventDefault(),c(!0),i&&i(m)},p=m=>{m.preventDefault(),c(!1),r&&r(m)};return R.useEffect(()=>{c(t)},[t]),K("form",{className:u,onSubmit:f,onReset:p,ref:a,noValidate:s,...o,children:e})});lLe.displayName="MDBValidation";const cLe=D.forwardRef(({className:n,fill:e,pills:t,justify:r,children:i,...s},o)=>{const a=je("nav",t?"nav-pills":"nav-tabs",e&&"nav-fill",r&&"nav-justified",n);return K("ul",{className:a,ref:o,...s,children:i})});cLe.displayName="MDBTabs";const uLe=D.forwardRef(({className:n,children:e,style:t,tag:r="li",...i},s)=>{const o=je("nav-item",n);return K(r,{className:o,style:{cursor:"pointer",...t},role:"presentation",ref:s,...i,children:e})});uLe.displayName="MDBTabsItem";const fLe=D.forwardRef(({className:n,color:e,active:t,onOpen:r,onClose:i,children:s,...o},a)=>{const l=je("nav-link",t&&"active",e&&`bg-${e}`,n);return R.useEffect(()=>{t?r==null||r():i==null||i()},[t]),K("a",{className:l,ref:a,...o,children:s})});fLe.displayName="MDBTabsLink";const dLe=D.forwardRef(({className:n,tag:e="div",children:t,...r},i)=>{const s=je("tab-content",n);return K(e,{className:s,ref:i,...r,children:t})});dLe.displayName="MDBTabsContent";const hLe=D.forwardRef(({className:n,tag:e="div",open:t,children:r,...i},s)=>{const[o,a]=R.useState(!1),l=je("tab-pane","fade",o&&"show",t&&"active",n);return R.useEffect(()=>{let c;return t?c=setTimeout(()=>{a(!0)},100):a(!1),()=>{clearTimeout(c)}},[t]),K(e,{className:l,role:"tabpanel",ref:s,...i,children:r})});hLe.displayName="MDBTabsPane";R.createContext({active:0});const k$=D.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),pLe=D.forwardRef(({alwaysOpen:n,borderless:e,className:t,flush:r,active:i,initialActive:s=0,tag:o="div",children:a,onChange:l,...c},u)=>{const f=R.useMemo(()=>typeof i<"u",[i]),p=je("accordion",r&&"accordion-flush",e&&"accordion-borderless",t),[m,v]=R.useState(s);return K(o,{className:p,ref:u,...c,children:K(k$.Provider,{value:{activeItem:f?i:m,setActiveItem:v,alwaysOpen:n,initialActive:s,onChange:l},children:a})})});pLe.displayName="MDBAccordion";const mLe=D.forwardRef(({className:n,bodyClassName:e,bodyStyle:t,headerClassName:r,collapseId:i,headerTitle:s,headerStyle:o,btnClassName:a,tag:l="div",children:c,...u},f)=>{const{activeItem:p,setActiveItem:m,alwaysOpen:v,onChange:y}=R.useContext(k$),x=R.useMemo(()=>Array.isArray(p)?p.includes(i):p===i,[p,i]),g=je("accordion-item",n),_=je("accordion-header",r),b=je("accordion-body",e),S=je("accordion-button",!x&&"collapsed",a),E=R.useCallback(M=>{let I=M;Array.isArray(p)?p.includes(M)?I=p.filter(B=>B!==M):I=v?[...p,M]:[M]:(I=p===M?0:M,v&&(I=[I])),y==null||y(I),m(I)},[y,p,m,v]);return tt(l,{className:g,ref:f,...u,children:[K("h2",{className:_,style:o,children:K("button",{onClick:()=>E(i),className:S,type:"button",children:s})}),K(ZBe,{id:i.toString(),open:x,children:K("div",{className:b,style:t,children:c})})]})});mLe.displayName="MDBAccordionItem";const gLe=({className:n,size:e,contrast:t,value:r,defaultValue:i,id:s,labelClass:o,wrapperClass:a,wrapperStyle:l,wrapperTag:c="div",label:u,onChange:f,children:p,labelRef:m,labelStyle:v,inputRef:y,onBlur:x,readonly:g=!1,..._})=>{var b;const S=R.useRef(null),E=R.useRef(null),M=m||S,I=y||E,[B,T]=R.useState(r||i),[P,O]=R.useState(0),[z,H]=R.useState(r!==void 0&&r.length>0||i!==void 0&&i.length>0),N=je("form-outline",t&&"form-white",a),J=je("form-control",z&&"active",e&&`form-control-${e}`,n),X=je("form-label",o);R.useEffect(()=>{var V;M.current&&((V=M.current)==null?void 0:V.clientWidth)!==0&&O(M.current.clientWidth*.8+8)},[M,(b=M.current)==null?void 0:b.clientWidth]);const Y=()=>{M.current&&O(M.current.clientWidth*.8+8)};R.useEffect(()=>{r!==void 0&&(r.length>0?H(!0):H(!1))},[r]),R.useEffect(()=>{i!==void 0&&(i.length>0?H(!0):H(!1))},[i]);const k=V=>{T(V.currentTarget.value),f&&f(V)},U=R.useCallback(V=>{B!==void 0&&B.length>0||r!==void 0&&r.length>0?H(!0):H(!1),x&&x(V)},[B,r,x]);return tt(c,{className:N,style:{...l},children:[K("textarea",{readOnly:g,className:J,onBlur:U,onChange:k,onFocus:Y,defaultValue:i,value:r,id:s,ref:I,..._}),u&&K("label",{className:X,style:v,htmlFor:s,ref:M,children:u}),tt("div",{className:"form-notch",children:[K("div",{className:"form-notch-leading"}),K("div",{className:"form-notch-middle",style:{width:P}}),K("div",{className:"form-notch-trailing"})]}),p]})};var N$="https://sdk.cashfree.com/js/v3/cashfree.js",vLe=/^https:\/\/sdk\.cashfree\.com\/js\/v3\/?(\?.*)?$/,PU="load was called but an existing Cashfree.js script already exists in the document; existing script parameters will be used",yLe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(N$,'"]')),t=0;t<e.length;t++){var r=e[t];if(vLe.test(r.src))return r}return null},xLe=function(e){var t="",r=document.createElement("script");r.src="".concat(N$).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Cashfree.js requires a <body> element.");return i.appendChild(r),r},Hy=null,bLe=function(e){return Hy!==null||(Hy=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Cashfree&&e&&console.warn(PU),window.Cashfree){t(window.Cashfree);return}try{var i=yLe();i&&e?console.warn(PU):i||(i=xLe(e)),i.addEventListener("load",function(){window.Cashfree?t(window.Cashfree):r(new Error("Cashfree.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Cashfree.js"))})}catch(s){r(s);return}})),Hy},_Le=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return i},F$=Promise.resolve().then(function(){return bLe(null)}),U$=!1;F$.catch(function(n){U$||console.warn(n)});var wLe=async function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];U$=!0;const i=await F$;return _Le(i,t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},SLe=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},z$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(t[u],t[f],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(H$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SLe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new ALe;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ALe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ELe=function(n){const e=H$(n);return z$.encodeByteArray(e,!0)},G$=function(n){return ELe(n).replace(/\./g,"")},V$=function(n){try{return z$.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MLe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CLe=()=>MLe().__FIREBASE_DEFAULTS__,TLe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RLe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V$(n[1]);return e&&JSON.parse(e)},HI=()=>{try{return CLe()||TLe()||RLe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PLe=n=>{var e,t;return(t=(e=HI())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$$=()=>{var n;return(n=HI())===null||n===void 0?void 0:n.config},W$=n=>{var e;return(e=HI())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ILe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BLe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function LLe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j$(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DLe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OLe(){const n=Kr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function J$(){try{return typeof indexedDB=="object"}catch{return!1}}function K$(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function kLe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NLe="FirebaseError";class Ho extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NLe,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FLe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ho(i,a,r)}}function FLe(n,e){return n.replace(ULe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ULe=/\{\$([^}]+)}/g;function HLe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wg(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(IU(s)&&IU(o)){if(!wg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function IU(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zLe(n,e){const t=new GLe(n,e);return t.subscribe.bind(t)}class GLe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");VLe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=wA),i.error===void 0&&(i.error=wA),i.complete===void 0&&(i.complete=wA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VLe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Le=1e3,WLe=2,jLe=4*60*60*1e3,JLe=.5;function BU(n,e=$Le,t=WLe){const r=e*Math.pow(t,n),i=Math.round(JLe*r*(Math.random()-.5)*2);return Math.min(jLe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n){return n&&n._delegate?n._delegate:n}class Lo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KLe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ILe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YLe(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XLe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XLe(n){return n===Vc?void 0:n}function YLe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QLe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KLe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nn||(nn={}));const qLe={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},ZLe=nn.INFO,e3e={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},t3e=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=e3e[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zI{constructor(e){this.name=e,this._logLevel=ZLe,this._logHandler=t3e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qLe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...e),this._logHandler(this,nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...e),this._logHandler(this,nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...e),this._logHandler(this,nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...e),this._logHandler(this,nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...e),this._logHandler(this,nn.ERROR,...e)}}const n3e=(n,e)=>e.some(t=>n instanceof t);let LU,DU;function r3e(){return LU||(LU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3e(){return DU||(DU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X$=new WeakMap,XC=new WeakMap,Y$=new WeakMap,SA=new WeakMap,GI=new WeakMap;function s3e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Fl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&X$.set(t,n)}).catch(()=>{}),GI.set(e,n),e}function o3e(n){if(XC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});XC.set(n,e)}let YC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return XC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Y$.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function a3e(n){YC=n(YC)}function l3e(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(AA(this),e,...t);return Y$.set(r,e.sort?e.sort():[e]),Fl(r)}:i3e().includes(n)?function(...e){return n.apply(AA(this),e),Fl(X$.get(this))}:function(...e){return Fl(n.apply(AA(this),e))}}function c3e(n){return typeof n=="function"?l3e(n):(n instanceof IDBTransaction&&o3e(n),n3e(n,r3e())?new Proxy(n,YC):n)}function Fl(n){if(n instanceof IDBRequest)return s3e(n);if(SA.has(n))return SA.get(n);const e=c3e(n);return e!==n&&(SA.set(n,e),GI.set(e,n)),e}const AA=n=>GI.get(n);function Q$(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Fl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fl(o.result),l.oldVersion,l.newVersion,Fl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const u3e=["get","getKey","getAll","getAllKeys","count"],f3e=["put","add","delete","clear"],EA=new Map;function OU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(EA.get(e))return EA.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=f3e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u3e.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return EA.set(e,s),s}a3e(n=>({...n,get:(e,t,r)=>OU(e,t)||n.get(e,t,r),has:(e,t)=>!!OU(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(h3e(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function h3e(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const QC="@firebase/app",kU="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new zI("@firebase/app"),p3e="@firebase/app-compat",m3e="@firebase/analytics-compat",g3e="@firebase/analytics",v3e="@firebase/app-check-compat",y3e="@firebase/app-check",x3e="@firebase/auth",b3e="@firebase/auth-compat",_3e="@firebase/database",w3e="@firebase/data-connect",S3e="@firebase/database-compat",A3e="@firebase/functions",E3e="@firebase/functions-compat",M3e="@firebase/installations",C3e="@firebase/installations-compat",T3e="@firebase/messaging",R3e="@firebase/messaging-compat",P3e="@firebase/performance",I3e="@firebase/performance-compat",B3e="@firebase/remote-config",L3e="@firebase/remote-config-compat",D3e="@firebase/storage",O3e="@firebase/storage-compat",k3e="@firebase/firestore",N3e="@firebase/vertexai",F3e="@firebase/firestore-compat",U3e="firebase",H3e="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="[DEFAULT]",z3e={[QC]:"fire-core",[p3e]:"fire-core-compat",[g3e]:"fire-analytics",[m3e]:"fire-analytics-compat",[y3e]:"fire-app-check",[v3e]:"fire-app-check-compat",[x3e]:"fire-auth",[b3e]:"fire-auth-compat",[_3e]:"fire-rtdb",[w3e]:"fire-data-connect",[S3e]:"fire-rtdb-compat",[A3e]:"fire-fn",[E3e]:"fire-fn-compat",[M3e]:"fire-iid",[C3e]:"fire-iid-compat",[T3e]:"fire-fcm",[R3e]:"fire-fcm-compat",[P3e]:"fire-perf",[I3e]:"fire-perf-compat",[B3e]:"fire-rc",[L3e]:"fire-rc-compat",[D3e]:"fire-gcs",[O3e]:"fire-gcs-compat",[k3e]:"fire-fst",[F3e]:"fire-fst-compat",[N3e]:"fire-vertex","fire-js":"fire-js",[U3e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map,G3e=new Map,ZC=new Map;function NU(n,e){try{n.container.addComponent(e)}catch(t){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oa(n){const e=n.name;if(ZC.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;ZC.set(e,n);for(const t of R1.values())NU(t,n);for(const t of G3e.values())NU(t,n);return!0}function Wh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function va(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3e={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},Ul=new ju("app","Firebase",V3e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=H3e;function q$(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ul.create("bad-app-name",{appName:String(i)});if(t||(t=$$()),!t)throw Ul.create("no-options");const s=R1.get(i);if(s){if(wg(t,s.options)&&wg(r,s.config))return s;throw Ul.create("duplicate-app",{appName:i})}const o=new QLe(i);for(const l of ZC.values())o.addComponent(l);const a=new $3e(t,r,o);return R1.set(i,a),a}function Z$(n=qC){const e=R1.get(n);if(!e&&n===qC&&$$())return q$();if(!e)throw Ul.create("no-app",{appName:n});return e}function To(n,e,t){var r;let i=(r=z3e[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Da.warn(a.join(" "));return}Oa(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3e="firebase-heartbeat-database",j3e=1,Sg="firebase-heartbeat-store";let MA=null;function eW(){return MA||(MA=Q$(W3e,j3e,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ul.create("idb-open",{originalErrorMessage:n.message})})),MA}async function J3e(n){try{const t=(await eW()).transaction(Sg),r=await t.objectStore(Sg).get(tW(n));return await t.done,r}catch(e){if(e instanceof Ho)Da.warn(e.message);else{const t=Ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Da.warn(t.message)}}}async function FU(n,e){try{const r=(await eW()).transaction(Sg,"readwrite");await r.objectStore(Sg).put(e,tW(n)),await r.done}catch(t){if(t instanceof Ho)Da.warn(t.message);else{const r=Ul.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Da.warn(r.message)}}}function tW(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3e=1024,X3e=30*24*60*60*1e3;class Y3e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new q3e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UU();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=X3e}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Da.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UU(),{heartbeatsToSend:r,unsentEntries:i}=Q3e(this._heartbeatsCache.heartbeats),s=G$(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Da.warn(t),""}}}function UU(){return new Date().toISOString().substring(0,10)}function Q3e(n,e=K3e){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class q3e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J$()?K$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await J3e(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return FU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return FU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function HU(n){return G$(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3e(n){Oa(new Lo("platform-logger",e=>new d3e(e),"PRIVATE")),Oa(new Lo("heartbeat",e=>new Y3e(e),"PRIVATE")),To(QC,kU,n),To(QC,kU,"esm2017"),To("fire-js","")}Z3e("");var eDe="firebase",tDe="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(eDe,tDe,"app");function nW(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nDe=nW,rW=new ju("auth","Firebase",nW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new zI("@firebase/auth");function rDe(n,...e){P1.logLevel<=nn.WARN&&P1.warn(`Auth (${h0}): ${n}`,...e)}function xx(n,...e){P1.logLevel<=nn.ERROR&&P1.error(`Auth (${h0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(n,...e){throw $I(n,...e)}function Qs(n,...e){return $I(n,...e)}function VI(n,e,t){const r=Object.assign(Object.assign({},nDe()),{[e]:t});return new ju("auth","Firebase",r).create(e,{appName:n.name})}function hu(n){return VI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iDe(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Do(n,"argument-error"),VI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $I(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rW.create(n,...e)}function ht(n,e,...t){if(!n)throw $I(e,...t)}function ya(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xx(e),new Error(e)}function ka(n,e){n||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sDe(){return zU()==="http:"||zU()==="https:"}function zU(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oDe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sDe()||j$()||"connection"in navigator)?navigator.onLine:!0}function aDe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.shortDelay=e,this.longDelay=t,ka(t>e,"Short delay should be less than long delay!"),this.isMobile=BLe()||DLe()}get(){return oDe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e){ka(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lDe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cDe=new p0(3e4,6e4);function jI(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jh(n,e,t,r,i={}){return sW(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=d0(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return LLe()||(c.referrerPolicy="no-referrer"),iW.fetch()(oW(n,n.config.apiHost,t,a),c)})}async function sW(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lDe),e);try{const i=new fDe(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw zy(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw VI(n,u,c);Do(n,u)}}catch(i){if(i instanceof Ho)throw i;Do(n,"network-request-failed",{message:String(i)})}}async function uDe(n,e,t,r,i={}){const s=await jh(n,e,t,r,i);return"mfaPendingCredential"in s&&Do(n,"multi-factor-auth-required",{_serverResponse:s}),s}function oW(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?WI(n.config,i):`${n.config.apiScheme}://${i}`}class fDe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qs(this.auth,"network-request-failed")),cDe.get())})}}function zy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qs(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dDe(n,e){return jh(n,"POST","/v1/accounts:delete",e)}async function aW(n,e){return jh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hDe(n,e=!1){const t=uc(n),r=await t.getIdToken(e),i=JI(r);ht(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tm(CA(i.auth_time)),issuedAtTime:Tm(CA(i.iat)),expirationTime:Tm(CA(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function CA(n){return Number(n)*1e3}function JI(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xx("JWT malformed, contained fewer than 3 sections"),null;try{const i=V$(t);return i?JSON.parse(i):(xx("Failed to decode base64 JWT payload"),null)}catch(i){return xx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GU(n){const e=JI(n);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ho&&pDe(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pDe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mDe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tm(this.lastLoginAt),this.creationTime=Tm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ag(n,aW(t,{idToken:r}));ht(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lW(s.providerUserInfo):[],a=vDe(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function gDe(n){const e=uc(n);await I1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vDe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lW(n){return n.map(e=>{var{providerId:t}=e,r=RP(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yDe(n,e){const t=await sW(n,{},async()=>{const r=d0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=oW(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iW.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xDe(n,e){return jh(n,"POST","/v2/accounts:revokeToken",jI(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const t=GU(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await yDe(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new zd;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zd,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e){ht(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=RP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mDe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ag(this,this.stsTokenManager.getToken(this.auth,e));return ht(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hDe(this,e)}reload(){return gDe(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await I1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(va(this.auth.app))return Promise.reject(hu(this.auth));const e=await this.getIdToken();return await Ag(this,dDe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const f=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=t.createdAt)!==null&&c!==void 0?c:void 0,_=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:S,isAnonymous:E,providerData:M,stsTokenManager:I}=t;ht(b&&I,e,"internal-error");const B=zd.fromJSON(this.name,I);ht(typeof b=="string",e,"internal-error"),ll(f,e.name),ll(p,e.name),ht(typeof S=="boolean",e,"internal-error"),ht(typeof E=="boolean",e,"internal-error"),ll(m,e.name),ll(v,e.name),ll(y,e.name),ll(x,e.name),ll(g,e.name),ll(_,e.name);const T=new xa({uid:b,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:E,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:B,createdAt:g,lastLoginAt:_});return M&&Array.isArray(M)&&(T.providerData=M.map(P=>Object.assign({},P))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,t,r=!1){const i=new zd;i.updateFromServerResponse(t);const s=new xa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await I1(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zd;a.updateFromIdToken(r);const l=new xa({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Map;function ba(n){ka(n instanceof Function,"Expected a class definition");let e=VU.get(n);return e?(ka(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VU.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cW.type="NONE";const $U=cW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n,e,t){return`firebase:${n}:${e}:${t}`}class Gd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bx(this.userKey,i.apiKey,s),this.fullPersistenceKey=bx("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gd(ba($U),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ba($U);const o=bx(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const f=xa._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Gd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Gd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mW(e))return"Blackberry";if(gW(e))return"Webos";if(fW(e))return"Safari";if((e.includes("chrome/")||dW(e))&&!e.includes("edge/"))return"Chrome";if(pW(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uW(n=Kr()){return/firefox\//i.test(n)}function fW(n=Kr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dW(n=Kr()){return/crios\//i.test(n)}function hW(n=Kr()){return/iemobile/i.test(n)}function pW(n=Kr()){return/android/i.test(n)}function mW(n=Kr()){return/blackberry/i.test(n)}function gW(n=Kr()){return/webos/i.test(n)}function KI(n=Kr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bDe(n=Kr()){var e;return KI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _De(){return OLe()&&document.documentMode===10}function vW(n=Kr()){return KI(n)||pW(n)||gW(n)||mW(n)||/windows phone/i.test(n)||hW(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(n,e=[]){let t;switch(n){case"Browser":t=WU(Kr());break;case"Worker":t=`${WU(Kr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${h0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wDe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SDe(n,e={}){return jh(n,"GET","/v2/passwordPolicy",jI(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ADe=6;class EDe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ADe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MDe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jU(this),this.idTokenSubscription=new jU(this),this.beforeStateQueue=new wDe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ba(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await aW(this,{idToken:e}),r=await xa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(va(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await I1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aDe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(va(this.app))return Promise.reject(hu(this));const t=e?uc(e):null;return t&&ht(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return va(this.app)?Promise.reject(hu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return va(this.app)?Promise.reject(hu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ba(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SDe(this),t=new EDe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xDe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ba(e)||this._popupRedirectResolver;ht(t,this,"argument-error"),this.redirectPersistenceManager=await Gd.create(this,[ba(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rDe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function o_(n){return uc(n)}class jU{constructor(e){this.auth=e,this.observer=null,this.addObserver=zLe(t=>this.observer=t)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CDe(n){XI=n}function TDe(n){return XI.loadJS(n)}function RDe(){return XI.gapiScript}function PDe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IDe(n,e){const t=Wh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(wg(s,e??{}))return i;Do(i,"already-initialized")}return t.initialize({options:e})}function BDe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ba);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LDe(n,e,t){const r=o_(n);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=xW(e),{host:o,port:a}=DDe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ODe()}function xW(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DDe(n){const e=xW(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JU(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:JU(o)}}}function JU(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ODe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,t){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(n,e){return uDe(n,"POST","/v1/accounts:signInWithIdp",jI(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kDe="http://localhost";class Cu extends bW{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Do("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=RP(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Cu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Vd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vd(e,t)}buildRequest(){const e={requestUri:kDe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=d0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends YI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends m0{constructor(){super("facebook.com")}static credential(e){return Cu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xl.credential(e.oauthAccessToken)}catch{return null}}}xl.FACEBOOK_SIGN_IN_METHOD="facebook.com";xl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends m0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cu._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ua.credential(t,r)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends m0{constructor(){super("github.com")}static credential(e){return Cu._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bl.credential(e.oauthAccessToken)}catch{return null}}}bl.GITHUB_SIGN_IN_METHOD="github.com";bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends m0{constructor(){super("twitter.com")}static credential(e,t){return Cu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _l.credential(t,r)}catch{return null}}}_l.TWITTER_SIGN_IN_METHOD="twitter.com";_l.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await xa._fromIdTokenResponse(e,r,i),o=KU(r);return new bh({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=KU(r);return new bh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function KU(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends Ho{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,B1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new B1(e,t,r,i)}}function _W(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?B1._fromErrorAndOperation(n,s,e,r):s})}async function NDe(n,e,t=!1){const r=await Ag(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FDe(n,e,t=!1){const{auth:r}=n;if(va(r.app))return Promise.reject(hu(r));const i="reauthenticate";try{const s=await Ag(n,_W(r,i,e,n),t);ht(s.idToken,r,"internal-error");const o=JI(s.idToken);ht(o,r,"internal-error");const{sub:a}=o;return ht(n.uid===a,r,"user-mismatch"),bh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Do(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UDe(n,e,t=!1){if(va(n.app))return Promise.reject(hu(n));const r="signIn",i=await _W(n,r,e),s=await bh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function HDe(n,e,t,r){return uc(n).onIdTokenChanged(e,t,r)}function zDe(n,e,t){return uc(n).beforeAuthStateChanged(e,t)}const L1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(L1,"1"),this.storage.removeItem(L1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GDe=1e3,VDe=10;class SW extends wW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_De()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VDe):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GDe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SW.type="LOCAL";const $De=SW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW extends wW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AW.type="SESSION";const EW=AW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WDe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new a_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await WDe(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}a_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jDe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=QI("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return window}function JDe(n){Ro().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(){return typeof Ro().WorkerGlobalScope<"u"&&typeof Ro().importScripts=="function"}async function KDe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XDe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YDe(){return MW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="firebaseLocalStorageDb",QDe=1,D1="firebaseLocalStorage",TW="fbase_key";class g0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function l_(n,e){return n.transaction([D1],e?"readwrite":"readonly").objectStore(D1)}function qDe(){const n=indexedDB.deleteDatabase(CW);return new g0(n).toPromise()}function nT(){const n=indexedDB.open(CW,QDe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(D1,{keyPath:TW})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(D1)?e(r):(r.close(),await qDe(),e(await nT()))})})}async function XU(n,e,t){const r=l_(n,!0).put({[TW]:e,value:t});return new g0(r).toPromise()}async function ZDe(n,e){const t=l_(n,!1).get(e),r=await new g0(t).toPromise();return r===void 0?null:r.value}function YU(n,e){const t=l_(n,!0).delete(e);return new g0(t).toPromise()}const eOe=800,tOe=3;class RW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tOe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=a_._getInstance(YDe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KDe(),!this.activeServiceWorker)return;this.sender=new jDe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XDe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nT();return await XU(e,L1,"1"),await YU(e,L1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>XU(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ZDe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YU(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=l_(i,!1).getAll();return new g0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eOe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RW.type="LOCAL";const nOe=RW;new p0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(n,e){return e?ba(e):(ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends bW{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rOe(n){return UDe(n.auth,new qI(n),n.bypassAuthState)}function iOe(n){const{auth:e,user:t}=n;return ht(t,e,"internal-error"),FDe(t,new qI(n),n.bypassAuthState)}async function sOe(n){const{auth:e,user:t}=n;return ht(t,e,"internal-error"),NDe(t,new qI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rOe;case"linkViaPopup":case"linkViaRedirect":return sOe;case"reauthViaPopup":case"reauthViaRedirect":return iOe;default:Do(this.auth,"internal-error")}}resolve(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oOe=new p0(2e3,1e4);async function aOe(n,e,t){if(va(n.app))return Promise.reject(Qs(n,"operation-not-supported-in-this-environment"));const r=o_(n);iDe(n,e,YI);const i=PW(r,t);return new ru(r,"signInViaPopup",e,i).executeNotNull()}class ru extends IW{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){ka(this.filter.length===1,"Popup operations only handle one event");const e=QI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oOe.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lOe="pendingRedirect",_x=new Map;class cOe extends IW{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_x.get(this.auth._key());if(!e){try{const r=await uOe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_x.set(this.auth._key(),e)}return this.bypassAuthState||_x.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uOe(n,e){const t=hOe(e),r=dOe(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function fOe(n,e){_x.set(n._key(),e)}function dOe(n){return ba(n._redirectPersistence)}function hOe(n){return bx(lOe,n.config.apiKey,n.name)}async function pOe(n,e,t=!1){if(va(n.app))return Promise.reject(hu(n));const r=o_(n),i=PW(r,e),o=await new cOe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mOe=10*60*1e3;class gOe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vOe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BW(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mOe&&this.cachedEventUids.clear(),this.cachedEventUids.has(QU(e))}saveEventToCache(e){this.cachedEventUids.add(QU(e)),this.lastProcessedEventTime=Date.now()}}function QU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BW({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vOe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BW(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yOe(n,e={}){return jh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xOe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bOe=/^https?/;async function _Oe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yOe(n);for(const t of e)try{if(wOe(t))return}catch{}Do(n,"unauthorized-domain")}function wOe(n){const e=eT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!bOe.test(t))return!1;if(xOe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SOe=new p0(3e4,6e4);function qU(){const n=Ro().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AOe(n){return new Promise((e,t)=>{var r,i,s;function o(){qU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qU(),t(Qs(n,"network-request-failed"))},timeout:SOe.get()})}if(!((i=(r=Ro().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ro().gapi)===null||s===void 0)&&s.load)o();else{const a=PDe("iframefcb");return Ro()[a]=()=>{gapi.load?o():t(Qs(n,"network-request-failed"))},TDe(`${RDe()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wx=null,e})}let wx=null;function EOe(n){return wx=wx||AOe(n),wx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MOe=new p0(5e3,15e3),COe="__/auth/iframe",TOe="emulator/auth/iframe",ROe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},POe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IOe(n){const e=n.config;ht(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?WI(e,TOe):`https://${n.config.authDomain}/${COe}`,r={apiKey:e.apiKey,appName:n.name,v:h0},i=POe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${d0(r).slice(1)}`}async function BOe(n){const e=await EOe(n),t=Ro().gapi;return ht(t,n,"internal-error"),e.open({where:document.body,url:IOe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ROe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qs(n,"network-request-failed"),a=Ro().setTimeout(()=>{s(o)},MOe.get());function l(){Ro().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DOe=500,OOe=600,kOe="_blank",NOe="http://localhost";class ZU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FOe(n,e,t,r=DOe,i=OOe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LOe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Kr().toLowerCase();t&&(a=dW(c)?kOe:t),uW(c)&&(e=e||NOe,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(bDe(c)&&a!=="_self")return UOe(e||"",a),new ZU(null);const f=window.open(e||"",a,u);ht(f,n,"popup-blocked");try{f.focus()}catch{}return new ZU(f)}function UOe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HOe="__/auth/handler",zOe="emulator/auth/handler",GOe=encodeURIComponent("fac");async function e4(n,e,t,r,i,s){ht(n.config.authDomain,n,"auth-domain-config-required"),ht(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:h0,eventId:i};if(e instanceof YI){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",HLe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof m0){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${GOe}=${encodeURIComponent(l)}`:"";return`${VOe(n)}?${d0(a).slice(1)}${c}`}function VOe({config:n}){return n.emulator?WI(n,zOe):`https://${n.authDomain}/${HOe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="webStorageSupport";class $Oe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EW,this._completeRedirectFn=pOe,this._overrideRedirectResult=fOe}async _openPopup(e,t,r,i){var s;ka((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await e4(e,t,r,eT(),i);return FOe(e,o,QI())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await e4(e,t,r,eT(),i);return JDe(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ka(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await BOe(e),r=new gOe(e);return t.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(TA,{type:TA},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[TA];o!==void 0&&t(!!o),Do(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_Oe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vW()||fW()||KI()}}const WOe=$Oe;var t4="@firebase/auth",n4="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jOe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JOe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KOe(n){Oa(new Lo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yW(n)},c=new MDe(r,i,s,l);return BDe(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new Lo("auth-internal",e=>{const t=o_(e.getProvider("auth").getImmediate());return(r=>new jOe(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(t4,n4,JOe(n)),To(t4,n4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XOe=5*60,YOe=W$("authIdTokenMaxAge")||XOe;let r4=null;const QOe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YOe)return;const i=t==null?void 0:t.token;r4!==i&&(r4=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qOe(n=Z$()){const e=Wh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IDe(n,{popupRedirectResolver:WOe,persistence:[nOe,$De,EW]}),r=W$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QOe(s.toString());zDe(t,o,()=>o(t.currentUser)),HDe(t,a=>o(a))}}const i=PLe("auth");return i&&LDe(t,`http://${i}`),t}function ZOe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}CDe({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Qs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",ZOe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KOe("Browser");const LW="@firebase/installations",ZI="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=1e4,OW=`w:${ZI}`,kW="FIS_v2",eke="https://firebaseinstallations.googleapis.com/v1",tke=60*60*1e3,nke="installations",rke="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ike={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Tu=new ju(nke,rke,ike);function NW(n){return n instanceof Ho&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW({projectId:n}){return`${eke}/projects/${n}/installations`}function UW(n){return{token:n.token,requestStatus:2,expiresIn:oke(n.expiresIn),creationTime:Date.now()}}async function HW(n,e){const r=(await e.json()).error;return Tu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zW({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ske(n,{refreshToken:e}){const t=zW(n);return t.append("Authorization",ake(e)),t}async function GW(n){const e=await n();return e.status>=500&&e.status<600?n():e}function oke(n){return Number(n.replace("s","000"))}function ake(n){return`${kW} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lke({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=FW(n),i=zW(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:kW,appId:n.appId,sdkVersion:OW},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await GW(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:UW(c.authToken)}}else throw await HW("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cke(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uke=/^[cdef][\w-]{21}$/,rT="";function fke(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=dke(n);return uke.test(t)?t:rT}catch{return rT}}function dke(n){return cke(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=new Map;function WW(n,e){const t=c_(n);jW(t,e),hke(t,e)}function jW(n,e){const t=$W.get(n);if(t)for(const r of t)r(e)}function hke(n,e){const t=pke();t&&t.postMessage({key:n,fid:e}),mke()}let iu=null;function pke(){return!iu&&"BroadcastChannel"in self&&(iu=new BroadcastChannel("[Firebase] FID Change"),iu.onmessage=n=>{jW(n.data.key,n.data.fid)}),iu}function mke(){$W.size===0&&iu&&(iu.close(),iu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gke="firebase-installations-database",vke=1,Ru="firebase-installations-store";let RA=null;function e2(){return RA||(RA=Q$(gke,vke,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ru)}}})),RA}async function O1(n,e){const t=c_(n),i=(await e2()).transaction(Ru,"readwrite"),s=i.objectStore(Ru),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&WW(n,e.fid),e}async function JW(n){const e=c_(n),r=(await e2()).transaction(Ru,"readwrite");await r.objectStore(Ru).delete(e),await r.done}async function u_(n,e){const t=c_(n),i=(await e2()).transaction(Ru,"readwrite"),s=i.objectStore(Ru),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&WW(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(n){let e;const t=await u_(n.appConfig,r=>{const i=yke(r),s=xke(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===rT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function yke(n){const e=n||{fid:fke(),registrationStatus:0};return KW(e)}function xke(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Tu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bke(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_ke(n)}:{installationEntry:e}}async function bke(n,e){try{const t=await lke(n,e);return O1(n.appConfig,t)}catch(t){throw NW(t)&&t.customData.serverCode===409?await JW(n.appConfig):await O1(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function _ke(n){let e=await i4(n.appConfig);for(;e.registrationStatus===1;)await VW(100),e=await i4(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await t2(n);return r||t}return e}function i4(n){return u_(n,e=>{if(!e)throw Tu.create("installation-not-found");return KW(e)})}function KW(n){return wke(n)?{fid:n.fid,registrationStatus:0}:n}function wke(n){return n.registrationStatus===1&&n.registrationTime+DW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ske({appConfig:n,heartbeatServiceProvider:e},t){const r=Ake(n,t),i=ske(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:OW,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await GW(()=>fetch(r,a));if(l.ok){const c=await l.json();return UW(c)}else throw await HW("Generate Auth Token",l)}function Ake(n,{fid:e}){return`${FW(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e=!1){let t;const r=await u_(n.appConfig,s=>{if(!XW(s))throw Tu.create("not-registered");const o=s.authToken;if(!e&&Cke(o))return s;if(o.requestStatus===1)return t=Eke(n,e),s;{if(!navigator.onLine)throw Tu.create("app-offline");const a=Rke(s);return t=Mke(n,a),a}});return t?await t:r.authToken}async function Eke(n,e){let t=await s4(n.appConfig);for(;t.authToken.requestStatus===1;)await VW(100),t=await s4(n.appConfig);const r=t.authToken;return r.requestStatus===0?n2(n,e):r}function s4(n){return u_(n,e=>{if(!XW(e))throw Tu.create("not-registered");const t=e.authToken;return Pke(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mke(n,e){try{const t=await Ske(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await O1(n.appConfig,r),t}catch(t){if(NW(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await JW(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await O1(n.appConfig,r)}throw t}}function XW(n){return n!==void 0&&n.registrationStatus===2}function Cke(n){return n.requestStatus===2&&!Tke(n)}function Tke(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+tke}function Rke(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Pke(n){return n.requestStatus===1&&n.requestTime+DW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ike(n){const e=n,{installationEntry:t,registrationPromise:r}=await t2(e);return r?r.catch(console.error):n2(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bke(n,e=!1){const t=n;return await Lke(t),(await n2(t,e)).token}async function Lke(n){const{registrationPromise:e}=await t2(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dke(n){if(!n||!n.options)throw PA("App Configuration");if(!n.name)throw PA("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw PA(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function PA(n){return Tu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="installations",Oke="installations-internal",kke=n=>{const e=n.getProvider("app").getImmediate(),t=Dke(e),r=Wh(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nke=n=>{const e=n.getProvider("app").getImmediate(),t=Wh(e,YW).getImmediate();return{getId:()=>Ike(t),getToken:i=>Bke(t,i)}};function Fke(){Oa(new Lo(YW,kke,"PUBLIC")),Oa(new Lo(Oke,Nke,"PRIVATE"))}Fke();To(LW,ZI);To(LW,ZI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="analytics",Uke="firebase_id",Hke="origin",zke=60*1e3,Gke="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new zI("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vke={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fi=new ju("analytics","Analytics",Vke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ke(n){if(!n.startsWith(r2)){const e=Fi.create("invalid-gtag-resource",{gtagURL:n});return hi.warn(e.message),""}return n}function QW(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wke(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function jke(n,e){const t=Wke("firebase-js-sdk-policy",{createScriptURL:$ke}),r=document.createElement("script"),i=`${r2}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Jke(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Kke(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await QW(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){hi.error(a)}n("config",i,s)}async function Xke(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await QW(t);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){hi.error(s)}}function Yke(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Xke(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await Kke(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){hi.error(a)}}return i}function Qke(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Yke(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function qke(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(r2)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zke=30,eNe=1e3;class tNe{constructor(e={},t=eNe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qW=new tNe;function nNe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function rNe(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:nNe(r)},s=Gke.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Fi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function iNe(n,e=qW,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Fi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new aNe;return setTimeout(async()=>{a.abort()},t!==void 0?t:zke),ZW({appId:r,apiKey:i,measurementId:s},o,a,e)}async function ZW(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=qW){var s;const{appId:o,measurementId:a}=n;try{await sNe(r,e)}catch(l){if(a)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await rNe(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!oNe(c)){if(i.deleteThrottleMetadata(o),a)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?BU(t,i.intervalMillis,Zke):BU(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,f),hi.debug(`Calling attemptFetch again in ${u} millis`),ZW(n,f,r,i)}}function sNe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Fi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oNe(n){if(!(n instanceof Ho)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class aNe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lNe(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cNe(){if(J$())try{await K$()}catch(n){return hi.warn(Fi.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return hi.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uNe(n,e,t,r,i,s,o){var a;const l=iNe(n);l.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>hi.error(m)),e.push(l);const c=cNe().then(m=>{if(m)return r.getId()}),[u,f]=await Promise.all([l,c]);qke(s)||jke(s,u.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[Hke]="firebase",p.update=!0,f!=null&&(p[Uke]=f),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fNe{constructor(e){this.app=e}_delete(){return delete Rm[this.app.options.appId],Promise.resolve()}}let Rm={},o4=[];const a4={};let IA="dataLayer",dNe="gtag",l4,ej,c4=!1;function hNe(){const n=[];if(j$()&&n.push("This is a browser extension environment."),kLe()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Fi.create("invalid-analytics-context",{errorInfo:e});hi.warn(t.message)}}function pNe(n,e,t){hNe();const r=n.options.appId;if(!r)throw Fi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fi.create("no-api-key");if(Rm[r]!=null)throw Fi.create("already-exists",{id:r});if(!c4){Jke(IA);const{wrappedGtag:s,gtagCore:o}=Qke(Rm,o4,a4,IA,dNe);ej=s,l4=o,c4=!0}return Rm[r]=uNe(n,o4,a4,e,l4,IA,t),new fNe(n)}function mNe(n=Z$()){n=uc(n);const e=Wh(n,k1);return e.isInitialized()?e.getImmediate():gNe(n)}function gNe(n,e={}){const t=Wh(n,k1);if(t.isInitialized()){const i=t.getImmediate();if(wg(e,t.getOptions()))return i;throw Fi.create("already-initialized")}return t.initialize({options:e})}function vNe(n,e,t,r){n=uc(n),lNe(ej,Rm[n.app.options.appId],e,t,r).catch(i=>hi.error(i))}const u4="@firebase/analytics",f4="0.10.10";function yNe(){Oa(new Lo(k1,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return pNe(r,i,t)},"PUBLIC")),Oa(new Lo("analytics-internal",n,"PRIVATE")),To(u4,f4),To(u4,f4,"esm2017");function n(e){try{const t=e.getProvider(k1).getImmediate();return{logEvent:(r,i,s)=>vNe(t,r,i,s)}}catch(t){throw Fi.create("interop-component-reg-failed",{reason:t})}}}yNe();const xNe={apiKey:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",authDomain:"kalkino-org.firebaseapp.com",projectId:"kalkino-org",storageBucket:"kalkino-org.firebasestorage.app",messagingSenderId:"919289249233",appId:"1:919289249233:web:9d7356a63529e0d39eb4f0",measurementId:"G-2XDHBTQ8LE"},tj=q$(xNe),bNe=qOe(tj);mNe(tj);var iT={},_Ne={get exports(){return iT},set exports(n){iT=n}},N1={},wNe={get exports(){return N1},set exports(n){N1=n}},nj=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},SNe=nj,Jh=Object.prototype.toString;function rj(n){return Jh.call(n)==="[object Array]"}function sT(n){return typeof n>"u"}function ANe(n){return n!==null&&!sT(n)&&n.constructor!==null&&!sT(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function ENe(n){return Jh.call(n)==="[object ArrayBuffer]"}function MNe(n){return typeof FormData<"u"&&n instanceof FormData}function CNe(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&n.buffer instanceof ArrayBuffer,e}function TNe(n){return typeof n=="string"}function RNe(n){return typeof n=="number"}function ij(n){return n!==null&&typeof n=="object"}function PNe(n){return Jh.call(n)==="[object Date]"}function INe(n){return Jh.call(n)==="[object File]"}function BNe(n){return Jh.call(n)==="[object Blob]"}function sj(n){return Jh.call(n)==="[object Function]"}function LNe(n){return ij(n)&&sj(n.pipe)}function DNe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function ONe(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")}function kNe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function f_(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),rj(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function oj(){var n={};function e(i,s){typeof n[s]=="object"&&typeof i=="object"?n[s]=oj(n[s],i):n[s]=i}for(var t=0,r=arguments.length;t<r;t++)f_(arguments[t],e);return n}function oT(){var n={};function e(i,s){typeof n[s]=="object"&&typeof i=="object"?n[s]=oT(n[s],i):typeof i=="object"?n[s]=oT({},i):n[s]=i}for(var t=0,r=arguments.length;t<r;t++)f_(arguments[t],e);return n}function NNe(n,e,t){return f_(e,function(i,s){t&&typeof i=="function"?n[s]=SNe(i,t):n[s]=i}),n}var Ki={isArray:rj,isArrayBuffer:ENe,isBuffer:ANe,isFormData:MNe,isArrayBufferView:CNe,isString:TNe,isNumber:RNe,isObject:ij,isUndefined:sT,isDate:PNe,isFile:INe,isBlob:BNe,isFunction:sj,isStream:LNe,isURLSearchParams:DNe,isStandardBrowserEnv:kNe,forEach:f_,merge:oj,deepMerge:oT,extend:NNe,trim:ONe},kf=Ki;function d4(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var aj=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(kf.isURLSearchParams(t))i=t.toString();else{var s=[];kf.forEach(t,function(l,c){l===null||typeof l>"u"||(kf.isArray(l)?c=c+"[]":l=[l],kf.forEach(l,function(f){kf.isDate(f)?f=f.toISOString():kf.isObject(f)&&(f=JSON.stringify(f)),s.push(d4(c)+"="+d4(f))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},FNe=Ki;function d_(){this.handlers=[]}d_.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1};d_.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};d_.prototype.forEach=function(e){FNe.forEach(this.handlers,function(r){r!==null&&e(r)})};var UNe=d_,HNe=Ki,zNe=function(e,t,r){return HNe.forEach(r,function(s){e=s(e,t)}),e},BA,h4;function lj(){return h4||(h4=1,BA=function(e){return!!(e&&e.__CANCEL__)}),BA}var GNe=Ki,VNe=function(e,t){GNe.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},LA,p4;function $Ne(){return p4||(p4=1,LA=function(e,t,r,i,s){return e.config=t,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}),LA}var DA,m4;function cj(){if(m4)return DA;m4=1;var n=$Ne();return DA=function(t,r,i,s,o){var a=new Error(t);return n(a,r,i,s,o)},DA}var OA,g4;function WNe(){if(g4)return OA;g4=1;var n=cj();return OA=function(t,r,i){var s=i.config.validateStatus;!s||s(i.status)?t(i):r(n("Request failed with status code "+i.status,i.config,null,i.request,i))},OA}var kA,v4;function jNe(){return v4||(v4=1,kA=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),kA}var NA,y4;function JNe(){return y4||(y4=1,NA=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),NA}var FA,x4;function KNe(){if(x4)return FA;x4=1;var n=jNe(),e=JNe();return FA=function(r,i){return r&&!n(i)?e(r,i):i},FA}var UA,b4;function XNe(){if(b4)return UA;b4=1;var n=Ki,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return UA=function(r){var i={},s,o,a;return r&&n.forEach(r.split(`
`),function(c){if(a=c.indexOf(":"),s=n.trim(c.substr(0,a)).toLowerCase(),o=n.trim(c.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},UA}var HA,_4;function YNe(){if(_4)return HA;_4=1;var n=Ki;return HA=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=n.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),HA}var zA,w4;function QNe(){if(w4)return zA;w4=1;var n=Ki;return zA=n.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var c=[];c.push(r+"="+encodeURIComponent(i)),n.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),zA}var GA,S4;function A4(){if(S4)return GA;S4=1;var n=Ki,e=WNe(),t=aj,r=KNe(),i=XNe(),s=YNe(),o=cj();return GA=function(l){return new Promise(function(u,f){var p=l.data,m=l.headers;n.isFormData(p)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(l.auth){var y=l.auth.username||"",x=l.auth.password||"";m.Authorization="Basic "+btoa(y+":"+x)}var g=r(l.baseURL,l.url);if(v.open(l.method.toUpperCase(),t(g,l.params,l.paramsSerializer),!0),v.timeout=l.timeout,v.onreadystatechange=function(){if(!(!v||v.readyState!==4)&&!(v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0))){var E="getAllResponseHeaders"in v?i(v.getAllResponseHeaders()):null,M=!l.responseType||l.responseType==="text"?v.responseText:v.response,I={data:M,status:v.status,statusText:v.statusText,headers:E,config:l,request:v};e(u,f,I),v=null}},v.onabort=function(){v&&(f(o("Request aborted",l,"ECONNABORTED",v)),v=null)},v.onerror=function(){f(o("Network Error",l,null,v)),v=null},v.ontimeout=function(){var E="timeout of "+l.timeout+"ms exceeded";l.timeoutErrorMessage&&(E=l.timeoutErrorMessage),f(o(E,l,"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var _=QNe(),b=(l.withCredentials||s(g))&&l.xsrfCookieName?_.read(l.xsrfCookieName):void 0;b&&(m[l.xsrfHeaderName]=b)}if("setRequestHeader"in v&&n.forEach(m,function(E,M){typeof p>"u"&&M.toLowerCase()==="content-type"?delete m[M]:v.setRequestHeader(M,E)}),n.isUndefined(l.withCredentials)||(v.withCredentials=!!l.withCredentials),l.responseType)try{v.responseType=l.responseType}catch(S){if(l.responseType!=="json")throw S}typeof l.onDownloadProgress=="function"&&v.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(E){v&&(v.abort(),f(E),v=null)}),p===void 0&&(p=null),v.send(p)})},GA}var ii=Ki,E4=VNe,qNe={"Content-Type":"application/x-www-form-urlencoded"};function M4(n,e){!ii.isUndefined(n)&&ii.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function ZNe(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=A4()),n}var h_={adapter:ZNe(),transformRequest:[function(e,t){return E4(t,"Accept"),E4(t,"Content-Type"),ii.isFormData(e)||ii.isArrayBuffer(e)||ii.isBuffer(e)||ii.isStream(e)||ii.isFile(e)||ii.isBlob(e)?e:ii.isArrayBufferView(e)?e.buffer:ii.isURLSearchParams(e)?(M4(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ii.isObject(e)?(M4(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};h_.headers={common:{Accept:"application/json, text/plain, */*"}};ii.forEach(["delete","get","head"],function(e){h_.headers[e]={}});ii.forEach(["post","put","patch"],function(e){h_.headers[e]=ii.merge(qNe)});var uj=h_,C4=Ki,VA=zNe,eFe=lj(),tFe=uj;function $A(n){n.cancelToken&&n.cancelToken.throwIfRequested()}var nFe=function(e){$A(e),e.headers=e.headers||{},e.data=VA(e.data,e.headers,e.transformRequest),e.headers=C4.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),C4.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||tFe.adapter;return t(e).then(function(i){return $A(e),i.data=VA(i.data,i.headers,e.transformResponse),i},function(i){return eFe(i)||($A(e),i&&i.response&&(i.response.data=VA(i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},cl=Ki,fj=function(e,t){t=t||{};var r={},i=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];cl.forEach(i,function(u){typeof t[u]<"u"&&(r[u]=t[u])}),cl.forEach(s,function(u){cl.isObject(t[u])?r[u]=cl.deepMerge(e[u],t[u]):typeof t[u]<"u"?r[u]=t[u]:cl.isObject(e[u])?r[u]=cl.deepMerge(e[u]):typeof e[u]<"u"&&(r[u]=e[u])}),cl.forEach(o,function(u){typeof t[u]<"u"?r[u]=t[u]:typeof e[u]<"u"&&(r[u]=e[u])});var a=i.concat(s).concat(o),l=Object.keys(t).filter(function(u){return a.indexOf(u)===-1});return cl.forEach(l,function(u){typeof t[u]<"u"?r[u]=t[u]:typeof e[u]<"u"&&(r[u]=e[u])}),r},F1=Ki,rFe=aj,T4=UNe,iFe=nFe,dj=fj;function v0(n){this.defaults=n,this.interceptors={request:new T4,response:new T4}}v0.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=dj(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[iFe,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(s){t.unshift(s.fulfilled,s.rejected)}),this.interceptors.response.forEach(function(s){t.push(s.fulfilled,s.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r};v0.prototype.getUri=function(e){return e=dj(this.defaults,e),rFe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};F1.forEach(["delete","get","head","options"],function(e){v0.prototype[e]=function(t,r){return this.request(F1.merge(r||{},{method:e,url:t}))}});F1.forEach(["post","put","patch"],function(e){v0.prototype[e]=function(t,r,i){return this.request(F1.merge(i||{},{method:e,url:t,data:r}))}});var sFe=v0,WA,R4;function hj(){if(R4)return WA;R4=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,WA=n,WA}var jA,P4;function oFe(){if(P4)return jA;P4=1;var n=hj();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;t(function(o){i.reason||(i.reason=new n(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},jA=e,jA}var JA,I4;function aFe(){return I4||(I4=1,JA=function(e){return function(r){return e.apply(null,r)}}),JA}var B4=Ki,lFe=nj,Sx=sFe,cFe=fj,uFe=uj;function pj(n){var e=new Sx(n),t=lFe(Sx.prototype.request,e);return B4.extend(t,Sx.prototype,e),B4.extend(t,e),t}var Oo=pj(uFe);Oo.Axios=Sx;Oo.create=function(e){return pj(cFe(Oo.defaults,e))};Oo.Cancel=hj();Oo.CancelToken=oFe();Oo.isCancel=lj();Oo.all=function(e){return Promise.all(e)};Oo.spread=aFe();wNe.exports=Oo;N1.default=Oo;(function(n){n.exports=N1})(_Ne);const Jp=U1(iT);function fFe(){const{products:n,total:e}=Kb(),[t,r]=R.useState(null),[i,s]=R.useState({}),o=async(l,c)=>{if(e.productQuantity>0&&c&&Object.keys(l).length===5)try{const u=JSON.parse(localStorage.getItem("user"));let f="/api/apparels/orders";const p=await Jp.post(f,{total_amount:e.totalPrice,customer:{first_name:u.first_name,last_name:u.last_name,email:u.email,mobile:u.mobile,address:l},order_items:n.map(S=>({product_id:S.id,product_name:S.title,size:S.availableSizes[0],color:S.color,quantity:S.quantity,price:S.price})),payment:{method:"Cashfree",status:"Pending",transaction_id:"TXN"}},{headers:{"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("token")}`},baseURL:"https://www.kalkinso.com"}),{paymentSessionId:m,returnUrl:v,orderId:y,order:x}=await p.data,g=await wLe({mode:"production"}),_={paymentSessionId:m,returnUrl:v};(await g.checkout(_)).redirect&&console.log("Redirecting to Cashfree Checkout")}catch(u){console.log(u),alert("Error initiating payment")}else alert("Fill all the details!")},a=async(l,c)=>{if(!c||Object.keys(l).length<5){alert("Fill out all details");return}const u=new ua;try{const f=await aOe(bNe,u);localStorage.setItem("auth",JSON.stringify(f));const p={headers:{"Content-Type":"application/json"},baseURL:"https://www.kalkinso.com"},m=JSON.stringify({first_name:f.user.displayName.split(" ")[0],last_name:f.user.displayName.split(" ")[1],email:f.user.email,mobile:"",upi:"",adhar:"",terms_conditions:!0,password:"",user_role:"Explorer",access:["ORDERS"]});try{let v=await Jp.post("/api/users",m,p);localStorage.setItem("token",v.data.token);const y=await Jp.get("/api/auth",{headers:{...p.headers,"x-auth-token":`${localStorage.getItem("token")}`},baseURL:p.baseURL});localStorage.setItem("user",JSON.stringify(y.data)),await o(l,c)}catch{let y=await Jp.post("/api/auth/login/email",{email:f.user.email,password:""},{headers:{...p.headers,"x-auth-token":`${localStorage.getItem("token")}`,"x-google-token":`${f._tokenResponse.idToken}`},baseURL:p.baseURL});localStorage.setItem("token",y.data.token);const x=await Jp.get("/api/auth",{headers:{...p.headers,"x-auth-token":`${localStorage.getItem("token")}`},baseURL:p.baseURL});localStorage.setItem("user",JSON.stringify(x.data)),await o(l,c)}}catch(f){console.error("Google Sign-In Error:",f.message)}};return K("div",{className:"mx-auto mt-5",style:{maxWidth:"900px"},children:tt(JC,{children:[K(nd,{md:"8",className:"mb-4",children:tt($C,{className:"mb-4",children:[K(WC,{className:"py-3",children:K(KC,{tag:"h5",className:"mb-0",children:"Biling details"})}),K(jC,{children:tt("form",{children:[tt(JC,{className:"mb-4",children:[K(nd,{children:K(Gc,{label:"City",onChange:l=>s({...i,city:l.target.value}),type:"text"})}),K(nd,{children:K(Gc,{label:"State",onChange:l=>s({...i,state:l.target.value}),type:"text"})}),K(nd,{children:K(Gc,{label:"ZIP Code",onChange:l=>s({...i,zip_code:l.target.value}),type:"text"})})]}),K(Gc,{label:"Country",type:"text",onChange:l=>s({...i,country:l.target.value}),className:"mb-4"}),K(Gc,{label:"Street",type:"text",onChange:l=>s({...i,street:l.target.value}),className:"mb-4"}),K(Gc,{label:"Phone",type:"text",onChange:l=>r(l.target.value),className:"mb-4"}),K(gLe,{label:"Additional information",rows:4,className:"mb-4"}),K("div",{className:"d-flex justify-content-center",children:K(QBe,{name:"flexCheck",value:"",id:"flexCheckChecked",label:"Create an account?",defaultChecked:!0})})]})})]})}),K(nd,{md:"4",className:"mb-4",children:tt($C,{className:"mb-4",children:[K(WC,{className:"py-3",children:K(KC,{tag:"h5",className:"mb-0",children:"Summary"})}),tt(jC,{children:[tt(L$,{flush:!0,children:[n.map(l=>tt(yx,{className:"d-flex justify-content-between align-items-center border-0 px-0 pb-0",children:[l.title," (",l.availableSizes.join(", "),")",tt("span",{children:[l.currencyFormat," ",l.price," x ",l.quantity]})]})),tt(yx,{className:"d-flex justify-content-between align-items-center px-0",children:["Shipping",K("span",{children:"Free"})]}),tt(yx,{className:"d-flex justify-content-between align-items-center border-0 px-0 mb-3",children:[tt("div",{children:[K("strong",{children:"Total amount"}),K("strong",{children:K("p",{className:"mb-0",children:"(including (12%) GST)"})})]}),K("span",{children:tt("strong",{children:[e.currencyFormat," ",e.totalPrice+e.totalPrice*.12]})})]})]}),K(B$,{size:"lg",block:!0,onClick:()=>a(i,t),children:"Make purchase"})]})]})})]})})}function dFe(){const n=mi(mt);JSON.parse(localStorage.getItem("finalDesigns"));const[e,t]=R.useState([{label:"shirt",command:()=>{mt.selectedApparel="shirt"},icon:()=>tt(PM,{shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in",children:[K(GM,{files:"canary_wharf_1k.hdr"}),K(jM,{defaultPosition:[0,0,2],children:K(zM,{children:K(WM,{})})})]},"shirt")},{label:"hoodie",command:()=>{mt.selectedApparel="hoodie"},icon:()=>tt(PM,{shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in",children:[K(GM,{files:"canary_wharf_1k.hdr"}),K(jM,{defaultPosition:[0,0,2],children:K(zM,{children:K(o6,{})})})]},"hoodie")}]);return tt(P2e,{children:[K(bBe,{theme:SBe,children:K(PPe,{children:tt("main",{className:"app transition-all ease-in",children:[K(Q2e,{}),K(TPe,{}),K(c2e,{setItems:t,items:e}),n.buy&&K(fFe,{})]})})}),!n.buy&&K(R$,{model:e,position:"top"})]})}KA.createRoot(document.getElementById("root")).render(K(D.StrictMode,{children:K(dFe,{})}))});export default hFe();
