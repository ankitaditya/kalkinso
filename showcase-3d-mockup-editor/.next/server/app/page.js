(()=>{var t={};t.id=931,t.ids=[931],t.modules={9990:t=>{function n(t){return Promise.resolve().then(()=>{var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n})}n.keys=()=>[],n.resolve=n,n.id=9990,t.exports=n},7849:t=>{"use strict";t.exports=require("next/dist/client/components/action-async-storage.external")},2934:t=>{"use strict";t.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external")},4580:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2900:(t,n,i)=>{"use strict";i.r(n),i.d(n,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>d,routeModule:()=>f,tree:()=>u}),i(6323),i(2029),i(5866);var r=i(3191),s=i(8716),o=i(7922),a=i.n(o),l=i(5231),c={};for(let t in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(t)&&(c[t]=()=>l[t]);i.d(n,c);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,6323)),"/Users/ankitaditya/Documents/master_projects/kalkinso/showcase-3d-mockup-editor/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,2029)),"/Users/ankitaditya/Documents/master_projects/kalkinso/showcase-3d-mockup-editor/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ankitaditya/Documents/master_projects/kalkinso/showcase-3d-mockup-editor/src/app/page.tsx"],p="/page",h={require:i,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},6179:(t,n,i)=>{Promise.resolve().then(i.t.bind(i,2994,23)),Promise.resolve().then(i.t.bind(i,6114,23)),Promise.resolve().then(i.t.bind(i,9727,23)),Promise.resolve().then(i.t.bind(i,9671,23)),Promise.resolve().then(i.t.bind(i,1868,23)),Promise.resolve().then(i.t.bind(i,4759,23))},4516:(t,n,i)=>{Promise.resolve().then(i.bind(i,933)),Promise.resolve().then(i.bind(i,6618)),Promise.resolve().then(i.bind(i,4797))},6257:()=>{},933:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=i(4129);function s(t){let{reason:n,children:i}=t;throw new r.BailoutToCSRError(n)}},6618:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadCss",{enumerable:!0,get:function(){return o}});let r=i(326),s=i(5403);function o(t){let{moduleIds:n}=t,i=(0,s.getExpectedRequestStore)("next/dynamic css"),o=[];if(i.reactLoadableManifest&&n){let t=i.reactLoadableManifest;for(let i of n){if(!t[i])continue;let n=t[i].files.filter(t=>t.endsWith(".css"));o.push(...n)}}return 0===o.length?null:(0,r.jsx)(r.Fragment,{children:o.map(t=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:i.assetPrefix+"/_next/"+encodeURI(t),as:"style"},t))})}},3948:(t,n)=>{"use strict";/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=Symbol.for("react.element"),r=(Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator,{isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}}),s=Object.assign,o={};function a(t,n,i){this.props=t,this.context=n,this.refs=o,this.updater=i||r}function l(){}function c(t,n,i){this.props=t,this.context=n,this.refs=o,this.updater=i||r}a.prototype.isReactComponent={},a.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},l.prototype=a.prototype;var u=c.prototype=new l;u.constructor=c,s(u,a.prototype),u.isPureReactComponent=!0;var d=Object.prototype.hasOwnProperty,p={current:null},h={key:!0,ref:!0,__self:!0,__source:!0};n.createElement=function(t,n,r){var s,o={},a=null,l=null;if(null!=n)for(s in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(a=""+n.key),n)d.call(n,s)&&!h.hasOwnProperty(s)&&(o[s]=n[s]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}if(t&&t.defaultProps)for(s in c=t.defaultProps)void 0===o[s]&&(o[s]=c[s]);return{$$typeof:i,type:t,key:a,ref:l,props:o,_owner:p.current}}},5746:(t,n,i)=>{"use strict";t.exports=i(3948)},4797:(t,n,i)=>{"use strict";let r,s,o,a,l,c,u,d,p,h,f,m,g,x,y,v,b,A;i.r(n),i.d(n,{default:()=>ewZ});var w=i(326),C=i(8220),_=i.n(C);let S=()=>w.jsx("div",{className:_().spinner,"data-cy":"loading-spinner"});var k=i(8029),E=i.n(k),M=i(6477),I=i.n(M);let T=({options:t,value:n,name:i,label:r,buttonStyle:s,onChange:o,size:a="sm"})=>{let l=t=>i+t.value;return(0,w.jsxs)("div",{className:I().wrapper,children:[r&&w.jsx("span",{className:I().description,children:r}),w.jsx("div",{className:I().optionWrapper,children:t.map(t=>{let i=t.value===n;return w.jsx("button",{style:s,className:E()(I().labelWrapper,I()["labelWrapper--"+a],{[I().labelWrapperActive]:i}),onClick:()=>!i&&o(t.value),children:t.label},l(t))})})]})};var B=Object.create,L=Object.defineProperty,j=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,R=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,F=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),O=t=>{throw TypeError(t)},N=(t,n,i)=>n in t?L(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,U=(t,n)=>L(t,"name",{value:n,configurable:!0}),V=(t,n)=>function(){return n||(0,t[P(t)[0]])((n={exports:{}}).exports,n),n.exports},H=(t,n,i)=>(i=null!=t?B(R(t)):{},((t,n,i,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let s of P(n))D.call(t,s)||s===i||L(t,s,{get:()=>n[s],enumerable:!(r=j(n,s))||r.enumerable});return t})(!n&&t&&t.__esModule?i:L(i,"default",{value:t,enumerable:!0}),t)),Q=t=>[,,,B(t?.[F("metadata")]??null)],z=["class","method","getter","setter","accessor","field","value","get","set"],G=t=>void 0!==t&&"function"!=typeof t?O("Function expected"):t,q=(t,n,i,r,s)=>({kind:z[t],name:n,metadata:r,addInitializer:t=>i._?O("Already initialized"):s.push(G(t||null))}),W=(t,n)=>N(n,F("metadata"),t[3]),$=(t,n,i,r)=>{for(var s=0,o=t[n>>1],a=o&&o.length;s<a;s++)1&n?o[s].call(i):r=o[s].call(i,r);return r},Z=(t,n,i,r,s,o)=>{var a,l,c,u,d,p=7&n,h=!!(8&n),f=!!(16&n),m=p>3?t.length+1:p?h?1:2:0,g=z[p+5],x=p>3&&(t[m-1]=[]),y=t[m]||(t[m]=[]),v=p&&(f||h||(s=s.prototype),p<5&&(p>3||!f)&&j(p<4?s:{get[i](){return J(this,o)},set[i](e){return et(this,o,e)}},i));p?f&&p<4&&U(o,(p>2?"set ":p>1?"get ":"")+i):U(s,i);for(var b=r.length-1;b>=0;b--)u=q(p,i,c={},t[3],y),p&&(u.static=h,u.private=f,d=u.access={has:f?t=>X(s,t):t=>i in t},3^p&&(d.get=f?t=>(1^p?J:en)(t,s,4^p?o:v.get):t=>t[i]),p>2&&(d.set=f?(t,n)=>et(t,s,n,4^p?o:v.set):(t,n)=>t[i]=n)),l=(0,r[b])(p?p<4?f?o:v[g]:p>4?void 0:{get:v.get,set:v.set}:s,u),c._=1,4^p||void 0===l?G(l)&&(p>4?x.unshift(l):p?f?o=l:v[g]=l:s=l):"object"!=typeof l||null===l?O("Object expected"):(G(a=l.get)&&(v.get=a),G(a=l.set)&&(v.set=a),G(a=l.init)&&x.unshift(a));return p||W(t,s),v&&L(s,i,v),f?4^p?o:v:s},Y=(t,n,i)=>N(t,"symbol"!=typeof n?n+"":n,i),K=(t,n,i)=>n.has(t)||O("Cannot "+i),X=(t,n)=>Object(n)!==n?O('Cannot use the "in" operator on this value'):t.has(n),J=(t,n,i)=>(K(t,n,"read from private field"),i?i.call(t):n.get(t)),ee=(t,n,i)=>n.has(t)?O("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,i),et=(t,n,i,r)=>(K(t,n,"write to private field"),r?r.call(t,i):n.set(t,i),i),en=(t,n,i)=>(K(t,n,"access private method"),i),ei=V({"../../../node_modules/lodash/isObject.js"(t,n){n.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}}}),er=V({"../../../node_modules/lodash/_freeGlobal.js"(t,n){var i="object"==typeof global&&global&&global.Object===Object&&global;n.exports=i}}),es=V({"../../../node_modules/lodash/_root.js"(t,n){var i=er(),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();n.exports=s}}),eo=V({"../../../node_modules/lodash/now.js"(t,n){var i=es();n.exports=function(){return i.Date.now()}}}),ea=V({"../../../node_modules/lodash/_trimmedEndIndex.js"(t,n){var i=/\s/;n.exports=function(t){for(var n=t.length;n--&&i.test(t.charAt(n)););return n}}}),el=V({"../../../node_modules/lodash/_baseTrim.js"(t,n){var i=ea(),r=/^\s+/;n.exports=function(t){return t?t.slice(0,i(t)+1).replace(r,""):t}}}),ec=V({"../../../node_modules/lodash/_Symbol.js"(t,n){var i=es().Symbol;n.exports=i}}),eu=V({"../../../node_modules/lodash/_getRawTag.js"(t,n){var i=ec(),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i?i.toStringTag:void 0;n.exports=function(t){var n=s.call(t,a),i=t[a];try{t[a]=void 0;var r=!0}catch(t){}var l=o.call(t);return r&&(n?t[a]=i:delete t[a]),l}}}),ed=V({"../../../node_modules/lodash/_objectToString.js"(t,n){var i=Object.prototype.toString;n.exports=function(t){return i.call(t)}}}),ep=V({"../../../node_modules/lodash/_baseGetTag.js"(t,n){var i=ec(),r=eu(),s=ed(),o=i?i.toStringTag:void 0;n.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?r(t):s(t)}}}),eh=V({"../../../node_modules/lodash/isObjectLike.js"(t,n){n.exports=function(t){return null!=t&&"object"==typeof t}}}),ef=V({"../../../node_modules/lodash/isSymbol.js"(t,n){var i=ep(),r=eh();n.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}}}),em=V({"../../../node_modules/lodash/toNumber.js"(t,n){var i=el(),r=ei(),s=ef(),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;n.exports=function(t){if("number"==typeof t)return t;if(s(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var u=a.test(t);return u||l.test(t)?c(t.slice(2),u?2:8):o.test(t)?NaN:+t}}}),eg=V({"../../../node_modules/lodash/debounce.js"(t,n){var i=ei(),r=eo(),s=em(),o=Math.max,a=Math.min;n.exports=function(t,n,l){var c,u,d,p,h,f,m=0,g=!1,x=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function v(n){var i=c,r=u;return c=u=void 0,m=n,p=t.apply(r,i)}function b(t){var i=t-f;return void 0===f||i>=n||i<0||x&&t-m>=d}function A(){var t,i=r();if(b(i))return w(i);h=setTimeout(A,(t=n-(i-f),x?a(t,d-(i-m)):t))}function w(t){return h=void 0,y&&c?v(t):(c=u=void 0,p)}function C(){var t,i=r(),s=b(i);if(c=arguments,u=this,f=i,s){if(void 0===h)return m=t=f,h=setTimeout(A,n),g?v(t):p;if(x)return clearTimeout(h),h=setTimeout(A,n),v(f)}return void 0===h&&(h=setTimeout(A,n)),p}return n=s(n)||0,i(l)&&(g=!!l.leading,d=(x="maxWait"in l)?o(s(l.maxWait)||0,n):d,y="trailing"in l?!!l.trailing:y),C.cancel=function(){void 0!==h&&clearTimeout(h),m=0,c=f=u=h=void 0},C.flush=function(){return void 0===h?p:w(r())},C}}}),ex=V({"../../../node_modules/lodash/_listCacheClear.js"(t,n){n.exports=function(){this.__data__=[],this.size=0}}}),ey=V({"../../../node_modules/lodash/eq.js"(t,n){n.exports=function(t,n){return t===n||t!=t&&n!=n}}}),ev=V({"../../../node_modules/lodash/_assocIndexOf.js"(t,n){var i=ey();n.exports=function(t,n){for(var r=t.length;r--;)if(i(t[r][0],n))return r;return -1}}}),eb=V({"../../../node_modules/lodash/_listCacheDelete.js"(t,n){var i=ev(),r=Array.prototype.splice;n.exports=function(t){var n=this.__data__,s=i(n,t);return!(s<0)&&(s==n.length-1?n.pop():r.call(n,s,1),--this.size,!0)}}}),eA=V({"../../../node_modules/lodash/_listCacheGet.js"(t,n){var i=ev();n.exports=function(t){var n=this.__data__,r=i(n,t);return r<0?void 0:n[r][1]}}}),ew=V({"../../../node_modules/lodash/_listCacheHas.js"(t,n){var i=ev();n.exports=function(t){return i(this.__data__,t)>-1}}}),eC=V({"../../../node_modules/lodash/_listCacheSet.js"(t,n){var i=ev();n.exports=function(t,n){var r=this.__data__,s=i(r,t);return s<0?(++this.size,r.push([t,n])):r[s][1]=n,this}}}),e_=V({"../../../node_modules/lodash/_ListCache.js"(t,n){var i=ex(),r=eb(),s=eA(),o=ew(),a=eC();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),eS=V({"../../../node_modules/lodash/_stackClear.js"(t,n){var i=e_();n.exports=function(){this.__data__=new i,this.size=0}}}),ek=V({"../../../node_modules/lodash/_stackDelete.js"(t,n){n.exports=function(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}}}),eE=V({"../../../node_modules/lodash/_stackGet.js"(t,n){n.exports=function(t){return this.__data__.get(t)}}}),eM=V({"../../../node_modules/lodash/_stackHas.js"(t,n){n.exports=function(t){return this.__data__.has(t)}}}),eI=V({"../../../node_modules/lodash/isFunction.js"(t,n){var i=ep(),r=ei();n.exports=function(t){if(!r(t))return!1;var n=i(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}}),eT=V({"../../../node_modules/lodash/_coreJsData.js"(t,n){var i=es()["__core-js_shared__"];n.exports=i}}),eB=V({"../../../node_modules/lodash/_isMasked.js"(t,n){var i,r=eT(),s=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";n.exports=function(t){return!!s&&s in t}}}),eL=V({"../../../node_modules/lodash/_toSource.js"(t,n){var i=Function.prototype.toString;n.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}}}),ej=V({"../../../node_modules/lodash/_baseIsNative.js"(t,n){var i=eI(),r=eB(),s=ei(),o=eL(),a=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(t){return!(!s(t)||r(t))&&(i(t)?d:a).test(o(t))}}}),eP=V({"../../../node_modules/lodash/_getValue.js"(t,n){n.exports=function(t,n){return null==t?void 0:t[n]}}}),eR=V({"../../../node_modules/lodash/_getNative.js"(t,n){var i=ej(),r=eP();n.exports=function(t,n){var s=r(t,n);return i(s)?s:void 0}}}),eD=V({"../../../node_modules/lodash/_Map.js"(t,n){var i=eR()(es(),"Map");n.exports=i}}),eF=V({"../../../node_modules/lodash/_nativeCreate.js"(t,n){var i=eR()(Object,"create");n.exports=i}}),eO=V({"../../../node_modules/lodash/_hashClear.js"(t,n){var i=eF();n.exports=function(){this.__data__=i?i(null):{},this.size=0}}}),eN=V({"../../../node_modules/lodash/_hashDelete.js"(t,n){n.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}}}),eU=V({"../../../node_modules/lodash/_hashGet.js"(t,n){var i=eF(),r=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;if(i){var s=n[t];return"__lodash_hash_undefined__"===s?void 0:s}return r.call(n,t)?n[t]:void 0}}}),eV=V({"../../../node_modules/lodash/_hashHas.js"(t,n){var i=eF(),r=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;return i?void 0!==n[t]:r.call(n,t)}}}),eH=V({"../../../node_modules/lodash/_hashSet.js"(t,n){var i=eF();n.exports=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===n?"__lodash_hash_undefined__":n,this}}}),eQ=V({"../../../node_modules/lodash/_Hash.js"(t,n){var i=eO(),r=eN(),s=eU(),o=eV(),a=eH();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),ez=V({"../../../node_modules/lodash/_mapCacheClear.js"(t,n){var i=eQ(),r=e_(),s=eD();n.exports=function(){this.size=0,this.__data__={hash:new i,map:new(s||r),string:new i}}}}),eG=V({"../../../node_modules/lodash/_isKeyable.js"(t,n){n.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}}}),eq=V({"../../../node_modules/lodash/_getMapData.js"(t,n){var i=eG();n.exports=function(t,n){var r=t.__data__;return i(n)?r["string"==typeof n?"string":"hash"]:r.map}}}),eW=V({"../../../node_modules/lodash/_mapCacheDelete.js"(t,n){var i=eq();n.exports=function(t){var n=i(this,t).delete(t);return this.size-=n?1:0,n}}}),e$=V({"../../../node_modules/lodash/_mapCacheGet.js"(t,n){var i=eq();n.exports=function(t){return i(this,t).get(t)}}}),eZ=V({"../../../node_modules/lodash/_mapCacheHas.js"(t,n){var i=eq();n.exports=function(t){return i(this,t).has(t)}}}),eY=V({"../../../node_modules/lodash/_mapCacheSet.js"(t,n){var i=eq();n.exports=function(t,n){var r=i(this,t),s=r.size;return r.set(t,n),this.size+=r.size==s?0:1,this}}}),eK=V({"../../../node_modules/lodash/_MapCache.js"(t,n){var i=ez(),r=eW(),s=e$(),o=eZ(),a=eY();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),eX=V({"../../../node_modules/lodash/_stackSet.js"(t,n){var i=e_(),r=eD(),s=eK();n.exports=function(t,n){var o=this.__data__;if(o instanceof i){var a=o.__data__;if(!r||a.length<199)return a.push([t,n]),this.size=++o.size,this;o=this.__data__=new s(a)}return o.set(t,n),this.size=o.size,this}}}),eJ=V({"../../../node_modules/lodash/_Stack.js"(t,n){var i=e_(),r=eS(),s=ek(),o=eE(),a=eM(),l=eX();function c(t){var n=this.__data__=new i(t);this.size=n.size}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,n.exports=c}}),e0=V({"../../../node_modules/lodash/_setCacheAdd.js"(t,n){n.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}}}),e1=V({"../../../node_modules/lodash/_setCacheHas.js"(t,n){n.exports=function(t){return this.__data__.has(t)}}}),e2=V({"../../../node_modules/lodash/_SetCache.js"(t,n){var i=eK(),r=e0(),s=e1();function o(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new i;++n<r;)this.add(t[n])}o.prototype.add=o.prototype.push=r,o.prototype.has=s,n.exports=o}}),e3=V({"../../../node_modules/lodash/_arraySome.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(t[i],i,t))return!0;return!1}}}),e5=V({"../../../node_modules/lodash/_cacheHas.js"(t,n){n.exports=function(t,n){return t.has(n)}}}),e4=V({"../../../node_modules/lodash/_equalArrays.js"(t,n){var i=e2(),r=e3(),s=e5();n.exports=function(t,n,o,a,l,c){var u=1&o,d=t.length,p=n.length;if(d!=p&&!(u&&p>d))return!1;var h=c.get(t),f=c.get(n);if(h&&f)return h==n&&f==t;var m=-1,g=!0,x=2&o?new i:void 0;for(c.set(t,n),c.set(n,t);++m<d;){var y=t[m],v=n[m];if(a)var b=u?a(v,y,m,n,t,c):a(y,v,m,t,n,c);if(void 0!==b){if(b)continue;g=!1;break}if(x){if(!r(n,function(t,n){if(!s(x,n)&&(y===t||l(y,t,o,a,c)))return x.push(n)})){g=!1;break}}else if(y!==v&&!l(y,v,o,a,c)){g=!1;break}}return c.delete(t),c.delete(n),g}}}),e6=V({"../../../node_modules/lodash/_Uint8Array.js"(t,n){var i=es().Uint8Array;n.exports=i}}),e8=V({"../../../node_modules/lodash/_mapToArray.js"(t,n){n.exports=function(t){var n=-1,i=Array(t.size);return t.forEach(function(t,r){i[++n]=[r,t]}),i}}}),e7=V({"../../../node_modules/lodash/_setToArray.js"(t,n){n.exports=function(t){var n=-1,i=Array(t.size);return t.forEach(function(t){i[++n]=t}),i}}}),e9=V({"../../../node_modules/lodash/_equalByTag.js"(t,n){var i=ec(),r=e6(),s=ey(),o=e4(),a=e8(),l=e7(),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(t,n,i,c,d,p,h){switch(i){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!p(new r(t),new r(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var f=a;case"[object Set]":var m=1&c;if(f||(f=l),t.size!=n.size&&!m)break;var g=h.get(t);if(g)return g==n;c|=2,h.set(t,n);var x=o(f(t),f(n),c,d,p,h);return h.delete(t),x;case"[object Symbol]":if(u)return u.call(t)==u.call(n)}return!1}}}),te=V({"../../../node_modules/lodash/_arrayPush.js"(t,n){n.exports=function(t,n){for(var i=-1,r=n.length,s=t.length;++i<r;)t[s+i]=n[i];return t}}}),tt=V({"../../../node_modules/lodash/isArray.js"(t,n){var i=Array.isArray;n.exports=i}}),tn=V({"../../../node_modules/lodash/_baseGetAllKeys.js"(t,n){var i=te(),r=tt();n.exports=function(t,n,s){var o=n(t);return r(t)?o:i(o,s(t))}}}),ti=V({"../../../node_modules/lodash/_arrayFilter.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length,s=0,o=[];++i<r;){var a=t[i];n(a,i,t)&&(o[s++]=a)}return o}}}),tr=V({"../../../node_modules/lodash/stubArray.js"(t,n){n.exports=function(){return[]}}}),ts=V({"../../../node_modules/lodash/_getSymbols.js"(t,n){var i=ti(),r=tr(),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:i(o(t=Object(t)),function(n){return s.call(t,n)})}:r;n.exports=a}}),to=V({"../../../node_modules/lodash/_baseTimes.js"(t,n){n.exports=function(t,n){for(var i=-1,r=Array(t);++i<t;)r[i]=n(i);return r}}}),ta=V({"../../../node_modules/lodash/_baseIsArguments.js"(t,n){var i=ep(),r=eh();n.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}}}),tl=V({"../../../node_modules/lodash/isArguments.js"(t,n){var i=ta(),r=eh(),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!a.call(t,"callee")};n.exports=l}}),tc=V({"../../../node_modules/lodash/stubFalse.js"(t,n){n.exports=function(){return!1}}}),tu=V({"../../../node_modules/lodash/isBuffer.js"(t,n){var i=es(),r=tc(),s="object"==typeof t&&t&&!t.nodeType&&t,o=s&&"object"==typeof n&&n&&!n.nodeType&&n,a=o&&o.exports===s?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;n.exports=l}}),td=V({"../../../node_modules/lodash/_isIndex.js"(t,n){var i=/^(?:0|[1-9]\d*)$/;n.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<n}}}),tp=V({"../../../node_modules/lodash/isLength.js"(t,n){n.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}}}),th=V({"../../../node_modules/lodash/_baseIsTypedArray.js"(t,n){var i=ep(),r=tp(),s=eh(),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(t){return s(t)&&r(t.length)&&!!o[i(t)]}}}),tf=V({"../../../node_modules/lodash/_baseUnary.js"(t,n){n.exports=function(t){return function(n){return t(n)}}}}),tm=V({"../../../node_modules/lodash/_nodeUtil.js"(t,n){var i=er(),r="object"==typeof t&&t&&!t.nodeType&&t,s=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===r&&i.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();n.exports=a}}),tg=V({"../../../node_modules/lodash/isTypedArray.js"(t,n){var i=th(),r=tf(),s=tm(),o=s&&s.isTypedArray,a=o?r(o):i;n.exports=a}}),tx=V({"../../../node_modules/lodash/_arrayLikeKeys.js"(t,n){var i=to(),r=tl(),s=tt(),o=tu(),a=td(),l=tg(),c=Object.prototype.hasOwnProperty;n.exports=function(t,n){var u=s(t),d=!u&&r(t),p=!u&&!d&&o(t),h=!u&&!d&&!p&&l(t),f=u||d||p||h,m=f?i(t.length,String):[],g=m.length;for(var x in t)!n&&!c.call(t,x)||f&&("length"==x||p&&("offset"==x||"parent"==x)||h&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||a(x,g))||m.push(x);return m}}}),ty=V({"../../../node_modules/lodash/_isPrototype.js"(t,n){var i=Object.prototype;n.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||i)}}}),tv=V({"../../../node_modules/lodash/_overArg.js"(t,n){n.exports=function(t,n){return function(i){return t(n(i))}}}}),tb=V({"../../../node_modules/lodash/_nativeKeys.js"(t,n){var i=tv()(Object.keys,Object);n.exports=i}}),tA=V({"../../../node_modules/lodash/_baseKeys.js"(t,n){var i=ty(),r=tb(),s=Object.prototype.hasOwnProperty;n.exports=function(t){if(!i(t))return r(t);var n=[];for(var o in Object(t))s.call(t,o)&&"constructor"!=o&&n.push(o);return n}}}),tw=V({"../../../node_modules/lodash/isArrayLike.js"(t,n){var i=eI(),r=tp();n.exports=function(t){return null!=t&&r(t.length)&&!i(t)}}}),tC=V({"../../../node_modules/lodash/keys.js"(t,n){var i=tx(),r=tA(),s=tw();n.exports=function(t){return s(t)?i(t):r(t)}}}),t_=V({"../../../node_modules/lodash/_getAllKeys.js"(t,n){var i=tn(),r=ts(),s=tC();n.exports=function(t){return i(t,s,r)}}}),tS=V({"../../../node_modules/lodash/_equalObjects.js"(t,n){var i=t_(),r=Object.prototype.hasOwnProperty;n.exports=function(t,n,s,o,a,l){var c=1&s,u=i(t),d=u.length;if(d!=i(n).length&&!c)return!1;for(var p=d;p--;){var h=u[p];if(!(c?h in n:r.call(n,h)))return!1}var f=l.get(t),m=l.get(n);if(f&&m)return f==n&&m==t;var g=!0;l.set(t,n),l.set(n,t);for(var x=c;++p<d;){var y=t[h=u[p]],v=n[h];if(o)var b=c?o(v,y,h,n,t,l):o(y,v,h,t,n,l);if(!(void 0===b?y===v||a(y,v,s,o,l):b)){g=!1;break}x||(x="constructor"==h)}if(g&&!x){var A=t.constructor,w=n.constructor;A==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof A&&A instanceof A&&"function"==typeof w&&w instanceof w||(g=!1)}return l.delete(t),l.delete(n),g}}}),tk=V({"../../../node_modules/lodash/_DataView.js"(t,n){var i=eR()(es(),"DataView");n.exports=i}}),tE=V({"../../../node_modules/lodash/_Promise.js"(t,n){var i=eR()(es(),"Promise");n.exports=i}}),tM=V({"../../../node_modules/lodash/_Set.js"(t,n){var i=eR()(es(),"Set");n.exports=i}}),tI=V({"../../../node_modules/lodash/_WeakMap.js"(t,n){var i=eR()(es(),"WeakMap");n.exports=i}}),tT=V({"../../../node_modules/lodash/_getTag.js"(t,n){var i=tk(),r=eD(),s=tE(),o=tM(),a=tI(),l=ep(),c=eL(),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(i),g=c(r),x=c(s),y=c(o),v=c(a),b=l;(i&&b(new i(new ArrayBuffer(1)))!=f||r&&b(new r)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=p||a&&b(new a)!=h)&&(b=function(t){var n=l(t),i="[object Object]"==n?t.constructor:void 0,r=i?c(i):"";if(r)switch(r){case m:return f;case g:return u;case x:return d;case y:return p;case v:return h}return n}),n.exports=b}}),tB=V({"../../../node_modules/lodash/_baseIsEqualDeep.js"(t,n){var i=eJ(),r=e4(),s=e9(),o=tS(),a=tT(),l=tt(),c=tu(),u=tg(),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;n.exports=function(t,n,m,g,x,y){var v=l(t),b=l(n),A=v?p:a(t),w=b?p:a(n),C=(A=A==d?h:A)==h,_=(w=w==d?h:w)==h,S=A==w;if(S&&c(t)){if(!c(n))return!1;v=!0,C=!1}if(S&&!C)return y||(y=new i),v||u(t)?r(t,n,m,g,x,y):s(t,n,A,m,g,x,y);if(!(1&m)){var k=C&&f.call(t,"__wrapped__"),E=_&&f.call(n,"__wrapped__");if(k||E){var M=k?t.value():t,I=E?n.value():n;return y||(y=new i),x(M,I,m,g,y)}}return!!S&&(y||(y=new i),o(t,n,m,g,x,y))}}}),tL=V({"../../../node_modules/lodash/_baseIsEqual.js"(t,n){var i=tB(),r=eh();n.exports=function t(n,s,o,a,l){return n===s||(null!=n&&null!=s&&(r(n)||r(s))?i(n,s,o,a,t,l):n!=n&&s!=s)}}}),tj=V({"../../../node_modules/lodash/isEqual.js"(t,n){var i=tL();n.exports=function(t,n){return i(t,n)}}}),tP=V({"../../../node_modules/base64-js/index.js"(t){t.byteLength=function(t){var n=a(t),i=n[0],r=n[1];return 3*(i+r)/4-r},t.toByteArray=function(t){var n,i,o=a(t),l=o[0],c=o[1],u=new s(3*(l+c)/4-c),d=0,p=c>0?l-4:l;for(i=0;i<p;i+=4)n=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],u[d++]=n>>16&255,u[d++]=n>>8&255,u[d++]=255&n;return 2===c&&(n=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,u[d++]=255&n),1===c&&(n=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,u[d++]=n>>8&255,u[d++]=255&n),u},t.fromByteArray=function(t){for(var n,r=t.length,s=r%3,o=[],a=0,l=r-s;a<l;a+=16383)o.push(function(t,n,r){for(var s,o=[],a=n;a<r;a+=3)o.push(i[(s=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]))>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return o.join("")}(t,a,a+16383>l?l:a+16383));return 1===s?o.push(i[(n=t[r-1])>>2]+i[n<<4&63]+"=="):2===s&&o.push(i[(n=(t[r-2]<<8)+t[r-1])>>10]+i[n>>4&63]+i[n<<2&63]+"="),o.join("")};var n,i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(n=0;n<64;++n)i[n]=o[n],r[o.charCodeAt(n)]=n;function a(t){var n=t.length;if(n%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return -1===i&&(i=n),[i,i===n?0:4-i%4]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63}}),tR=V({"../../../node_modules/ieee754/index.js"(t){t.read=function(t,n,i,r,s){var o,a,l=8*s-r-1,c=(1<<l)-1,u=c>>1,d=-7,p=i?s-1:0,h=i?-1:1,f=t[n+p];for(p+=h,o=f&(1<<-d)-1,f>>=-d,d+=l;d>0;o=256*o+t[n+p],p+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=256*a+t[n+p],p+=h,d-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(t,n,i,r,s,o){var a,l,c,u=8*o-s-1,d=(1<<u)-1,p=d>>1,h=23===s?5960464477539062e-23:0,f=r?0:o-1,m=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(isNaN(n=Math.abs(n))||n===1/0?(l=isNaN(n)?1:0,a=d):(a=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-a))<1&&(a--,c*=2),(n+=a+p>=1?h/c:h*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=d?(l=0,a=d):a+p>=1?(l=(n*c-1)*Math.pow(2,s),a+=p):(l=n*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;t[i+f]=255&l,f+=m,l/=256,s-=8);for(a=a<<s|l,u+=s;u>0;t[i+f]=255&a,f+=m,a/=256,u-=8);t[i+f-m]|=128*g}}}),tD=V({"../../../node_modules/buffer/index.js"(t){var n=tP(),i=tR(),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,o.prototype),n}function o(t,n,i){if("number"==typeof t){if("string"==typeof n)throw TypeError('The "string" argument must be of type string. Received type number');return c(t)}return a(t,n,i)}function a(t,n,i){if("string"==typeof t)return function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);var i=0|h(t,n),r=s(i),a=r.write(t,n);return a!==i&&(r=r.slice(0,a)),r}(t,n);if(ArrayBuffer.isView(t))return function(t){if(I(t,Uint8Array)){var n=new Uint8Array(t);return d(n.buffer,n.byteOffset,n.byteLength)}return u(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(I(t,ArrayBuffer)||t&&I(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(I(t,SharedArrayBuffer)||t&&I(t.buffer,SharedArrayBuffer)))return d(t,n,i);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return o.from(r,n,i);var a=function(t){if(o.isBuffer(t)){var n,i=0|p(t.length),r=s(i);return 0===r.length||t.copy(r,0,0,i),r}return void 0!==t.length?"number"!=typeof t.length||(n=t.length)!=n?s(0):u(t):"Buffer"===t.type&&Array.isArray(t.data)?u(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),n,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),s(t<0?0:0|p(t))}function u(t){for(var n=t.length<0?0:0|p(t.length),i=s(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){var r;if(n<0||t.byteLength<n)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.prototype),r}function p(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function h(t,n){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||I(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var s=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return E(t).length;default:if(s)return r?-1:k(t).length;n=(""+n).toLowerCase(),s=!0}}function f(t,i,r){var s,o,a=!1;if((void 0===i||i<0)&&(i=0),i>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(i>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var s="",o=n;o<i;++o)s+=T[t[o]];return s}(this,i,r);case"utf8":case"utf-8":return y(this,i,r);case"ascii":return function(t,n,i){var r="";i=Math.min(t.length,i);for(var s=n;s<i;++s)r+=String.fromCharCode(127&t[s]);return r}(this,i,r);case"latin1":case"binary":return function(t,n,i){var r="";i=Math.min(t.length,i);for(var s=n;s<i;++s)r+=String.fromCharCode(t[s]);return r}(this,i,r);case"base64":return s=i,o=r,0===s&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,n,i){for(var r=t.slice(n,i),s="",o=0;o<r.length-1;o+=2)s+=String.fromCharCode(r[o]+256*r[o+1]);return s}(this,i,r);default:if(a)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function m(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function g(t,n,i,r,s){var a;if(0===t.length)return -1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(a=i=+i)!=a&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return -1;i=t.length-1}else if(i<0){if(!s)return -1;i=0}if("string"==typeof n&&(n=o.from(n,r)),o.isBuffer(n))return 0===n.length?-1:x(t,n,i,r,s);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,n,i):Uint8Array.prototype.lastIndexOf.call(t,n,i):x(t,[n],i,r,s);throw TypeError("val must be string, number or Buffer")}function x(t,n,i,r,s){var o,a=1,l=t.length,c=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return -1;a=2,l/=2,c/=2,i/=2}function u(t,n){return 1===a?t[n]:t.readUInt16BE(n*a)}if(s){var d=-1;for(o=i;o<l;o++)if(u(t,o)===u(n,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*a}else -1!==d&&(o-=o-d),d=-1}else for(i+c>l&&(i=l-c),o=i;o>=0;o--){for(var p=!0,h=0;h<c;h++)if(u(t,o+h)!==u(n,h)){p=!1;break}if(p)return o}return -1}function y(t,n,i){i=Math.min(t.length,i);for(var r=[],s=n;s<i;){var o,a,l,c,u=t[s],d=null,p=u>239?4:u>223?3:u>191?2:1;if(s+p<=i)switch(p){case 1:u<128&&(d=u);break;case 2:128==(192&(o=t[s+1]))&&(c=(31&u)<<6|63&o)>127&&(d=c);break;case 3:o=t[s+1],a=t[s+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=t[s+1],a=t[s+2],l=t[s+3],128==(192&o)&&128==(192&a)&&128==(192&l)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&l)>65535&&c<1114112&&(d=c)}null===d?(d=65533,p=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),s+=p}return function(t){var n=t.length;if(n<=v)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=v));return i}(r)}t.Buffer=o,t.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,n,i){return a(t,n,i)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,n,i){return l(t),t<=0?s(t):void 0!==n?"string"==typeof i?s(t).fill(n,i):s(t).fill(n):s(t)},o.allocUnsafe=function(t){return c(t)},o.allocUnsafeSlow=function(t){return c(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,n){if(I(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),I(n,Uint8Array)&&(n=o.from(n,n.offset,n.byteLength)),!o.isBuffer(t)||!o.isBuffer(n))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,s=0,a=Math.min(i,r);s<a;++s)if(t[s]!==n[s]){i=t[s],r=n[s];break}return i<r?-1:r<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,n){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var i,r=o.allocUnsafe(n),s=0;for(i=0;i<t.length;++i){var a=t[i];if(I(a,Uint8Array))s+a.length>r.length?o.from(a).copy(r,s):Uint8Array.prototype.set.call(r,a,s);else{if(!o.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(r,s)}s+=a.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)m(this,n,n+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)m(this,n,n+3),m(this,n+1,n+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)m(this,n,n+7),m(this,n+1,n+6),m(this,n+2,n+5),m(this,n+3,n+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?y(this,0,t):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(t,n,i,r,s){if(I(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),n<0||i>t.length||r<0||s>this.length)throw RangeError("out of range index");if(r>=s&&n>=i)return 0;if(r>=s)return -1;if(n>=i)return 1;if(this===t)return 0;for(var a=(s>>>=0)-(r>>>=0),l=(i>>>=0)-(n>>>=0),c=Math.min(a,l),u=this.slice(r,s),d=t.slice(n,i),p=0;p<c;++p)if(u[p]!==d[p]){a=u[p],l=d[p];break}return a<l?-1:l<a?1:0},o.prototype.includes=function(t,n,i){return -1!==this.indexOf(t,n,i)},o.prototype.indexOf=function(t,n,i){return g(this,t,n,i,!0)},o.prototype.lastIndexOf=function(t,n,i){return g(this,t,n,i,!1)},o.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var s,o,a,l,c,u,d,p,h=this.length-n;if((void 0===i||i>h)&&(i=h),t.length>0&&(i<0||n<0)||n>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var f=!1;;)switch(r){case"hex":return function(t,n,i,r){i=Number(i)||0;var s=t.length-i;r?(r=Number(r))>s&&(r=s):r=s;var o=n.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var l=parseInt(n.substr(2*a,2),16);if(l!=l)break;t[i+a]=l}return a}(this,t,n,i);case"utf8":case"utf-8":return s=n,o=i,M(k(t,this.length-s),this,s,o);case"ascii":case"latin1":case"binary":return a=n,l=i,M(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(t),this,a,l);case"base64":return c=n,u=i,M(E(t),this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=n,p=i,M(function(t,n){for(var i,r,s=[],o=0;o<t.length&&!((n-=2)<0);++o)r=(i=t.charCodeAt(o))>>8,s.push(i%256),s.push(r);return s}(t,this.length-d),this,d,p);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function b(t,n,i){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+n>i)throw RangeError("Trying to access beyond buffer length")}function A(t,n,i,r,s,a){if(!o.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(n>s||n<a)throw RangeError('"value" argument is out of bounds');if(i+r>t.length)throw RangeError("Index out of range")}function w(t,n,i,r,s,o){if(i+r>t.length||i<0)throw RangeError("Index out of range")}function C(t,n,r,s,o){return n=+n,r>>>=0,o||w(t,0,r,4),i.write(t,n,r,s,23,4),r+4}function _(t,n,r,s,o){return n=+n,r>>>=0,o||w(t,0,r,8),i.write(t,n,r,s,52,8),r+8}o.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||b(t,n,this.length);for(var r=this[t],s=1,o=0;++o<n&&(s*=256);)r+=this[t+o]*s;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||b(t,n,this.length);for(var r=this[t+--n],s=1;n>0&&(s*=256);)r+=this[t+--n]*s;return r},o.prototype.readUint8=o.prototype.readUInt8=function(t,n){return t>>>=0,n||b(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,n){return t>>>=0,n||b(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,n){return t>>>=0,n||b(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,n){return t>>>=0,n||b(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,n){return t>>>=0,n||b(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||b(t,n,this.length);for(var r=this[t],s=1,o=0;++o<n&&(s*=256);)r+=this[t+o]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*n)),r},o.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||b(t,n,this.length);for(var r=n,s=1,o=this[t+--r];r>0&&(s*=256);)o+=this[t+--r]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*n)),o},o.prototype.readInt8=function(t,n){return t>>>=0,n||b(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,n){t>>>=0,n||b(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,n){t>>>=0,n||b(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,n){return t>>>=0,n||b(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,n){return t>>>=0,n||b(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,n){return t>>>=0,n||b(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,n){return t>>>=0,n||b(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,n){return t>>>=0,n||b(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,n){return t>>>=0,n||b(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||A(this,t,n,i,Math.pow(2,8*i)-1,0);var s=1,o=0;for(this[n]=255&t;++o<i&&(s*=256);)this[n+o]=t/s&255;return n+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||A(this,t,n,i,Math.pow(2,8*i)-1,0);var s=i-1,o=1;for(this[n+s]=255&t;--s>=0&&(o*=256);)this[n+s]=t/o&255;return n+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,1,255,0),this[n]=255&t,n+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var s=Math.pow(2,8*i-1);A(this,t,n,i,s-1,-s)}var o=0,a=1,l=0;for(this[n]=255&t;++o<i&&(a*=256);)t<0&&0===l&&0!==this[n+o-1]&&(l=1),this[n+o]=(t/a>>0)-l&255;return n+i},o.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var s=Math.pow(2,8*i-1);A(this,t,n,i,s-1,-s)}var o=i-1,a=1,l=0;for(this[n+o]=255&t;--o>=0&&(a*=256);)t<0&&0===l&&0!==this[n+o+1]&&(l=1),this[n+o]=(t/a>>0)-l&255;return n+i},o.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},o.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},o.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||A(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeFloatLE=function(t,n,i){return C(this,t,n,!0,i)},o.prototype.writeFloatBE=function(t,n,i){return C(this,t,n,!1,i)},o.prototype.writeDoubleLE=function(t,n,i){return _(this,t,n,!0,i)},o.prototype.writeDoubleBE=function(t,n,i){return _(this,t,n,!1,i)},o.prototype.copy=function(t,n,i,r){if(!o.isBuffer(t))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var s=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),n),s},o.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){var s,a=t.charCodeAt(0);("utf8"===r&&a<128||"latin1"===r)&&(t=a)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw RangeError("Out of range index");if(i<=n)return this;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=n;s<i;++s)this[s]=t;else{var l=o.isBuffer(t)?t:o.from(t,r),c=l.length;if(0===c)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-n;++s)this[s+n]=l[s%c]}return this};var S=/[^+/0-9A-Za-z-_]/g;function k(t,n){var i;n=n||1/0;for(var r=t.length,s=null,o=[],a=0;a<r;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!s){if(i>56319||a+1===r){(n-=3)>-1&&o.push(239,191,189);continue}s=i;continue}if(i<56320){(n-=3)>-1&&o.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(n-=3)>-1&&o.push(239,191,189);if(s=null,i<128){if((n-=1)<0)break;o.push(i)}else if(i<2048){if((n-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw Error("Invalid code point");if((n-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function E(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function M(t,n,i,r){for(var s=0;s<r&&!(s+i>=n.length||s>=t.length);++s)n[s+i]=t[s];return s}function I(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}var T=function(){for(var t="0123456789abcdef",n=Array(256),i=0;i<16;++i)for(var r=16*i,s=0;s<16;++s)n[r+s]=t[i]+t[s];return n}()}}),tF=V({"../../../node_modules/lodash/toFinite.js"(t,n){var i=em(),r=1/0;n.exports=function(t){return t?(t=i(t))===r||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}}}),tO=V({"../../../node_modules/lodash/toInteger.js"(t,n){var i=tF();n.exports=function(t){var n=i(t),r=n%1;return n==n?r?n-r:n:0}}}),tN=V({"../../../node_modules/lodash/before.js"(t,n){var i=tO();n.exports=function(t,n){var r;if("function"!=typeof n)throw TypeError("Expected a function");return t=i(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=void 0),r}}}}),tU=V({"../../../node_modules/lodash/once.js"(t,n){var i=tN();n.exports=function(t){return i(2,t)}}}),tV=V({"../../../esbuild/polyfill.noop.js"(){}}),tH=V({"../../../_builds/cesdk/wasm32-unknown-emscripten/Release/cesdk.js"(t,n){var i,r=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(i||=__filename),function(t={}){t.ready=new Promise((t,n)=>{r=t,s=n}),t.expectedDataFileDownloads||(t.expectedDataFileDownloads=0),t.expectedDataFileDownloads++,t.ENVIRONMENT_IS_PTHREAD||t.$ww||function(n){"object"==typeof window?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):"undefined"==typeof process&&"undefined"!=typeof location&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var i="cesdk.data";"function"!=typeof t.locateFilePackage||t.locateFile||(t.locateFile=t.locateFilePackage,k("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var r=t.locateFile?t.locateFile(i,""):i,s=n.remote_package_size,o=null,a=t.getPreloadedPackage?t.getPreloadedPackage(r,s):null;function l(){function i(t,n){if(!t)throw n+Error().stack}function r(t,n,i){this.start=t,this.end=n,this.audio=i}t.FS_createPath("/","ly.img.cesdk",!0,!0),t.FS_createPath("/ly.img.cesdk","fonts",!0,!0),t.FS_createPath("/ly.img.cesdk","icons",!0,!0),t.FS_createPath("/ly.img.cesdk","icu",!0,!0),t.FS_createPath("/ly.img.cesdk","presets",!0,!0),t.FS_createPath("/ly.img.cesdk","shaders",!0,!0),t.FS_createPath("/ly.img.cesdk/shaders","common",!0,!0),r.prototype={requests:{},open:function(n,i){this.name=i,this.requests[i]=this,t.addRunDependency(`fp ${this.name}`)},send:function(){},onload:function(){var t=this.byteArray.subarray(this.start,this.end);this.finish(t)},finish:function(n){t.FS_createDataFile(this.name,null,n,!0,!0,!0),t.removeRunDependency(`fp ${this.name}`),this.requests[this.name]=null}};for(var s=n.files,l=0;l<s.length;++l)new r(s[l].start,s[l].end,s[l].audio||0).open("GET",s[l].filename);function c(s){i(s,"Loading data file failed."),i(s.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var o=new Uint8Array(s);r.prototype.byteArray=o;for(var a=n.files,l=0;l<a.length;++l)r.prototype.requests[a[l].filename].onload();t.removeRunDependency("datafile_cesdk.data")}t.addRunDependency("datafile_cesdk.data"),t.preloadResults||(t.preloadResults={}),t.preloadResults["cesdk.data"]={fromCache:!1},a?(c(a),a=null):o=c}a||function(n,i,r,s){if("object"!=typeof process||"object"!=typeof process.versions||"string"!=typeof process.versions.node){var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onprogress=function(r){var s=i;if(r.total&&(s=r.total),r.loaded){o.addedTotal?t.dataFileDownloads[n].loaded=r.loaded:(o.addedTotal=!0,t.dataFileDownloads||(t.dataFileDownloads={}),t.dataFileDownloads[n]={loaded:r.loaded,total:s});var a=0,l=0,c=0;for(var u in t.dataFileDownloads){var d=t.dataFileDownloads[u];a+=d.total,l+=d.loaded,c++}a=Math.ceil(a*t.expectedDataFileDownloads/c),t.setStatus&&t.setStatus(`Downloading data... (${l}/${a})`)}else t.dataFileDownloads||t.setStatus&&t.setStatus("Downloading data...")},o.onerror=function(t){throw Error("NetworkError for: "+n)},o.onload=function(t){if(!(200==o.status||304==o.status||206==o.status||0==o.status&&o.response))throw Error(o.statusText+" : "+o.responseURL);r(o.response)},o.send(null)}else tV().readFile(n,function(t,n){t?s(t):r(n.buffer)})}(r,s,function(t){o?(o(t),o=null):a=t},function(t){console.error("package error:",t)}),t.calledRun?l():(t.preRun||(t.preRun=[]),t.preRun.push(l))}({files:[{filename:"/ly.img.cesdk/fonts/imgly_font_inter_semibold.otf",start:0,end:270760},{filename:"/ly.img.cesdk/icons/ErrorAudio.svg",start:270760,end:271672},{filename:"/ly.img.cesdk/icons/ErrorConnection.svg",start:271672,end:272620},{filename:"/ly.img.cesdk/icons/ErrorVideo.svg",start:272620,end:273473},{filename:"/ly.img.cesdk/icons/Move.svg",start:273473,end:274413},{filename:"/ly.img.cesdk/icons/RotateIndicator.svg",start:274413,end:275394},{filename:"/ly.img.cesdk/icu/icudt74l.dat",start:275394,end:810498},{filename:"/ly.img.cesdk/presets/.keep",start:810498,end:810498},{filename:"/ly.img.cesdk/shaders/adjustments.sksl",start:810498,end:814387},{filename:"/ly.img.cesdk/shaders/black_and_white_color_mixer.sksl",start:814387,end:820704},{filename:"/ly.img.cesdk/shaders/common/ubq_adjustments.sksl",start:820704,end:825295},{filename:"/ly.img.cesdk/shaders/common/ubq_color_conversions.sksl",start:825295,end:835280},{filename:"/ly.img.cesdk/shaders/common/ubq_constants.sksl",start:835280,end:835770},{filename:"/ly.img.cesdk/shaders/common/ubq_hue_constants.sksl",start:835770,end:838937},{filename:"/ly.img.cesdk/shaders/common/ubq_noise.sksl",start:838937,end:841575},{filename:"/ly.img.cesdk/shaders/cross_cut.sksl",start:841575,end:842522},{filename:"/ly.img.cesdk/shaders/dot_pattern.sksl",start:842522,end:843600},{filename:"/ly.img.cesdk/shaders/duotone_filter.sksl",start:843600,end:844564},{filename:"/ly.img.cesdk/shaders/extrude_blur.sksl",start:844564,end:846681},{filename:"/ly.img.cesdk/shaders/glow.sksl",start:846681,end:847648},{filename:"/ly.img.cesdk/shaders/half_tone.sksl",start:847648,end:848142},{filename:"/ly.img.cesdk/shaders/hsp_selective_adjustments.sksl",start:848142,end:861742},{filename:"/ly.img.cesdk/shaders/linocut.sksl",start:861742,end:862527},{filename:"/ly.img.cesdk/shaders/liquid.sksl",start:862527,end:863009},{filename:"/ly.img.cesdk/shaders/lut_filter.sksl",start:863009,end:865872},{filename:"/ly.img.cesdk/shaders/mask_color.sksl",start:865872,end:866377},{filename:"/ly.img.cesdk/shaders/mirror.sksl",start:866377,end:866831},{filename:"/ly.img.cesdk/shaders/outliner.sksl",start:866831,end:868468},{filename:"/ly.img.cesdk/shaders/pixelize.sksl",start:868468,end:868768},{filename:"/ly.img.cesdk/shaders/placeholder_overlay_lines.sksl",start:868768,end:869456},{filename:"/ly.img.cesdk/shaders/posterize.sksl",start:869456,end:869668},{filename:"/ly.img.cesdk/shaders/radial_pixel.sksl",start:869668,end:870231},{filename:"/ly.img.cesdk/shaders/recolor.sksl",start:870231,end:872432},{filename:"/ly.img.cesdk/shaders/sharpie.sksl",start:872432,end:874737},{filename:"/ly.img.cesdk/shaders/shifter.sksl",start:874737,end:875421},{filename:"/ly.img.cesdk/shaders/tiltshift.sksl",start:875421,end:876003},{filename:"/ly.img.cesdk/shaders/tv_glitch.sksl",start:876003,end:876721},{filename:"/ly.img.cesdk/shaders/vignette.sksl",start:876721,end:877093}],remote_package_size:877093}),"object"==typeof window&&"object"==typeof window.performance?t.performance=performance:"object"==typeof global&&"object"==typeof global.perf_hooks&&"object"==typeof global.perf_hooks.performance?t.performance=global.perf_hooks.performance:t.performance={mark:function(){},measure:function(){}},(a=o||(o={}))[a.PENDING=0]="PENDING",a[a.FINISHED=1]="FINISHED",a[a.ALLOCATED=2]="ALLOCATED",a[a.ERROR=3]="ERROR",(c=l||(l={}))[c.GET=0]="GET",c[c.POST=1]="POST";class n{constructor(t,n){this.state=o.PENDING,this.totalBytes=0,this.receivedLength=0,this.handle=t,this.uri=n,this.abortController=new AbortController,this.abortSignal=this.abortController.signal}async readChunks(t){let n=0,i=[],r=t=>{i.push(t),n+=t.length,this.receivedLength=n};if(null==t);else if("getReader"in t){let n=t.getReader();for(;;){let{done:t,value:i}=await n.read();if(t)break;if(this.abortSignal.aborted)throw await n.cancel(),n.releaseLock(),Error(this.abortSignal.reason);r(i)}n.releaseLock()}else{let n=()=>t.destroy(Error(this.abortSignal.reason));this.abortSignal.addEventListener("abort",n,{once:!0});try{await new Promise((n,i)=>{t.on("data",r),t.on("end",()=>n()),t.on("error",t=>i(t))})}finally{this.abortSignal.removeEventListener("abort",n)}}let s=new Uint8Array(n),o=0;for(let t of i)s.set(t,o),o+=t.length;return this.finish(s)}abort(){this.isPending()&&this.abortController.abort("Fetch aborted")}isPending(){return this.state===o.PENDING}isError(){return this.state===o.ERROR}isFinished(){return this.state===o.FINISHED}isAllocated(){return this.state===o.ALLOCATED}allocate(){if(this.isAllocated())return this;if(this.isFinished()){let n=this.result.length,i=t._malloc(n);t.HEAPU8.set(this.result,i);let r=Object.assign(Object.assign({},this),{state:o.ALLOCATED,resultAddress:i,resultLength:n});return Object.assign(this,r),r}return null}finish(t){return Object.assign(this,Object.assign(Object.assign({},this),{state:o.FINISHED,result:t,totalBytes:t.length}))}fail(t){return Object.assign(this,Object.assign(Object.assign({},this),{state:o.ERROR,error:t}))}}t.emscripten_ubq_asyncFetchManager=new class{constructor(){this._nextHandle=0,this._nextHeaderHandle=0,this._processes=new Map,this._headers=new Map,this._fetchImpl=null}_fetch(t,n){return this._fetchImpl?this._fetchImpl(t,n):fetch(t,n)}setFetch(t){this._fetchImpl=t}getProcess(t){return this._processes.get(t)}deleteProcess(t){let n=this._processes.get(t);return(null==n?void 0:n.isPending())&&n.abort(),this._processes.delete(t)}clear(){for(let t of this._processes.values())t.isPending()&&t.abort();this._processes.clear(),this._headers.clear()}fetch(i,r,s,o,a,l,c,u,d){let p=t.UTF8ToString(r,s),h=this._nextHandle++,f=new n(h,p);return this._processes.set(h,f),p.match(/^file:/)?this._fetchFile(f).catch(t=>{f.fail(t)}):this._fetchRemote(f,i,o,a,l,c,u,d).catch(t=>{f.fail(t)}),f}async _fetchFile(t){if("undefined"!=typeof window)throw Error("File URLs supported only in Node.JS");let n=tV(),{fileURLToPath:i}=tV(),r=n.createReadStream(i(t.uri));return t.readChunks(r)}async _fetchRemote(n,i,r,s,o,a,c,u){let d=t.UTF8ToString(c,u),p=this.getHeaders(r,s),h=i===l.POST?new Uint8Array(new Uint8Array(t.HEAPU8.buffer,o,a)):void 0,f=await this._fetch(n.uri,{method:l[i],headers:p,body:h,mode:"cors",credentials:d,signal:n.abortSignal});if(f.status>=200&&f.status<=209){let t=0;return f.headers.has("Content-Length")&&(t=+f.headers.get("Content-Length")),n.totalBytes=t,n.readChunks(f.body)}return n.fail(f.statusText)}getHeaders(n,i){let r={};for(let s=0;s<i;s++){let i=t.getValue(n+4*s,"i32"),o=this._headers.get(i);r[o.key]=o.value}return r}createHeader(n,i,r,s){let o=t.UTF8ToString(n,i),a=t.UTF8ToString(r,s),l=this._nextHeaderHandle++;return this._headers.set(l,{key:o,value:a}),l}deleteHeader(t){return this._headers.delete(t)}},t.emscripten_ubq_codec_videoDecoders=new Map,t.emscripten_ubq_codec_audioDecoders=new Map,t.emscripten_ubq_codec_videoEncoders=new Map,t.emscripten_ubq_codec_audioEncoders=new Map,t.emscripten_ubq_codec_videoDecoderNextHandle=1,t.emscripten_ubq_codec_audioDecoderNextHandle=1,t.emscripten_ubq_codec_videoEncoderNextHandle=1,t.emscripten_ubq_codec_audioEncoderNextHandle=1,t.emscripten_ubq_codec_createNativeResult=function(n){let i=t._malloc(8),r=t.HEAPU32.subarray(i/4,i/4+2);if(r[0]=n.handle?n.handle:n.code?n.code:0,n.error){let i=(new TextEncoder).encode(n.error),s=t._malloc(i.length+1),o=t.HEAPU8.subarray(s,s+i.length+1);for(let t=0;t<i.length;t++)o[t]=i[t];o[i.length]=0,r[1]=s}else r[1]=0;return i},t.emscripten_ubq_codec_createVideoDecoder=function(n,i){let r=new VideoDecoder({output:s=>{let o=r.textures,a=!1;if((r.shouldDropFrames||r.decodedFrames<r.requestedFrame||r.decodeQueueSize>=o.length)&&(a=!0),!a){var l=t.ctx;let n=r.decodedFrames%o.length,i=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,o[n]),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,s),l.bindTexture(l.TEXTURE_2D,i)}s.close(),r.decodedFrames++,t.emscripten_ubq_codec_onOutputDecodedVideoFrame(n,r.decodedFrames,a,i)},error:t=>{r.unexpectedError=t,console.error(t)}});return r.decodedFrames=0,r.requestedFrame=0,r.shouldDropFrames=!1,r},t.emscripten_ubq_codec_createAudioDecoder=function(n,i,r){let s=new AudioDecoder({output:o=>{if(s.flushing)return void o.close();let a=t.HEAPF32.subarray(n/4,n/4+r),l=t.HEAPF32.subarray(i/4,i/4+r),c=1===o.numberOfChannels?0:1;if("f32-planar"===o.format){let t=s.writtenFrames%r;if(t+o.numberOfFrames<=r)o.copyTo(a.subarray(t),{planeIndex:0,frameCount:o.numberOfFrames}),o.copyTo(l.subarray(t),{planeIndex:c,frameCount:o.numberOfFrames});else{let n=r-t;o.copyTo(a.subarray(t),{planeIndex:0,frameCount:n}),o.copyTo(l.subarray(t),{planeIndex:c,frameCount:n}),o.copyTo(a,{planeIndex:0,frameOffset:n}),o.copyTo(l,{planeIndex:c,frameOffset:n})}s.writtenFrames+=o.numberOfFrames}else if("s16-planar"===o.format){if(1===o.numberOfChannels){let t=new Int16Array(o.numberOfFrames);o.copyTo(t,{planeIndex:0});for(let n=0;n<o.numberOfFrames;n++){let i=t[n]/32768,o=s.writtenFrames%r;a[o]=i,l[o]=i,s.writtenFrames++}}else{let t=new Int16Array(o.numberOfFrames),n=new Int16Array(o.numberOfFrames);o.copyTo(t,{planeIndex:0}),o.copyTo(n,{planeIndex:1});for(let i=0;i<o.numberOfFrames;i++){let o=s.writtenFrames%r;a[o]=t[i]/32768,l[o]=n[i]/32768,s.writtenFrames++}}}else if("s16"===o.format){let t=new Int16Array(o.numberOfFrames*o.numberOfChannels);if(o.copyTo(t,{planeIndex:0}),1===o.numberOfChannels)for(let n=0;n<o.numberOfFrames;n++){let i=t[n]/32768,o=s.writtenFrames%r;a[o]=i,l[o]=i,s.writtenFrames++}else for(let n=0;n<o.numberOfFrames;n++){let i=s.writtenFrames%r;a[i]=t[n*o.numberOfChannels+0]/32768,l[i]=t[n*o.numberOfChannels+1]/32768,s.writtenFrames++}}else console.error("Unsupported audio format:",o.format);o.close()},error:t=>{s.unexpectedError=t,console.error(t)}});return s.writtenFrames=0,s},t.emscripten_ubq_settings_forceWebGL1=!1;var r,s,o,a,l,c,u,d,p,h=Object.assign({},t),f=[],m="./this.program",g=(t,n)=>{throw n},x="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";if(v){var A=tV(),w=tV();b=y?w.dirname(b)+"/":__dirname+"/",u=(t,n)=>(t=ee(t)?new URL(t):w.normalize(t),A.readFileSync(t,n?void 0:"utf8")),p=t=>{var n=u(t,!0);return n.buffer||(n=new Uint8Array(n)),n},d=(t,n,i,r=!0)=>{t=ee(t)?new URL(t):w.normalize(t),A.readFile(t,r?void 0:"utf8",(t,s)=>{t?i(t):n(r?s.buffer:s)})},!t.thisProgram&&process.argv.length>1&&(m=process.argv[1].replace(/\\/g,"/")),f=process.argv.slice(2),g=(t,n)=>{throw process.exitCode=t,n}}else(x||y)&&(y?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),i&&(b=i),b=b.startsWith("blob:")?"":b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),u=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},y&&(p=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),d=(t,n,i)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?n(r.response):i()},r.onerror=i,r.send(null)});var C,_,S=t.print||console.log.bind(console),k=t.printErr||console.error.bind(console);Object.assign(t,h),h=null,t.arguments&&(f=t.arguments),t.thisProgram&&(m=t.thisProgram),t.quit&&(g=t.quit),t.wasmBinary&&(C=t.wasmBinary),"object"!=typeof WebAssembly&&Y("no native wasm support detected");var E,M,I,T,B,L,j,P,R,D,F,O=!1;function N(){var n=_.buffer;t.HEAP8=M=new Int8Array(n),t.HEAP16=T=new Int16Array(n),t.HEAPU8=I=new Uint8Array(n),t.HEAPU16=B=new Uint16Array(n),t.HEAP32=L=new Int32Array(n),t.HEAPU32=j=new Uint32Array(n),t.HEAPF32=P=new Float32Array(n),t.HEAPF64=F=new Float64Array(n),t.HEAP64=R=new BigInt64Array(n),t.HEAPU64=D=new BigUint64Array(n)}var U=t.INITIAL_MEMORY||16777216;_=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:U/65536,maximum:32768}),N(),U=_.buffer.byteLength;var V=[],H=[],Q=[],z=[],G=0,q=null,W=null;function $(n){G++,t.monitorRunDependencies?.(G)}function Z(n){if(G--,t.monitorRunDependencies?.(G),0==G&&(null!==q&&(clearInterval(q),q=null),W)){var i=W;W=null,i()}}function Y(n){t.onAbort?.(n),k(n="Aborted("+n+")"),O=!0,E=1,n+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(n);throw s(i),i}var K,X,J=t=>t.startsWith("data:application/octet-stream;base64,"),ee=t=>t.startsWith("file://");function et(t){if(t==K&&C)return new Uint8Array(C);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}function en(t,n,i){return(!C&&(x||y)&&"function"==typeof fetch?fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw`failed to load wasm binary file at '${t}'`;return n.arrayBuffer()}).catch(()=>et(t)):Promise.resolve().then(()=>et(t))).then(t=>WebAssembly.instantiate(t,n)).then(t=>t).then(i,t=>{k(`failed to asynchronously prepare wasm: ${t}`),Y(t)})}J(K="cesdk.wasm")||(X=K,K=t.locateFile?t.locateFile(X,b):b+X);var ei={2519364:(t,n,i,r,s)=>"undefined"==typeof window||void 0===(window.AudioContext||window.webkitAudioContext)?0:(void 0===window.miniaudio&&(window.miniaudio={referenceCount:0},window.miniaudio.device_type={},window.miniaudio.device_type.playback=t,window.miniaudio.device_type.capture=n,window.miniaudio.device_type.duplex=i,window.miniaudio.device_state={},window.miniaudio.device_state.stopped=r,window.miniaudio.device_state.started=s,miniaudio.devices=[],miniaudio.track_device=function(t){for(var n=0;n<miniaudio.devices.length;++n)if(null==miniaudio.devices[n])return miniaudio.devices[n]=t,n;return miniaudio.devices.push(t),miniaudio.devices.length-1},miniaudio.untrack_device_by_index=function(t){for(miniaudio.devices[t]=null;miniaudio.devices.length>0&&null==miniaudio.devices[miniaudio.devices.length-1];)miniaudio.devices.pop()},miniaudio.untrack_device=function(t){for(var n=0;n<miniaudio.devices.length;++n)if(miniaudio.devices[n]==t)return miniaudio.untrack_device_by_index(n)},miniaudio.get_device_by_index=function(t){return miniaudio.devices[t]},miniaudio.unlock_event_types=["touchstart","touchend","click"],miniaudio.unlock=function(){for(var t=0;t<miniaudio.devices.length;++t){var n=miniaudio.devices[t];null!=n&&null!=n.webaudio&&2===n.state&&n.webaudio.resume()}miniaudio.unlock_event_types.map(function(t){document.removeEventListener(t,miniaudio.unlock,!0)})},miniaudio.unlock_event_types.map(function(t){document.addEventListener(t,miniaudio.unlock,!0)})),window.miniaudio.referenceCount+=1,1),2521354:()=>{void 0!==window.miniaudio&&(window.miniaudio.referenceCount-=1,0===window.miniaudio.referenceCount&&delete window.miniaudio)},2521518:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,2521622:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),n=t.sampleRate;return t.close(),n}catch(t){return 0}},2521793:(n,i,r,s,o,a)=>{if(void 0===window.miniaudio)return -1;var l={},c={};n==window.miniaudio.device_type.playback&&(c.sampleRate=r),l.webaudio=new(window.AudioContext||window.webkitAudioContext)(c),l.webaudio.suspend(),l.state=window.miniaudio.device_state.stopped;var u=0;return n!=window.miniaudio.device_type.playback&&(u=i),l.scriptNode=l.webaudio.createScriptProcessor(s,u,i),l.scriptNode.onaudioprocess=function(r){if(null!=l.intermediaryBufferView&&0!=l.intermediaryBufferView.length||(l.intermediaryBufferView=new Float32Array(t.HEAPF32.buffer,o,s*i)),n==miniaudio.device_type.capture||n==miniaudio.device_type.duplex){for(var c=0;c<i;c+=1)for(var u=r.inputBuffer.getChannelData(c),d=l.intermediaryBufferView,p=0;p<s;p+=1)d[p*i+c]=u[p];nY(a,s,o)}if(n==miniaudio.device_type.playback||n==miniaudio.device_type.duplex)for(nK(a,s,o),c=0;c<r.outputBuffer.numberOfChannels;++c){var h=r.outputBuffer.getChannelData(c);for(d=l.intermediaryBufferView,p=0;p<s;p+=1)h[p]=d[p*i+c]}else for(c=0;c<r.outputBuffer.numberOfChannels;++c)r.outputBuffer.getChannelData(c).fill(0)},n!=miniaudio.device_type.capture&&n!=miniaudio.device_type.duplex||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){l.streamNode=l.webaudio.createMediaStreamSource(t),l.streamNode.connect(l.scriptNode),l.scriptNode.connect(l.webaudio.destination)}).catch(function(t){console.log("Failed to get user media: "+t)}),n==miniaudio.device_type.playback&&l.scriptNode.connect(l.webaudio.destination),miniaudio.track_device(l)},2524576:t=>miniaudio.get_device_by_index(t).webaudio.sampleRate,2524642:t=>{var n=miniaudio.get_device_by_index(t);void 0!==n.scriptNode&&(n.scriptNode.onaudioprocess=function(t){},n.scriptNode.disconnect(),n.scriptNode=void 0),void 0!==n.streamNode&&(n.streamNode.disconnect(),n.streamNode=void 0),n.webaudio.close(),n.webaudio=void 0},2525007:t=>{miniaudio.untrack_device_by_index(t)},2525050:t=>{var n=miniaudio.get_device_by_index(t);n.webaudio.resume(),n.state=miniaudio.device_state.started},2525175:t=>{var n=miniaudio.get_device_by_index(t);n.webaudio.suspend(),n.state=miniaudio.device_state.stopped},2525301:()=>!!globalThis.ubq_browserTabHidden,2525347:()=>M.length};function er(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var es=n=>{for(;n.length>0;)n.shift()(t)},eo=t.noExitRuntime||!0,ea=[],el=0;class ec{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){j[this.ptr+4>>2]=t}get_type(){return j[this.ptr+4>>2]}set_destructor(t){j[this.ptr+8>>2]=t}get_destructor(){return j[this.ptr+8>>2]}set_caught(t){t=t?1:0,M[this.ptr+12>>0]=t}get_caught(){return 0!=M[this.ptr+12>>0]}set_rethrown(t){t=t?1:0,M[this.ptr+13>>0]=t}get_rethrown(){return 0!=M[this.ptr+13>>0]}init(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)}set_adjusted_ptr(t){j[this.ptr+16>>2]=t}get_adjusted_ptr(){return j[this.ptr+16>>2]}get_exception_ptr(){if(n7(this.get_type()))return j[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var eu=t=>{var n=el;if(!n)return nX(0),0;var i=new ec(n);i.set_adjusted_ptr(n);var r=i.get_type();if(!r)return nX(0),n;for(var s in t){var o=t[s];if(0===o||o===r)break;var a=i.ptr+16;if(n8(o,r,a))return nX(o),n}return nX(r),n},ed={isAbs:t=>"/"===t.charAt(0),splitPath:t=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1),normalizeArray:(t,n)=>{for(var i=0,r=t.length-1;r>=0;r--){var s=t[r];"."===s?t.splice(r,1):".."===s?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(n)for(;i;i--)t.unshift("..");return t},normalize:t=>{var n=ed.isAbs(t),i="/"===t.substr(-1);return(t=ed.normalizeArray(t.split("/").filter(t=>!!t),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},dirname:t=>{var n=ed.splitPath(t),i=n[0],r=n[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:t=>{if("/"===t)return"/";var n=(t=(t=ed.normalize(t)).replace(/\/$/,"")).lastIndexOf("/");return -1===n?t:t.substr(n+1)},join:function(){var t=Array.prototype.slice.call(arguments);return ed.normalize(t.join("/"))},join2:(t,n)=>ed.normalize(t+"/"+n)},ep=t=>(ep=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);if(v)try{var t=tV();if(t.randomFillSync)return n=>t.randomFillSync(n);var n=t.randomBytes;return t=>(t.set(n(t.byteLength)),t)}catch(t){}Y("initRandomDevice")})())(t),eh={resolve:function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var r=i>=0?arguments[i]:eS.cwd();if("string"!=typeof r)throw TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,n=ed.isAbs(r)}return(n?"/":"")+(t=ed.normalizeArray(t.split("/").filter(t=>!!t),!n).join("/"))||"."},relative:(t,n)=>{function i(t){for(var n=0;n<t.length&&""===t[n];n++);for(var i=t.length-1;i>=0&&""===t[i];i--);return n>i?[]:t.slice(n,i-n+1)}t=eh.resolve(t).substr(1),n=eh.resolve(n).substr(1);for(var r=i(t.split("/")),s=i(n.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")}},ef="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,em=(t,n,i)=>{for(var r=n+i,s=n;t[s]&&!(s>=r);)++s;if(s-n>16&&t.buffer&&ef)return ef.decode(t.subarray(n,s));for(var o="";n<s;){var a=t[n++];if(128&a){var l=63&t[n++];if(192!=(224&a)){var c=63&t[n++];if((a=224==(240&a)?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&t[n++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|l)}else o+=String.fromCharCode(a)}return o},eg=[],ex=t=>{for(var n=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);r<=127?n++:r<=2047?n+=2:r>=55296&&r<=57343?(n+=4,++i):n+=3}return n},ey=(t,n,i,r)=>{if(!(r>0))return 0;for(var s=i,o=i+r-1,a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++a)),l<=127){if(i>=o)break;n[i++]=l}else if(l<=2047){if(i+1>=o)break;n[i++]=192|l>>6,n[i++]=128|63&l}else if(l<=65535){if(i+2>=o)break;n[i++]=224|l>>12,n[i++]=128|l>>6&63,n[i++]=128|63&l}else{if(i+3>=o)break;n[i++]=240|l>>18,n[i++]=128|l>>12&63,n[i++]=128|l>>6&63,n[i++]=128|63&l}}return n[i]=0,i-s};function ev(t,n,i){var r=Array(i>0?i:ex(t)+1),s=ey(t,r,0,r.length);return n&&(r.length=s),r}var eb={ttys:[],init(){},shutdown(){},register(t,n){eb.ttys[t]={input:[],output:[],ops:n},eS.registerDevice(t,eb.stream_ops)},stream_ops:{open(t){var n=eb.ttys[t.node.rdev];if(!n)throw new eS.ErrnoError(43);t.tty=n,t.seekable=!1},close(t){t.tty.ops.fsync(t.tty)},fsync(t){t.tty.ops.fsync(t.tty)},read(t,n,i,r,s){if(!t.tty||!t.tty.ops.get_char)throw new eS.ErrnoError(60);for(var o,a=0,l=0;l<r;l++){try{o=t.tty.ops.get_char(t.tty)}catch(t){throw new eS.ErrnoError(29)}if(void 0===o&&0===a)throw new eS.ErrnoError(6);if(null==o)break;a++,n[i+l]=o}return a&&(t.node.timestamp=Date.now()),a},write(t,n,i,r,s){if(!t.tty||!t.tty.ops.put_char)throw new eS.ErrnoError(60);try{for(var o=0;o<r;o++)t.tty.ops.put_char(t.tty,n[i+o])}catch(t){throw new eS.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:t=>(()=>{if(!eg.length){var t=null;if(v){var n=Buffer.alloc(256),i=0,r=process.stdin.fd;try{i=A.readSync(r,n)}catch(t){if(!t.toString().includes("EOF"))throw t;i=0}t=i>0?n.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;eg=ev(t,!0)}return eg.shift()})(),put_char(t,n){null===n||10===n?(S(em(t.output,0)),t.output=[]):0!=n&&t.output.push(n)},fsync(t){t.output&&t.output.length>0&&(S(em(t.output,0)),t.output=[])},ioctl_tcgets:t=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(t,n,i)=>0,ioctl_tiocgwinsz:t=>[24,80]},default_tty1_ops:{put_char(t,n){null===n||10===n?(k(em(t.output,0)),t.output=[]):0!=n&&t.output.push(n)},fsync(t){t.output&&t.output.length>0&&(k(em(t.output,0)),t.output=[])}}},eA=t=>{let n;var i=n0(65536,t=65536*Math.ceil(t/65536));return i?(n=t,I.fill(0,i,i+n),i):0},ew={ops_table:null,mount:t=>ew.createNode(null,"/",16895,0),createNode(t,n,i,r){if(eS.isBlkdev(i)||eS.isFIFO(i))throw new eS.ErrnoError(63);ew.ops_table||={dir:{node:{getattr:ew.node_ops.getattr,setattr:ew.node_ops.setattr,lookup:ew.node_ops.lookup,mknod:ew.node_ops.mknod,rename:ew.node_ops.rename,unlink:ew.node_ops.unlink,rmdir:ew.node_ops.rmdir,readdir:ew.node_ops.readdir,symlink:ew.node_ops.symlink},stream:{llseek:ew.stream_ops.llseek}},file:{node:{getattr:ew.node_ops.getattr,setattr:ew.node_ops.setattr},stream:{llseek:ew.stream_ops.llseek,read:ew.stream_ops.read,write:ew.stream_ops.write,allocate:ew.stream_ops.allocate,mmap:ew.stream_ops.mmap,msync:ew.stream_ops.msync}},link:{node:{getattr:ew.node_ops.getattr,setattr:ew.node_ops.setattr,readlink:ew.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ew.node_ops.getattr,setattr:ew.node_ops.setattr},stream:eS.chrdev_stream_ops}};var s=eS.createNode(t,n,i,r);return eS.isDir(s.mode)?(s.node_ops=ew.ops_table.dir.node,s.stream_ops=ew.ops_table.dir.stream,s.contents={}):eS.isFile(s.mode)?(s.node_ops=ew.ops_table.file.node,s.stream_ops=ew.ops_table.file.stream,s.usedBytes=0,s.contents=null):eS.isLink(s.mode)?(s.node_ops=ew.ops_table.link.node,s.stream_ops=ew.ops_table.link.stream):eS.isChrdev(s.mode)&&(s.node_ops=ew.ops_table.chrdev.node,s.stream_ops=ew.ops_table.chrdev.stream),s.timestamp=Date.now(),t&&(t.contents[n]=s,t.timestamp=s.timestamp),s},getFileDataAsTypedArray:t=>t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0),expandFileStorage(t,n){var i=t.contents?t.contents.length:0;if(!(i>=n)){n=Math.max(n,i*(i<1048576?2:1.125)>>>0),0!=i&&(n=Math.max(n,256));var r=t.contents;t.contents=new Uint8Array(n),t.usedBytes>0&&t.contents.set(r.subarray(0,t.usedBytes),0)}},resizeFileStorage(t,n){if(t.usedBytes!=n){if(0==n)t.contents=null,t.usedBytes=0;else{var i=t.contents;t.contents=new Uint8Array(n),i&&t.contents.set(i.subarray(0,Math.min(n,t.usedBytes))),t.usedBytes=n}}},node_ops:{getattr(t){var n={};return n.dev=eS.isChrdev(t.mode)?t.id:1,n.ino=t.id,n.mode=t.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=t.rdev,eS.isDir(t.mode)?n.size=4096:eS.isFile(t.mode)?n.size=t.usedBytes:eS.isLink(t.mode)?n.size=t.link.length:n.size=0,n.atime=new Date(t.timestamp),n.mtime=new Date(t.timestamp),n.ctime=new Date(t.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr(t,n){void 0!==n.mode&&(t.mode=n.mode),void 0!==n.timestamp&&(t.timestamp=n.timestamp),void 0!==n.size&&ew.resizeFileStorage(t,n.size)},lookup(t,n){throw eS.genericErrors[44]},mknod:(t,n,i,r)=>ew.createNode(t,n,i,r),rename(t,n,i){if(eS.isDir(t.mode)){var r;try{r=eS.lookupNode(n,i)}catch(t){}if(r)for(var s in r.contents)throw new eS.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=i,n.contents[i]=t,n.timestamp=t.parent.timestamp,t.parent=n},unlink(t,n){delete t.contents[n],t.timestamp=Date.now()},rmdir(t,n){var i=eS.lookupNode(t,n);for(var r in i.contents)throw new eS.ErrnoError(55);delete t.contents[n],t.timestamp=Date.now()},readdir(t){var n=[".",".."];for(var i of Object.keys(t.contents))n.push(i);return n},symlink(t,n,i){var r=ew.createNode(t,n,41471,0);return r.link=i,r},readlink(t){if(!eS.isLink(t.mode))throw new eS.ErrnoError(28);return t.link}},stream_ops:{read(t,n,i,r,s){var o=t.node.contents;if(s>=t.node.usedBytes)return 0;var a=Math.min(t.node.usedBytes-s,r);if(a>8&&o.subarray)n.set(o.subarray(s,s+a),i);else for(var l=0;l<a;l++)n[i+l]=o[s+l];return a},write(t,n,i,r,s,o){if(n.buffer===M.buffer&&(o=!1),!r)return 0;var a=t.node;if(a.timestamp=Date.now(),n.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=n.subarray(i,i+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===s)return a.contents=n.slice(i,i+r),a.usedBytes=r,r;if(s+r<=a.usedBytes)return a.contents.set(n.subarray(i,i+r),s),r}if(ew.expandFileStorage(a,s+r),a.contents.subarray&&n.subarray)a.contents.set(n.subarray(i,i+r),s);else for(var l=0;l<r;l++)a.contents[s+l]=n[i+l];return a.usedBytes=Math.max(a.usedBytes,s+r),r},llseek(t,n,i){var r=n;if(1===i?r+=t.position:2===i&&eS.isFile(t.node.mode)&&(r+=t.node.usedBytes),r<0)throw new eS.ErrnoError(28);return r},allocate(t,n,i){ew.expandFileStorage(t.node,n+i),t.node.usedBytes=Math.max(t.node.usedBytes,n+i)},mmap(t,n,i,r,s){if(!eS.isFile(t.node.mode))throw new eS.ErrnoError(43);var o,a,l=t.node.contents;if(2&s||l.buffer!==M.buffer){if((i>0||i+n<l.length)&&(l=l.subarray?l.subarray(i,i+n):Array.prototype.slice.call(l,i,i+n)),a=!0,!(o=eA(n)))throw new eS.ErrnoError(48);M.set(l,o)}else a=!1,o=l.byteOffset;return{ptr:o,allocated:a}},msync:(t,n,i,r,s)=>(ew.stream_ops.write(t,n,0,r,i,!1),0)}},eC=t.preloadPlugins||[],e_=(t,n)=>{var i=0;return t&&(i|=365),n&&(i|=146),i},eS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(t){this.name="ErrnoError",this.errno=t}},genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(t,n={}){if(!(t=eh.resolve(t)))return{path:"",node:null};if((n=Object.assign({follow_mount:!0,recurse_count:0},n)).recurse_count>8)throw new eS.ErrnoError(32);for(var i=t.split("/").filter(t=>!!t),r=eS.root,s="/",o=0;o<i.length;o++){var a=o===i.length-1;if(a&&n.parent)break;if(r=eS.lookupNode(r,i[o]),s=ed.join2(s,i[o]),eS.isMountpoint(r)&&(!a||a&&n.follow_mount)&&(r=r.mounted.root),!a||n.follow)for(var l=0;eS.isLink(r.mode);){var c=eS.readlink(s);if(s=eh.resolve(ed.dirname(s),c),r=eS.lookupPath(s,{recurse_count:n.recurse_count+1}).node,l++>40)throw new eS.ErrnoError(32)}}return{path:s,node:r}},getPath(t){for(var n;;){if(eS.isRoot(t)){var i=t.mount.mountpoint;return n?"/"!==i[i.length-1]?`${i}/${n}`:i+n:i}n=n?`${t.name}/${n}`:t.name,t=t.parent}},hashName(t,n){for(var i=0,r=0;r<n.length;r++)i=(i<<5)-i+n.charCodeAt(r)|0;return(t+i>>>0)%eS.nameTable.length},hashAddNode(t){var n=eS.hashName(t.parent.id,t.name);t.name_next=eS.nameTable[n],eS.nameTable[n]=t},hashRemoveNode(t){var n=eS.hashName(t.parent.id,t.name);if(eS.nameTable[n]===t)eS.nameTable[n]=t.name_next;else for(var i=eS.nameTable[n];i;){if(i.name_next===t){i.name_next=t.name_next;break}i=i.name_next}},lookupNode(t,n){var i=eS.mayLookup(t);if(i)throw new eS.ErrnoError(i);for(var r=eS.hashName(t.id,n),s=eS.nameTable[r];s;s=s.name_next){var o=s.name;if(s.parent.id===t.id&&o===n)return s}return eS.lookup(t,n)},createNode(t,n,i,r){var s=new eS.FSNode(t,n,i,r);return eS.hashAddNode(s),s},destroyNode(t){eS.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>32768==(61440&t),isDir:t=>16384==(61440&t),isLink:t=>40960==(61440&t),isChrdev:t=>8192==(61440&t),isBlkdev:t=>24576==(61440&t),isFIFO:t=>4096==(61440&t),isSocket:t=>49152==(49152&t),flagsToPermissionString(t){var n=["r","w","rw"][3&t];return 512&t&&(n+="w"),n},nodePermissions:(t,n)=>eS.ignorePermissions||(!n.includes("r")||292&t.mode)&&(!n.includes("w")||146&t.mode)&&(!n.includes("x")||73&t.mode)?0:2,mayLookup:t=>eS.isDir(t.mode)?eS.nodePermissions(t,"x")||(t.node_ops.lookup?0:2):54,mayCreate(t,n){try{return eS.lookupNode(t,n),20}catch(t){}return eS.nodePermissions(t,"wx")},mayDelete(t,n,i){try{r=eS.lookupNode(t,n)}catch(t){return t.errno}var r,s=eS.nodePermissions(t,"wx");if(s)return s;if(i){if(!eS.isDir(r.mode))return 54;if(eS.isRoot(r)||eS.getPath(r)===eS.cwd())return 10}else if(eS.isDir(r.mode))return 31;return 0},mayOpen:(t,n)=>t?eS.isLink(t.mode)?32:eS.isDir(t.mode)&&("r"!==eS.flagsToPermissionString(n)||512&n)?31:eS.nodePermissions(t,eS.flagsToPermissionString(n)):44,MAX_OPEN_FDS:4096,nextfd(){for(var t=0;t<=eS.MAX_OPEN_FDS;t++)if(!eS.streams[t])return t;throw new eS.ErrnoError(33)},getStreamChecked(t){var n=eS.getStream(t);if(!n)throw new eS.ErrnoError(8);return n},getStream:t=>eS.streams[t],createStream:(t,n=-1)=>(eS.FSStream||(eS.FSStream=function(){this.shared={}},eS.FSStream.prototype={},Object.defineProperties(eS.FSStream.prototype,{object:{get(){return this.node},set(t){this.node=t}},isRead:{get(){return 1!=(2097155&this.flags)}},isWrite:{get(){return 0!=(2097155&this.flags)}},isAppend:{get(){return 1024&this.flags}},flags:{get(){return this.shared.flags},set(t){this.shared.flags=t}},position:{get(){return this.shared.position},set(t){this.shared.position=t}}})),t=Object.assign(new eS.FSStream,t),-1==n&&(n=eS.nextfd()),t.fd=n,eS.streams[n]=t,t),closeStream(t){eS.streams[t]=null},chrdev_stream_ops:{open(t){var n=eS.getDevice(t.node.rdev);t.stream_ops=n.stream_ops,t.stream_ops.open?.(t)},llseek(){throw new eS.ErrnoError(70)}},major:t=>t>>8,minor:t=>255&t,makedev:(t,n)=>t<<8|n,registerDevice(t,n){eS.devices[t]={stream_ops:n}},getDevice:t=>eS.devices[t],getMounts(t){for(var n=[],i=[t];i.length;){var r=i.pop();n.push(r),i.push.apply(i,r.mounts)}return n},syncfs(t,n){"function"==typeof t&&(n=t,t=!1),eS.syncFSRequests++,eS.syncFSRequests>1&&k(`warning: ${eS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var i=eS.getMounts(eS.root.mount),r=0;function s(t){return eS.syncFSRequests--,n(t)}function o(t){if(t)return o.errored?void 0:(o.errored=!0,s(t));++r>=i.length&&s(null)}i.forEach(n=>{if(!n.type.syncfs)return o(null);n.type.syncfs(n,t,o)})},mount(t,n,i){var r,s="/"===i,o=!i;if(s&&eS.root)throw new eS.ErrnoError(10);if(!s&&!o){var a=eS.lookupPath(i,{follow_mount:!1});if(i=a.path,r=a.node,eS.isMountpoint(r))throw new eS.ErrnoError(10);if(!eS.isDir(r.mode))throw new eS.ErrnoError(54)}var l={type:t,opts:n,mountpoint:i,mounts:[]},c=t.mount(l);return c.mount=l,l.root=c,s?eS.root=c:r&&(r.mounted=l,r.mount&&r.mount.mounts.push(l)),c},unmount(t){var n=eS.lookupPath(t,{follow_mount:!1});if(!eS.isMountpoint(n.node))throw new eS.ErrnoError(28);var i=n.node,r=i.mounted,s=eS.getMounts(r);Object.keys(eS.nameTable).forEach(t=>{for(var n=eS.nameTable[t];n;){var i=n.name_next;s.includes(n.mount)&&eS.destroyNode(n),n=i}}),i.mounted=null;var o=i.mount.mounts.indexOf(r);i.mount.mounts.splice(o,1)},lookup:(t,n)=>t.node_ops.lookup(t,n),mknod(t,n,i){var r=eS.lookupPath(t,{parent:!0}).node,s=ed.basename(t);if(!s||"."===s||".."===s)throw new eS.ErrnoError(28);var o=eS.mayCreate(r,s);if(o)throw new eS.ErrnoError(o);if(!r.node_ops.mknod)throw new eS.ErrnoError(63);return r.node_ops.mknod(r,s,n,i)},create:(t,n)=>(n=(void 0!==n?n:438)&4095|32768,eS.mknod(t,n,0)),mkdir:(t,n)=>(n=(void 0!==n?n:511)&1023|16384,eS.mknod(t,n,0)),mkdirTree(t,n){for(var i=t.split("/"),r="",s=0;s<i.length;++s)if(i[s]){r+="/"+i[s];try{eS.mkdir(r,n)}catch(t){if(20!=t.errno)throw t}}},mkdev:(t,n,i)=>(void 0===i&&(i=n,n=438),n|=8192,eS.mknod(t,n,i)),symlink(t,n){if(!eh.resolve(t))throw new eS.ErrnoError(44);var i=eS.lookupPath(n,{parent:!0}).node;if(!i)throw new eS.ErrnoError(44);var r=ed.basename(n),s=eS.mayCreate(i,r);if(s)throw new eS.ErrnoError(s);if(!i.node_ops.symlink)throw new eS.ErrnoError(63);return i.node_ops.symlink(i,r,t)},rename(t,n){var i,r,s=ed.dirname(t),o=ed.dirname(n),a=ed.basename(t),l=ed.basename(n);if(i=eS.lookupPath(t,{parent:!0}).node,r=eS.lookupPath(n,{parent:!0}).node,!i||!r)throw new eS.ErrnoError(44);if(i.mount!==r.mount)throw new eS.ErrnoError(75);var c,u=eS.lookupNode(i,a),d=eh.relative(t,o);if("."!==d.charAt(0))throw new eS.ErrnoError(28);if("."!==(d=eh.relative(n,s)).charAt(0))throw new eS.ErrnoError(55);try{c=eS.lookupNode(r,l)}catch(t){}if(u!==c){var p=eS.isDir(u.mode),h=eS.mayDelete(i,a,p);if(h||(h=c?eS.mayDelete(r,l,p):eS.mayCreate(r,l)))throw new eS.ErrnoError(h);if(!i.node_ops.rename)throw new eS.ErrnoError(63);if(eS.isMountpoint(u)||c&&eS.isMountpoint(c))throw new eS.ErrnoError(10);if(r!==i&&(h=eS.nodePermissions(i,"w")))throw new eS.ErrnoError(h);eS.hashRemoveNode(u);try{i.node_ops.rename(u,r,l)}catch(t){throw t}finally{eS.hashAddNode(u)}}},rmdir(t){var n=eS.lookupPath(t,{parent:!0}).node,i=ed.basename(t),r=eS.lookupNode(n,i),s=eS.mayDelete(n,i,!0);if(s)throw new eS.ErrnoError(s);if(!n.node_ops.rmdir)throw new eS.ErrnoError(63);if(eS.isMountpoint(r))throw new eS.ErrnoError(10);n.node_ops.rmdir(n,i),eS.destroyNode(r)},readdir(t){var n=eS.lookupPath(t,{follow:!0}).node;if(!n.node_ops.readdir)throw new eS.ErrnoError(54);return n.node_ops.readdir(n)},unlink(t){var n=eS.lookupPath(t,{parent:!0}).node;if(!n)throw new eS.ErrnoError(44);var i=ed.basename(t),r=eS.lookupNode(n,i),s=eS.mayDelete(n,i,!1);if(s)throw new eS.ErrnoError(s);if(!n.node_ops.unlink)throw new eS.ErrnoError(63);if(eS.isMountpoint(r))throw new eS.ErrnoError(10);n.node_ops.unlink(n,i),eS.destroyNode(r)},readlink(t){var n=eS.lookupPath(t).node;if(!n)throw new eS.ErrnoError(44);if(!n.node_ops.readlink)throw new eS.ErrnoError(28);return eh.resolve(eS.getPath(n.parent),n.node_ops.readlink(n))},stat(t,n){var i=eS.lookupPath(t,{follow:!n}).node;if(!i)throw new eS.ErrnoError(44);if(!i.node_ops.getattr)throw new eS.ErrnoError(63);return i.node_ops.getattr(i)},lstat:t=>eS.stat(t,!0),chmod(t,n,i){var r;if(!(r="string"==typeof t?eS.lookupPath(t,{follow:!i}).node:t).node_ops.setattr)throw new eS.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&n|-4096&r.mode,timestamp:Date.now()})},lchmod(t,n){eS.chmod(t,n,!0)},fchmod(t,n){var i=eS.getStreamChecked(t);eS.chmod(i.node,n)},chown(t,n,i,r){var s;if(!(s="string"==typeof t?eS.lookupPath(t,{follow:!r}).node:t).node_ops.setattr)throw new eS.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown(t,n,i){eS.chown(t,n,i,!0)},fchown(t,n,i){var r=eS.getStreamChecked(t);eS.chown(r.node,n,i)},truncate(t,n){if(n<0)throw new eS.ErrnoError(28);if(!(i="string"==typeof t?eS.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new eS.ErrnoError(63);if(eS.isDir(i.mode))throw new eS.ErrnoError(31);if(!eS.isFile(i.mode))throw new eS.ErrnoError(28);var i,r=eS.nodePermissions(i,"w");if(r)throw new eS.ErrnoError(r);i.node_ops.setattr(i,{size:n,timestamp:Date.now()})},ftruncate(t,n){var i=eS.getStreamChecked(t);if(0==(2097155&i.flags))throw new eS.ErrnoError(28);eS.truncate(i.node,n)},utime(t,n,i){var r=eS.lookupPath(t,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(n,i)})},open(n,i,r){if(""===n)throw new eS.ErrnoError(44);if(r=void 0===r?438:r,r=64&(i="string"==typeof i?(t=>{var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(void 0===n)throw Error(`Unknown file open mode: ${t}`);return n})(i):i)?4095&r|32768:0,"object"==typeof n)s=n;else{n=ed.normalize(n);try{s=eS.lookupPath(n,{follow:!(131072&i)}).node}catch(t){}}var s,o=!1;if(64&i){if(s){if(128&i)throw new eS.ErrnoError(20)}else s=eS.mknod(n,r,0),o=!0}if(!s)throw new eS.ErrnoError(44);if(eS.isChrdev(s.mode)&&(i&=-513),65536&i&&!eS.isDir(s.mode))throw new eS.ErrnoError(54);if(!o){var a=eS.mayOpen(s,i);if(a)throw new eS.ErrnoError(a)}512&i&&!o&&eS.truncate(s,0),i&=-131713;var l=eS.createStream({node:s,path:eS.getPath(s),flags:i,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),!t.logReadFiles||1&i||(eS.readFiles||(eS.readFiles={}),n in eS.readFiles||(eS.readFiles[n]=1)),l},close(t){if(eS.isClosed(t))throw new eS.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{eS.closeStream(t.fd)}t.fd=null},isClosed:t=>null===t.fd,llseek(t,n,i){if(eS.isClosed(t))throw new eS.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new eS.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new eS.ErrnoError(28);return t.position=t.stream_ops.llseek(t,n,i),t.ungotten=[],t.position},read(t,n,i,r,s){if(r<0||s<0)throw new eS.ErrnoError(28);if(eS.isClosed(t)||1==(2097155&t.flags))throw new eS.ErrnoError(8);if(eS.isDir(t.node.mode))throw new eS.ErrnoError(31);if(!t.stream_ops.read)throw new eS.ErrnoError(28);var o=void 0!==s;if(o){if(!t.seekable)throw new eS.ErrnoError(70)}else s=t.position;var a=t.stream_ops.read(t,n,i,r,s);return o||(t.position+=a),a},write(t,n,i,r,s,o){if(r<0||s<0)throw new eS.ErrnoError(28);if(eS.isClosed(t)||0==(2097155&t.flags))throw new eS.ErrnoError(8);if(eS.isDir(t.node.mode))throw new eS.ErrnoError(31);if(!t.stream_ops.write)throw new eS.ErrnoError(28);t.seekable&&1024&t.flags&&eS.llseek(t,0,2);var a=void 0!==s;if(a){if(!t.seekable)throw new eS.ErrnoError(70)}else s=t.position;var l=t.stream_ops.write(t,n,i,r,s,o);return a||(t.position+=l),l},allocate(t,n,i){if(eS.isClosed(t))throw new eS.ErrnoError(8);if(n<0||i<=0)throw new eS.ErrnoError(28);if(0==(2097155&t.flags))throw new eS.ErrnoError(8);if(!eS.isFile(t.node.mode)&&!eS.isDir(t.node.mode))throw new eS.ErrnoError(43);if(!t.stream_ops.allocate)throw new eS.ErrnoError(138);t.stream_ops.allocate(t,n,i)},mmap(t,n,i,r,s){if(0!=(2&r)&&0==(2&s)&&2!=(2097155&t.flags)||1==(2097155&t.flags))throw new eS.ErrnoError(2);if(!t.stream_ops.mmap)throw new eS.ErrnoError(43);return t.stream_ops.mmap(t,n,i,r,s)},msync:(t,n,i,r,s)=>t.stream_ops.msync?t.stream_ops.msync(t,n,i,r,s):0,munmap:t=>0,ioctl(t,n,i){if(!t.stream_ops.ioctl)throw new eS.ErrnoError(59);return t.stream_ops.ioctl(t,n,i)},readFile(t,n={}){if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw Error(`Invalid encoding type "${n.encoding}"`);var i,r=eS.open(t,n.flags),s=eS.stat(t).size,o=new Uint8Array(s);return eS.read(r,o,0,s,0),"utf8"===n.encoding?i=em(o,0):"binary"===n.encoding&&(i=o),eS.close(r),i},writeFile(t,n,i={}){i.flags=i.flags||577;var r=eS.open(t,i.flags,i.mode);if("string"==typeof n){var s=new Uint8Array(ex(n)+1),o=ey(n,s,0,s.length);eS.write(r,s,0,o,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(n))throw Error("Unsupported data type");eS.write(r,n,0,n.byteLength,void 0,i.canOwn)}eS.close(r)},cwd:()=>eS.currentPath,chdir(t){var n=eS.lookupPath(t,{follow:!0});if(null===n.node)throw new eS.ErrnoError(44);if(!eS.isDir(n.node.mode))throw new eS.ErrnoError(54);var i=eS.nodePermissions(n.node,"x");if(i)throw new eS.ErrnoError(i);eS.currentPath=n.path},createDefaultDirectories(){eS.mkdir("/tmp"),eS.mkdir("/home"),eS.mkdir("/home/web_user")},createDefaultDevices(){eS.mkdir("/dev"),eS.registerDevice(eS.makedev(1,3),{read:()=>0,write:(t,n,i,r,s)=>r}),eS.mkdev("/dev/null",eS.makedev(1,3)),eb.register(eS.makedev(5,0),eb.default_tty_ops),eb.register(eS.makedev(6,0),eb.default_tty1_ops),eS.mkdev("/dev/tty",eS.makedev(5,0)),eS.mkdev("/dev/tty1",eS.makedev(6,0));var t=new Uint8Array(1024),n=0,i=()=>(0===n&&(n=ep(t).byteLength),t[--n]);eS.createDevice("/dev","random",i),eS.createDevice("/dev","urandom",i),eS.mkdir("/dev/shm"),eS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){eS.mkdir("/proc");var t=eS.mkdir("/proc/self");eS.mkdir("/proc/self/fd"),eS.mount({mount(){var n=eS.createNode(t,"fd",16895,73);return n.node_ops={lookup(t,n){var i=eS.getStreamChecked(+n),r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return r.parent=r,r}},n}},{},"/proc/self/fd")},createStandardStreams(){t.stdin?eS.createDevice("/dev","stdin",t.stdin):eS.symlink("/dev/tty","/dev/stdin"),t.stdout?eS.createDevice("/dev","stdout",null,t.stdout):eS.symlink("/dev/tty","/dev/stdout"),t.stderr?eS.createDevice("/dev","stderr",null,t.stderr):eS.symlink("/dev/tty1","/dev/stderr"),eS.open("/dev/stdin",0),eS.open("/dev/stdout",1),eS.open("/dev/stderr",1)},staticInit(){[44].forEach(t=>{eS.genericErrors[t]=new eS.ErrnoError(t),eS.genericErrors[t].stack="<generic error, no stack>"}),eS.nameTable=Array(4096),eS.mount(ew,{},"/"),eS.createDefaultDirectories(),eS.createDefaultDevices(),eS.createSpecialDirectories(),eS.filesystems={MEMFS:ew}},init(n,i,r){eS.init.initialized=!0,t.stdin=n||t.stdin,t.stdout=i||t.stdout,t.stderr=r||t.stderr,eS.createStandardStreams()},quit(){eS.init.initialized=!1;for(var t=0;t<eS.streams.length;t++){var n=eS.streams[t];n&&eS.close(n)}},findObject(t,n){var i=eS.analyzePath(t,n);return i.exists?i.object:null},analyzePath(t,n){try{t=(r=eS.lookupPath(t,{follow:!n})).path}catch(t){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=eS.lookupPath(t,{parent:!0});i.parentExists=!0,i.parentPath=r.path,i.parentObject=r.node,i.name=ed.basename(t),r=eS.lookupPath(t,{follow:!n}),i.exists=!0,i.path=r.path,i.object=r.node,i.name=r.node.name,i.isRoot="/"===r.path}catch(t){i.error=t.errno}return i},createPath(t,n,i,r){t="string"==typeof t?t:eS.getPath(t);for(var s=n.split("/").reverse();s.length;){var o=s.pop();if(o){var a=ed.join2(t,o);try{eS.mkdir(a)}catch(t){}t=a}}return a},createFile(t,n,i,r,s){var o=ed.join2("string"==typeof t?t:eS.getPath(t),n),a=e_(r,s);return eS.create(o,a)},createDataFile(t,n,i,r,s,o){var a=n;t&&(t="string"==typeof t?t:eS.getPath(t),a=n?ed.join2(t,n):t);var l=e_(r,s),c=eS.create(a,l);if(i){if("string"==typeof i){for(var u=Array(i.length),d=0,p=i.length;d<p;++d)u[d]=i.charCodeAt(d);i=u}eS.chmod(c,146|l);var h=eS.open(c,577);eS.write(h,i,0,i.length,0,o),eS.close(h),eS.chmod(c,l)}},createDevice(t,n,i,r){var s=ed.join2("string"==typeof t?t:eS.getPath(t),n),o=e_(!!i,!!r);eS.createDevice.major||(eS.createDevice.major=64);var a=eS.makedev(eS.createDevice.major++,0);return eS.registerDevice(a,{open(t){t.seekable=!1},close(t){r?.buffer?.length&&r(10)},read(t,n,r,s,o){for(var a,l=0,c=0;c<s;c++){try{a=i()}catch(t){throw new eS.ErrnoError(29)}if(void 0===a&&0===l)throw new eS.ErrnoError(6);if(null==a)break;l++,n[r+c]=a}return l&&(t.node.timestamp=Date.now()),l},write(t,n,i,s,o){for(var a=0;a<s;a++)try{r(n[i+a])}catch(t){throw new eS.ErrnoError(29)}return s&&(t.node.timestamp=Date.now()),a}}),eS.mkdev(s,o,a)},forceLoadFile(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!u)throw Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=ev(u(t.url),!0),t.usedBytes=t.contents.length}catch(t){throw new eS.ErrnoError(29)}},createLazyFile(t,n,i,r,s){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var n=t%this.chunkSize,i=t/this.chunkSize|0;return this.getter(i)[n]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",i,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw Error("Couldn't load "+i+". Status: "+t.status);var n,r=Number(t.getResponseHeader("Content-length")),s=(n=t.getResponseHeader("Accept-Ranges"))&&"bytes"===n,o=(n=t.getResponseHeader("Content-Encoding"))&&"gzip"===n,a=1048576;s||(a=r);var l=this;l.setDataGetter(t=>{var n=t*a,s=(t+1)*a-1;if(s=Math.min(s,r-1),void 0===l.chunks[t]&&(l.chunks[t]=((t,n)=>{if(t>n)throw Error("invalid range ("+t+", "+n+") or no bytes requested!");if(n>r-1)throw Error("only "+r+" bytes available! programmer error!");var s=new XMLHttpRequest;if(s.open("GET",i,!1),r!==a&&s.setRequestHeader("Range","bytes="+t+"-"+n),s.responseType="arraybuffer",s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.send(null),!(s.status>=200&&s.status<300||304===s.status))throw Error("Couldn't load "+i+". Status: "+s.status);return void 0!==s.response?new Uint8Array(s.response||[]):ev(s.responseText||"",!0)})(n,s)),void 0===l.chunks[t])throw Error("doXHR failed!");return l.chunks[t]}),!o&&r||(a=r=1,a=r=this.getter(0).length,S("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:a}}else l={isDevice:!1,url:i};var c=eS.createFile(t,n,l,r,s);l.contents?c.contents=l.contents:l.url&&(c.contents=null,c.url=l.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={};function d(t,n,i,r,s){var o=t.node.contents;if(s>=o.length)return 0;var a=Math.min(o.length-s,r);if(o.slice)for(var l=0;l<a;l++)n[i+l]=o[s+l];else for(l=0;l<a;l++)n[i+l]=o.get(s+l);return a}return Object.keys(c.stream_ops).forEach(t=>{var n=c.stream_ops[t];u[t]=function(){return eS.forceLoadFile(c),n.apply(null,arguments)}}),u.read=(t,n,i,r,s)=>(eS.forceLoadFile(c),d(t,n,i,r,s)),u.mmap=(t,n,i,r,s)=>{eS.forceLoadFile(c);var o=eA(n);if(!o)throw new eS.ErrnoError(48);return d(t,M,o,n,i),{ptr:o,allocated:!0}},c.stream_ops=u,c}},ek=(t,n)=>t?em(I,t,n):"",eE={DEFAULT_POLLMASK:5,calculateAt(t,n,i){var r;if(ed.isAbs(n))return n;if(r=-100===t?eS.cwd():eE.getStreamFromFD(t).path,0==n.length){if(!i)throw new eS.ErrnoError(44);return r}return ed.join2(r,n)},doStat(t,n,i){var r=t(n);L[i>>2]=r.dev,L[i+4>>2]=r.mode,j[i+8>>2]=r.nlink,L[i+12>>2]=r.uid,L[i+16>>2]=r.gid,L[i+20>>2]=r.rdev,R[i+24>>3]=BigInt(r.size),L[i+32>>2]=4096,L[i+36>>2]=r.blocks;var s=r.atime.getTime(),o=r.mtime.getTime(),a=r.ctime.getTime();return R[i+40>>3]=BigInt(Math.floor(s/1e3)),j[i+48>>2]=s%1e3*1e3,R[i+56>>3]=BigInt(Math.floor(o/1e3)),j[i+64>>2]=o%1e3*1e3,R[i+72>>3]=BigInt(Math.floor(a/1e3)),j[i+80>>2]=a%1e3*1e3,R[i+88>>3]=BigInt(r.ino),0},doMsync(t,n,i,r,s){if(!eS.isFile(n.node.mode))throw new eS.ErrnoError(43);if(2&r)return 0;var o=I.slice(t,t+i);eS.msync(n,o,s,i,r)},varargs:void 0,get(){var t=L[+eE.varargs>>2];return eE.varargs+=4,t},getp:()=>eE.get(),getStr:t=>ek(t),getStreamFromFD:t=>eS.getStreamChecked(t)},eM={},eI=t=>{for(;t.length;){var n=t.pop();t.pop()(n)}};function eT(t){return this.fromWireType(L[t>>2])}var eB,eL,ej,eP={},eR={},eD={},eF=t=>{throw new eB(t)},eO=(t,n,i)=>{function r(n){var r=i(n);r.length!==t.length&&eF("Mismatched type converter count");for(var s=0;s<t.length;++s)eQ(t[s],r[s])}t.forEach(function(t){eD[t]=n});var s=Array(n.length),o=[],a=0;n.forEach((t,n)=>{eR.hasOwnProperty(t)?s[n]=eR[t]:(o.push(t),eP.hasOwnProperty(t)||(eP[t]=[]),eP[t].push(()=>{s[n]=eR[t],++a===o.length&&r(s)}))}),0===o.length&&r(s)},eN={},eU=t=>{if(null===t)return"null";var n=typeof t;return"object"===n||"array"===n||"function"===n?t.toString():""+t},eV=t=>{for(var n="",i=t;I[i];)n+=eL[I[i++]];return n},eH=t=>{throw new ej(t)};function eQ(t,n,i={}){if(!("argPackAdvance"in n))throw TypeError("registerType registeredInstance requires argPackAdvance");return function(t,n,i={}){var r=n.name;if(t||eH(`type "${r}" must have a positive integer typeid pointer`),eR.hasOwnProperty(t)){if(i.ignoreDuplicateRegistrations)return;eH(`Cannot register type '${r}' twice`)}if(eR[t]=n,delete eD[t],eP.hasOwnProperty(t)){var s=eP[t];delete eP[t],s.forEach(t=>t())}}(t,n,i)}var ez,eG=(t,n,i)=>{switch(n){case 1:return i?t=>M[t>>0]:t=>I[t>>0];case 2:return i?t=>T[t>>1]:t=>B[t>>1];case 4:return i?t=>L[t>>2]:t=>j[t>>2];case 8:return i?t=>R[t>>3]:t=>D[t>>3];default:throw TypeError(`invalid integer width (${n}): ${t}`)}},eq=t=>{eH(t.$$.ptrType.registeredClass.name+" instance already deleted")},eW=!1,e$=t=>{},eZ=t=>{t.count.value-=1,0===t.count.value&&(t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr))},eY=(t,n,i)=>{if(n===i)return t;if(void 0===i.baseClass)return null;var r=eY(t,n,i.baseClass);return null===r?null:i.downcast(r)},eK={},eX=[],eJ=()=>{for(;eX.length;){var t=eX.pop();t.$$.deleteScheduled=!1,t.delete()}},e0={},e1=(t,n)=>e0[n=((t,n)=>{for(void 0===n&&eH("ptr should not be undefined");t.baseClass;)n=t.upcast(n),t=t.baseClass;return n})(t,n)],e2=(t,n)=>(n.ptrType&&n.ptr||eF("makeClassHandle requires ptr and ptrType"),!!n.smartPtrType!=!!n.smartPtr&&eF("Both smartPtrType and smartPtr must be specified"),n.count={value:1},e3(Object.create(t,{$$:{value:n,writable:!0}}))),e3=t=>"undefined"==typeof FinalizationRegistry?(e3=t=>t,t):(eW=new FinalizationRegistry(t=>{eZ(t.$$)}),e$=t=>eW.unregister(t),(e3=t=>{var n=t.$$;return n.smartPtr&&eW.register(t,{$$:n},t),t})(t));function e5(){}var e4=(t,n)=>Object.defineProperty(n,"name",{value:t}),e6=(t,n,i)=>{if(void 0===t[n].overloadTable){var r=t[n];t[n]=function(){return t[n].overloadTable.hasOwnProperty(arguments.length)||eH(`Function '${i}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[n].overloadTable})!`),t[n].overloadTable[arguments.length].apply(this,arguments)},t[n].overloadTable=[],t[n].overloadTable[r.argCount]=r}},e8=(n,i,r)=>{t.hasOwnProperty(n)?((void 0===r||void 0!==t[n].overloadTable&&void 0!==t[n].overloadTable[r])&&eH(`Cannot register public name '${n}' twice`),e6(t,n,n),t.hasOwnProperty(r)&&eH(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),t[n].overloadTable[r]=i):(t[n]=i,void 0!==r&&(t[n].numArguments=r))};function e7(t,n,i,r,s,o,a,l){this.name=t,this.constructor=n,this.instancePrototype=i,this.rawDestructor=r,this.baseClass=s,this.getActualType=o,this.upcast=a,this.downcast=l,this.pureVirtualFunctions=[]}var e9=(t,n,i)=>{for(;n!==i;)n.upcast||eH(`Expected null or instance of ${i.name}, got an instance of ${n.name}`),t=n.upcast(t),n=n.baseClass;return t};function te(t,n){if(null===n)return this.isReference&&eH(`null is not a valid ${this.name}`),0;n.$$||eH(`Cannot pass "${eU(n)}" as a ${this.name}`),n.$$.ptr||eH(`Cannot pass deleted object as a pointer of type ${this.name}`);var i=n.$$.ptrType.registeredClass;return e9(n.$$.ptr,i,this.registeredClass)}function tt(t,n){if(null===n)return this.isReference&&eH(`null is not a valid ${this.name}`),this.isSmartPointer?(i=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,i),i):0;n&&n.$$||eH(`Cannot pass "${eU(n)}" as a ${this.name}`),n.$$.ptr||eH(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&n.$$.ptrType.isConst&&eH(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);var i,r=n.$$.ptrType.registeredClass;if(i=e9(n.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===n.$$.smartPtr&&eH("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:n.$$.smartPtrType===this?i=n.$$.smartPtr:eH(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:i=n.$$.smartPtr;break;case 2:if(n.$$.smartPtrType===this)i=n.$$.smartPtr;else{var s=n.clone();i=this.rawShare(i,tv.toHandle(()=>s.delete())),null!==t&&t.push(this.rawDestructor,i)}break;default:eH("Unsupporting sharing policy")}return i}function tn(t,n){if(null===n)return this.isReference&&eH(`null is not a valid ${this.name}`),0;n.$$||eH(`Cannot pass "${eU(n)}" as a ${this.name}`),n.$$.ptr||eH(`Cannot pass deleted object as a pointer of type ${this.name}`),n.$$.ptrType.isConst&&eH(`Cannot convert argument of type ${n.$$.ptrType.name} to parameter type ${this.name}`);var i=n.$$.ptrType.registeredClass;return e9(n.$$.ptr,i,this.registeredClass)}function ti(t){return this.fromWireType(j[t>>2])}function tr(t,n,i,r,s,o,a,l,c,u,d){this.name=t,this.registeredClass=n,this.isReference=i,this.isConst=r,this.isSmartPointer=s,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=l,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=d,s||void 0!==n.baseClass?this.toWireType=tt:(r?this.toWireType=te:this.toWireType=tn,this.destructorFunction=null)}var ts,to,ta=(n,i,r)=>{t.hasOwnProperty(n)||eF("Replacing nonexistant public symbol"),void 0!==t[n].overloadTable&&void 0!==r?t[n].overloadTable[r]=i:(t[n]=i,t[n].argCount=r)},tl=[],tc=t=>{var n=tl[t];return n||(t>=tl.length&&(tl.length=t+1),tl[t]=n=ts.get(t)),n},tu=(t,n)=>{t=eV(t);var i=tc(n);return"function"!=typeof i&&eH(`unknown function pointer with signature ${t}: ${n}`),i},td=t=>{var n=nJ(t),i=eV(n);return nZ(n),i},tp=(t,n)=>{var i=[],r={};throw n.forEach(function t(n){r[n]||eR[n]||(eD[n]?eD[n].forEach(t):(i.push(n),r[n]=!0))}),new to(`${t}: `+i.map(td).join([", "]))},th=(t,n)=>{for(var i=[],r=0;r<t;r++)i.push(j[n+4*r>>2]);return i};function tf(t,n,i,r,s,o){var a=n.length;a<2&&eH("argTypes array size mismatch! Must at least get return value and 'this' types!");var l=null!==n[1]&&null!==i,c=function(t){for(var n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].destructorFunction)return!0;return!1}(n),u="void"!==n[0].name,d=a-2,p=Array(d),h=[],f=[];return e4(t,function(){var i;arguments.length!==d&&eH(`function ${t} called with ${arguments.length} arguments, expected ${d}`),f.length=0,h.length=l?2:1,h[0]=s,l&&(i=n[1].toWireType(f,this),h[1]=i);for(var o=0;o<d;++o)p[o]=n[o+2].toWireType(f,arguments[o]),h.push(p[o]);return function(t){if(c)eI(f);else for(var r=l?1:2;r<n.length;r++){var s=1===r?i:p[r-2];null!==n[r].destructorFunction&&n[r].destructorFunction(s)}if(u)return n[0].fromWireType(t)}(r.apply(null,h))})}var tm,tg=t=>{let n=(t=t.trim()).indexOf("(");return -1!==n?t.substr(0,n):t},tx=new class{constructor(){this.allocated=[void 0],this.freelist=[]}get(t){return this.allocated[t]}has(t){return void 0!==this.allocated[t]}allocate(t){var n=this.freelist.pop()||this.allocated.length;return this.allocated[n]=t,n}free(t){this.allocated[t]=void 0,this.freelist.push(t)}},ty=t=>{t>=tx.reserved&&0==--tx.get(t).refcount&&tx.free(t)},tv={toValue:t=>(t||eH("Cannot use deleted val. handle = "+t),tx.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tx.allocate({refcount:1,value:t})}}},tb={name:"emscripten::val",fromWireType:t=>{var n=tv.toValue(t);return ty(t),n},toWireType:(t,n)=>tv.toHandle(n),argPackAdvance:8,readValueFromPointer:eT,destructorFunction:null},tA=(t,n,i)=>{switch(n){case 1:return i?function(t){return this.fromWireType(M[t>>0])}:function(t){return this.fromWireType(I[t>>0])};case 2:return i?function(t){return this.fromWireType(T[t>>1])}:function(t){return this.fromWireType(B[t>>1])};case 4:return i?function(t){return this.fromWireType(L[t>>2])}:function(t){return this.fromWireType(j[t>>2])};default:throw TypeError(`invalid integer width (${n}): ${t}`)}},tw=(t,n)=>{var i=eR[t];return void 0===i&&eH(n+" has unknown type "+td(t)),i},tC=(t,n)=>{switch(n){case 4:return function(t){return this.fromWireType(P[t>>2])};case 8:return function(t){return this.fromWireType(F[t>>3])};default:throw TypeError(`invalid float width (${n}): ${t}`)}},t_=(t,n,i)=>ey(t,I,n,i),tS="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,tk=(t,n)=>{for(var i=t,r=i>>1,s=r+n/2;!(r>=s)&&B[r];)++r;if((i=r<<1)-t>32&&tS)return tS.decode(I.subarray(t,i));for(var o="",a=0;!(a>=n/2);++a){var l=T[t+2*a>>1];if(0==l)break;o+=String.fromCharCode(l)}return o},tE=(t,n,i)=>{if((i??=2147483647)<2)return 0;for(var r=n,s=(i-=2)<2*t.length?i/2:t.length,o=0;o<s;++o){var a=t.charCodeAt(o);T[n>>1]=a,n+=2}return T[n>>1]=0,n-r},tM=t=>2*t.length,tI=(t,n)=>{for(var i=0,r="";!(i>=n/4);){var s=L[t+4*i>>2];if(0==s)break;if(++i,s>=65536){var o=s-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(s)}return r},tT=(t,n,i)=>{if((i??=2147483647)<4)return 0;for(var r=n,s=r+i-4,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),L[n>>2]=a,(n+=4)+4>s)break}return L[n>>2]=0,n-r},tB=t=>{for(var n=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);r>=55296&&r<=57343&&++i,n+=4}return n},tL=(t,n,i)=>{var r=[],s=t.toWireType(r,i);return r.length&&(j[n>>2]=tv.toHandle(r)),s},tj=[],tP={},tR=t=>{var n=tP[t];return void 0===n?eV(t):n},tD=()=>{if("object"==typeof globalThis)return globalThis;function t(t){t.$$$embind_global$$$=t;var n="object"==typeof $$$embind_global$$$&&t.$$$embind_global$$$==t;return n||delete t.$$$embind_global$$$,n}if("object"==typeof $$$embind_global$$$||("object"==typeof global&&t(global)?$$$embind_global$$$=global:"object"==typeof self&&t(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")},tF=Reflect.construct,tO=t=>t<-9007199254740992||t>9007199254740992?NaN:Number(t),tN=t=>t%4==0&&(t%100!=0||t%400==0),tU=[0,31,60,91,121,152,182,213,244,274,305,335],tH=[0,31,59,90,120,151,181,212,243,273,304,334],tQ=t=>(tN(t.getFullYear())?tU:tH)[t.getMonth()]+t.getDate()-1,tz=t=>{var n=ex(t)+1,i=nW(n);return i&&t_(t,i,n),i},tG=(n,i)=>{if(tK.mainLoop.timingMode=n,tK.mainLoop.timingValue=i,!tK.mainLoop.func)return 1;if(tK.mainLoop.running||(tK.mainLoop.running=!0),0==n)tK.mainLoop.scheduler=function(){var t=0|Math.max(0,tK.mainLoop.tickStartTime+i-tm());setTimeout(tK.mainLoop.runner,t)},tK.mainLoop.method="timeout";else if(1==n)tK.mainLoop.scheduler=function(){tK.requestAnimationFrame(tK.mainLoop.runner)},tK.mainLoop.method="rAF";else if(2==n){if(void 0===tK.setImmediate){if("undefined"==typeof setImmediate){var r=[],s="setimmediate";addEventListener("message",t=>{t.data!==s&&t.data.target!==s||(t.stopPropagation(),r.shift()())},!0),tK.setImmediate=function(n){r.push(n),y?(void 0===t.setImmediates&&(t.setImmediates=[]),t.setImmediates.push(n),postMessage({target:s})):postMessage(s,"*")}}else tK.setImmediate=setImmediate}tK.mainLoop.scheduler=function(){tK.setImmediate(tK.mainLoop.runner)},tK.mainLoop.method="immediate"}return 0};tm=()=>performance.now();var tq=t=>{if(t instanceof er||"unwind"==t)return E;g(1,t)},tW=()=>eo||!1,t$=(n,i)=>{E=n,E=n,tW()||(t.onExit?.(n),O=!0),g(n,new er(n))},tZ=t=>{if(!O)try{t(),(()=>{if(!tW())try{t$(E)}catch(t){tq(t)}})()}catch(t){tq(t)}},tY=(t,n)=>setTimeout(()=>{tZ(t)},n),tK={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause(){tK.mainLoop.scheduler=null,tK.mainLoop.currentlyRunningMainloop++},resume(){tK.mainLoop.currentlyRunningMainloop++;var t=tK.mainLoop.timingMode,n=tK.mainLoop.timingValue,i=tK.mainLoop.func;tK.mainLoop.func=null,((t,n,i,r,s)=>{o=!tK.mainLoop.func,a="emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.",o||Y(a),tK.mainLoop.func=t,tK.mainLoop.arg=r;var o,a,l=tK.mainLoop.currentlyRunningMainloop;function c(){return!(l<tK.mainLoop.currentlyRunningMainloop)}if(tK.mainLoop.running=!1,tK.mainLoop.runner=function(){if(!O){if(tK.mainLoop.queue.length>0){Date.now();var n=tK.mainLoop.queue.shift();if(n.func(n.arg),tK.mainLoop.remainingBlockers){var i=tK.mainLoop.remainingBlockers,r=i%1==0?i-1:Math.floor(i);n.counted?tK.mainLoop.remainingBlockers=r:(r+=.5,tK.mainLoop.remainingBlockers=(8*i+r)/9)}tK.mainLoop.updateStatus(),c()&&setTimeout(tK.mainLoop.runner,0)}else c()&&(tK.mainLoop.currentFrameNumber=tK.mainLoop.currentFrameNumber+1|0,1==tK.mainLoop.timingMode&&tK.mainLoop.timingValue>1&&tK.mainLoop.currentFrameNumber%tK.mainLoop.timingValue!=0?tK.mainLoop.scheduler():(0==tK.mainLoop.timingMode&&(tK.mainLoop.tickStartTime=tm()),tK.mainLoop.runIter(t),c()&&("object"==typeof SDL&&SDL.audio?.queueNewAudioData?.(),tK.mainLoop.scheduler())))}},s||(n&&n>0?tG(0,1e3/n):tG(1,1),tK.mainLoop.scheduler()),i)throw"unwind"})(i,0,!1,tK.mainLoop.arg,!0),tG(t,n),tK.mainLoop.scheduler()},updateStatus(){if(t.setStatus){var n=t.statusMessage||"Please wait...",i=tK.mainLoop.remainingBlockers,r=tK.mainLoop.expectedBlockers;i?i<r?t.setStatus(n+" ("+(r-i)+"/"+r+")"):t.setStatus(n):t.setStatus("")}},runIter(n){O||t.preMainLoop&&!1===t.preMainLoop()||(tZ(n),t.postMainLoop?.())}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init(){if(!tK.initted){tK.initted=!0,eC.push({canHandle:function(n){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(n)},handle:function(t,n,i,r){var s=new Blob([t],{type:tK.getMimetype(n)});s.size!==t.length&&(s=new Blob([new Uint8Array(t).buffer],{type:tK.getMimetype(n)}));var o=URL.createObjectURL(s),a=new Image;a.onload=()=>{r=a.complete,s=`Image ${n} could not be decoded`,r||Y(s);var r,s,l=document.createElement("canvas");l.width=a.width,l.height=a.height,l.getContext("2d").drawImage(a,0,0),nN[n]=l,URL.revokeObjectURL(o),i?.(t)},a.onerror=t=>{k(`Image ${o} could not be decoded`),r?.()},a.src=o}}),eC.push({canHandle:function(n){return!t.noAudioDecoding&&n.substr(-4) in{".ogg":1,".wav":1,".mp3":1}},handle:function(t,n,i,r){var s=!1;function o(r){s||(s=!0,nU[n]=r,i?.(t))}var a=new Blob([t],{type:tK.getMimetype(n)}),l=URL.createObjectURL(a),c=new Audio;c.addEventListener("canplaythrough",()=>o(c),!1),c.onerror=function(i){s||(k(`warning: browser could not fully decode audio ${n}, trying slower base64 approach`),c.src="data:audio/x-"+n.substr(-3)+";base64,"+function(t){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",r=0,s=0,o=0;o<t.length;o++)for(r=r<<8|t[o],s+=8;s>=6;){var a=r>>s-6&63;s-=6,i+=n[a]}return 2==s?i+=n[(3&r)<<4]+"==":4==s&&(i+=n[(15&r)<<2]+"="),i}(t),o(c))},c.src=l,tY(()=>{o(c)},1e4)}});var n=t.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),t.elementPointerLock&&n.addEventListener("click",n=>{!tK.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),n.preventDefault())},!1))}function i(){tK.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}},createContext(n,i,r,s){if(i&&t.ctx&&n==t.canvas)return t.ctx;if(i){var o,a,l,c={antialias:!1,alpha:!1,majorVersion:"undefined"!=typeof WebGL2RenderingContext?2:1};if(s)for(var u in s)c[u]=s[u];void 0!==tJ&&(l=tJ.createContext(n,c))&&(a=tJ.getContext(l).GLctx)}else a=n.getContext("2d");return a?(r&&(i||(o="cannot set in module if GLctx is used, but we are a non-GL context that would replace it",void 0===nO||Y(o)),t.ctx=a,i&&tJ.makeContextCurrent(l),t.useWebGL=i,tK.moduleContextCreatedCallbacks.forEach(t=>t()),tK.init()),a):null},destroyContext(t,n,i){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(n,i){tK.lockPointer=n,tK.resizeCanvas=i,void 0===tK.lockPointer&&(tK.lockPointer=!0),void 0===tK.resizeCanvas&&(tK.resizeCanvas=!1);var r=t.canvas;function s(){tK.isFullscreen=!1;var n=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===n?(r.exitFullscreen=tK.exitFullscreen,tK.lockPointer&&r.requestPointerLock(),tK.isFullscreen=!0,tK.resizeCanvas?tK.setFullscreenCanvasSize():tK.updateCanvasDimensions(r)):(n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),tK.resizeCanvas?tK.setWindowedCanvasSize():tK.updateCanvasDimensions(r)),t.onFullScreen?.(tK.isFullscreen),t.onFullscreen?.(tK.isFullscreen)}tK.fullscreenHandlersInstalled||(tK.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",s,!1),document.addEventListener("mozfullscreenchange",s,!1),document.addEventListener("webkitfullscreenchange",s,!1),document.addEventListener("MSFullscreenChange",s,!1));var o=document.createElement("div");r.parentNode.insertBefore(o,r),o.appendChild(r),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?()=>o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(o.webkitRequestFullScreen?()=>o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),o.requestFullscreen()},exitFullscreen:()=>!!tK.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0),nextRAF:0,fakeRequestAnimationFrame(t){var n=Date.now();if(0===tK.nextRAF)tK.nextRAF=n+1e3/60;else for(;n+2>=tK.nextRAF;)tK.nextRAF+=1e3/60;setTimeout(t,Math.max(tK.nextRAF-n,0))},requestAnimationFrame(t){"function"!=typeof requestAnimationFrame?(0,tK.fakeRequestAnimationFrame)(t):requestAnimationFrame(t)},safeSetTimeout:(t,n)=>tY(t,n),safeRequestAnimationFrame:t=>tK.requestAnimationFrame(()=>{tZ(t)}),getMimetype:t=>({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"})[t.substr(t.lastIndexOf(".")+1)],getUserMedia(t){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(t)},getMovementX:t=>t.movementX||t.mozMovementX||t.webkitMovementX||0,getMovementY:t=>t.movementY||t.mozMovementY||t.webkitMovementY||0,getMouseWheelDelta(t){var n=0;switch(t.type){case"DOMMouseScroll":n=t.detail/3;break;case"mousewheel":n=t.wheelDelta/120;break;case"wheel":switch(n=t.deltaY,t.deltaMode){case 0:n/=100;break;case 1:n/=3;break;case 2:n*=80;break;default:throw"unrecognized mouse wheel delta mode: "+t.deltaMode}break;default:throw"unrecognized mouse wheel event: "+t.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(n,i){var r=t.canvas.getBoundingClientRect(),s=t.canvas.width,o=t.canvas.height,a=void 0!==window.scrollX?window.scrollX:window.pageXOffset,l=void 0!==window.scrollY?window.scrollY:window.pageYOffset,c=n-(a+r.left),u=i-(l+r.top);return{x:c*=s/r.width,y:u*=o/r.height}},setMouseCoords(t,n){let{x:i,y:r}=tK.calculateMouseCoords(t,n);tK.mouseMovementX=i-tK.mouseX,tK.mouseMovementY=r-tK.mouseY,tK.mouseX=i,tK.mouseY=r},calculateMouseEvent(t){if(tK.pointerLock)"mousemove"!=t.type&&"mozMovementX"in t?tK.mouseMovementX=tK.mouseMovementY=0:(tK.mouseMovementX=tK.getMovementX(t),tK.mouseMovementY=tK.getMovementY(t)),"undefined"!=typeof SDL?(tK.mouseX=SDL.mouseX+tK.mouseMovementX,tK.mouseY=SDL.mouseY+tK.mouseMovementY):(tK.mouseX+=tK.mouseMovementX,tK.mouseY+=tK.mouseMovementY);else{if("touchstart"===t.type||"touchend"===t.type||"touchmove"===t.type){var n=t.touch;if(void 0===n)return;var i=tK.calculateMouseCoords(n.pageX,n.pageY);if("touchstart"===t.type)tK.lastTouches[n.identifier]=i,tK.touches[n.identifier]=i;else if("touchend"===t.type||"touchmove"===t.type){var r=tK.touches[n.identifier];r||=i,tK.lastTouches[n.identifier]=r,tK.touches[n.identifier]=i}return}tK.setMouseCoords(t.pageX,t.pageY)}},resizeListeners:[],updateResizeListeners(){var n=t.canvas;tK.resizeListeners.forEach(t=>t(n.width,n.height))},setCanvasSize(n,i,r){var s=t.canvas;tK.updateCanvasDimensions(s,n,i),r||tK.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if("undefined"!=typeof SDL){var n=j[SDL.screen>>2];n|=8388608,L[SDL.screen>>2]=n}tK.updateCanvasDimensions(t.canvas),tK.updateResizeListeners()},setWindowedCanvasSize(){if("undefined"!=typeof SDL){var n=j[SDL.screen>>2];n&=-8388609,L[SDL.screen>>2]=n}tK.updateCanvasDimensions(t.canvas),tK.updateResizeListeners()},updateCanvasDimensions(n,i,r){i&&r?(n.widthNative=i,n.heightNative=r):(i=n.widthNative,r=n.heightNative);var s=i,o=r;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(s/o<t.forcedAspectRatio?s=Math.round(o*t.forcedAspectRatio):o=Math.round(s/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===n.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/s,screen.height/o);s=Math.round(s*a),o=Math.round(o*a)}tK.resizeCanvas?(n.width!=s&&(n.width=s),n.height!=o&&(n.height=o),void 0!==n.style&&(n.style.removeProperty("width"),n.style.removeProperty("height"))):(n.width!=i&&(n.width=i),n.height!=r&&(n.height=r),void 0!==n.style&&(s!=i||o!=r?(n.style.setProperty("width",s+"px","important"),n.style.setProperty("height",o+"px","important")):(n.style.removeProperty("width"),n.style.removeProperty("height"))))}},tX={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(t){tX.errorCode=t},chooseConfig(t,n,i,r,s){if(62e3!=t)return tX.setErrorCode(12296),0;if(n)for(;;){var o=L[n>>2];if(12321==o){var a=L[n+4>>2];tX.contextAttributes.alpha=a>0}else if(12325==o){var l=L[n+4>>2];tX.contextAttributes.depth=l>0}else if(12326==o){var c=L[n+4>>2];tX.contextAttributes.stencil=c>0}else if(12337==o){var u=L[n+4>>2];tX.contextAttributes.antialias=u>0}else if(12338==o)u=L[n+4>>2],tX.contextAttributes.antialias=1==u;else if(12544==o){var d=L[n+4>>2];tX.contextAttributes.lowLatency=12547!=d}else if(12344==o)break;n+=8}return i&&r||s?(s&&(L[s>>2]=1),i&&r>0&&(j[i>>2]=62002),tX.setErrorCode(12288),1):(tX.setErrorCode(12300),0)}},tJ={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(t){tJ.lastError||(tJ.lastError=t)},getNewId:t=>{for(var n=tJ.counter++,i=t.length;i<n;i++)t[i]=null;return n},getSource:(t,n,i,r)=>{for(var s="",o=0;o<n;++o){var a=r?j[r+4*o>>2]:void 0;s+=ek(j[i+4*o>>2],a)}return s},createContext:(t,n)=>{t.getContextSafariWebGL2Fixed||(t.getContextSafariWebGL2Fixed=t.getContext,t.getContext=function(n,i){var r=t.getContextSafariWebGL2Fixed(n,i);return"webgl"==n==r instanceof WebGLRenderingContext?r:null});var i=n.majorVersion>1?t.getContext("webgl2",n):t.getContext("webgl",n);return i?tJ.registerContext(i,n):0},registerContext:(t,n)=>{var i=tJ.getNewId(tJ.contexts),r={handle:i,attributes:n,version:n.majorVersion,GLctx:t};return t.canvas&&(t.canvas.GLctxObject=r),tJ.contexts[i]=r,i},makeContextCurrent:n=>(tJ.currentContext=tJ.contexts[n],t.ctx=nO=tJ.currentContext?.GLctx,!(n&&!nO)),getContext:t=>tJ.contexts[t],deleteContext:t=>{tJ.currentContext===tJ.contexts[t]&&(tJ.currentContext=null),"object"==typeof nS&&nS.removeAllHandlersOnTarget(tJ.contexts[t].GLctx.canvas),tJ.contexts[t]&&tJ.contexts[t].GLctx.canvas&&(tJ.contexts[t].GLctx.canvas.GLctxObject=void 0),tJ.contexts[t]=null}},t0=[],t1=(t,n,i)=>{var r=((t,n)=>{var i;for(t0.length=0;i=I[t++];){var r=105!=i;n+=(r&=112!=i)&&n%8?4:0,t0.push(112==i?j[n>>2]:106==i?R[n>>3]:105==i?L[n>>2]:F[n>>3]),n+=r?8:4}return t0})(n,i);return ei[t].apply(null,r)},t2=t=>{nO.bindVertexArray(tJ.vaos[t])},t3=(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2];nO.deleteVertexArray(tJ.vaos[r]),tJ.vaos[r]=null}},t5=(t,n,i,r)=>{nO.drawArraysInstanced(t,n,i,r)},t4=[],t6=(t,n)=>{for(var i=t4[t],r=0;r<t;r++)i[r]=L[n+4*r>>2];nO.drawBuffers(i)},t8=(t,n,i,r)=>{nO.drawElements(t,n,i,r)},t7=(t,n,i,r,s)=>{nO.drawElementsInstanced(t,n,i,r,s)},t9=(t,n,i,r)=>{for(var s=0;s<t;s++){var o=nO[i](),a=o&&tJ.getNewId(r);o?(o.name=a,r[a]=o):tJ.recordError(1282),L[n+4*s>>2]=a}};function ne(t,n){t9(t,n,"createVertexArray",tJ.vaos)}var nt,nn,ni,nr=(t,n,i,r,s,o,a,l)=>{n=tJ.programs[n];var c=nO[t](n,i);if(c){var u=l&&t_(c.name,l,r);s&&(L[s>>2]=u),o&&(L[o>>2]=c.size),a&&(L[a>>2]=c.type)}},ns=(t,n)=>{j[t>>2]=n;var i=j[t>>2];j[t+4>>2]=(n-i)/4294967296},no=function(){var t,n=(t=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","WEBGL_clip_cull_distance","EXT_color_buffer_half_float","EXT_float_blend","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw"],(nO.getSupportedExtensions()||[]).filter(n=>t.includes(n)));return n.concat(n.map(t=>"GL_"+t))},na=(t,n,i)=>{if(n){var r=void 0;switch(t){case 36346:r=1;break;case 36344:return void(0!=i&&1!=i&&tJ.recordError(1280));case 34814:case 36345:r=0;break;case 34466:var s=nO.getParameter(34467);r=s?s.length:0;break;case 33309:if(tJ.currentContext.version<2)return void tJ.recordError(1282);r=no().length;break;case 33307:case 33308:if(tJ.currentContext.version<2)return void tJ.recordError(1280);r=33307==t?3:0}if(void 0===r){var o=nO.getParameter(t);switch(typeof o){case"number":r=o;break;case"boolean":r=o?1:0;break;case"string":return void tJ.recordError(1280);case"object":if(null===o)switch(t){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:r=0;break;default:return void tJ.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var a=0;a<o.length;++a)switch(i){case 0:L[n+4*a>>2]=o[a];break;case 2:P[n+4*a>>2]=o[a];break;case 4:M[n+a>>0]=o[a]?1:0}return}try{r=0|o.name}catch(n){return tJ.recordError(1280),void k(`GL_INVALID_ENUM in glGet${i}v: Unknown object returned from WebGL getParameter(${t})! (error: ${n})`)}}break;default:return tJ.recordError(1280),void k(`GL_INVALID_ENUM in glGet${i}v: Native code calling glGet${i}v(${t}) and it returns ${o} of type ${typeof o}!`)}}switch(i){case 1:ns(n,r);break;case 0:L[n>>2]=r;break;case 2:P[n>>2]=r;break;case 4:M[n>>0]=r?1:0}}else tJ.recordError(1281)},nl=(t,n,i,r)=>{if(i){var s,o=nO.getIndexedParameter(t,n);switch(typeof o){case"boolean":s=o?1:0;break;case"number":s=o;break;case"object":if(null===o)switch(t){case 35983:case 35368:s=0;break;default:return void tJ.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void tJ.recordError(1280);s=0|o.name}break;default:return void tJ.recordError(1280)}switch(r){case 1:ns(i,s);break;case 0:L[i>>2]=s;break;case 2:P[i>>2]=s;break;case 4:M[i>>0]=s?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+r}}else tJ.recordError(1281)},nc=(t,n,i)=>{if(i){var r,s=tJ.queries[t];ns(i,"boolean"==typeof(r=tJ.currentContext.version<2?nO.disjointTimerQueryExt.getQueryObjectEXT(s,n):nO.getQueryParameter(s,n))?r?1:0:r)}else tJ.recordError(1281)},nu=(t,n,i)=>{if(i){var r,s=tJ.queries[t],o=nO.disjointTimerQueryExt.getQueryObjectEXT(s,n);r="boolean"==typeof o?o?1:0:o,L[i>>2]=r}else tJ.recordError(1281)},nd=t=>"]"==t.slice(-1)&&t.lastIndexOf("["),np=t=>{var n,i,r=t.uniformLocsById,s=t.uniformSizeAndIdsByName;if(!r)for(t.uniformLocsById=r={},t.uniformArrayNamesById={},n=0;n<nO.getProgramParameter(t,35718);++n){var o=nO.getActiveUniform(t,n),a=o.name,l=o.size,c=nd(a),u=c>0?a.slice(0,c):a,d=t.uniformIdCounter;for(t.uniformIdCounter+=l,s[u]=[l,d],i=0;i<l;++i)r[d]=i,t.uniformArrayNamesById[d++]=u}},nh=t=>{var n=nO.currentProgram;if(n){var i=n.uniformLocsById[t];return"number"==typeof i&&(n.uniformLocsById[t]=i=nO.getUniformLocation(n,n.uniformArrayNamesById[t]+(i>0?`[${i}]`:""))),i}tJ.recordError(1282)},nf=(t,n,i,r)=>{if(i){np(t=tJ.programs[t]);var s=nO.getUniform(t,nh(n));if("number"==typeof s||"boolean"==typeof s)switch(r){case 0:L[i>>2]=s;break;case 2:P[i>>2]=s}else for(var o=0;o<s.length;o++)switch(r){case 0:L[i+4*o>>2]=s[o];break;case 2:P[i+4*o>>2]=s[o]}}else tJ.recordError(1281)},nm=(t,n,i,r)=>{if(i){var s=nO.getVertexAttrib(t,n);if(34975==n)L[i>>2]=s&&s.name;else if("number"==typeof s||"boolean"==typeof s)switch(r){case 0:L[i>>2]=s;break;case 2:P[i>>2]=s;break;case 5:L[i>>2]=Math.fround(s)}else for(var o=0;o<s.length;o++)switch(r){case 0:L[i+4*o>>2]=s[o];break;case 2:P[i+4*o>>2]=s[o];break;case 5:L[i+4*o>>2]=Math.fround(s[o])}}else tJ.recordError(1281)},ng=(t,n,i)=>{nm(t,n,i,0)},nx=t=>{var n=tJ.vaos[t];return n?nO.isVertexArray(n):0},ny=t=>0==(t-=5120)?M:1==t?I:2==t?T:4==t?L:6==t?P:5==t||28922==t||28520==t||30779==t||30782==t?j:B,nv=t=>31-Math.clz32(t.BYTES_PER_ELEMENT),nb=(t,n,i,r,s,o)=>{let a;var l=ny(t),c=nv(l),u=r*((({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4})[n-6402]||1)*(1<<c)*i+(a=tJ.unpackAlignment)-1&-a);return l.subarray(s>>c,s+u>>c)},nA=[],nw=[],nC=(t,n)=>{nO.vertexAttribDivisor(t,n)},n_=t=>{var n=(t-_.buffer.byteLength+65535)/65536;try{return _.grow(n),N(),1}catch(t){}},nS={removeAllEventListeners(){for(;nS.eventHandlers.length;)nS._removeHandler(nS.eventHandlers.length-1);nS.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(t,n,i){for(var r in nS.deferredCalls){var s=nS.deferredCalls[r];if(s.targetFunction==t&&function(t,n){if(t.length!=n.length)return!1;for(var i in t)if(t[i]!=n[i])return!1;return!0}(s.argsList,i))return}nS.deferredCalls.push({targetFunction:t,precedence:n,argsList:i}),nS.deferredCalls.sort((t,n)=>t.precedence<n.precedence)},removeDeferredCalls(t){for(var n=0;n<nS.deferredCalls.length;++n)nS.deferredCalls[n].targetFunction==t&&(nS.deferredCalls.splice(n,1),--n)},canPerformEventHandlerRequests:()=>navigator.userActivation?navigator.userActivation.isActive:nS.inEventHandler&&nS.currentEventHandler.allowsDeferredCalls,runDeferredCalls(){if(nS.canPerformEventHandlerRequests())for(var t=0;t<nS.deferredCalls.length;++t){var n=nS.deferredCalls[t];nS.deferredCalls.splice(t,1),--t,n.targetFunction.apply(null,n.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(t,n)=>{for(var i=0;i<nS.eventHandlers.length;++i)nS.eventHandlers[i].target!=t||n&&n!=nS.eventHandlers[i].eventTypeString||nS._removeHandler(i--)},_removeHandler(t){var n=nS.eventHandlers[t];n.target.removeEventListener(n.eventTypeString,n.eventListenerFunc,n.useCapture),nS.eventHandlers.splice(t,1)},registerOrRemoveHandler(t){if(!t.target)return -4;if(t.callbackfunc)t.eventListenerFunc=function(n){++nS.inEventHandler,nS.currentEventHandler=t,nS.runDeferredCalls(),t.handlerFunc(n),nS.runDeferredCalls(),--nS.inEventHandler},t.target.addEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),nS.eventHandlers.push(t);else for(var n=0;n<nS.eventHandlers.length;++n)nS.eventHandlers[n].target==t.target&&nS.eventHandlers[n].eventTypeString==t.eventTypeString&&nS._removeHandler(n--);return 0},getNodeNameForTarget:t=>t?t==window?"#window":t==screen?"#screen":t?.nodeName||"":"",fullscreenEnabled:()=>document.fullscreenEnabled||document.webkitFullscreenEnabled},nk=["default","low-power","high-performance"],nE=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0],nM=t=>{var n;return nE[t=(n=t)>2?ek(n):n]||("undefined"!=typeof document?document.querySelector(t):void 0)},nI={},nT=()=>{if(!nT.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(var n in nI)void 0===nI[n]?delete t[n]:t[n]=nI[n];var i=[];for(var n in t)i.push(`${n}=${t[n]}`);nT.strings=i}return nT.strings},nB=(t,n,i,r)=>{for(var s=0,o=0;o<i;o++){var a=j[n>>2],l=j[n+4>>2];n+=8;var c=eS.read(t,M,a,l,r);if(c<0)return -1;if(s+=c,c<l)break;void 0!==r&&(r+=c)}return s},nL=[31,29,31,30,31,30,31,31,30,31,30,31],nj=[31,28,31,30,31,30,31,31,30,31,30,31],nP=(t,n)=>{M.set(t,n)},nR=(t,n,i,r)=>{var s=j[r+40>>2],o={tm_sec:L[r>>2],tm_min:L[r+4>>2],tm_hour:L[r+8>>2],tm_mday:L[r+12>>2],tm_mon:L[r+16>>2],tm_year:L[r+20>>2],tm_wday:L[r+24>>2],tm_yday:L[r+28>>2],tm_isdst:L[r+32>>2],tm_gmtoff:L[r+36>>2],tm_zone:s?ek(s):""},a=ek(i),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in l)a=a.replace(RegExp(c,"g"),l[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(t,n,i){for(var r="number"==typeof t?t.toString():t||"";r.length<n;)r=i[0]+r;return r}function h(t,n){return p(t,n,"0")}function f(t,n){var i;function r(t){return t<0?-1:t>0?1:0}return 0===(i=r(t.getFullYear()-n.getFullYear()))&&0===(i=r(t.getMonth()-n.getMonth()))&&(i=r(t.getDate()-n.getDate())),i}function m(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function g(t){var n=((t,n)=>{for(var i=new Date(t.getTime());n>0;){var r=tN(i.getFullYear()),s=i.getMonth(),o=(r?nL:nj)[s];if(!(n>o-i.getDate()))return i.setDate(i.getDate()+n),i;n-=o-i.getDate()+1,i.setDate(1),s<11?i.setMonth(s+1):(i.setMonth(0),i.setFullYear(i.getFullYear()+1))}return i})(new Date(t.tm_year+1900,0,1),t.tm_yday),i=new Date(n.getFullYear(),0,4),r=new Date(n.getFullYear()+1,0,4),s=m(i),o=m(r);return 0>=f(s,n)?0>=f(o,n)?n.getFullYear()+1:n.getFullYear():n.getFullYear()-1}var x={"%a":t=>u[t.tm_wday].substring(0,3),"%A":t=>u[t.tm_wday],"%b":t=>d[t.tm_mon].substring(0,3),"%B":t=>d[t.tm_mon],"%C":t=>h((t.tm_year+1900)/100|0,2),"%d":t=>h(t.tm_mday,2),"%e":t=>p(t.tm_mday,2," "),"%g":t=>g(t).toString().substring(2),"%G":g,"%H":t=>h(t.tm_hour,2),"%I":t=>{var n=t.tm_hour;return 0==n?n=12:n>12&&(n-=12),h(n,2)},"%j":t=>h(t.tm_mday+((t,n)=>{for(var i=0,r=0;r<=n;i+=t[r++]);return i})(tN(t.tm_year+1900)?nL:nj,t.tm_mon-1),3),"%m":t=>h(t.tm_mon+1,2),"%M":t=>h(t.tm_min,2),"%n":()=>"\n","%p":t=>t.tm_hour>=0&&t.tm_hour<12?"AM":"PM","%S":t=>h(t.tm_sec,2),"%t":()=>"	","%u":t=>t.tm_wday||7,"%U":t=>h(Math.floor((t.tm_yday+7-t.tm_wday)/7),2),"%V":t=>{var n=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&n++,n){if(53==n){var i=(t.tm_wday+371-t.tm_yday)%7;4==i||3==i&&tN(t.tm_year)||(n=1)}}else{n=52;var r=(t.tm_wday+7-t.tm_yday-1)%7;(4==r||5==r&&tN(t.tm_year%400-1))&&n++}return h(n,2)},"%w":t=>t.tm_wday,"%W":t=>h(Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7),2),"%y":t=>(t.tm_year+1900).toString().substring(2),"%Y":t=>t.tm_year+1900,"%z":t=>{var n=t.tm_gmtoff;return(n>=0?"+":"-")+String("0000"+(n=(n=Math.abs(n)/60)/60*100+n%60)).slice(-4)},"%Z":t=>t.tm_zone,"%%":()=>"%"};for(var c in a=a.replace(/%%/g,"\0\0"),x)a.includes(c)&&(a=a.replace(RegExp(c,"g"),x[c](o)));var y=ev(a=a.replace(/\0\0/g,"%"),!1);return y.length>n?0:(nP(y,t),y.length-1)},nD=t=>{var n=ex(t)+1,i=n5(n);return t_(t,i,n),i},nF=function(t,n,i,r){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=eS.nextInode++,this.name=n,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(nF.prototype,{read:{get:function(){return(365&this.mode)==365},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return(146&this.mode)==146},set:function(t){t?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return eS.isDir(this.mode)}},isDevice:{get:function(){return eS.isChrdev(this.mode)}}}),eS.FSNode=nF,eS.createPreloadedFile=(t,n,i,r,s,o,a,l,c,u)=>{var p,h,f=n?eh.resolve(ed.join2(t,n)):t;function m(i){var d,p;function h(i){u?.(),l||eS.createDataFile(t,n,i,r,s,c),o?.(),Z()}d=()=>{a?.(),Z()},void 0!==tK&&tK.init(),p=!1,eC.forEach(t=>{p||t.canHandle(f)&&(t.handle(i,f,h,d),p=!0)}),p||h(i)}$(),"string"==typeof i?(h=p?"":`al ${i}`,d(i,t=>{m(new Uint8Array(t)),h&&Z()},t=>{if(!a)throw`Loading data file "${i}" failed.`;a()}),h&&$()):m(i)},eS.staticInit(),t.FS_createPath=eS.createPath,t.FS_createDataFile=eS.createDataFile,t.FS_createPreloadedFile=eS.createPreloadedFile,t.FS_unlink=eS.unlink,t.FS_createLazyFile=eS.createLazyFile,t.FS_createDevice=eS.createDevice,eB=t.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=Array(256),n=0;n<256;++n)t[n]=String.fromCharCode(n);eL=t})(),ej=t.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(e5.prototype,{isAliasOf(t){if(!(this instanceof e5)||!(t instanceof e5))return!1;var n=this.$$.ptrType.registeredClass,i=this.$$.ptr;t.$$=t.$$;for(var r=t.$$.ptrType.registeredClass,s=t.$$.ptr;n.baseClass;)i=n.upcast(i),n=n.baseClass;for(;r.baseClass;)s=r.upcast(s),r=r.baseClass;return n===r&&i===s},clone(){if(this.$$.ptr||eq(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,n=e3(Object.create(Object.getPrototypeOf(this),{$$:{value:{count:(t=this.$$).count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||eq(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&eH("Object already scheduled for deletion"),e$(this),eZ(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||eq(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&eH("Object already scheduled for deletion"),eX.push(this),1===eX.length&&ez&&ez(eJ),this.$$.deleteScheduled=!0,this}}),t.getInheritedInstanceCount=()=>Object.keys(e0).length,t.getLiveInheritedInstances=()=>{var t=[];for(var n in e0)e0.hasOwnProperty(n)&&t.push(e0[n]);return t},t.flushPendingDeletes=eJ,t.setDelayFunction=t=>{ez=t,eX.length&&ez&&ez(eJ)},Object.assign(tr.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor?.(t)},argPackAdvance:8,readValueFromPointer:ti,fromWireType:function(t){var n=this.getPointee(t);if(!n)return this.destructor(t),null;var i=e1(this.registeredClass,n);if(void 0!==i){if(0===i.$$.count.value)return i.$$.ptr=n,i.$$.smartPtr=t,i.clone();var r=i.clone();return this.destructor(t),r}function s(){return this.isSmartPointer?e2(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:t}):e2(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o,a=eK[this.registeredClass.getActualType(n)];if(!a)return s.call(this);o=this.isConst?a.constPointerType:a.pointerType;var l=eY(n,this.registeredClass,o.registeredClass);return null===l?s.call(this):this.isSmartPointer?e2(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:t}):e2(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}}),to=t.UnboundTypeError=(nt=Error,(ni=e4(nn="UnboundTypeError",function(t){this.name=nn,this.message=t;var n=Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(nt.prototype),ni.prototype.constructor=ni,ni.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},ni),tx.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Object.assign(tx,{reserved:tx.allocated.length}),t.count_emval_handles=()=>{for(var t=0,n=tx.reserved;n<tx.allocated.length;++n)void 0!==tx.allocated[n]&&++t;return t},t.requestFullscreen=tK.requestFullscreen,t.requestAnimationFrame=tK.requestAnimationFrame,t.setCanvasSize=tK.setCanvasSize,t.pauseMainLoop=tK.mainLoop.pause,t.resumeMainLoop=tK.mainLoop.resume,t.getUserMedia=tK.getUserMedia,t.createContext=tK.createContext;for(var nO,nN={},nU={},nV=0;nV<32;++nV)t4.push(Array(nV));var nH=new Float32Array(288);for(nV=0;nV<288;++nV)nA[nV]=nH.subarray(0,nV+1);var nQ=new Int32Array(288);for(nV=0;nV<288;++nV)nw[nV]=nQ.subarray(0,nV+1);var nz,nG={Qa:t=>{var n=new ec(t);return n.get_caught()||n.set_caught(!0),n.set_rethrown(!1),ea.push(n),n6(n.excPtr),n.get_exception_ptr()},Pa:()=>{n1(0,0);var t=ea.pop();n4(t.excPtr),el=0},o:()=>eu([]),ca:t=>eu([t]),l:(t,n,i)=>{throw new ec(t).init(n,i),el=t},O:t=>{throw el||(el=t),el},Ib:function(t,n){try{return t=eE.getStr(t),eS.chmod(t,n),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Jb:function(t,n){try{return eS.fchmod(t,n),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},ia:function(t,n,i){eE.varargs=i;try{var r=eE.getStreamFromFD(t);switch(n){case 0:if((s=eE.get())<0)break;for(;eS.streams[s];)s++;return eS.createStream(r,s).fd;case 1:case 2:case 13:case 14:return 0;case 3:return r.flags;case 4:var s=eE.get();return r.flags|=s,0;case 12:return T[(s=eE.getp())+0>>1]=2,0}return -28}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Hb:function(t,n){try{var i=eE.getStreamFromFD(t);return eE.doStat(eS.stat,i.path,n)}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Mb:function(t,n,i){eE.varargs=i;try{var r=eE.getStreamFromFD(t);switch(n){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return r.tty?0:-59;case 21505:if(!r.tty)return -59;if(r.tty.ops.ioctl_tcgets){var s=r.tty.ops.ioctl_tcgets(r),o=eE.getp();L[o>>2]=s.c_iflag||0,L[o+4>>2]=s.c_oflag||0,L[o+8>>2]=s.c_cflag||0,L[o+12>>2]=s.c_lflag||0;for(var a=0;a<32;a++)M[o+a+17>>0]=s.c_cc[a]||0}return 0;case 21506:case 21507:case 21508:if(!r.tty)return -59;if(r.tty.ops.ioctl_tcsets){var l=L[(o=eE.getp())>>2],c=L[o+4>>2],u=L[o+8>>2],d=L[o+12>>2],p=[];for(a=0;a<32;a++)p.push(M[o+a+17>>0]);return r.tty.ops.ioctl_tcsets(r.tty,n,{c_iflag:l,c_oflag:c,c_cflag:u,c_lflag:d,c_cc:p})}return 0;case 21519:return r.tty?(L[(o=eE.getp())>>2]=0,0):-59;case 21520:return r.tty?-28:-59;case 21531:return o=eE.getp(),eS.ioctl(r,n,o);case 21523:if(!r.tty)return -59;if(r.tty.ops.ioctl_tiocgwinsz){var h=r.tty.ops.ioctl_tiocgwinsz(r.tty);T[(o=eE.getp())>>1]=h[0],T[o+2>>1]=h[1]}return 0;default:return -28}}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Fb:function(t,n){try{return t=eE.getStr(t),eE.doStat(eS.lstat,t,n)}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Db:function(t,n,i,r){try{n=eE.getStr(n);var s=256&r,o=4096&r;return r&=-6401,n=eE.calculateAt(t,n,o),eE.doStat(s?eS.lstat:eS.stat,n,i)}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},va:function(t,n,i,r){eE.varargs=r;try{n=eE.getStr(n),n=eE.calculateAt(t,n);var s=r?eE.get():0;return eS.open(n,i,s).fd}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},rb:function(t,n,i,r){try{return n=eE.getStr(n),r=eE.getStr(r),n=eE.calculateAt(t,n),r=eE.calculateAt(i,r),eS.rename(n,r),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},sb:function(t){try{return t=eE.getStr(t),eS.rmdir(t),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Gb:function(t,n){try{return t=eE.getStr(t),eE.doStat(eS.stat,t,n)}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},tb:function(t,n,i){try{return n=eE.getStr(n),n=eE.calculateAt(t,n),0===i?eS.unlink(n):512===i?eS.rmdir(n):Y("Invalid flags passed to unlinkat"),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},Ba:t=>{var n=eM[t];delete eM[t];var i=n.elements,r=i.length,s=i.map(t=>t.getterReturnType).concat(i.map(t=>t.setterArgumentType)),o=n.rawConstructor,a=n.rawDestructor;eO([t],s,function(t){return i.forEach((n,i)=>{var s=t[i],o=n.getter,a=n.getterContext,l=t[i+r],c=n.setter,u=n.setterContext;n.read=t=>s.fromWireType(o(a,t)),n.write=(t,n)=>{var i=[];c(u,t,l.toWireType(i,n)),eI(i)}}),[{name:n.name,fromWireType:t=>{for(var n=Array(r),s=0;s<r;++s)n[s]=i[s].read(t);return a(t),n},toWireType:(t,s)=>{if(r!==s.length)throw TypeError(`Incorrect number of tuple elements for ${n.name}: expected=${r}, actual=${s.length}`);for(var l=o(),c=0;c<r;++c)i[c].write(l,s[c]);return null!==t&&t.push(a,l),l},argPackAdvance:8,readValueFromPointer:eT,destructorFunction:a}]})},A:t=>{var n=eN[t];delete eN[t];var i=n.rawConstructor,r=n.rawDestructor,s=n.fields;eO([t],s.map(t=>t.getterReturnType).concat(s.map(t=>t.setterArgumentType)),t=>{var o={};return s.forEach((n,i)=>{var r=n.fieldName,a=t[i],l=n.getter,c=n.getterContext,u=t[i+s.length],d=n.setter,p=n.setterContext;o[r]={read:t=>a.fromWireType(l(c,t)),write:(t,n)=>{var i=[];d(p,t,u.toWireType(i,n)),eI(i)}}}),[{name:n.name,fromWireType:t=>{var n={};for(var i in o)n[i]=o[i].read(t);return r(t),n},toWireType:(t,n)=>{for(var s in o)if(!(s in n))throw TypeError(`Missing field: "${s}"`);var a=i();for(s in o)o[s].write(a,n[s]);return null!==t&&t.push(r,a),a},argPackAdvance:8,readValueFromPointer:eT,destructorFunction:r}]})},Ea:(t,n,i,r,s)=>{var o=-1!=(n=eV(n)).indexOf("u");eQ(t,{name:n,fromWireType:t=>t,toWireType:function(t,n){if("bigint"!=typeof n&&"number"!=typeof n)throw TypeError(`Cannot convert "${eU(n)}" to ${this.name}`);return"number"==typeof n&&(n=BigInt(n)),n},argPackAdvance:8,readValueFromPointer:eG(n,i,!o),destructorFunction:null})},ue:(t,n,i,r)=>{eQ(t,{name:n=eV(n),fromWireType:function(t){return!!t},toWireType:function(t,n){return n?i:r},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(I[t])},destructorFunction:null})},u:(t,n,i,r,s,o,a,l,c,u,d,p,h)=>{d=eV(d),o=tu(s,o),l&&=tu(a,l),u&&=tu(c,u),h=tu(p,h);var f=(t=>{if(void 0===t)return"_unknown";var n=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return n>=48&&n<=57?`_${t}`:t})(d);e8(f,function(){tp(`Cannot construct ${d} due to unbound types`,[r])}),eO([t,n,i],r?[r]:[],function(n){n=n[0],s=r?(i=n.registeredClass).instancePrototype:e5.prototype;var i,s,a=e4(d,function(){if(Object.getPrototypeOf(this)!==c)throw new ej("Use 'new' to construct "+d);if(void 0===p.constructor_body)throw new ej(d+" has no accessible constructor");var t=p.constructor_body[arguments.length];if(void 0===t)throw new ej(`Tried to invoke ctor of ${d} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(p.constructor_body).toString()}) parameters instead!`);return t.apply(this,arguments)}),c=Object.create(s,{constructor:{value:a}});a.prototype=c;var p=new e7(d,a,c,h,i,o,l,u);p.baseClass&&(p.baseClass.__derivedClasses??=[],p.baseClass.__derivedClasses.push(p));var m=new tr(d,p,!0,!1,!1),g=new tr(d+"*",p,!1,!1,!1),x=new tr(d+" const*",p,!1,!0,!1);return eK[t]={pointerType:g,constPointerType:x},ta(f,a),[m,g,x]})},w:(t,n,i,r,s,o)=>{var a=th(n,i);s=tu(r,s),eO([],[t],function(t){var i=`constructor ${(t=t[0]).name}`;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[n-1])throw new ej(`Cannot register multiple constructors with identical number of parameters (${n-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.registeredClass.constructor_body[n-1]=()=>{tp(`Cannot construct ${t.name} due to unbound types`,a)},eO([],a,r=>(r.splice(1,0,null),t.registeredClass.constructor_body[n-1]=tf(i,r,null,s,o),[])),[]})},d:(t,n,i,r,s,o,a,l,c)=>{var u=th(i,r);n=tg(n=eV(n)),o=tu(s,o),eO([],[t],function(t){var r=`${(t=t[0]).name}.${n}`;function s(){tp(`Cannot call ${r} due to unbound types`,u)}n.startsWith("@@")&&(n=Symbol[n.substring(2)]),l&&t.registeredClass.pureVirtualFunctions.push(n);var c=t.registeredClass.instancePrototype,d=c[n];return void 0===d||void 0===d.overloadTable&&d.className!==t.name&&d.argCount===i-2?(s.argCount=i-2,s.className=t.name,c[n]=s):(e6(c,n,r),c[n].overloadTable[i-2]=s),eO([],u,function(s){var l=tf(r,s,t,o,a);return void 0===c[n].overloadTable?(l.argCount=i-2,c[n]=l):c[n].overloadTable[i-2]=l,[]}),[]})},te:t=>eQ(t,tb),ba:(t,n,i,r)=>{function s(){}n=eV(n),s.values={},eQ(t,{name:n,constructor:s,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,n)=>n.value,argPackAdvance:8,readValueFromPointer:tA(n,i,r),destructorFunction:null}),e8(n,s)},I:(t,n,i)=>{var r=tw(t,"enum");n=eV(n);var s=r.constructor,o=Object.create(r.constructor.prototype,{value:{value:i},constructor:{value:e4(`${r.name}_${n}`,function(){})}});s.values[i]=o,s[n]=o},Da:(t,n,i)=>{eQ(t,{name:n=eV(n),fromWireType:t=>t,toWireType:(t,n)=>n,argPackAdvance:8,readValueFromPointer:tC(n,i),destructorFunction:null})},J:(t,n,i,r,s,o,a)=>{var l=th(n,i);t=tg(t=eV(t)),s=tu(r,s),e8(t,function(){tp(`Cannot call ${t} due to unbound types`,l)},n-1),eO([],l,function(i){var r=[i[0],null].concat(i.slice(1));return ta(t,tf(t,r,null,s,o),n-1),[]})},Q:(t,n,i,r,s)=>{n=eV(n),-1===s&&(s=4294967295);var o=t=>t;if(0===r){var a=32-8*i;o=t=>t<<a>>>a}var l=n.includes("unsigned");eQ(t,{name:n,fromWireType:o,toWireType:l?function(t,n){return this.name,n>>>0}:function(t,n){return this.name,n},argPackAdvance:8,readValueFromPointer:eG(n,i,0!==r),destructorFunction:null})},E:(t,n,i)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];function s(t){var n=j[t>>2],i=j[t+4>>2];return new r(M.buffer,i,n)}eQ(t,{name:i=eV(i),fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},kf:(t,n,i,r,s,o,a,l,c,u,d,p)=>{i=eV(i),o=tu(s,o),l=tu(a,l),u=tu(c,u),p=tu(d,p),eO([t],[n],function(t){return t=t[0],[new tr(i,t.registeredClass,!1,!1,!0,t,r,o,l,u,p)]})},Fa:(t,n)=>{var i="std::string"===(n=eV(n));eQ(t,{name:n,fromWireType(t){var n,r=j[t>>2],s=t+4;if(i)for(var o=s,a=0;a<=r;++a){var l=s+a;if(a==r||0==I[l]){var c=ek(o,l-o);void 0===n?n=c:n+="\0"+c,o=l+1}}else{var u=Array(r);for(a=0;a<r;++a)u[a]=String.fromCharCode(I[s+a]);n=u.join("")}return nZ(t),n},toWireType(t,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var r,s="string"==typeof n;s||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||eH("Cannot pass non-string to std::string"),r=i&&s?ex(n):n.length;var o=nW(4+r+1),a=o+4;if(j[o>>2]=r,i&&s)t_(n,a,r+1);else if(s)for(var l=0;l<r;++l){var c=n.charCodeAt(l);c>255&&(nZ(a),eH("String has UTF-16 code units that do not fit in 8 bits")),I[a+l]=c}else for(l=0;l<r;++l)I[a+l]=n[l];return null!==t&&t.push(nZ,o),o},argPackAdvance:8,readValueFromPointer:ti,destructorFunction(t){nZ(t)}})},ja:(t,n,i)=>{var r,s,o,a,l;i=eV(i),2===n?(r=tk,s=tE,a=tM,o=()=>B,l=1):4===n&&(r=tI,s=tT,a=tB,o=()=>j,l=2),eQ(t,{name:i,fromWireType:t=>{for(var i,s=j[t>>2],a=o(),c=t+4,u=0;u<=s;++u){var d=t+4+u*n;if(u==s||0==a[d>>l]){var p=r(c,d-c);void 0===i?i=p:i+="\0"+p,c=d+n}}return nZ(t),i},toWireType:(t,r)=>{"string"!=typeof r&&eH(`Cannot pass non-string to C++ string type ${i}`);var o=a(r),c=nW(4+o+n);return j[c>>2]=o>>l,s(r,c+4,o+n),null!==t&&t.push(nZ,c),c},argPackAdvance:8,readValueFromPointer:eT,destructorFunction(t){nZ(t)}})},Ca:(t,n,i,r,s,o)=>{eM[t]={name:eV(n),rawConstructor:tu(i,r),rawDestructor:tu(s,o),elements:[]}},P:(t,n,i,r,s,o,a,l,c)=>{eM[t].elements.push({getterReturnType:n,getter:tu(i,r),getterContext:s,setterArgumentType:o,setter:tu(a,l),setterContext:c})},B:(t,n,i,r,s,o)=>{eN[t]={name:eV(n),rawConstructor:tu(i,r),rawDestructor:tu(s,o),fields:[]}},m:(t,n,i,r,s,o,a,l,c,u)=>{eN[t].fields.push({fieldName:eV(n),getterReturnType:i,getter:tu(r,s),getterContext:o,setterArgumentType:a,setter:tu(l,c),setterContext:u})},ve:(t,n)=>{eQ(t,{isVoid:!0,name:n=eV(n),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},Lb:()=>1,mb:()=>{throw 1/0},j:(t,n,i)=>(t=tv.toValue(t),tL(n=tw(n,"emval::as"),i,t)),x:(t,n,i,r)=>(t=tj[t])(null,n=tv.toValue(n),i,r),K:(t,n,i,r,s)=>(t=tj[t])(n=tv.toValue(n),n[i=tR(i)],r,s),c:ty,se:(t,n)=>(t=tv.toValue(t))==(n=tv.toValue(n)),L:t=>0===t?tv.toHandle(tD()):(t=tR(t),tv.toHandle(tD()[t])),s:(t,n,i)=>{var r,s,o=((t,n)=>{for(var i=Array(t),r=0;r<t;++r)i[r]=tw(j[n+4*r>>2],"parameter "+r);return i})(t,n),a=o.shift(),l=Array(--t);return r=e4(`methodCaller<(${o.map(t=>t.name).join(", ")}) => ${a.name}>`,(n,r,s,c)=>{for(var u=0,d=0;d<t;++d)l[d]=o[d].readValueFromPointer(c+u),u+=o[d].argPackAdvance;return tL(a,s,1===i?tF(r,l):r.apply(n,l))}),s=tj.length,tj.push(r),s},h:(t,n)=>(t=tv.toValue(t),n=tv.toValue(n),tv.toHandle(t[n])),e:t=>{t>4&&(tx.get(t).refcount+=1)},W:(t,n)=>(t=tv.toValue(t))instanceof(n=tv.toValue(n)),ma:t=>"number"==typeof(t=tv.toValue(t)),M:t=>"string"==typeof(t=tv.toValue(t)),Ka:()=>tv.toHandle([]),f:t=>tv.toHandle(tR(t)),y:()=>tv.toHandle({}),i:t=>{eI(tv.toValue(t)),ty(t)},k:(t,n,i)=>{t=tv.toValue(t),n=tv.toValue(n),i=tv.toValue(i),t[n]=i},g:(t,n)=>{var i=(t=tw(t,"_emval_take_value")).readValueFromPointer(n);return tv.toHandle(i)},vf:t=>{throw t=tv.toValue(t)},xd:t=>(t=tv.toValue(t),tv.toHandle(typeof t)),xb:function(t,n){var i=new Date(1e3*(t=tO(t)));L[n>>2]=i.getUTCSeconds(),L[n+4>>2]=i.getUTCMinutes(),L[n+8>>2]=i.getUTCHours(),L[n+12>>2]=i.getUTCDate(),L[n+16>>2]=i.getUTCMonth(),L[n+20>>2]=i.getUTCFullYear()-1900,L[n+24>>2]=i.getUTCDay();var r=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),s=(i.getTime()-r)/864e5|0;L[n+28>>2]=s},yb:function(t,n){var i=new Date(1e3*(t=tO(t)));L[n>>2]=i.getSeconds(),L[n+4>>2]=i.getMinutes(),L[n+8>>2]=i.getHours(),L[n+12>>2]=i.getDate(),L[n+16>>2]=i.getMonth(),L[n+20>>2]=i.getFullYear()-1900,L[n+24>>2]=i.getDay();var r=0|tQ(i);L[n+28>>2]=r,L[n+36>>2]=-60*i.getTimezoneOffset();var s=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1).getTimezoneOffset(),a=s.getTimezoneOffset(),l=0|(o!=a&&i.getTimezoneOffset()==Math.min(a,o));L[n+32>>2]=l},zb:function(t){var n,i,r,s,o,a,l,c,u;return BigInt((n=new Date(L[t+20>>2]+1900,L[t+16>>2],L[t+12>>2],L[t+8>>2],L[t+4>>2],L[t>>2],0),i=L[t+32>>2],r=n.getTimezoneOffset(),s=new Date(n.getFullYear(),0,1),o=new Date(n.getFullYear(),6,1).getTimezoneOffset(),l=Math.min(a=s.getTimezoneOffset(),o),i<0?L[t+32>>2]=Number(o!=a&&l==r):i>0!=(l==r)&&n.setTime(n.getTime()+6e4*((i>0?l:Math.max(a,o))-r)),L[t+24>>2]=n.getDay(),c=0|tQ(n),L[t+28>>2]=c,L[t>>2]=n.getSeconds(),L[t+4>>2]=n.getMinutes(),L[t+8>>2]=n.getHours(),L[t+12>>2]=n.getDate(),L[t+16>>2]=n.getMonth(),L[t+20>>2]=n.getYear(),isNaN(u=n.getTime())?-1:u/1e3))},vb:function(t,n,i,r,s,o,a){s=tO(s);try{if(isNaN(s))return 61;var l=eE.getStreamFromFD(r),c=eS.mmap(l,t,s,n,i),u=c.ptr;return L[o>>2]=c.allocated,j[a>>2]=u,0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},wb:function(t,n,i,r,s,o){o=tO(o);try{if(isNaN(o))return 61;var a=eE.getStreamFromFD(s);2&i&&eE.doMsync(t,a,n,r,o),eS.munmap(a)}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return-t.errno}},ob:(t,n,i)=>{var r=(new Date).getFullYear(),s=new Date(r,0,1),o=new Date(r,6,1),a=s.getTimezoneOffset(),l=o.getTimezoneOffset();function c(t){var n=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return n?n[1]:"GMT"}j[t>>2]=60*Math.max(a,l),L[n>>2]=Number(a!=l);var u=c(s),d=c(o),p=tz(u),h=tz(d);l<a?(j[i>>2]=p,j[i+4>>2]=h):(j[i>>2]=h,j[i+4>>2]=p)},b:()=>{Y("")},ye:function(t){var n=ek(t);localStorage.removeItem(n)},ua:(t,n,i,r,s)=>tX.chooseConfig(t,n,i,r,s),xa:(n,i,r,s)=>{if(62e3!=n)return tX.setErrorCode(12296),0;for(var o=1;;){var a=L[s>>2];if(12440!=a){if(12344==a)break;return tX.setErrorCode(12292),0}o=L[s+4>>2],s+=8}return o<2||o>3?(tX.setErrorCode(12293),0):(tX.contextAttributes.majorVersion=o-1,tX.contextAttributes.minorVersion=0,tX.context=tJ.createContext(t.canvas,tX.contextAttributes),0!=tX.context?(tX.setErrorCode(12288),tJ.makeContextCurrent(tX.context),t.useWebGL=!0,tK.moduleContextCreatedCallbacks.forEach(function(t){t()}),tJ.makeContextCurrent(null),62004):(tX.setErrorCode(12297),0))},eb:(t,n,i,r)=>62e3!=t?(tX.setErrorCode(12296),0):62002!=n?(tX.setErrorCode(12293),0):(tX.setErrorCode(12288),62006),cd:(t,n)=>62e3!=t?(tX.setErrorCode(12296),0):62004!=n?(tX.setErrorCode(12294),0):(tJ.deleteContext(tX.context),tX.setErrorCode(12288),tX.currentContext==n&&(tX.currentContext=0),1),Tc:(t,n)=>62e3!=t?(tX.setErrorCode(12296),0):(62006!=n?tX.setErrorCode(12301):(tX.currentReadSurface==n&&(tX.currentReadSurface=0),tX.currentDrawSurface==n&&(tX.currentDrawSurface=0),tX.setErrorCode(12288)),1),T:(t,n,i,r)=>{if(62e3!=t)return tX.setErrorCode(12296),0;if(62002!=n)return tX.setErrorCode(12293),0;if(!r)return tX.setErrorCode(12300),0;switch(tX.setErrorCode(12288),i){case 12320:return L[r>>2]=tX.contextAttributes.alpha?32:24,1;case 12321:return L[r>>2]=tX.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return L[r>>2]=8,1;case 12325:return L[r>>2]=tX.contextAttributes.depth?24:0,1;case 12326:return L[r>>2]=tX.contextAttributes.stencil?8:0,1;case 12327:case 12335:case 12340:return L[r>>2]=12344,1;case 12328:return L[r>>2]=62002,1;case 12329:case 12333:case 12334:case 12345:case 12346:case 12347:case 12349:case 12350:case 12354:return L[r>>2]=0,1;case 12330:case 12332:return L[r>>2]=4096,1;case 12331:return L[r>>2]=16777216,1;case 12337:return L[r>>2]=tX.contextAttributes.antialias?4:0,1;case 12338:return L[r>>2]=tX.contextAttributes.antialias?1:0,1;case 12339:case 12352:return L[r>>2]=4,1;case 12341:case 12342:case 12343:return L[r>>2]=-1,1;case 12348:return L[r>>2]=1,1;case 12351:return L[r>>2]=12430,1;default:return tX.setErrorCode(12292),0}},cc:t=>(tX.setErrorCode(12288),0!=t&&1!=t?0:62e3),za:()=>tX.errorCode,Tb:(t,n,i)=>62e3!=t?(tX.setErrorCode(12296),0):(n&&(L[n>>2]=1),i&&(L[i>>2]=4),tX.defaultDisplayInitialized=!0,tX.setErrorCode(12288),1),nc:(t,n,i,r)=>62e3!=t?(tX.setErrorCode(12296),0):0!=r&&62004!=r?(tX.setErrorCode(12294),0):0!=i&&62006!=i||0!=n&&62006!=n?(tX.setErrorCode(12301),0):(tJ.makeContextCurrent(r?tX.context:null),tX.currentContext=r,tX.currentDrawSurface=n,tX.currentReadSurface=i,tX.setErrorCode(12288),1),Aa:(n,i)=>{if(tX.defaultDisplayInitialized){if(t.ctx){if(!t.ctx.isContextLost())return tX.setErrorCode(12288),1;tX.setErrorCode(12302)}else tX.setErrorCode(12290)}else tX.setErrorCode(12289);return 0},Ic:t=>62e3!=t?(tX.setErrorCode(12296),0):(tX.currentContext=0,tX.currentReadSurface=0,tX.currentDrawSurface=0,tX.defaultDisplayInitialized=!1,tX.setErrorCode(12288),1),H:(t,n,i)=>t1(t,n,i),He:t=>{console.error(ek(t))},Ie:t=>{console.log(ek(t))},pa:t=>{console.warn(ek(t))},ga:()=>Date.now(),xe:function(){},pb:()=>2147483648,Kb:tm,eg:function(t){nO.activeTexture(t)},fg:(t,n)=>{nO.attachShader(tJ.programs[t],tJ.shaders[n])},bd:(t,n)=>{nO.beginQuery(t,tJ.queries[n])},oe:(t,n)=>{nO.disjointTimerQueryExt.beginQueryEXT(t,tJ.queries[n])},Pc:function(t){nO.beginTransformFeedback(t)},gg:(t,n,i)=>{nO.bindAttribLocation(tJ.programs[t],n,ek(i))},hg:(t,n)=>{35051==t?nO.currentPixelPackBufferBinding=n:35052==t&&(nO.currentPixelUnpackBufferBinding=n),nO.bindBuffer(t,tJ.buffers[n])},Mc:(t,n,i)=>{nO.bindBufferBase(t,n,tJ.buffers[i])},Nc:(t,n,i,r,s)=>{nO.bindBufferRange(t,n,tJ.buffers[i],r,s)},ef:(t,n)=>{nO.bindFramebuffer(t,tJ.framebuffers[n])},ff:(t,n)=>{nO.bindRenderbuffer(t,tJ.renderbuffers[n])},Qe:(t,n)=>{nO.bindSampler(t,tJ.samplers[n])},ig:(t,n)=>{nO.bindTexture(t,tJ.textures[n])},_b:(t,n)=>{nO.bindTransformFeedback(t,tJ.transformFeedbacks[n])},Df:t2,Ff:t2,jg:function(t,n,i,r){nO.blendColor(t,n,i,r)},kg:function(t){nO.blendEquation(t)},be:function(t,n){nO.blendEquationSeparate(t,n)},lg:function(t,n){nO.blendFunc(t,n)},ae:function(t,n,i,r){nO.blendFuncSeparate(t,n,i,r)},_e:function(t,n,i,r,s,o,a,l,c,u){nO.blitFramebuffer(t,n,i,r,s,o,a,l,c,u)},mg:(t,n,i,r)=>{tJ.currentContext.version>=2?i&&n?nO.bufferData(t,I,r,i,n):nO.bufferData(t,n,r):nO.bufferData(t,i?I.subarray(i,i+n):n,r)},ng:(t,n,i,r)=>{tJ.currentContext.version>=2?i&&nO.bufferSubData(t,n,I,r,i):nO.bufferSubData(t,n,I.subarray(r,r+i))},gf:function(t){return nO.checkFramebufferStatus(t)},og:function(t){nO.clear(t)},pc:function(t,n,i,r){nO.clearBufferfi(t,n,i,r)},qc:(t,n,i)=>{nO.clearBufferfv(t,n,P,i>>2)},sc:(t,n,i)=>{nO.clearBufferiv(t,n,L,i>>2)},rc:(t,n,i)=>{nO.clearBufferuiv(t,n,j,i>>2)},pg:function(t,n,i,r){nO.clearColor(t,n,i,r)},$d:function(t){nO.clearDepth(t)},qg:function(t){nO.clearStencil(t)},Ma:(t,n,i)=>(i=Number(i),nO.clientWaitSync(tJ.syncs[t],n,i)),rg:(t,n,i,r)=>{nO.colorMask(!!t,!!n,!!i,!!r)},sg:t=>{nO.compileShader(tJ.shaders[t])},tg:(t,n,i,r,s,o,a,l)=>{tJ.currentContext.version>=2?nO.currentPixelUnpackBufferBinding||!a?nO.compressedTexImage2D(t,n,i,r,s,o,a,l):nO.compressedTexImage2D(t,n,i,r,s,o,I,l,a):nO.compressedTexImage2D(t,n,i,r,s,o,l?I.subarray(l,l+a):null)},hd:(t,n,i,r,s,o,a,l,c)=>{nO.currentPixelUnpackBufferBinding?nO.compressedTexImage3D(t,n,i,r,s,o,a,l,c):nO.compressedTexImage3D(t,n,i,r,s,o,a,I,c,l)},ug:(t,n,i,r,s,o,a,l,c)=>{tJ.currentContext.version>=2?nO.currentPixelUnpackBufferBinding||!l?nO.compressedTexSubImage2D(t,n,i,r,s,o,a,l,c):nO.compressedTexSubImage2D(t,n,i,r,s,o,a,I,c,l):nO.compressedTexSubImage2D(t,n,i,r,s,o,a,c?I.subarray(c,c+l):null)},gd:(t,n,i,r,s,o,a,l,c,u,d)=>{nO.currentPixelUnpackBufferBinding?nO.compressedTexSubImage3D(t,n,i,r,s,o,a,l,c,u,d):nO.compressedTexSubImage3D(t,n,i,r,s,o,a,l,c,I,d,u)},Ye:function(t,n,i,r,s){nO.copyBufferSubData(t,n,i,r,s)},_d:function(t,n,i,r,s,o,a,l){nO.copyTexImage2D(t,n,i,r,s,o,a,l)},vg:function(t,n,i,r,s,o,a,l){nO.copyTexSubImage2D(t,n,i,r,s,o,a,l)},id:function(t,n,i,r,s,o,a,l,c){nO.copyTexSubImage3D(t,n,i,r,s,o,a,l,c)},wg:()=>{var t=tJ.getNewId(tJ.programs),n=nO.createProgram();return n.name=t,n.maxUniformLength=n.maxAttributeLength=n.maxUniformBlockNameLength=0,n.uniformIdCounter=1,tJ.programs[t]=n,t},xg:t=>{var n=tJ.getNewId(tJ.shaders);return tJ.shaders[n]=nO.createShader(t),n},yg:function(t){nO.cullFace(t)},zg:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.buffers[r];s&&(nO.deleteBuffer(s),s.name=0,tJ.buffers[r]=null,r==nO.currentPixelPackBufferBinding&&(nO.currentPixelPackBufferBinding=0),r==nO.currentPixelUnpackBufferBinding&&(nO.currentPixelUnpackBufferBinding=0))}},hf:(t,n)=>{for(var i=0;i<t;++i){var r=L[n+4*i>>2],s=tJ.framebuffers[r];s&&(nO.deleteFramebuffer(s),s.name=0,tJ.framebuffers[r]=null)}},Ag:t=>{if(t){var n=tJ.programs[t];n?(nO.deleteProgram(n),n.name=0,tJ.programs[t]=null):tJ.recordError(1281)}},ed:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.queries[r];s&&(nO.deleteQuery(s),tJ.queries[r]=null)}},qe:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.queries[r];s&&(nO.disjointTimerQueryExt.deleteQueryEXT(s),tJ.queries[r]=null)}},jf:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.renderbuffers[r];s&&(nO.deleteRenderbuffer(s),s.name=0,tJ.renderbuffers[r]=null)}},Re:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.samplers[r];s&&(nO.deleteSampler(s),s.name=0,tJ.samplers[r]=null)}},Bg:t=>{if(t){var n=tJ.shaders[t];n?(nO.deleteShader(n),tJ.shaders[t]=null):tJ.recordError(1281)}},Ze:t=>{if(t){var n=tJ.syncs[t];n?(nO.deleteSync(n),n.name=0,tJ.syncs[t]=null):tJ.recordError(1281)}},Cg:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.textures[r];s&&(nO.deleteTexture(s),s.name=0,tJ.textures[r]=null)}},Zb:(t,n)=>{for(var i=0;i<t;i++){var r=L[n+4*i>>2],s=tJ.transformFeedbacks[r];s&&(nO.deleteTransformFeedback(s),s.name=0,tJ.transformFeedbacks[r]=null)}},Ef:t3,Gf:t3,Zd:function(t){nO.depthFunc(t)},Dg:t=>{nO.depthMask(!!t)},Yd:function(t,n){nO.depthRange(t,n)},Xd:(t,n)=>{nO.detachShader(tJ.programs[t],tJ.shaders[n])},Eg:function(t){nO.disable(t)},Fg:t=>{nO.disableVertexAttribArray(t)},Gg:(t,n,i)=>{nO.drawArrays(t,n,i)},Bf:t5,ee:t5,pd:t5,yf:(t,n,i,r,s)=>{nO.dibvbi.drawArraysInstancedBaseInstanceWEBGL(t,n,i,r,s)},qd:t5,Nb:t5,wf:t6,ld:t6,fe:t6,Hg:t8,Cf:t7,de:t7,md:t7,zf:(t,n,i,r,s,o,a)=>{nO.dibvbi.drawElementsInstancedBaseVertexBaseInstanceWEBGL(t,n,i,r,s,o,a)},nd:t7,od:t7,pf:(t,n,i,r,s,o)=>{t8(t,r,s,o)},Ig:function(t){nO.enable(t)},Jg:t=>{nO.enableVertexAttribArray(t)},ad:function(t){nO.endQuery(t)},ne:t=>{nO.disjointTimerQueryExt.endQueryEXT(t)},Oc:function(){nO.endTransformFeedback()},We:(t,n)=>{var i=nO.fenceSync(t,n);if(i){var r=tJ.getNewId(tJ.syncs);return i.name=r,tJ.syncs[r]=i,r}return 0},Kg:function(){nO.finish()},Lg:function(){nO.flush()},lf:(t,n,i,r)=>{nO.framebufferRenderbuffer(t,n,i,tJ.renderbuffers[r])},mf:(t,n,i,r,s)=>{nO.framebufferTexture2D(t,n,i,tJ.textures[r],s)},Sc:(t,n,i,r,s)=>{nO.framebufferTextureLayer(t,n,tJ.textures[i],r,s)},Mg:function(t){nO.frontFace(t)},Ng:(t,n)=>{t9(t,n,"createBuffer",tJ.buffers)},nf:(t,n)=>{t9(t,n,"createFramebuffer",tJ.framebuffers)},fd:(t,n)=>{t9(t,n,"createQuery",tJ.queries)},re:(t,n)=>{for(var i=0;i<t;i++){var r=nO.disjointTimerQueryExt.createQueryEXT();if(!r){for(tJ.recordError(1282);i<t;)L[n+4*i++>>2]=0;return}var s=tJ.getNewId(tJ.queries);r.name=s,tJ.queries[s]=r,L[n+4*i>>2]=s}},of:(t,n)=>{t9(t,n,"createRenderbuffer",tJ.renderbuffers)},Se:(t,n)=>{t9(t,n,"createSampler",tJ.samplers)},Og:(t,n)=>{t9(t,n,"createTexture",tJ.textures)},Yb:(t,n)=>{t9(t,n,"createTransformFeedback",tJ.transformFeedbacks)},Af:ne,Hf:ne,af:function(t){nO.generateMipmap(t)},Wd:(t,n,i,r,s,o,a)=>{nr("getActiveAttrib",t,n,i,r,s,o,a)},Vd:(t,n,i,r,s,o,a)=>{nr("getActiveUniform",t,n,i,r,s,o,a)},jc:(t,n,i,r,s)=>{t=tJ.programs[t];var o=nO.getActiveUniformBlockName(t,n);if(o){if(s&&i>0){var a=t_(o,s,i);r&&(L[r>>2]=a)}else r&&(L[r>>2]=0)}},kc:(t,n,i,r)=>{if(r){if(t=tJ.programs[t],35393!=i){var s=nO.getActiveUniformBlockParameter(t,n,i);if(null!==s){if(35395==i)for(var o=0;o<s.length;o++)L[r+4*o>>2]=s[o];else L[r>>2]=s}}else{var a=nO.getActiveUniformBlockName(t,n);L[r>>2]=a.length+1}}else tJ.recordError(1281)},mc:(t,n,i,r,s)=>{if(s){if(n>0&&0==i)tJ.recordError(1281);else{t=tJ.programs[t];for(var o=[],a=0;a<n;a++)o.push(L[i+4*a>>2]);var l=nO.getActiveUniforms(t,o,r);if(l){var c=l.length;for(a=0;a<c;a++)L[s+4*a>>2]=l[a]}}}else tJ.recordError(1281)},Ud:(t,n,i,r)=>{var s=nO.getAttachedShaders(tJ.programs[t]),o=s.length;o>n&&(o=n),L[i>>2]=o;for(var a=0;a<o;++a){var l=tJ.shaders.indexOf(s[a]);L[r+4*a>>2]=l}},Td:(t,n)=>nO.getAttribLocation(tJ.programs[t],ek(n)),Sd:(t,n)=>na(t,n,4),ec:(t,n,i)=>{i?ns(i,nO.getBufferParameter(t,n)):tJ.recordError(1281)},Pg:(t,n,i)=>{i?L[i>>2]=nO.getBufferParameter(t,n):tJ.recordError(1281)},Qg:()=>{var t=nO.getError()||tJ.lastError;return tJ.lastError=0,t},Rg:(t,n)=>na(t,n,2),Bc:(t,n)=>nO.getFragDataLocation(tJ.programs[t],ek(n)),bf:(t,n,i,r)=>{var s=nO.getFramebufferAttachmentParameter(t,n,i);(s instanceof WebGLRenderbuffer||s instanceof WebGLTexture)&&(s=0|s.name),L[r>>2]=s},fc:(t,n,i)=>nl(t,n,i,1),hc:(t,n)=>{na(t,n,1)},Qc:(t,n,i)=>nl(t,n,i,0),qh:(t,n)=>na(t,n,0),Pb:(t,n,i,r,s)=>{if(r<0)tJ.recordError(1281);else if(s){var o=nO.getInternalformatParameter(t,n,i);if(null!==o)for(var a=0;a<o.length&&a<r;++a)L[s+4*a>>2]=o[a]}else tJ.recordError(1281)},Ub:(t,n,i,r,s)=>{tJ.recordError(1282)},Sg:(t,n,i,r)=>{var s=nO.getProgramInfoLog(tJ.programs[t]);null===s&&(s="(unknown error)");var o=n>0&&r?t_(s,r,n):0;i&&(L[i>>2]=o)},Tg:(t,n,i)=>{if(i){if(t>=tJ.counter)tJ.recordError(1281);else if(t=tJ.programs[t],35716==n){var r=nO.getProgramInfoLog(t);null===r&&(r="(unknown error)"),L[i>>2]=r.length+1}else if(35719==n){if(!t.maxUniformLength)for(var s=0;s<nO.getProgramParameter(t,35718);++s)t.maxUniformLength=Math.max(t.maxUniformLength,nO.getActiveUniform(t,s).name.length+1);L[i>>2]=t.maxUniformLength}else if(35722==n){if(!t.maxAttributeLength)for(s=0;s<nO.getProgramParameter(t,35721);++s)t.maxAttributeLength=Math.max(t.maxAttributeLength,nO.getActiveAttrib(t,s).name.length+1);L[i>>2]=t.maxAttributeLength}else if(35381==n){if(!t.maxUniformBlockNameLength)for(s=0;s<nO.getProgramParameter(t,35382);++s)t.maxUniformBlockNameLength=Math.max(t.maxUniformBlockNameLength,nO.getActiveUniformBlockName(t,s).length+1);L[i>>2]=t.maxUniformBlockNameLength}else L[i>>2]=nO.getProgramParameter(t,n)}else tJ.recordError(1281)},ie:nc,ke:nu,he:nc,_c:(t,n,i)=>{if(i){var r,s=tJ.queries[t],o=nO.getQueryParameter(s,n);r="boolean"==typeof o?o?1:0:o,L[i>>2]=r}else tJ.recordError(1281)},je:nu,$c:(t,n,i)=>{i?L[i>>2]=nO.getQuery(t,n):tJ.recordError(1281)},le:(t,n,i)=>{i?L[i>>2]=nO.disjointTimerQueryExt.getQueryEXT(t,n):tJ.recordError(1281)},cf:(t,n,i)=>{i?L[i>>2]=nO.getRenderbufferParameter(t,n):tJ.recordError(1281)},$b:(t,n,i)=>{i?P[i>>2]=nO.getSamplerParameter(tJ.samplers[t],n):tJ.recordError(1281)},ac:(t,n,i)=>{i?L[i>>2]=nO.getSamplerParameter(tJ.samplers[t],n):tJ.recordError(1281)},Ug:(t,n,i,r)=>{var s=nO.getShaderInfoLog(tJ.shaders[t]);null===s&&(s="(unknown error)");var o=n>0&&r?t_(s,r,n):0;i&&(L[i>>2]=o)},Ne:(t,n,i,r)=>{var s=nO.getShaderPrecisionFormat(t,n);L[i>>2]=s.rangeMin,L[i+4>>2]=s.rangeMax,L[r>>2]=s.precision},Rd:(t,n,i,r)=>{var s=nO.getShaderSource(tJ.shaders[t]);if(s){var o=n>0&&r?t_(s,r,n):0;i&&(L[i>>2]=o)}},Vg:(t,n,i)=>{if(i){if(35716==n){var r=nO.getShaderInfoLog(tJ.shaders[t]);null===r&&(r="(unknown error)");var s=r?r.length+1:0;L[i>>2]=s}else if(35720==n){var o=nO.getShaderSource(tJ.shaders[t]),a=o?o.length+1:0;L[i>>2]=a}else L[i>>2]=nO.getShaderParameter(tJ.shaders[t],n)}else tJ.recordError(1281)},La:t=>{var n=tJ.stringCache[t];if(!n){switch(t){case 7939:n=tz(no().join(" "));break;case 7936:case 7937:case 37445:case 37446:var i=nO.getParameter(t);i||tJ.recordError(1280),n=i?tz(i):0;break;case 7938:var r=nO.getParameter(7938);n=tz(r=tJ.currentContext.version>=2?`OpenGL ES 3.0 (${r})`:`OpenGL ES 2.0 (${r})`);break;case 35724:var s=nO.getParameter(35724),o=s.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==o&&(3==o[1].length&&(o[1]=o[1]+"0"),s=`OpenGL ES GLSL ES ${o[1]} (${s})`),n=tz(s);break;default:tJ.recordError(1280)}tJ.stringCache[t]=n}return n},rh:(t,n)=>{if(tJ.currentContext.version<2)return tJ.recordError(1282),0;var i=tJ.stringiCache[t];if(i)return n<0||n>=i.length?(tJ.recordError(1281),0):i[n];if(7939===t){var r=no().map(tz);return i=tJ.stringiCache[t]=r,n<0||n>=i.length?(tJ.recordError(1281),0):i[n]}return tJ.recordError(1280),0},gc:(t,n,i,r,s)=>{if(i<0)tJ.recordError(1281);else if(s){var o=nO.getSyncParameter(tJ.syncs[t],n);null!==o&&(L[s>>2]=o,r&&(L[r>>2]=1))}else tJ.recordError(1281)},Qd:(t,n,i)=>{i?P[i>>2]=nO.getTexParameter(t,n):tJ.recordError(1281)},Pd:(t,n,i)=>{i?L[i>>2]=nO.getTexParameter(t,n):tJ.recordError(1281)},Kc:(t,n,i,r,s,o,a)=>{t=tJ.programs[t];var l=nO.getTransformFeedbackVarying(t,n);if(l){if(a&&i>0){var c=t_(l.name,a,i);r&&(L[r>>2]=c)}else r&&(L[r>>2]=0);s&&(L[s>>2]=l.size),o&&(L[o>>2]=l.type)}},lc:(t,n)=>nO.getUniformBlockIndex(tJ.programs[t],ek(n)),oc:(t,n,i,r)=>{if(r){if(n>0&&(0==i||0==r))tJ.recordError(1281);else{t=tJ.programs[t];for(var s=[],o=0;o<n;o++)s.push(ek(L[i+4*o>>2]));var a=nO.getUniformIndices(t,s);if(a){var l=a.length;for(o=0;o<l;o++)L[r+4*o>>2]=a[o]}}}else tJ.recordError(1281)},Wg:(t,n)=>{if(n=ek(n),t=tJ.programs[t]){np(t);var i,r=t.uniformLocsById,s=0,o=n,a=nd(n);a>0&&(s=parseInt(i=n.slice(a+1))>>>0,o=n.slice(0,a));var l=t.uniformSizeAndIdsByName[o];if(l&&s<l[0]&&(r[s+=l[1]]=r[s]||nO.getUniformLocation(t,n)))return s}else tJ.recordError(1281);return -1},Od:(t,n,i)=>{nf(t,n,i,2)},Nd:(t,n,i)=>{nf(t,n,i,0)},Cc:(t,n,i)=>nf(t,n,i,0),Jc:ng,Hc:ng,Kd:(t,n,i)=>{i?L[i>>2]=nO.getVertexAttribOffset(t,n):tJ.recordError(1281)},Md:(t,n,i)=>{nm(t,n,i,2)},Ld:(t,n,i)=>{nm(t,n,i,5)},Jd:function(t,n){nO.hint(t,n)},Oe:(t,n,i)=>{for(var r=t4[n],s=0;s<n;s++)r[s]=L[i+4*s>>2];nO.invalidateFramebuffer(t,r)},Pe:(t,n,i,r,s,o,a)=>{for(var l=t4[n],c=0;c<n;c++)l[c]=L[i+4*c>>2];nO.invalidateSubFramebuffer(t,l,r,s,o,a)},Id:t=>{var n=tJ.buffers[t];return n?nO.isBuffer(n):0},Hd:function(t){return nO.isEnabled(t)},Gd:t=>{var n=tJ.framebuffers[t];return n?nO.isFramebuffer(n):0},Fd:t=>(t=tJ.programs[t])?nO.isProgram(t):0,dd:t=>{var n=tJ.queries[t];return n?nO.isQuery(n):0},pe:t=>{var n=tJ.queries[t];return n?nO.disjointTimerQueryExt.isQueryEXT(n):0},Ed:t=>{var n=tJ.renderbuffers[t];return n?nO.isRenderbuffer(n):0},dc:t=>{var n=tJ.samplers[t];return n?nO.isSampler(n):0},Dd:t=>{var n=tJ.shaders[t];return n?nO.isShader(n):0},Xe:t=>nO.isSync(tJ.syncs[t]),Xg:t=>{var n=tJ.textures[t];return n?nO.isTexture(n):0},Xb:t=>nO.isTransformFeedback(tJ.transformFeedbacks[t]),Rc:nx,ge:nx,Yg:function(t){nO.lineWidth(t)},Zg:t=>{t=tJ.programs[t],nO.linkProgram(t),t.uniformLocsById=0,t.uniformSizeAndIdsByName={}},tf:(t,n,i,r,s,o)=>{nO.mdibvbi.multiDrawArraysInstancedBaseInstanceWEBGL(t,L,n>>2,L,i>>2,L,r>>2,j,s>>2,o)},uf:(t,n,i,r,s,o,a,l)=>{nO.mdibvbi.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(t,L,n>>2,i,L,r>>2,L,s>>2,L,o>>2,j,a>>2,l)},Wb:function(){nO.pauseTransformFeedback()},_g:(t,n)=>{3317==t&&(tJ.unpackAlignment=n),nO.pixelStorei(t,n)},Cd:function(t,n){nO.polygonOffset(t,n)},Sb:(t,n,i,r)=>{tJ.recordError(1280)},Rb:(t,n,i)=>{tJ.recordError(1280)},me:(t,n)=>{nO.disjointTimerQueryExt.queryCounterEXT(tJ.queries[t],n)},xf:function(t){nO.readBuffer(t)},$g:(t,n,i,r,s,o,a)=>{if(tJ.currentContext.version>=2){if(nO.currentPixelPackBufferBinding)nO.readPixels(t,n,i,r,s,o,a);else{var l=ny(o);nO.readPixels(t,n,i,r,s,o,l,a>>nv(l))}}else{var c=nb(o,s,i,r,a);c?nO.readPixels(t,n,i,r,s,o,c):tJ.recordError(1280)}},Bd:()=>{},df:function(t,n,i,r){nO.renderbufferStorage(t,n,i,r)},$e:function(t,n,i,r,s){nO.renderbufferStorageMultisample(t,n,i,r,s)},Vb:function(){nO.resumeTransformFeedback()},Ad:(t,n)=>{nO.sampleCoverage(t,!!n)},Te:(t,n,i)=>{nO.samplerParameterf(tJ.samplers[t],n,i)},bc:(t,n,i)=>{var r=P[i>>2];nO.samplerParameterf(tJ.samplers[t],n,r)},Ue:(t,n,i)=>{nO.samplerParameteri(tJ.samplers[t],n,i)},Ve:(t,n,i)=>{var r=L[i>>2];nO.samplerParameteri(tJ.samplers[t],n,r)},ah:function(t,n,i,r){nO.scissor(t,n,i,r)},zd:(t,n,i,r,s)=>{tJ.recordError(1280)},bh:(t,n,i,r)=>{var s=tJ.getSource(t,n,i,r);if(tJ.currentContext.version>=2&&s.includes("#version 100")){var o="";(s=(s=s.replace(/#extension GL_OES_standard_derivatives : enable/g,"")).replace(/#extension GL_EXT_shader_texture_lod : enable/g,"")).includes("gl_FragColor")&&(o+="out mediump vec4 GL_FragColor;\n",s=s.replace(/gl_FragColor/g,"GL_FragColor")),s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.includes("attribute")?(s=s.replace(/attribute/g,"in")).replace(/varying/g,"out"):s.replace(/varying/g,"in")).replace(/textureCubeLodEXT/g,"textureCubeLod")).replace(/texture2DLodEXT/g,"texture2DLod")).replace(/texture2DProjLodEXT/g,"texture2DProjLod")).replace(/texture2DGradEXT/g,"texture2DGrad")).replace(/texture2DProjGradEXT/g,"texture2DProjGrad")).replace(/textureCubeGradEXT/g,"textureCubeGrad")).replace(/textureCube/g,"texture")).replace(/texture1D/g,"texture")).replace(/texture2D/g,"texture")).replace(/texture3D/g,"texture")).replace(/#version 100/g,"#version 300 es\n"+o)}nO.shaderSource(tJ.shaders[t],s)},ch:function(t,n,i){nO.stencilFunc(t,n,i)},dh:function(t,n,i,r){nO.stencilFuncSeparate(t,n,i,r)},eh:function(t){nO.stencilMask(t)},fh:function(t,n){nO.stencilMaskSeparate(t,n)},gh:function(t,n,i){nO.stencilOp(t,n,i)},hh:function(t,n,i,r){nO.stencilOpSeparate(t,n,i,r)},ih:(t,n,i,r,s,o,a,l,c)=>{if(tJ.currentContext.version>=2&&(6402==a&&6402==i&&5125==l&&(i=33190),36193==l&&(l=5131,6408==a&&6408==i&&(i=34842)),34041==i&&(i=35056)),tJ.currentContext.version>=2){if(nO.currentPixelUnpackBufferBinding)nO.texImage2D(t,n,i,r,s,o,a,l,c);else if(c){var u=ny(l);nO.texImage2D(t,n,i,r,s,o,a,l,u,c>>nv(u))}else nO.texImage2D(t,n,i,r,s,o,a,l,null)}else nO.texImage2D(t,n,i,r,s,o,a,l,c?nb(l,a,r,s,c):null)},kd:(t,n,i,r,s,o,a,l,c,u)=>{if(nO.currentPixelUnpackBufferBinding)nO.texImage3D(t,n,i,r,s,o,a,l,c,u);else if(u){var d=ny(c);nO.texImage3D(t,n,i,r,s,o,a,l,c,d,u>>nv(d))}else nO.texImage3D(t,n,i,r,s,o,a,l,c,null)},jh:function(t,n,i){nO.texParameterf(t,n,i)},kh:(t,n,i)=>{var r=P[i>>2];nO.texParameterf(t,n,r)},lh:function(t,n,i){nO.texParameteri(t,n,i)},mh:(t,n,i)=>{var r=L[i>>2];nO.texParameteri(t,n,r)},qf:function(t,n,i,r,s){nO.texStorage2D(t,n,i,r,s)},Qb:function(t,n,i,r,s,o){nO.texStorage3D(t,n,i,r,s,o)},nh:(t,n,i,r,s,o,a,l,c)=>{if(tJ.currentContext.version>=2&&36193==l&&(l=5131),tJ.currentContext.version>=2){if(nO.currentPixelUnpackBufferBinding)nO.texSubImage2D(t,n,i,r,s,o,a,l,c);else if(c){var u=ny(l);nO.texSubImage2D(t,n,i,r,s,o,a,l,u,c>>nv(u))}else nO.texSubImage2D(t,n,i,r,s,o,a,l,null)}else{var d=null;c&&(d=nb(l,a,s,o,c)),nO.texSubImage2D(t,n,i,r,s,o,a,l,d)}},jd:(t,n,i,r,s,o,a,l,c,u,d)=>{if(nO.currentPixelUnpackBufferBinding)nO.texSubImage3D(t,n,i,r,s,o,a,l,c,u,d);else if(d){var p=ny(u);nO.texSubImage3D(t,n,i,r,s,o,a,l,c,u,p,d>>nv(p))}else nO.texSubImage3D(t,n,i,r,s,o,a,l,c,u,null)},Lc:(t,n,i,r)=>{t=tJ.programs[t];for(var s=[],o=0;o<n;o++)s.push(ek(L[i+4*o>>2]));nO.transformFeedbackVaryings(t,s,r)},oh:(t,n)=>{nO.uniform1f(nh(t),n)},ph:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform1fv(nh(t),P,i>>2,n);else{if(n<=288)for(var r=nA[n-1],s=0;s<n;++s)r[s]=P[i+4*s>>2];else r=P.subarray(i>>2,i+4*n>>2);nO.uniform1fv(nh(t),r)}},ag:(t,n)=>{nO.uniform1i(nh(t),n)},bg:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform1iv(nh(t),L,i>>2,n);else{if(n<=288)for(var r=nw[n-1],s=0;s<n;++s)r[s]=L[i+4*s>>2];else r=L.subarray(i>>2,i+4*n>>2);nO.uniform1iv(nh(t),r)}},Ac:(t,n)=>{nO.uniform1ui(nh(t),n)},wc:(t,n,i)=>{n&&nO.uniform1uiv(nh(t),j,i>>2,n)},cg:(t,n,i)=>{nO.uniform2f(nh(t),n,i)},dg:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform2fv(nh(t),P,i>>2,2*n);else{if(n<=144)for(var r=nA[2*n-1],s=0;s<2*n;s+=2)r[s]=P[i+4*s>>2],r[s+1]=P[i+(4*s+4)>>2];else r=P.subarray(i>>2,i+8*n>>2);nO.uniform2fv(nh(t),r)}},$f:(t,n,i)=>{nO.uniform2i(nh(t),n,i)},_f:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform2iv(nh(t),L,i>>2,2*n);else{if(n<=144)for(var r=nw[2*n-1],s=0;s<2*n;s+=2)r[s]=L[i+4*s>>2],r[s+1]=L[i+(4*s+4)>>2];else r=L.subarray(i>>2,i+8*n>>2);nO.uniform2iv(nh(t),r)}},zc:(t,n,i)=>{nO.uniform2ui(nh(t),n,i)},vc:(t,n,i)=>{n&&nO.uniform2uiv(nh(t),j,i>>2,2*n)},Zf:(t,n,i,r)=>{nO.uniform3f(nh(t),n,i,r)},Yf:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform3fv(nh(t),P,i>>2,3*n);else{if(n<=96)for(var r=nA[3*n-1],s=0;s<3*n;s+=3)r[s]=P[i+4*s>>2],r[s+1]=P[i+(4*s+4)>>2],r[s+2]=P[i+(4*s+8)>>2];else r=P.subarray(i>>2,i+12*n>>2);nO.uniform3fv(nh(t),r)}},Xf:(t,n,i,r)=>{nO.uniform3i(nh(t),n,i,r)},Wf:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform3iv(nh(t),L,i>>2,3*n);else{if(n<=96)for(var r=nw[3*n-1],s=0;s<3*n;s+=3)r[s]=L[i+4*s>>2],r[s+1]=L[i+(4*s+4)>>2],r[s+2]=L[i+(4*s+8)>>2];else r=L.subarray(i>>2,i+12*n>>2);nO.uniform3iv(nh(t),r)}},yc:(t,n,i,r)=>{nO.uniform3ui(nh(t),n,i,r)},uc:(t,n,i)=>{n&&nO.uniform3uiv(nh(t),j,i>>2,3*n)},Vf:(t,n,i,r,s)=>{nO.uniform4f(nh(t),n,i,r,s)},Uf:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform4fv(nh(t),P,i>>2,4*n);else{if(n<=72){var r=nA[4*n-1],s=P;i>>=2;for(var o=0;o<4*n;o+=4){var a=i+o;r[o]=s[a],r[o+1]=s[a+1],r[o+2]=s[a+2],r[o+3]=s[a+3]}}else r=P.subarray(i>>2,i+16*n>>2);nO.uniform4fv(nh(t),r)}},If:(t,n,i,r,s)=>{nO.uniform4i(nh(t),n,i,r,s)},Jf:(t,n,i)=>{if(tJ.currentContext.version>=2)n&&nO.uniform4iv(nh(t),L,i>>2,4*n);else{if(n<=72)for(var r=nw[4*n-1],s=0;s<4*n;s+=4)r[s]=L[i+4*s>>2],r[s+1]=L[i+(4*s+4)>>2],r[s+2]=L[i+(4*s+8)>>2],r[s+3]=L[i+(4*s+12)>>2];else r=L.subarray(i>>2,i+16*n>>2);nO.uniform4iv(nh(t),r)}},xc:(t,n,i,r,s)=>{nO.uniform4ui(nh(t),n,i,r,s)},tc:(t,n,i)=>{n&&nO.uniform4uiv(nh(t),j,i>>2,4*n)},ic:(t,n,i)=>{t=tJ.programs[t],nO.uniformBlockBinding(t,n,i)},Kf:(t,n,i,r)=>{if(tJ.currentContext.version>=2)n&&nO.uniformMatrix2fv(nh(t),!!i,P,r>>2,4*n);else{if(n<=72)for(var s=nA[4*n-1],o=0;o<4*n;o+=4)s[o]=P[r+4*o>>2],s[o+1]=P[r+(4*o+4)>>2],s[o+2]=P[r+(4*o+8)>>2],s[o+3]=P[r+(4*o+12)>>2];else s=P.subarray(r>>2,r+16*n>>2);nO.uniformMatrix2fv(nh(t),!!i,s)}},Zc:(t,n,i,r)=>{n&&nO.uniformMatrix2x3fv(nh(t),!!i,P,r>>2,6*n)},Xc:(t,n,i,r)=>{n&&nO.uniformMatrix2x4fv(nh(t),!!i,P,r>>2,8*n)},Lf:(t,n,i,r)=>{if(tJ.currentContext.version>=2)n&&nO.uniformMatrix3fv(nh(t),!!i,P,r>>2,9*n);else{if(n<=32)for(var s=nA[9*n-1],o=0;o<9*n;o+=9)s[o]=P[r+4*o>>2],s[o+1]=P[r+(4*o+4)>>2],s[o+2]=P[r+(4*o+8)>>2],s[o+3]=P[r+(4*o+12)>>2],s[o+4]=P[r+(4*o+16)>>2],s[o+5]=P[r+(4*o+20)>>2],s[o+6]=P[r+(4*o+24)>>2],s[o+7]=P[r+(4*o+28)>>2],s[o+8]=P[r+(4*o+32)>>2];else s=P.subarray(r>>2,r+36*n>>2);nO.uniformMatrix3fv(nh(t),!!i,s)}},Yc:(t,n,i,r)=>{n&&nO.uniformMatrix3x2fv(nh(t),!!i,P,r>>2,6*n)},Vc:(t,n,i,r)=>{n&&nO.uniformMatrix3x4fv(nh(t),!!i,P,r>>2,12*n)},Mf:(t,n,i,r)=>{if(tJ.currentContext.version>=2)n&&nO.uniformMatrix4fv(nh(t),!!i,P,r>>2,16*n);else{if(n<=18){var s=nA[16*n-1],o=P;r>>=2;for(var a=0;a<16*n;a+=16){var l=r+a;s[a]=o[l],s[a+1]=o[l+1],s[a+2]=o[l+2],s[a+3]=o[l+3],s[a+4]=o[l+4],s[a+5]=o[l+5],s[a+6]=o[l+6],s[a+7]=o[l+7],s[a+8]=o[l+8],s[a+9]=o[l+9],s[a+10]=o[l+10],s[a+11]=o[l+11],s[a+12]=o[l+12],s[a+13]=o[l+13],s[a+14]=o[l+14],s[a+15]=o[l+15]}}else s=P.subarray(r>>2,r+64*n>>2);nO.uniformMatrix4fv(nh(t),!!i,s)}},Wc:(t,n,i,r)=>{n&&nO.uniformMatrix4x2fv(nh(t),!!i,P,r>>2,8*n)},Uc:(t,n,i,r)=>{n&&nO.uniformMatrix4x3fv(nh(t),!!i,P,r>>2,12*n)},Nf:t=>{t=tJ.programs[t],nO.useProgram(t),nO.currentProgram=t},yd:t=>{nO.validateProgram(tJ.programs[t])},Of:function(t,n){nO.vertexAttrib1f(t,n)},wd:(t,n)=>{nO.vertexAttrib1f(t,P[n>>2])},vd:function(t,n,i){nO.vertexAttrib2f(t,n,i)},Pf:(t,n)=>{nO.vertexAttrib2f(t,P[n>>2],P[n+4>>2])},ud:function(t,n,i,r){nO.vertexAttrib3f(t,n,i,r)},Qf:(t,n)=>{nO.vertexAttrib3f(t,P[n>>2],P[n+4>>2],P[n+8>>2])},td:function(t,n,i,r,s){nO.vertexAttrib4f(t,n,i,r,s)},Rf:(t,n)=>{nO.vertexAttrib4f(t,P[n>>2],P[n+4>>2],P[n+8>>2],P[n+12>>2])},rf:nC,ce:nC,rd:nC,sd:nC,Ob:nC,Gc:function(t,n,i,r,s){nO.vertexAttribI4i(t,n,i,r,s)},Ec:(t,n)=>{nO.vertexAttribI4i(t,L[n>>2],L[n+4>>2],L[n+8>>2],L[n+12>>2])},Fc:function(t,n,i,r,s){nO.vertexAttribI4ui(t,n,i,r,s)},Dc:(t,n)=>{nO.vertexAttribI4ui(t,j[n>>2],j[n+4>>2],j[n+8>>2],j[n+12>>2])},sf:(t,n,i,r,s)=>{nO.vertexAttribIPointer(t,n,i,r,s)},Sf:(t,n,i,r,s,o)=>{nO.vertexAttribPointer(t,n,i,!!r,s,o)},Tf:function(t,n,i,r){nO.viewport(t,n,i,r)},Na:(t,n,i)=>{i=Number(i),nO.waitSync(tJ.syncs[t],n,i)},qb:t=>{var n=I.length;if((t>>>=0)>2147483648)return!1;for(var i,r=1;r<=4;r*=2){var s=n*(1+.2/r);if(s=Math.min(s,t+100663296),n_(Math.min(2147483648,(i=Math.max(t,s))+(65536-i%65536)%65536)))return!0}return!1},ab:function(n,i,r,s,o,a,l,c,u){let d=t.UTF8ToString(n,n+i),p=t.HEAPU8.subarray(o,o+a),h=t.emscripten_ubq_codec_audioDecoderNextHandle++,f={codec:d,sampleRate:r,numberOfChannels:s,description:p};try{let n=t.emscripten_ubq_codec_createAudioDecoder(l,c,u);AudioDecoder.isConfigSupported(f).then(t=>{n.configUnsupported=!t},()=>{n.configUnsupported=!0}),n.configure(f),t.emscripten_ubq_codec_audioDecoders.set(h,{audioDecoder:n,decoderConfig:f,leftBufferPtr:l,rightBufferPtr:c,bufferLength:u})}catch(n){return t.emscripten_ubq_codec_createNativeResult({error:n})}return t.emscripten_ubq_codec_createNativeResult({handle:h})},Wa:function(n,i,r,s,o,a){let l=t.UTF8ToString(n,n+i),c=t.emscripten_ubq_codec_audioEncoderNextHandle++,u={codec:l,sampleRate:r,numberOfChannels:s,bitrate:o};try{let n=new AudioEncoder({output:n=>{let i=t._malloc(n.byteLength),r=t.HEAPU8.subarray(i,i+n.byteLength);n.copyTo(r),t.emscripten_ubq_codec_onOutputEncodedAudioChunk(c,i,n.byteLength,a),t._free(i)},error:n=>{t.emscripten_ubq_codec_audioEncoders.get(c).frameIndex>1&&console.error(n)}});n.configure(u),t.emscripten_ubq_codec_audioEncoders.set(c,{audioEncoder:n,audioEncoderConfig:u,frameIndex:0})}catch(n){return n+=' Requested codec: "'+l+'"; sample rate: '+r+"; channels: "+s+"; bit rate: "+o,t.emscripten_ubq_codec_createNativeResult({error:n})}return t.emscripten_ubq_codec_createNativeResult({handle:c})},db:function(n,i,r,s,o,a,l){let c=t.UTF8ToString(n,n+i),u=t.HEAPU8.subarray(o,o+a),d=t.emscripten_ubq_codec_videoDecoderNextHandle++,p={codec:c,codedWidth:r,codedHeight:s,description:u,optimizeForLatency:!0};try{let n=t.emscripten_ubq_codec_createVideoDecoder(d,l);VideoDecoder.isConfigSupported(p).then(t=>{n.configUnsupported=!t},()=>{n.configUnsupported=!0}),n.configure(p),t.emscripten_ubq_codec_videoDecoders.set(d,{videoDecoder:n,decoderConfig:p,codecServicePtr:l})}catch(n){return t.emscripten_ubq_codec_createNativeResult({error:n})}return t.emscripten_ubq_codec_createNativeResult({handle:d})},Za:function(n,i,r,s,o,a,l){let c=t.UTF8ToString(n,n+i),u=t.emscripten_ubq_codec_videoEncoderNextHandle++,d=t.specialHTMLTargets["!canvas"];d.width=r,d.height=s;let p={codec:c,width:r,height:s,avc:{format:"annexb"},framerate:o};a>0&&(p.bitrate=a);try{let n=new VideoEncoder({output:n=>{let i=t._malloc(n.byteLength),r=t.HEAPU8.subarray(i,i+n.byteLength);n.copyTo(r),t.emscripten_ubq_codec_onOutputEncodedVideoChunk(u,i,n.byteLength,l),t._free(i)},error:t=>console.error(t)});VideoEncoder.isConfigSupported(p).then(t=>{n.configUnsupported=!t},()=>{n.configUnsupported=!0}),n.configure(p),t.emscripten_ubq_codec_videoEncoders.set(u,{videoEncoder:n,encoderConfig:p,groupOfPictures:150,frameIndex:0})}catch(n){return n+=' Requested codec: "'+c+'"'+("; resolution: "+r)+"x"+s,t.emscripten_ubq_codec_createNativeResult({error:n})}return t.emscripten_ubq_codec_createNativeResult({handle:u})},Ra:function(n,i,r,s,o,a){let l=t.emscripten_ubq_codec_audioDecoders.get(n);if(l.audioDecoder.unexpectedError)return t.emscripten_ubq_codec_createNativeResult({code:2,error:l.audioDecoder.unexpectedError});"closed"===l.audioDecoder.state&&(l.audioDecoder=t.emscripten_ubq_codec_createAudioDecoder(l.leftBufferPtr,l.rightBufferPtr,l.bufferLength),l.audioDecoder.configure(l.decoderConfig));let c=l.audioDecoder,u=new EncodedAudioChunk({type:i?"key":"delta",timestamp:r,duration:s,data:t.HEAPU8.subarray(o,o+a)});try{c.decode(u)}catch(n){return c.configUnsupported?t.emscripten_ubq_codec_createNativeResult({code:2,error:n}):t.emscripten_ubq_codec_createNativeResult({code:1,error:n})}return t.emscripten_ubq_codec_createNativeResult({code:0})},Sa:function(n,i,r,s,o,a){let l=t.emscripten_ubq_codec_videoDecoders.get(n);if(l.videoDecoder.unexpectedError)return t.emscripten_ubq_codec_createNativeResult({code:2,error:l.videoDecoder.unexpectedError});if("closed"===l.videoDecoder.state){let i=l.videoDecoder.textures;return l.videoDecoder=t.emscripten_ubq_codec_createVideoDecoder(n,l.codecServicePtr),l.videoDecoder.textures=i,l.videoDecoder.configure(l.decoderConfig),t.emscripten_ubq_codec_createNativeResult({code:1,error:"VideoDecoder was closed"})}let c=l.videoDecoder,u=new EncodedVideoChunk({type:i?"key":"delta",timestamp:r,duration:s,data:t.HEAPU8.subarray(o,o+a)});try{c.decode(u)}catch(n){return c.configUnsupported?t.emscripten_ubq_codec_createNativeResult({code:2,error:n}):t.emscripten_ubq_codec_createNativeResult({code:1,error:n})}return t.emscripten_ubq_codec_createNativeResult({code:0})},S:function(n){if(t.emscripten_ubq_codec_audioDecoders.has(n)){let i=t.emscripten_ubq_codec_audioDecoders.get(n);"closed"!==i.audioDecoder.state&&i.audioDecoder.close(),t.emscripten_ubq_codec_audioDecoders.delete(n)}},da:function(n){let i=t.emscripten_ubq_codec_audioEncoders.get(n);"closed"!==i.audioEncoder.state&&i.audioEncoder.close(),t.emscripten_ubq_codec_audioEncoders.delete(n)},fa:function(n){if(t.emscripten_ubq_codec_videoDecoders.has(n)){let i=t.emscripten_ubq_codec_videoDecoders.get(n);"closed"!==i.videoDecoder.state&&i.videoDecoder.close(),t.emscripten_ubq_codec_videoDecoders.delete(n)}},ea:function(n){let i=t.emscripten_ubq_codec_videoEncoders.get(n);"closed"!==i.videoEncoder.state&&i.videoEncoder.close(),t.emscripten_ubq_codec_videoEncoders.delete(n)},Va:function(n,i,r){let s=t.emscripten_ubq_codec_audioEncoders.get(n),o=s.audioEncoderConfig.sampleRate,a=s.audioEncoderConfig.numberOfChannels,l=r/a,c=Math.round(s.frameIndex*l/o*1e6),u=new AudioData({format:"f32",sampleRate:o,numberOfFrames:l,numberOfChannels:a,duration:Math.round(l/o*1e6),timestamp:c,data:t.HEAPF32.subarray(i/4,i/4+r)});s.audioEncoder.encode(u),s.frameIndex++,u.close()},Ya:function(n,i,r){let s=t.emscripten_ubq_codec_videoEncoders.get(n),o=Math.round(s.frameIndex/s.encoderConfig.framerate*1e6),a=s.frameIndex%s.groupOfPictures==0,l=Math.round(1e6/s.encoderConfig.framerate),c=new VideoFrame(t.specialHTMLTargets["!canvas"],{timestamp:o,duration:l});s.videoEncoder.encode(c,{keyFrame:a}),c.close(),s.frameIndex++},Ua:async function(n,i){let r=t.emscripten_ubq_codec_audioEncoders.get(n);try{await r.audioEncoder.flush()}catch{if(r.frameIndex>1)throw Error("AudioEncoder.flush() failed")}t.emscripten_ubq_codec_onFinalizedAudioEncoding(n,i)},Xa:async function(n,i){let r=t.emscripten_ubq_codec_videoEncoders.get(n);await r.videoEncoder.flush(),t.emscripten_ubq_codec_onFinalizedVideoEncoding(n,i)},$a:async function(n,i){let r=t.emscripten_ubq_codec_audioDecoders.get(n).audioDecoder;r.flushing=!0;try{await r.flush()}catch{}r.flushing=!1,r.writtenFrames=i},Y:async function(n,i,r){let s=t.emscripten_ubq_codec_videoDecoders.get(n).videoDecoder;s.shouldDropFrames=r,s.flushing=!0;try{await s.flush()}catch{}s.flushing=!1,s.shouldDropFrames=!1,s.decodedFrames=i},ra:function(n){return t.emscripten_ubq_codec_audioDecoders.get(n).audioDecoder.decodeQueueSize},sa:function(n){return t.emscripten_ubq_codec_videoDecoders.get(n).videoDecoder.decodedFrames},X:function(n){return t.emscripten_ubq_codec_audioDecoders.get(n).audioDecoder.writtenFrames},_a:function(n){return t.emscripten_ubq_codec_audioDecoders.get(n).audioDecoder.flushing},cb:function(n){return t.emscripten_ubq_codec_videoDecoders.get(n).videoDecoder.flushing},Z:function(){return"undefined"!=typeof VideoFrame&&"undefined"!=typeof VideoDecoder&&"undefined"!=typeof VideoEncoder&&"undefined"!=typeof AudioDecoder&&"undefined"!=typeof AudioEncoder},bb:function(n,i){t.emscripten_ubq_codec_videoDecoders.get(n).videoDecoder.requestedFrame=i},Ta:function(n,i,r){let s=t.emscripten_ubq_codec_videoDecoders.get(n),o=t.HEAPU32.subarray(i/4,i/4+r);s.videoDecoder.textures=[];for(let t=0;t<r;t++)s.videoDecoder.textures[t]=tJ.textures[o[t]]},Ce:function(n){let i=t.emscripten_ubq_asyncFetchManager.getProcess(n);return!!(null==i?void 0:i.allocate())},oa:function(){t.emscripten_ubq_asyncFetchManager.clear()},na:function(n,i,r,s){return t.emscripten_ubq_asyncFetchManager.createHeader(n,i,r,s)},Fe:function(n){t.emscripten_ubq_asyncFetchManager.deleteHeader(n)},Ge:function(n,i,r,s,o,a,l,c,u){return t.emscripten_ubq_asyncFetchManager.fetch(n,i,r,s,o,a,l,c,u).handle},aa:function(n){return t.emscripten_ubq_asyncFetchManager.deleteProcess(n)},Ee:function(n){var i,r;return null!==(r=null===(i=t.emscripten_ubq_asyncFetchManager.getProcess(n))||void 0===i?void 0:i.receivedLength)&&void 0!==r?r:0},Be:function(n){let i=t.emscripten_ubq_asyncFetchManager.getProcess(n);return(null==i?void 0:i.isAllocated())?i.resultAddress:-1},Ae:function(n){let i=t.emscripten_ubq_asyncFetchManager.getProcess(n);return(null==i?void 0:i.isAllocated())?i.resultLength:-1},la:function(n){var i,r;return null!==(r=null===(i=t.emscripten_ubq_asyncFetchManager.getProcess(n))||void 0===i?void 0:i.state)&&void 0!==r?r:-1},De:function(n){var i,r;return null!==(r=null===(i=t.emscripten_ubq_asyncFetchManager.getProcess(n))||void 0===i?void 0:i.totalBytes)&&void 0!==r?r:0},fb:function(){return!!t.emscripten_ubq_settings_forceWebGL1},ta:(t,n)=>{var i=n>>2,r=L[i+6],s={alpha:!!L[i+0],depth:!!L[i+1],stencil:!!L[i+2],antialias:!!L[i+3],premultipliedAlpha:!!L[i+4],preserveDrawingBuffer:!!L[i+5],powerPreference:nk[r],failIfMajorPerformanceCaveat:!!L[i+7],majorVersion:L[i+8],minorVersion:L[i+9],enableExtensionsByDefault:L[i+10],explicitSwapControl:L[i+11],proxyContextToMainThread:L[i+12],renderViaOffscreenBackBuffer:L[i+13]},o=nM(t);return o?s.explicitSwapControl?0:tJ.createContext(o,s):0},_:t=>{tJ.currentContext==t&&(tJ.currentContext=0),tJ.deleteContext(t)},jb:t=>(t=>{var n=t.getExtension("OES_vertex_array_object");if(n)return t.createVertexArray=()=>n.createVertexArrayOES(),t.deleteVertexArray=t=>n.deleteVertexArrayOES(t),t.bindVertexArray=t=>n.bindVertexArrayOES(t),t.isVertexArray=t=>n.isVertexArrayOES(t),1})(tJ.contexts[t].GLctx),ib:t=>(t=>{var n=t.getExtension("WEBGL_draw_buffers");if(n)return t.drawBuffers=(t,i)=>n.drawBuffersWEBGL(t,i),1})(tJ.contexts[t].GLctx),hb:t=>{let n;return!!((n=tJ.contexts[t].GLctx).multiDrawWebgl=n.getExtension("WEBGL_multi_draw"))},$:(t,n)=>{var i=tJ.getContext(t),r=ek(n);return r.startsWith("GL_")&&(r=r.substr(3)),!!i.GLctx.getExtension(r)},gb:(t,n)=>{if(!n)return -5;if(!(t=tJ.contexts[t]))return -3;var i=t.GLctx;if(!i)return -3;i=i.getContextAttributes(),L[n>>2]=i.alpha,L[n+4>>2]=i.depth,L[n+8>>2]=i.stencil,L[n+12>>2]=i.antialias,L[n+16>>2]=i.premultipliedAlpha,L[n+20>>2]=i.preserveDrawingBuffer;var r=i.powerPreference&&nk.indexOf(i.powerPreference);return L[n+24>>2]=r,L[n+28>>2]=i.failIfMajorPerformanceCaveat,L[n+32>>2]=t.version,L[n+36>>2]=0,0},Eb:t=>tJ.makeContextCurrent(t)?0:-5,Bb:(t,n)=>{var i=0;return nT().forEach((r,s)=>{var o=n+i;j[t+4*s>>2]=o,((t,n)=>{for(var i=0;i<t.length;++i)M[n++>>0]=t.charCodeAt(i);M[n>>0]=0})(r,o),i+=r.length+1}),0},Cb:(t,n)=>{var i=nT();j[t>>2]=i.length;var r=0;return i.forEach(t=>r+=t.length+1),j[n>>2]=r,0},Ha:t$,ha:function(t){try{var n=eE.getStreamFromFD(t);return eS.close(n),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},nb:function(t,n){try{var i=eE.getStreamFromFD(t),r=i.tty?2:eS.isDir(i.mode)?3:eS.isLink(i.mode)?7:4;return M[n>>0]=r,T[n+2>>1]=0,R[n+8>>3]=BigInt(0),R[n+16>>3]=BigInt(0),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},ub:function(t,n,i,r,s){r=tO(r);try{if(isNaN(r))return 61;var o=eE.getStreamFromFD(t),a=nB(o,n,i,r);return j[s>>2]=a,0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},ya:function(t,n,i,r){try{var s=eE.getStreamFromFD(t),o=nB(s,n,i);return j[r>>2]=o,0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},Ab:function(t,n,i,r){n=tO(n);try{if(isNaN(n))return 61;var s=eE.getStreamFromFD(t);return eS.llseek(s,n,i),R[r>>3]=BigInt(s.position),s.getdents&&0===n&&0===i&&(s.getdents=null),0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},wa:function(t,n,i,r){try{var s=((t,n,i,r)=>{for(var s=0,o=0;o<i;o++){var a=j[n>>2],l=j[n+4>>2];n+=8;var c=eS.write(t,M,a,l,r);if(c<0)return -1;s+=c,void 0!==r&&(r+=c)}return s})(eE.getStreamFromFD(t),n,i);return j[r>>2]=s,0}catch(t){if(void 0===eS||"ErrnoError"!==t.name)throw t;return t.errno}},ze:function(t){var n=ek(t),i=localStorage.getItem(n);return null==i?null:tz(i)},we:function(){return"undefined"!=typeof window?tz(window.location.hostname):tz("")},kb:(t,n)=>(ep(I.subarray(t,t+n)),0),z:function(t,n,i){var r=n2();try{return tc(t)(n,i)}catch(t){if(n3(r),t!==t+0)throw t;n1(1,0)}},N:function(t,n){var i=n2();try{return tc(t)(n)}catch(t){if(n3(i),t!==t+0)throw t;n1(1,0)}},G:function(t,n,i){var r=n2();try{return tc(t)(n,i)}catch(t){if(n3(r),t!==t+0)throw t;n1(1,0)}},n:function(t,n,i,r){var s=n2();try{return tc(t)(n,i,r)}catch(t){if(n3(s),t!==t+0)throw t;n1(1,0)}},th:function(t){var n=n2();try{return tc(t)()}catch(t){if(n3(n),t!==t+0)throw t;n1(1,0)}},Oa:function(t,n,i){var r=n2();try{return tc(t)(n,i)}catch(t){if(n3(r),t!==t+0)throw t;n1(1,0)}},r:function(t,n){var i=n2();try{return tc(t)(n)}catch(t){if(n3(i),t!==t+0)throw t;n1(1,0)}},V:function(t,n,i,r,s,o,a,l,c,u,d,p,h,f,m,g){var x=n2();try{return tc(t)(n,i,r,s,o,a,l,c,u,d,p,h,f,m,g)}catch(t){if(n3(x),t!==t+0)throw t;n1(1,0)}},q:function(t,n,i){var r=n2();try{return tc(t)(n,i)}catch(t){if(n3(r),t!==t+0)throw t;n1(1,0)}},t:function(t,n,i,r){var s=n2();try{return tc(t)(n,i,r)}catch(t){if(n3(s),t!==t+0)throw t;n1(1,0)}},U:function(t,n,i,r,s){var o=n2();try{return tc(t)(n,i,r,s)}catch(t){if(n3(o),t!==t+0)throw t;n1(1,0)}},Me:function(t,n,i,r,s,o){var a=n2();try{return tc(t)(n,i,r,s,o)}catch(t){if(n3(a),t!==t+0)throw t;n1(1,0)}},Ja:function(t,n,i,r,s,o,a){var l=n2();try{return tc(t)(n,i,r,s,o,a)}catch(t){if(n3(l),t!==t+0)throw t;n1(1,0)}},Ia:function(t,n,i,r,s,o,a,l,c,u){var d=n2();try{return tc(t)(n,i,r,s,o,a,l,c,u)}catch(t){if(n3(d),t!==t+0)throw t;n1(1,0)}},R:function(t){var n=n2();try{tc(t)()}catch(t){if(n3(n),t!==t+0)throw t;n1(1,0)}},v:function(t,n){var i=n2();try{tc(t)(n)}catch(t){if(n3(i),t!==t+0)throw t;n1(1,0)}},C:function(t,n,i,r){var s=n2();try{tc(t)(n,i,r)}catch(t){if(n3(s),t!==t+0)throw t;n1(1,0)}},F:function(t,n,i){var r=n2();try{tc(t)(n,i)}catch(t){if(n3(r),t!==t+0)throw t;n1(1,0)}},p:function(t,n,i,r){var s=n2();try{tc(t)(n,i,r)}catch(t){if(n3(s),t!==t+0)throw t;n1(1,0)}},D:function(t,n,i,r,s){var o=n2();try{tc(t)(n,i,r,s)}catch(t){if(n3(o),t!==t+0)throw t;n1(1,0)}},Le:function(t,n,i,r,s,o){var a=n2();try{tc(t)(n,i,r,s,o)}catch(t){if(n3(a),t!==t+0)throw t;n1(1,0)}},Je:function(t,n,i,r,s,o,a){var l=n2();try{tc(t)(n,i,r,s,o,a)}catch(t){if(n3(l),t!==t+0)throw t;n1(1,0)}},sh:function(t,n,i,r,s,o,a,l){var c=n2();try{tc(t)(n,i,r,s,o,a,l)}catch(t){if(n3(c),t!==t+0)throw t;n1(1,0)}},Ke:function(t,n,i,r,s,o,a,l,c,u){var d=n2();try{tc(t)(n,i,r,s,o,a,l,c,u)}catch(t){if(n3(d),t!==t+0)throw t;n1(1,0)}},ka:function(){return"undefined"!=typeof localStorage},qa:function(n,i){let r=tv.toValue(i),s=t.ctx;s.bindTexture(s.TEXTURE_2D,tJ.textures[n]),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,r)},a:_,Ga:function(t,n){var i=ek(t),r=ek(n);localStorage.setItem(i,r)},lb:(t,n,i,r,s)=>nR(t,n,i,r)},nq=function(){var n,i,r,o={a:nG};function a(t,n){var i;return ts=(nq=t.exports).yh,i=nq.uh,H.unshift(i),Z(),nq}if($(),t.instantiateWasm)try{return t.instantiateWasm(o,a)}catch(t){k(`Module.instantiateWasm callback failed with error: ${t}`),s(t)}return(n=C,i=K,r=function(t){a(t.instance)},n||"function"!=typeof WebAssembly.instantiateStreaming||J(i)||v||"function"!=typeof fetch?en(i,o,r):fetch(i,{credentials:"same-origin"}).then(t=>WebAssembly.instantiateStreaming(t,o).then(r,function(t){return k(`wasm streaming compile failed: ${t}`),k("falling back to ArrayBuffer instantiation"),en(i,o,r)}))).catch(s),{}}(),nW=t._malloc=n=>(nW=t._malloc=nq.vh)(n),n$=t._main=(n,i)=>(n$=t._main=nq.wh)(n,i),nZ=t._free=n=>(nZ=t._free=nq.xh)(n),nY=(t._ma_malloc_emscripten=(n,i)=>(t._ma_malloc_emscripten=nq.zh)(n,i),t._ma_free_emscripten=(n,i)=>(t._ma_free_emscripten=nq.Ah)(n,i),t._ma_device_process_pcm_frames_capture__webaudio=(n,i,r)=>(nY=t._ma_device_process_pcm_frames_capture__webaudio=nq.Bh)(n,i,r)),nK=t._ma_device_process_pcm_frames_playback__webaudio=(n,i,r)=>(nK=t._ma_device_process_pcm_frames_playback__webaudio=nq.Ch)(n,i,r),nX=t=>(nX=nq.Dh)(t),nJ=t=>(nJ=nq.Eh)(t),n0=(t,n)=>(n0=nq.Fh)(t,n),n1=(t,n)=>(n1=nq.Gh)(t,n),n2=()=>(n2=nq.Hh)(),n3=t=>(n3=nq.Ih)(t),n5=t=>(n5=nq.Jh)(t),n4=t=>(n4=nq.Kh)(t),n6=t=>(n6=nq.Lh)(t),n8=(t,n,i)=>(n8=nq.Mh)(t,n,i),n7=t=>(n7=nq.Nh)(t);function n9(n=f){function i(){nz||(nz=!0,t.calledRun=!0,O||(t.noFSInit||eS.init.initialized||eS.init(),eS.ignorePermissions=!1,eb.init(),es(H),es(Q),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),ie&&function(t=[]){var n=n$;t.unshift(m);var i=t.length,r=n5(4*(i+1)),s=r;t.forEach(t=>{j[s>>2]=nD(t),s+=4}),j[s>>2]=0;try{var o=n(i,r);t$(o,!0)}catch(t){return tq(t)}}(n),function(){var n;if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),z.unshift(n);es(z)}()))}G>0||(function(){var n;if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),V.unshift(n);es(V)}(),G>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),i()},1)):i()))}if(t.___start_em_js=2525367,t.___stop_em_js=2526202,t.addRunDependency=$,t.removeRunDependency=Z,t.FS_createPath=eS.createPath,t.FS_createLazyFile=eS.createLazyFile,t.FS_createDevice=eS.createDevice,t.ccall=(n,i,r,s,o)=>{var a={string:t=>{var n=0;return null!=t&&0!==t&&(n=nD(t)),n},array:t=>{var n=n5(t.length);return nP(t,n),n}},l=t["_"+n],c=[],u=0;if(s)for(var d=0;d<s.length;d++){var p=a[r[d]];p?(0===u&&(u=n2()),c[d]=p(s[d])):c[d]=s[d]}var h,f=l.apply(null,c);return h=f,0!==u&&n3(u),f="string"===i?ek(h):"boolean"===i?!!h:h},t.getValue=function(t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":return M[t>>0];case"i16":return T[t>>1];case"i32":return L[t>>2];case"i64":return R[t>>3];case"float":return P[t>>2];case"double":return F[t>>3];case"*":return j[t>>2];default:Y(`invalid type for getValue: ${n}`)}},t.UTF8ToString=ek,t.specialHTMLTargets=nE,t.FS_createPreloadedFile=eS.createPreloadedFile,t.FS_createDataFile=eS.createDataFile,t.FS_unlink=eS.unlink,W=function t(){nz||n9(),nz||(W=t)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var ie=!0;return t.noInitialRun&&(ie=!1),n9(),t.ready});"object"==typeof t&&"object"==typeof n?n.exports=r:"function"==typeof define&&define.amd&&define([],()=>r)}}),tQ=H(eg()),tz=H(tj());function tG(t){if(t.isValid()){let n=t.value();return t.delete(),n}{let n=t.error(),i=n.publicMessage();throw n.delete(),t.delete(),Error(i)}}function tq(t){return new Promise((n,i)=>{t(t=>{try{let i=tG(t);n(i)}catch(t){i(t)}})})}var tW=(t,n=!0)=>{let i=[];for(let n=0;n<t.size();n+=1)i.push(t.get(n));return n&&t.delete(),i},t$=new WeakMap,tZ={assets:[],total:0,currentPage:0,nextPage:void 0},tY=class{#e;constructor(t){this.#e=t}#t=new Set;#n=new Set;unstable_registerApplyAssetMiddleware(t){return this.#t.add(t),()=>{this.#t.delete(t)}}unstable_registerApplyAssetToBlockMiddleware(t){return this.#n.add(t),()=>{this.#n.delete(t)}}addSource(t){let n=t.getSupportedMimeTypes?.bind(t),i=t.getGroups?.bind(t),r=t.applyAsset?.bind(t),s=t.applyAssetToBlock?.bind(t),o=t.addAsset?.bind(t),a=t.removeAsset?.bind(t),l=t.credits,c=t.license;tG(this.#e.addAssetSource(t.id,async(n,i)=>{try{let r={...n,sortKey:n.sortKey,sortingOrder:n.sortingOrder,sortActiveFirst:n.sortActiveFirst,tags:tW(n.tags),groups:tW(n.groups),excludeGroups:tW(n.excludeGroups)},s=await t.findAssets(r);if(s){let n={...s,assets:s.assets.map(n=>tK(n,t.id))};i.invoke(n)}else i.invoke(tZ)}catch(t){i.invoke(t.message??"Unknown error in user-defined `findAssets`")}},i?async t=>{try{let n=await i();t.invoke(n)}catch(n){t.invoke(n.message??"Unknown error in user-defined `getGroups`")}}:null,l?()=>({name:l.name,url:l.url??""}):null,c?()=>({name:c.name,url:c.url??""}):null,n?()=>n()??[]:null,r?async(t,n)=>{try{let i=await r(this.#i(t));n.invoke(i)}catch(t){n.invoke(t.message??"Unknown error in user-defined `applyAsset`")}}:null,s?async(t,n,i)=>{try{await s(this.#i(t),n),i.invoke({})}catch(t){i.invoke(t.message??"Unknown error in user-defined `applyAssetToBlock`")}}:null,o?async t=>{o(t)}:null,a?async t=>{a(t)}:null)),this.#r(t.id,t)}addLocalSource(t,n,i,r){tG(this.#e.addLocalAssetSource(t,n??[],i?async(t,n)=>{try{let r=await i(this.#i(t));n.invoke(r)}catch(t){n.invoke(t.message??"Unknown error in user-defined `applyAsset`")}}:null,r?async(t,n,i)=>{try{await r(this.#i(t),n),i.invoke({})}catch(t){i.invoke(t.message??"Unknown error in user-defined `applyAssetToBlock`")}}:null))}removeSource(t){tG(this.#e.removeAssetSource(t)),this.#s(t)}findAllSources(){return tW(this.#e.findAllAssetSources())}findAssets(t,n){return new Promise((i,r)=>{let s=n?.tags??[];Array.isArray(s)||(s=[s]);let o={perPage:n?.perPage??0,page:n?.page??0,query:n?.query??"",tags:s,groups:n?.groups??[],excludeGroups:n?.excludeGroups??[],locale:n?.locale??"",sortingOrder:n?.sortingOrder??"None",sortKey:n?.sortKey??"",sortActiveFirst:n?.sortActiveFirst??!1};this.#e.findAssetSourceAssets(t,o,t=>{try{let n=tG(t);i({...n,nextPage:-1===n.nextPage?void 0:n.nextPage})}catch(t){r(t)}})})}#i(t){let n={...t};return 0===n.groups?.length&&delete n.groups,n.locale||delete n.locale,n.label||delete n.label,0===n.tags?.length&&delete n.tags,n.credits?.name||n.credits?.url?n.credits.url||delete n.credits.url:delete n.credits,n.license?.name||n.license?.url?n.license.url||delete n.license.url:delete n.license,n.utm?.source||n.utm?.medium?(n.utm.source||delete n.utm.source,n.utm.medium||delete n.utm.medium):delete n.utm,n}async getGroups(t){return tq(n=>this.#e.getAssetSourceGroups(t,n)).then(t=>tW(t))}getSupportedMimeTypes(t){return tW(tG(this.#e.getAssetSourceSupportedMimeTypes(t)))}getCredits(t){let n=tG(this.#e.getAssetSourceCredits(t));if(n.name||n.url)return n.url?n:{name:n.name,url:void 0}}getLicense(t){let n=tG(this.#e.getAssetSourceLicense(t));if(n.name||n.url)return n.url?n:{name:n.name,url:void 0}}canManageAssets(t){return!!t$.get(this.#e)?.get(t)?.canManageAssets}addAssetToSource(t,n){tG(this.#e.addAssetToSource(t,n))}removeAssetFromSource(t,n){tG(this.#e.removeAssetFromSource(t,n))}#r(t,n){t$.has(this.#e)||t$.set(this.#e,new Map),n.canManageAssets&&console.warn(`
DEPRECATION WARNING:

'canManageAssets' flag was found for asset source with the id '${t}'.

This flag is deprecated and will be removed in the next version. If you have used it to control if an upload buttons is rendered in the asset library, use the 'canAdd' options on an asset library entry. See documentation here: https://img.ly/docs/cesdk/ui/guides/customize-asset-library/`),t$.get(this.#e).set(t,{canManageAssets:n.canManageAssets})}#s(t){t$.get(this.#e)?.delete(t)}async apply(t,n){let i=(t,n)=>new Promise((i,r)=>{this.#e.applyAssetSourceAsset(t,tK(n,t),t=>{try{let n=tG(t);this.#e.isValid(n)?i(n):i(void 0)}catch(t){r(t)}})});return this.#t.size>0?Array.from(this.#t).reduce((t,n)=>(i,r)=>n(i,r,t),i)(t,n):i(t,n)}async applyToBlock(t,n,i){let r=(t,n,i)=>tq(r=>this.#e.applyAssetSourceAssetToBlock(t,tK(n,t),i,r));return this.#n.size>0?Array.from(this.#n).reduce((t,n)=>(i,r,s)=>n(i,r,s,t),r)(t,n,i):r(t,n,i)}async unstable_applyProperty(t,n,i){return tq(r=>this.#e.unstable_applyAssetSourceProperty(t,tK(n,t),i,r))}async defaultApplyAsset(t){return new Promise((n,i)=>{this.#e.defaultApplyAsset(tK(t,""),t=>{try{let i=tG(t);this.#e.isValid(i)?n(i):n(void 0)}catch(t){i(t)}})})}async defaultApplyAssetToBlock(t,n){return tq(i=>this.#e.defaultApplyAssetToBlock(tK(t,""),n,i))}onAssetSourceAdded=t=>{let n=this.#e.subscribeToAssetSourceAdded(t);return()=>{this.#e.isDeleted()||tG(this.#e.unsubscribe(n))}};onAssetSourceRemoved=t=>{let n=this.#e.subscribeToAssetSourceRemoved(t);return()=>{this.#e.isDeleted()||tG(this.#e.unsubscribe(n))}};onAssetSourceUpdated=t=>{let n=this.#e.subscribeToAssetSourceUpdated(t);return()=>{this.#e.isDeleted()||tG(this.#e.unsubscribe(n))}};assetSourceContentsChanged(t){tG(this.#e.assetSourceContentsChanged(t))}dispose(){t$.delete(this.#e)}};function tK(t,n){return"context"in t&&t.context.sourceId===n&&"active"in t?t:{...t,active:t.active??!1,context:{sourceId:n}}}var tX=class extends TypeError{constructor(t,n){let i;let{message:r,...s}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=i)?r:i=[t,...n()]}}};function tJ(t){return"object"==typeof t&&null!=t}function t0(t){return"string"==typeof t?JSON.stringify(t):""+t}function*t1(t,n,i,r){var s;for(let o of(tJ(s=t)&&"function"==typeof s[Symbol.iterator]||(t=[t]),t)){let t=function(t,n,i,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});let{path:s,branch:o}=n,{type:a}=i,{refinement:l,message:c="Expected a value of type `"+a+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+t0(r)+"`"}=t;return{value:r,type:a,refinement:l,key:s[s.length-1],path:s,branch:o,...t,message:c}}(o,n,i,r);t&&(yield t)}}var t2=class{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;let{type:n,schema:i,validator:r,refiner:s,coercer:o=t=>t,entries:a=function*(){}}=t;this.type=n,this.schema=i,this.entries=a,this.coercer=o,this.validator=r?(t,n)=>t1(r(t,n),n,this,t):()=>[],this.refiner=s?(t,n)=>t1(s(t,n),n,this,t):()=>[]}assert(t){return function(t,n){let i=t3(t,n);if(i[0])throw i[0]}(t,this)}create(t){return function(t,n){let i=t3(t,n,{coerce:!0});if(i[0])throw i[0];return i[1]}(t,this)}is(t){return!t3(t,this)[0]}mask(t){return function(t,n){let i=t3(t,n,{coerce:!0,mask:!0});if(i[0])throw i[0];return i[1]}(t,this)}validate(t,n={}){return t3(t,this,n)}};function t3(t,n,i={}){let r=function* t(n,i,r={}){let{path:s=[],branch:o=[n],coerce:a=!1,mask:l=!1}=r,c={path:s,branch:o};if(a&&(n=i.coercer(n,c),l&&"type"!==i.type&&tJ(i.schema)&&tJ(n)&&!Array.isArray(n)))for(let t in n)void 0===i.schema[t]&&delete n[t];let u=!0;for(let t of i.validator(n,c))u=!1,yield[t,void 0];for(let[r,d,p]of i.entries(n,c))for(let i of t(d,p,{path:void 0===r?s:[...s,r],branch:void 0===r?o:[...o,d],coerce:a,mask:l}))i[0]?(u=!1,yield[i[0],void 0]):a&&(d=i[1],void 0===r?n=d:n instanceof Map?n.set(r,d):n instanceof Set?n.add(d):tJ(n)&&(n[r]=d));if(u)for(let t of i.refiner(n,c))u=!1,yield[t,void 0];u&&(yield[void 0,n])}(t,n,i),s=function(t){let{done:n,value:i}=t.next();return n?void 0:i}(r);return s[0]?[new tX(s[0],function*(){for(let t of r)t[0]&&(yield t[0])}),void 0]:[void 0,s[1]]}function t5(t,n){return new t2({type:t,schema:null,validator:n})}function t4(t){return new t2({type:"array",schema:t,*entries(n){if(t&&Array.isArray(n))for(let[i,r]of n.entries())yield[i,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+t0(t)})}function t6(){return t5("boolean",t=>"boolean"==typeof t)}function t8(){return t5("integer",t=>"number"==typeof t&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+t0(t))}function t7(){return t5("number",t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+t0(t))}function t9(t){let n=t?Object.keys(t):[],i=t5("never",()=>!1);return new t2({type:"object",schema:t||null,*entries(r){if(t&&tJ(r)){let s=new Set(Object.keys(r));for(let i of n)s.delete(i),yield[i,r[i],t[i]];for(let t of s)yield[t,r[t],i]}},validator:t=>tJ(t)||"Expected an object, but received: "+t0(t),coercer:t=>tJ(t)?{...t}:t})}function ne(){return t5("string",t=>"string"==typeof t||"Expected a string, but received: "+t0(t))}function nt(t,n,i={}){let{exclusive:r}=i;return nr(t,"max",i=>r?i<n:i<=n||"Expected a "+t.type+" less than "+(r?"":"or equal to ")+n+" but received `"+i+"`")}function nn(t,n,i={}){let{exclusive:r}=i;return nr(t,"min",i=>r?i>n:i>=n||"Expected a "+t.type+" greater than "+(r?"":"or equal to ")+n+" but received `"+i+"`")}function ni(t){return nr(t,"nonempty",n=>(n instanceof Map||n instanceof Set?n.size:n.length)>0||"Expected a nonempty "+t.type+" but received an empty one")}function nr(t,n,i){return new t2({...t,*refiner(r,s){for(let o of(yield*t.refiner(r,s),t1(i(r,s),s,t,r)))yield{...o,refinement:n}}})}function ns(t,n,i){let[r]=t3(n,i);if(r)throw r.message=`Error in argument '${t}': ${r.message}`,r}function no(){let t=/image\/(png|jpeg|webp|x-tga)|audio\/(wav)|video\/(mp4|quicktime)|application\/octet-stream|application\/pdf/;return t5("MimeType",n=>!("string"!=typeof n||!t.test(n))||{message:`expected one of "image/png", "image/jpeg", "image/webp", "image/x-tga", "video/mp4", "video/quicktime", "application/pdf" or "application/octet-stream", but got "${n}"`})}function na(){let t=["Free","VerticalStack","HorizontalStack","DepthStack"];return t5("SceneLayout",n=>!("string"!=typeof n||!t.includes(n))||{message:`expected one of ${t.map(t=>`"${t}"`).join(", ")}, but got "${n}"`})}var nl=Symbol("PROXY");function nc(t,n){Object.defineProperty(t,nl,{value:{type:"getter"},writable:!1})}function nu(t,n){Object.defineProperty(t,nl,{value:{type:"setter"},writable:!1})}var nd={};function np(t,n,i){return Object.hasOwnProperty.call(t,n)?()=>{t[n]=i}:()=>{delete t[n]}}var nh,nf=((h=nf||{}).Png="image/png",h.Jpeg="image/jpeg",h.WebP="image/webp",h.Tga="image/x-tga",h.Wav="audio/wav",h.Mp4="video/mp4",h.QuickTime="video/quicktime",h.Binary="application/octet-stream",h.Pdf="application/pdf",h.Zip="application/zip",h);function nm(t){return"r"in t&&"a"in t&&void 0!==t.r&&void 0!==t.a}function ng(t){return"name"in t&&void 0!==t.name}function nx(t){return"c"in t&&"m"in t&&"y"in t&&"k"in t&&void 0!==t.c&&void 0!==t.m&&void 0!==t.y&&void 0!==t.k}(t=>{var n;(n=t.ColorSpace||(t.ColorSpace={}))[n.sRGB=0]="sRGB",n[n.CMYK=1]="CMYK",n[n.SpotColor=2]="SpotColor",t.toColor=function(t){switch(t.colorSpace){case 0:return{r:t.components.x,g:t.components.y,b:t.components.z,a:t.components.w};case 2:return{name:t.spotColorName,tint:t.tint,externalReference:t.externalReference};case 1:return{c:t.components.x,m:t.components.y,y:t.components.z,k:t.components.w,tint:t.tint};default:throw Error("Unknown color space!")}},t.fromColor=function(t){if(nm(t))return{colorSpace:0,components:{x:t.r,y:t.g,z:t.b,w:t.a},spotColorName:"",tint:1,externalReference:""};if(nx(t))return{colorSpace:1,components:{x:t.c,y:t.m,z:t.y,w:t.k},spotColorName:"",tint:t.tint,externalReference:""};if(ng(t))return{colorSpace:2,components:{x:0,y:0,z:0,w:0},spotColorName:t.name,tint:t.tint,externalReference:t.externalReference};throw Error("Unknown color space!")}})(nh||(nh={}));var ny,nv,nb,nA,nw,nC,n_,nS,nk,nE,nM,nI,nT,nB,nL,nj,nP,nR,nD,nF,nO,nN,nU,nV,nH,nQ,nz,nG,nq,nW,n$,nZ,nY,nK,nX,nJ,n0,n1,n2,n3,n5,n4,n6,n8,n7,n9,ie,it,ii,ir,is,io,ia,il,ic,iu,id,ip,ih,im,ig,ix,iy,iv,ib,iA,iw,iC,i_,iS,ik,iE,iM,iI,iT,iB,iL,ij,iP,iR,iD,iF,iO,iN,iU,iV,iH,iQ,iz,iG,iq,iW,i$,iZ,iY,iK,iX,iJ,i0,i1,i2,i3,i5,i4,i6,i8,i7,i9,re,rt,rn,ri,rr,rs,ro,ra,rl,rc,ru,rd,rp,rh,rf,rm,rg,rx,ry,rv,rb,rA,rw,rC,r_,rS,rk,rE,rM,rI,rT,rB,rL,rj,rP,rR,rD,rF,rO,rN,rU,rV,rH,rQ,rz,rG,rq,rW,r$,rZ,rY,rK,rX,rJ,r0,r1,r2,r3,r5,r4,r6,r8,r7,r9,se,st,sn,si,sr,ss,so,sa,sl,sc,su,sd,sp,sh,sf,sm,sg,sx,sy,sv,sb,sA,sw,sC,s_,sS,sk,sE,sM,sI,sT,sB,sL,sj,sP,sR,sD,sF,sO,sN,sU,sV,sH,sQ,sz,sG,sq,sW,s$,sZ,sY,sK,sX,sJ,s0,s1,s2,s3,s5,s4,s6,s8,s7,s9,oe,ot,on,oi,or,os,oo,oa,ol,oc,ou,od,op,oh,of,om,og,ox,oy,ov,ob,oA,ow,oC,o_,oS,ok,oE,oM,oI,oT,oB,oL,oj,oP,oR,oD,oF,oO,oN,oU,oV,oH,oQ,oz,oG,oq,oW,o$,oZ,oY,oK,oX,oJ,o0,o1,o2,o3,o5,o4,o6,o8,o7,o9,ae,at,an,ai,ar,as,ao,aa,al,ac,au,ad,ap,ah,af,am,ag,ax,ay,av,ab,aA,aw="undefined"!=typeof Blob?Blob:(()=>{try{return tD().Blob}catch(t){return function(){throw Error("Could not find Blob constructor and failed to require('buffer').Blob")}}})();av=[nu],ay=[nu],ax=[nu],ag=[nu],am=[nc],af=[nc],ah=[nu],ap=[nu],ad=[nu],au=[nc],ac=[nc],al=[nc],aa=[nu],ao=[nu],as=[nu],ar=[nu],ai=[nc],an=[nu],at=[nu],ae=[nc],o9=[nc],o7=[nc],o8=[nc],o6=[nc],o4=[nc],o5=[nc],o3=[nu],o2=[nc],o1=[nc],o0=[nc],oJ=[nu],oX=[nc],oK=[nu],oY=[nc],oZ=[nu],o$=[nc],oW=[nu],oq=[nc],oG=[nc],oz=[nc],oQ=[nc],oH=[nu],oV=[nu],oU=[nu],oN=[nu],oO=[nu],oF=[nu],oD=[nc],oR=[nc],oP=[nu],oj=[nu],oL=[nu],oB=[nu],oT=[nc],oI=[nu],oM=[nc],oE=[nc],ok=[nu],oS=[nu],o_=[nc],oC=[nc],ow=[nc],oA=[nc],ob=[nc],ov=[nc],oy=[nu],ox=[nu],og=[nu],om=[nu],of=[nc],oh=[nc],op=[nc],od=[nc],ou=[nu],oc=[nc],ol=[nu],oa=[nu],oo=[nc],os=[nc],or=[nc],oi=[nu],on=[nu],ot=[nc],oe=[nc],s9=[nc],s7=[nc],s8=[nc],s6=[nc],s4=[nu],s5=[nu],s3=[nc],s2=[nu],s1=[nu],s0=[nu],sJ=[nu],sX=[nu],sK=[nu],sY=[nc],sZ=[nc],s$=[nc],sW=[nc],sq=[nc],sG=[nu],sz=[nc],sQ=[nu],sH=[nc],sV=[nu],sU=[nc],sN=[nu],sO=[nc],sF=[nu],sD=[nc],sR=[nu],sP=[nc],sj=[nu],sL=[nc],sB=[nu],sT=[nc],sI=[nc],sM=[nu],sE=[nc],sk=[nc],sS=[nu],s_=[nu],sC=[nu],sw=[nu],sA=[nc],sb=[nc],sv=[nc],sy=[nu],sx=[nu],sg=[nu],sm=[nu],sf=[nu],sh=[nu],sp=[nu],sd=[nc],su=[nc],sc=[nc],sl=[nc],sa=[nc],so=[nc],ss=[nu],sr=[nu],si=[nu],sn=[nc],st=[nc],se=[nu],r9=[nc],r7=[nc],r8=[nc],r6=[nu],r4=[nc],r5=[nc],r3=[nc],r2=[nu],r1=[nu],r0=[nc],rJ=[nu],rX=[nc],rK=[nu],rY=[nc],rZ=[nc],r$=[nc],rW=[nu],rq=[nu],rG=[nu],rz=[nc],rQ=[nu],rH=[nc],rV=[nu],rU=[nc],rN=[nc],rO=[nu],rF=[nc],rD=[nu],rR=[nc],rP=[nc],rj=[nc],rL=[nu],rB=[nc],rT=[nu],rI=[nc],rM=[nc],rE=[nc],rk=[nu],rS=[nc],r_=[nu],rC=[nu],rw=[nc],rA=[nc],rb=[nu],rv=[nc],ry=[nu],rx=[nc],rg=[nu],rm=[nc],rf=[nu],rh=[nc],rp=[nc],rd=[nc],ru=[nu],rc=[nc],rl=[nu],ra=[nu],ro=[nc],rs=[nc],rr=[nu],ri=[nc],rn=[nu],rt=[nc],re=[nu],i9=[nc],i7=[nu],i8=[nc],i6=[nu],i4=[nc],i5=[nu],i3=[nu],i2=[nu],i1=[nu],i0=[nu],iJ=[nu],iX=[nc],iK=[nu],iY=[nc],iZ=[nu],i$=[nc],iW=[nu],iq=[nc],iG=[nc],iz=[nu],iQ=[nc],iH=[nc],iV=[nu],iU=[nu],iN=[nu],iO=[nu],iF=[nc],iD=[nc],iR=[nc],iP=[nc],ij=[nc],iL=[nu],iB=[nc],iT=[nu],iI=[nu],iM=[nc],iE=[nu],ik=[nc],iS=[nc],i_=[nc],iC=[nu],iw=[nc],iA=[nc],ib=[nc],iv=[nu],iy=[nc],ix=[nu],ig=[nc],im=[nu],ih=[nc],ip=[nc],id=[nc],iu=[nu],ic=[nu],il=[nc],ia=[nc],io=[nc],is=[nc],ir=[nu],ii=[nc],it=[nc],ie=[nc],n9=[nu],n7=[nc],n8=[nc],n6=[nc],n4=[nu],n5=[nc],n3=[nu],n2=[nc],n1=[nc],n0=[nu],nJ=[nc],nX=[nc],nK=[nc],nY=[nu],nZ=[nc],n$=[nc],nW=[nu],nq=[nc],nG=[nc],nz=[nc],nQ=[nu],nH=[nc],nV=[nu],nU=[nc],nN=[nu],nO=[nc],nF=[nu],nD=[nc],nR=[nc],nP=[nc],nj=[nc],nL=[nc],nB=[nc],nT=[nc],nI=[nu],nM=[nc],nE=[nu],nk=[nu],nS=[nu],n_=[nc],nC=[nc],nw=[nc],nA=[nu],nb=[nc],nv=[nu],ny=[nu];var aC=class{constructor(t){$(aA,5,this),ee(this,ab),Y(this,"onSelectionChanged",t=>{let n=J(this,ab).subscribeToSelectionChange(t);return()=>{J(this,ab).isDeleted()||tG(J(this,ab).unsubscribe(n))}}),Y(this,"onClicked",t=>{let n=J(this,ab).subscribeToBlockClicked(t);return()=>{J(this,ab).isDeleted()||tG(J(this,ab).unsubscribe(n))}}),Y(this,"onStateChanged",(t,n)=>{ns("ids",t,t4(t8()));let i=J(this,ab).subscribeToBlockState(t,t=>{try{n(tW(t,!0))}catch(t){console.error(t)}});return()=>{J(this,ab).isDeleted()||tG(J(this,ab).unsubscribe(i))}}),et(this,ab,t)}async export(t,n=nf.Png,i={}){ns("handle",t,t7()),ns("mimeType",n,no()),ns("options",i,t9());let r=null!=i.targetWidth&&null!=i.targetHeight,s=i.jpegQuality??.9,o=i.webpQuality??1,a=i.pngCompressionLevel??5;return ns("jpegQuality",s,nn(nt(t7(),1),0,{exclusive:!0})),ns("webpQuality",o,nn(nt(t7(),1),0,{exclusive:!0})),ns("pngCompressionLevel",a,nn(nt(t8(),9),0)),null==i.targetWidth&&null==i.targetHeight||(ns("targetWidth",i.targetWidth,t7()),ns("targetHeight",i.targetHeight,t7())),new Promise((l,c)=>{J(this,ab).exportToBuffer(t,n,t=>{"error"in t?c(t.error):l(new aw([t],{type:n}))},{pngCompressionLevel:a,jpegQuality:s,webpQuality:o,useTargetSize:r,targetWidth:i.targetWidth??0,targetHeight:i.targetHeight??0,exportPdfWithHighCompatibility:i.exportPdfWithHighCompatibility??!0,exportPdfWithUnderlayer:i.exportPdfWithUnderlayer??!1,underlayerSpotColorName:i.underlayerSpotColorName??"",underlayerOffset:i.underlayerOffset??0})})}async exportWithColorMask(t,n=nf.Png,i,r,s,o={}){ns("handle",t,t7()),ns("mimeType",n,no()),ns("options",o,t9());let a=null!=o.targetWidth&&null!=o.targetHeight,l=o.jpegQuality??.9,c=o.webpQuality??1,u=o.pngCompressionLevel??5;return ns("jpegQuality",l,nn(nt(t7(),1),0,{exclusive:!0})),ns("webpQuality",c,nn(nt(t7(),1),0,{exclusive:!0})),ns("pngCompressionLevel",u,nn(nt(t8(),9),0)),null==o.targetWidth&&null==o.targetHeight||(ns("targetWidth",o.targetWidth,t7()),ns("targetHeight",o.targetHeight,t7())),new Promise((d,p)=>{J(this,ab).exportWithColorMaskToBuffer(t,n,i,r,s,(t,i)=>{"error"in t?p(t.error):"error"in i?p(i.error):d([new aw([t],{type:n}),new aw([i],{type:n})])},{pngCompressionLevel:u,jpegQuality:l,webpQuality:c,useTargetSize:a,targetWidth:o.targetWidth??0,targetHeight:o.targetHeight??0,exportPdfWithHighCompatibility:o.exportPdfWithHighCompatibility??!0,exportPdfWithUnderlayer:o.exportPdfWithUnderlayer??!1,underlayerSpotColorName:o.underlayerSpotColorName??"",underlayerOffset:o.underlayerOffset??0})})}async exportVideo(t,n=nf.Mp4,i,r){throw Error("Method not implemented. An implementation is available on the BlockAPI at engine.block or cesdk.engine.block")}async unstable_exportAudio(t,n=nf.Wav,i,r){return ns("handle",t,t7()),ns("mimeType",n,no()),ns("options",r,t9()),new Promise((s,o)=>{J(this,ab).unstable_exportAudioToBuffer(t,r.timeOffset??0,r.duration??0,n,i,t=>{"error"in t?o(t.error):s(new aw([t],{type:n}))},{sampleRate:r.sampleRate??48e3,numberOfChannels:r.numberOfChannels??2})})}async loadFromString(t){return ns("content",t,ne()),tq(n=>J(this,ab).loadBlocksFromString(t,n)).then(t=>tW(t))}loadFromArchiveURL(t){return ns("url",t,ne()),tq(n=>J(this,ab).loadBlocksFromArchiveURL(t,n)).then(t=>tW(t))}async saveToString(t,n=["buffer","http","https"]){return ns("blocks",t,t4(t7())),tq(i=>J(this,ab).saveBlocksToString(t,i,n))}async saveToArchive(t){return ns("blocks",t,t4(t7())),new Promise((n,i)=>{J(this,ab).saveBlocksToArchive(t,t=>{"error"in t?i(t.error):n(new aw([t],{type:nf.Zip}))})})}create(t){return ns("type",t,ne()),tG(J(this,ab).create(t))}createFill(t){return ns("type",t,ne()),tG(J(this,ab).createFill(t))}getType(t){return ns("id",t,t8()),tG(J(this,ab).getType(t))}getKind(t){return ns("id",t,t8()),tG(J(this,ab).getKind(t))}setKind(t,n){ns("id",t,t8()),tG(J(this,ab).setKind(t,n))}select(t){return ns("id",t,t8()),tG(J(this,ab).select(t))}setSelected(t,n){return ns("id",t,t8()),ns("selected",n,t6()),tG(J(this,ab).setSelected(t,n))}isSelected(t){return ns("id",t,t8()),tG(J(this,ab).isSelected(t))}findAllSelected(){return tW(J(this,ab).findAllSelected())}isGroupable(t){return ns("ids",t,t4(t7())),tG(J(this,ab).isGroupable(t))}group(t){return ns("ids",t,ni(t4(t7()))),tG(J(this,ab).group(t))}ungroup(t){return ns("id",t,t7()),tG(J(this,ab).ungroup(t))}enterGroup(t){return ns("id",t,t7()),tG(J(this,ab).enterGroup(t))}exitGroup(t){return ns("id",t,t7()),tG(J(this,ab).exitGroup(t))}isCombinable(t){return ns("ids",t,t4(t7())),tG(J(this,ab).isCombinable(t))}combine(t,n){return ns("ids",t,t4(t7())),ns("op",n,ne()),tG(J(this,ab).combine(t,n))}setName(t,n){return ns("id",t,t8()),ns("name",n,ne()),tG(J(this,ab).setName(t,n))}getName(t){return ns("id",t,t8()),tG(J(this,ab).getName(t))}getUUID(t){return ns("id",t,t8()),tG(J(this,ab).getUUID(t))}findByName(t){return ns("name",t,ne()),tW(J(this,ab).findByName(t))}findByType(t){return ns("type",t,ne()),tW(tG(J(this,ab).findByType(t)))}findByKind(t){return ns("kind",t,ne()),tW(tG(J(this,ab).findByKind(t)))}findAll(){return tW(J(this,ab).findAll())}findAllPlaceholders(){return tW(J(this,ab).findAllPlaceholders())}createShape(t){return ns("type",t,ne()),tG(J(this,ab).createShape(t))}hasShape(t){return ns("id",t,t8()),tG(J(this,ab).hasShape(t))}supportsShape(t){return ns("id",t,t8()),tG(J(this,ab).supportsShape(t))}getShape(t){return ns("id",t,t8()),tG(J(this,ab).getShape(t))}setShape(t,n){return ns("id",t,t8()),ns("shape",n,t8()),tG(J(this,ab).setShape(t,n))}isVisible(t){return ns("id",t,t8()),tG(J(this,ab).isVisible(t))}setVisible(t,n){return ns("id",t,t8()),ns("visible",n,t6()),tG(J(this,ab).setVisible(t,n))}isClipped(t){return ns("id",t,t8()),tG(J(this,ab).isClipped(t))}setClipped(t,n){return ns("id",t,t8()),ns("clipped",n,t6()),tG(J(this,ab).setClipped(t,n))}isTransformLocked(t){return ns("id",t,t8()),tG(J(this,ab).isTransformLocked(t))}setTransformLocked(t,n){return ns("id",t,t8()),ns("locked",n,t6()),tG(J(this,ab).setTransformLocked(t,n))}getPositionX(t){return ns("id",t,t8()),tG(J(this,ab).getPositionX(t))}getPositionXMode(t){return ns("id",t,t8()),tG(J(this,ab).getPositionXMode(t))}getPositionY(t){return ns("id",t,t8()),tG(J(this,ab).getPositionY(t))}getPositionYMode(t){return ns("id",t,t8()),tG(J(this,ab).getPositionYMode(t))}setPositionX(t,n){return ns("id",t,t8()),ns("value",n,t7()),tG(J(this,ab).setPositionX(t,n))}setPositionXMode(t,n){return ns("id",t,t8()),tG(J(this,ab).setPositionXMode(t,n))}setPositionY(t,n){return ns("id",t,t8()),ns("value",n,t7()),tG(J(this,ab).setPositionY(t,n))}setPositionYMode(t,n){return ns("id",t,t8()),tG(J(this,ab).setPositionYMode(t,n))}setAlwaysOnTop(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setAlwaysOnTop(t,n))}setAlwaysOnBottom(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setAlwaysOnBottom(t,n))}isAlwaysOnTop(t){return ns("id",t,t8()),tG(J(this,ab).isAlwaysOnTop(t))}isAlwaysOnBottom(t){return ns("id",t,t8()),tG(J(this,ab).isAlwaysOnBottom(t))}bringToFront(t){return ns("id",t,t7()),tG(J(this,ab).bringToFront(t))}sendToBack(t){return ns("id",t,t7()),tG(J(this,ab).sendToBack(t))}bringForward(t){return ns("id",t,t7()),tG(J(this,ab).bringForward(t))}sendBackward(t){return ns("id",t,t7()),tG(J(this,ab).sendBackward(t))}getRotation(t){return ns("id",t,t8()),tG(J(this,ab).getRotation(t))}setRotation(t,n){return ns("id",t,t8()),ns("radians",n,t7()),tG(J(this,ab).setRotation(t,n))}getFlipHorizontal(t){return ns("id",t,t8()),tG(J(this,ab).getFlip(t)).horizontal}getFlipVertical(t){return ns("id",t,t8()),tG(J(this,ab).getFlip(t)).vertical}setFlipHorizontal(t,n){return ns("id",t,t8()),ns("flip",n,t6()),tG(J(this,ab).setFlipHorizontal(t,n))}setFlipVertical(t,n){return ns("id",t,t8()),ns("flip",n,t6()),tG(J(this,ab).setFlipVertical(t,n))}hasContentFillMode(t){return ns("id",t,t8()),tG(J(this,ab).hasContentFillMode(t))}supportsContentFillMode(t){return ns("id",t,t8()),tG(J(this,ab).supportsContentFillMode(t))}getWidth(t){return ns("id",t,t8()),tG(J(this,ab).getWidth(t))}getWidthMode(t){return ns("id",t,t8()),tG(J(this,ab).getWidthMode(t))}getHeight(t){return ns("id",t,t8()),tG(J(this,ab).getHeight(t))}getHeightMode(t){return ns("id",t,t8()),tG(J(this,ab).getHeightMode(t))}setWidth(t,n){return ns("id",t,t8()),ns("value",n,t7()),tG(J(this,ab).setWidth(t,n))}setWidthMode(t,n){return ns("id",t,t8()),tG(J(this,ab).setWidthMode(t,n))}setHeight(t,n){return ns("id",t,t8()),ns("value",n,t7()),tG(J(this,ab).setHeight(t,n))}setHeightMode(t,n){return ns("id",t,t8()),tG(J(this,ab).setHeightMode(t,n))}getFrameX(t){return ns("id",t,t8()),tG(J(this,ab).getLastFrameX(t))}getFrameY(t){return ns("id",t,t8()),tG(J(this,ab).getLastFrameY(t))}getFrameWidth(t){return ns("id",t,t8()),tG(J(this,ab).getLastFrameWidth(t))}getFrameHeight(t){return ns("id",t,t8()),tG(J(this,ab).getLastFrameHeight(t))}setContentFillMode(t,n){return ns("id",t,t8()),tG(J(this,ab).setContentFillMode(t,n))}getContentFillMode(t){return ns("id",t,t8()),tG(J(this,ab).getContentFillMode(t))}duplicate(t){return ns("id",t,t8()),tG(J(this,ab).duplicate(t))}destroy(t){return ns("id",t,t8()),tG(J(this,ab).destroy(t))}isValid(t){return ns("id",t,t8()),J(this,ab).isValid(t)}getParent(t){return ns("id",t,t8()),tG(J(this,ab).hasParent(t))?tG(J(this,ab).getParent(t)):null}getChildren(t){return ns("id",t,t8()),tW(tG(J(this,ab).getChildren(t)))}insertChild(t,n,i){return ns("parent",t,t7()),ns("child",n,t7()),ns("index",i,nn(t7(),0)),tG(J(this,ab).insertChild(t,n,i))}appendChild(t,n){return ns("parent",t,t7()),ns("child",n,t7()),tG(J(this,ab).appendChild(t,n))}referencesAnyVariables(t){return ns("id",t,t8()),tG(J(this,ab).referencesAnyVariables(t))}getGlobalBoundingBoxX(t){return ns("id",t,t8()),tG(J(this,ab).getGlobalBoundingBoxX(t))}getGlobalBoundingBoxY(t){return ns("id",t,t8()),tG(J(this,ab).getGlobalBoundingBoxY(t))}getGlobalBoundingBoxWidth(t){return ns("id",t,t8()),tG(J(this,ab).getGlobalBoundingBoxWidth(t))}getGlobalBoundingBoxHeight(t){return ns("id",t,t8()),tG(J(this,ab).getGlobalBoundingBoxHeight(t))}getScreenSpaceBoundingBoxXYWH(t){return ns("ids",t,t4(t7())),tG(J(this,ab).getScreenSpaceBoundingBoxXYWH(t))}alignHorizontally(t,n){return ns("ids",t,ni(t4(t7()))),tG(J(this,ab).alignHorizontally(t,n))}alignVertically(t,n){return ns("ids",t,ni(t4(t7()))),tG(J(this,ab).alignVertically(t,n))}isAlignable(t){return ns("ids",t,t4(t7())),tG(J(this,ab).isAlignable(t))}distributeHorizontally(t){return ns("ids",t,ni(t4(t7()))),tG(J(this,ab).distributeHorizontally(t))}distributeVertically(t){return ns("ids",t,ni(t4(t7()))),tG(J(this,ab).distributeVertically(t))}isDistributable(t){return ns("ids",t,t4(t7())),tG(J(this,ab).isDistributable(t))}fillParent(t){return ns("id",t,t8()),tG(J(this,ab).fillParent(t))}resizeContentAware(t,n,i){return ns("ids",t,t4(t7())),ns("width",n,t7()),ns("height",i,t7()),tG(J(this,ab).resizeContentAware(t,n,i))}scale(t,n,i=0,r=0){return ns("id",t,t8()),tG(J(this,ab).scale(t,n,i,r))}findAllProperties(t){return ns("id",t,t8()),tW(tG(J(this,ab).findAllProperties(t)))}isPropertyReadable(t){return ns("property",t,ne()),J(this,ab).isPropertyReadable(t)}isPropertyWritable(t){return ns("property",t,ne()),J(this,ab).isPropertyWritable(t)}getPropertyType(t){return ns("property",t,ne()),tG(J(this,ab).getPropertyType(t))}getEnumValues(t){return ns("enumProperty",t,ne()),tW(tG(J(this,ab).getEnumValues(t)))}setBool(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,t6()),tG(J(this,ab).setBool(t,n,i))}getBool(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getBool(t,n))}setInt(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,t8()),tG(J(this,ab).setInt(t,n,i))}getInt(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getInt(t,n))}setFloat(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,t7()),tG(J(this,ab).setFloat(t,n,i))}getFloat(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getFloat(t,n))}setDouble(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,t7()),tG(J(this,ab).setDouble(t,n,i))}getDouble(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getDouble(t,n))}setString(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,ne()),tG(J(this,ab).setString(t,n,i))}getString(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getString(t,n))}setColor(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).setColor(t,n,nh.fromColor(i)))}getColor(t,n){return ns("id",t,t8()),ns("property",n,ne()),nh.toColor(tG(J(this,ab).getColor(t,n)))}setColorRGBA(t,n,i,r,s,o=1){return ns("id",t,t8()),ns("property",n,ne()),ns("r",i,t7()),ns("g",r,t7()),ns("b",s,t7()),ns("a",o,t7()),tG(J(this,ab).setColorRGBA(t,n,i,r,s,o))}getColorRGBA(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getColorRGBA(t,n))}setColorSpot(t,n,i,r=1){return ns("id",t,t8()),ns("property",n,ne()),ns("name",i,ne()),ns("tint",r,t7()),tG(J(this,ab).setColorSpot(t,n,i,r))}getColorSpotName(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getColorSpotName(t,n))}getColorSpotTint(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getColorSpotTint(t,n))}setGradientColorStops(t,n,i){ns("id",t,t8()),ns("property",n,ne());let r=i.map(t=>({color:nh.fromColor(t.color),stop:t.stop}));return tG(J(this,ab).setGradientColorStops(t,n,r))}getGradientColorStops(t,n){return ns("id",t,t8()),ns("property",n,ne()),tW(tG(J(this,ab).getGradientColorStops(t,n))).map(t=>({color:nh.toColor(t.color),stop:t.stop}))}getSourceSet(t,n){return ns("id",t,t8()),ns("property",n,ne()),tW(tG(J(this,ab).getSourceSet(t,n)))}setSourceSet(t,n,i){ns("id",t,t8()),ns("property",n,ne()),ns("sourceSet",i,t4(t9({uri:ne(),width:t7(),height:t7()}))),tG(J(this,ab).setSourceSet(t,n,i))}addImageFileURIToSourceSet(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("uri",i,ne()),tq(r=>J(this,ab).addImageFileURIToSourceSet(t,n,i,r))}addVideoFileURIToSourceSet(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("uri",i,ne()),tq(r=>J(this,ab).addVideoFileURIToSourceSet(t,n,i,r))}setEnum(t,n,i){return ns("id",t,t8()),ns("property",n,ne()),ns("value",i,ne()),tG(J(this,ab).setEnum(t,n,i))}getEnum(t,n){return ns("id",t,t8()),ns("property",n,ne()),tG(J(this,ab).getEnum(t,n))}hasCrop(t){return ns("id",t,t8()),tG(J(this,ab).hasCrop(t))}supportsCrop(t){return ns("id",t,t8()),tG(J(this,ab).supportsCrop(t))}setCropScaleX(t,n){return ns("id",t,t8()),ns("scaleX",n,t7()),tG(J(this,ab).setCropScaleX(t,n))}setCropScaleY(t,n){return ns("id",t,t8()),ns("scaleY",n,t7()),tG(J(this,ab).setCropScaleY(t,n))}setCropRotation(t,n){return ns("id",t,t8()),ns("rotation",n,t7()),tG(J(this,ab).setCropRotation(t,n))}setCropScaleRatio(t,n){return ns("id",t,t8()),ns("scaleRatio",n,t7()),tG(J(this,ab).setCropScaleRatio(t,n))}setCropTranslationX(t,n){return ns("id",t,t8()),ns("translationX",n,t7()),tG(J(this,ab).setCropTranslationX(t,n))}setCropTranslationY(t,n){return ns("id",t,t8()),ns("translationY",n,t7()),tG(J(this,ab).setCropTranslationY(t,n))}resetCrop(t){return ns("id",t,t8()),tG(J(this,ab).resetCrop(t))}getCropScaleX(t){return ns("id",t,t8()),tG(J(this,ab).getCropScaleX(t))}getCropScaleY(t){return ns("id",t,t8()),tG(J(this,ab).getCropScaleY(t))}getCropRotation(t){return ns("id",t,t8()),tG(J(this,ab).getCropRotation(t))}getCropScaleRatio(t){return ns("id",t,t8()),tG(J(this,ab).getCropScaleRatio(t))}getCropTranslationX(t){return ns("id",t,t8()),tG(J(this,ab).getCropTranslationX(t))}getCropTranslationY(t){return ns("id",t,t8()),tG(J(this,ab).getCropTranslationY(t))}adjustCropToFillFrame(t,n){return ns("id",t,t8()),ns("minScaleRatio",n,t7()),tG(J(this,ab).adjustCropToFillFrame(t,n))}flipCropHorizontal(t){return ns("id",t,t8()),tG(J(this,ab).flipCropHorizontal(t))}flipCropVertical(t){return ns("id",t,t8()),tG(J(this,ab).flipCropVertical(t))}hasOpacity(t){return ns("id",t,t8()),tG(J(this,ab).hasOpacity(t))}supportsOpacity(t){return ns("id",t,t8()),tG(J(this,ab).supportsOpacity(t))}setOpacity(t,n){return ns("id",t,t8()),ns("opacity",n,t7()),tG(J(this,ab).setOpacity(t,n))}getOpacity(t){return ns("id",t,t8()),tG(J(this,ab).getOpacity(t))}hasBlendMode(t){return ns("id",t,t8()),tG(J(this,ab).hasBlendMode(t))}supportsBlendMode(t){return ns("id",t,t8()),tG(J(this,ab).supportsBlendMode(t))}setBlendMode(t,n){return ns("id",t,t8()),ns("blendMode",n,ne()),tG(J(this,ab).setBlendMode(t,n))}getBlendMode(t){return ns("id",t,t8()),tG(J(this,ab).getBlendMode(t))}hasFillColor(t){return ns("id",t,t8()),tG(J(this,ab).hasFillColor(t))}isIncludedInExport(t){return ns("id",t,t8()),tG(J(this,ab).isIncludedInExport(t))}setIncludedInExport(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setIncludedInExport(t,n))}setFillColorRGBA(t,n,i,r,s=1){return ns("id",t,t8()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),ns("a",s,t7()),tG(J(this,ab).setFillColorRGBA(t,n,i,r,s))}getFillColorRGBA(t){return ns("id",t,t8()),tG(J(this,ab).getFillColorRGBA(t))}setFillColorEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setFillColorEnabled(t,n))}isFillColorEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isFillColorEnabled(t))}createEffect(t){return ns("type",t,ne()),tG(J(this,ab).createEffect(t))}hasEffects(t){return ns("id",t,t8()),tG(J(this,ab).hasEffects(t))}supportsEffects(t){return ns("id",t,t8()),tG(J(this,ab).supportsEffects(t))}getEffects(t){return ns("id",t,t8()),tW(tG(J(this,ab).getEffects(t)))}insertEffect(t,n,i){ns("id",t,t8()),ns("effectId",n,t8()),ns("index",i,nn(t8(),0)),tG(J(this,ab).insertEffect(t,n,i))}appendEffect(t,n){ns("id",t,t8()),ns("effectId",n,t8()),tG(J(this,ab).appendEffect(t,n))}removeEffect(t,n){ns("id",t,t8()),ns("index",n,nn(t8(),0)),tG(J(this,ab).removeEffect(t,n))}hasEffectEnabled(t){return ns("effectId",t,t8()),tG(J(this,ab).hasEffectEnabled(t))}setEffectEnabled(t,n){ns("effectId",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setEffectEnabled(t,n))}isEffectEnabled(t){return ns("effectId",t,t8()),tG(J(this,ab).isEffectEnabled(t))}createBlur(t){return ns("type",t,ne()),tG(J(this,ab).createBlur(t))}hasBlur(t){return ns("id",t,t8()),tG(J(this,ab).hasBlur(t))}supportsBlur(t){return ns("id",t,t8()),tG(J(this,ab).supportsBlur(t))}setBlur(t,n){ns("id",t,t8()),ns("blurId",n,t8()),tG(J(this,ab).setBlur(t,n))}getBlur(t){return ns("id",t,t8()),tG(J(this,ab).getBlur(t))}setBlurEnabled(t,n){ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setBlurEnabled(t,n))}isBlurEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isBlurEnabled(t))}hasBackgroundColor(t){return ns("id",t,t8()),tG(J(this,ab).hasBackgroundColor(t))}supportsBackgroundColor(t){return ns("id",t,t8()),tG(J(this,ab).supportsBackgroundColor(t))}setBackgroundColorRGBA(t,n,i,r,s=1){return ns("id",t,t8()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),ns("a",s,t7()),tG(J(this,ab).setBackgroundColorRGBA(t,n,i,r,s))}getBackgroundColorRGBA(t){return ns("id",t,t8()),tG(J(this,ab).getBackgroundColorRGBA(t))}setBackgroundColorEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setBackgroundColorEnabled(t,n))}isBackgroundColorEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isBackgroundColorEnabled(t))}hasStroke(t){return ns("id",t,t8()),tG(J(this,ab).hasStroke(t))}supportsStroke(t){return ns("id",t,t8()),tG(J(this,ab).supportsStroke(t))}setStrokeEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setStrokeEnabled(t,n))}isStrokeEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isStrokeEnabled(t))}setStrokeColorRGBA(t,n,i,r,s=1){return ns("id",t,t8()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),ns("a",s,t7()),tG(J(this,ab).setStrokeColorRGBA(t,n,i,r,s))}setStrokeColor(t,n){return ns("id",t,t8()),tG(J(this,ab).setStrokeColor(t,nh.fromColor(n)))}getStrokeColorRGBA(t){return ns("id",t,t8()),tG(J(this,ab).getStrokeColorRGBA(t))}getStrokeColor(t){return ns("id",t,t8()),nh.toColor(tG(J(this,ab).getStrokeColor(t)))}setStrokeWidth(t,n){return ns("id",t,t8()),ns("width",n,t7()),tG(J(this,ab).setStrokeWidth(t,n))}getStrokeWidth(t){return ns("id",t,t8()),tG(J(this,ab).getStrokeWidth(t))}setStrokeStyle(t,n){return ns("id",t,t8()),tG(J(this,ab).setStrokeStyle(t,n))}getStrokeStyle(t){return ns("id",t,t8()),tG(J(this,ab).getStrokeStyle(t))}setStrokePosition(t,n){return ns("id",t,t8()),tG(J(this,ab).setStrokePosition(t,n))}getStrokePosition(t){return ns("id",t,t8()),tG(J(this,ab).getStrokePosition(t))}setStrokeCornerGeometry(t,n){return ns("id",t,t8()),tG(J(this,ab).setStrokeCornerGeometry(t,n))}getStrokeCornerGeometry(t){return ns("id",t,t8()),tG(J(this,ab).getStrokeCornerGeometry(t))}hasDropShadow(t){return ns("id",t,t8()),tG(J(this,ab).hasDropShadow(t))}supportsDropShadow(t){return ns("id",t,t8()),tG(J(this,ab).supportsDropShadow(t))}setDropShadowEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setDropShadowEnabled(t,n))}isDropShadowEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isDropShadowEnabled(t))}setDropShadowColorRGBA(t,n,i,r,s=1){return ns("id",t,t8()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),ns("a",s,t7()),tG(J(this,ab).setDropShadowColorRGBA(t,n,i,r,s))}setDropShadowColor(t,n){return ns("id",t,t8()),tG(J(this,ab).setDropShadowColor(t,nh.fromColor(n)))}getDropShadowColorRGBA(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowColorRGBA(t))}getDropShadowColor(t){return ns("id",t,t8()),nh.toColor(tG(J(this,ab).getDropShadowColor(t)))}setDropShadowOffsetX(t,n){return ns("id",t,t8()),ns("offsetX",n,t7()),tG(J(this,ab).setDropShadowOffsetX(t,n))}getDropShadowOffsetX(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowOffsetX(t))}setDropShadowOffsetY(t,n){return ns("id",t,t8()),ns("offsetY",n,t7()),tG(J(this,ab).setDropShadowOffsetY(t,n))}getDropShadowOffsetY(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowOffsetY(t))}setDropShadowBlurRadiusX(t,n){return ns("id",t,t8()),ns("blurRadiusX",n,t7()),tG(J(this,ab).setDropShadowBlurRadiusX(t,n))}getDropShadowBlurRadiusX(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowBlurRadiusX(t))}setDropShadowBlurRadiusY(t,n){return ns("id",t,t8()),ns("blurRadiusY",n,t7()),tG(J(this,ab).setDropShadowBlurRadiusY(t,n))}getDropShadowBlurRadiusY(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowBlurRadiusY(t))}setDropShadowClip(t,n){return ns("id",t,t8()),tG(J(this,ab).setDropShadowClip(t,n))}getDropShadowClip(t){return ns("id",t,t8()),tG(J(this,ab).getDropShadowClip(t))}createCutoutFromBlocks(t,n=2,i=4,r=!0){return ns("ids",t,t4(t8())),ns("vectorizeDistanceThreshold",n,t7()),ns("maxSmoothingDistance",i,t7()),ns("useExistingShapeInformation",r,t6()),tG(J(this,ab).createCutoutFromBlocks(t,n,i,r))}createCutoutFromPath(t){return ns("path",t,ne()),tG(J(this,ab).createCutoutFromPath(t))}createCutoutFromOperation(t,n){return ns("ids",t,t4(t8())),ns("op",n,function(){let t=["Difference","Intersection","Union","XOR"];return t5("CutoutOperation",n=>!("string"!=typeof n||!t.includes(n))||{message:`expected one of ${t.map(t=>`"${t}"`).join(", ")}, but got "${n}"`})}()),tG(J(this,ab).createCutoutFromOperation(t,n))}replaceText(t,n,i=-1,r=-1){ns("id",t,t8()),ns("text",n,ne()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).replaceText(t,n,i,r))}removeText(t,n=-1,i=-1){ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tG(J(this,ab).removeText(t,n,i))}setTextColor(t,n,i=-1,r=-1){ns("id",t,t8()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).setTextColor(t,nh.fromColor(n),i,r))}getTextColors(t,n=-1,i=-1){return ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tW(tG(J(this,ab).getTextColors(t,n,i))).map(t=>nh.toColor(t))}setTextFontWeight(t,n,i=-1,r=-1){ns("id",t,t8()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).setTextFontWeight(t,n,i,r))}getTextFontWeights(t,n=-1,i=-1){return ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tW(tG(J(this,ab).getTextFontWeights(t,n,i)))}setTextFontSize(t,n,i=-1,r=-1){ns("id",t,t8()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).setTextFontSize(t,n,i,r))}getTextFontSizes(t,n=-1,i=-1){return ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tW(tG(J(this,ab).getTextFontSizes(t,n,i)))}setTextFontStyle(t,n,i=-1,r=-1){ns("id",t,t8()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).setTextFontStyle(t,n,i,r))}getTextFontStyles(t,n=-1,i=-1){return ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tW(tG(J(this,ab).getTextFontStyles(t,n,i)))}getTextCases(t,n=-1,i=-1){return ns("id",t,t8()),ns("from",n,t8()),ns("to",i,t8()),tW(tG(J(this,ab).getTextCases(t,n,i)))}setTextCase(t,n,i=-1,r=-1){ns("id",t,t8()),ns("textCase",n,ne()),ns("from",i,t8()),ns("to",r,t8()),tG(J(this,ab).setTextCase(t,n,i,r))}canToggleBoldFont(t,n=-1,i=-1){return ns("id",t,t8()),tG(J(this,ab).canToggleBoldFont(t,n,i))}canToggleItalicFont(t,n=-1,i=-1){return ns("id",t,t8()),tG(J(this,ab).canToggleItalicFont(t,n,i))}toggleBoldFont(t,n=-1,i=-1){ns("id",t,t8()),tG(J(this,ab).toggleBoldFont(t,n,i))}toggleItalicFont(t,n=-1,i=-1){ns("id",t,t8()),tG(J(this,ab).toggleItalicFont(t,n,i))}setFont(t,n,i){ns("block",t,t8()),ns("fontFileUri",n,ne()),tG(J(this,ab).setFont(t,n,i))}setTypeface(t,n,i){ns("block",t,t8()),ns("fontFileUri",n,ne()),tG(J(this,ab).setTypeface(t,n,i))}getTypeface(t){return ns("block",t,t8()),tG(J(this,ab).getTypeface(t))}getTextCursorRange(){return tG(J(this,ab).getTextCursorRange())}hasFill(t){return ns("id",t,t8()),tG(J(this,ab).hasFill(t))}supportsFill(t){return ns("id",t,t8()),tG(J(this,ab).supportsFill(t))}isFillEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isFillEnabled(t))}setFillEnabled(t,n){return ns("id",t,t8()),tG(J(this,ab).setFillEnabled(t,n))}getFill(t){return ns("id",t,t8()),tG(J(this,ab).getFill(t))}setFill(t,n){return ns("id",t,t8()),ns("fill",n,t8()),tG(J(this,ab).setFill(t,n))}setFillSolidColor(t,n,i,r,s=1){ns("id",t,t8()),tG(J(this,ab).setFillSolidColor(t,n,i,r,s))}getFillSolidColor(t){return ns("id",t,t8()),tG(J(this,ab).getFillSolidColor(t))}setPlaceholderEnabled(t,n){ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setPlaceholderEnabled(t,n))}isPlaceholderEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isPlaceholderEnabled(t))}hasPlaceholderBehavior(t){return ns("id",t,t8()),tG(J(this,ab).hasPlaceholderBehavior(t))}supportsPlaceholderBehavior(t){return ns("id",t,t8()),tG(J(this,ab).supportsPlaceholderBehavior(t))}setPlaceholderBehaviorEnabled(t,n){ns("id",t,t8()),tG(J(this,ab).setPlaceholderBehaviorEnabled(t,n))}isPlaceholderBehaviorEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isPlaceholderBehaviorEnabled(t))}hasPlaceholderControls(t){return ns("id",t,t8()),tG(J(this,ab).hasPlaceholderControls(t))}supportsPlaceholderControls(t){return ns("id",t,t8()),tG(J(this,ab).supportsPlaceholderControls(t))}setPlaceholderControlsOverlayEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setPlaceholderControlsOverlayEnabled(t,n))}isPlaceholderControlsOverlayEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isPlaceholderControlsOverlayEnabled(t))}setPlaceholderControlsButtonEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setPlaceholderControlsButtonEnabled(t,n))}isPlaceholderControlsButtonEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isPlaceholderControlsButtonEnabled(t))}setMetadata(t,n,i){ns("id",t,t8()),ns("key",n,ne()),ns("value",i,ne()),tG(J(this,ab).setMetadata(t,n,i))}getMetadata(t,n){return ns("id",t,t8()),ns("key",n,ne()),tG(J(this,ab).getMetadata(t,n))}hasMetadata(t,n){return ns("id",t,t8()),ns("key",n,ne()),tG(J(this,ab).hasMetadata(t,n))}findAllMetadata(t){return ns("id",t,t8()),tW(tG(J(this,ab).findAllMetadata(t)))}removeMetadata(t,n){ns("id",t,t8()),ns("key",n,ne()),tG(J(this,ab).removeMetadata(t,n))}setScopeEnabled(t,n,i){ns("id",t,t8()),ns("key",n,ne()),ns("enabled",i,t6()),tG(J(this,ab).setScopeEnabled(t,n,i))}isScopeEnabled(t,n){return ns("id",t,t8()),ns("key",n,ne()),tG(J(this,ab).isScopeEnabled(t,n))}isAllowedByScope(t,n){return ns("id",t,t8()),ns("key",n,ne()),tG(J(this,ab).isAllowedByScope(t,n))}hasDuration(t){return ns("id",t,t8()),tG(J(this,ab).hasDuration(t))}supportsDuration(t){return ns("id",t,t8()),tG(J(this,ab).supportsDuration(t))}setDuration(t,n){return ns("id",t,t8()),ns("duration",n,t7()),tG(J(this,ab).setDuration(t,n))}getDuration(t){return ns("id",t,t8()),tG(J(this,ab).getDuration(t))}hasTimeOffset(t){return ns("id",t,t8()),tG(J(this,ab).hasTimeOffset(t))}supportsTimeOffset(t){return ns("id",t,t8()),tG(J(this,ab).supportsTimeOffset(t))}setTimeOffset(t,n){return ns("id",t,t8()),ns("offset",n,t7()),tG(J(this,ab).setTimeOffset(t,n))}getTimeOffset(t){return ns("id",t,t8()),tG(J(this,ab).getTimeOffset(t))}hasTrim(t){return ns("id",t,t8()),tG(J(this,ab).hasTrim(t))}supportsTrim(t){return ns("id",t,t8()),tG(J(this,ab).supportsTrim(t))}setTrimOffset(t,n){return ns("id",t,t8()),ns("offset",n,t7()),tG(J(this,ab).setTrimOffset(t,n))}getTrimOffset(t){return ns("id",t,t8()),tG(J(this,ab).getTrimOffset(t))}setTrimLength(t,n){return ns("id",t,t8()),ns("length",n,t7()),tG(J(this,ab).setTrimLength(t,n))}getTrimLength(t){return ns("id",t,t8()),tG(J(this,ab).getTrimLength(t))}getTotalSceneDuration(t){return ns("scene",t,t8()),tG(J(this,ab).getTotalSceneDuration(t))}setPlaying(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setPlaying(t,n))}isPlaying(t){return ns("id",t,t8()),tG(J(this,ab).isPlaying(t))}hasPlaybackTime(t){return ns("id",t,t8()),tG(J(this,ab).hasPlaybackTime(t))}supportsPlaybackTime(t){return ns("id",t,t8()),tG(J(this,ab).supportsPlaybackTime(t))}setPlaybackTime(t,n){return ns("id",t,t8()),ns("time",n,t7()),tG(J(this,ab).setPlaybackTime(t,n))}getPlaybackTime(t){return ns("id",t,t8()),tG(J(this,ab).getPlaybackTime(t))}isVisibleAtCurrentPlaybackTime(t){return ns("id",t,t8()),tG(J(this,ab).isVisibleAtCurrentPlaybackTime(t))}setSoloPlaybackEnabled(t,n){return ns("id",t,t8()),ns("enabled",n,t6()),tG(J(this,ab).setSoloPlaybackEnabled(t,n))}isSoloPlaybackEnabled(t){return ns("id",t,t8()),tG(J(this,ab).isSoloPlaybackEnabled(t))}hasPlaybackControl(t){return ns("id",t,t8()),tG(J(this,ab).hasPlaybackControl(t))}supportsPlaybackControl(t){return ns("id",t,t8()),tG(J(this,ab).supportsPlaybackControl(t))}setLooping(t,n){ns("id",t,t8()),ns("looping",n,t6()),tG(J(this,ab).setLooping(t,n))}isLooping(t){return ns("id",t,t8()),tG(J(this,ab).isLooping(t))}setMuted(t,n){ns("id",t,t8()),ns("muted",n,t6()),tG(J(this,ab).setMuted(t,n))}isMuted(t){return ns("id",t,t8()),tG(J(this,ab).isMuted(t))}setVolume(t,n){ns("id",t,t8()),ns("volume",n,t7()),tG(J(this,ab).setVolume(t,n))}getVolume(t){return ns("id",t,t8()),tG(J(this,ab).getVolume(t))}async forceLoadAVResource(t){return ns("id",t,t8()),tq(n=>J(this,ab).forceLoadAVResource(t,n))}unstable_isAVResourceLoaded(t){return ns("id",t,t8()),tG(J(this,ab).unstable_isAVResourceLoaded(t))}getAVResourceTotalDuration(t){return ns("id",t,t8()),tG(J(this,ab).getAVResourceTotalDuration(t))}getVideoWidth(t){return ns("id",t,t8()),tG(J(this,ab).getVideoWidth(t))}getVideoHeight(t){return ns("id",t,t8()),tG(J(this,ab).getVideoHeight(t))}generateVideoThumbnailSequence(t,n,i,r,s,o){ns("id",t,t8()),ns("thumbnailHeight",n,t8()),ns("timeBegin",i,t7()),ns("timeEnd",r,t7()),ns("numberOfFrames",s,t8());let a=J(this,ab).generateVideoThumbnailSequence(t,n,i,r,s,t=>{"error"in t?o(0,Error(t.error)):o(t.frameIndex,new ImageData(new Uint8ClampedArray(t.imageData),t.width,t.height))});return()=>{J(this,ab).cancelVideoThumbnailSequenceGeneration(a)}}generateAudioThumbnailSequence(t,n,i,r,s,o,a){ns("id",t,t8()),ns("samplesPerChunk",n,t8()),ns("timeBegin",i,t7()),ns("timeEnd",r,t7()),ns("numberOfSamples",s,t8()),ns("numberOfChannels",o,t8());let l=J(this,ab).generateAudioThumbnailSequence(t,n,i,r,s,o,t=>{"error"in t?a(0,Error(t.error)):a(t.chunkIndex,t.sampleData)});return()=>{J(this,ab).cancelAudioThumbnailSequenceGeneration(l)}}async getVideoFillThumbnail(t,n){return ns("id",t,t8()),ns("thumbnailHeight",n,t8()),new Promise((i,r)=>{J(this,ab).getVideoFillThumbnail(t,n,t=>{"error"in t?r(t.error):i(new aw([t],{type:"image/jpeg"}))})})}async getVideoFillThumbnailAtlas(t,n,i,r){return ns("id",t,t8()),ns("numberOfColumns",n,t8()),ns("numberOfRows",i,t8()),ns("thumbnailHeight",r,t8()),new Promise((s,o)=>{J(this,ab).getVideoFillThumbnailAtlas(t,n,i,r,t=>{"error"in t?o(t.error):s(new aw([t],{type:"image/jpeg"}))})})}async getPageThumbnailAtlas(t,n,i,r){return ns("id",t,t8()),ns("numberOfColumns",n,t8()),ns("numberOfRows",i,t8()),new Promise((s,o)=>{J(this,ab).getPageThumbnailAtlas(t,n,i,r,t=>{"error"in t?o(t.error):s(new aw([t],{type:"image/jpeg"}))})})}createAnimation(t){return ns("type",t,ne()),tG(J(this,ab).createAnimation(t))}supportsAnimation(t){return ns("id",t,t8()),tG(J(this,ab).supportsAnimation(t))}setInAnimation(t,n){ns("id",t,t8()),ns("animation",n,t8()),tG(J(this,ab).setInAnimation(t,n))}setLoopAnimation(t,n){ns("id",t,t8()),ns("animation",n,t8()),tG(J(this,ab).setLoopAnimation(t,n))}setOutAnimation(t,n){ns("id",t,t8()),ns("animation",n,t8()),tG(J(this,ab).setOutAnimation(t,n))}getInAnimation(t){return ns("id",t,t8()),tG(J(this,ab).getInAnimation(t))}getLoopAnimation(t){return ns("id",t,t8()),tG(J(this,ab).getLoopAnimation(t))}getOutAnimation(t){return ns("id",t,t8()),tG(J(this,ab).getOutAnimation(t))}setNativePixelBuffer(t,n){ns("id",t,t8()),n instanceof HTMLVideoElement&&(n.width=n.videoWidth,n.height=n.videoHeight),tG(J(this,ab).setNativePixelBuffer(t,n))}getState(t){return ns("id",t,t8()),tG(J(this,ab).getState(t))}setState(t,n){ns("id",t,t8()),tG(J(this,ab).setState(t,n))}async forceLoadResources(t){return ns("ids",t,t4(t8())),tq(n=>J(this,ab).forceLoadResources(t,n))}};aA=Q(null),ab=new WeakMap,Z(aA,1,"loadFromString",av,aC),Z(aA,1,"loadFromArchiveURL",ay,aC),Z(aA,1,"create",ax,aC),Z(aA,1,"createFill",ag,aC),Z(aA,1,"getType",am,aC),Z(aA,1,"getKind",af,aC),Z(aA,1,"setKind",ah,aC),Z(aA,1,"select",ap,aC),Z(aA,1,"setSelected",ad,aC),Z(aA,1,"isSelected",au,aC),Z(aA,1,"findAllSelected",ac,aC),Z(aA,1,"isGroupable",al,aC),Z(aA,1,"group",aa,aC),Z(aA,1,"ungroup",ao,aC),Z(aA,1,"enterGroup",as,aC),Z(aA,1,"exitGroup",ar,aC),Z(aA,1,"isCombinable",ai,aC),Z(aA,1,"combine",an,aC),Z(aA,1,"setName",at,aC),Z(aA,1,"getName",ae,aC),Z(aA,1,"getUUID",o9,aC),Z(aA,1,"findByName",o7,aC),Z(aA,1,"findByType",o8,aC),Z(aA,1,"findByKind",o6,aC),Z(aA,1,"findAll",o4,aC),Z(aA,1,"findAllPlaceholders",o5,aC),Z(aA,1,"createShape",o3,aC),Z(aA,1,"hasShape",o2,aC),Z(aA,1,"supportsShape",o1,aC),Z(aA,1,"getShape",o0,aC),Z(aA,1,"setShape",oJ,aC),Z(aA,1,"isVisible",oX,aC),Z(aA,1,"setVisible",oK,aC),Z(aA,1,"isClipped",oY,aC),Z(aA,1,"setClipped",oZ,aC),Z(aA,1,"isTransformLocked",o$,aC),Z(aA,1,"setTransformLocked",oW,aC),Z(aA,1,"getPositionX",oq,aC),Z(aA,1,"getPositionXMode",oG,aC),Z(aA,1,"getPositionY",oz,aC),Z(aA,1,"getPositionYMode",oQ,aC),Z(aA,1,"setPositionX",oH,aC),Z(aA,1,"setPositionXMode",oV,aC),Z(aA,1,"setPositionY",oU,aC),Z(aA,1,"setPositionYMode",oN,aC),Z(aA,1,"setAlwaysOnTop",oO,aC),Z(aA,1,"setAlwaysOnBottom",oF,aC),Z(aA,1,"isAlwaysOnTop",oD,aC),Z(aA,1,"isAlwaysOnBottom",oR,aC),Z(aA,1,"bringToFront",oP,aC),Z(aA,1,"sendToBack",oj,aC),Z(aA,1,"bringForward",oL,aC),Z(aA,1,"sendBackward",oB,aC),Z(aA,1,"getRotation",oT,aC),Z(aA,1,"setRotation",oI,aC),Z(aA,1,"getFlipHorizontal",oM,aC),Z(aA,1,"getFlipVertical",oE,aC),Z(aA,1,"setFlipHorizontal",ok,aC),Z(aA,1,"setFlipVertical",oS,aC),Z(aA,1,"hasContentFillMode",o_,aC),Z(aA,1,"supportsContentFillMode",oC,aC),Z(aA,1,"getWidth",ow,aC),Z(aA,1,"getWidthMode",oA,aC),Z(aA,1,"getHeight",ob,aC),Z(aA,1,"getHeightMode",ov,aC),Z(aA,1,"setWidth",oy,aC),Z(aA,1,"setWidthMode",ox,aC),Z(aA,1,"setHeight",og,aC),Z(aA,1,"setHeightMode",om,aC),Z(aA,1,"getFrameX",of,aC),Z(aA,1,"getFrameY",oh,aC),Z(aA,1,"getFrameWidth",op,aC),Z(aA,1,"getFrameHeight",od,aC),Z(aA,1,"setContentFillMode",ou,aC),Z(aA,1,"getContentFillMode",oc,aC),Z(aA,1,"duplicate",ol,aC),Z(aA,1,"destroy",oa,aC),Z(aA,1,"isValid",oo,aC),Z(aA,1,"getParent",os,aC),Z(aA,1,"getChildren",or,aC),Z(aA,1,"insertChild",oi,aC),Z(aA,1,"appendChild",on,aC),Z(aA,1,"referencesAnyVariables",ot,aC),Z(aA,1,"getGlobalBoundingBoxX",oe,aC),Z(aA,1,"getGlobalBoundingBoxY",s9,aC),Z(aA,1,"getGlobalBoundingBoxWidth",s7,aC),Z(aA,1,"getGlobalBoundingBoxHeight",s8,aC),Z(aA,1,"getScreenSpaceBoundingBoxXYWH",s6,aC),Z(aA,1,"alignHorizontally",s4,aC),Z(aA,1,"alignVertically",s5,aC),Z(aA,1,"isAlignable",s3,aC),Z(aA,1,"distributeHorizontally",s2,aC),Z(aA,1,"distributeVertically",s1,aC),Z(aA,1,"isDistributable",s0,aC),Z(aA,1,"fillParent",sJ,aC),Z(aA,1,"resizeContentAware",sX,aC),Z(aA,1,"scale",sK,aC),Z(aA,1,"findAllProperties",sY,aC),Z(aA,1,"isPropertyReadable",sZ,aC),Z(aA,1,"isPropertyWritable",s$,aC),Z(aA,1,"getPropertyType",sW,aC),Z(aA,1,"getEnumValues",sq,aC),Z(aA,1,"setBool",sG,aC),Z(aA,1,"getBool",sz,aC),Z(aA,1,"setInt",sQ,aC),Z(aA,1,"getInt",sH,aC),Z(aA,1,"setFloat",sV,aC),Z(aA,1,"getFloat",sU,aC),Z(aA,1,"setDouble",sN,aC),Z(aA,1,"getDouble",sO,aC),Z(aA,1,"setString",sF,aC),Z(aA,1,"getString",sD,aC),Z(aA,1,"setColor",sR,aC),Z(aA,1,"getColor",sP,aC),Z(aA,1,"setColorRGBA",sj,aC),Z(aA,1,"getColorRGBA",sL,aC),Z(aA,1,"setColorSpot",sB,aC),Z(aA,1,"getColorSpotName",sT,aC),Z(aA,1,"getColorSpotTint",sI,aC),Z(aA,1,"setGradientColorStops",sM,aC),Z(aA,1,"getGradientColorStops",sE,aC),Z(aA,1,"getSourceSet",sk,aC),Z(aA,1,"setSourceSet",sS,aC),Z(aA,1,"addImageFileURIToSourceSet",s_,aC),Z(aA,1,"addVideoFileURIToSourceSet",sC,aC),Z(aA,1,"setEnum",sw,aC),Z(aA,1,"getEnum",sA,aC),Z(aA,1,"hasCrop",sb,aC),Z(aA,1,"supportsCrop",sv,aC),Z(aA,1,"setCropScaleX",sy,aC),Z(aA,1,"setCropScaleY",sx,aC),Z(aA,1,"setCropRotation",sg,aC),Z(aA,1,"setCropScaleRatio",sm,aC),Z(aA,1,"setCropTranslationX",sf,aC),Z(aA,1,"setCropTranslationY",sh,aC),Z(aA,1,"resetCrop",sp,aC),Z(aA,1,"getCropScaleX",sd,aC),Z(aA,1,"getCropScaleY",su,aC),Z(aA,1,"getCropRotation",sc,aC),Z(aA,1,"getCropScaleRatio",sl,aC),Z(aA,1,"getCropTranslationX",sa,aC),Z(aA,1,"getCropTranslationY",so,aC),Z(aA,1,"adjustCropToFillFrame",ss,aC),Z(aA,1,"flipCropHorizontal",sr,aC),Z(aA,1,"flipCropVertical",si,aC),Z(aA,1,"hasOpacity",sn,aC),Z(aA,1,"supportsOpacity",st,aC),Z(aA,1,"setOpacity",se,aC),Z(aA,1,"getOpacity",r9,aC),Z(aA,1,"hasBlendMode",r7,aC),Z(aA,1,"supportsBlendMode",r8,aC),Z(aA,1,"setBlendMode",r6,aC),Z(aA,1,"getBlendMode",r4,aC),Z(aA,1,"hasFillColor",r5,aC),Z(aA,1,"isIncludedInExport",r3,aC),Z(aA,1,"setIncludedInExport",r2,aC),Z(aA,1,"setFillColorRGBA",r1,aC),Z(aA,1,"getFillColorRGBA",r0,aC),Z(aA,1,"setFillColorEnabled",rJ,aC),Z(aA,1,"isFillColorEnabled",rX,aC),Z(aA,1,"createEffect",rK,aC),Z(aA,1,"hasEffects",rY,aC),Z(aA,1,"supportsEffects",rZ,aC),Z(aA,1,"getEffects",r$,aC),Z(aA,1,"insertEffect",rW,aC),Z(aA,1,"appendEffect",rq,aC),Z(aA,1,"removeEffect",rG,aC),Z(aA,1,"hasEffectEnabled",rz,aC),Z(aA,1,"setEffectEnabled",rQ,aC),Z(aA,1,"isEffectEnabled",rH,aC),Z(aA,1,"createBlur",rV,aC),Z(aA,1,"hasBlur",rU,aC),Z(aA,1,"supportsBlur",rN,aC),Z(aA,1,"setBlur",rO,aC),Z(aA,1,"getBlur",rF,aC),Z(aA,1,"setBlurEnabled",rD,aC),Z(aA,1,"isBlurEnabled",rR,aC),Z(aA,1,"hasBackgroundColor",rP,aC),Z(aA,1,"supportsBackgroundColor",rj,aC),Z(aA,1,"setBackgroundColorRGBA",rL,aC),Z(aA,1,"getBackgroundColorRGBA",rB,aC),Z(aA,1,"setBackgroundColorEnabled",rT,aC),Z(aA,1,"isBackgroundColorEnabled",rI,aC),Z(aA,1,"hasStroke",rM,aC),Z(aA,1,"supportsStroke",rE,aC),Z(aA,1,"setStrokeEnabled",rk,aC),Z(aA,1,"isStrokeEnabled",rS,aC),Z(aA,1,"setStrokeColorRGBA",r_,aC),Z(aA,1,"setStrokeColor",rC,aC),Z(aA,1,"getStrokeColorRGBA",rw,aC),Z(aA,1,"getStrokeColor",rA,aC),Z(aA,1,"setStrokeWidth",rb,aC),Z(aA,1,"getStrokeWidth",rv,aC),Z(aA,1,"setStrokeStyle",ry,aC),Z(aA,1,"getStrokeStyle",rx,aC),Z(aA,1,"setStrokePosition",rg,aC),Z(aA,1,"getStrokePosition",rm,aC),Z(aA,1,"setStrokeCornerGeometry",rf,aC),Z(aA,1,"getStrokeCornerGeometry",rh,aC),Z(aA,1,"hasDropShadow",rp,aC),Z(aA,1,"supportsDropShadow",rd,aC),Z(aA,1,"setDropShadowEnabled",ru,aC),Z(aA,1,"isDropShadowEnabled",rc,aC),Z(aA,1,"setDropShadowColorRGBA",rl,aC),Z(aA,1,"setDropShadowColor",ra,aC),Z(aA,1,"getDropShadowColorRGBA",ro,aC),Z(aA,1,"getDropShadowColor",rs,aC),Z(aA,1,"setDropShadowOffsetX",rr,aC),Z(aA,1,"getDropShadowOffsetX",ri,aC),Z(aA,1,"setDropShadowOffsetY",rn,aC),Z(aA,1,"getDropShadowOffsetY",rt,aC),Z(aA,1,"setDropShadowBlurRadiusX",re,aC),Z(aA,1,"getDropShadowBlurRadiusX",i9,aC),Z(aA,1,"setDropShadowBlurRadiusY",i7,aC),Z(aA,1,"getDropShadowBlurRadiusY",i8,aC),Z(aA,1,"setDropShadowClip",i6,aC),Z(aA,1,"getDropShadowClip",i4,aC),Z(aA,1,"createCutoutFromBlocks",i5,aC),Z(aA,1,"createCutoutFromPath",i3,aC),Z(aA,1,"createCutoutFromOperation",i2,aC),Z(aA,1,"replaceText",i1,aC),Z(aA,1,"removeText",i0,aC),Z(aA,1,"setTextColor",iJ,aC),Z(aA,1,"getTextColors",iX,aC),Z(aA,1,"setTextFontWeight",iK,aC),Z(aA,1,"getTextFontWeights",iY,aC),Z(aA,1,"setTextFontSize",iZ,aC),Z(aA,1,"getTextFontSizes",i$,aC),Z(aA,1,"setTextFontStyle",iW,aC),Z(aA,1,"getTextFontStyles",iq,aC),Z(aA,1,"getTextCases",iG,aC),Z(aA,1,"setTextCase",iz,aC),Z(aA,1,"canToggleBoldFont",iQ,aC),Z(aA,1,"canToggleItalicFont",iH,aC),Z(aA,1,"toggleBoldFont",iV,aC),Z(aA,1,"toggleItalicFont",iU,aC),Z(aA,1,"setFont",iN,aC),Z(aA,1,"setTypeface",iO,aC),Z(aA,1,"getTypeface",iF,aC),Z(aA,1,"getTextCursorRange",iD,aC),Z(aA,1,"hasFill",iR,aC),Z(aA,1,"supportsFill",iP,aC),Z(aA,1,"isFillEnabled",ij,aC),Z(aA,1,"setFillEnabled",iL,aC),Z(aA,1,"getFill",iB,aC),Z(aA,1,"setFill",iT,aC),Z(aA,1,"setFillSolidColor",iI,aC),Z(aA,1,"getFillSolidColor",iM,aC),Z(aA,1,"setPlaceholderEnabled",iE,aC),Z(aA,1,"isPlaceholderEnabled",ik,aC),Z(aA,1,"hasPlaceholderBehavior",iS,aC),Z(aA,1,"supportsPlaceholderBehavior",i_,aC),Z(aA,1,"setPlaceholderBehaviorEnabled",iC,aC),Z(aA,1,"isPlaceholderBehaviorEnabled",iw,aC),Z(aA,1,"hasPlaceholderControls",iA,aC),Z(aA,1,"supportsPlaceholderControls",ib,aC),Z(aA,1,"setPlaceholderControlsOverlayEnabled",iv,aC),Z(aA,1,"isPlaceholderControlsOverlayEnabled",iy,aC),Z(aA,1,"setPlaceholderControlsButtonEnabled",ix,aC),Z(aA,1,"isPlaceholderControlsButtonEnabled",ig,aC),Z(aA,1,"setMetadata",im,aC),Z(aA,1,"getMetadata",ih,aC),Z(aA,1,"hasMetadata",ip,aC),Z(aA,1,"findAllMetadata",id,aC),Z(aA,1,"removeMetadata",iu,aC),Z(aA,1,"setScopeEnabled",ic,aC),Z(aA,1,"isScopeEnabled",il,aC),Z(aA,1,"isAllowedByScope",ia,aC),Z(aA,1,"hasDuration",io,aC),Z(aA,1,"supportsDuration",is,aC),Z(aA,1,"setDuration",ir,aC),Z(aA,1,"getDuration",ii,aC),Z(aA,1,"hasTimeOffset",it,aC),Z(aA,1,"supportsTimeOffset",ie,aC),Z(aA,1,"setTimeOffset",n9,aC),Z(aA,1,"getTimeOffset",n7,aC),Z(aA,1,"hasTrim",n8,aC),Z(aA,1,"supportsTrim",n6,aC),Z(aA,1,"setTrimOffset",n4,aC),Z(aA,1,"getTrimOffset",n5,aC),Z(aA,1,"setTrimLength",n3,aC),Z(aA,1,"getTrimLength",n2,aC),Z(aA,1,"getTotalSceneDuration",n1,aC),Z(aA,1,"setPlaying",n0,aC),Z(aA,1,"isPlaying",nJ,aC),Z(aA,1,"hasPlaybackTime",nX,aC),Z(aA,1,"supportsPlaybackTime",nK,aC),Z(aA,1,"setPlaybackTime",nY,aC),Z(aA,1,"getPlaybackTime",nZ,aC),Z(aA,1,"isVisibleAtCurrentPlaybackTime",n$,aC),Z(aA,1,"setSoloPlaybackEnabled",nW,aC),Z(aA,1,"isSoloPlaybackEnabled",nq,aC),Z(aA,1,"hasPlaybackControl",nG,aC),Z(aA,1,"supportsPlaybackControl",nz,aC),Z(aA,1,"setLooping",nQ,aC),Z(aA,1,"isLooping",nH,aC),Z(aA,1,"setMuted",nV,aC),Z(aA,1,"isMuted",nU,aC),Z(aA,1,"setVolume",nN,aC),Z(aA,1,"getVolume",nO,aC),Z(aA,1,"forceLoadAVResource",nF,aC),Z(aA,1,"unstable_isAVResourceLoaded",nD,aC),Z(aA,1,"getAVResourceTotalDuration",nR,aC),Z(aA,1,"getVideoWidth",nP,aC),Z(aA,1,"getVideoHeight",nj,aC),Z(aA,1,"getVideoFillThumbnail",nL,aC),Z(aA,1,"getVideoFillThumbnailAtlas",nB,aC),Z(aA,1,"getPageThumbnailAtlas",nT,aC),Z(aA,1,"createAnimation",nI,aC),Z(aA,1,"supportsAnimation",nM,aC),Z(aA,1,"setInAnimation",nE,aC),Z(aA,1,"setLoopAnimation",nk,aC),Z(aA,1,"setOutAnimation",nS,aC),Z(aA,1,"getInAnimation",n_,aC),Z(aA,1,"getLoopAnimation",nC,aC),Z(aA,1,"getOutAnimation",nw,aC),Z(aA,1,"setNativePixelBuffer",nA,aC),Z(aA,1,"getState",nb,aC),Z(aA,1,"setState",nv,aC),Z(aA,1,"forceLoadResources",ny,aC),W(aA,aC);var a_,aS,ak,aE,aM,aI,aT,aB,aL,aj,aP,aR,aD,aF,aO,aN,aU,aV,aH,aQ,az,aG,aq,aW,a$,aZ,aY,aK,aX,aJ,a0,a1,a2,a3,a5,a4,a6,a8,a7,a9,le,lt,ln,li,lr,ls,lo,la,ll,lc,lu,ld,lp,lh,lf,lm,lg,lx,ly,lv=new WeakMap;lg=[nu],lm=[nu],lf=[nu],lh=[nc],lp=[nc],ld=[nu],lu=[nu],lc=[nc],ll=[nc],la=[nc],lo=[nc],ls=[nc],lr=[nc],li=[nu],ln=[nu],lt=[nu],le=[nc],a9=[nu],a7=[nu],a8=[nu],a6=[nc],a4=[nc],a5=[nu],a3=[nc],a2=[nu],a1=[nc],a0=[nu],aJ=[nc],aX=[nu],aK=[nc],aY=[nu],aZ=[nc],a$=[nu],aW=[nc],aq=[nu],aG=[nc],az=[nu],aQ=[nc],aH=[nc],aV=[nc],aU=[nc],aN=[nc],aO=[nu],aF=[nc],aD=[nc],aR=[nc],aP=[nu],aj=[nc],aL=[nc],aB=[nc],aT=[nc],aI=[nu],aM=[nu],aE=[nu],ak=[nu],aS=[nu],a_=[nc];var lb=class{constructor(t){$(ly,5,this),ee(this,lx),Y(this,"onStateChanged",t=>{let n=J(this,lx).subscribeToEditorState(t);return()=>{J(this,lx).isDeleted()||tG(J(this,lx).unsubscribe(n))}}),Y(this,"onHistoryUpdated",t=>{let n=J(this,lx).subscribeToHistory(t);return()=>{J(this,lx).isDeleted()||J(this,lx).unsubscribe(n)}}),Y(this,"onSettingsChanged",t=>{let n=J(this,lx).subscribeToSettings(t);return()=>{J(this,lx).isDeleted()||tG(J(this,lx).unsubscribe(n))}}),Y(this,"onRoleChanged",t=>{let n=J(this,lx).subscribeToRoleChange(t);return()=>{J(this,lx).isDeleted()||tG(J(this,lx).unsubscribe(n))}}),et(this,lx,t)}unlockWithLicense(t){tG(J(this,lx).unlockWithLicense(t))}startTracking(t,n){J(this,lx).startTracking(t,n,"")}setTrackingMetadata(t){J(this,lx).setTrackingMetadata(t)}getTrackingMetadata(){return tG(J(this,lx).getTrackingMetadata())}getActiveLicense(){return tG(J(this,lx).getActiveLicense())}_update(){J(this,lx).update()}setEditMode(t){ns("keypath",t,ne()),J(this,lx).setEditMode(t)}getEditMode(){return J(this,lx).getEditMode()}unstable_isInteractionHappening(){return tG(J(this,lx).unstable_isInteractionHappening())}getCursorType(){return J(this,lx).getCursorType()}getCursorRotation(){return J(this,lx).getCursorRotation()}getTextCursorPositionInScreenSpaceX(){return J(this,lx).getTextCursorPositionInScreenSpaceX()}getTextCursorPositionInScreenSpaceY(){return J(this,lx).getTextCursorPositionInScreenSpaceY()}createHistory(){return J(this,lx).createHistory()}destroyHistory(t){tG(J(this,lx).destroyHistory(t))}setActiveHistory(t){tG(J(this,lx).setActiveHistory(t))}getActiveHistory(){return J(this,lx).getActiveHistory()}addUndoStep(){tG(J(this,lx).addUndoStep())}undo(){tG(J(this,lx).undo())}redo(){tG(J(this,lx).redo())}canUndo(){return tG(J(this,lx).canUndo())}canRedo(){return tG(J(this,lx).canRedo())}setSettingBool(t,n){return ns("keypath",t,ne()),ns("value",n,t6()),tG(J(this,lx).setSettingBool(t,n))}getSettingBool(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingBool(t))}setSettingInt(t,n){return ns("keypath",t,ne()),ns("value",n,t8()),tG(J(this,lx).setSettingInt(t,n))}getSettingInt(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingInt(t))}setSettingFloat(t,n){return ns("keypath",t,ne()),ns("value",n,t7()),tG(J(this,lx).setSettingFloat(t,n))}getSettingFloat(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingFloat(t))}setSettingString(t,n){return ns("keypath",t,ne()),ns("value",n,ne()),tG(J(this,lx).setSettingString(t,n))}getSettingString(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingString(t))}setSettingColor(t,n){return ns("keypath",t,ne()),tG(J(this,lx).setSettingColor(t,nh.fromColor(n)))}getSettingColor(t){return ns("keypath",t,ne()),nh.toColor(tG(J(this,lx).getSettingColor(t)))}setSettingColorRGBA(t,n,i,r,s=1){return ns("keypath",t,ne()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),ns("a",s,t7()),tG(J(this,lx).setSettingColorRGBA(t,n,i,r,s))}getSettingColorRGBA(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingColorRGBA(t))}setSettingEnum(t,n){return ns("keypath",t,ne()),ns("value",n,ne()),tG(J(this,lx).setSettingEnum(t,n))}getSettingEnum(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingEnum(t))}getSettingEnumOptions(t){return ns("keypath",t,ne()),tW(tG(J(this,lx).getSettingEnumOptions(t)))}setRole(t){return tG(J(this,lx).setRole(t))}getRole(){return tG(J(this,lx).getRole())}findAllSettings(){return tW(J(this,lx).findAllSettings())}getSettingType(t){return ns("keypath",t,ne()),tG(J(this,lx).getSettingType(t))}getAvailableMemory(){return tG(J(this,lx).getAvailableMemory())}getUsedMemory(){return tG(J(this,lx).getUsedMemory())}getMaxExportSize(){return tG(J(this,lx).getMaxExportSize())}setURIResolver(t){return lv.set(J(this,lx),t),tG(J(this,lx).setURIResolver(n=>t(n,this.defaultURIResolver.bind(this))))}unstable_getURIResolver(){return lv.get(J(this,lx))??null}defaultURIResolver(t){return J(this,lx).defaultURIResolver(t)}getAbsoluteURI(t){return tG(J(this,lx).getAbsoluteURI(t))}findAllScopes(){return tW(J(this,lx).findAllScopes())}setGlobalScope(t,n){ns("key",t,ne()),ns("value",n,ne()),tG(J(this,lx).setGlobalScope(t,n))}getGlobalScope(t){return ns("key",t,ne()),tG(J(this,lx).getGlobalScope(t))}findAllSpotColors(){return tW(J(this,lx).findAllSpotColors())}getSpotColorRGBA(t){return ns("name",t,ne()),J(this,lx).getSpotColorRGB(t)}getSpotColorCMYK(t){return ns("name",t,ne()),J(this,lx).getSpotColorCMYK(t)}setSpotColorRGB(t,n,i,r){return ns("name",t,ne()),ns("r",n,t7()),ns("g",i,t7()),ns("b",r,t7()),J(this,lx).setSpotColorRGB(t,n,i,r)}setSpotColorCMYK(t,n,i,r,s){return ns("name",t,ne()),ns("c",n,t7()),ns("m",i,t7()),ns("y",r,t7()),ns("k",s,t7()),J(this,lx).setSpotColorCMYK(t,n,i,r,s)}removeSpotColor(t){return ns("name",t,ne()),tG(J(this,lx).removeSpotColor(t))}setSpotColorForCutoutType(t,n){return ns("type",t,ne()),ns("color",n,ne()),tG(J(this,lx).setSpotColorForCutoutType(t,n))}getSpotColorForCutoutType(t){return ns("type",t,ne()),tG(J(this,lx).getSpotColorForCutoutType(t))}convertColorToColorSpace(t,n){return ns("colorSpace",n,ne()),nh.toColor(tG(J(this,lx).convertColorToColorSpace(nh.fromColor(t),n)))}createBuffer(){return J(this,lx).createBuffer()}destroyBuffer(t){tG(J(this,lx).destroyBuffer(t))}setBufferData(t,n,i){ns("offset",n,t8()),tG(J(this,lx).setBufferData(t,n,i))}getBufferData(t,n,i){ns("offset",n,t8()),ns("length",i,t8());let r=J(this,lx).getBufferData(t,n,i);if("error"in r)throw Error(r.error);return r}setBufferLength(t,n){ns("length",n,t8()),tG(J(this,lx).setBufferLength(t,n))}getBufferLength(t){return tG(J(this,lx).getBufferLength(t))}cloneBuffers(){return tW(tG(J(this,lx).cloneBuffers()))}restoreBuffers(t){tG(J(this,lx).restoreBuffers(t))}getMimeType(t){return ns("uri",t,ne()),tq(n=>J(this,lx).getMimeType(t,n))}findAllTransientResources(){return tW(tG(J(this,lx).findAllTransientResources()))}getResourceData(t,n,i){ns("uri",t,ne()),ns("chunkSize",n,t8()),tG(J(this,lx).getResourceData(t,n,i))}relocateResource(t,n){ns("currentUrl",t,ne()),ns("relocatedUrl",n,ne()),tG(J(this,lx).relocateResource(t,n))}};ly=Q(null),lx=new WeakMap,Z(ly,1,"unlockWithLicense",lg,lb),Z(ly,1,"startTracking",lm,lb),Z(ly,1,"setTrackingMetadata",lf,lb),Z(ly,1,"getTrackingMetadata",lh,lb),Z(ly,1,"getActiveLicense",lp,lb),Z(ly,1,"_update",ld,lb),Z(ly,1,"setEditMode",lu,lb),Z(ly,1,"getEditMode",lc,lb),Z(ly,1,"unstable_isInteractionHappening",ll,lb),Z(ly,1,"getCursorType",la,lb),Z(ly,1,"getCursorRotation",lo,lb),Z(ly,1,"getTextCursorPositionInScreenSpaceX",ls,lb),Z(ly,1,"getTextCursorPositionInScreenSpaceY",lr,lb),Z(ly,1,"createHistory",li,lb),Z(ly,1,"destroyHistory",ln,lb),Z(ly,1,"setActiveHistory",lt,lb),Z(ly,1,"getActiveHistory",le,lb),Z(ly,1,"addUndoStep",a9,lb),Z(ly,1,"undo",a7,lb),Z(ly,1,"redo",a8,lb),Z(ly,1,"canUndo",a6,lb),Z(ly,1,"canRedo",a4,lb),Z(ly,1,"setSettingBool",a5,lb),Z(ly,1,"getSettingBool",a3,lb),Z(ly,1,"setSettingInt",a2,lb),Z(ly,1,"getSettingInt",a1,lb),Z(ly,1,"setSettingFloat",a0,lb),Z(ly,1,"getSettingFloat",aJ,lb),Z(ly,1,"setSettingString",aX,lb),Z(ly,1,"getSettingString",aK,lb),Z(ly,1,"setSettingColor",aY,lb),Z(ly,1,"getSettingColor",aZ,lb),Z(ly,1,"setSettingColorRGBA",a$,lb),Z(ly,1,"getSettingColorRGBA",aW,lb),Z(ly,1,"setSettingEnum",aq,lb),Z(ly,1,"getSettingEnum",aG,lb),Z(ly,1,"setRole",az,lb),Z(ly,1,"getRole",aQ,lb),Z(ly,1,"findAllSettings",aH,lb),Z(ly,1,"getAvailableMemory",aV,lb),Z(ly,1,"getUsedMemory",aU,lb),Z(ly,1,"getMaxExportSize",aN,lb),Z(ly,1,"setURIResolver",aO,lb),Z(ly,1,"unstable_getURIResolver",aF,lb),Z(ly,1,"getAbsoluteURI",aD,lb),Z(ly,1,"findAllScopes",aR,lb),Z(ly,1,"setGlobalScope",aP,lb),Z(ly,1,"getGlobalScope",aj,lb),Z(ly,1,"findAllSpotColors",aL,lb),Z(ly,1,"getSpotColorRGBA",aB,lb),Z(ly,1,"getSpotColorCMYK",aT,lb),Z(ly,1,"setSpotColorRGB",aI,lb),Z(ly,1,"setSpotColorCMYK",aM,lb),Z(ly,1,"removeSpotColor",aE,lb),Z(ly,1,"setSpotColorForCutoutType",ak,lb),Z(ly,1,"getSpotColorForCutoutType",aS,lb),Z(ly,1,"convertColorToColorSpace",a_,lb),W(ly,lb);var lA,lw,lC,l_,lS,lk,lE,lM,lI,lT,lB,lL,lj,lP,lR,lD,lF,lO,lN,lU,lV,lH,lQ,lz,lG,lq=class{#e;constructor(t){this.#e=t}subscribe=(t,n)=>{ns("blocks",t,t4());let i=this.#e.subscribe(t,t=>{try{n(tW(t,!0))}catch(t){console.error(t)}});return()=>{this.#e.isDeleted()||tG(this.#e.unsubscribe(i))}}};lQ=[nu],lH=[nu],lV=[nu],lU=[nu],lN=[nu],lO=[nu],lF=[nu],lD=[nc],lR=[nu],lP=[nu],lj=[nc],lL=[nu],lB=[nc],lT=[nc],lI=[nc],lM=[nc],lE=[nc],lk=[nu],lS=[nc],l_=[nu],lC=[nu],lw=[nu],lA=[nc];var lW,l$,lZ,lY,lK,lX,lJ=class{constructor(t){$(lG,5,this),ee(this,lz),Y(this,"onZoomLevelChanged",t=>{let n=J(this,lz).subscribeToZoomLevel(t);return()=>{J(this,lz).isDeleted()||tG(J(this,lz).unsubscribe(n))}}),Y(this,"onActiveChanged",t=>{let n=J(this,lz).subscribeToActiveSceneChange(t);return()=>{J(this,lz).isDeleted()||tG(J(this,lz).unsubscribe(n))}}),et(this,lz,t)}async loadFromString(t){return ns("sceneContent",t,ne()),tq(n=>J(this,lz).loadSceneFromString(t,n))}async loadFromURL(t){return ns("url",t,ne()),tq(n=>J(this,lz).loadSceneFromURL(t,n))}async loadFromArchiveURL(t){return ns("url",t,ne()),tq(n=>J(this,lz).loadSceneFromArchiveURL(t,n))}async saveToString(t=["blob","bundle","file","http","https"]){let n=this.get();if(null==n)throw Error("No scene available.");return tq(i=>{J(this,lz).saveSceneToString(n,i,t)})}async saveToArchive(){return new Promise((t,n)=>{let i=this.get();null==i?n(Error("No scene available.")):J(this,lz).saveSceneToArchive(i,i=>{"error"in i?n(i.error):t(new aw([i],{type:nf.Zip}))})})}create(t="Free"){return ns("sceneLayout",t,na()),tG(J(this,lz).createScene(t))}createVideo(){return tG(J(this,lz).createVideoScene())}createFromImage(t,n=300,i=1,r="Free",s=0,o=!1){return ns("url",t,ne()),ns("dpi",n,nn(t7(),0)),ns("pixelScaleFactor",i,nn(t7(),0)),ns("sceneLayout",r,na()),tq(a=>J(this,lz).createSceneFromImage(t,n,i,r,s,o,a))}createFromVideo(t){return ns("url",t,ne()),tq(n=>J(this,lz).createSceneFromVideo(t,n))}get(){let t=tW(tG(J(this,lz).findByType("scene")));return t.length>0?t[0]:null}async applyTemplateFromString(t){return ns("content",t,ne()),tq(n=>J(this,lz).applyTemplateFromString(t,n))}async applyTemplateFromURL(t){return ns("url",t,ne()),tq(n=>J(this,lz).applyTemplateFromURL(t,n))}getMode(){let t=this.get();return tG(J(this,lz).getSceneMode(t))}setDesignUnit(t){ns("designUnit",t,function(){let t=["Pixel","Millimeter","Inch"];return t5("DesignUnit",n=>!("string"!=typeof n||!t.includes(n))||{message:`expected one of ${t.map(t=>`"${t}"`).join(", ")}, but got "${n}"`})}());let n=this.get();tG(J(this,lz).setDesignUnit(n,t))}getDesignUnit(){let t=this.get();return tG(J(this,lz).getDesignUnit(t))}getPages(){return tW(tG(J(this,lz).getPages()))}getCurrentPage(){let t=this.get();if(null==t)return null;let n=J(this,lz).getCurrentPage(t);return n.isValid()?tG(n):null}findNearestToViewPortCenterByType(t){ns("type",t,ne());let n=this.get();return null==n?[]:tW(tG(J(this,lz).findNearestToViewPortCenterByType(n,t)))}findNearestToViewPortCenterByKind(t){ns("kind",t,ne());let n=this.get();return null==n?[]:tW(tG(J(this,lz).findNearestToViewPortCenterByKind(n,t)))}setZoomLevel(t=1){let n=this.get();ns("zoomLevel",t,nn(t7(),0)),J(this,lz).setZoomLevel(n,t)}getZoomLevel(){let t=this.get();return tG(J(this,lz).getZoomLevel(t))}async zoomToBlock(t,n=0,i=0,r=0,s=0){return ns("id",t,t8()),tq(o=>J(this,lz).zoomToBlock(t,n,i,r,s,o))}enableZoomAutoFit(t,n,i=0,r=0,s=0,o=0){return ns("id",t,t8()),ns("axis",n,function(){let t=["Horizontal","Vertical","Both"];return t5("ZoomAutoFitAxis",n=>!("string"!=typeof n||!t.includes(n))||{message:`expected one of ${t.map(t=>`"${t}"`).join(", ")}, but got "${n}"`})}()),"Horizontal"===n?(ns("paddingBefore",i,t7()),ns("paddingAfter",r,t7()),tG(J(this,lz).enableZoomAutoFit(t,n,i,0,r,0))):"Vertical"===n?(ns("paddingBefore",i,t7()),ns("paddingAfter",r,t7()),tG(J(this,lz).enableZoomAutoFit(t,n,0,i,0,r))):(ns("paddingLeft",i,t7()),ns("paddingTop",r,t7()),ns("paddingRight",s,t7()),ns("paddingBottom",o,t7()),tG(J(this,lz).enableZoomAutoFit(t,n,i,r,s,o)))}disableZoomAutoFit(t){return ns("blockOrScene",t,t8()),tG(J(this,lz).disableZoomAutoFit(t))}isZoomAutoFitEnabled(t){return ns("blockOrScene",t,t8()),tG(J(this,lz).isZoomAutoFitEnabled(t))}unstable_enableCameraPositionClamping(t,n=0,i=0,r=0,s=0,o=0,a=0,l=0,c=0){return ns("ids",t,t4(t7())),ns("paddingLeft",n,t7()),ns("paddingTop",i,t7()),ns("paddingRight",r,t7()),ns("paddingBottom",s,t7()),ns("scaledPaddingLeft",n,t7()),ns("scaledPaddingTop",i,t7()),ns("scaledPaddingRight",r,t7()),ns("scaledPaddingBottom",s,t7()),tG(J(this,lz).unstable_enableCameraPositionClamping(t,n,i,r,s,o,a,l,c))}unstable_disableCameraPositionClamping(t=this.get()){if(null==t)throw Error("No scene available.");return tG(J(this,lz).unstable_disableCameraPositionClamping(t))}unstable_isCameraPositionClampingEnabled(t=this.get()){if(null==t)throw Error("No scene available.");return tG(J(this,lz).unstable_isCameraPositionClampingEnabled(t))}unstable_enableCameraZoomClamping(t,n=-1,i=-1,r=0,s=0,o=0,a=0){return ns("ids",t,t4(t7())),ns("minZoomLimit",n,t7()),ns("maxZoomLimit",i,t7()),ns("paddingLeft",r,t7()),ns("paddingTop",s,t7()),ns("paddingRight",o,t7()),ns("paddingBottom",a,t7()),tG(J(this,lz).unstable_enableCameraZoomClamping(t,n,i,r,s,o,a))}unstable_disableCameraZoomClamping(t=this.get()){if(null==t)throw Error("No scene available.");return tG(J(this,lz).unstable_disableCameraZoomClamping(t))}unstable_isCameraZoomClampingEnabled(t=this.get()){if(null==t)throw Error("No scene available.");return tG(J(this,lz).unstable_isCameraZoomClampingEnabled(t))}};lG=Q(null),lz=new WeakMap,Z(lG,1,"loadFromString",lQ,lJ),Z(lG,1,"loadFromURL",lH,lJ),Z(lG,1,"loadFromArchiveURL",lV,lJ),Z(lG,1,"create",lU,lJ),Z(lG,1,"createVideo",lN,lJ),Z(lG,1,"createFromImage",lO,lJ),Z(lG,1,"createFromVideo",lF,lJ),Z(lG,1,"get",lD,lJ),Z(lG,1,"applyTemplateFromString",lR,lJ),Z(lG,1,"applyTemplateFromURL",lP,lJ),Z(lG,1,"getMode",lj,lJ),Z(lG,1,"setDesignUnit",lL,lJ),Z(lG,1,"getDesignUnit",lB,lJ),Z(lG,1,"getPages",lT,lJ),Z(lG,1,"getCurrentPage",lI,lJ),Z(lG,1,"findNearestToViewPortCenterByType",lM,lJ),Z(lG,1,"findNearestToViewPortCenterByKind",lE,lJ),Z(lG,1,"setZoomLevel",lk,lJ),Z(lG,1,"getZoomLevel",lS,lJ),Z(lG,1,"zoomToBlock",l_,lJ),Z(lG,1,"enableZoomAutoFit",lC,lJ),Z(lG,1,"disableZoomAutoFit",lw,lJ),Z(lG,1,"isZoomAutoFitEnabled",lA,lJ),W(lG,lJ),lY=[nc],lZ=[nu],l$=[nc],lW=[nu];var l0=class{constructor(t){$(lX,5,this),ee(this,lK),et(this,lK,t)}findAll(){return tW(J(this,lK).findAllVariables())}setString(t,n){return ns("key",t,ne()),ns("value",n,ne()),tG(J(this,lK).setVariableString(t,n))}getString(t){return ns("key",t,ne()),tG(J(this,lK).getVariableString(t))}remove(t){return ns("key",t,ne()),tG(J(this,lK).removeVariable(t))}};lX=Q(null),lK=new WeakMap,Z(lX,1,"findAll",lY,l0),Z(lX,1,"setString",lZ,l0),Z(lX,1,"getString",l$,l0),Z(lX,1,"remove",lW,l0),W(lX,l0);var l1=async function(t,n,i=fetch,r,s=new Set(r.findAllSources())){let o=t.map(async t=>{var o;return i((o=`/${t}/content.json`,`${n.replace(/\/+$/,"")}/${o.replace(/^\/+/,"")}`)).then(t=>{if(!t.ok)throw Error(t.statusText);return t.json()}).then(i=>{if(void 0===i.assets)throw Error(`Invalid content.json for assets: ${t}`);let o=i.assets;s.has(t)||r.addLocalSource(t),o.forEach(i=>{i.meta&&Object.entries(i.meta).forEach(([t,r])=>{let s=r.toString();if(s.includes("{{base_url}}")){let r=s.replace("{{base_url}}",n);i.meta&&(i.meta[t]=r)}}),i.payload?.typeface&&i.payload.typeface.fonts.forEach(t=>{t.uri.includes("{{base_url}}")&&(t.uri=t.uri.replace("{{base_url}}",n))}),i.payload?.sourceSet&&i.payload.sourceSet.forEach(t=>{t.uri.includes("{{base_url}}")&&(t.uri=t.uri.replace("{{base_url}}",n))}),r.addAssetToSource(t,i)})})});await Promise.all(o)},l2=async function(t,n,i,r){let s=["ly.img.sticker","ly.img.vectorpath","ly.img.colors.defaultPalette","ly.img.filter.lut","ly.img.filter.duotone","ly.img.effect","ly.img.blur","ly.img.typeface"].filter(t=>!i.includes(t));await l1(s,n,r,t)},l3=((f=l3||{})[f.Information=0]="Information",f[f.Warning=1]="Warning",f[f.Error=2]="Error",f),l5=((m=l5||{})[m.Free=0]="Free",m[m.VerticalStack=1]="VerticalStack",m[m.HorizontalStack=2]="HorizontalStack",m[m.DepthStack=3]="DepthStack",m),l4=async function(t,n,i,r,s,o,a="https://cdn.img.ly/assets/demo/v2"){let l=new Set(t.findAllSources()),c="ly.img.image.upload";!s||i.includes(c)||l.has(c)||t.addLocalSource(c,["image/jpeg","image/png","image/webp","image/svg+xml","image/gif","image/bmp"]);let u="ly.img.video.upload";"Video"!==r||!s||i.includes(u)||l.has(u)||t.addLocalSource(u,["video/mp4","video/quicktime"]);let d="ly.img.audio.upload";"Video"!==r||!s||i.includes(d)||l.has(d)||t.addLocalSource(d,["audio/mpeg","audio/mp3","audio/x-m4a","audio/wav"]);let p=["ly.img.image","ly.img.video","ly.img.audio"].filter(t=>!i.includes(t));l.has("ly.img.template")||i.includes("ly.img.template")||(t.addLocalSource("ly.img.template",void 0,async t=>{let i=t.meta?.uri;if(i){if(i.startsWith("UBQ1"))n.applyTemplateFromString(i);else{let t=new URL(i,window.location.href);n.applyTemplateFromURL(t.href)}}}),p.push("ly.img.template")),"Video"!==r||l.has("ly.img.video.template")||i.includes("ly.img.video.template")||(t.addLocalSource("ly.img.video.template",void 0,async t=>{let i=t.meta?.uri;if(i){if(i.startsWith("UBQ1"))n.applyTemplateFromString(i);else{let t=new URL(i,window.location.href);n.applyTemplateFromURL(t.href)}}}),p.push("ly.img.video.template")),await l1(p,a,o,t)},l6=H(tj());function l8(t,n){let i=new Set;function r(r){return i.add(r),t?.((t,...n)=>{for(let i of(r(t),n))r(i)}),()=>{i.delete(r),n?.()}}return r.emit=function(t,...n){for(let r of i)for(let i of(r(t),n))r(i)},r.handlers=i,r}var l7=t=>n=>function(i){return n(function(n){i(t(n))})};function l9(t){return n=>function(i){let r=!1,s=n(function(t){r=!0,i(t)});return r||i(t instanceof Function?t():t),s}}var ce=(t=(t,n)=>t===n)=>n=>function(i){let r;return n(function(n){t(n,r)||(r=n,i(n))})},ct=t=>{let n=new Set,i=null;return function(r){return n.add(r),null===i&&(i=t(function(t){n.forEach(n=>n(t))})),function(){n.delete(r),0===n.size&&(i?.(),i=null)}}};function cn(t,...n){return n.reduce((t,n)=>n(t),t)}var ci=(...t)=>{let n=Array.from(t);return function(t){let i=n.map(function(n){return n(t)});return function(){for(let t of i)t()}}};function cr(t){return function(n){let i=null,r=t(function(t){i?.(),i=t?t(n):t});return function(){r(),i?.(),i=null}}}function cs(...t){let n=Array.from(t);return function(t){let i=Array(n.length),r=n.map((n,r)=>n(function(n){i[r]=n,t(i)}));return function(){r.forEach(t=>t()),i.length=0}}}var co=Symbol("NO_VALUE");function ca(t){let n=co,i=l8();return{subscribe:i,value:()=>(n===co&&(n=t()),n),update(t){n=t,i.emit(n)}}}var cl=H(tU());function cc(t,n){let{block:i,event:r}=n;return cn(n=>{let s=i.getType(t),o=(0,cl.default)(r.subscribe([t],function(r){r.some(t=>"Destroyed"===t.type)&&!i.isValid(t)||i.getType(t)!==s?o():n(r)}));return o},ct)}var cu=function(t,n,i,r){var s;let o;let a=(s=r?.equals)?(...t)=>{let i=n(...t);return s(i,o)||(o=i),o}:n,l=l8();return{subscribe:cn(ci(t,l),l7(a),ce(),ct),update:i,value:a,flush:()=>l.emit()}},cd=class{settings;clampCamera=!1;clampResult=ca(()=>({sceneSize:{x:0,y:0},scrollPercentage:{x:NaN,y:NaN}}));zoomLevel;#o;viewportPadding=ca(()=>({x:40,y:48}));autoFit;scrollPercentage;sceneSize;scroll;constructor(t){let{block:n,scene:i,_legacyApi:r}=t,s=cn(i.onActiveChanged,l9(),l7(()=>i.get())),o=cn(s,l7(i=>null!=i&&n.isValid(i)?cn(cc(i,t),l9([]),l7(()=>n.getFloat(i,"scene/dpi"))):()=>()=>{}),cr),a=cn(s,l7(()=>{let i=n.findByType("camera")[0];return null==i?()=>()=>{}:cn(cc(i,t),l9([]),l7(()=>i))}),cr);this.settings={subscribe:cn(a,l7(t=>({width:n.getFloat(t,"camera/resolution/width"),height:n.getFloat(t,"camera/resolution/height"),pixelRatio:n.getFloat(t,"camera/pixelRatio")})),ce(l6.default),ct),update({width:t,height:i,pixelRatio:r}){let s=n.findByType("camera")[0];null!=s&&(n.setFloat(s,"camera/resolution/width",t),n.setFloat(s,"camera/resolution/height",i),n.setFloat(s,"camera/pixelRatio",r))},value(){let t=n.findByType("camera")[0];return null==t?{width:0,height:0,pixelRatio:1}:{width:n.getFloat(t,"camera/resolution/width"),height:n.getFloat(t,"camera/resolution/height"),pixelRatio:n.getFloat(t,"camera/pixelRatio")}}},this.zoomLevel=cu(ci(i.onZoomLevelChanged,o),()=>{let t=i.get(),{pixelRatio:r}=this.settings.value();return null!=t&&n.isValid(t)?i.getZoomLevel()/r:1},t=>{let r=i.get(),{pixelRatio:s}=this.settings.value();null!=r&&n.isValid(r)&&i.setZoomLevel(t*s)}),this.#o={subscribe:cn(a,l7(t=>r.getValue(t,"ubq/designblocks/Camera","zoomLevel")),ce()),value(){let t=n.findByType("camera")[0];return null==t?1:r.getValue(t,"ubq/designblocks/Camera","zoomLevel")}},this.autoFit=cu(i.onZoomLevelChanged,()=>{let t=i.get();return null!=t&&i.isZoomAutoFitEnabled(t)}),this.scrollPercentage={subscribe:cn(this.clampResult.subscribe,l7(t=>t.scrollPercentage),ce(l6.default)),value:()=>this.clampResult.value().scrollPercentage},this.sceneSize={subscribe:cn(cs(this.clampResult.subscribe,this.#o.subscribe,this.settings.subscribe),l7(([t,n,i])=>{let r=t?.sceneSize??this.clampResult.value().sceneSize??{x:0,y:0},s=n??this.#o.value()??10,o=i?.pixelRatio??this.settings.value().pixelRatio??1;return{x:r.x*s/o,y:r.y*s/o}}),ce(l6.default)),value:()=>{let t=this.clampResult.value().sceneSize??{x:0,y:0},n=this.#o.value()??10,i=this.settings.value().pixelRatio??1;return{x:t.x*n/i,y:t.y*n/i}}},this.scroll=t=>{let i=n.findByType("camera")[0];if(null==i)return;let r=this.#o.value(),s=this.settings.value().pixelRatio,o=t.x*s/r,a=t.y*s/r,l={x:n.getPositionX(i)+o,y:n.getPositionY(i)+a};n.setPositionX(i,l.x),n.setPositionY(i,l.y)}}};function cp(t,n){let i=`[UBQ] ${t}`;switch(n){case"Warning":console.warn(i);break;case"Error":console.error(i);break;case"Info":console.info(i);break;default:console.log(i)}}function ch(t,n){return new URL(t??"",n??="undefined"==typeof window?void 0:window.location.href).href.replace(/\/*$/,"/")}var cf,cm,cg,cx,cy=[{warnKeys(t){if(t.scene||t.page||t.assetSources||t.presets?.colorPalettes||t.presets?.images||t.presets?.pageFormats||t.presets?.colorPalettes||t.variables||t.callbacks?.log||t.initialSceneMode||t.initialSceneString||t.initialSceneURL||t.initialImageURL)return"Your configuration contains keys that are no longer supported and will be ignored. Refer to https://img.ly/docs/cesdk/introduction/migration_1_13/ for information about the removed keys."}},new class t{static APIFALLBACK_TYPEFACES_SOURCE_ID="apiFallbackTypefaces";warnKeys(t){if(t.presets?.typefaces)return"The `presets.typefaces` configuration option is deprecated. Use the AssetAPI to add typefaces instead."}applyFallback(n,i){if(n)try{let r=i.asset;if(n.presets?.typefaces)for(let[i,s]of(r.addLocalSource(t.APIFALLBACK_TYPEFACES_SOURCE_ID),Object.entries(n.presets.typefaces)))r.addAssetToSource(t.APIFALLBACK_TYPEFACES_SOURCE_ID,{id:i,payload:{typeface:{name:s.family,fonts:s.fonts.map(t=>({subFamily:`${t.weight} ${t.style}`,style:t.style,uri:t.fontURL,weight:t.weight}))}}})}catch(t){console.error(t)}}}];function cv(t){let n={key:255,characters:t.key,shiftIsHeld:t.shiftKey,commandIsHeld:t.metaKey||t.ctrlKey,optionIsHeld:t.altKey,timestamp:Date.now()};switch(t.key.toUpperCase()){case"0":n.key=0;break;case"1":n.key=1;break;case"2":n.key=2;break;case"3":n.key=3;break;case"4":n.key=4;break;case"5":n.key=5;break;case"6":n.key=6;break;case"7":n.key=7;break;case"8":n.key=8;break;case"9":n.key=9;break;case"A":n.key=10;break;case"B":n.key=11;break;case"C":n.key=12;break;case"D":n.key=13;break;case"E":n.key=14;break;case"F":n.key=15;break;case"G":n.key=16;break;case"H":n.key=17;break;case"I":n.key=18;break;case"J":n.key=19;break;case"K":n.key=20;break;case"L":n.key=21;break;case"M":n.key=22;break;case"N":n.key=23;break;case"O":n.key=24;break;case"P":n.key=25;break;case"Q":n.key=26;break;case"R":n.key=27;break;case"S":n.key=28;break;case"T":n.key=29;break;case"U":n.key=30;break;case"V":n.key=31;break;case"W":n.key=32;break;case"X":n.key=33;break;case"Y":n.key=34;break;case"Z":n.key=35;break;case" ":n.key=42;break;case"ESCAPE":n.key=43,n.characters="";break;case"BACKSPACE":n.key=40,n.characters="";break;case"DELETE":n.key=44,n.characters="";break;case"ENTER":n.key=41,n.characters=n.shiftIsHeld?"\u2028":"\n";break;case"CONTROL":n.key=45,n.characters="";break;case"ALT":n.key=46,n.characters="";break;case"SHIFT":n.key=47,n.characters="";break;case"ARROWLEFT":n.key=36,n.characters="";break;case"ARROWRIGHT":n.key=37,n.characters="";break;case"ARROWUP":n.key=38,n.characters="";break;case"ARROWDOWN":n.key=39,n.characters="";break;case"DEAD":n.key=255,n.characters=""}return n}cg=[nc],cm=[nc],cf=[nc];var cb=class{constructor(t){$(cx,5,this),Y(this,"ubique"),Y(this,"notificationStream",t=>{let n=this.ubique.addEventCallback("NotificationEvent",n=>t({type:l3[n.type],i18n:n.i18n}));return()=>{n.dispose(),n.delete()}}),Y(this,"designElementLifecycleStream",t=>n=>{let i=this.ubique.addEventCallback(t,n);return()=>{i.dispose(),i.delete()}}),Y(this,"historyStream",t=>{let n=this.ubique.addEventCallback("HistoryUpdatedEvent",t);return()=>{n.dispose(),n.delete()}}),this.ubique=t.getInternalAPI()}dispose(){this.ubique.delete()}setErrorCallback(t,n){this.ubique.setErrorCallback(t,n)}getSelectedText(){return tG(this.ubique.getSelectedText())}hasComponent(t,n){return tG(this.ubique.hasComponent(t,n))}getValue(t,n,i){return tG(this.ubique.getValue(t,n,i))}execute(t,n){let i;let r=new Promise((r,s)=>{i=this.ubique.ubqExecute(t,n,t=>{try{let n=tG(t);r(n)}catch(t){s(t)}})});return tG(i),r}sendKey(t){return this.execute("ubq/inputs/keyboardkey",cv(t))}changeSceneLayout(t,n,i,r){return this.execute("ubq/scene/changeLayout",[t,l5[n],i,r])}};Z(cx=Q(null),1,"getSelectedText",cg,cb),Z(cx,1,"hasComponent",cm,cb),Z(cx,1,"getValue",cf,cb),W(cx,cb);var cA=H(tH()).default,cw=!("undefined"==typeof window||!window.document||!window.document.createElement)&&navigator&&navigator.userAgent||"",cC=-1!==cw.indexOf("Edge"),c_=!!cw.match(/msie|trident/i),cS=/\b(iPad|iPhone|iPod)\b/.test(cw)&&/WebKit/.test(cw)&&!/Edge/.test(cw)&&("undefined"==typeof window||!("MSStream"in window)),ck=(t,n)=>null!=n?[n,t.split("/").pop()].join(""):new URL(t,window.location.origin);function cE(t){return 1024*t*1024/65536}async function cM(t,n){let{core:i}=n,r=n.logger,s=ck("./cesdk-v1.39.0-DSJC7MDH.wasm",i.baseURL).toString(),o=ck("./cesdk-v1.39.0-XHZXX7DG.data",i.baseURL).toString(),a=/electron/i.test(navigator.userAgent),l=function(t,n=fetch){if(!t.license)throw Error("Missing license key in config");return t.license.length<128?n("https://api.img.ly/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:t.license,userId:t.userId})}).then(t=>{if(t.ok)return t.json();throw Error("Unfortunately we are experiencing a server down time and your License key cannot be validated. We're already working on a fix and will restore service soon. Should services not restore within the hour, kindly get in touch with our support team.")}).then(t=>{if("valid"===t.status)return t.license;throw"expired"===t.status?Error("Thanks for using IMG.LY for creative editing. Please note that your license file or commercial use is expired. Please get in touch with our sales team to discuss extension of your commercial license."):Error("The License Key (API Key) you are using to access the IMG.LY SDK is invalid. Please ensure that you are using the license key tied to your subscription and get in touch with our support team.")}):Promise.resolve(t.license)}(n),c=a?await fetch(o,{credentials:"same-origin"}).then(t=>t.arrayBuffer()).then(t=>function(n,i){if(n!==o)return null;if(i===t.byteLength)return t;throw Error(`Attempt to get preloaded package of unknown name or size: ${n} ${i}`)}):void 0;return new Promise((i,a)=>{cA({getPreloadedPackage:c,locateFile:(t,n)=>t.endsWith(".wasm")?s:t.endsWith(".data")?o:n+t,print:t=>{t&&"undefined"!==t&&r(t,"Info")},printErr:t=>{t&&"undefined"!==t&&r(t,"Error")},logReadFiles:!1,printWithColors:!0,wasmMemory:function(){try{return new WebAssembly.Memory({initial:cE(cS?512:32),maximum:cE(2048)})}catch(t){return new WebAssembly.Memory({initial:cE(32),maximum:cE(2048)})}}()}).then(async r=>{r.specialHTMLTargets["!canvas"]=t,r.emscripten_ubq_settings_forceWebGL1=cS||!!n?.forceWebGL1;let s=tG(r.createEngine("!canvas",n.audioOutput??"auto"));(function(t,n){if(!n)throw Error("Missing license key");tG(t.unlockWithLicense(n))})(s,await l),function(t,n){let i=new lb(t),r=new tY(t);i.setRole(n.role??"Creator"),i.setSettingString("basePath",n.baseURL),i.setSettingBool("showBuildVersion",!1),n.featureFlags?.preventScrolling&&(i.setSettingBool("touch/singlePointPanning",!1),i.setSettingBool("touch/dragStartCanSelect",!1)),r.addLocalSource("ly.img.text"),function(){let t=!!n.featureFlags?.singlePageMode;i.setSettingBool("features/singlePageModeEnabled",t),i.setSettingBool("features/effectsEnabled",!0)}(),function(){let n=new l0(t);"undefined"!=typeof window&&window.Cypress&&(n.setString("company_name","img.ly"),n.setString("first_name","Charly"),n.setString("last_name","Williams"),n.setString("address","742 Evergreen Terrace"),n.setString("city","Springfield"))}(),i.startTracking(n.license,n.userId??"")}(s,n),i(s)}).catch(a)})}var cI=class{_reactor;_updateHandler=null;debugName;dirty=!0;readCalls=new Set;constructor(t,n){this.debugName=n,this._reactor=t}dispose(){this._updateHandler=null,this._reactor._unregisterReaction(this),this._reactor=null}track(t){return this._reactor._trackReaction(this,t)}subscribe(t){return this._reactor._registerReaction(this),this._updateHandler=t,()=>{this._updateHandler=null,this._reactor._unregisterReaction(this)}}update(){this._updateHandler?.()}},cT=H(tj()),cB=Symbol("NO_VALUE"),cL=class{callId;_value=cB;_lastUpdateValue=cB;_readFromEngine;constructor(t,n){this.callId=t,this._readFromEngine=n,this.read(),this._lastUpdateValue=this._value}readCachedValue(){return this._value===cB||this.revalidate?this.read():this._value}revalidate=!1;invalidate(){this.revalidate=!0}read(){let t=this._readFromEngine();return this.revalidate=!1,(0,cT.default)(this._value,t)?this._value:(this._value=t,t)}updateValueAndCheckDirty(){try{let t=this.read(),n=this._lastUpdateValue!==t;return this._lastUpdateValue=t,n}catch{return this._lastUpdateValue=cB,!0}}update(t){this._readFromEngine=t}},cj=class{readCalls=new Map;_createOrUpdateReadCall(t,n){this.readCalls.has(t)?this.readCalls.get(t).update(n):this.readCalls.set(t,new cL(t,n))}registeredReactions=new Set;activeReactions=new Set;get isTracking(){return this.activeReactions.size>0}_nextReaction;_resolveNextReaction;_createNextReaction(){this._nextReaction=new Promise(t=>{this._resolveNextReaction=t})}constructor(){this._createNextReaction()}get nextReaction(){return this._nextReaction}_getterCalled(t,n){if(this.isTracking)for(let i of(this._createOrUpdateReadCall(t,n),this.activeReactions))i.readCalls.add(t)}_setterCalled(){for(let t of this.readCalls.values())t.invalidate()}read(t,n){return this.isTracking&&this.readCalls.has(t)?this.readCalls.get(t).readCachedValue():n()}createReaction(t){return new cI(this,t)}_registerReaction(t){this.registeredReactions.add(t)}_unregisterReaction(t){this.registeredReactions.delete(t)}_cleanupReadCalls(){let t=new Set;for(let n of this.registeredReactions)for(let i of n.readCalls)t.add(i);for(let[n]of this.readCalls)t.has(n)||this.readCalls.delete(n)}#a=new Set;updateDirtyReactions(){let t=new Set;for(let[n,i]of this.readCalls)i.updateValueAndCheckDirty()&&t.add(n);if(t.size>0){for(let n of this.registeredReactions)if(!n.dirty){for(let i of n.readCalls)if(t.has(i)){n.dirty=!0;break}}}for(let t of this.registeredReactions)if(!this.#a.has(t)&&t.dirty)try{this.#a.add(t),t.update()}finally{t.dirty=!1,this.#a.delete(t)}this._cleanupReadCalls(),this._resolveNextReaction(),this._createNextReaction()}_trackReaction(t,n){try{return this.activeReactions.add(t),t.readCalls.clear(),n()}finally{t.dirty=!1,this.activeReactions.delete(t)}}decorateFunction(t,n){return function(t,n,i=n.name){nd[i]??=0;let r=nd[i]++;return function(...s){let o=this,a=`${i}${r}-${JSON.stringify(s,null,0)}`;function l(){return Reflect.apply(n,o,s)}return t._getterCalled(a,l),t.read(a,l)}}(this,t,n)}decorateObject(t){return function(t,n){let i=n.constructor?.name??crypto.randomUUID(),r=[],s=!1;for(let o of Object.getOwnPropertyNames(n.constructor.prototype).concat(Object.getOwnPropertyNames(n))){let a=n[o];if("function"==typeof a&&nl in a){if("getter"===a[nl].type){let l=function(...n){if(s)throw Error("Disposed @getter proxy called");let r=this,l=`${i}-${o.toString()}-${JSON.stringify(n,null,0)}`;function c(){return Reflect.apply(a,r,n)}return t._getterCalled(l,c),t.read(l,c)};r.push(np(n,o,a)),n[o]=l}else if("setter"===a[nl].type){let i=function(...n){if(s)throw Error("Disposed @setter proxy called");return t._setterCalled(),Reflect.apply(a,this,n)};r.push(np(n,o,a)),n[o]=i}}}return function(){for(let t of(s=!0,r))t();r.length=0}}(this,t)}dispose(){this.registeredReactions.forEach(t=>t.dispose()),this.registeredReactions.clear(),this.readCalls.clear(),this.activeReactions.clear()}},cP=function(t,n,i,r,s){let o,a=null,l=r.onStateChanged(()=>{"Text"!==(o=r.getEditMode())||a?"Text"!==o&&a&&(a(),a=null):a=function(){let o=function(){let o=!1,a="";if(null==t.parentElement)return console.warn('Could not attach hidden text input to the DOM: Canvas has no parentElement. This can happen if edit mode is switched to "Text", while the canvas is removed from the DOM.'),()=>{};let l=function(){let t=document.createElement("textarea");return t.id="ubq_internal-inline_text_editing_html_representation",t.setAttribute("data-cy","inline-text-editing-input"),t.autocapitalize="none",t.spellcheck=!1,t.cols=4096,t.style.contain="strict",t.style.opacity="0",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.padding="0",t.style.margin="-1px",t.style.overflow="hidden",t.style.clip="rect(0, 0, 0, 0)",t.style.border="0",t}();u();let c=function(){let n=t.getRootNode();l.addEventListener("input",x),l.addEventListener("keydown",v),l.addEventListener("copy",f),l.addEventListener("cut",m),l.addEventListener("compositionstart",b),l.addEventListener("compositionend",A),l.addEventListener("beforeinput",S),l.addEventListener("focusout",k),n.addEventListener("touchend",_),n.addEventListener("mousedown",_),n.addEventListener("mouseup",C);let i=r.onStateChanged(()=>{u()});return()=>{l.removeEventListener("input",x),l.removeEventListener("keydown",v),l.removeEventListener("copy",f),l.removeEventListener("cut",m),l.removeEventListener("compositionstart",b),l.removeEventListener("compositionend",A),l.removeEventListener("beforeinput",S),l.removeEventListener("focusout",k),n.removeEventListener("mousedown",_),n.removeEventListener("mouseup",C),n.removeEventListener("touchend",_),i()}}();return t.parentElement.appendChild(l),d(),()=>{c(),l.blur(),l.remove()};function u(){let n=r.getTextCursorPositionInScreenSpaceX(),i=r.getTextCursorPositionInScreenSpaceY(),{left:s,top:o}=t.getBoundingClientRect();l.style.left=`${s+n/window.devicePixelRatio}px`,l.style.top=`${o+i/window.devicePixelRatio}px`}function d(){null!==l.parentElement&&(l.focus(),l.getRootNode().activeElement===l||setTimeout(()=>l.focus(),0))}function p(t){return[...t].length}function h(t){let n=t.selectionEnd??t.selectionStart??0;return p(t.value.substring(0,n))}function f(t){try{let i=n.getSelectedText();""!==i&&t.clipboardData&&(t.clipboardData.setData("text/plain",i),t.preventDefault())}catch(t){console.error(t)}}function m(t){try{let i=n.getSelectedText();if(""!==i&&t.clipboardData){t.clipboardData.setData("text/plain",i),t.preventDefault();let r={key:44,characters:"",shiftIsHeld:!1,commandIsHeld:!1,optionIsHeld:!1,timestamp:Date.now()};n.execute("ubq/inputs/keyboardkey",r)}}catch(t){console.error(t)}}async function g(){return!(!o||i.unstable_isTextCursorInCompositionRange())&&(await A(),!0)}function x(t){let i=t.target,{value:r}=i;if(o){let t=h(l);n.execute("ubq/text/compositionUpdate",{value:r,cursorPosition:t})}else r.length>0&&(i.value="")}function y(t){let i={key:255,characters:t,shiftIsHeld:!1,commandIsHeld:!1,optionIsHeld:!1,timestamp:Date.now()};n.execute("ubq/inputs/keyboardkey",i)}async function v(t){if(g(),1===t.key.length&&(a=t.key),"a"===t.key&&(t.metaKey||t.ctrlKey))return o&&A(),void await n.execute("ubq/text/selectAllText");if("Escape"===t.key)return void E();if("Backspace"!==t.key&&"Delete"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key&&"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Enter"!==t.key)return;let i=cv(t);await n.execute("ubq/inputs/keyboardkey",i),t.currentTarget&&(l.value="")}async function b(){o=!0,await n.execute("ubq/text/compositionStart")}async function A(){o?(o=!1,l.value="",n.execute("ubq/text/compositionEnd")):l.value=""}async function w(){if(!o||(s(),await g()))return;let t=i.unstable_getCursorPosition(),n=i.unstable_getCompositionRange(),r=t.end-n.start,a=h(l);t.start>=n.start&&t.start<=1+n.end&&r!==a&&A()}async function C(){w()}async function _(n){w(),n.target===t&&"Text"===r.getEditMode()&&(d(),n.preventDefault())}async function S(t){if(o&&!t.isComposing&&A(),null===t.data)return;let i=t.target,r=t.data;if(await g())y(a);else if(o){let t=p(r);n.execute("ubq/text/compositionUpdate",{value:r,cursorPosition:t})}else r.length>0&&("\n"!==r[0]&&y(r),i.value="")}function k(n){var i;null!=(i=n.relatedTarget)&&i instanceof HTMLElement&&(i instanceof HTMLTextAreaElement||i instanceof HTMLInputElement&&i.type.match("^(text|number|url|email|search|tel)$")||i.isContentEditable)&&function(n){let i=new CustomEvent("cesdk-blur",{composed:!0,bubbles:!0,cancelable:!0,detail:n});return t.dispatchEvent(i)}(n.relatedTarget)||function(n){let i=new CustomEvent("cesdk-refocus",{composed:!0,bubbles:!0,cancelable:!0,detail:n.relatedTarget});t.dispatchEvent(i)&&d()}(n)}async function E(){r.setEditMode("Transform")}}();return()=>{o?.()}}()});return()=>{a?.(),l()}};function cR(t,n){let i=t.getBoundingClientRect(),r=i?.top??0,s=i?.left??0;return{position:{x:(n.clientX-s)*window.devicePixelRatio,y:(n.clientY-r)*window.devicePixelRatio},isTouch:!1,timestamp:n.timeStamp}}function cD(t){switch(t){case 0:return 0;case 1:return 2;case 2:return 1;default:return 255}}var cF=class{ubq;enabled;initialTarget;target;dispose;constructor(t,n){this.ubq=n,this.enabled=cu(t.editor.onSettingsChanged,()=>{let n=t.editor.getSettingBool("mouse/enableZoom"),i=t.editor.getSettingBool("mouse/enableScroll");return n||i}),this.target=ca(()=>{}),this.dispose=()=>{this.target.update(void 0),this.target=null,this.enabled=null,this.ubq=null,this.initialTarget=null,t=null,n=null}}initialize(t){let n;this.initialTarget=t;let i=ci(this.enabled.subscribe,this.target.subscribe)(()=>{n?.(),n=void 0;let t=this.target.value();this.enabled.value()&&t&&(n=this.addWheelListener(t))});return this.target.update(t),()=>{i(),n?.()}}setTarget(t){return this.target.update(t),()=>{this.target.update(this.initialTarget)}}addWheelListener(t){let n=t=>{if(!this.initialTarget)throw Error("initialTarget is not set");let n={...cR(this.initialTarget,t),deltaX:t.deltaX,deltaY:t.deltaY,deltaMode:t.deltaMode,shiftIsHeld:!!t.shiftKey,ctrlOrMetaIsHeld:!!t.ctrlKey||!!t.metaKey};this.ubq.mouseWheel(n)&&(t.stopPropagation(),t.preventDefault())};return t.addEventListener("wheel",n,{passive:!1,capture:!0}),()=>{t.removeEventListener("wheel",n,{capture:!0}),t=null}}},cO=class{active=!1;enableDebug=!1;timestamp=0;baseTouches=[];touches=[];currentTransform;constructor(){this.currentTransform=this.emptyTransform()}touchAddRemove(t){let n=Array(t.touches.length);for(let i=0;i<t.touches.length;i++){let r=t.touches.item(i);n[i]=cN(r)}this.touches=n}touchUpdate(t){for(let n=0;n<t.touches.length;n++){let i=t.touches.item(n),r=this.touches.find(t=>t.identifier===i.identifier);if(!r)return;r.x=i.clientX,r.y=i.clientY}}listen(t){return t.addEventListener("touchstart",this.touchstart,{passive:!0}),t.addEventListener("touchend",this.touchend),t.addEventListener("touchcancel",this.touchcancel),t.addEventListener("touchmove",this.touchmove,{passive:!0}),()=>{t.removeEventListener("touchstart",this.touchstart),t.removeEventListener("touchend",this.touchend),t.removeEventListener("touchcancel",this.touchcancel),t.removeEventListener("touchmove",this.touchmove)}}touchstart=t=>{this.touchAddRemove(t),this.timestamp=t.timeStamp,this.process("touchstart")};touchend=t=>{this.touchAddRemove(t),this.timestamp=t.timeStamp,this.process("touchend")};touchcancel=t=>{this.touchAddRemove(t),this.timestamp=t.timeStamp,this.process("touchcancel")};touchmove=t=>{this.touchUpdate(t),this.timestamp=t.timeStamp,this.process("touchmove")};debugState;debug(){if(!this.enableDebug)return;let t=JSON.stringify(this.currentTransform);function n(t,[n,i,r],s){let o=document.createElement("div");return o.style.position="fixed",o.style.top="-25px",o.style.left="-25px",o.style.width="50px",o.style.height="50px",o.style.border=`3px ${s} rgb(${n},${i},${r})`,o.style.borderRadius="50%",o.style.borderStyle=s,o.style.backgroundColor=`rgba(${n},${i},${r}, 0.5)`,o.style.transformOrigin="center",o.style.textAlign="center",o.innerHTML=t,o.style.display="none",document.body.appendChild(o),o}this.debugState||(this.debugState={touches:[n("T1",[218,212,104],"solid"),n("T2",[218,212,104],"solid")],value:this.debugValueDiv(void 0,t,this.touches,[218,212,104]),baseTouches:[n("B1",[128,128,128],"solid"),n("B2",[128,128,128],"solid")]}),this.debugState.touches[0].style.display=this.touches[0]?"block":"none",this.debugState.touches[1].style.display=this.touches[1]?"block":"none",this.debugState.baseTouches[0].style.display=this.baseTouches[0]?"block":"none",this.debugState.baseTouches[1].style.display=this.baseTouches[1]?"block":"none",this.touches[0]&&(this.debugState.touches[0].style.transform=`translate(${this.touches[0]?.x}px, ${this.touches[0]?.y}px)`),this.touches[1]&&(this.debugState.touches[1].style.transform=`translate(${this.touches[1]?.x}px, ${this.touches[1]?.y}px)`),this.baseTouches[0]&&(this.debugState.baseTouches[0].style.transform=`translate(${this.baseTouches[0]?.x}px, ${this.baseTouches[0]?.y}px)`),this.baseTouches[1]&&(this.debugState.baseTouches[1].style.transform=`translate(${this.baseTouches[1]?.x}px, ${this.baseTouches[1]?.y}px)`),this.debugState.value=this.debugValueDiv(this.debugState.value,t,this.touches)}debugValueDiv(t,n,i,r){if(!t){let[n,i,s]=r??[128,128,128];(t=document.createElement("div")).style.position="fixed",t.style.top="50px",t.style.left="50px",t.style.width="300px",t.style.height="100px",t.style.border=`3px solid rgb(${n},${i},${s})`,t.style.borderStyle="dashed",t.style.backgroundColor=`rgba(${n},${i},${s}, 0.5)`,t.style.transformOrigin="center",t.style.overflow="visible",t.style.textOverflow="visible",t.style.display="none",document.body.appendChild(t)}return this.active?t.style.borderStyle="solid":t.style.borderStyle="dashed",0===i.length?t.style.display="none":(t.style.display="block",t.innerHTML=n),t}resetBaseTouches(){this.baseTouches=this.touches.map(cN)}process(t){if("touchcancel"===t)return this.resetBaseTouches(),this.reset(),this.debug(),void this.emit(2);"touchstart"!==t&&"touchend"!==t||(this.resetBaseTouches(),this.debug()),!this.active&&this.shouldStart()&&(this.active=!0,this.emit(0)),"touchmove"===t&&(this.currentTransform=this.calculateTransform(),this.active&&this.emit(1)),this.debug(),this.active&&this.shouldStop()&&(this.active=!1,this.emit(2),this.reset())}shouldStart(){return 2===this.touches.length}shouldStop(){return 2!==this.touches.length}emit(t){let n={timestamp:this.timestamp,state:t,touchPoints:this.touches},i=this.makeEvent(n);for(let t of this.handlers)t(i)}handlers=new Set;addListener(t){return this.handlers.add(t),()=>{this.handlers.delete(t)}}reset(){this.active=!1,this.currentTransform=this.emptyTransform()}};function cN(t){if(null!=t)return t instanceof Touch?{identifier:t.identifier,x:t.clientX,y:t.clientY}:{identifier:t.identifier,x:t.x,y:t.y}}var cU=class t extends cO{static PAN_THRESHOLD=10;makeEvent(t){let n=0===t.state?{x:0,y:0}:this.currentTransform;return{...t,panDistance:n}}calculateTransform(){let t=cH(this.touches),n=cH(this.baseTouches);return{x:t.x-n.x,y:t.y-n.y}}emptyTransform(){return{x:0,y:0}}shouldStart(){return super.shouldStart()&&cV(this.calculateTransform())>t.PAN_THRESHOLD}};function cV(t){return Math.sqrt(t.x**2+t.y**2)}function cH(t){let n=0,i=0;for(let r=0;r<t.length;r++){let s=t[r];n+=s.x,i+=s.y}return{x:n/=t.length,y:i/=t.length}}var cQ=class t extends cO{static PINCH_THRESHOLD=.2;makeEvent(t){return{...t,scale:this.currentTransform}}calculateTransform(){let t=this.baseTouches,n=this.touches;if(2!==t.length||2!==n.length)return 1;let i=Math.sqrt(Math.pow(t[0].x-t[1].x,2)+Math.pow(t[0].y-t[1].y,2));return Math.sqrt(Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2))/i}emptyTransform(){return 1}shouldStart(){return super.shouldStart()&&Math.abs(this.calculateTransform()-1)>t.PINCH_THRESHOLD}},cz=class t extends cO{static DISTANCE_THRESHOLD=5;static TAP_MAX_TIME=250;lastPosition={x:0,y:0};makeEvent(t){let n=this.tapDetected?this.tapLocation:t.touchPoints[0];return 0===t.state?(this.lastPosition=n,{button:0,state:1,position:n,shiftIsHeld:!1,isTouch:!0,timestamp:t.timestamp}):2===t.state?{button:0,state:0,position:n??this.lastPosition,shiftIsHeld:!1,isTouch:!0,timestamp:t.timestamp}:(this.lastPosition=n,{position:n,isTouch:!0,timestamp:t.timestamp})}previousNumTouches=0;fingerDownTimestamp=0;tapDetected=!1;tapLocation={x:0,y:0};process(n){if("touchstart"===n||"touchend"===n){this.tapDetected=!1;let n=1===this.touches.length&&0===this.previousNumTouches,i=0===this.touches.length&&1===this.previousNumTouches;n&&(this.fingerDownTimestamp=performance.now(),this.tapLocation=this.touches[0]),i&&performance.now()-this.fingerDownTimestamp<t.TAP_MAX_TIME&&(this.tapDetected=!0),this.previousNumTouches=this.touches.length}super.process(n)}calculateTransform(){if(0===this.touches.length||0===this.baseTouches.length)return{x:0,y:0};let t=this.touches[0],n=this.baseTouches[0];return{x:t.x-n.x,y:t.y-n.y}}emptyTransform(){return{x:0,y:0}}shouldStart(){return this.tapDetected||1===this.touches.length&&cV(this.calculateTransform())>t.DISTANCE_THRESHOLD}shouldStop(){return 1!==this.touches.length}},cG=class t extends cO{static ROTATE_THRESHOLD=.1;makeEvent(t){return{...t,rotation:this.currentTransform}}calculateTransform(){let t=this.baseTouches,n=this.touches;if(t.length<2||n.length<2)return 0;let i=Math.atan2(t[1].y-t[0].y,t[1].x-t[0].x);return Math.atan2(n[1].y-n[0].y,n[1].x-n[0].x)-i}emptyTransform(){return 0}shouldStart(){return super.shouldStart()&&Math.abs(this.calculateTransform())>t.ROTATE_THRESHOLD}};function cq(t,n){let i=window.devicePixelRatio??1,{top:r,left:s}=t.getBoundingClientRect();if(1===i&&0===r&&0===s)return n;let o=t=>({x:(t.x-s)*i,y:(t.y-r)*i});if("position"in n)return{...n,position:o(n.position)};let a=n.touchPoints.map(o);return"panDistance"in n?{...n,touchPoints:a,panDistance:o(n.panDistance)}:{...n,touchPoints:a}}function cW(t,n,i=Number.EPSILON){return Math.abs(t-n)<i}(cY=cZ||(cZ={})).start=function(t){return{...t,msg:"exportVideo"}},cY.abort=function(){return{msg:"exportVideoAbort"}},cY.finished=function(t){return{...t,msg:"exportVideoFinished"}},cY.error=function(t){return{...t,msg:"exportVideoError"}},cY.progress=function(t){return{...t,msg:"exportVideoProgress"}},cY.log=function(t){return{...t,msg:"exportLog"}};var c$=class{configuration;constructor(t){this.configuration=t}async exportVideo(t,n,i,r,s){var o;let{abortSignal:a,inactivityTimeout:l}=r??{},c=await async function(t){let n="assets/core/worker-host-v1.39.0.js".toString().split("/").pop();return new Worker(await async function(t){if(!(t=t.toString()).includes("://")||t.includes(window.location.origin))return t;let n=`const _importScripts = importScripts;
     const _fixImports = (url) => new URL(url, '${new URL(t).href.split("/").slice(0,-1).join("/")}/').href;
     importScripts = (...urls) => _importScripts(...urls.map(_fixImports));`;return URL.createObjectURL(new Blob([`${n}importScripts("${t}")`],{type:"application/javascript"}))}(new URL(n,t.core.baseURL)))}(this.configuration),u={baseURL:(o=this.configuration).baseURL,license:o.license,core:o.core,role:o.role,presets:o.presets,featureFlags:o.featureFlags,forceWebGL1:o.forceWebGL1,audioOutput:o.audioOutput},d=new Promise((t,n)=>{if(c.onmessage=({data:i})=>{"exportVideoFinished"===i.msg?t(new Blob([i.data],{type:i.mimeType})):"exportVideoError"===i.msg?n(i.error):"exportVideoProgress"===i.msg?r?.onProgress?.(i.renderedFrames,i.encodedFrames,i.totalFrames):"exportLog"===i.msg?this.configuration.logger(i.message,i.logLevel):console.error("Unknown message received ",i)},a){let t=!1;a.addEventListener("abort",()=>{t||(t=!0,c.postMessage(cZ.abort()))},{once:!0})}});c.postMessage(cZ.start({sceneString:t,engineSettings:n,config:u,exportOptions:i,workerOptions:s,inactivityTimeout:l}));let p=()=>{c.postMessage({msg:"setVisibility",visible:"visible"===document.visibilityState})};document.addEventListener("visibilitychange",p);try{return await d}finally{c.terminate(),document.removeEventListener("visibilitychange",p)}}};globalThis.ubq_browserTabHidden=!0;var cZ,cY,cK,cX,cJ={value:()=>"undefined"==typeof document||"visible"===document.visibilityState,subscribe(t){if("undefined"==typeof document)return()=>{};{let n=()=>{t("visible"===document.visibilityState)};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}}}},c0={value:()=>"visible"===document.visibilityState,subscribe:cn((cK=document,cX="visibilitychange",function(t){return cK.addEventListener(cX,t),function(){cK.removeEventListener(cX,t)}}),l7(()=>"visible"===document.visibilityState))},c1=class{asset;block;editor;event;scene;variable;reactor;#l;#c;#u;#d;#e;#p;#h=[];constructor(t,n,i){this.#e=t,this.#p=new cb(t),this.asset=new tY(t),this.block=new aC(t),this.editor=new lb(t),this.event=new lq(t),this.scene=new lJ(t),this.variable=new l0(t),this.#d=new cF(this,t),this.#h.push(this.#d.dispose);let r=new cj;this.reactor=r;let s=[r.decorateObject(this.#p),r.decorateObject(this.block),r.decorateObject(this.editor),r.decorateObject(this.scene),r.decorateObject(this.variable)],o=this.addPostUpdateCallback(r.updateDirtyReactions.bind(r));this.#h.push(()=>{s.forEach(t=>t()),o(),this.reactor.dispose()}),this.block.exportVideo=function(t,n,i){return async(r,s,o,a)=>{let l=n.scene.get();if(null==l||!n.block.isValid(l))throw Error("No valid scene available.");let c=await n.scene.saveToString(["blob","bundle","file","http","https","buffer"]),u=function(t){let n=new Map;for(let i of t.findAllSettings())switch(t.getSettingType(i)){case"Bool":n.set(i,t.getSettingBool(i));break;case"Int":n.set(i,t.getSettingInt(i));break;case"Float":n.set(i,t.getSettingFloat(i));break;case"String":n.set(i,t.getSettingString(i));break;case"Color":n.set(i,t.getSettingColor(i));break;case"Enum":n.set(i,t.getSettingEnum(i))}return n}(n.editor),d=i(),p=n.editor.getActiveLicense(),h={scopes:Object.fromEntries(n.editor.findAllScopes().map(t=>[t,n.editor.getGlobalScope(t)])),uriResolver:n.editor.unstable_getURIResolver()?.toString()};try{h.trackingMetadata=n.editor.getTrackingMetadata()}catch{h.trackingMetadata=void 0}h.buffers=n.editor.cloneBuffers();let f={block:r,width:a.targetWidth,height:a.targetHeight,duration:a.duration,framerate:a.framerate,h264Level:a.h264Level,h264Profile:a.h264Profile,videoBitrate:a.videoBitrate,audioBitrate:a.audioBitrate,timeOffset:a.timeOffset};return t.featureFlags?.exportWorker??1?new c$({...t,license:p}).exportVideo(c,u,f,{abortSignal:a.abortSignal,inactivityTimeout:d,onProgress:o},h):(async function(t,n,i,r,s,o){let a,l,c=0,u=null,d=o.visibility??cJ,p=o.inactivityTimeout,h=d.subscribe(()=>{null!==u&&(u=Date.now()),globalThis.ubq_browserTabHidden=!d.value()}),f=null;function m(){clearTimeout(l),h(),f?.()}try{let h=function(){!0===d.value()&&null!==u&&Date.now()-u>p?a(Error("Video export timed out due to inactivity.")):(c<10&&x.update(),l=setTimeout(h,1))},g=new OffscreenCanvas(64,64),x=await cM(g,{...t,audioOutput:"none"}),y=new lJ(x),v=new aC(x),b=new lb(x);if(f=()=>{x.delete()},function(t,n){for(let[i,r]of n)switch(t.getSettingType(i)){case"Bool":t.setSettingBool(i,r);break;case"Int":t.setSettingInt(i,r);break;case"Float":t.setSettingFloat(i,r);break;case"String":t.setSettingString(i,r);break;case"Color":t.setSettingColor(i,r);break;case"Enum":t.setSettingEnum(i,r)}}(b,n),s?.trackingMetadata&&b.setTrackingMetadata(s.trackingMetadata),s?.uriResolver){let t=(0,eval)(`'use strict';(${s.uriResolver})`);b.setURIResolver(function(n,i){try{return t(n,i)}catch(t){return console.warn(`Error during execution of URI resolver: ${t}.
Make sure the url resolver function does not reference any external variables. Falling back to default URI resolver.`),i(n)}})}if(s?.scopes)for(let[t,n]of Object.entries(s.scopes))b.setGlobalScope(t,n);s?.buffers&&b.restoreBuffers(s.buffers);let A=await y.loadFromString(i),w=r.block?v.getDuration(r.block):v.getTotalSceneDuration(y.get());h();let C=await new Promise((n,i)=>{a=i,t.abortSignal?.addEventListener("abort",()=>{i(Error("AbortSignal received"))}),x.exportVideoToBuffer(r.block??A,r.timeOffset??0,r.duration??w,nf.Mp4,(t,n,i)=>{c=t-n,u=Date.now(),o?.onProgress?.(t,n,i)},t=>{"error"in t?i(t.error):n(t)},{h264Profile:r.h264Profile??77,h264Level:r.h264Level??52,framerate:r.framerate??30,videoBitrate:r.videoBitrate??0,audioBitrate:r.audioBitrate??0,useTargetSize:void 0!==r.width&&void 0!==r.height,targetWidth:r.width??0,targetHeight:r.height??0})}),_=new Uint8Array(C.byteLength);return _.set(C),m(),_}catch(t){throw m(),t}})(a.abortSignal?{...t,abortSignal:a.abortSignal}:t,u,c,f,h,{onProgress:o,visibility:c0,inactivityTimeout:d}).then(t=>new Blob([t],{type:nf.Mp4}))}}(i,{block:this.block,scene:this.scene,editor:this.editor},()=>this._unstable_videoExportInactivityTimeout),"getInternalCanvas"in n?(this.#c=n.getInternalCanvas(),this.#u=n):this.#c=n,this.#l=new cd(this),this.#f(),"undefined"!=typeof window&&window.Cypress&&(this.config=i,this.legacyAPI=this.#p)}addPlugin(t){if(t.initialize){let n={engine:{asset:this.asset,block:this.block,scene:this.scene,editor:this.editor,event:this.event,variable:this.variable}};t.initialize(n)}}unstable_setVideoExportInactivityTimeout(t){this._unstable_videoExportInactivityTimeout=t}_unstable_videoExportInactivityTimeout=1e4;#m(){if(!this.#u)return;let t=this.#u.getInternalCanvas(),n=t.getBoundingClientRect();if(0===n.width||0===n.height)return;let i="undefined"!=typeof window?window.devicePixelRatio:1,r=n.width*i,s=n.height*i;t.width!==r&&(t.width=r),t.height!==s&&(t.height=s)}#g(){let{width:t,height:n}=this.#c,i="undefined"!=typeof window?window.devicePixelRatio:1,{height:r,width:s,pixelRatio:o}=this.#l.settings.value();if(!cW(s,t,1e-4)||!cW(r,n,1e-4)||!cW(o,i,1e-4)){this.#l.settings.update({height:n,width:t,pixelRatio:i});let r=this.scene.get();if(!cW(o,i,1e-4)&&null!==r&&!1===this.scene.isZoomAutoFitEnabled(r)){let t=this.scene.getZoomLevel();this.scene.setZoomLevel(i/o*t)}}}#x=[];#y=[];addPostUpdateCallback(t){return this.#x.push(t),()=>{let n=this.#x.indexOf(t);-1!==n&&this.#x.splice(n,1)}}addPreUpdateCallback(t){return this.#y.push(t),()=>{let n=this.#y.indexOf(t);-1!==n&&this.#y.splice(n,1)}}#v;#f(t=!0){this.#b(t),this.#A()}#b(t=!0){let n,i=0;if(this.#v)return;let r=()=>{this.#v=requestAnimationFrame(r);try{this.#w(t),i=0}catch(t){throw++i>=10&&(console.error("Repeated exceptions in update loop. Stopping loop."),n?.(),this.#C()),t}};this.#v=requestAnimationFrame(r)}#A(){var t,n;let i;if(t=this.#c,!("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement))return;let r=this.#u??this.#c,s=this.#w.bind(this,!1),o=[function(t,n,i){let r=[],s=i=>{if("touch"===i.pointerType)return;let r=cR(t,i);n.execute("ubq/inputs/mousemove",r)},o=s=>{if("touch"===s.pointerType)return;let o={...cR(t,s),button:cD(s.button),state:0,shiftIsHeld:!!s.shiftKey};r[s.button]=!1,s.currentTarget.releasePointerCapture(s.pointerId),n.execute("ubq/inputs/mousebutton",o),i()},a=i=>{if("touch"===i.pointerType)return;let s={...cR(t,i),button:cD(i.button),state:1,shiftIsHeld:!!i.shiftKey};r[i.button]=!0,i.currentTarget.setPointerCapture(i.pointerId),n.execute("ubq/inputs/mousebutton",s)},l=i=>{if("touch"===i.pointerType)return;let s={...cR(t,i),shiftIsHeld:!!i.shiftKey};r.forEach((t,i)=>{if(t){let t={...s,button:i,state:0};n.execute("ubq/inputs/mousebutton",t)}}),r.length=0},c=t=>{t.cancelable&&t.preventDefault()};return t.addEventListener("pointerdown",a),t.addEventListener("pointerup",o),t.addEventListener("pointercancel",o),t.addEventListener("pointermove",s),t.addEventListener("lostpointercapture",l),t.addEventListener("touchmove",c,{passive:!1}),()=>{t.removeEventListener("pointerdown",a),t.removeEventListener("pointerup",o),t.removeEventListener("pointercancel",o),t.removeEventListener("pointermove",s),t.removeEventListener("lostpointercapture",l),t.removeEventListener("touchmove",c),t=null}}(r,this.#p,s),this.#d.initialize(r),cP(r,this.#p,this.#e,this.editor,s),(n=this.editor).onStateChanged(()=>{let t=function(t,n){switch(t){case"Arrow":return"default";case"Move":return"move";case"MoveNotPermitted":return"auto";case"Resize":{let t=180*n/Math.PI+45;if(!c_&&!cC)return`url("data:image/svg+xml,%3Csvg style='transform: rotate(${t}deg)' width ='22' height ='22' viewBox ='0 0 22 22' fill ='none' xmlns ='http://www.w3.org/2000/svg'%3E%3Cg filter ='url(%23filter0_d)'%3E%3Cpath d ='M13.7 11.1L9.7 15.2L12.5 18H4V9.5L6.9 12.3L10.9 8.3L12.3 6.9L9.5 4H18V12.5L15.2 9.7L13.7 11.1Z' fill ='white'/%3E%3C/g%3E%3Cpath d ='M12.7 10.7L8.3 15.2L10.1 17H5V11.9L6.9 13.8L11.3 9.3L13.8 6.9L11.9 5H17V10.1L15.2 8.3L12.7 10.7Z' fill ='black'/%3E%3Cdefs%3E%3Cfilter id ='filter0_d' x ='0' y ='0' width ='22' height ='22' filterUnits ='userSpaceOnUse' color-interpolation-filters ='sRGB'%3E%3CfeFlood flood-opacity ='0' result ='BackgroundImageFix'/%3E%3CfeColorMatrix in ='SourceAlpha' type ='matrix' values ='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3E%3CfeOffset/%3E%3CfeGaussianBlur stdDeviation ='2'/%3E%3CfeColorMatrix type ='matrix' values ='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0'/%3E%3CfeBlend mode ='normal' in2 ='BackgroundImageFix' result ='effect1_dropShadow'/%3E%3CfeBlend mode ='normal' in ='SourceGraphic' in2 ='effect1_dropShadow' result ='shape'/%3E%3C/filter%3E%3C/defs%3E%3C/svg%3E") 12 12, pointer`;switch(t){case 90:case 270:return"nwse-resize";case 135:case 315:return"ns-resize";case 180:case 360:return"nesw-resize";case 225:return"ew-resize";default:return"move"}}case"Rotate":return'url("data:image/svg+xml,%3Csvg width=%2722%27 height=%2725%27 viewBox=%270 0 22 25%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cg filter=%27url(%23filter0_d)%27%3E%3Cpath d=%27M18 11.1071C18 14.5637 15.5566 17.4515 12.3314 18.0846V20L7.20308 17.0145L12.3314 14.0289V15.7825C14.3292 15.1951 15.7946 13.3221 15.7946 11.107C15.7946 8.42285 13.6437 6.23908 11 6.23908C8.35629 6.23908 6.20542 8.42285 6.20542 11.107C6.20542 11.8299 6.35745 12.5252 6.65738 13.1736L4.66118 14.1255C4.22245 13.1771 4 12.1616 4 11.1071C4.00007 7.18825 7.1403 4 11.0001 4C14.8599 4 18 7.18825 18 11.1071Z%27 fill=%27black%27/%3E%3Cpath d=%27M12.8314 15.0559V14.0289V13.1593L12.0799 13.5968L6.95152 16.5824L6.20927 17.0145L6.95152 17.4466L12.0799 20.4321L12.8314 20.8696V20V18.4841C16.0889 17.6521 18.5 14.6573 18.5 11.1071C18.5 6.9193 15.1431 3.5 11.0001 3.5C6.85702 3.5 3.50008 6.91929 3.5 11.1071V11.1071C3.5 12.2334 3.73793 13.3206 4.20739 14.3354L4.41978 14.7946L4.8764 14.5768L6.8726 13.6249L7.31866 13.4122L7.11118 12.9637C6.84206 12.3819 6.70542 11.7584 6.70542 11.107C6.70542 8.69181 8.63956 6.73908 11 6.73908C13.3604 6.73908 15.2946 8.69181 15.2946 11.107C15.2946 12.8513 14.2837 14.3564 12.8314 15.0559Z%27 stroke=%27white%27/%3E%3C/g%3E%3Cdefs%3E%3Cfilter id=%27filter0_d%27 x=%270.0599999%27 y=%270.0599999%27 width=%2721.88%27 height=%2724.6193%27 filterUnits=%27userSpaceOnUse%27 color-interpolation-filters=%27sRGB%27%3E%3CfeFlood flood-opacity=%270%27 result=%27BackgroundImageFix%27/%3E%3CfeColorMatrix in=%27SourceAlpha%27 type=%27matrix%27 values=%270 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0%27/%3E%3CfeOffset/%3E%3CfeGaussianBlur stdDeviation=%271.47%27/%3E%3CfeColorMatrix type=%27matrix%27 values=%270 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0%27/%3E%3CfeBlend mode=%27normal%27 in2=%27BackgroundImageFix%27 result=%27effect1_dropShadow%27/%3E%3CfeBlend mode=%27normal%27 in=%27SourceGraphic%27 in2=%27effect1_dropShadow%27 result=%27shape%27/%3E%3C/filter%3E%3C/defs%3E%3C/svg%3E") 12 12, pointer';case"Text":return"text";default:return"auto"}}(n.getCursorType(),n.getCursorRotation());if(t!==i){i=t;let n=new CustomEvent("cesdk-cursor",{composed:!0,bubbles:!0,cancelable:!0,detail:t});r.dispatchEvent(n)&&r.style.setProperty("cursor",t)}}),function(t,n,i){let r=[],s=new cz;r.push(s.listen(t)),r.push(s.addListener(r=>{"button"in r?(n.execute("ubq/inputs/mousebutton",cq(t,r)),i.update()):n.execute("ubq/inputs/mousemove",cq(t,r))}));let o=new cU;r.push(o.listen(t)),r.push(o.addListener(i=>{n.execute("ubq/inputs/touchpan",cq(t,i))}));let a=new cQ;r.push(a.listen(t)),r.push(a.addListener(i=>{n.execute("ubq/inputs/touchpinch",cq(t,i))}));let l=new cG;return r.push(l.listen(t)),r.push(l.addListener(i=>{n.execute("ubq/inputs/touchrotate",cq(t,i))})),()=>{r.forEach(t=>t())}}(r,this.#p,this.#e),function(t,n,i){let r=t=>{tG(n.setContext("")),t.preventDefault()},s=t=>{tG(n.setContext("!canvas")),i&&i(),t.preventDefault()};return t.addEventListener("webglcontextlost",r,!1),t.addEventListener("webglcontextrestored",s,!1),()=>{t.removeEventListener("webglcontextlost",r),t.removeEventListener("webglcontextrestored",s)}}(this.#c,this.#e,()=>{this.#c.width=this.#c.width}),function(t,n){let i;let r=new Set;function s(){let r=window.devicePixelRatio,{width:o,height:a}=t.getBoundingClientRect();n(o*r,a*r,r),(i=matchMedia(`(resolution: ${r}dppx)`)).addEventListener("change",s,{once:!0})}s();let o=new ResizeObserver(function([t]){let{width:i,height:s}=t.target.getBoundingClientRect();if(i<=0||s<=0)return;let o=window.devicePixelRatio,a=setTimeout(function(){r.delete(a),n(i*o,s*o,o)},0);r.add(a)});return o.observe(t),()=>{for(let t of(i.removeEventListener("change",s),o.disconnect(),r))clearTimeout(t);r.clear(),t=null,n=null}}(r,this.#_)];this.#S=()=>{o.reverse().forEach(t=>t())}}setWheelEventTarget(t){return this.#d.setTarget(t)}#_=(0,tQ.default)((function(){this.#w()}).bind(this),100,{leading:!0,trailing:!1});#S;#C(){this.#S?.(),this.#S=void 0,this.#v&&(cancelAnimationFrame(this.#v),this.#v=0)}#w(t=!0){for(let t of this.#y)t();for(let n of(t&&1===this.block.findByType("scene").length&&this.#k(),this.#m(),this.#g(),this.#e.update(),this.#x))n()}#k(){if(this.#l.clampCamera){let t={sceneSize:{x:0,y:0},scrollPercentage:{x:NaN,y:NaN}};this.#p.execute("cesdk/clampCameraAndRender",{horizontalPaddingInPixels:this._camera.viewportPadding.value().x,verticalPaddingInPixels:this._camera.viewportPadding.value().y}).then(t=>{(0,tz.default)(this.#l.clampResult.value(),t)||this.#l.clampResult.update(t)},()=>{(0,tz.default)(this.#l.clampResult.value(),t)||this.#l.clampResult.update(t)})}else this.#p.execute("ubq/render")}get element(){return this.#u}dispose(){this.#h.forEach(t=>t()),this.#C(),this.asset.dispose(),this.#c=null,this.#u?.dispose(),this.#u=void 0,this.block=null,this.scene=null,this.variable=null,this.asset=null,this.editor=null,this.event=null,this.#x.length=0,this.#p.dispose(),this.#p=null,this.#e.delete(),this.#e=null}static async init(t,n){let i,r=function(t,n){if(i(n?.canvas))return n?.canvas;if(i(t))return console.warn("Passing an existing HTMLCanvasElement as a second parameter to CreativeEngine.init() is deprecated. Use the element property on the CreativeEngine instance to access a fully managed canvas to append into the DOM instead. For more information, have a look into our documentation at https://img.ly/docs/cesdk/next/engine/quickstart/#initialization."),t;function i(t){return"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement}}(n,t),s="6e964ac9b2a",o="1.39.0";if(s||o){let t=["[CreativeEngine]"];o&&t.push(`v${o}`),s&&t.push(`Revision ${s}`),console.log(t.join(" "))}r||(customElements.get("cesdk-canvas")||customElements.define("cesdk-canvas",class extends HTMLElement{#c;constructor(){super(),this.#c=document.createElement("canvas");let t=document.createElement("style");t.textContent=":host {display: block; width: 100%; height: 100%; contain: content;} canvas {position: absolute; inset: 0; width: 100%; height:100%; display: block; touch-action: none;}",this.attachShadow({mode:"closed"}).append(t,this.#c)}getInternalCanvas(){if(!this.#c)throw Error("Internal canvas element is undefined");return this.#c}dispose(){this.#c?.remove(),this.#c=void 0}clear(){if(!this.#c)return;let t=this.#c.width;this.#c.width=1,this.#c.width=t}}),r=(i=document.createElement("cesdk-canvas")).getInternalCanvas());let a=function(t={}){let n={...t,license:t.license??"",baseURL:t.baseURL??"https://cdn.img.ly/packages/imgly/cesdk-engine/1.39.0/assets",core:t.core??{baseURL:"core/"},logger:t.logger??cp,presets:t.presets??{}};return n.baseURL=ch(n.baseURL),n.core.baseURL=ch(n.core.baseURL,n.baseURL),n}(t?cy.reduce((t,n)=>n.migrateConfigObject?n.migrateConfigObject(t):t,t):t);if(!0!==t?._skipConfigWarnings)for(let n of t?cy.flatMap(n=>{let i=n.warnKeys?.(t);return"string"==typeof i?[i]:i??[]}):[])a.logger(n,"Warning");let l=new this(await cM(r,a),i??r,a);return function(t,n,i){if(n)for(let r of t)r.applyFallback?.(n,i)}(cy,a,l),l}async addDefaultAssetSources({baseURL:t="https://cdn.img.ly/assets/v3",excludeAssetSourceIds:n=[]}={}){return l2(this.asset,t,n)}async addDemoAssetSources({baseURL:t="https://cdn.img.ly/assets/demo/v2",excludeAssetSourceIds:n=[],sceneMode:i="Design",withUploadAssetSources:r=!1}={}){return l4(this.asset,this.scene,n,i,r,void 0,t)}get _camera(){return this.#l}get _legacyApi(){return this.#p}};(TQ=TH||(TH={})).combineLatest=cs,TQ.fan=ct,TQ.makeSource=l8,TQ.map=l7,TQ.memo=ce,TQ.merge=ci,TQ.pipe=cn,TQ.startWith=l9,TQ.switchAll=cr;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/var c2=i(7577),c3=i(4623),c5=i.n(c3),c4=i(5746);function c6(){return(c6=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}let c8=t=>c4.createElement("svg",c6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),Tz||(Tz=c4.createElement("path",{stroke:"#121A21",strokeLinecap:"square",strokeLinejoin:"round",strokeOpacity:.9,d:"M12.5 9.5v3h-3M6.5 3.5h-3v3",opacity:.75})),TG||(TG=c4.createElement("path",{fill:"#121A21",fillOpacity:.9,fillRule:"evenodd",d:"M6.5 14H7v-1H4.06l2.97-2.97-1.06-1.06L3 11.94V9H2v4.5a.5.5 0 0 0 .5.5zM14 6.5V7h-1V4.06l-2.97 2.97-1.06-1.06L11.94 3H9V2h4.5a.5.5 0 0 1 .5.5zM13 3",clipRule:"evenodd"})));function c7(){return(c7=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}let c9=t=>c4.createElement("svg",c7({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t),Tq||(Tq=c4.createElement("path",{stroke:"#121A21",strokeLinecap:"square",strokeLinejoin:"round",strokeOpacity:.9,d:"M14.5 17.5v-3h3M6.5 9.5h3v-3",opacity:.75})),TW||(TW=c4.createElement("path",{fill:"#121A21",fillOpacity:.9,fillRule:"evenodd",d:"M17.5 11h.5v-1h-2.94l2.97-2.97-1.06-1.06L14 8.94V6h-1v4.5a.5.5 0 0 0 .5.5zM11 17.5v.5h-1v-2.94l-2.97 2.97-1.06-1.06L8.94 14H6v-1h4.5a.5.5 0 0 1 .5.5zM10 14",clipRule:"evenodd"}))),ue=(t,n)=>"method"!==n.kind||!n.descriptor||"value"in n.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(i){i.createProperty(n.key,t)}}:{...n,finisher(i){i.createProperty(n.key,t)}};function ut(t){return(n,i)=>void 0!==i?((t,n,i)=>{n.constructor.createProperty(i,t)})(t,n,i):ue(t,n)}null!=(null===(T$=window.HTMLSlotElement)||void 0===T$?void 0:T$.prototype.assignedElements)||((t,n)=>t.assignedNodes(n).filter(t=>t.nodeType===Node.ELEMENT_NODE));let un="srgb",ui="srgb-linear",ur="display-p3",us="300 es";class uo{addEventListener(t,n){void 0===this._listeners&&(this._listeners={});let i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(n)&&i[t].push(n)}hasEventListener(t,n){if(void 0===this._listeners)return!1;let i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(n)}removeEventListener(t,n){if(void 0===this._listeners)return;let i=this._listeners[t];if(void 0!==i){let t=i.indexOf(n);-1!==t&&i.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;let n=this._listeners[t.type];if(void 0!==n){t.target=this;let i=n.slice(0);for(let n=0,r=i.length;n<r;n++)i[n].call(this,t);t.target=null}}}let ua=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],ul=Math.PI/180,uc=180/Math.PI;function uu(){let t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ua[255&t]+ua[t>>8&255]+ua[t>>16&255]+ua[t>>24&255]+"-"+ua[255&n]+ua[n>>8&255]+"-"+ua[n>>16&15|64]+ua[n>>24&255]+"-"+ua[63&i|128]+ua[i>>8&255]+"-"+ua[i>>16&255]+ua[i>>24&255]+ua[255&r]+ua[r>>8&255]+ua[r>>16&255]+ua[r>>24&255]).toLowerCase()}function ud(t,n,i){return Math.max(n,Math.min(i,t))}function up(t){return(t&t-1)==0&&0!==t}function uh(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function uf(t,n){switch(n.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw Error("Invalid component type.")}}function um(t,n){switch(n.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw Error("Invalid component type.")}}let ug={degToRad:function(t){return t*ul},radToDeg:function(t){return t*uc},normalize:um};class ux{constructor(t=0,n=0){ux.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let n=this.x,i=this.y,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){let n=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===n?Math.PI/2:Math.acos(ud(this.dot(t)/n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){let i=Math.cos(n),r=Math.sin(n),s=this.x-t.x,o=this.y-t.y;return this.x=s*i-o*r+t.x,this.y=s*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class uy{constructor(){uy.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,n,i,r,s,o,a,l,c){let u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){let n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){let n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){let i=t.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],h=i[5],f=i[8],m=r[0],g=r[3],x=r[6],y=r[1],v=r[4],b=r[7],A=r[2],w=r[5],C=r[8];return s[0]=o*m+a*y+l*A,s[3]=o*g+a*v+l*w,s[6]=o*x+a*b+l*C,s[1]=c*m+u*y+d*A,s[4]=c*g+u*v+d*w,s[7]=c*x+u*b+d*C,s[2]=p*m+h*y+f*A,s[5]=p*g+h*v+f*w,s[8]=p*x+h*b+f*C,this}multiplyScalar(t){let n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){let t=this.elements,n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){let t=this.elements,n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*o-a*c,p=a*l-u*s,h=c*s-o*l,f=n*d+i*p+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let m=1/f;return t[0]=d*m,t[1]=(r*c-u*i)*m,t[2]=(a*i-r*o)*m,t[3]=p*m,t[4]=(u*n-r*l)*m,t[5]=(r*s-a*n)*m,t[6]=h*m,t[7]=(i*l-c*n)*m,t[8]=(o*n-i*s)*m,this}transpose(){let t;let n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){let n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,r,s,o,a){let l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(t,n){return this.premultiply(uv.makeScale(t,n)),this}rotate(t){return this.premultiply(uv.makeRotation(-t)),this}translate(t,n){return this.premultiply(uv.makeTranslation(t,n)),this}makeTranslation(t,n){return this.set(1,0,t,0,1,n,0,0,1),this}makeRotation(t){let n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(t,n){return this.set(t,0,0,0,n,0,0,0,1),this}equals(t){let n=this.elements,i=t.elements;for(let t=0;t<9;t++)if(n[t]!==i[t])return!1;return!0}fromArray(t,n=0){for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){let i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}let uv=new uy;function ub(t){for(let n=t.length-1;n>=0;--n)if(t[n]>=65535)return!0;return!1}function uA(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function uw(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function uC(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let u_=new uy().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-.0000001,1e-7,.9105199]),uS=new uy().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),uk={[ui]:t=>t,[un]:t=>t.convertSRGBToLinear(),[ur]:function(t){return t.convertSRGBToLinear().applyMatrix3(uS)}},uE={[ui]:t=>t,[un]:t=>t.convertLinearToSRGB(),[ur]:function(t){return t.applyMatrix3(u_).convertLinearToSRGB()}},uM={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(legacyMode){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!legacyMode},get workingColorSpace(){return ui},set workingColorSpace(colorSpace){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,n,i){if(!1===this.enabled||n===i||!n||!i)return t;let r=uk[n],s=uE[i];if(void 0===r||void 0===s)throw Error(`Unsupported color space conversion, "${n}" to "${i}".`);return s(r(t))},fromWorkingColorSpace:function(t,n){return this.convert(t,this.workingColorSpace,n)},toWorkingColorSpace:function(t,n){return this.convert(t,n,this.workingColorSpace)}};class uI{static getDataURL(t){let n;if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)n=t;else{void 0===r&&(r=uA("canvas")),r.width=t.width,r.height=t.height;let i=r.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),n=r}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){let n=uA("canvas");n.width=t.width,n.height=t.height;let i=n.getContext("2d");i.drawImage(t,0,0,t.width,t.height);let r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let t=0;t<s.length;t++)s[t]=255*uw(s[t]/255);return i.putImageData(r,0,0),n}if(!t.data)return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t;{let n=t.data.slice(0);for(let t=0;t<n.length;t++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[t]=Math.floor(255*uw(n[t]/255)):n[t]=uw(n[t]);return{data:n,width:t.width,height:t.height}}}}class uT{constructor(t=null){this.isSource=!0,this.uuid=uu(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){let n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.images[this.uuid])return t.images[this.uuid];let i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let n=0,i=r.length;n<i;n++)r[n].isDataTexture?t.push(uB(r[n].image)):t.push(uB(r[n]))}else t=uB(r);i.url=t}return n||(t.images[this.uuid]=i),i}}function uB(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?uI.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uL=0;class uj extends uo{constructor(t=uj.DEFAULT_IMAGE,n=uj.DEFAULT_MAPPING,i=1001,r=1001,s=1006,o=1008,a=1023,l=1009,c=uj.DEFAULT_ANISOTROPY,u=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uL++}),this.uuid=uu(),this.name="",this.source=new uT(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ux(0,0),this.repeat=new ux(1,1),this.center=new ux(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new uy,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){let n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];let i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}uj.DEFAULT_IMAGE=null,uj.DEFAULT_MAPPING=300,uj.DEFAULT_ANISOTROPY=1;class uP{constructor(t=0,n=0,i=0,r=1){uP.prototype.isVector4=!0,this.x=t,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let n=this.x,i=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,r,s;let o=t.elements,a=o[0],l=o[4],c=o[8],u=o[1],d=o[5],p=o[9],h=o[2],f=o[6],m=o[10];if(.01>Math.abs(l-u)&&.01>Math.abs(c-h)&&.01>Math.abs(p-f)){if(.1>Math.abs(l+u)&&.1>Math.abs(c+h)&&.1>Math.abs(p+f)&&.1>Math.abs(a+d+m-3))return this.set(1,0,0,0),this;n=Math.PI;let t=(a+1)/2,o=(d+1)/2,g=(m+1)/2,x=(l+u)/4,y=(c+h)/4,v=(p+f)/4;return t>o&&t>g?t<.01?(i=0,r=.707106781,s=.707106781):(r=x/(i=Math.sqrt(t)),s=y/i):o>g?o<.01?(i=.707106781,r=0,s=.707106781):(i=x/(r=Math.sqrt(o)),s=v/r):g<.01?(i=.707106781,r=.707106781,s=0):(i=y/(s=Math.sqrt(g)),r=v/s),this.set(i,r,s,n),this}let g=Math.sqrt((f-p)*(f-p)+(c-h)*(c-h)+(u-l)*(u-l));return .001>Math.abs(g)&&(g=1),this.x=(f-p)/g,this.y=(c-h)/g,this.z=(u-l)/g,this.w=Math.acos((a+d+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class uR extends uo{constructor(t=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=n,this.depth=1,this.scissor=new uP(0,0,t,n),this.scissorTest=!1,this.viewport=new uP(0,0,t,n),this.texture=new uj({width:t,height:n,depth:1},i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:1006,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,n,i=1){(this.width!==t||this.height!==n||this.depth!==i)&&(this.width=t,this.height=n,this.depth=i,this.texture.image.width=t,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;let n=Object.assign({},t.texture.image);return this.texture.source=new uT(n),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class uD extends uj{constructor(t=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:n,height:i,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uF extends uj{constructor(t=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:n,height:i,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uO{constructor(t=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}static slerpFlat(t,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3],p=s[o+0],h=s[o+1],f=s[o+2],m=s[o+3];if(0===a){t[n+0]=l,t[n+1]=c,t[n+2]=u,t[n+3]=d;return}if(1===a){t[n+0]=p,t[n+1]=h,t[n+2]=f,t[n+3]=m;return}if(d!==m||l!==p||c!==h||u!==f){let t=1-a,n=l*p+c*h+u*f+d*m,i=n>=0?1:-1,r=1-n*n;if(r>Number.EPSILON){let s=Math.sqrt(r),o=Math.atan2(s,n*i);t=Math.sin(t*o)/s,a=Math.sin(a*o)/s}let s=a*i;if(l=l*t+p*s,c=c*t+h*s,u=u*t+f*s,d=d*t+m*s,t===1-a){let t=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=t,c*=t,u*=t,d*=t}}t[n]=l,t[n+1]=c,t[n+2]=u,t[n+3]=d}static multiplyQuaternionsFlat(t,n,i,r,s,o){let a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],h=s[o+2],f=s[o+3];return t[n]=a*f+u*d+l*h-c*p,t[n+1]=l*f+u*p+c*d-a*h,t[n+2]=c*f+u*h+a*p-l*d,t[n+3]=u*f-a*d-l*p-c*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){let i=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),h=l(r/2),f=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*h*f,this._y=c*h*d-p*u*f,this._z=c*u*f+p*h*d,this._w=c*u*d-p*h*f;break;case"YXZ":this._x=p*u*d+c*h*f,this._y=c*h*d-p*u*f,this._z=c*u*f-p*h*d,this._w=c*u*d+p*h*f;break;case"ZXY":this._x=p*u*d-c*h*f,this._y=c*h*d+p*u*f,this._z=c*u*f+p*h*d,this._w=c*u*d-p*h*f;break;case"ZYX":this._x=p*u*d-c*h*f,this._y=c*h*d+p*u*f,this._z=c*u*f-p*h*d,this._w=c*u*d+p*h*f;break;case"YZX":this._x=p*u*d+c*h*f,this._y=c*h*d+p*u*f,this._z=c*u*f-p*h*d,this._w=c*u*d-p*h*f;break;case"XZY":this._x=p*u*d-c*h*f,this._y=c*h*d-p*u*f,this._z=c*u*f+p*h*d,this._w=c*u*d+p*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==n&&this._onChangeCallback(),this}setFromAxisAngle(t,n){let i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){let n=t.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],p=i+a+d;if(p>0){let t=.5/Math.sqrt(p+1);this._w=.25/t,this._x=(u-l)*t,this._y=(s-c)*t,this._z=(o-r)*t}else if(i>a&&i>d){let t=2*Math.sqrt(1+i-a-d);this._w=(u-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+c)/t}else if(a>d){let t=2*Math.sqrt(1+a-i-d);this._w=(s-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+u)/t}else{let t=2*Math.sqrt(1+d-i-a);this._w=(o-r)/t,this._x=(s+c)/t,this._y=(l+u)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let i=t.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x),this._w=i,this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ud(this.dot(t),-1,1)))}rotateTowards(t,n){let i=this.angleTo(t);return 0===i||this.slerp(t,Math.min(1,n/i)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){let i=t._x,r=t._y,s=t._z,o=t._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,n){if(0===n)return this;if(1===n)return this.copy(t);let i=this._x,r=this._y,s=this._z,o=this._w,a=o*t._w+i*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;let l=1-a*a;if(l<=Number.EPSILON){let t=1-n;return this._w=t*o+n*this._w,this._x=t*i+n*this._x,this._y=t*r+n*this._y,this._z=t*s+n*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(t,n,i){return this.copy(t).slerp(n,i)}random(){let t=Math.random(),n=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class uN{constructor(t=0,n=0,i=0){uN.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}set(t,n,i){return void 0===i&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(uV.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(uV.setFromAxisAngle(t,n))}applyMatrix3(t){let n=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let n=this.x,i=this.y,r=this.z,s=t.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(t){let n=this.x,i=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=l*n+o*r-a*i,u=l*i+a*n-s*r,d=l*r+s*i-o*n,p=-s*n-o*i-a*r;return this.x=c*l+-(p*s)+-(u*a)- -(d*o),this.y=u*l+-(p*o)+-(d*s)- -(c*a),this.z=d*l+-(p*a)+-(c*o)- -(u*s),this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let n=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){let i=t.x,r=t.y,s=t.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(t){let n=t.lengthSq();if(0===n)return this.set(0,0,0);let i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return uU.copy(this).projectOnVector(t),this.sub(uU)}reflect(t){return this.sub(uU.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let n=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===n?Math.PI/2:Math.acos(ud(this.dot(t)/n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){let r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){let n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){let n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,4*n)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,3*n)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}let uU=new uN,uV=new uO;class uH{constructor(t=new uN(Infinity,Infinity,Infinity),n=new uN(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n+=3)this.expandByPoint(uz.fromArray(t,n));return this}setFromBufferAttribute(t){this.makeEmpty();for(let n=0,i=t.count;n<i;n++)this.expandByPoint(uz.fromBufferAttribute(t,n));return this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){let i=uz.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,n=!1){if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),uG.copy(t.boundingBox),uG.applyMatrix4(t.matrixWorld),this.union(uG);else{let i=t.geometry;if(void 0!==i){if(n&&void 0!==i.attributes&&void 0!==i.attributes.position){let n=i.attributes.position;for(let i=0,r=n.count;i<r;i++)uz.fromBufferAttribute(n,i).applyMatrix4(t.matrixWorld),this.expandByPoint(uz)}else null===i.boundingBox&&i.computeBoundingBox(),uG.copy(i.boundingBox),uG.applyMatrix4(t.matrixWorld),this.union(uG)}}let i=t.children;for(let t=0,r=i.length;t<r;t++)this.expandByObject(i[t],n);return this}containsPoint(t){return!(t.x<this.min.x)&&!(t.x>this.max.x)&&!(t.y<this.min.y)&&!(t.y>this.max.y)&&!(t.z<this.min.z)&&!(t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x)&&!(t.min.x>this.max.x)&&!(t.max.y<this.min.y)&&!(t.min.y>this.max.y)&&!(t.max.z<this.min.z)&&!(t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,uz),uz.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(uX),uJ.subVectors(this.max,uX),uq.subVectors(t.a,uX),uW.subVectors(t.b,uX),u$.subVectors(t.c,uX),uZ.subVectors(uW,uq),uY.subVectors(u$,uW),uK.subVectors(uq,u$);let n=[0,-uZ.z,uZ.y,0,-uY.z,uY.y,0,-uK.z,uK.y,uZ.z,0,-uZ.x,uY.z,0,-uY.x,uK.z,0,-uK.x,-uZ.y,uZ.x,0,-uY.y,uY.x,0,-uK.y,uK.x,0];return!!(u2(n,uq,uW,u$,uJ)&&u2(n=[1,0,0,0,1,0,0,0,1],uq,uW,u$,uJ))&&(u0.crossVectors(uZ,uY),u2(n=[u0.x,u0.y,u0.z],uq,uW,u$,uJ))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,uz).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(uz).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(uQ[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),uQ[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),uQ[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),uQ[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),uQ[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),uQ[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),uQ[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),uQ[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(uQ)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}let uQ=[new uN,new uN,new uN,new uN,new uN,new uN,new uN,new uN],uz=new uN,uG=new uH,uq=new uN,uW=new uN,u$=new uN,uZ=new uN,uY=new uN,uK=new uN,uX=new uN,uJ=new uN,u0=new uN,u1=new uN;function u2(t,n,i,r,s){for(let o=0,a=t.length-3;o<=a;o+=3){u1.fromArray(t,o);let a=s.x*Math.abs(u1.x)+s.y*Math.abs(u1.y)+s.z*Math.abs(u1.z),l=n.dot(u1),c=i.dot(u1),u=r.dot(u1);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}let u3=new uH,u5=new uN,u4=new uN;class u6{constructor(t=new uN,n=-1){this.center=t,this.radius=n}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){let i=this.center;void 0!==n?i.copy(n):u3.setFromPoints(t).getCenter(i);let r=0;for(let n=0,s=t.length;n<s;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){let i=this.center.distanceToSquared(t);return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return this.isEmpty()?t.makeEmpty():(t.set(this.center,this.center),t.expandByScalar(this.radius)),t}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;u5.subVectors(t,this.center);let n=u5.lengthSq();if(n>this.radius*this.radius){let t=Math.sqrt(n),i=(t-this.radius)*.5;this.center.addScaledVector(u5,i/t),this.radius+=i}return this}union(t){return t.isEmpty()||(this.isEmpty()?this.copy(t):!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(u4.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(u5.copy(t.center).add(u4)),this.expandByPoint(u5.copy(t.center).sub(u4)))),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}let u8=new uN,u7=new uN,u9=new uN,de=new uN,dt=new uN,dn=new uN,di=new uN;class dr{constructor(t=new uN,n=new uN(0,0,-1)){this.origin=t,this.direction=n}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,u8)),this}closestPointToPoint(t,n){n.subVectors(t,this.origin);let i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){let n=u8.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(u8.copy(this.origin).addScaledVector(this.direction,n),u8.distanceToSquared(t))}distanceSqToSegment(t,n,i,r){let s,o,a,l;u7.copy(t).add(n).multiplyScalar(.5),u9.copy(n).sub(t).normalize(),de.copy(this.origin).sub(u7);let c=.5*t.distanceTo(n),u=-this.direction.dot(u9),d=de.dot(this.direction),p=-de.dot(u9),h=de.lengthSq(),f=Math.abs(1-u*u);if(f>0){if(s=u*p-d,o=u*d-p,l=c*f,s>=0){if(o>=-l){if(o<=l){let t=1/f;s*=t,o*=t,a=s*(s+u*o+2*d)+o*(u*s+o+2*p)+h}else a=-(s=Math.max(0,-(u*(o=c)+d)))*s+o*(o+2*p)+h}else a=-(s=Math.max(0,-(u*(o=-c)+d)))*s+o*(o+2*p)+h}else o<=-l?(o=(s=Math.max(0,-(-u*c+d)))>0?-c:Math.min(Math.max(-c,-p),c),a=-s*s+o*(o+2*p)+h):o<=l?(s=0,a=(o=Math.min(Math.max(-c,-p),c))*(o+2*p)+h):(o=(s=Math.max(0,-(u*c+d)))>0?c:Math.min(Math.max(-c,-p),c),a=-s*s+o*(o+2*p)+h)}else o=u>0?-c:c,a=-(s=Math.max(0,-(u*o+d)))*s+o*(o+2*p)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,s),r&&r.copy(u7).addScaledVector(u9,o),a}intersectSphere(t,n){u8.subVectors(t.center,this.origin);let i=u8.dot(this.direction),r=u8.dot(u8)-i*i,s=t.radius*t.radius;if(r>s)return null;let o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){let n=t.normal.dot(this.direction);if(0===n)return 0===t.distanceToPoint(this.origin)?0:null;let i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){let i=this.distanceToPlane(t);return null===i?null:this.at(i,n)}intersectsPlane(t){let n=t.distanceToPoint(this.origin);return!!(0===n||t.normal.dot(this.direction)*n<0)}intersectBox(t,n){let i,r,s,o,a,l;let c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return(c>=0?(i=(t.min.x-p.x)*c,r=(t.max.x-p.x)*c):(i=(t.max.x-p.x)*c,r=(t.min.x-p.x)*c),u>=0?(s=(t.min.y-p.y)*u,o=(t.max.y-p.y)*u):(s=(t.max.y-p.y)*u,o=(t.min.y-p.y)*u),i>o||s>r)?null:((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(t.min.z-p.z)*d,l=(t.max.z-p.z)*d):(a=(t.max.z-p.z)*d,l=(t.min.z-p.z)*d),i>l||a>r)?null:((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(t){return null!==this.intersectBox(t,u8)}intersectTriangle(t,n,i,r,s){let o;dt.subVectors(n,t),dn.subVectors(i,t),di.crossVectors(dt,dn);let a=this.direction.dot(di);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}de.subVectors(this.origin,t);let l=o*this.direction.dot(dn.crossVectors(de,dn));if(l<0)return null;let c=o*this.direction.dot(dt.cross(de));if(c<0||l+c>a)return null;let u=-o*de.dot(di);return u<0?null:this.at(u/a,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ds{constructor(){ds.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,i,r,s,o,a,l,c,u,d,p,h,f,m,g){let x=this.elements;return x[0]=t,x[4]=n,x[8]=i,x[12]=r,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=p,x[3]=h,x[7]=f,x[11]=m,x[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ds().fromArray(this.elements)}copy(t){let n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){let n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(t){let n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){let n=this.elements,i=t.elements,r=1/da.setFromMatrixColumn(t,0).length(),s=1/da.setFromMatrixColumn(t,1).length(),o=1/da.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){let n=this.elements,i=t.x,r=t.y,s=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===t.order){let t=o*u,i=o*d,r=a*u,s=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=i+r*c,n[5]=t-s*c,n[9]=-a*l,n[2]=s-t*c,n[6]=r+i*c,n[10]=o*l}else if("YXZ"===t.order){let t=l*u,i=l*d,r=c*u,s=c*d;n[0]=t+s*a,n[4]=r*a-i,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=i*a-r,n[6]=s+t*a,n[10]=o*l}else if("ZXY"===t.order){let t=l*u,i=l*d,r=c*u,s=c*d;n[0]=t-s*a,n[4]=-o*d,n[8]=r+i*a,n[1]=i+r*a,n[5]=o*u,n[9]=s-t*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if("ZYX"===t.order){let t=o*u,i=o*d,r=a*u,s=a*d;n[0]=l*u,n[4]=r*c-i,n[8]=t*c+s,n[1]=l*d,n[5]=s*c+t,n[9]=i*c-r,n[2]=-c,n[6]=a*l,n[10]=o*l}else if("YZX"===t.order){let t=o*l,i=o*c,r=a*l,s=a*c;n[0]=l*u,n[4]=s-t*d,n[8]=r*d+i,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=i*d+r,n[10]=t-s*d}else if("XZY"===t.order){let t=o*l,i=o*c,r=a*l,s=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=t*d+s,n[5]=o*u,n[9]=i*d-r,n[2]=r*d-i,n[6]=a*u,n[10]=s*d+t}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(dc,t,du)}lookAt(t,n,i){let r=this.elements;return dh.subVectors(t,n),0===dh.lengthSq()&&(dh.z=1),dh.normalize(),dd.crossVectors(i,dh),0===dd.lengthSq()&&(1===Math.abs(i.z)?dh.x+=1e-4:dh.z+=1e-4,dh.normalize(),dd.crossVectors(i,dh)),dd.normalize(),dp.crossVectors(dh,dd),r[0]=dd.x,r[4]=dp.x,r[8]=dh.x,r[1]=dd.y,r[5]=dp.y,r[9]=dh.y,r[2]=dd.z,r[6]=dp.z,r[10]=dh.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){let i=t.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],h=i[13],f=i[2],m=i[6],g=i[10],x=i[14],y=i[3],v=i[7],b=i[11],A=i[15],w=r[0],C=r[4],_=r[8],S=r[12],k=r[1],E=r[5],M=r[9],I=r[13],T=r[2],B=r[6],L=r[10],j=r[14],P=r[3],R=r[7],D=r[11],F=r[15];return s[0]=o*w+a*k+l*T+c*P,s[4]=o*C+a*E+l*B+c*R,s[8]=o*_+a*M+l*L+c*D,s[12]=o*S+a*I+l*j+c*F,s[1]=u*w+d*k+p*T+h*P,s[5]=u*C+d*E+p*B+h*R,s[9]=u*_+d*M+p*L+h*D,s[13]=u*S+d*I+p*j+h*F,s[2]=f*w+m*k+g*T+x*P,s[6]=f*C+m*E+g*B+x*R,s[10]=f*_+m*M+g*L+x*D,s[14]=f*S+m*I+g*j+x*F,s[3]=y*w+v*k+b*T+A*P,s[7]=y*C+v*E+b*B+A*R,s[11]=y*_+v*M+b*L+A*D,s[15]=y*S+v*I+b*j+A*F,this}multiplyScalar(t){let n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){let t=this.elements,n=t[0],i=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],u=t[2],d=t[6],p=t[10],h=t[14],f=t[3];return f*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*h-i*l*h)+t[7]*(+n*l*h-n*c*p+s*o*p-r*o*h+r*c*u-s*l*u)+t[11]*(+n*c*d-n*a*h-s*o*d+i*o*h+s*a*u-i*c*u)+t[15]*(-r*a*u-n*l*d+n*a*p+r*o*d-i*o*p+i*l*u)}transpose(){let t;let n=this.elements;return t=n[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this}setPosition(t,n,i){let r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){let t=this.elements,n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],p=t[10],h=t[11],f=t[12],m=t[13],g=t[14],x=t[15],y=d*g*c-m*p*c+m*l*h-a*g*h-d*l*x+a*p*x,v=f*p*c-u*g*c-f*l*h+o*g*h+u*l*x-o*p*x,b=u*m*c-f*d*c+f*a*h-o*m*h-u*a*x+o*d*x,A=f*d*l-u*m*l-f*a*p+o*m*p+u*a*g-o*d*g,w=n*y+i*v+r*b+s*A;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let C=1/w;return t[0]=y*C,t[1]=(m*p*s-d*g*s-m*r*h+i*g*h+d*r*x-i*p*x)*C,t[2]=(a*g*s-m*l*s+m*r*c-i*g*c-a*r*x+i*l*x)*C,t[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*h-i*l*h)*C,t[4]=v*C,t[5]=(u*g*s-f*p*s+f*r*h-n*g*h-u*r*x+n*p*x)*C,t[6]=(f*l*s-o*g*s-f*r*c+n*g*c+o*r*x-n*l*x)*C,t[7]=(o*p*s-u*l*s+u*r*c-n*p*c-o*r*h+n*l*h)*C,t[8]=b*C,t[9]=(f*d*s-u*m*s-f*i*h+n*m*h+u*i*x-n*d*x)*C,t[10]=(o*m*s-f*a*s+f*i*c-n*m*c-o*i*x+n*a*x)*C,t[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*h-n*a*h)*C,t[12]=A*C,t[13]=(u*m*r-f*d*r+f*i*p-n*m*p-u*i*g+n*d*g)*C,t[14]=(f*a*r-o*m*r-f*i*l+n*m*l+o*i*g-n*a*g)*C,t[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*p+n*a*p)*C,this}scale(t){let n=this.elements,i=t.x,r=t.y,s=t.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){let t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){let n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){let n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){let n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){let i=Math.cos(n),r=Math.sin(n),s=1-i,o=t.x,a=t.y,l=t.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i,r,s,o){return this.set(1,i,s,0,t,1,o,0,n,r,1,0,0,0,0,1),this}compose(t,n,i){let r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,p=s*c,h=s*u,f=s*d,m=o*u,g=o*d,x=a*d,y=l*c,v=l*u,b=l*d,A=i.x,w=i.y,C=i.z;return r[0]=(1-(m+x))*A,r[1]=(h+b)*A,r[2]=(f-v)*A,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(p+x))*w,r[6]=(g+y)*w,r[7]=0,r[8]=(f+v)*C,r[9]=(g-y)*C,r[10]=(1-(p+m))*C,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){let r=this.elements,s=da.set(r[0],r[1],r[2]).length(),o=da.set(r[4],r[5],r[6]).length(),a=da.set(r[8],r[9],r[10]).length();0>this.determinant()&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],dl.copy(this);let l=1/s,c=1/o,u=1/a;return dl.elements[0]*=l,dl.elements[1]*=l,dl.elements[2]*=l,dl.elements[4]*=c,dl.elements[5]*=c,dl.elements[6]*=c,dl.elements[8]*=u,dl.elements[9]*=u,dl.elements[10]*=u,n.setFromRotationMatrix(dl),i.x=s,i.y=o,i.z=a,this}makePerspective(t,n,i,r,s,o){let a=this.elements;return a[0]=2*s/(n-t),a[4]=0,a[8]=(n+t)/(n-t),a[12]=0,a[1]=0,a[5]=2*s/(i-r),a[9]=(i+r)/(i-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+s)/(o-s),a[14]=-2*o*s/(o-s),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,n,i,r,s,o){let a=this.elements,l=1/(n-t),c=1/(i-r),u=1/(o-s);return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-((n+t)*l),a[1]=0,a[5]=2*c,a[9]=0,a[13]=-((i+r)*c),a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-((o+s)*u),a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){let n=this.elements,i=t.elements;for(let t=0;t<16;t++)if(n[t]!==i[t])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){let i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}let da=new uN,dl=new ds,dc=new uN(0,0,0),du=new uN(1,1,1),dd=new uN,dp=new uN,dh=new uN,df=new ds,dm=new uO;class dg{constructor(t=0,n=0,i=0,r=dg.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,r=this._order){return this._x=t,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,i=!0){let r=t.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],h=r[10];switch(n){case"XYZ":this._y=Math.asin(ud(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ud(u,-1,1)),.9999999>Math.abs(u)?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(ud(p,-1,1)),.9999999>Math.abs(p)?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ud(d,-1,1)),.9999999>Math.abs(d)?(this._x=Math.atan2(p,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ud(l,-1,1)),.9999999>Math.abs(l)?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-ud(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return df.makeRotationFromQuaternion(t),this.setFromRotationMatrix(df,n,i)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return dm.setFromEuler(this),this.setFromQuaternion(dm,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}dg.DEFAULT_ORDER="XYZ";class dx{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!=0}isEnabled(t){return(this.mask&(1<<t|0))!=0}}let dy=0,dv=new uN,db=new uO,dA=new ds,dw=new uN,dC=new uN,d_=new uN,dS=new uO,dk=new uN(1,0,0),dE=new uN(0,1,0),dM=new uN(0,0,1),dI={type:"added"},dT={type:"removed"};class dB extends uo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dy++}),this.uuid=uu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dB.DEFAULT_UP.clone();let t=new uN,n=new dg,i=new uO,r=new uN(1,1,1);n._onChange(function(){i.setFromEuler(n,!1)}),i._onChange(function(){n.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ds},normalMatrix:{value:new uy}}),this.matrix=new ds,this.matrixWorld=new ds,this.matrixAutoUpdate=dB.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=dB.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new dx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return db.setFromAxisAngle(t,n),this.quaternion.multiply(db),this}rotateOnWorldAxis(t,n){return db.setFromAxisAngle(t,n),this.quaternion.premultiply(db),this}rotateX(t){return this.rotateOnAxis(dk,t)}rotateY(t){return this.rotateOnAxis(dE,t)}rotateZ(t){return this.rotateOnAxis(dM,t)}translateOnAxis(t,n){return dv.copy(t).applyQuaternion(this.quaternion),this.position.add(dv.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(dk,t)}translateY(t){return this.translateOnAxis(dE,t)}translateZ(t){return this.translateOnAxis(dM,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(dA.copy(this.matrixWorld).invert())}lookAt(t,n,i){t.isVector3?dw.copy(t):dw.set(t,n,i);let r=this.parent;this.updateWorldMatrix(!0,!1),dC.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dA.lookAt(dC,dw,this.up):dA.lookAt(dw,dC,this.up),this.quaternion.setFromRotationMatrix(dA),r&&(dA.extractRotation(r.matrixWorld),db.setFromRotationMatrix(dA),this.quaternion.premultiply(db.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(dI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}let n=this.children.indexOf(t);return -1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(dT)),this}removeFromParent(){let t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){let n=this.children[t];n.parent=null,n.dispatchEvent(dT)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),dA.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),dA.multiply(t.parent.matrixWorld)),t.applyMatrix4(dA),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let i=0,r=this.children.length;i<r;i++){let r=this.children[i].getObjectByProperty(t,n);if(void 0!==r)return r}}getObjectsByProperty(t,n){let i=[];this[t]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){let s=this.children[r].getObjectsByProperty(t,n);s.length>0&&(i=i.concat(s))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dC,t,d_),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dC,dS,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);let n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);let n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(t)}traverseAncestors(t){let n=this.parent;null!==n&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);let n=this.children;for(let i=0,r=n.length;i<r;i++){let r=n[i];(!0===r.matrixWorldAutoUpdate||!0===t)&&r.updateMatrixWorld(t)}}updateWorldMatrix(t,n){let i=this.parent;if(!0===t&&null!==i&&!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){let t=this.children;for(let n=0,i=t.length;n<i;n++){let i=t[n];!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!1,!0)}}}toJSON(t){let n=void 0===t||"string"==typeof t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let r={};function s(n,i){return void 0===n[i.uuid]&&(n[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(t.geometries,this.geometry);let n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes){let i=n.shapes;if(Array.isArray(i))for(let n=0,r=i.length;n<r;n++){let r=i[n];s(t.shapes,r)}else s(t.shapes,i)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material){if(Array.isArray(this.material)){let n=[];for(let i=0,r=this.material.length;i<r;i++)n.push(s(t.materials,this.material[i]));r.material=n}else r.material=s(t.materials,this.material)}if(this.children.length>0){r.children=[];for(let n=0;n<this.children.length;n++)r.children.push(this.children[n].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let n=0;n<this.animations.length;n++){let i=this.animations[n];r.animations.push(s(t.animations,i))}}if(n){let n=o(t.geometries),r=o(t.materials),s=o(t.textures),a=o(t.images),l=o(t.shapes),c=o(t.skeletons),u=o(t.animations),d=o(t.nodes);n.length>0&&(i.geometries=n),r.length>0&&(i.materials=r),s.length>0&&(i.textures=s),a.length>0&&(i.images=a),l.length>0&&(i.shapes=l),c.length>0&&(i.skeletons=c),u.length>0&&(i.animations=u),d.length>0&&(i.nodes=d)}return i.object=r,i;function o(t){let n=[];for(let i in t){let r=t[i];delete r.metadata,n.push(r)}return n}}clone(t){return new this.constructor().copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===n)for(let n=0;n<t.children.length;n++){let i=t.children[n];this.add(i.clone())}return this}}dB.DEFAULT_UP=new uN(0,1,0),dB.DEFAULT_MATRIX_AUTO_UPDATE=!0,dB.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let dL=new uN,dj=new uN,dP=new uN,dR=new uN,dD=new uN,dF=new uN,dO=new uN,dN=new uN,dU=new uN,dV=new uN,dH=!1;class dQ{constructor(t=new uN,n=new uN,i=new uN){this.a=t,this.b=n,this.c=i}static getNormal(t,n,i,r){r.subVectors(i,n),dL.subVectors(t,n),r.cross(dL);let s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,n,i,r,s){dL.subVectors(r,n),dj.subVectors(i,n),dP.subVectors(t,n);let o=dL.dot(dL),a=dL.dot(dj),l=dL.dot(dP),c=dj.dot(dj),u=dj.dot(dP),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);let p=1/d,h=(c*l-a*u)*p,f=(o*u-a*l)*p;return s.set(1-h-f,f,h)}static containsPoint(t,n,i,r){return this.getBarycoord(t,n,i,r,dR),dR.x>=0&&dR.y>=0&&dR.x+dR.y<=1}static getUV(t,n,i,r,s,o,a,l){return!1===dH&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dH=!0),this.getInterpolation(t,n,i,r,s,o,a,l)}static getInterpolation(t,n,i,r,s,o,a,l){return this.getBarycoord(t,n,i,r,dR),l.setScalar(0),l.addScaledVector(s,dR.x),l.addScaledVector(o,dR.y),l.addScaledVector(a,dR.z),l}static isFrontFacing(t,n,i,r){return dL.subVectors(i,n),dj.subVectors(t,n),0>dL.cross(dj).dot(r)}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,r){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,n,i,r){return this.a.fromBufferAttribute(t,n),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return dL.subVectors(this.c,this.b),dj.subVectors(this.a,this.b),.5*dL.cross(dj).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return dQ.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return dQ.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,r,s){return!1===dH&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),dH=!0),dQ.getInterpolation(t,this.a,this.b,this.c,n,i,r,s)}getInterpolation(t,n,i,r,s){return dQ.getInterpolation(t,this.a,this.b,this.c,n,i,r,s)}containsPoint(t){return dQ.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return dQ.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){let i,r;let s=this.a,o=this.b,a=this.c;dD.subVectors(o,s),dF.subVectors(a,s),dN.subVectors(t,s);let l=dD.dot(dN),c=dF.dot(dN);if(l<=0&&c<=0)return n.copy(s);dU.subVectors(t,o);let u=dD.dot(dU),d=dF.dot(dU);if(u>=0&&d<=u)return n.copy(o);let p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return i=l/(l-u),n.copy(s).addScaledVector(dD,i);dV.subVectors(t,a);let h=dD.dot(dV),f=dF.dot(dV);if(f>=0&&h<=f)return n.copy(a);let m=h*c-l*f;if(m<=0&&c>=0&&f<=0)return r=c/(c-f),n.copy(s).addScaledVector(dF,r);let g=u*f-h*d;if(g<=0&&d-u>=0&&h-f>=0)return dO.subVectors(a,o),r=(d-u)/(d-u+(h-f)),n.copy(o).addScaledVector(dO,r);let x=1/(g+m+p);return i=m*x,r=p*x,n.copy(s).addScaledVector(dD,i).addScaledVector(dF,r)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let dz=0;class dG extends uo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dz++}),this.uuid=uu(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(let n in t){let i=t[n];if(void 0===i){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}let r=this[n];if(void 0===r){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(t){let n=void 0===t||"string"==typeof t;n&&(t={textures:{},images:{}});let i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){let n=[];for(let i in t){let r=t[i];delete r.metadata,n.push(r)}return n}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),n){let n=r(t.textures),s=r(t.images);n.length>0&&(i.textures=n),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;let n=t.clippingPlanes,i=null;if(null!==n){let t=n.length;i=Array(t);for(let r=0;r!==t;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}let dq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dW={h:0,s:0,l:0},d$={h:0,s:0,l:0};function dZ(t,n,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?t+(n-t)*6*i:i<.5?n:i<2/3?t+(n-t)*6*(2/3-i):t}class dY{constructor(t,n,i){if(this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i)return this.set(t);return this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=un){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,uM.toWorkingColorSpace(this,n),this}setRGB(t,n,i,r=uM.workingColorSpace){return this.r=t,this.g=n,this.b=i,uM.toWorkingColorSpace(this,r),this}setHSL(t,n,i,r=uM.workingColorSpace){if(t=(t%1+1)%1,n=ud(n,0,1),i=ud(i,0,1),0===n)this.r=this.g=this.b=i;else{let r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=dZ(s,r,t+1/3),this.g=dZ(s,r,t),this.b=dZ(s,r,t-1/3)}return uM.toWorkingColorSpace(this,r),this}setStyle(t,n=un){let i;function r(n){void 0!==n&&1>parseFloat(n)&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;let o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,uM.toWorkingColorSpace(this,n),r(s[4]);break}(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))&&(this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,uM.toWorkingColorSpace(this,n),r(s[4]));break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let t=parseFloat(s[1])/360,i=parseFloat(s[2])/100,o=parseFloat(s[3])/100;return r(s[4]),this.setHSL(t,i,o,n)}break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){let r=i[1],s=r.length;if(3===s)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===s)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}setColorName(t,n=un){let i=dq[t.toLowerCase()];return void 0!==i?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=uw(t.r),this.g=uw(t.g),this.b=uw(t.b),this}copyLinearToSRGB(t){return this.r=uC(t.r),this.g=uC(t.g),this.b=uC(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=un){return uM.fromWorkingColorSpace(dK.copy(this),t),ud(255*dK.r,0,255)<<16^ud(255*dK.g,0,255)<<8^ud(255*dK.b,0,255)<<0}getHexString(t=un){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=uM.workingColorSpace){let i,r;uM.fromWorkingColorSpace(dK.copy(this),n);let s=dK.r,o=dK.g,a=dK.b,l=Math.max(s,o,a),c=Math.min(s,o,a),u=(c+l)/2;if(c===l)i=0,r=0;else{let t=l-c;switch(r=u<=.5?t/(l+c):t/(2-l-c),l){case s:i=(o-a)/t+(o<a?6:0);break;case o:i=(a-s)/t+2;break;case a:i=(s-o)/t+4}i/=6}return t.h=i,t.s=r,t.l=u,t}getRGB(t,n=uM.workingColorSpace){return uM.fromWorkingColorSpace(dK.copy(this),n),t.r=dK.r,t.g=dK.g,t.b=dK.b,t}getStyle(t=un){uM.fromWorkingColorSpace(dK.copy(this),t);let n=dK.r,i=dK.g,r=dK.b;return t!==un?`color(${t} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${255*n|0},${255*i|0},${255*r|0})`}offsetHSL(t,n,i){return this.getHSL(dW),dW.h+=t,dW.s+=n,dW.l+=i,this.setHSL(dW.h,dW.s,dW.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,i){return this.r=t.r+(n.r-t.r)*i,this.g=t.g+(n.g-t.g)*i,this.b=t.b+(n.b-t.b)*i,this}lerpHSL(t,n){var i,r,s;this.getHSL(dW),t.getHSL(d$);let o=(i=dW.h,(1-n)*i+n*d$.h),a=(r=dW.s,(1-n)*r+n*d$.s),l=(s=dW.l,(1-n)*s+n*d$.l);return this.setHSL(o,a,l),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){let n=this.r,i=this.g,r=this.b,s=t.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let dK=new dY;dY.NAMES=dq;class dX extends dG{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dY(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}let dJ=function(){let t=new ArrayBuffer(4),n=new Float32Array(t),i=new Uint32Array(t),r=new Uint32Array(512),s=new Uint32Array(512);for(let t=0;t<256;++t){let n=t-127;n<-27?(r[t]=0,r[256|t]=32768,s[t]=24,s[256|t]=24):n<-14?(r[t]=1024>>-n-14,r[256|t]=1024>>-n-14|32768,s[t]=-n-1,s[256|t]=-n-1):n<=15?(r[t]=n+15<<10,r[256|t]=n+15<<10|32768,s[t]=13,s[256|t]=13):n<128?(r[t]=31744,r[256|t]=64512,s[t]=24,s[256|t]=24):(r[t]=31744,r[256|t]=64512,s[t]=13,s[256|t]=13)}let o=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let t=1;t<1024;++t){let n=t<<13,i=0;for(;(8388608&n)==0;)n<<=1,i-=8388608;n&=-8388609,i+=947912704,o[t]=n|i}for(let t=1024;t<2048;++t)o[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)a[t]=t<<23;a[31]=1199570944,a[32]=2147483648;for(let t=33;t<63;++t)a[t]=2147483648+(t-32<<23);a[63]=3347054592;for(let t=1;t<64;++t)32!==t&&(l[t]=1024);return{floatView:n,uint32View:i,baseTable:r,shiftTable:s,mantissaTable:o,exponentTable:a,offsetTable:l}}(),d0={toHalfFloat:function(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ud(t,-65504,65504),dJ.floatView[0]=t;let n=dJ.uint32View[0],i=n>>23&511;return dJ.baseTable[i]+((8388607&n)>>dJ.shiftTable[i])}},d1=new uN,d2=new ux;class d3{constructor(t,n,i=!1){if(Array.isArray(t))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,n,i){t*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=n.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let n=0,i=this.count;n<i;n++)d2.fromBufferAttribute(this,n),d2.applyMatrix3(t),this.setXY(n,d2.x,d2.y);else if(3===this.itemSize)for(let n=0,i=this.count;n<i;n++)d1.fromBufferAttribute(this,n),d1.applyMatrix3(t),this.setXYZ(n,d1.x,d1.y,d1.z);return this}applyMatrix4(t){for(let n=0,i=this.count;n<i;n++)d1.fromBufferAttribute(this,n),d1.applyMatrix4(t),this.setXYZ(n,d1.x,d1.y,d1.z);return this}applyNormalMatrix(t){for(let n=0,i=this.count;n<i;n++)d1.fromBufferAttribute(this,n),d1.applyNormalMatrix(t),this.setXYZ(n,d1.x,d1.y,d1.z);return this}transformDirection(t){for(let n=0,i=this.count;n<i;n++)d1.fromBufferAttribute(this,n),d1.transformDirection(t),this.setXYZ(n,d1.x,d1.y,d1.z);return this}set(t,n=0){return this.array.set(t,n),this}getX(t){let n=this.array[t*this.itemSize];return this.normalized&&(n=uf(n,this.array)),n}setX(t,n){return this.normalized&&(n=um(n,this.array)),this.array[t*this.itemSize]=n,this}getY(t){let n=this.array[t*this.itemSize+1];return this.normalized&&(n=uf(n,this.array)),n}setY(t,n){return this.normalized&&(n=um(n,this.array)),this.array[t*this.itemSize+1]=n,this}getZ(t){let n=this.array[t*this.itemSize+2];return this.normalized&&(n=uf(n,this.array)),n}setZ(t,n){return this.normalized&&(n=um(n,this.array)),this.array[t*this.itemSize+2]=n,this}getW(t){let n=this.array[t*this.itemSize+3];return this.normalized&&(n=uf(n,this.array)),n}setW(t,n){return this.normalized&&(n=um(n,this.array)),this.array[t*this.itemSize+3]=n,this}setXY(t,n,i){return t*=this.itemSize,this.normalized&&(n=um(n,this.array),i=um(i,this.array)),this.array[t+0]=n,this.array[t+1]=i,this}setXYZ(t,n,i,r){return t*=this.itemSize,this.normalized&&(n=um(n,this.array),i=um(i,this.array),r=um(r,this.array)),this.array[t+0]=n,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,n,i,r,s){return t*=this.itemSize,this.normalized&&(n=um(n,this.array),i=um(i,this.array),r=um(r,this.array),s=um(s,this.array)),this.array[t+0]=n,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class d5 extends d3{constructor(t,n,i){super(new Uint16Array(t),n,i)}}class d4 extends d3{constructor(t,n,i){super(new Uint32Array(t),n,i)}}class d6 extends d3{constructor(t,n,i){super(new Float32Array(t),n,i)}}let d8=0,d7=new ds,d9=new dB,pe=new uN,pt=new uH,pn=new uH,pi=new uN;class pr extends uo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:d8++}),this.uuid=uu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(ub(t)?d4:d5)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,n){return this.attributes[t]=n,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,n,i=0){this.groups.push({start:t,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}applyMatrix4(t){let n=this.attributes.position;void 0!==n&&(n.applyMatrix4(t),n.needsUpdate=!0);let i=this.attributes.normal;if(void 0!==i){let n=new uy().getNormalMatrix(t);i.applyNormalMatrix(n),i.needsUpdate=!0}let r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return d7.makeRotationFromQuaternion(t),this.applyMatrix4(d7),this}rotateX(t){return d7.makeRotationX(t),this.applyMatrix4(d7),this}rotateY(t){return d7.makeRotationY(t),this.applyMatrix4(d7),this}rotateZ(t){return d7.makeRotationZ(t),this.applyMatrix4(d7),this}translate(t,n,i){return d7.makeTranslation(t,n,i),this.applyMatrix4(d7),this}scale(t,n,i){return d7.makeScale(t,n,i),this.applyMatrix4(d7),this}lookAt(t){return d9.lookAt(t),d9.updateMatrix(),this.applyMatrix4(d9.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pe).negate(),this.translate(pe.x,pe.y,pe.z),this}setFromPoints(t){let n=[];for(let i=0,r=t.length;i<r;i++){let r=t[i];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new d6(n,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new uH);let t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new uN(-1/0,-1/0,-1/0),new uN(Infinity,Infinity,Infinity));return}if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),n)for(let t=0,i=n.length;t<i;t++){let i=n[t];pt.setFromBufferAttribute(i),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,pt.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,pt.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(pt.min),this.boundingBox.expandByPoint(pt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new u6);let t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new uN,1/0);return}if(t){let i=this.boundingSphere.center;if(pt.setFromBufferAttribute(t),n)for(let t=0,i=n.length;t<i;t++){let i=n[t];pn.setFromBufferAttribute(i),this.morphTargetsRelative?(pi.addVectors(pt.min,pn.min),pt.expandByPoint(pi),pi.addVectors(pt.max,pn.max),pt.expandByPoint(pi)):(pt.expandByPoint(pn.min),pt.expandByPoint(pn.max))}pt.getCenter(i);let r=0;for(let n=0,s=t.count;n<s;n++)pi.fromBufferAttribute(t,n),r=Math.max(r,i.distanceToSquared(pi));if(n)for(let s=0,o=n.length;s<o;s++){let o=n[s],a=this.morphTargetsRelative;for(let n=0,s=o.count;n<s;n++)pi.fromBufferAttribute(o,n),a&&(pe.fromBufferAttribute(t,n),pi.add(pe)),r=Math.max(r,i.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let t=this.index,n=this.attributes;if(null===t||void 0===n.position||void 0===n.normal||void 0===n.uv){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let i=t.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new d3(new Float32Array(4*a),4));let l=this.getAttribute("tangent").array,c=[],u=[];for(let t=0;t<a;t++)c[t]=new uN,u[t]=new uN;let d=new uN,p=new uN,h=new uN,f=new ux,m=new ux,g=new ux,x=new uN,y=new uN,v=this.groups;0===v.length&&(v=[{start:0,count:i.length}]);for(let t=0,n=v.length;t<n;++t){let n=v[t],s=n.start,a=n.count;for(let t=s,n=s+a;t<n;t+=3)!function(t,n,i){d.fromArray(r,3*t),p.fromArray(r,3*n),h.fromArray(r,3*i),f.fromArray(o,2*t),m.fromArray(o,2*n),g.fromArray(o,2*i),p.sub(d),h.sub(d),m.sub(f),g.sub(f);let s=1/(m.x*g.y-g.x*m.y);isFinite(s)&&(x.copy(p).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(s),y.copy(h).multiplyScalar(m.x).addScaledVector(p,-g.x).multiplyScalar(s),c[t].add(x),c[n].add(x),c[i].add(x),u[t].add(y),u[n].add(y),u[i].add(y))}(i[t+0],i[t+1],i[t+2])}let b=new uN,A=new uN,w=new uN,C=new uN;function _(t){w.fromArray(s,3*t),C.copy(w);let n=c[t];b.copy(n),b.sub(w.multiplyScalar(w.dot(n))).normalize(),A.crossVectors(C,n);let i=A.dot(u[t]);l[4*t]=b.x,l[4*t+1]=b.y,l[4*t+2]=b.z,l[4*t+3]=i<0?-1:1}for(let t=0,n=v.length;t<n;++t){let n=v[t],r=n.start,s=n.count;for(let t=r,n=r+s;t<n;t+=3)_(i[t+0]),_(i[t+1]),_(i[t+2])}}computeVertexNormals(){let t=this.index,n=this.getAttribute("position");if(void 0!==n){let i=this.getAttribute("normal");if(void 0===i)i=new d3(new Float32Array(3*n.count),3),this.setAttribute("normal",i);else for(let t=0,n=i.count;t<n;t++)i.setXYZ(t,0,0,0);let r=new uN,s=new uN,o=new uN,a=new uN,l=new uN,c=new uN,u=new uN,d=new uN;if(t)for(let p=0,h=t.count;p<h;p+=3){let h=t.getX(p+0),f=t.getX(p+1),m=t.getX(p+2);r.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),o.fromBufferAttribute(n,m),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,h),l.fromBufferAttribute(i,f),c.fromBufferAttribute(i,m),a.add(u),l.add(u),c.add(u),i.setXYZ(h,a.x,a.y,a.z),i.setXYZ(f,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let t=0,a=n.count;t<a;t+=3)r.fromBufferAttribute(n,t+0),s.fromBufferAttribute(n,t+1),o.fromBufferAttribute(n,t+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(t+0,u.x,u.y,u.z),i.setXYZ(t+1,u.x,u.y,u.z),i.setXYZ(t+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){let t=this.attributes.normal;for(let n=0,i=t.count;n<i;n++)pi.fromBufferAttribute(t,n),pi.normalize(),t.setXYZ(n,pi.x,pi.y,pi.z)}toNonIndexed(){function t(t,n){let i=t.array,r=t.itemSize,s=t.normalized,o=new i.constructor(n.length*r),a=0,l=0;for(let s=0,c=n.length;s<c;s++){a=t.isInterleavedBufferAttribute?n[s]*t.data.stride+t.offset:n[s]*r;for(let t=0;t<r;t++)o[l++]=i[a++]}return new d3(o,r,s)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let n=new pr,i=this.index.array,r=this.attributes;for(let s in r){let o=t(r[s],i);n.setAttribute(s,o)}let s=this.morphAttributes;for(let r in s){let o=[],a=s[r];for(let n=0,r=a.length;n<r;n++){let r=t(a[n],i);o.push(r)}n.morphAttributes[r]=o}n.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let t=0,i=o.length;t<i;t++){let i=o[t];n.addGroup(i.start,i.count,i.materialIndex)}return n}toJSON(){let t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){let n=this.parameters;for(let i in n)void 0!==n[i]&&(t[i]=n[i]);return t}t.data={attributes:{}};let n=this.index;null!==n&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});let i=this.attributes;for(let n in i){let r=i[n];t.data.attributes[n]=r.toJSON(t.data)}let r={},s=!1;for(let n in this.morphAttributes){let i=this.morphAttributes[n],o=[];for(let n=0,r=i.length;n<r;n++){let r=i[n];o.push(r.toJSON(t.data))}o.length>0&&(r[n]=o,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));let a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let n={};this.name=t.name;let i=t.index;null!==i&&this.setIndex(i.clone(n));let r=t.attributes;for(let t in r){let i=r[t];this.setAttribute(t,i.clone(n))}let s=t.morphAttributes;for(let t in s){let i=[],r=s[t];for(let t=0,s=r.length;t<s;t++)i.push(r[t].clone(n));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;let o=t.groups;for(let t=0,n=o.length;t<n;t++){let n=o[t];this.addGroup(n.start,n.count,n.materialIndex)}let a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());let l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}let ps=new ds,po=new dr,pa=new u6,pl=new uN,pc=new uN,pu=new uN,pd=new uN,pp=new uN,ph=new uN,pf=new ux,pm=new ux,pg=new ux,px=new uN,py=new uN,pv=new uN,pb=new uN,pA=new uN;class pw extends dB{constructor(t=new pr,n=new dX){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=i.length;t<n;t++){let n=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}getVertexPosition(t,n){let i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,t);let a=this.morphTargetInfluences;if(s&&a){ph.set(0,0,0);for(let i=0,r=s.length;i<r;i++){let r=a[i],l=s[i];0!==r&&(pp.fromBufferAttribute(l,t),o?ph.addScaledVector(pp,r):ph.addScaledVector(pp.sub(n),r))}n.add(ph)}return this.isSkinnedMesh&&this.applyBoneTransform(t,n),n}raycast(t,n){let i;let r=this.geometry,s=this.material,o=this.matrixWorld;if(void 0===s||(null===r.boundingSphere&&r.computeBoundingSphere(),pa.copy(r.boundingSphere),pa.applyMatrix4(o),po.copy(t.ray).recast(t.near),!1===pa.containsPoint(po.origin)&&(null===po.intersectSphere(pa,pl)||po.origin.distanceToSquared(pl)>(t.far-t.near)**2))||(ps.copy(o).invert(),po.copy(t.ray).applyMatrix4(ps),null!==r.boundingBox&&!1===po.intersectsBox(r.boundingBox)))return;let a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,d=r.attributes.normal,p=r.groups,h=r.drawRange;if(null!==a){if(Array.isArray(s))for(let r=0,o=p.length;r<o;r++){let o=p[r],l=s[o.materialIndex],f=Math.max(o.start,h.start),m=Math.min(a.count,Math.min(o.start+o.count,h.start+h.count));for(let r=f;r<m;r+=3)(i=pC(this,l,t,po,c,u,d,a.getX(r),a.getX(r+1),a.getX(r+2)))&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,n.push(i))}else{let r=Math.max(0,h.start),o=Math.min(a.count,h.start+h.count);for(let l=r;l<o;l+=3)(i=pC(this,s,t,po,c,u,d,a.getX(l),a.getX(l+1),a.getX(l+2)))&&(i.faceIndex=Math.floor(l/3),n.push(i))}}else if(void 0!==l){if(Array.isArray(s))for(let r=0,o=p.length;r<o;r++){let o=p[r],a=s[o.materialIndex],f=Math.max(o.start,h.start),m=Math.min(l.count,Math.min(o.start+o.count,h.start+h.count));for(let r=f;r<m;r+=3)(i=pC(this,a,t,po,c,u,d,r,r+1,r+2))&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,n.push(i))}else{let r=Math.max(0,h.start),o=Math.min(l.count,h.start+h.count);for(let a=r;a<o;a+=3)(i=pC(this,s,t,po,c,u,d,a,a+1,a+2))&&(i.faceIndex=Math.floor(a/3),n.push(i))}}}}function pC(t,n,i,r,s,o,a,l,c,u){t.getVertexPosition(l,pc),t.getVertexPosition(c,pu),t.getVertexPosition(u,pd);let d=function(t,n,i,r,s,o,a,l){if(null===(1===n.side?r.intersectTriangle(a,o,s,!0,l):r.intersectTriangle(s,o,a,0===n.side,l)))return null;pA.copy(l),pA.applyMatrix4(t.matrixWorld);let c=i.ray.origin.distanceTo(pA);return c<i.near||c>i.far?null:{distance:c,point:pA.clone(),object:t}}(t,n,i,r,pc,pu,pd,pb);if(d){s&&(pf.fromBufferAttribute(s,l),pm.fromBufferAttribute(s,c),pg.fromBufferAttribute(s,u),d.uv=dQ.getInterpolation(pb,pc,pu,pd,pf,pm,pg,new ux)),o&&(pf.fromBufferAttribute(o,l),pm.fromBufferAttribute(o,c),pg.fromBufferAttribute(o,u),d.uv2=dQ.getInterpolation(pb,pc,pu,pd,pf,pm,pg,new ux)),a&&(px.fromBufferAttribute(a,l),py.fromBufferAttribute(a,c),pv.fromBufferAttribute(a,u),d.normal=dQ.getInterpolation(pb,pc,pu,pd,px,py,pv,new uN),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));let t={a:l,b:c,c:u,normal:new uN,materialIndex:0};dQ.getNormal(pc,pu,pd,t.normal),d.face=t}return d}class p_ extends pr{constructor(t=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};let a=this;r=Math.floor(r),s=Math.floor(s);let l=[],c=[],u=[],d=[],p=0,h=0;function f(t,n,i,r,s,o,f,m,g,x,y){let v=o/g,b=f/x,A=o/2,w=f/2,C=m/2,_=g+1,S=x+1,k=0,E=0,M=new uN;for(let o=0;o<S;o++){let a=o*b-w;for(let l=0;l<_;l++){let p=l*v-A;M[t]=p*r,M[n]=a*s,M[i]=C,c.push(M.x,M.y,M.z),M[t]=0,M[n]=0,M[i]=m>0?1:-1,u.push(M.x,M.y,M.z),d.push(l/g),d.push(1-o/x),k+=1}}for(let t=0;t<x;t++)for(let n=0;n<g;n++){let i=p+n+_*t,r=p+n+_*(t+1),s=p+(n+1)+_*(t+1),o=p+(n+1)+_*t;l.push(i,r,o),l.push(r,s,o),E+=6}a.addGroup(h,E,y),h+=E,p+=k}f("z","y","x",-1,-1,i,n,t,o=Math.floor(o),s,0),f("z","y","x",1,-1,i,n,-t,o,s,1),f("x","z","y",1,1,t,i,n,r,o,2),f("x","z","y",1,-1,t,i,-n,r,o,3),f("x","y","z",1,-1,t,n,i,r,s,4),f("x","y","z",-1,-1,t,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new d6(c,3)),this.setAttribute("normal",new d6(u,3)),this.setAttribute("uv",new d6(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new p_(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function pS(t){let n={};for(let i in t)for(let r in n[i]={},t[i]){let s=t[i][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[i][r]=null):n[i][r]=s.clone():Array.isArray(s)?n[i][r]=s.slice():n[i][r]=s}return n}function pk(t){let n={};for(let i=0;i<t.length;i++){let r=pS(t[i]);for(let t in r)n[t]=r[t]}return n}function pE(t){return null===t.getRenderTarget()&&3001===t.outputEncoding?un:ui}let pM={clone:pS};class pI extends dG{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=pS(t.uniforms),this.uniformsGroups=function(t){let n=[];for(let i=0;i<t.length;i++)n.push(t[i].clone());return n}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){let n=super.toJSON(t);for(let i in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){let r=this.uniforms[i].value;r&&r.isTexture?n.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?n.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?n.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?n.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?n.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?n.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?n.uniforms[i]={type:"m4",value:r.toArray()}:n.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;let i={};for(let t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class pT extends dB{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ds,this.projectionMatrix=new ds,this.projectionMatrixInverse=new ds}copy(t,n){return super.copy(t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return t.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,n){super.updateWorldMatrix(t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class pB extends pT{constructor(t=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let n=.5*this.getFilmHeight()/t;this.fov=2*uc*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(.5*ul*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*uc*Math.atan(Math.tan(.5*ul*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,n,i,r,s,o){this.aspect=t/n,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,n=t*Math.tan(.5*ul*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){let t=o.fullWidth,a=o.fullHeight;s+=o.offsetX*r/t,n-=o.offsetY*i/a,r*=o.width/t,i*=o.height/a}let a=this.filmOffset;0!==a&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let n=super.toJSON(t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}class pL extends dB{constructor(t,n,i){super(),this.type="CubeCamera",this.renderTarget=i;let r=new pB(-90,1,t,n);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);let s=new pB(-90,1,t,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);let o=new pB(-90,1,t,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let a=new pB(-90,1,t,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);let l=new pB(-90,1,t,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);let c=new pB(-90,1,t,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(t,n){null===this.parent&&this.updateMatrixWorld();let i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=t.getRenderTarget(),d=t.toneMapping,p=t.xr.enabled;t.toneMapping=0,t.xr.enabled=!1;let h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(n,r),t.setRenderTarget(i,1),t.render(n,s),t.setRenderTarget(i,2),t.render(n,o),t.setRenderTarget(i,3),t.render(n,a),t.setRenderTarget(i,4),t.render(n,l),i.texture.generateMipmaps=h,t.setRenderTarget(i,5),t.render(n,c),t.setRenderTarget(u),t.toneMapping=d,t.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class pj extends uj{constructor(t,n,i,r,s,o,a,l,c,u){super(t=void 0!==t?t:[],n=void 0!==n?n:301,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class pP extends uR{constructor(t=1,n={}){super(t,t,n),this.isWebGLCubeRenderTarget=!0;let i={width:t,height:t,depth:1};this.texture=new pj([i,i,i,i,i,i],n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006}fromEquirectangularTexture(t,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new p_(5,5,5),s=new pI({name:"CubemapFromEquirect",uniforms:pS(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=n;let o=new pw(r,s),a=n.minFilter;return 1008===n.minFilter&&(n.minFilter=1006),new pL(1,10,this).update(t,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,n,i,r){let s=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(n,i,r);t.setRenderTarget(s)}}let pR=new uN,pD=new uN,pF=new uy;class pO{constructor(t=new uN(1,0,0),n=0){this.isPlane=!0,this.normal=t,this.constant=n}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,r){return this.normal.set(t,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){let r=pR.subVectors(i,n).cross(pD.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,n){let i=t.delta(pR),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?n.copy(t.start):null;let s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(t.start).addScaledVector(i,s)}intersectsLine(t){let n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){let i=n||pF.getNormalMatrix(t),r=this.coplanarPoint(pR).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}let pN=new u6,pU=new uN;class pV{constructor(t=new pO,n=new pO,i=new pO,r=new pO,s=new pO,o=new pO){this.planes=[t,n,i,r,s,o]}set(t,n,i,r,s,o){let a=this.planes;return a[0].copy(t),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(t){let n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){let n=this.planes,i=t.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],p=i[8],h=i[9],f=i[10],m=i[11],g=i[12],x=i[13],y=i[14],v=i[15];return n[0].setComponents(a-r,d-l,m-p,v-g).normalize(),n[1].setComponents(a+r,d+l,m+p,v+g).normalize(),n[2].setComponents(a+s,d+c,m+h,v+x).normalize(),n[3].setComponents(a-s,d-c,m-h,v-x).normalize(),n[4].setComponents(a-o,d-u,m-f,v-y).normalize(),n[5].setComponents(a+o,d+u,m+f,v+y).normalize(),this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),pN.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{let n=t.geometry;null===n.boundingSphere&&n.computeBoundingSphere(),pN.copy(n.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(pN)}intersectsSprite(t){return pN.center.set(0,0,0),pN.radius=.7071067811865476,pN.applyMatrix4(t.matrixWorld),this.intersectsSphere(pN)}intersectsSphere(t){let n=this.planes,i=t.center,r=-t.radius;for(let t=0;t<6;t++)if(n[t].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){let n=this.planes;for(let i=0;i<6;i++){let r=n[i];if(pU.x=r.normal.x>0?t.max.x:t.min.x,pU.y=r.normal.y>0?t.max.y:t.min.y,pU.z=r.normal.z>0?t.max.z:t.min.z,0>r.distanceToPoint(pU))return!1}return!0}containsPoint(t){let n=this.planes;for(let i=0;i<6;i++)if(0>n[i].distanceToPoint(t))return!1;return!0}clone(){return new this.constructor().copy(this)}}function pH(){let t=null,n=!1,i=null,r=null;function s(n,o){i(n,o),r=t.requestAnimationFrame(s)}return{start:function(){!0!==n&&null!==i&&(r=t.requestAnimationFrame(s),n=!0)},stop:function(){t.cancelAnimationFrame(r),n=!1},setAnimationLoop:function(t){i=t},setContext:function(n){t=n}}}function pQ(t,n){let i=n.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);let i=r.get(n);i&&(t.deleteBuffer(i.buffer),r.delete(n))},update:function(n,s){if(n.isGLBufferAttribute){let t=r.get(n);(!t||t.version<n.version)&&r.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version});return}n.isInterleavedBufferAttribute&&(n=n.data);let o=r.get(n);void 0===o?r.set(n,function(n,r){let s;let o=n.array,a=n.usage,l=t.createBuffer();if(t.bindBuffer(r,l),t.bufferData(r,o,a),n.onUploadCallback(),o instanceof Float32Array)s=5126;else if(o instanceof Uint16Array){if(n.isFloat16BufferAttribute){if(i)s=5131;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.")}else s=5123}else if(o instanceof Int16Array)s=5122;else if(o instanceof Uint32Array)s=5125;else if(o instanceof Int32Array)s=5124;else if(o instanceof Int8Array)s=5120;else if(o instanceof Uint8Array)s=5121;else if(o instanceof Uint8ClampedArray)s=5121;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);return{buffer:l,type:s,bytesPerElement:o.BYTES_PER_ELEMENT,version:n.version}}(n,s)):o.version<n.version&&(function(n,r,s){let o=r.array,a=r.updateRange;t.bindBuffer(s,n),-1===a.count?t.bufferSubData(s,0,o):(i?t.bufferSubData(s,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(s,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(o.buffer,n,s),o.version=n.version)}}}class pz extends pr{constructor(t=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r};let s=t/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=t/a,p=n/l,h=[],f=[],m=[],g=[];for(let t=0;t<u;t++){let n=t*p-o;for(let i=0;i<c;i++){let r=i*d-s;f.push(r,-n,0),m.push(0,0,1),g.push(i/a),g.push(1-t/l)}}for(let t=0;t<l;t++)for(let n=0;n<a;n++){let i=n+c*t,r=n+c*(t+1),s=n+1+c*(t+1),o=n+1+c*t;h.push(i,r,o),h.push(r,s,o)}this.setIndex(h),this.setAttribute("position",new d6(f,3)),this.setAttribute("normal",new d6(m,3)),this.setAttribute("uv",new d6(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new pz(t.width,t.height,t.widthSegments,t.heightSegments)}}let pG={alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif",map_fragment:"#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmission = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		\n		vec2 lodFudge = pow( 1.95, lod ) / fullSize;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec2 fullSize = vec2( textureSize( sampler, 0 ) );\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return radiance;\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n	}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_UV2\n	attribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}"},pq={common:{diffuse:{value:new dY(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new uy},alphaMap:{value:null},alphaMapTransform:{value:new uy},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new uy}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new uy}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new uy}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new uy},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new uy},normalScale:{value:new ux(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new uy},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new uy}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new uy}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new uy}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dY(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dY(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new uy}},sprite:{diffuse:{value:new dY(16777215)},opacity:{value:1},center:{value:new ux(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new uy},alphaMap:{value:null},alphaTest:{value:0}}},pW={basic:{uniforms:pk([pq.common,pq.specularmap,pq.envmap,pq.aomap,pq.lightmap,pq.fog]),vertexShader:pG.meshbasic_vert,fragmentShader:pG.meshbasic_frag},lambert:{uniforms:pk([pq.common,pq.specularmap,pq.envmap,pq.aomap,pq.lightmap,pq.emissivemap,pq.bumpmap,pq.normalmap,pq.displacementmap,pq.fog,pq.lights,{emissive:{value:new dY(0)}}]),vertexShader:pG.meshlambert_vert,fragmentShader:pG.meshlambert_frag},phong:{uniforms:pk([pq.common,pq.specularmap,pq.envmap,pq.aomap,pq.lightmap,pq.emissivemap,pq.bumpmap,pq.normalmap,pq.displacementmap,pq.fog,pq.lights,{emissive:{value:new dY(0)},specular:{value:new dY(1118481)},shininess:{value:30}}]),vertexShader:pG.meshphong_vert,fragmentShader:pG.meshphong_frag},standard:{uniforms:pk([pq.common,pq.envmap,pq.aomap,pq.lightmap,pq.emissivemap,pq.bumpmap,pq.normalmap,pq.displacementmap,pq.roughnessmap,pq.metalnessmap,pq.fog,pq.lights,{emissive:{value:new dY(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pG.meshphysical_vert,fragmentShader:pG.meshphysical_frag},toon:{uniforms:pk([pq.common,pq.aomap,pq.lightmap,pq.emissivemap,pq.bumpmap,pq.normalmap,pq.displacementmap,pq.gradientmap,pq.fog,pq.lights,{emissive:{value:new dY(0)}}]),vertexShader:pG.meshtoon_vert,fragmentShader:pG.meshtoon_frag},matcap:{uniforms:pk([pq.common,pq.bumpmap,pq.normalmap,pq.displacementmap,pq.fog,{matcap:{value:null}}]),vertexShader:pG.meshmatcap_vert,fragmentShader:pG.meshmatcap_frag},points:{uniforms:pk([pq.points,pq.fog]),vertexShader:pG.points_vert,fragmentShader:pG.points_frag},dashed:{uniforms:pk([pq.common,pq.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pG.linedashed_vert,fragmentShader:pG.linedashed_frag},depth:{uniforms:pk([pq.common,pq.displacementmap]),vertexShader:pG.depth_vert,fragmentShader:pG.depth_frag},normal:{uniforms:pk([pq.common,pq.bumpmap,pq.normalmap,pq.displacementmap,{opacity:{value:1}}]),vertexShader:pG.meshnormal_vert,fragmentShader:pG.meshnormal_frag},sprite:{uniforms:pk([pq.sprite,pq.fog]),vertexShader:pG.sprite_vert,fragmentShader:pG.sprite_frag},background:{uniforms:{uvTransform:{value:new uy},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pG.background_vert,fragmentShader:pG.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:pG.backgroundCube_vert,fragmentShader:pG.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pG.cube_vert,fragmentShader:pG.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pG.equirect_vert,fragmentShader:pG.equirect_frag},distanceRGBA:{uniforms:pk([pq.common,pq.displacementmap,{referencePosition:{value:new uN},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pG.distanceRGBA_vert,fragmentShader:pG.distanceRGBA_frag},shadow:{uniforms:pk([pq.lights,pq.fog,{color:{value:new dY(0)},opacity:{value:1}}]),vertexShader:pG.shadow_vert,fragmentShader:pG.shadow_frag}};pW.physical={uniforms:pk([pW.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new uy},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new uy},clearcoatNormalScale:{value:new ux(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new uy},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new uy},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new uy},sheen:{value:0},sheenColor:{value:new dY(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new uy},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new uy},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new uy},transmissionSamplerSize:{value:new ux},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new uy},attenuationDistance:{value:0},attenuationColor:{value:new dY(0)},specularColor:{value:new dY(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new uy},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new uy}}]),vertexShader:pG.meshphysical_vert,fragmentShader:pG.meshphysical_frag};let p$={r:0,b:0,g:0};function pZ(t,n,i,r,s,o,a){let l,c;let u=new dY(0),d=!0===o?0:1,p=null,h=0,f=null;function m(n,i){n.getRGB(p$,pE(t)),r.buffers.color.setClear(p$.r,p$.g,p$.b,i,a)}return{getClearColor:function(){return u},setClearColor:function(t,n=1){u.set(t),m(u,d=n)},getClearAlpha:function(){return d},setClearAlpha:function(t){m(u,d=t)},render:function(r,o){let a=!1,g=!0===o.isScene?o.background:null;g&&g.isTexture&&(g=(o.backgroundBlurriness>0?i:n).get(g));let x=t.xr,y=x.getSession&&x.getSession();y&&"additive"===y.environmentBlendMode&&(g=null),null===g?m(u,d):g&&g.isColor&&(m(g,1),a=!0),(t.autoClear||a)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||306===g.mapping)?(void 0===c&&((c=new pw(new p_(1,1,1),new pI({name:"BackgroundCubeMaterial",uniforms:pS(pW.backgroundCube.uniforms),vertexShader:pW.backgroundCube.vertexShader,fragmentShader:pW.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,n,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(c)),c.material.uniforms.envMap.value=g,c.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=o.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,c.material.toneMapped=3001!==g.encoding,(p!==g||h!==g.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,p=g,h=g.version,f=t.toneMapping),c.layers.enableAll(),r.unshift(c,c.geometry,c.material,0,0,null)):g&&g.isTexture&&(void 0===l&&((l=new pw(new pz(2,2),new pI({name:"BackgroundMaterial",uniforms:pS(pW.background.uniforms),vertexShader:pW.background.vertexShader,fragmentShader:pW.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(l)),l.material.uniforms.t2D.value=g,l.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,l.material.toneMapped=3001!==g.encoding,!0===g.matrixAutoUpdate&&g.updateMatrix(),l.material.uniforms.uvTransform.value.copy(g.matrix),(p!==g||h!==g.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,p=g,h=g.version,f=t.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null))}}}function pY(t,n,i,r){let s=t.getParameter(34921),o=r.isWebGL2?null:n.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,l={},c=f(null),u=c,d=!1;function p(n){return r.isWebGL2?t.bindVertexArray(n):o.bindVertexArrayOES(n)}function h(n){return r.isWebGL2?t.deleteVertexArray(n):o.deleteVertexArrayOES(n)}function f(t){let n=[],i=[],r=[];for(let t=0;t<s;t++)n[t]=0,i[t]=0,r[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:n,enabledAttributes:i,attributeDivisors:r,object:t,attributes:{},index:null}}function m(){let t=u.newAttributes;for(let n=0,i=t.length;n<i;n++)t[n]=0}function g(t){x(t,0)}function x(i,s){let o=u.newAttributes,a=u.enabledAttributes,l=u.attributeDivisors;o[i]=1,0===a[i]&&(t.enableVertexAttribArray(i),a[i]=1),l[i]!==s&&((r.isWebGL2?t:n.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,s),l[i]=s)}function y(){let n=u.newAttributes,i=u.enabledAttributes;for(let r=0,s=i.length;r<s;r++)i[r]!==n[r]&&(t.disableVertexAttribArray(r),i[r]=0)}function v(n,i,s,o,a,l){!0===r.isWebGL2&&(5124===s||5125===s)?t.vertexAttribIPointer(n,i,s,a,l):t.vertexAttribPointer(n,i,s,o,a,l)}function b(){A(),d=!0,u!==c&&p((u=c).object)}function A(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(s,c,h,b,A){let w=!1;if(a){let n=function(n,i,s){let a=!0===s.wireframe,c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[i.id];void 0===u&&(u={},c[i.id]=u);let d=u[a];return void 0===d&&(d=f(r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),u[a]=d),d}(b,h,c);u!==n&&p((u=n).object),(w=function(t,n,i,r){let s=u.attributes,o=n.attributes,a=0,l=i.getAttributes();for(let n in l)if(l[n].location>=0){let i=s[n],r=o[n];if(void 0===r&&("instanceMatrix"===n&&t.instanceMatrix&&(r=t.instanceMatrix),"instanceColor"===n&&t.instanceColor&&(r=t.instanceColor)),void 0===i||i.attribute!==r||r&&i.data!==r.data)return!0;a++}return u.attributesNum!==a||u.index!==r}(s,b,h,A))&&function(t,n,i,r){let s={},o=n.attributes,a=0,l=i.getAttributes();for(let n in l)if(l[n].location>=0){let i=o[n];void 0===i&&("instanceMatrix"===n&&t.instanceMatrix&&(i=t.instanceMatrix),"instanceColor"===n&&t.instanceColor&&(i=t.instanceColor));let r={};r.attribute=i,i&&i.data&&(r.data=i.data),s[n]=r,a++}u.attributes=s,u.attributesNum=a,u.index=r}(s,b,h,A)}else{let t=!0===c.wireframe;(u.geometry!==b.id||u.program!==h.id||u.wireframe!==t)&&(u.geometry=b.id,u.program=h.id,u.wireframe=t,w=!0)}null!==A&&i.update(A,34963),(w||d)&&(d=!1,function(s,o,a,l){if(!1===r.isWebGL2&&(s.isInstancedMesh||l.isInstancedBufferGeometry)&&null===n.get("ANGLE_instanced_arrays"))return;m();let c=l.attributes,u=a.getAttributes(),d=o.defaultAttributeValues;for(let n in u){let r=u[n];if(r.location>=0){let o=c[n];if(void 0===o&&("instanceMatrix"===n&&s.instanceMatrix&&(o=s.instanceMatrix),"instanceColor"===n&&s.instanceColor&&(o=s.instanceColor)),void 0!==o){let n=o.normalized,a=o.itemSize,c=i.get(o);if(void 0===c)continue;let u=c.buffer,d=c.type,p=c.bytesPerElement;if(o.isInterleavedBufferAttribute){let i=o.data,c=i.stride,h=o.offset;if(i.isInstancedInterleavedBuffer){for(let t=0;t<r.locationSize;t++)x(r.location+t,i.meshPerAttribute);!0!==s.isInstancedMesh&&void 0===l._maxInstanceCount&&(l._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let t=0;t<r.locationSize;t++)g(r.location+t);t.bindBuffer(34962,u);for(let t=0;t<r.locationSize;t++)v(r.location+t,a/r.locationSize,d,n,c*p,(h+a/r.locationSize*t)*p)}else{if(o.isInstancedBufferAttribute){for(let t=0;t<r.locationSize;t++)x(r.location+t,o.meshPerAttribute);!0!==s.isInstancedMesh&&void 0===l._maxInstanceCount&&(l._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let t=0;t<r.locationSize;t++)g(r.location+t);t.bindBuffer(34962,u);for(let t=0;t<r.locationSize;t++)v(r.location+t,a/r.locationSize,d,n,a*p,a/r.locationSize*t*p)}}else if(void 0!==d){let i=d[n];if(void 0!==i)switch(i.length){case 2:t.vertexAttrib2fv(r.location,i);break;case 3:t.vertexAttrib3fv(r.location,i);break;case 4:t.vertexAttrib4fv(r.location,i);break;default:t.vertexAttrib1fv(r.location,i)}}}}y()}(s,c,h,b),null!==A&&t.bindBuffer(34963,i.get(A).buffer))},reset:b,resetDefaultState:A,dispose:function(){for(let t in b(),l){let n=l[t];for(let t in n){let i=n[t];for(let t in i)h(i[t].object),delete i[t];delete n[t]}delete l[t]}},releaseStatesOfGeometry:function(t){if(void 0===l[t.id])return;let n=l[t.id];for(let t in n){let i=n[t];for(let t in i)h(i[t].object),delete i[t];delete n[t]}delete l[t.id]},releaseStatesOfProgram:function(t){for(let n in l){let i=l[n];if(void 0===i[t.id])continue;let r=i[t.id];for(let t in r)h(r[t].object),delete r[t];delete i[t.id]}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:y}}function pK(t,n,i,r){let s;let o=r.isWebGL2;this.setMode=function(t){s=t},this.render=function(n,r){t.drawArrays(s,n,r),i.update(r,s,1)},this.renderInstances=function(r,a,l){let c,u;if(0!==l){if(o)c=t,u="drawArraysInstanced";else if(c=n.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===c){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}c[u](s,r,a,l),i.update(a,s,l)}}}function pX(t,n,i){let r;function s(n){if("highp"===n){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";n="mediump"}return"mediump"===n&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let o="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===t.constructor.name,a=void 0!==i.precision?i.precision:"highp",l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=o||n.has("WEBGL_draw_buffers"),u=!0===i.logarithmicDepthBuffer,d=t.getParameter(34930),p=t.getParameter(35660),h=t.getParameter(3379),f=t.getParameter(34076),m=t.getParameter(34921),g=t.getParameter(36347),x=t.getParameter(36348),y=t.getParameter(36349),v=p>0,b=o||n.has("OES_texture_float"),A=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===n.has("EXT_texture_filter_anisotropic")){let i=n.get("EXT_texture_filter_anisotropic");r=t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:h,maxCubemapSize:f,maxAttributes:m,maxVertexUniforms:g,maxVaryings:x,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:A}}function pJ(t){let n=this,i=null,r=0,s=!1,o=!1,a=new pO,l=new uy,c={value:null,needsUpdate:!1};function u(t,i,r,s){let o=null!==t?t.length:0,u=null;if(0!==o){if(u=c.value,!0!==s||null===u){let n=r+4*o,s=i.matrixWorldInverse;l.getNormalMatrix(s),(null===u||u.length<n)&&(u=new Float32Array(n));for(let n=0,i=r;n!==o;++n,i+=4)a.copy(t[n]).applyMatrix4(s,l),a.normal.toArray(u,i),u[i+3]=a.constant}c.value=u,c.needsUpdate=!0}return n.numPlanes=o,n.numIntersection=0,u}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n){let i=0!==t.length||n||0!==r||s;return s=n,r=t.length,i},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,n){i=u(t,n,0)},this.setState=function(a,l,d){let p=a.clippingPlanes,h=a.clipIntersection,f=a.clipShadows,m=t.get(a);if(s&&null!==p&&0!==p.length&&(!o||f)){let t=o?0:r,n=4*t,s=m.clippingState||null;c.value=s,s=u(p,l,n,d);for(let t=0;t!==n;++t)s[t]=i[t];m.clippingState=s,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=t}else o?u(null):(c.value!==i&&(c.value=i,c.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0)}}function p0(t){let n=new WeakMap;function i(t,n){return 303===n?t.mapping=301:304===n&&(t.mapping=302),t}function r(t){let i=t.target;i.removeEventListener("dispose",r);let s=n.get(i);void 0!==s&&(n.delete(i),s.dispose())}return{get:function(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){let o=s.mapping;if(303===o||304===o){if(n.has(s))return i(n.get(s).texture,s.mapping);{let o=s.image;if(!o||!(o.height>0))return null;{let a=new pP(o.height/2);return a.fromEquirectangularTexture(t,s),n.set(s,a),s.addEventListener("dispose",r),i(a.texture,s.mapping)}}}}return s},dispose:function(){n=new WeakMap}}}class p1 extends pT{constructor(t=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,n,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,s=i-t,o=i+t,a=r+n,l=r-n;if(null!==this.view&&this.view.enabled){let t=(this.right-this.left)/this.view.fullWidth/this.zoom,n=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=t*this.view.offsetX,o=s+t*this.view.width,a-=n*this.view.offsetY,l=a-n*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let n=super.toJSON(t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}let p2=[.125,.215,.35,.446,.526,.582],p3=new p1,p5=new dY,p4=null,p6=(1+Math.sqrt(5))/2,p8=1/p6,p7=[new uN(1,1,1),new uN(-1,1,1),new uN(1,1,-1),new uN(-1,1,-1),new uN(0,p6,p8),new uN(0,p6,-p8),new uN(p8,0,p6),new uN(-p8,0,p6),new uN(p6,p8,0),new uN(-p6,p8,0)];class p9{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,i=.1,r=100){p4=this._renderer.getRenderTarget(),this._setSize(256);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,n=null){return this._fromTexture(t,n)}fromCubemap(t,n=null){return this._fromTexture(t,n)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=hi(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=hn(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(p4),t.scissorTest=!1,ht(t,0,0,t.width,t.height)}_fromTexture(t,n){301===t.mapping||302===t.mapping?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),p4=this._renderer.getRenderTarget();let i=n||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let t=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},r=he(t,n,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==n){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=he(t,n,i);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){let n=[],i=[],r=[],s=t,o=t-4+1+p2.length;for(let a=0;a<o;a++){let o=Math.pow(2,s);i.push(o);let l=1/o;a>t-4?l=p2[a-t+4-1]:0===a&&(l=0),r.push(l);let c=1/(o-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],h=new Float32Array(108),f=new Float32Array(72),m=new Float32Array(36);for(let t=0;t<6;t++){let n=t%3*2/3-1,i=t>2?0:-1,r=[n,i,0,n+2/3,i,0,n+2/3,i+1,0,n,i,0,n+2/3,i+1,0,n,i+1,0];h.set(r,18*t),f.set(p,12*t);let s=[t,t,t,t,t,t];m.set(s,6*t)}let g=new pr;g.setAttribute("position",new d3(h,3)),g.setAttribute("uv",new d3(f,2)),g.setAttribute("faceIndex",new d3(m,1)),n.push(g),s>4&&s--}return{lodPlanes:n,sizeLods:i,sigmas:r}}(r)),this._blurMaterial=new pI({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(20)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new uN(0,1,0)}},vertexShader:hr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}return r}_compileMaterial(t){let n=new pw(this._lodPlanes[0],t);this._renderer.compile(n,p3)}_sceneToCubeUV(t,n,i,r){let s=new pB(90,1,n,i),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(p5),l.toneMapping=0,l.autoClear=!1;let d=new dX({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new pw(new p_,d),h=!1,f=t.background;f?f.isColor&&(d.color.copy(f),t.background=null,h=!0):(d.color.copy(p5),h=!0);for(let n=0;n<6;n++){let i=n%3;0===i?(s.up.set(0,o[n],0),s.lookAt(a[n],0,0)):1===i?(s.up.set(0,0,o[n]),s.lookAt(0,a[n],0)):(s.up.set(0,o[n],0),s.lookAt(0,0,a[n]));let c=this._cubeSize;ht(r,i*c,n>2?c:0,c,c),l.setRenderTarget(r),h&&l.render(p,s),l.render(t,s)}p.geometry.dispose(),p.material.dispose(),l.toneMapping=u,l.autoClear=c,t.background=f}_textureToCubeUV(t,n){let i=this._renderer,r=301===t.mapping||302===t.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=hi()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=hn());let s=r?this._cubemapMaterial:this._equirectMaterial,o=new pw(this._lodPlanes[0],s);s.uniforms.envMap.value=t;let a=this._cubeSize;ht(n,0,0,3*a,2*a),i.setRenderTarget(n),i.render(o,p3)}_applyPMREM(t){let n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){let i=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),r=p7[(n-1)%p7.length];this._blur(t,n-1,n,i,r)}n.autoClear=i}_blur(t,n,i,r,s){let o=this._pingPongRenderTarget;this._halfBlur(t,o,n,i,r,"latitudinal",s),this._halfBlur(o,t,i,i,r,"longitudinal",s)}_halfBlur(t,n,i,r,s,o,a){let l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");let u=new pw(this._lodPlanes[r],c),d=c.uniforms,p=this._sizeLods[i]-1,h=isFinite(s)?Math.PI/(2*p):2*Math.PI/39,f=s/h,m=isFinite(s)?1+Math.floor(3*f):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);let g=[],x=0;for(let t=0;t<20;++t){let n=t/f,i=Math.exp(-n*n/2);g.push(i),0===t?x+=i:t<m&&(x+=2*i)}for(let t=0;t<g.length;t++)g[t]=g[t]/x;d.envMap.value=t.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value="latitudinal"===o,a&&(d.poleAxis.value=a);let{_lodMax:y}=this;d.dTheta.value=h,d.mipInt.value=y-i;let v=this._sizeLods[r],b=4*(this._cubeSize-v);ht(n,3*v*(r>y-4?r-y+4:0),b,3*v,2*v),l.setRenderTarget(n),l.render(u,p3)}}function he(t,n,i){let r=new uR(t,n,i);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ht(t,n,i,r,s){t.viewport.set(n,i,r,s),t.scissor.set(n,i,r,s)}function hn(){return new pI({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function hi(){return new pI({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hr(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function hr(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hs(t){let n=new WeakMap,i=null;function r(t){let i=t.target;i.removeEventListener("dispose",r);let s=n.get(i);void 0!==s&&(n.delete(i),s.dispose())}return{get:function(s){if(s&&s.isTexture){let o=s.mapping,a=303===o||304===o,l=301===o||302===o;if(a||l){if(s.isRenderTargetTexture&&!0===s.needsPMREMUpdate){s.needsPMREMUpdate=!1;let r=n.get(s);return null===i&&(i=new p9(t)),r=a?i.fromEquirectangular(s,r):i.fromCubemap(s,r),n.set(s,r),r.texture}if(n.has(s))return n.get(s).texture;{let o=s.image;if(!(a&&o&&o.height>0||l&&o&&function(t){let n=0;for(let i=0;i<6;i++)void 0!==t[i]&&n++;return 6===n}(o)))return null;{null===i&&(i=new p9(t));let o=a?i.fromEquirectangular(s):i.fromCubemap(s);return n.set(s,o),s.addEventListener("dispose",r),o.texture}}}}return s},dispose:function(){n=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function ho(t){let n={};function i(i){let r;if(void 0!==n[i])return n[i];switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return n[i]=r,r}return{has:function(t){return null!==i(t)},init:function(t){t.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(t){let n=i(t);return null===n&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),n}}}function ha(t,n,i,r){let s={},o=new WeakMap;function a(t){let l=t.target;for(let t in null!==l.index&&n.remove(l.index),l.attributes)n.remove(l.attributes[t]);l.removeEventListener("dispose",a),delete s[l.id];let c=o.get(l);c&&(n.remove(c),o.delete(l)),r.releaseStatesOfGeometry(l),!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount,i.memory.geometries--}function l(t){let i=[],r=t.index,s=t.attributes.position,a=0;if(null!==r){let t=r.array;a=r.version;for(let n=0,r=t.length;n<r;n+=3){let r=t[n+0],s=t[n+1],o=t[n+2];i.push(r,s,s,o,o,r)}}else{let t=s.array;a=s.version;for(let n=0,r=t.length/3-1;n<r;n+=3){let t=n+0,r=n+1,s=n+2;i.push(t,r,r,s,s,t)}}let l=new(ub(i)?d4:d5)(i,1);l.version=a;let c=o.get(t);c&&n.remove(c),o.set(t,l)}return{get:function(t,n){return!0===s[n.id]||(n.addEventListener("dispose",a),s[n.id]=!0,i.memory.geometries++),n},update:function(t){let i=t.attributes;for(let t in i)n.update(i[t],34962);let r=t.morphAttributes;for(let t in r){let i=r[t];for(let t=0,r=i.length;t<r;t++)n.update(i[t],34962)}},getWireframeAttribute:function(t){let n=o.get(t);if(n){let i=t.index;null!==i&&n.version<i.version&&l(t)}else l(t);return o.get(t)}}}function hl(t,n,i,r){let s,o,a;let l=r.isWebGL2;this.setMode=function(t){s=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(n,r){t.drawElements(s,r,o,n*a),i.update(r,s,1)},this.renderInstances=function(r,c,u){let d,p;if(0!==u){if(l)d=t,p="drawElementsInstanced";else if(d=n.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",null===d){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,o,r*a,u),i.update(c,s,u)}}}function hc(t){let n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function(t,i,r){switch(n.calls++,i){case 4:n.triangles+=t/3*r;break;case 1:n.lines+=t/2*r;break;case 3:n.lines+=r*(t-1);break;case 2:n.lines+=r*t;break;case 0:n.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function hu(t,n){return t[0]-n[0]}function hd(t,n){return Math.abs(n[1])-Math.abs(t[1])}function hp(t,n,i){let r={},s=new Float32Array(8),o=new WeakMap,a=new uP,l=[];for(let t=0;t<8;t++)l[t]=[t,0];return{update:function(c,u,d){let p=c.morphTargetInfluences;if(!0===n.isWebGL2){let r=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,s=void 0!==r?r.length:0,l=o.get(u);if(void 0===l||l.count!==s){void 0!==l&&l.texture.dispose();let t=void 0!==u.morphAttributes.position,i=void 0!==u.morphAttributes.normal,r=void 0!==u.morphAttributes.color,c=u.morphAttributes.position||[],d=u.morphAttributes.normal||[],p=u.morphAttributes.color||[],h=0;!0===t&&(h=1),!0===i&&(h=2),!0===r&&(h=3);let f=u.attributes.position.count*h,m=1;f>n.maxTextureSize&&(m=Math.ceil(f/n.maxTextureSize),f=n.maxTextureSize);let g=new Float32Array(f*m*4*s),x=new uD(g,f,m,s);x.type=1015,x.needsUpdate=!0;let y=4*h;for(let n=0;n<s;n++){let s=c[n],o=d[n],l=p[n],u=f*m*4*n;for(let n=0;n<s.count;n++){let c=n*y;!0===t&&(a.fromBufferAttribute(s,n),g[u+c+0]=a.x,g[u+c+1]=a.y,g[u+c+2]=a.z,g[u+c+3]=0),!0===i&&(a.fromBufferAttribute(o,n),g[u+c+4]=a.x,g[u+c+5]=a.y,g[u+c+6]=a.z,g[u+c+7]=0),!0===r&&(a.fromBufferAttribute(l,n),g[u+c+8]=a.x,g[u+c+9]=a.y,g[u+c+10]=a.z,g[u+c+11]=4===l.itemSize?a.w:1)}}l={count:s,texture:x,size:new ux(f,m)},o.set(u,l),u.addEventListener("dispose",function t(){x.dispose(),o.delete(u),u.removeEventListener("dispose",t)})}let c=0;for(let t=0;t<p.length;t++)c+=p[t];let h=u.morphTargetsRelative?1:1-c;d.getUniforms().setValue(t,"morphTargetBaseInfluence",h),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",l.texture,i),d.getUniforms().setValue(t,"morphTargetsTextureSize",l.size)}else{let n=void 0===p?0:p.length,i=r[u.id];if(void 0===i||i.length!==n){i=[];for(let t=0;t<n;t++)i[t]=[t,0];r[u.id]=i}for(let t=0;t<n;t++){let n=i[t];n[0]=t,n[1]=p[t]}i.sort(hd);for(let t=0;t<8;t++)t<n&&i[t][1]?(l[t][0]=i[t][0],l[t][1]=i[t][1]):(l[t][0]=Number.MAX_SAFE_INTEGER,l[t][1]=0);l.sort(hu);let o=u.morphAttributes.position,a=u.morphAttributes.normal,c=0;for(let t=0;t<8;t++){let n=l[t],i=n[0],r=n[1];i!==Number.MAX_SAFE_INTEGER&&r?(o&&u.getAttribute("morphTarget"+t)!==o[i]&&u.setAttribute("morphTarget"+t,o[i]),a&&u.getAttribute("morphNormal"+t)!==a[i]&&u.setAttribute("morphNormal"+t,a[i]),s[t]=r,c+=r):(o&&!0===u.hasAttribute("morphTarget"+t)&&u.deleteAttribute("morphTarget"+t),a&&!0===u.hasAttribute("morphNormal"+t)&&u.deleteAttribute("morphNormal"+t),s[t]=0)}let h=u.morphTargetsRelative?1:1-c;d.getUniforms().setValue(t,"morphTargetBaseInfluence",h),d.getUniforms().setValue(t,"morphTargetInfluences",s)}}}}function hh(t,n,i,r){let s=new WeakMap;function o(t){let n=t.target;n.removeEventListener("dispose",o),i.remove(n.instanceMatrix),null!==n.instanceColor&&i.remove(n.instanceColor)}return{update:function(t){let a=r.render.frame,l=t.geometry,c=n.get(t,l);return s.get(c)!==a&&(n.update(c),s.set(c,a)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",o)&&t.addEventListener("dispose",o),i.update(t.instanceMatrix,34962),null!==t.instanceColor&&i.update(t.instanceColor,34962)),c},dispose:function(){s=new WeakMap}}}let hf=new uj,hm=new uD,hg=new uF,hx=new pj,hy=[],hv=[],hb=new Float32Array(16),hA=new Float32Array(9),hw=new Float32Array(4);function hC(t,n,i){let r=t[0];if(r<=0||r>0)return t;let s=n*i,o=hy[s];if(void 0===o&&(o=new Float32Array(s),hy[s]=o),0!==n){r.toArray(o,0);for(let r=1,s=0;r!==n;++r)s+=i,t[r].toArray(o,s)}return o}function h_(t,n){if(t.length!==n.length)return!1;for(let i=0,r=t.length;i<r;i++)if(t[i]!==n[i])return!1;return!0}function hS(t,n){for(let i=0,r=n.length;i<r;i++)t[i]=n[i]}function hk(t,n){let i=hv[n];void 0===i&&(i=new Int32Array(n),hv[n]=i);for(let r=0;r!==n;++r)i[r]=t.allocateTextureUnit();return i}function hE(t,n){let i=this.cache;i[0]!==n&&(t.uniform1f(this.addr,n),i[0]=n)}function hM(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(t.uniform2f(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(h_(i,n))return;t.uniform2fv(this.addr,n),hS(i,n)}}function hI(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(t.uniform3f(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else if(void 0!==n.r)(i[0]!==n.r||i[1]!==n.g||i[2]!==n.b)&&(t.uniform3f(this.addr,n.r,n.g,n.b),i[0]=n.r,i[1]=n.g,i[2]=n.b);else{if(h_(i,n))return;t.uniform3fv(this.addr,n),hS(i,n)}}function hT(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(t.uniform4f(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(h_(i,n))return;t.uniform4fv(this.addr,n),hS(i,n)}}function hB(t,n){let i=this.cache,r=n.elements;if(void 0===r){if(h_(i,n))return;t.uniformMatrix2fv(this.addr,!1,n),hS(i,n)}else{if(h_(i,r))return;hw.set(r),t.uniformMatrix2fv(this.addr,!1,hw),hS(i,r)}}function hL(t,n){let i=this.cache,r=n.elements;if(void 0===r){if(h_(i,n))return;t.uniformMatrix3fv(this.addr,!1,n),hS(i,n)}else{if(h_(i,r))return;hA.set(r),t.uniformMatrix3fv(this.addr,!1,hA),hS(i,r)}}function hj(t,n){let i=this.cache,r=n.elements;if(void 0===r){if(h_(i,n))return;t.uniformMatrix4fv(this.addr,!1,n),hS(i,n)}else{if(h_(i,r))return;hb.set(r),t.uniformMatrix4fv(this.addr,!1,hb),hS(i,r)}}function hP(t,n){let i=this.cache;i[0]!==n&&(t.uniform1i(this.addr,n),i[0]=n)}function hR(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(t.uniform2i(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(h_(i,n))return;t.uniform2iv(this.addr,n),hS(i,n)}}function hD(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(t.uniform3i(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else{if(h_(i,n))return;t.uniform3iv(this.addr,n),hS(i,n)}}function hF(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(t.uniform4i(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(h_(i,n))return;t.uniform4iv(this.addr,n),hS(i,n)}}function hO(t,n){let i=this.cache;i[0]!==n&&(t.uniform1ui(this.addr,n),i[0]=n)}function hN(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(t.uniform2ui(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(h_(i,n))return;t.uniform2uiv(this.addr,n),hS(i,n)}}function hU(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(t.uniform3ui(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else{if(h_(i,n))return;t.uniform3uiv(this.addr,n),hS(i,n)}}function hV(t,n){let i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(t.uniform4ui(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(h_(i,n))return;t.uniform4uiv(this.addr,n),hS(i,n)}}function hH(t,n,i){let r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTexture2D(n||hf,s)}function hQ(t,n,i){let r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTexture3D(n||hg,s)}function hz(t,n,i){let r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTextureCube(n||hx,s)}function hG(t,n,i){let r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTexture2DArray(n||hm,s)}function hq(t,n){t.uniform1fv(this.addr,n)}function hW(t,n){let i=hC(n,this.size,2);t.uniform2fv(this.addr,i)}function h$(t,n){let i=hC(n,this.size,3);t.uniform3fv(this.addr,i)}function hZ(t,n){let i=hC(n,this.size,4);t.uniform4fv(this.addr,i)}function hY(t,n){let i=hC(n,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function hK(t,n){let i=hC(n,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function hX(t,n){let i=hC(n,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function hJ(t,n){t.uniform1iv(this.addr,n)}function h0(t,n){t.uniform2iv(this.addr,n)}function h1(t,n){t.uniform3iv(this.addr,n)}function h2(t,n){t.uniform4iv(this.addr,n)}function h3(t,n){t.uniform1uiv(this.addr,n)}function h5(t,n){t.uniform2uiv(this.addr,n)}function h4(t,n){t.uniform3uiv(this.addr,n)}function h6(t,n){t.uniform4uiv(this.addr,n)}function h8(t,n,i){let r=this.cache,s=n.length,o=hk(i,s);h_(r,o)||(t.uniform1iv(this.addr,o),hS(r,o));for(let t=0;t!==s;++t)i.setTexture2D(n[t]||hf,o[t])}function h7(t,n,i){let r=this.cache,s=n.length,o=hk(i,s);h_(r,o)||(t.uniform1iv(this.addr,o),hS(r,o));for(let t=0;t!==s;++t)i.setTexture3D(n[t]||hg,o[t])}function h9(t,n,i){let r=this.cache,s=n.length,o=hk(i,s);h_(r,o)||(t.uniform1iv(this.addr,o),hS(r,o));for(let t=0;t!==s;++t)i.setTextureCube(n[t]||hx,o[t])}function fe(t,n,i){let r=this.cache,s=n.length,o=hk(i,s);h_(r,o)||(t.uniform1iv(this.addr,o),hS(r,o));for(let t=0;t!==s;++t)i.setTexture2DArray(n[t]||hm,o[t])}class ft{constructor(t,n,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return hE;case 35664:return hM;case 35665:return hI;case 35666:return hT;case 35674:return hB;case 35675:return hL;case 35676:return hj;case 5124:case 35670:return hP;case 35667:case 35671:return hR;case 35668:case 35672:return hD;case 35669:case 35673:return hF;case 5125:return hO;case 36294:return hN;case 36295:return hU;case 36296:return hV;case 35678:case 36198:case 36298:case 36306:case 35682:return hH;case 35679:case 36299:case 36307:return hQ;case 35680:case 36300:case 36308:case 36293:return hz;case 36289:case 36303:case 36311:case 36292:return hG}}(n.type)}}class fn{constructor(t,n,i){this.id=t,this.addr=i,this.cache=[],this.size=n.size,this.setValue=function(t){switch(t){case 5126:return hq;case 35664:return hW;case 35665:return h$;case 35666:return hZ;case 35674:return hY;case 35675:return hK;case 35676:return hX;case 5124:case 35670:return hJ;case 35667:case 35671:return h0;case 35668:case 35672:return h1;case 35669:case 35673:return h2;case 5125:return h3;case 36294:return h5;case 36295:return h4;case 36296:return h6;case 35678:case 36198:case 36298:case 36306:case 35682:return h8;case 35679:case 36299:case 36307:return h7;case 35680:case 36300:case 36308:case 36293:return h9;case 36289:case 36303:case 36311:case 36292:return fe}}(n.type)}}class fi{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,n,i){let r=this.seq;for(let s=0,o=r.length;s!==o;++s){let o=r[s];o.setValue(t,n[o.id],i)}}}let fr=/(\w+)(\])?(\[|\.)?/g;function fs(t,n){t.seq.push(n),t.map[n.id]=n}class fo{constructor(t,n){this.seq=[],this.map={};let i=t.getProgramParameter(n,35718);for(let r=0;r<i;++r){let i=t.getActiveUniform(n,r),s=t.getUniformLocation(n,i.name);!function(t,n,i){let r=t.name,s=r.length;for(fr.lastIndex=0;;){let o=fr.exec(r),a=fr.lastIndex,l=o[1],c="]"===o[2],u=o[3];if(c&&(l|=0),void 0===u||"["===u&&a+2===s){fs(i,void 0===u?new ft(l,t,n):new fn(l,t,n));break}{let t=i.map[l];void 0===t&&fs(i,t=new fi(l)),i=t}}}(i,s,this)}}setValue(t,n,i,r){let s=this.map[n];void 0!==s&&s.setValue(t,i,r)}setOptional(t,n,i){let r=n[i];void 0!==r&&this.setValue(t,i,r)}static upload(t,n,i,r){for(let s=0,o=n.length;s!==o;++s){let o=n[s],a=i[o.id];!1!==a.needsUpdate&&o.setValue(t,a.value,r)}}static seqWithValue(t,n){let i=[];for(let r=0,s=t.length;r!==s;++r){let s=t[r];s.id in n&&i.push(s)}return i}}function fa(t,n,i){let r=t.createShader(n);return t.shaderSource(r,i),t.compileShader(r),r}let fl=0;function fc(t,n,i){let r=t.getShaderParameter(n,35713),s=t.getShaderInfoLog(n).trim();if(r&&""===s)return"";let o=/ERROR: 0:(\d+)/.exec(s);if(!o)return s;{let r=parseInt(o[1]);return i.toUpperCase()+"\n\n"+s+"\n\n"+function(t,n){let i=t.split("\n"),r=[],s=Math.max(n-6,0),o=Math.min(n+6,i.length);for(let t=s;t<o;t++){let s=t+1;r.push(`${s===n?">":" "} ${s}: ${i[t]}`)}return r.join("\n")}(t.getShaderSource(n),r)}}function fu(t){return""!==t}function fd(t,n){let i=n.numSpotLightShadows+n.numSpotLightMaps-n.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,n.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,n.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function fp(t,n){return t.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}let fh=/^[ \t]*#include +<([\w\d./]+)>/gm;function ff(t){return t.replace(fh,fm)}function fm(t,n){let i=pG[n];if(void 0===i)throw Error("Can not resolve #include <"+n+">");return ff(i)}let fg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fx(t){return t.replace(fg,fy)}function fy(t,n,i,r){let s="";for(let t=parseInt(n);t<parseInt(i);t++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return s}function fv(t){let n="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?n+="\n#define HIGH_PRECISION":"mediump"===t.precision?n+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(n+="\n#define LOW_PRECISION"),n}function fb(t,n,i,r){let s,o,a,l,c,u;let d=t.getContext(),p=i.defines,h=i.vertexShader,f=i.fragmentShader,m=(c="SHADOWMAP_TYPE_BASIC",1===i.shadowMapType?c="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?c="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(c="SHADOWMAP_TYPE_VSM"),c),g=function(t){let n="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:n="ENVMAP_TYPE_CUBE";break;case 306:n="ENVMAP_TYPE_CUBE_UV"}return n}(i),x=(u="ENVMAP_MODE_REFLECTION",i.envMap&&302===i.envMapMode&&(u="ENVMAP_MODE_REFRACTION"),u),y=function(t){let n="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}return n}(i),v=function(t){let n=t.envMapCubeUVHeight;if(null===n)return null;let i=Math.log2(n)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:1/n,maxMip:i}}(i),b=i.isWebGL2?"":[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fu).join("\n"),A=function(t){let n=[];for(let i in t){let r=t[i];!1!==r&&n.push("#define "+i+" "+r)}return n.join("\n")}(p),w=d.createProgram(),C=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?((s=[A].filter(fu).join("\n")).length>0&&(s+="\n"),(o=[b,A].filter(fu).join("\n")).length>0&&(o+="\n")):(s=[fv(i),"#define SHADER_NAME "+i.shaderName,A,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+x:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs2?"#define USE_UV2":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+m:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(fu).join("\n"),o=[b,fv(i),"#define SHADER_NAME "+i.shaderName,A,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+g:"",i.envMap?"#define "+x:"",i.envMap?"#define "+y:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs2?"#define USE_UV2":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+m:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?pG.tonemapping_pars_fragment:"",0!==i.toneMapping?function(t,n){let i;switch(n){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="OptimizedCineon";break;case 4:i="ACESFilmic";break;case 5:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",pG.encodings_pars_fragment,function(t,n){let i=function(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}(n);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}("linearToOutputTexel",i.outputEncoding),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(fu).join("\n")),h=fp(h=fd(h=ff(h),i),i),f=fp(f=fd(f=ff(f),i),i),h=fx(h),f=fx(f),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(C="#version 300 es\n",s="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+s,o=["#define varying in",i.glslVersion===us?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===us?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);let _=C+s+h,S=C+o+f,k=fa(d,35633,_),E=fa(d,35632,S);if(d.attachShader(w,k),d.attachShader(w,E),void 0!==i.index0AttributeName?d.bindAttribLocation(w,0,i.index0AttributeName):!0===i.morphTargets&&d.bindAttribLocation(w,0,"position"),d.linkProgram(w),t.debug.checkShaderErrors){let n=d.getProgramInfoLog(w).trim(),i=d.getShaderInfoLog(k).trim(),r=d.getShaderInfoLog(E).trim(),a=!0,l=!0;if(!1===d.getProgramParameter(w,35714)){if(a=!1,"function"==typeof t.debug.onShaderError)t.debug.onShaderError(d,w,k,E);else{let t=fc(d,k,"vertex"),i=fc(d,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+d.getError()+" - VALIDATE_STATUS "+d.getProgramParameter(w,35715)+"\n\nProgram Info Log: "+n+"\n"+t+"\n"+i)}}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):(""===i||""===r)&&(l=!1);l&&(this.diagnostics={runnable:a,programLog:n,vertexShader:{log:i,prefix:s},fragmentShader:{log:r,prefix:o}})}return d.deleteShader(k),d.deleteShader(E),this.getUniforms=function(){return void 0===a&&(a=new fo(d,w)),a},this.getAttributes=function(){return void 0===l&&(l=function(t,n){let i={},r=t.getProgramParameter(n,35721);for(let s=0;s<r;s++){let r=t.getActiveAttrib(n,s),o=r.name,a=1;35674===r.type&&(a=2),35675===r.type&&(a=3),35676===r.type&&(a=4),i[o]={type:r.type,location:t.getAttribLocation(n,o),locationSize:a}}return i}(d,w)),l},this.destroy=function(){r.releaseStatesOfProgram(this),d.deleteProgram(w),this.program=void 0},this.name=i.shaderName,this.id=fl++,this.cacheKey=n,this.usedTimes=1,this.program=w,this.vertexShader=k,this.fragmentShader=E,this}let fA=0;class fw{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){let n=t.vertexShader,i=t.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(t){for(let n of this.materialCache.get(t))n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){let n=this.materialCache,i=n.get(t);return void 0===i&&(i=new Set,n.set(t,i)),i}_getShaderStage(t){let n=this.shaderCache,i=n.get(t);return void 0===i&&(i=new fC(t),n.set(t,i)),i}}class fC{constructor(t){this.id=fA++,this.code=t,this.usedTimes=0}}function f_(t,n,i,r,s,o,a){let l=new dx,c=new fw,u=[],d=s.isWebGL2,p=s.logarithmicDepthBuffer,h=s.vertexTextures,f=s.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(t){return 1===t?"uv2":"uv"}return{getParameters:function(o,l,u,x,y){let v,b,A,w;let C=x.fog,_=y.geometry,S=o.isMeshStandardMaterial?x.environment:null,k=(o.isMeshStandardMaterial?i:n).get(o.envMap||S),E=k&&306===k.mapping?k.image.height:null,M=m[o.type];null!==o.precision&&(f=s.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",f,"instead.");let I=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,T=void 0!==I?I.length:0,B=0;if(void 0!==_.morphAttributes.position&&(B=1),void 0!==_.morphAttributes.normal&&(B=2),void 0!==_.morphAttributes.color&&(B=3),M){let t=pW[M];v=t.vertexShader,b=t.fragmentShader}else v=o.vertexShader,b=o.fragmentShader,c.update(o),A=c.getVertexShaderID(o),w=c.getFragmentShaderID(o);let L=t.getRenderTarget(),j=!0===y.isInstancedMesh,P=!!o.map,R=!!o.matcap,D=!!k,F=!!o.aoMap,O=!!o.lightMap,N=!!o.bumpMap,U=!!o.normalMap,V=!!o.displacementMap,H=!!o.emissiveMap,Q=!!o.metalnessMap,z=!!o.roughnessMap,G=o.clearcoat>0,q=o.iridescence>0,W=o.sheen>0,$=o.transmission>0,Z=G&&!!o.clearcoatMap,Y=G&&!!o.clearcoatNormalMap,K=G&&!!o.clearcoatRoughnessMap,X=q&&!!o.iridescenceMap,J=q&&!!o.iridescenceThicknessMap,ee=W&&!!o.sheenColorMap,et=W&&!!o.sheenRoughnessMap,en=!!o.specularMap,ei=!!o.specularColorMap,er=!!o.specularIntensityMap,es=$&&!!o.transmissionMap,eo=$&&!!o.thicknessMap,ea=!!o.gradientMap,el=!!o.alphaMap,ec=o.alphaTest>0,eu=!!o.extensions,ed=!!_.attributes.uv2;return{isWebGL2:d,shaderID:M,shaderName:o.type,vertexShader:v,fragmentShader:b,defines:o.defines,customVertexShaderID:A,customFragmentShaderID:w,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,instancing:j,instancingColor:j&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null===L?t.outputEncoding:!0===L.isXRRenderTarget?L.texture.encoding:3e3,map:P,matcap:R,envMap:D,envMapMode:D&&k.mapping,envMapCubeUVHeight:E,aoMap:F,lightMap:O,bumpMap:N,normalMap:U,displacementMap:h&&V,emissiveMap:H,normalMapObjectSpace:U&&1===o.normalMapType,normalMapTangentSpace:U&&0===o.normalMapType,decodeVideoTexture:P&&!0===o.map.isVideoTexture&&3001===o.map.encoding,metalnessMap:Q,roughnessMap:z,clearcoat:G,clearcoatMap:Z,clearcoatNormalMap:Y,clearcoatRoughnessMap:K,iridescence:q,iridescenceMap:X,iridescenceThicknessMap:J,sheen:W,sheenColorMap:ee,sheenRoughnessMap:et,specularMap:en,specularColorMap:ei,specularIntensityMap:er,transmission:$,transmissionMap:es,thicknessMap:eo,gradientMap:ea,opaque:!1===o.transparent&&1===o.blending,alphaMap:el,alphaTest:ec,combine:o.combine,mapUv:P&&g(o.map.channel),aoMapUv:F&&g(o.aoMap.channel),lightMapUv:O&&g(o.lightMap.channel),bumpMapUv:N&&g(o.bumpMap.channel),normalMapUv:U&&g(o.normalMap.channel),displacementMapUv:V&&g(o.displacementMap.channel),emissiveMapUv:H&&g(o.emissiveMap.channel),metalnessMapUv:Q&&g(o.metalnessMap.channel),roughnessMapUv:z&&g(o.roughnessMap.channel),clearcoatMapUv:Z&&g(o.clearcoatMap.channel),clearcoatNormalMapUv:Y&&g(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:K&&g(o.clearcoatRoughnessMap.channel),iridescenceMapUv:X&&g(o.iridescenceMap.channel),iridescenceThicknessMapUv:J&&g(o.iridescenceThicknessMap.channel),sheenColorMapUv:ee&&g(o.sheenColorMap.channel),sheenRoughnessMapUv:et&&g(o.sheenRoughnessMap.channel),specularMapUv:en&&g(o.specularMap.channel),specularColorMapUv:ei&&g(o.specularColorMap.channel),specularIntensityMapUv:er&&g(o.specularIntensityMap.channel),transmissionMapUv:es&&g(o.transmissionMap.channel),thicknessMapUv:eo&&g(o.thicknessMap.channel),alphaMapUv:el&&g(o.alphaMap.channel),vertexTangents:U&&!!_.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,vertexUvs2:ed,pointsUvs:!0===y.isPoints&&!!_.attributes.uv&&(P||el),fog:!!C,useFog:!0===o.fog,fogExp2:C&&C.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:T,morphTextureStride:B,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numSpotLightMaps:l.spotLightMap.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numSpotLightShadowsWithMaps:l.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:o.toneMapped?t.toneMapping:0,useLegacyLights:t.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:eu&&!0===o.extensions.derivatives,extensionFragDepth:eu&&!0===o.extensions.fragDepth,extensionDrawBuffers:eu&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:eu&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(n){let i=[];if(n.shaderID?i.push(n.shaderID):(i.push(n.customVertexShaderID),i.push(n.customFragmentShaderID)),void 0!==n.defines)for(let t in n.defines)i.push(t),i.push(n.defines[t]);return!1===n.isRawShaderMaterial&&(i.push(n.precision),i.push(n.outputEncoding),i.push(n.envMapMode),i.push(n.envMapCubeUVHeight),i.push(n.mapUv),i.push(n.alphaMapUv),i.push(n.lightMapUv),i.push(n.aoMapUv),i.push(n.bumpMapUv),i.push(n.normalMapUv),i.push(n.displacementMapUv),i.push(n.emissiveMapUv),i.push(n.metalnessMapUv),i.push(n.roughnessMapUv),i.push(n.clearcoatMapUv),i.push(n.clearcoatNormalMapUv),i.push(n.clearcoatRoughnessMapUv),i.push(n.iridescenceMapUv),i.push(n.iridescenceThicknessMapUv),i.push(n.sheenColorMapUv),i.push(n.sheenRoughnessMapUv),i.push(n.specularMapUv),i.push(n.specularColorMapUv),i.push(n.specularIntensityMapUv),i.push(n.transmissionMapUv),i.push(n.thicknessMapUv),i.push(n.combine),i.push(n.fogExp2),i.push(n.sizeAttenuation),i.push(n.morphTargetsCount),i.push(n.morphAttributeCount),i.push(n.numDirLights),i.push(n.numPointLights),i.push(n.numSpotLights),i.push(n.numSpotLightMaps),i.push(n.numHemiLights),i.push(n.numRectAreaLights),i.push(n.numDirLightShadows),i.push(n.numPointLightShadows),i.push(n.numSpotLightShadows),i.push(n.numSpotLightShadowsWithMaps),i.push(n.shadowMapType),i.push(n.toneMapping),i.push(n.numClippingPlanes),i.push(n.numClipIntersection),i.push(n.depthPacking),l.disableAll(),n.isWebGL2&&l.enable(0),n.supportsVertexTextures&&l.enable(1),n.instancing&&l.enable(2),n.instancingColor&&l.enable(3),n.matcap&&l.enable(4),n.envMap&&l.enable(5),n.normalMapObjectSpace&&l.enable(6),n.normalMapTangentSpace&&l.enable(7),n.clearcoat&&l.enable(8),n.iridescence&&l.enable(9),n.alphaTest&&l.enable(10),n.vertexColors&&l.enable(11),n.vertexAlphas&&l.enable(12),n.vertexUvs2&&l.enable(13),n.vertexTangents&&l.enable(14),i.push(l.mask),l.disableAll(),n.fog&&l.enable(0),n.useFog&&l.enable(1),n.flatShading&&l.enable(2),n.logarithmicDepthBuffer&&l.enable(3),n.skinning&&l.enable(4),n.morphTargets&&l.enable(5),n.morphNormals&&l.enable(6),n.morphColors&&l.enable(7),n.premultipliedAlpha&&l.enable(8),n.shadowMapEnabled&&l.enable(9),n.useLegacyLights&&l.enable(10),n.doubleSided&&l.enable(11),n.flipSided&&l.enable(12),n.useDepthPacking&&l.enable(13),n.dithering&&l.enable(14),n.transmission&&l.enable(15),n.sheen&&l.enable(16),n.decodeVideoTexture&&l.enable(17),n.opaque&&l.enable(18),n.pointsUvs&&l.enable(19),i.push(l.mask),i.push(t.outputEncoding)),i.push(n.customProgramCacheKey),i.join()},getUniforms:function(t){let n;let i=m[t.type];if(i){let t=pW[i];n=pM.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(n,i){let r;for(let t=0,n=u.length;t<n;t++){let n=u[t];if(n.cacheKey===i){r=n,++r.usedTimes;break}}return void 0===r&&(r=new fb(t,i,n,o),u.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){let n=u.indexOf(t);u[n]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){c.remove(t)},programs:u,dispose:function(){c.dispose()}}}function fS(){let t=new WeakMap;return{get:function(n){let i=t.get(n);return void 0===i&&(i={},t.set(n,i)),i},remove:function(n){t.delete(n)},update:function(n,i,r){t.get(n)[i]=r},dispose:function(){t=new WeakMap}}}function fk(t,n){return t.groupOrder!==n.groupOrder?t.groupOrder-n.groupOrder:t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.material.id!==n.material.id?t.material.id-n.material.id:t.z!==n.z?t.z-n.z:t.id-n.id}function fE(t,n){return t.groupOrder!==n.groupOrder?t.groupOrder-n.groupOrder:t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.z!==n.z?n.z-t.z:t.id-n.id}function fM(){let t=[],n=0,i=[],r=[],s=[];function o(i,r,s,o,a,l){let c=t[n];return void 0===c?(c={id:i.id,object:i,geometry:r,material:s,groupOrder:o,renderOrder:i.renderOrder,z:a,group:l},t[n]=c):(c.id=i.id,c.object=i,c.geometry=r,c.material=s,c.groupOrder=o,c.renderOrder=i.renderOrder,c.z=a,c.group=l),n++,c}return{opaque:i,transmissive:r,transparent:s,init:function(){n=0,i.length=0,r.length=0,s.length=0},push:function(t,n,a,l,c,u){let d=o(t,n,a,l,c,u);a.transmission>0?r.push(d):!0===a.transparent?s.push(d):i.push(d)},unshift:function(t,n,a,l,c,u){let d=o(t,n,a,l,c,u);a.transmission>0?r.unshift(d):!0===a.transparent?s.unshift(d):i.unshift(d)},finish:function(){for(let i=n,r=t.length;i<r;i++){let n=t[i];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.group=null}},sort:function(t,n){i.length>1&&i.sort(t||fk),r.length>1&&r.sort(n||fE),s.length>1&&s.sort(n||fE)}}}function fI(){let t=new WeakMap;return{get:function(n,i){let r;let s=t.get(n);return void 0===s?(r=new fM,t.set(n,[r])):i>=s.length?(r=new fM,s.push(r)):r=s[i],r},dispose:function(){t=new WeakMap}}}function fT(){let t={};return{get:function(n){let i;if(void 0!==t[n.id])return t[n.id];switch(n.type){case"DirectionalLight":i={direction:new uN,color:new dY};break;case"SpotLight":i={position:new uN,direction:new uN,color:new dY,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new uN,color:new dY,distance:0,decay:0};break;case"HemisphereLight":i={direction:new uN,skyColor:new dY,groundColor:new dY};break;case"RectAreaLight":i={color:new dY,position:new uN,halfWidth:new uN,halfHeight:new uN}}return t[n.id]=i,i}}}let fB=0;function fL(t,n){return(n.castShadow?2:0)-(t.castShadow?2:0)+(n.map?1:0)-(t.map?1:0)}function fj(t,n){let i=new fT,r=function(){let t={};return{get:function(n){let i;if(void 0!==t[n.id])return t[n.id];switch(n.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ux};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ux,shadowCameraNear:1,shadowCameraFar:1e3}}return t[n.id]=i,i}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let t=0;t<9;t++)s.probe.push(new uN);let o=new uN,a=new ds,l=new ds;return{setup:function(o,a){let l=0,c=0,u=0;for(let t=0;t<9;t++)s.probe[t].set(0,0,0);let d=0,p=0,h=0,f=0,m=0,g=0,x=0,y=0,v=0,b=0;o.sort(fL);let A=!0===a?Math.PI:1;for(let t=0,n=o.length;t<n;t++){let n=o[t],a=n.color,w=n.intensity,C=n.distance,_=n.shadow&&n.shadow.map?n.shadow.map.texture:null;if(n.isAmbientLight)l+=a.r*w*A,c+=a.g*w*A,u+=a.b*w*A;else if(n.isLightProbe)for(let t=0;t<9;t++)s.probe[t].addScaledVector(n.sh.coefficients[t],w);else if(n.isDirectionalLight){let t=i.get(n);if(t.color.copy(n.color).multiplyScalar(n.intensity*A),n.castShadow){let t=n.shadow,i=r.get(n);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,s.directionalShadow[d]=i,s.directionalShadowMap[d]=_,s.directionalShadowMatrix[d]=n.shadow.matrix,g++}s.directional[d]=t,d++}else if(n.isSpotLight){let t=i.get(n);t.position.setFromMatrixPosition(n.matrixWorld),t.color.copy(a).multiplyScalar(w*A),t.distance=C,t.coneCos=Math.cos(n.angle),t.penumbraCos=Math.cos(n.angle*(1-n.penumbra)),t.decay=n.decay,s.spot[h]=t;let o=n.shadow;if(n.map&&(s.spotLightMap[v]=n.map,v++,o.updateMatrices(n),n.castShadow&&b++),s.spotLightMatrix[h]=o.matrix,n.castShadow){let t=r.get(n);t.shadowBias=o.bias,t.shadowNormalBias=o.normalBias,t.shadowRadius=o.radius,t.shadowMapSize=o.mapSize,s.spotShadow[h]=t,s.spotShadowMap[h]=_,y++}h++}else if(n.isRectAreaLight){let t=i.get(n);t.color.copy(a).multiplyScalar(w),t.halfWidth.set(.5*n.width,0,0),t.halfHeight.set(0,.5*n.height,0),s.rectArea[f]=t,f++}else if(n.isPointLight){let t=i.get(n);if(t.color.copy(n.color).multiplyScalar(n.intensity*A),t.distance=n.distance,t.decay=n.decay,n.castShadow){let t=n.shadow,i=r.get(n);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,i.shadowCameraNear=t.camera.near,i.shadowCameraFar=t.camera.far,s.pointShadow[p]=i,s.pointShadowMap[p]=_,s.pointShadowMatrix[p]=n.shadow.matrix,x++}s.point[p]=t,p++}else if(n.isHemisphereLight){let t=i.get(n);t.skyColor.copy(n.color).multiplyScalar(w*A),t.groundColor.copy(n.groundColor).multiplyScalar(w*A),s.hemi[m]=t,m++}}f>0&&(n.isWebGL2?(s.rectAreaLTC1=pq.LTC_FLOAT_1,s.rectAreaLTC2=pq.LTC_FLOAT_2):!0===t.has("OES_texture_float_linear")?(s.rectAreaLTC1=pq.LTC_FLOAT_1,s.rectAreaLTC2=pq.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=pq.LTC_HALF_1,s.rectAreaLTC2=pq.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=l,s.ambient[1]=c,s.ambient[2]=u;let w=s.hash;(w.directionalLength!==d||w.pointLength!==p||w.spotLength!==h||w.rectAreaLength!==f||w.hemiLength!==m||w.numDirectionalShadows!==g||w.numPointShadows!==x||w.numSpotShadows!==y||w.numSpotMaps!==v)&&(s.directional.length=d,s.spot.length=h,s.rectArea.length=f,s.point.length=p,s.hemi.length=m,s.directionalShadow.length=g,s.directionalShadowMap.length=g,s.pointShadow.length=x,s.pointShadowMap.length=x,s.spotShadow.length=y,s.spotShadowMap.length=y,s.directionalShadowMatrix.length=g,s.pointShadowMatrix.length=x,s.spotLightMatrix.length=y+v-b,s.spotLightMap.length=v,s.numSpotLightShadowsWithMaps=b,w.directionalLength=d,w.pointLength=p,w.spotLength=h,w.rectAreaLength=f,w.hemiLength=m,w.numDirectionalShadows=g,w.numPointShadows=x,w.numSpotShadows=y,w.numSpotMaps=v,s.version=fB++)},setupView:function(t,n){let i=0,r=0,c=0,u=0,d=0,p=n.matrixWorldInverse;for(let n=0,h=t.length;n<h;n++){let h=t[n];if(h.isDirectionalLight){let t=s.directional[i];t.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(p),i++}else if(h.isSpotLight){let t=s.spot[c];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(p),t.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(p),c++}else if(h.isRectAreaLight){let t=s.rectArea[u];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(p),l.identity(),a.copy(h.matrixWorld),a.premultiply(p),l.extractRotation(a),t.halfWidth.set(.5*h.width,0,0),t.halfHeight.set(0,.5*h.height,0),t.halfWidth.applyMatrix4(l),t.halfHeight.applyMatrix4(l),u++}else if(h.isPointLight){let t=s.point[r];t.position.setFromMatrixPosition(h.matrixWorld),t.position.applyMatrix4(p),r++}else if(h.isHemisphereLight){let t=s.hemi[d];t.direction.setFromMatrixPosition(h.matrixWorld),t.direction.transformDirection(p),d++}}},state:s}}function fP(t,n){let i=new fj(t,n),r=[],s=[];return{init:function(){r.length=0,s.length=0},state:{lightsArray:r,shadowsArray:s,lights:i},setupLights:function(t){i.setup(r,t)},setupLightsView:function(t){i.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){s.push(t)}}}function fR(t,n){let i=new WeakMap;return{get:function(r,s=0){let o;let a=i.get(r);return void 0===a?(o=new fP(t,n),i.set(r,[o])):s>=a.length?(o=new fP(t,n),a.push(o)):o=a[s],o},dispose:function(){i=new WeakMap}}}class fD extends dG{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class fF extends dG{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function fO(t,n,i){let r=new pV,s=new ux,o=new ux,a=new uP,l=new fD({depthPacking:3201}),c=new fF,u={},d=i.maxTextureSize,p={0:1,1:0,2:2},h=new pI({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ux},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let m=new pr;m.setAttribute("position",new d3(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let g=new pw(m,h),x=this;function y(n,i,r,s){let o=null,a=!0===r.isPointLight?n.customDistanceMaterial:n.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?c:l,t.localClippingEnabled&&!0===i.clipShadows&&Array.isArray(i.clippingPlanes)&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0||i.map&&i.alphaTest>0){let t=o.uuid,n=i.uuid,r=u[t];void 0===r&&(r={},u[t]=r);let s=r[n];void 0===s&&(s=o.clone(),r[n]=s),o=s}return o.visible=i.visible,o.wireframe=i.wireframe,3===s?o.side=null!==i.shadowSide?i.shadowSide:i.side:o.side=null!==i.shadowSide?i.shadowSide:p[i.side],o.alphaMap=i.alphaMap,o.alphaTest=i.alphaTest,o.map=i.map,o.clipShadows=i.clipShadows,o.clippingPlanes=i.clippingPlanes,o.clipIntersection=i.clipIntersection,o.displacementMap=i.displacementMap,o.displacementScale=i.displacementScale,o.displacementBias=i.displacementBias,o.wireframeLinewidth=i.wireframeLinewidth,o.linewidth=i.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial&&(t.properties.get(o).light=r),o}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(i,l,c){if(!1===x.enabled||!1===x.autoUpdate&&!1===x.needsUpdate||0===i.length)return;let u=t.getRenderTarget(),p=t.getActiveCubeFace(),m=t.getActiveMipmapLevel(),v=t.state;v.setBlending(0),v.buffers.color.setClear(1,1,1,1),v.buffers.depth.setTest(!0),v.setScissorTest(!1);for(let u=0,p=i.length;u<p;u++){let p=i[u],m=p.shadow;if(void 0===m){console.warn("THREE.WebGLShadowMap:",p,"has no shadow.");continue}if(!1===m.autoUpdate&&!1===m.needsUpdate)continue;s.copy(m.mapSize);let x=m.getFrameExtents();if(s.multiply(x),o.copy(m.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(o.x=Math.floor(d/x.x),s.x=o.x*x.x,m.mapSize.x=o.x),s.y>d&&(o.y=Math.floor(d/x.y),s.y=o.y*x.y,m.mapSize.y=o.y)),null===m.map){let t=3!==this.type?{minFilter:1003,magFilter:1003}:{};m.map=new uR(s.x,s.y,t),m.map.texture.name=p.name+".shadowMap",m.camera.updateProjectionMatrix()}t.setRenderTarget(m.map),t.clear();let b=m.getViewportCount();for(let i=0;i<b;i++){let s=m.getViewport(i);a.set(o.x*s.x,o.y*s.y,o.x*s.z,o.y*s.w),v.viewport(a),m.updateMatrices(p,i),r=m.getFrustum(),function i(s,o,a,l,c){if(!1===s.visible)return;if(s.layers.test(o.layers)&&(s.isMesh||s.isLine||s.isPoints)&&(s.castShadow||s.receiveShadow&&3===c)&&(!s.frustumCulled||r.intersectsObject(s))){s.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,s.matrixWorld);let i=n.update(s),r=s.material;if(Array.isArray(r)){let n=i.groups;for(let o=0,u=n.length;o<u;o++){let u=n[o],d=r[u.materialIndex];if(d&&d.visible){let n=y(s,d,l,c);t.renderBufferDirect(a,null,i,n,s,u)}}}else if(r.visible){let n=y(s,r,l,c);t.renderBufferDirect(a,null,i,n,s,null)}}let u=s.children;for(let t=0,n=u.length;t<n;t++)i(u[t],o,a,l,c)}(l,c,m.camera,p,this.type)}!0!==m.isPointLightShadow&&3===this.type&&function(i,r){let o=n.update(g);h.defines.VSM_SAMPLES!==i.blurSamples&&(h.defines.VSM_SAMPLES=i.blurSamples,f.defines.VSM_SAMPLES=i.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===i.mapPass&&(i.mapPass=new uR(s.x,s.y)),h.uniforms.shadow_pass.value=i.map.texture,h.uniforms.resolution.value=i.mapSize,h.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(r,null,o,h,g,null),f.uniforms.shadow_pass.value=i.mapPass.texture,f.uniforms.resolution.value=i.mapSize,f.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(r,null,o,f,g,null)}(m,c),m.needsUpdate=!1}x.needsUpdate=!1,t.setRenderTarget(u,p,m)}}function fN(t,n,i){let r=i.isWebGL2,s=new function(){let n=!1,i=new uP,r=null,s=new uP(0,0,0,0);return{setMask:function(i){r===i||n||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){n=t},setClear:function(n,r,o,a,l){!0===l&&(n*=a,r*=a,o*=a),i.set(n,r,o,a),!1===s.equals(i)&&(t.clearColor(n,r,o,a),s.copy(i))},reset:function(){n=!1,r=null,s.set(-1,0,0,0)}}},o=new function(){let n=!1,i=null,r=null,s=null;return{setTest:function(t){t?U(2929):V(2929)},setMask:function(r){i===r||n||(t.depthMask(r),i=r)},setFunc:function(n){if(r!==n){switch(n){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}r=n}},setLocked:function(t){n=t},setClear:function(n){s!==n&&(t.clearDepth(n),s=n)},reset:function(){n=!1,i=null,r=null,s=null}}},a=new function(){let n=!1,i=null,r=null,s=null,o=null,a=null,l=null,c=null,u=null;return{setTest:function(t){n||(t?U(2960):V(2960))},setMask:function(r){i===r||n||(t.stencilMask(r),i=r)},setFunc:function(n,i,a){(r!==n||s!==i||o!==a)&&(t.stencilFunc(n,i,a),r=n,s=i,o=a)},setOp:function(n,i,r){(a!==n||l!==i||c!==r)&&(t.stencilOp(n,i,r),a=n,l=i,c=r)},setLocked:function(t){n=t},setClear:function(n){u!==n&&(t.clearStencil(n),u=n)},reset:function(){n=!1,i=null,r=null,s=null,o=null,a=null,l=null,c=null,u=null}}},l=new WeakMap,c=new WeakMap,u={},d={},p=new WeakMap,h=[],f=null,m=!1,g=null,x=null,y=null,v=null,b=null,A=null,w=null,C=!1,_=null,S=null,k=null,E=null,M=null,I=t.getParameter(35661),T=!1,B=t.getParameter(7938);-1!==B.indexOf("WebGL")?T=parseFloat(/^WebGL (\d)/.exec(B)[1])>=1:-1!==B.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL ES (\d)/.exec(B)[1])>=2);let L=null,j={},P=t.getParameter(3088),R=t.getParameter(2978),D=new uP().fromArray(P),F=new uP().fromArray(R);function O(n,i,r){let s=new Uint8Array(4),o=t.createTexture();t.bindTexture(n,o),t.texParameteri(n,10241,9728),t.texParameteri(n,10240,9728);for(let n=0;n<r;n++)t.texImage2D(i+n,0,6408,1,1,0,6408,5121,s);return o}let N={};function U(n){!0!==u[n]&&(t.enable(n),u[n]=!0)}function V(n){!1!==u[n]&&(t.disable(n),u[n]=!1)}N[3553]=O(3553,3553,1),N[34067]=O(34067,34069,6),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),U(2929),o.setFunc(3),G(!1),q(1),U(2884),z(0);let H={100:32774,101:32778,102:32779};if(r)H[103]=32775,H[104]=32776;else{let t=n.get("EXT_blend_minmax");null!==t&&(H[103]=t.MIN_EXT,H[104]=t.MAX_EXT)}let Q={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function z(n,i,r,s,o,a,l,c){if(0===n){!0===m&&(V(3042),m=!1);return}if(!1===m&&(U(3042),m=!0),5!==n){if(n!==g||c!==C){if((100!==x||100!==b)&&(t.blendEquation(32774),x=100,b=100),c)switch(n){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",n)}else switch(n){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",n)}y=null,v=null,A=null,w=null,g=n,C=c}return}o=o||i,a=a||r,l=l||s,(i!==x||o!==b)&&(t.blendEquationSeparate(H[i],H[o]),x=i,b=o),(r!==y||s!==v||a!==A||l!==w)&&(t.blendFuncSeparate(Q[r],Q[s],Q[a],Q[l]),y=r,v=s,A=a,w=l),g=n,C=!1}function G(n){_!==n&&(n?t.frontFace(2304):t.frontFace(2305),_=n)}function q(n){0!==n?(U(2884),n!==S&&(1===n?t.cullFace(1029):2===n?t.cullFace(1028):t.cullFace(1032))):V(2884),S=n}function W(n,i,r){n?(U(32823),(E!==i||M!==r)&&(t.polygonOffset(i,r),E=i,M=r)):V(32823)}return{buffers:{color:s,depth:o,stencil:a},enable:U,disable:V,bindFramebuffer:function(n,i){return d[n]!==i&&(t.bindFramebuffer(n,i),d[n]=i,r&&(36009===n&&(d[36160]=i),36160===n&&(d[36009]=i)),!0)},drawBuffers:function(r,s){let o=h,a=!1;if(r){if(void 0===(o=p.get(s))&&(o=[],p.set(s,o)),r.isWebGLMultipleRenderTargets){let t=r.texture;if(o.length!==t.length||36064!==o[0]){for(let n=0,i=t.length;n<i;n++)o[n]=36064+n;o.length=t.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0)}else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(i.isWebGL2?t.drawBuffers(o):n.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(n){return f!==n&&(t.useProgram(n),f=n,!0)},setBlending:z,setMaterial:function(t,n){2===t.side?V(2884):U(2884);let i=1===t.side;n&&(i=!i),G(i),1===t.blending&&!1===t.transparent?z(0):z(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),s.setMask(t.colorWrite);let r=t.stencilWrite;a.setTest(r),r&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?U(32926):V(32926)},setFlipSided:G,setCullFace:q,setLineWidth:function(n){n!==k&&(T&&t.lineWidth(n),k=n)},setPolygonOffset:W,setScissorTest:function(t){t?U(3089):V(3089)},activeTexture:function(n){void 0===n&&(n=33984+I-1),L!==n&&(t.activeTexture(n),L=n)},bindTexture:function(n,i,r){void 0===r&&(r=null===L?33984+I-1:L);let s=j[r];void 0===s&&(s={type:void 0,texture:void 0},j[r]=s),(s.type!==n||s.texture!==i)&&(L!==r&&(t.activeTexture(r),L=r),t.bindTexture(n,i||N[n]),s.type=n,s.texture=i)},unbindTexture:function(){let n=j[L];void 0!==n&&void 0!==n.type&&(t.bindTexture(n.type,null),n.type=void 0,n.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(n,i){let r=c.get(i);void 0===r&&(r=new WeakMap,c.set(i,r));let s=r.get(n);void 0===s&&(s=t.getUniformBlockIndex(i,n.name),r.set(n,s))},uniformBlockBinding:function(n,i){let r=c.get(i).get(n);l.get(i)!==r&&(t.uniformBlockBinding(i,r,n.__bindingPointIndex),l.set(i,r))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(n){!1===D.equals(n)&&(t.scissor(n.x,n.y,n.z,n.w),D.copy(n))},viewport:function(n){!1===F.equals(n)&&(t.viewport(n.x,n.y,n.z,n.w),F.copy(n))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===r&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},L=null,j={},d={},p=new WeakMap,h=[],f=null,m=!1,g=null,x=null,y=null,v=null,b=null,A=null,w=null,C=!1,_=null,S=null,k=null,E=null,M=null,D.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}}}function fU(t,n,i,r,s,o,a){let l;let c=s.isWebGL2,u=s.maxTextures,d=s.maxCubemapSize,p=s.maxTextureSize,h=s.maxSamples,f=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,x=new WeakMap,y=!1;try{y="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function v(t,n){return y?new OffscreenCanvas(t,n):uA("canvas")}function b(t,n,i,r){let s=1;if((t.width>r||t.height>r)&&(s=r/Math.max(t.width,t.height)),s<1||!0===n){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){let r=n?uh:Math.floor,o=r(s*t.width),a=r(s*t.height);void 0===l&&(l=v(o,a));let c=i?v(o,a):l;return c.width=o,c.height=a,c.getContext("2d").drawImage(t,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+a+")."),c}"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+").")}return t}function A(t){return up(t.width)&&up(t.height)}function w(t,n){return t.generateMipmaps&&n&&1003!==t.minFilter&&1006!==t.minFilter}function C(n){t.generateMipmap(n)}function _(i,r,s,o,a=!1){if(!1===c)return r;if(null!==i){if(void 0!==t[i])return t[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}let l=r;return 6403===r&&(5126===s&&(l=33326),5131===s&&(l=33325),5121===s&&(l=33321)),33319===r&&(5126===s&&(l=33328),5131===s&&(l=33327),5121===s&&(l=33323)),6408===r&&(5126===s&&(l=34836),5131===s&&(l=34842),5121===s&&(l=3001===o&&!1===a?35907:32856),32819===s&&(l=32854),32820===s&&(l=32855)),(33325===l||33326===l||33327===l||33328===l||34842===l||34836===l)&&n.get("EXT_color_buffer_float"),l}function S(t,n,i){return!0===w(t,i)||t.isFramebufferTexture&&1003!==t.minFilter&&1006!==t.minFilter?Math.log2(Math.max(n.width,n.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?n.mipmaps.length:1}function k(t){return 1003===t||1004===t||1005===t?9728:9729}function E(t){let n=t.target;n.removeEventListener("dispose",E),function(t){let n=r.get(t);if(void 0===n.__webglInit)return;let i=t.source,s=x.get(i);if(s){let r=s[n.__cacheKey];r.usedTimes--,0===r.usedTimes&&I(t),0===Object.keys(s).length&&x.delete(i)}r.remove(t)}(n),n.isVideoTexture&&g.delete(n)}function M(n){let i=n.target;i.removeEventListener("dispose",M),function(n){let i=n.texture,s=r.get(n),o=r.get(i);if(void 0!==o.__webglTexture&&(t.deleteTexture(o.__webglTexture),a.memory.textures--),n.depthTexture&&n.depthTexture.dispose(),n.isWebGLCubeRenderTarget)for(let n=0;n<6;n++)t.deleteFramebuffer(s.__webglFramebuffer[n]),s.__webglDepthbuffer&&t.deleteRenderbuffer(s.__webglDepthbuffer[n]);else{if(t.deleteFramebuffer(s.__webglFramebuffer),s.__webglDepthbuffer&&t.deleteRenderbuffer(s.__webglDepthbuffer),s.__webglMultisampledFramebuffer&&t.deleteFramebuffer(s.__webglMultisampledFramebuffer),s.__webglColorRenderbuffer)for(let n=0;n<s.__webglColorRenderbuffer.length;n++)s.__webglColorRenderbuffer[n]&&t.deleteRenderbuffer(s.__webglColorRenderbuffer[n]);s.__webglDepthRenderbuffer&&t.deleteRenderbuffer(s.__webglDepthRenderbuffer)}if(n.isWebGLMultipleRenderTargets)for(let n=0,s=i.length;n<s;n++){let s=r.get(i[n]);s.__webglTexture&&(t.deleteTexture(s.__webglTexture),a.memory.textures--),r.remove(i[n])}r.remove(i),r.remove(n)}(i)}function I(n){let i=r.get(n);t.deleteTexture(i.__webglTexture);let s=n.source,o=x.get(s);delete o[i.__cacheKey],a.memory.textures--}let T=0;function B(t,n){let s=r.get(t);if(t.isVideoTexture&&function(t){let n=a.render.frame;g.get(t)!==n&&(g.set(t,n),t.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&s.__version!==t.version){let i=t.image;if(null===i)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===i.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{D(s,t,n);return}}i.bindTexture(3553,s.__webglTexture,33984+n)}let L={1e3:10497,1001:33071,1002:33648},j={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function P(i,o,a){if(a?(t.texParameteri(i,10242,L[o.wrapS]),t.texParameteri(i,10243,L[o.wrapT]),(32879===i||35866===i)&&t.texParameteri(i,32882,L[o.wrapR]),t.texParameteri(i,10240,j[o.magFilter]),t.texParameteri(i,10241,j[o.minFilter])):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),(32879===i||35866===i)&&t.texParameteri(i,32882,33071),(1001!==o.wrapS||1001!==o.wrapT)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(i,10240,k(o.magFilter)),t.texParameteri(i,10241,k(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===n.has("EXT_texture_filter_anisotropic")){let a=n.get("EXT_texture_filter_anisotropic");1003!==o.magFilter&&(1005===o.minFilter||1008===o.minFilter)&&(1015!==o.type||!1!==n.has("OES_texture_float_linear"))&&(!1!==c||1016!==o.type||!1!==n.has("OES_texture_half_float_linear"))&&(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,s.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function R(n,i){let r=!1;void 0===n.__webglInit&&(n.__webglInit=!0,i.addEventListener("dispose",E));let s=i.source,o=x.get(s);void 0===o&&(o={},x.set(s,o));let l=function(t){let n=[];return n.push(t.wrapS),n.push(t.wrapT),n.push(t.wrapR||0),n.push(t.magFilter),n.push(t.minFilter),n.push(t.anisotropy),n.push(t.internalFormat),n.push(t.format),n.push(t.type),n.push(t.generateMipmaps),n.push(t.premultiplyAlpha),n.push(t.flipY),n.push(t.unpackAlignment),n.push(t.encoding),n.join()}(i);if(l!==n.__cacheKey){void 0===o[l]&&(o[l]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[l].usedTimes++;let s=o[n.__cacheKey];void 0!==s&&(o[n.__cacheKey].usedTimes--,0===s.usedTimes&&I(i)),n.__cacheKey=l,n.__webglTexture=o[l].texture}return r}function D(n,s,a){let l=3553;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=35866),s.isData3DTexture&&(l=32879);let u=R(n,s),d=s.source;i.bindTexture(l,n.__webglTexture,33984+a);let h=r.get(d);if(d.version!==h.__version||!0===u){let n;i.activeTexture(33984+a),t.pixelStorei(37440,s.flipY),t.pixelStorei(37441,s.premultiplyAlpha),t.pixelStorei(3317,s.unpackAlignment),t.pixelStorei(37443,0);let r=!c&&(1001!==s.wrapS||1001!==s.wrapT||1003!==s.minFilter&&1006!==s.minFilter)&&!1===A(s.image),f=b(s.image,r,!1,p),m=A(f=H(s,f))||c,g=o.convert(s.format,s.encoding),x=o.convert(s.type),y=_(s.internalFormat,g,x,s.encoding,s.isVideoTexture);P(l,s,m);let v=s.mipmaps,k=c&&!0!==s.isVideoTexture,E=void 0===h.__version||!0===u,M=S(s,f,m);if(s.isDepthTexture)y=6402,c?y=1015===s.type?36012:1014===s.type?33190:1020===s.type?35056:33189:1015===s.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===s.format&&6402===y&&1012!==s.type&&1014!==s.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),s.type=1014,x=o.convert(s.type)),1027===s.format&&6402===y&&(y=34041,1020!==s.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),s.type=1020,x=o.convert(s.type))),E&&(k?i.texStorage2D(3553,1,y,f.width,f.height):i.texImage2D(3553,0,y,f.width,f.height,0,g,x,null));else if(s.isDataTexture){if(v.length>0&&m){k&&E&&i.texStorage2D(3553,M,y,v[0].width,v[0].height);for(let t=0,r=v.length;t<r;t++)n=v[t],k?i.texSubImage2D(3553,t,0,0,n.width,n.height,g,x,n.data):i.texImage2D(3553,t,y,n.width,n.height,0,g,x,n.data);s.generateMipmaps=!1}else k?(E&&i.texStorage2D(3553,M,y,f.width,f.height),i.texSubImage2D(3553,0,0,0,f.width,f.height,g,x,f.data)):i.texImage2D(3553,0,y,f.width,f.height,0,g,x,f.data)}else if(s.isCompressedTexture){if(s.isCompressedArrayTexture){k&&E&&i.texStorage3D(35866,M,y,v[0].width,v[0].height,f.depth);for(let t=0,r=v.length;t<r;t++)n=v[t],1023!==s.format?null!==g?k?i.compressedTexSubImage3D(35866,t,0,0,0,n.width,n.height,f.depth,g,n.data,0,0):i.compressedTexImage3D(35866,t,y,n.width,n.height,f.depth,0,n.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?i.texSubImage3D(35866,t,0,0,0,n.width,n.height,f.depth,g,x,n.data):i.texImage3D(35866,t,y,n.width,n.height,f.depth,0,g,x,n.data)}else{k&&E&&i.texStorage2D(3553,M,y,v[0].width,v[0].height);for(let t=0,r=v.length;t<r;t++)n=v[t],1023!==s.format?null!==g?k?i.compressedTexSubImage2D(3553,t,0,0,n.width,n.height,g,n.data):i.compressedTexImage2D(3553,t,y,n.width,n.height,0,n.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?i.texSubImage2D(3553,t,0,0,n.width,n.height,g,x,n.data):i.texImage2D(3553,t,y,n.width,n.height,0,g,x,n.data)}}else if(s.isDataArrayTexture)k?(E&&i.texStorage3D(35866,M,y,f.width,f.height,f.depth),i.texSubImage3D(35866,0,0,0,0,f.width,f.height,f.depth,g,x,f.data)):i.texImage3D(35866,0,y,f.width,f.height,f.depth,0,g,x,f.data);else if(s.isData3DTexture)k?(E&&i.texStorage3D(32879,M,y,f.width,f.height,f.depth),i.texSubImage3D(32879,0,0,0,0,f.width,f.height,f.depth,g,x,f.data)):i.texImage3D(32879,0,y,f.width,f.height,f.depth,0,g,x,f.data);else if(s.isFramebufferTexture){if(E){if(k)i.texStorage2D(3553,M,y,f.width,f.height);else{let t=f.width,n=f.height;for(let r=0;r<M;r++)i.texImage2D(3553,r,y,t,n,0,g,x,null),t>>=1,n>>=1}}}else if(v.length>0&&m){k&&E&&i.texStorage2D(3553,M,y,v[0].width,v[0].height);for(let t=0,r=v.length;t<r;t++)n=v[t],k?i.texSubImage2D(3553,t,0,0,g,x,n):i.texImage2D(3553,t,y,g,x,n);s.generateMipmaps=!1}else k?(E&&i.texStorage2D(3553,M,y,f.width,f.height),i.texSubImage2D(3553,0,0,0,g,x,f)):i.texImage2D(3553,0,y,g,x,f);w(s,m)&&C(l),h.__version=d.version,s.onUpdate&&s.onUpdate(s)}n.__version=s.version}function F(n,s,a,l,c){let u=o.convert(a.format,a.encoding),d=o.convert(a.type),p=_(a.internalFormat,u,d,a.encoding);r.get(s).__hasExternalTextures||(32879===c||35866===c?i.texImage3D(c,0,p,s.width,s.height,s.depth,0,u,d,null):i.texImage2D(c,0,p,s.width,s.height,0,u,d,null)),i.bindFramebuffer(36160,n),V(s)?f.framebufferTexture2DMultisampleEXT(36160,l,c,r.get(a).__webglTexture,0,U(s)):(3553===c||c>=34069&&c<=34074)&&t.framebufferTexture2D(36160,l,c,r.get(a).__webglTexture,0),i.bindFramebuffer(36160,null)}function O(n,i,r){if(t.bindRenderbuffer(36161,n),i.depthBuffer&&!i.stencilBuffer){let s=33189;if(r||V(i)){let n=i.depthTexture;n&&n.isDepthTexture&&(1015===n.type?s=36012:1014===n.type&&(s=33190));let r=U(i);V(i)?f.renderbufferStorageMultisampleEXT(36161,r,s,i.width,i.height):t.renderbufferStorageMultisample(36161,r,s,i.width,i.height)}else t.renderbufferStorage(36161,s,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,n)}else if(i.depthBuffer&&i.stencilBuffer){let s=U(i);r&&!1===V(i)?t.renderbufferStorageMultisample(36161,s,35056,i.width,i.height):V(i)?f.renderbufferStorageMultisampleEXT(36161,s,35056,i.width,i.height):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,n)}else{let n=!0===i.isWebGLMultipleRenderTargets?i.texture:[i.texture];for(let s=0;s<n.length;s++){let a=n[s],l=o.convert(a.format,a.encoding),c=o.convert(a.type),u=_(a.internalFormat,l,c,a.encoding),d=U(i);r&&!1===V(i)?t.renderbufferStorageMultisample(36161,d,u,i.width,i.height):V(i)?f.renderbufferStorageMultisampleEXT(36161,d,u,i.width,i.height):t.renderbufferStorage(36161,u,i.width,i.height)}}t.bindRenderbuffer(36161,null)}function N(n){let s=r.get(n),o=!0===n.isWebGLCubeRenderTarget;if(n.depthTexture&&!s.__autoAllocateDepthBuffer){if(o)throw Error("target.depthTexture not supported in Cube render targets");!function(n,s){if(s&&s.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,n),!(s.depthTexture&&s.depthTexture.isDepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(s.depthTexture).__webglTexture&&s.depthTexture.image.width===s.width&&s.depthTexture.image.height===s.height||(s.depthTexture.image.width=s.width,s.depthTexture.image.height=s.height,s.depthTexture.needsUpdate=!0),B(s.depthTexture,0);let o=r.get(s.depthTexture).__webglTexture,a=U(s);if(1026===s.depthTexture.format)V(s)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):t.framebufferTexture2D(36160,36096,3553,o,0);else if(1027===s.depthTexture.format)V(s)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):t.framebufferTexture2D(36160,33306,3553,o,0);else throw Error("Unknown depthTexture format")}(s.__webglFramebuffer,n)}else if(o){s.__webglDepthbuffer=[];for(let r=0;r<6;r++)i.bindFramebuffer(36160,s.__webglFramebuffer[r]),s.__webglDepthbuffer[r]=t.createRenderbuffer(),O(s.__webglDepthbuffer[r],n,!1)}else i.bindFramebuffer(36160,s.__webglFramebuffer),s.__webglDepthbuffer=t.createRenderbuffer(),O(s.__webglDepthbuffer,n,!1);i.bindFramebuffer(36160,null)}function U(t){return Math.min(h,t.samples)}function V(t){let i=r.get(t);return c&&t.samples>0&&!0===n.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function H(t,i){let r=t.encoding,s=t.format,o=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||1035===t.format||3e3!==r&&(3001===r?!1===c?!0===n.has("EXT_sRGB")&&1023===s?(t.format=1035,t.minFilter=1006,t.generateMipmaps=!1):i=uI.sRGBToLinear(i):(1023!==s||1009!==o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),i}this.allocateTextureUnit=function(){let t=T;return t>=u&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+u),T+=1,t},this.resetTextureUnits=function(){T=0},this.setTexture2D=B,this.setTexture2DArray=function(t,n){let s=r.get(t);if(t.version>0&&s.__version!==t.version){D(s,t,n);return}i.bindTexture(35866,s.__webglTexture,33984+n)},this.setTexture3D=function(t,n){let s=r.get(t);if(t.version>0&&s.__version!==t.version){D(s,t,n);return}i.bindTexture(32879,s.__webglTexture,33984+n)},this.setTextureCube=function(n,s){let a=r.get(n);if(n.version>0&&a.__version!==n.version){(function(n,s,a){if(6!==s.image.length)return;let l=R(n,s),u=s.source;i.bindTexture(34067,n.__webglTexture,33984+a);let p=r.get(u);if(u.version!==p.__version||!0===l){let n;i.activeTexture(33984+a),t.pixelStorei(37440,s.flipY),t.pixelStorei(37441,s.premultiplyAlpha),t.pixelStorei(3317,s.unpackAlignment),t.pixelStorei(37443,0);let r=s.isCompressedTexture||s.image[0].isCompressedTexture,h=s.image[0]&&s.image[0].isDataTexture,f=[];for(let t=0;t<6;t++)r||h?f[t]=h?s.image[t].image:s.image[t]:f[t]=b(s.image[t],!1,!0,d),f[t]=H(s,f[t]);let m=f[0],g=A(m)||c,x=o.convert(s.format,s.encoding),y=o.convert(s.type),v=_(s.internalFormat,x,y,s.encoding),k=c&&!0!==s.isVideoTexture,E=void 0===p.__version||!0===l,M=S(s,m,g);if(P(34067,s,g),r){k&&E&&i.texStorage2D(34067,M,v,m.width,m.height);for(let t=0;t<6;t++){n=f[t].mipmaps;for(let r=0;r<n.length;r++){let o=n[r];1023!==s.format?null!==x?k?i.compressedTexSubImage2D(34069+t,r,0,0,o.width,o.height,x,o.data):i.compressedTexImage2D(34069+t,r,v,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):k?i.texSubImage2D(34069+t,r,0,0,o.width,o.height,x,y,o.data):i.texImage2D(34069+t,r,v,o.width,o.height,0,x,y,o.data)}}}else{n=s.mipmaps,k&&E&&(n.length>0&&M++,i.texStorage2D(34067,M,v,f[0].width,f[0].height));for(let t=0;t<6;t++)if(h){k?i.texSubImage2D(34069+t,0,0,0,f[t].width,f[t].height,x,y,f[t].data):i.texImage2D(34069+t,0,v,f[t].width,f[t].height,0,x,y,f[t].data);for(let r=0;r<n.length;r++){let s=n[r].image[t].image;k?i.texSubImage2D(34069+t,r+1,0,0,s.width,s.height,x,y,s.data):i.texImage2D(34069+t,r+1,v,s.width,s.height,0,x,y,s.data)}}else{k?i.texSubImage2D(34069+t,0,0,0,x,y,f[t]):i.texImage2D(34069+t,0,v,x,y,f[t]);for(let r=0;r<n.length;r++){let s=n[r];k?i.texSubImage2D(34069+t,r+1,0,0,x,y,s.image[t]):i.texImage2D(34069+t,r+1,v,x,y,s.image[t])}}}w(s,g)&&C(34067),p.__version=u.version,s.onUpdate&&s.onUpdate(s)}n.__version=s.version})(a,n,s);return}i.bindTexture(34067,a.__webglTexture,33984+s)},this.rebindTextures=function(t,n,i){let s=r.get(t);void 0!==n&&F(s.__webglFramebuffer,t,t.texture,36064,3553),void 0!==i&&N(t)},this.setupRenderTarget=function(n){let l=n.texture,u=r.get(n),d=r.get(l);n.addEventListener("dispose",M),!0!==n.isWebGLMultipleRenderTargets&&(void 0===d.__webglTexture&&(d.__webglTexture=t.createTexture()),d.__version=l.version,a.memory.textures++);let p=!0===n.isWebGLCubeRenderTarget,h=!0===n.isWebGLMultipleRenderTargets,f=A(n)||c;if(p){u.__webglFramebuffer=[];for(let n=0;n<6;n++)u.__webglFramebuffer[n]=t.createFramebuffer()}else{if(u.__webglFramebuffer=t.createFramebuffer(),h){if(s.drawBuffers){let i=n.texture;for(let n=0,s=i.length;n<s;n++){let s=r.get(i[n]);void 0===s.__webglTexture&&(s.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.")}if(c&&n.samples>0&&!1===V(n)){let r=h?l:[l];u.__webglMultisampledFramebuffer=t.createFramebuffer(),u.__webglColorRenderbuffer=[],i.bindFramebuffer(36160,u.__webglMultisampledFramebuffer);for(let i=0;i<r.length;i++){let s=r[i];u.__webglColorRenderbuffer[i]=t.createRenderbuffer(),t.bindRenderbuffer(36161,u.__webglColorRenderbuffer[i]);let a=o.convert(s.format,s.encoding),l=o.convert(s.type),c=_(s.internalFormat,a,l,s.encoding,!0===n.isXRRenderTarget),d=U(n);t.renderbufferStorageMultisample(36161,d,c,n.width,n.height),t.framebufferRenderbuffer(36160,36064+i,36161,u.__webglColorRenderbuffer[i])}t.bindRenderbuffer(36161,null),n.depthBuffer&&(u.__webglDepthRenderbuffer=t.createRenderbuffer(),O(u.__webglDepthRenderbuffer,n,!0)),i.bindFramebuffer(36160,null)}}if(p){i.bindTexture(34067,d.__webglTexture),P(34067,l,f);for(let t=0;t<6;t++)F(u.__webglFramebuffer[t],n,l,36064,34069+t);w(l,f)&&C(34067),i.unbindTexture()}else if(h){let t=n.texture;for(let s=0,o=t.length;s<o;s++){let o=t[s],a=r.get(o);i.bindTexture(3553,a.__webglTexture),P(3553,o,f),F(u.__webglFramebuffer,n,o,36064+s,3553),w(o,f)&&C(3553)}i.unbindTexture()}else{let t=3553;(n.isWebGL3DRenderTarget||n.isWebGLArrayRenderTarget)&&(c?t=n.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(t,d.__webglTexture),P(t,l,f),F(u.__webglFramebuffer,n,l,36064,t),w(l,f)&&C(t),i.unbindTexture()}n.depthBuffer&&N(n)},this.updateRenderTargetMipmap=function(t){let n=A(t)||c,s=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let o=0,a=s.length;o<a;o++){let a=s[o];if(w(a,n)){let n=t.isWebGLCubeRenderTarget?34067:3553,s=r.get(a).__webglTexture;i.bindTexture(n,s),C(n),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function(n){if(c&&n.samples>0&&!1===V(n)){let s=n.isWebGLMultipleRenderTargets?n.texture:[n.texture],o=n.width,a=n.height,l=16384,c=[],u=n.stencilBuffer?33306:36096,d=r.get(n),p=!0===n.isWebGLMultipleRenderTargets;if(p)for(let n=0;n<s.length;n++)i.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+n,36161,null),i.bindFramebuffer(36160,d.__webglFramebuffer),t.framebufferTexture2D(36009,36064+n,3553,null,0);i.bindFramebuffer(36008,d.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,d.__webglFramebuffer);for(let i=0;i<s.length;i++){c.push(36064+i),n.depthBuffer&&c.push(u);let h=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;if(!1===h&&(n.depthBuffer&&(l|=256),n.stencilBuffer&&(l|=1024)),p&&t.framebufferRenderbuffer(36008,36064,36161,d.__webglColorRenderbuffer[i]),!0===h&&(t.invalidateFramebuffer(36008,[u]),t.invalidateFramebuffer(36009,[u])),p){let n=r.get(s[i]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,n,0)}t.blitFramebuffer(0,0,o,a,0,0,o,a,l,9728),m&&t.invalidateFramebuffer(36008,c)}if(i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),p)for(let n=0;n<s.length;n++){i.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+n,36161,d.__webglColorRenderbuffer[n]);let o=r.get(s[n]).__webglTexture;i.bindFramebuffer(36160,d.__webglFramebuffer),t.framebufferTexture2D(36009,36064+n,3553,o,0)}i.bindFramebuffer(36009,d.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=F,this.useMultisampledRTT=V}function fV(t,n,i){let r=i.isWebGL2;return{convert:function(i,s=null){let o;if(1009===i)return 5121;if(1017===i)return 32819;if(1018===i)return 32820;if(1010===i)return 5120;if(1011===i)return 5122;if(1012===i)return 5123;if(1013===i)return 5124;if(1014===i)return 5125;if(1015===i)return 5126;if(1016===i)return r?5131:null!==(o=n.get("OES_texture_half_float"))?o.HALF_FLOAT_OES:null;if(1021===i)return 6406;if(1023===i)return 6408;if(1024===i)return 6409;if(1025===i)return 6410;if(1026===i)return 6402;if(1027===i)return 34041;if(1035===i)return null!==(o=n.get("EXT_sRGB"))?o.SRGB_ALPHA_EXT:null;if(1028===i)return 6403;if(1029===i)return 36244;if(1030===i)return 33319;if(1031===i)return 33320;if(1033===i)return 36249;if(33776===i||33777===i||33778===i||33779===i){if(3001===s){if(null===(o=n.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(33776===i)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===i)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===i)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===i)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(o=n.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===i)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===i)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===i)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===i)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(35840===i||35841===i||35842===i||35843===i){if(null===(o=n.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===i)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===i)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===i)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===i)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===i)return null!==(o=n.get("WEBGL_compressed_texture_etc1"))?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===i||37496===i){if(null===(o=n.get("WEBGL_compressed_texture_etc")))return null;if(37492===i)return 3001===s?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===i||37809===i||37810===i||37811===i||37812===i||37813===i||37814===i||37815===i||37816===i||37817===i||37818===i||37819===i||37820===i||37821===i){if(null===(o=n.get("WEBGL_compressed_texture_astc")))return null;if(37808===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===i)return 3001===s?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===i){if(null===(o=n.get("EXT_texture_compression_bptc")))return null;if(36492===i)return 3001===s?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===i||36284===i||36285===i||36286===i){if(null===(o=n.get("EXT_texture_compression_rgtc")))return null;if(36492===i)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===i)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===i)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===i)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===i?r?34042:null!==(o=n.get("WEBGL_depth_texture"))?o.UNSIGNED_INT_24_8_WEBGL:null:void 0!==t[i]?t[i]:null}}}class fH extends pB{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class fQ extends dB{constructor(){super(),this.isGroup=!0,this.type="Group"}}let fz={type:"move"};class fG{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new fQ,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new fQ,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new uN,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new uN),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new fQ,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new uN,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new uN),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){let n=this._hand;if(n)for(let i of t.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,n,i){let r=null,s=null,o=null,a=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==n.session.visibilityState){if(c&&t.hand){for(let r of(o=!0,t.hand.values())){let t=n.getJointPose(r,i),s=this._getHandJoint(c,r);null!==t&&(s.matrix.fromArray(t.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.jointRadius=t.radius),s.visible=null!==t}let r=c.joints["index-finger-tip"],s=c.joints["thumb-tip"],a=r.position.distanceTo(s.position);c.inputState.pinching&&a>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&a<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&null!==(s=n.getPose(t.gripSpace,i))&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1);null!==a&&(null===(r=n.getPose(t.targetRaySpace,i))&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fz)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(t,n){if(void 0===t.joints[n.jointName]){let i=new fQ;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[n.jointName]=i,t.add(i)}return t.joints[n.jointName]}}class fq extends uj{constructor(t,n,i,r,s,o,a,l,c,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&1026===u&&(i=1014),void 0===i&&1027===u&&(i=1020),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:t,height:n},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==l?l:1003,this.flipY=!1,this.generateMipmaps=!1}}class fW extends uo{constructor(t,n){super();let i=this,r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,h=null,f=null,m=n.getContextAttributes(),g=null,x=null,y=[],v=[],b=new Set,A=new Map,w=new pB;w.layers.enable(1),w.viewport=new uP;let C=new pB;C.layers.enable(2),C.viewport=new uP;let _=[w,C],S=new fH;S.layers.enable(1),S.layers.enable(2);let k=null,E=null;function M(t){let n=v.indexOf(t.inputSource);if(-1===n)return;let i=y[n];void 0!==i&&i.dispatchEvent({type:t.type,data:t.inputSource})}function I(){r.removeEventListener("select",M),r.removeEventListener("selectstart",M),r.removeEventListener("selectend",M),r.removeEventListener("squeeze",M),r.removeEventListener("squeezestart",M),r.removeEventListener("squeezeend",M),r.removeEventListener("end",I),r.removeEventListener("inputsourceschange",T);for(let t=0;t<y.length;t++){let n=v[t];null!==n&&(v[t]=null,y[t].disconnect(n))}k=null,E=null,t.setRenderTarget(g),h=null,p=null,d=null,r=null,x=null,R.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function T(t){for(let n=0;n<t.removed.length;n++){let i=t.removed[n],r=v.indexOf(i);r>=0&&(v[r]=null,y[r].disconnect(i))}for(let n=0;n<t.added.length;n++){let i=t.added[n],r=v.indexOf(i);if(-1===r){for(let t=0;t<y.length;t++){if(t>=v.length){v.push(i),r=t;break}if(null===v[t]){v[t]=i,r=t;break}}if(-1===r)break}let s=y[r];s&&s.connect(i)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let n=y[t];return void 0===n&&(n=new fG,y[t]=n),n.getTargetRaySpace()},this.getControllerGrip=function(t){let n=y[t];return void 0===n&&(n=new fG,y[t]=n),n.getGripSpace()},this.getHand=function(t){let n=y[t];return void 0===n&&(n=new fG,y[t]=n),n.getHandSpace()},this.setFramebufferScaleFactor=function(t){s=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){a=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(t){c=t},this.getBaseLayer=function(){return null!==p?p:h},this.getBinding=function(){return d},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(u){if(null!==(r=u)){if(g=t.getRenderTarget(),r.addEventListener("select",M),r.addEventListener("selectstart",M),r.addEventListener("selectend",M),r.addEventListener("squeeze",M),r.addEventListener("squeezestart",M),r.addEventListener("squeezeend",M),r.addEventListener("end",I),r.addEventListener("inputsourceschange",T),!0!==m.xrCompatible&&await n.makeXRCompatible(),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2){let i={antialias:void 0!==r.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,n,i),r.updateRenderState({baseLayer:h}),x=new uR(h.framebufferWidth,h.framebufferHeight,{format:1023,type:1009,encoding:t.outputEncoding,stencilBuffer:m.stencil})}else{let i=null,o=null,a=null;m.depth&&(a=m.stencil?35056:33190,i=m.stencil?1027:1026,o=m.stencil?1020:1014);let l={colorFormat:32856,depthFormat:a,scaleFactor:s};p=(d=new XRWebGLBinding(r,n)).createProjectionLayer(l),r.updateRenderState({layers:[p]}),x=new uR(p.textureWidth,p.textureHeight,{format:1023,type:1009,depthTexture:new fq(p.textureWidth,p.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,i),stencilBuffer:m.stencil,encoding:t.outputEncoding,samples:m.antialias?4:0}),t.properties.get(x).__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),R.setContext(r),R.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};let B=new uN,L=new uN;function j(t,n){null===n?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(n.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;S.near=C.near=w.near=t.near,S.far=C.far=w.far=t.far,(k!==S.near||E!==S.far)&&(r.updateRenderState({depthNear:S.near,depthFar:S.far}),k=S.near,E=S.far);let n=t.parent,i=S.cameras;j(S,n);for(let t=0;t<i.length;t++)j(i[t],n);2===i.length?function(t,n,i){B.setFromMatrixPosition(n.matrixWorld),L.setFromMatrixPosition(i.matrixWorld);let r=B.distanceTo(L),s=n.projectionMatrix.elements,o=i.projectionMatrix.elements,a=s[14]/(s[10]-1),l=s[14]/(s[10]+1),c=(s[9]+1)/s[5],u=(s[9]-1)/s[5],d=(s[8]-1)/s[0],p=(o[8]+1)/o[0],h=r/(-d+p),f=-(h*d);n.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(f),t.translateZ(h),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();let m=a+h,g=l+h;t.projectionMatrix.makePerspective(a*d-f,a*p+(r-f),c*l/g*m,u*l/g*m,m,g),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(S,w,C):S.projectionMatrix.copy(w.projectionMatrix),function(t,n,i){null===i?t.matrix.copy(n.matrixWorld):(t.matrix.copy(i.matrixWorld),t.matrix.invert(),t.matrix.multiply(n.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0);let r=t.children;for(let t=0,n=r.length;t<n;t++)r[t].updateMatrixWorld(!0);t.projectionMatrix.copy(n.projectionMatrix),t.projectionMatrixInverse.copy(n.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*uc*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,S,n)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==p||null!==h)return l},this.setFoveation=function(t){l=t,null!==p&&(p.fixedFoveation=t),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=t)},this.getPlanes=function(){return b};let P=null,R=new pH;R.setAnimationLoop(function(n,r){if(u=r.getViewerPose(c||o),f=r,null!==u){let n=u.views;null!==h&&(t.setRenderTargetFramebuffer(x,h.framebuffer),t.setRenderTarget(x));let i=!1;n.length!==S.cameras.length&&(S.cameras.length=0,i=!0);for(let r=0;r<n.length;r++){let s=n[r],o=null;if(null!==h)o=h.getViewport(s);else{let n=d.getViewSubImage(p,s);o=n.viewport,0===r&&(t.setRenderTargetTextures(x,n.colorTexture,p.ignoreDepthValues?void 0:n.depthStencilTexture),t.setRenderTarget(x))}let a=_[r];void 0===a&&((a=new pB).layers.enable(r),a.viewport=new uP,_[r]=a),a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(s.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(S.matrix.copy(a.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),!0===i&&S.cameras.push(a)}}for(let t=0;t<y.length;t++){let n=v[t],i=y[t];null!==n&&void 0!==i&&i.update(n,r,c||o)}if(P&&P(n,r),r.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let t=null;for(let n of b)r.detectedPlanes.has(n)||(null===t&&(t=[]),t.push(n));if(null!==t)for(let n of t)b.delete(n),A.delete(n),i.dispatchEvent({type:"planeremoved",data:n});for(let t of r.detectedPlanes)if(b.has(t)){let n=A.get(t);t.lastChangedTime>n&&(A.set(t,t.lastChangedTime),i.dispatchEvent({type:"planechanged",data:t}))}else b.add(t),A.set(t,r.lastChangedTime),i.dispatchEvent({type:"planeadded",data:t})}f=null}),this.setAnimationLoop=function(t){P=t},this.dispose=function(){}}}function f$(t,n){function i(t,n){!0===t.matrixAutoUpdate&&t.updateMatrix(),n.value.copy(t.matrix)}function r(r,s){r.opacity.value=s.opacity,s.color&&r.diffuse.value.copy(s.color),s.emissive&&r.emissive.value.copy(s.emissive).multiplyScalar(s.emissiveIntensity),s.map&&(r.map.value=s.map,i(s.map,r.mapTransform)),s.alphaMap&&(r.alphaMap.value=s.alphaMap,i(s.alphaMap,r.alphaMapTransform)),s.bumpMap&&(r.bumpMap.value=s.bumpMap,i(s.bumpMap,r.bumpMapTransform),r.bumpScale.value=s.bumpScale,1===s.side&&(r.bumpScale.value*=-1)),s.normalMap&&(r.normalMap.value=s.normalMap,i(s.normalMap,r.normalMapTransform),r.normalScale.value.copy(s.normalScale),1===s.side&&r.normalScale.value.negate()),s.displacementMap&&(r.displacementMap.value=s.displacementMap,i(s.displacementMap,r.displacementMapTransform),r.displacementScale.value=s.displacementScale,r.displacementBias.value=s.displacementBias),s.emissiveMap&&(r.emissiveMap.value=s.emissiveMap,i(s.emissiveMap,r.emissiveMapTransform)),s.specularMap&&(r.specularMap.value=s.specularMap,i(s.specularMap,r.specularMapTransform)),s.alphaTest>0&&(r.alphaTest.value=s.alphaTest);let o=n.get(s).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=s.reflectivity,r.ior.value=s.ior,r.refractionRatio.value=s.refractionRatio),s.lightMap){r.lightMap.value=s.lightMap;let n=!0===t.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=s.lightMapIntensity*n,i(s.lightMap,r.lightMapTransform)}s.aoMap&&(r.aoMap.value=s.aoMap,r.aoMapIntensity.value=s.aoMapIntensity,i(s.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(n,i){i.color.getRGB(n.fogColor.value,pE(t)),i.isFog?(n.fogNear.value=i.near,n.fogFar.value=i.far):i.isFogExp2&&(n.fogDensity.value=i.density)},refreshMaterialUniforms:function(t,s,o,a,l){s.isMeshBasicMaterial?r(t,s):s.isMeshLambertMaterial?r(t,s):s.isMeshToonMaterial?(r(t,s),s.gradientMap&&(t.gradientMap.value=s.gradientMap)):s.isMeshPhongMaterial?(r(t,s),t.specular.value.copy(s.specular),t.shininess.value=Math.max(s.shininess,1e-4)):s.isMeshStandardMaterial?(r(t,s),t.metalness.value=s.metalness,s.metalnessMap&&(t.metalnessMap.value=s.metalnessMap,i(s.metalnessMap,t.metalnessMapTransform)),t.roughness.value=s.roughness,s.roughnessMap&&(t.roughnessMap.value=s.roughnessMap,i(s.roughnessMap,t.roughnessMapTransform)),n.get(s).envMap&&(t.envMapIntensity.value=s.envMapIntensity),s.isMeshPhysicalMaterial&&(t.ior.value=s.ior,s.sheen>0&&(t.sheenColor.value.copy(s.sheenColor).multiplyScalar(s.sheen),t.sheenRoughness.value=s.sheenRoughness,s.sheenColorMap&&(t.sheenColorMap.value=s.sheenColorMap,i(s.sheenColorMap,t.sheenColorMapTransform)),s.sheenRoughnessMap&&(t.sheenRoughnessMap.value=s.sheenRoughnessMap,i(s.sheenRoughnessMap,t.sheenRoughnessMapTransform))),s.clearcoat>0&&(t.clearcoat.value=s.clearcoat,t.clearcoatRoughness.value=s.clearcoatRoughness,s.clearcoatMap&&(t.clearcoatMap.value=s.clearcoatMap,i(s.clearcoatMap,t.clearcoatMapTransform)),s.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=s.clearcoatRoughnessMap,i(s.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),s.clearcoatNormalMap&&(t.clearcoatNormalMap.value=s.clearcoatNormalMap,i(s.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(s.clearcoatNormalScale),1===s.side&&t.clearcoatNormalScale.value.negate())),s.iridescence>0&&(t.iridescence.value=s.iridescence,t.iridescenceIOR.value=s.iridescenceIOR,t.iridescenceThicknessMinimum.value=s.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=s.iridescenceThicknessRange[1],s.iridescenceMap&&(t.iridescenceMap.value=s.iridescenceMap,i(s.iridescenceMap,t.iridescenceMapTransform)),s.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=s.iridescenceThicknessMap,i(s.iridescenceThicknessMap,t.iridescenceThicknessMapTransform))),s.transmission>0&&(t.transmission.value=s.transmission,t.transmissionSamplerMap.value=l.texture,t.transmissionSamplerSize.value.set(l.width,l.height),s.transmissionMap&&(t.transmissionMap.value=s.transmissionMap,i(s.transmissionMap,t.transmissionMapTransform)),t.thickness.value=s.thickness,s.thicknessMap&&(t.thicknessMap.value=s.thicknessMap,i(s.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=s.attenuationDistance,t.attenuationColor.value.copy(s.attenuationColor)),t.specularIntensity.value=s.specularIntensity,t.specularColor.value.copy(s.specularColor),s.specularColorMap&&(t.specularColorMap.value=s.specularColorMap,i(s.specularColorMap,t.specularColorMapTransform)),s.specularIntensityMap&&(t.specularIntensityMap.value=s.specularIntensityMap,i(s.specularIntensityMap,t.specularIntensityMapTransform)))):s.isMeshMatcapMaterial?(r(t,s),s.matcap&&(t.matcap.value=s.matcap)):s.isMeshDepthMaterial?r(t,s):s.isMeshDistanceMaterial?(r(t,s),function(t,i){let r=n.get(i).light;t.referencePosition.value.setFromMatrixPosition(r.matrixWorld),t.nearDistance.value=r.shadow.camera.near,t.farDistance.value=r.shadow.camera.far}(t,s)):s.isMeshNormalMaterial?r(t,s):s.isLineBasicMaterial?(t.diffuse.value.copy(s.color),t.opacity.value=s.opacity,s.map&&(t.map.value=s.map,i(s.map,t.mapTransform)),s.isLineDashedMaterial&&(t.dashSize.value=s.dashSize,t.totalSize.value=s.dashSize+s.gapSize,t.scale.value=s.scale)):s.isPointsMaterial?(t.diffuse.value.copy(s.color),t.opacity.value=s.opacity,t.size.value=s.size*o,t.scale.value=.5*a,s.map&&(t.map.value=s.map,i(s.map,t.uvTransform)),s.alphaMap&&(t.alphaMap.value=s.alphaMap),s.alphaTest>0&&(t.alphaTest.value=s.alphaTest)):s.isSpriteMaterial?(t.diffuse.value.copy(s.color),t.opacity.value=s.opacity,t.rotation.value=s.rotation,s.map&&(t.map.value=s.map,i(s.map,t.mapTransform)),s.alphaMap&&(t.alphaMap.value=s.alphaMap),s.alphaTest>0&&(t.alphaTest.value=s.alphaTest)):s.isShadowMaterial?(t.color.value.copy(s.color),t.opacity.value=s.opacity):s.isShaderMaterial&&(s.uniformsNeedUpdate=!1)}}}function fZ(t,n,i,r){let s={},o={},a=[],l=i.isWebGL2?t.getParameter(35375):0;function c(t){let n={boundary:0,storage:0};return"number"==typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function u(n){let i=n.target;i.removeEventListener("dispose",u);let r=a.indexOf(i.__bindingPointIndex);a.splice(r,1),t.deleteBuffer(s[i.id]),delete s[i.id],delete o[i.id]}return{bind:function(t,n){let i=n.program;r.uniformBlockBinding(t,i)},update:function(i,d){let p=s[i.id];void 0===p&&(function(t){let n=t.uniforms,i=0,r=0;for(let t=0,s=n.length;t<s;t++){let s=n[t],o={boundary:0,storage:0},a=Array.isArray(s.value)?s.value:[s.value];for(let t=0,n=a.length;t<n;t++){let n=c(a[t]);o.boundary+=n.boundary,o.storage+=n.storage}if(s.__data=new Float32Array(o.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=i,t>0){let t=16-(r=i%16);0!==r&&t-o.boundary<0&&(i+=16-r,s.__offset=i)}i+=o.storage}(r=i%16)>0&&(i+=16-r),t.__size=i,t.__cache={}}(i),p=function(n){let i=function(){for(let t=0;t<l;t++)if(-1===a.indexOf(t))return a.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();n.__bindingPointIndex=i;let r=t.createBuffer(),s=n.__size,o=n.usage;return t.bindBuffer(35345,r),t.bufferData(35345,s,o),t.bindBuffer(35345,null),t.bindBufferBase(35345,i,r),r}(i),s[i.id]=p,i.addEventListener("dispose",u));let h=d.program;r.updateUBOMapping(i,h);let f=n.render.frame;o[i.id]!==f&&(function(n){let i=s[n.id],r=n.uniforms,o=n.__cache;t.bindBuffer(35345,i);for(let n=0,i=r.length;n<i;n++){let i=r[n];if(!0===function(t,n,i){let r=t.value;if(void 0===i[n]){if("number"==typeof r)i[n]=r;else{let t=Array.isArray(r)?r:[r],s=[];for(let n=0;n<t.length;n++)s.push(t[n].clone());i[n]=s}return!0}if("number"==typeof r){if(i[n]!==r)return i[n]=r,!0}else{let t=Array.isArray(i[n])?i[n]:[i[n]],s=Array.isArray(r)?r:[r];for(let n=0;n<t.length;n++){let i=t[n];if(!1===i.equals(s[n]))return i.copy(s[n]),!0}}return!1}(i,n,o)){let n=i.__offset,r=Array.isArray(i.value)?i.value:[i.value],s=0;for(let o=0;o<r.length;o++){let a=r[o],l=c(a);"number"==typeof a?(i.__data[0]=a,t.bufferSubData(35345,n+s,i.__data)):a.isMatrix3?(i.__data[0]=a.elements[0],i.__data[1]=a.elements[1],i.__data[2]=a.elements[2],i.__data[3]=a.elements[0],i.__data[4]=a.elements[3],i.__data[5]=a.elements[4],i.__data[6]=a.elements[5],i.__data[7]=a.elements[0],i.__data[8]=a.elements[6],i.__data[9]=a.elements[7],i.__data[10]=a.elements[8],i.__data[11]=a.elements[0]):(a.toArray(i.__data,s),s+=l.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,n,i.__data)}}t.bindBuffer(35345,null)}(i),o[i.id]=f)},dispose:function(){for(let n in s)t.deleteBuffer(s[n]);a=[],s={},o={}}}}class fY{constructor(t={}){let n,i,r,s,o,a,l,c,u,d,p,h,f,m,g,x,y,v,b,A,w,C,_,S,k;let{canvas:E=function(){let t=uA("canvas");return t.style.display="block",t}(),context:M=null,depth:I=!0,stencil:T=!0,alpha:B=!1,antialias:L=!1,premultipliedAlpha:j=!0,preserveDrawingBuffer:P=!1,powerPreference:R="default",failIfMajorPerformanceCaveat:D=!1}=t;this.isWebGLRenderer=!0,n=null!==M?M.getContextAttributes().alpha:B;let F=null,O=null,N=[],U=[];this.domElement=E,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.useLegacyLights=!0,this.toneMapping=0,this.toneMappingExposure=1;let V=this,H=!1,Q=0,z=0,G=null,q=-1,W=null,$=new uP,Z=new uP,Y=null,K=E.width,X=E.height,J=1,ee=null,et=null,en=new uP(0,0,K,X),ei=new uP(0,0,K,X),er=!1,es=new pV,eo=!1,ea=!1,el=null,ec=new ds,eu=new uN,ed={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ep(){return null===G?J:1}let eh=M;function ef(t,n){for(let i=0;i<t.length;i++){let r=t[i],s=E.getContext(r,n);if(null!==s)return s}return null}try{if("setAttribute"in E&&E.setAttribute("data-engine","three.js r151"),E.addEventListener("webglcontextlost",ex,!1),E.addEventListener("webglcontextrestored",ey,!1),E.addEventListener("webglcontextcreationerror",ev,!1),null===eh){let t=["webgl2","webgl","experimental-webgl"];if(!0===V.isWebGL1Renderer&&t.shift(),eh=ef(t,{alpha:!0,depth:I,stencil:T,antialias:L,premultipliedAlpha:j,preserveDrawingBuffer:P,powerPreference:R,failIfMajorPerformanceCaveat:D}),null===eh){if(ef(t))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}}void 0===eh.getShaderPrecisionFormat&&(eh.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function em(){i=new ho(eh),r=new pX(eh,i,t),i.init(r),_=new fV(eh,i,r),s=new fN(eh,i,r),o=new hc,a=new fS,l=new fU(eh,i,s,a,r,_,o),c=new p0(V),u=new hs(V),d=new pQ(eh,r),S=new pY(eh,i,d,r),p=new ha(eh,d,o,S),h=new hh(eh,p,d,o),A=new hp(eh,r,l),y=new pJ(a),f=new f_(V,c,u,i,r,S,y),m=new f$(V,a),g=new fI,x=new fR(i,r),b=new pZ(V,c,u,s,h,n,j),v=new fO(V,h,r),k=new fZ(eh,o,r,s),w=new pK(eh,i,o,r),C=new hl(eh,i,o,r),o.programs=f.programs,V.capabilities=r,V.extensions=i,V.properties=a,V.renderLists=g,V.shadowMap=v,V.state=s,V.info=o}em();let eg=new fW(V,eh);function ex(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),H=!0}function ey(){console.log("THREE.WebGLRenderer: Context Restored."),H=!1;let t=o.autoReset,n=v.enabled,i=v.autoUpdate,r=v.needsUpdate,s=v.type;em(),o.autoReset=t,v.enabled=n,v.autoUpdate=i,v.needsUpdate=r,v.type=s}function ev(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function eb(t){let n=t.target;n.removeEventListener("dispose",eb),function(t){let n=a.get(t).programs;void 0!==n&&(n.forEach(function(t){f.releaseProgram(t)}),t.isShaderMaterial&&f.releaseShaderCache(t))}(n),a.remove(n)}this.xr=eg,this.getContext=function(){return eh},this.getContextAttributes=function(){return eh.getContextAttributes()},this.forceContextLoss=function(){let t=i.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){let t=i.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(t){void 0!==t&&(J=t,this.setSize(K,X,!1))},this.getSize=function(t){return t.set(K,X)},this.setSize=function(t,n,i=!0){if(eg.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=t,X=n,E.width=Math.floor(t*J),E.height=Math.floor(n*J),!0===i&&(E.style.width=t+"px",E.style.height=n+"px"),this.setViewport(0,0,t,n)},this.getDrawingBufferSize=function(t){return t.set(K*J,X*J).floor()},this.setDrawingBufferSize=function(t,n,i){K=t,X=n,J=i,E.width=Math.floor(t*i),E.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy($)},this.getViewport=function(t){return t.copy(en)},this.setViewport=function(t,n,i,r){t.isVector4?en.set(t.x,t.y,t.z,t.w):en.set(t,n,i,r),s.viewport($.copy(en).multiplyScalar(J).floor())},this.getScissor=function(t){return t.copy(ei)},this.setScissor=function(t,n,i,r){t.isVector4?ei.set(t.x,t.y,t.z,t.w):ei.set(t,n,i,r),s.scissor(Z.copy(ei).multiplyScalar(J).floor())},this.getScissorTest=function(){return er},this.setScissorTest=function(t){s.setScissorTest(er=t)},this.setOpaqueSort=function(t){ee=t},this.setTransparentSort=function(t){et=t},this.getClearColor=function(t){return t.copy(b.getClearColor())},this.setClearColor=function(){b.setClearColor.apply(b,arguments)},this.getClearAlpha=function(){return b.getClearAlpha()},this.setClearAlpha=function(){b.setClearAlpha.apply(b,arguments)},this.clear=function(t=!0,n=!0,i=!0){let r=0;t&&(r|=16384),n&&(r|=256),i&&(r|=1024),eh.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){E.removeEventListener("webglcontextlost",ex,!1),E.removeEventListener("webglcontextrestored",ey,!1),E.removeEventListener("webglcontextcreationerror",ev,!1),g.dispose(),x.dispose(),a.dispose(),c.dispose(),u.dispose(),h.dispose(),S.dispose(),k.dispose(),f.dispose(),eg.dispose(),eg.removeEventListener("sessionstart",ew),eg.removeEventListener("sessionend",eC),el&&(el.dispose(),el=null),e_.stop()},this.renderBufferDirect=function(t,n,i,o,h,f){let g;null===n&&(n=ed);let x=h.isMesh&&0>h.matrixWorld.determinant(),v=function(t,n,i,o,d){var p;!0!==n.isScene&&(n=ed),l.resetTextureUnits();let h=n.fog,f=o.isMeshStandardMaterial?n.environment:null,g=null===G?V.outputEncoding:!0===G.isXRRenderTarget?G.texture.encoding:3e3,x=(o.isMeshStandardMaterial?u:c).get(o.envMap||f),v=!0===o.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,b=!!o.normalMap&&!!i.attributes.tangent,w=!!i.morphAttributes.position,C=!!i.morphAttributes.normal,_=!!i.morphAttributes.color,S=o.toneMapped?V.toneMapping:0,E=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,M=void 0!==E?E.length:0,I=a.get(o),T=O.state.lights;if(!0===eo&&(!0===ea||t!==W)){let n=t===W&&o.id===q;y.setState(o,t,n)}let B=!1;o.version===I.__version?I.needsLights&&I.lightsStateVersion!==T.state.version?B=!0:I.outputEncoding!==g?B=!0:d.isInstancedMesh&&!1===I.instancing?B=!0:d.isInstancedMesh||!0!==I.instancing?d.isSkinnedMesh&&!1===I.skinning?B=!0:d.isSkinnedMesh||!0!==I.skinning?I.envMap!==x?B=!0:!0===o.fog&&I.fog!==h?B=!0:void 0!==I.numClippingPlanes&&(I.numClippingPlanes!==y.numPlanes||I.numIntersection!==y.numIntersection)?B=!0:I.vertexAlphas!==v?B=!0:I.vertexTangents!==b?B=!0:I.morphTargets!==w?B=!0:I.morphNormals!==C?B=!0:I.morphColors!==_?B=!0:I.toneMapping!==S?B=!0:!0===r.isWebGL2&&I.morphTargetsCount!==M&&(B=!0):B=!0:B=!0:(B=!0,I.__version=o.version);let L=I.currentProgram;!0===B&&(L=eM(o,n,d));let j=!1,P=!1,R=!1,D=L.getUniforms(),F=I.uniforms;if(s.useProgram(L.program)&&(j=!0,P=!0,R=!0),o.id!==q&&(q=o.id,P=!0),j||W!==t){if(D.setValue(eh,"projectionMatrix",t.projectionMatrix),r.logarithmicDepthBuffer&&D.setValue(eh,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),W!==t&&(W=t,P=!0,R=!0),o.isShaderMaterial||o.isMeshPhongMaterial||o.isMeshToonMaterial||o.isMeshStandardMaterial||o.envMap){let n=D.map.cameraPosition;void 0!==n&&n.setValue(eh,eu.setFromMatrixPosition(t.matrixWorld))}(o.isMeshPhongMaterial||o.isMeshToonMaterial||o.isMeshLambertMaterial||o.isMeshBasicMaterial||o.isMeshStandardMaterial||o.isShaderMaterial)&&D.setValue(eh,"isOrthographic",!0===t.isOrthographicCamera),(o.isMeshPhongMaterial||o.isMeshToonMaterial||o.isMeshLambertMaterial||o.isMeshBasicMaterial||o.isMeshStandardMaterial||o.isShaderMaterial||o.isShadowMaterial||d.isSkinnedMesh)&&D.setValue(eh,"viewMatrix",t.matrixWorldInverse)}if(d.isSkinnedMesh){D.setOptional(eh,d,"bindMatrix"),D.setOptional(eh,d,"bindMatrixInverse");let t=d.skeleton;t&&(r.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),D.setValue(eh,"boneTexture",t.boneTexture,l),D.setValue(eh,"boneTextureSize",t.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let N=i.morphAttributes;if((void 0!==N.position||void 0!==N.normal||void 0!==N.color&&!0===r.isWebGL2)&&A.update(d,i,L),(P||I.receiveShadow!==d.receiveShadow)&&(I.receiveShadow=d.receiveShadow,D.setValue(eh,"receiveShadow",d.receiveShadow)),o.isMeshGouraudMaterial&&null!==o.envMap&&(F.envMap.value=x,F.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1),P&&(D.setValue(eh,"toneMappingExposure",V.toneMappingExposure),I.needsLights&&(p=R,F.ambientLightColor.needsUpdate=p,F.lightProbe.needsUpdate=p,F.directionalLights.needsUpdate=p,F.directionalLightShadows.needsUpdate=p,F.pointLights.needsUpdate=p,F.pointLightShadows.needsUpdate=p,F.spotLights.needsUpdate=p,F.spotLightShadows.needsUpdate=p,F.rectAreaLights.needsUpdate=p,F.hemisphereLights.needsUpdate=p),h&&!0===o.fog&&m.refreshFogUniforms(F,h),m.refreshMaterialUniforms(F,o,J,X,el),fo.upload(eh,I.uniformsList,F,l)),o.isShaderMaterial&&!0===o.uniformsNeedUpdate&&(fo.upload(eh,I.uniformsList,F,l),o.uniformsNeedUpdate=!1),o.isSpriteMaterial&&D.setValue(eh,"center",d.center),D.setValue(eh,"modelViewMatrix",d.modelViewMatrix),D.setValue(eh,"normalMatrix",d.normalMatrix),D.setValue(eh,"modelMatrix",d.matrixWorld),o.isShaderMaterial||o.isRawShaderMaterial){let t=o.uniformsGroups;for(let n=0,i=t.length;n<i;n++)if(r.isWebGL2){let i=t[n];k.update(i,L),k.bind(i,L)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return L}(t,n,i,o,h);s.setMaterial(o,x);let b=i.index,_=1;!0===o.wireframe&&(b=p.getWireframeAttribute(i),_=2);let E=i.drawRange,M=i.attributes.position,I=E.start*_,T=(E.start+E.count)*_;null!==f&&(I=Math.max(I,f.start*_),T=Math.min(T,(f.start+f.count)*_)),null!==b?(I=Math.max(I,0),T=Math.min(T,b.count)):null!=M&&(I=Math.max(I,0),T=Math.min(T,M.count));let B=T-I;if(B<0||B===1/0)return;S.setup(h,o,v,i,b);let L=w;if(null!==b&&(g=d.get(b),(L=C).setIndex(g)),h.isMesh)!0===o.wireframe?(s.setLineWidth(o.wireframeLinewidth*ep()),L.setMode(1)):L.setMode(4);else if(h.isLine){let t=o.linewidth;void 0===t&&(t=1),s.setLineWidth(t*ep()),h.isLineSegments?L.setMode(1):h.isLineLoop?L.setMode(2):L.setMode(3)}else h.isPoints?L.setMode(0):h.isSprite&&L.setMode(4);if(h.isInstancedMesh)L.renderInstances(I,B,h.count);else if(i.isInstancedBufferGeometry){let t=void 0!==i._maxInstanceCount?i._maxInstanceCount:1/0,n=Math.min(i.instanceCount,t);L.renderInstances(I,B,n)}else L.render(I,B)},this.compile=function(t,n){function i(t,n,i){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,eM(t,n,i),t.side=0,t.needsUpdate=!0,eM(t,n,i),t.side=2):eM(t,n,i)}(O=x.get(t)).init(),U.push(O),t.traverseVisible(function(t){t.isLight&&t.layers.test(n.layers)&&(O.pushLight(t),t.castShadow&&O.pushShadow(t))}),O.setupLights(V.useLegacyLights),t.traverse(function(n){let r=n.material;if(r){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s],t,n);else i(r,t,n)}}),U.pop(),O=null};let eA=null;function ew(){e_.stop()}function eC(){e_.start()}let e_=new pH;function eS(t,n,o,a){let c=t.opaque,u=t.transmissive,d=t.transparent;O.setupLightsView(o),!0===eo&&y.setGlobalState(V.clippingPlanes,o),u.length>0&&function(t,n,s,o){if(null===el){let t=r.isWebGL2;el=new uR(1024,1024,{generateMipmaps:!0,type:i.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:t&&!0===L?4:0})}let a=V.getRenderTarget();V.setRenderTarget(el),V.clear();let c=V.toneMapping;V.toneMapping=0,ek(t,s,o),l.updateMultisampleRenderTarget(el),l.updateRenderTargetMipmap(el);let u=!1;for(let t=0,i=n.length;t<i;t++){let i=n[t],r=i.object,a=i.geometry,l=i.material,c=i.group;if(2===l.side&&r.layers.test(o.layers)){let t=l.side;l.side=1,l.needsUpdate=!0,eE(r,s,o,a,l,c),l.side=t,l.needsUpdate=!0,u=!0}}!0===u&&(l.updateMultisampleRenderTarget(el),l.updateRenderTargetMipmap(el)),V.setRenderTarget(a),V.toneMapping=c}(c,u,n,o),a&&s.viewport($.copy(a)),c.length>0&&ek(c,n,o),u.length>0&&ek(u,n,o),d.length>0&&ek(d,n,o),s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),s.setPolygonOffset(!1)}function ek(t,n,i){let r=!0===n.isScene?n.overrideMaterial:null;for(let s=0,o=t.length;s<o;s++){let o=t[s],a=o.object,l=o.geometry,c=null===r?o.material:r,u=o.group;a.layers.test(i.layers)&&eE(a,n,i,l,c,u)}}function eE(t,n,i,r,s,o){t.onBeforeRender(V,n,i,r,s,o),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),s.onBeforeRender(V,n,i,r,t,o),!0===s.transparent&&2===s.side&&!1===s.forceSinglePass?(s.side=1,s.needsUpdate=!0,V.renderBufferDirect(i,n,r,s,t,o),s.side=0,s.needsUpdate=!0,V.renderBufferDirect(i,n,r,s,t,o),s.side=2):V.renderBufferDirect(i,n,r,s,t,o),t.onAfterRender(V,n,i,r,s,o)}function eM(t,n,i){!0!==n.isScene&&(n=ed);let r=a.get(t),s=O.state.lights,o=O.state.shadowsArray,l=s.state.version,d=f.getParameters(t,s.state,o,n,i),p=f.getProgramCacheKey(d),h=r.programs;r.environment=t.isMeshStandardMaterial?n.environment:null,r.fog=n.fog,r.envMap=(t.isMeshStandardMaterial?u:c).get(t.envMap||r.environment),void 0===h&&(t.addEventListener("dispose",eb),h=new Map,r.programs=h);let m=h.get(p);if(void 0!==m){if(r.currentProgram===m&&r.lightsStateVersion===l)return eI(t,d),m}else d.uniforms=f.getUniforms(t),t.onBuild(i,d,V),t.onBeforeCompile(d,V),m=f.acquireProgram(d,p),h.set(p,m),r.uniforms=d.uniforms;let g=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(g.clippingPlanes=y.uniform),eI(t,d),r.needsLights=t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights,r.lightsStateVersion=l,r.needsLights&&(g.ambientLightColor.value=s.state.ambient,g.lightProbe.value=s.state.probe,g.directionalLights.value=s.state.directional,g.directionalLightShadows.value=s.state.directionalShadow,g.spotLights.value=s.state.spot,g.spotLightShadows.value=s.state.spotShadow,g.rectAreaLights.value=s.state.rectArea,g.ltc_1.value=s.state.rectAreaLTC1,g.ltc_2.value=s.state.rectAreaLTC2,g.pointLights.value=s.state.point,g.pointLightShadows.value=s.state.pointShadow,g.hemisphereLights.value=s.state.hemi,g.directionalShadowMap.value=s.state.directionalShadowMap,g.directionalShadowMatrix.value=s.state.directionalShadowMatrix,g.spotShadowMap.value=s.state.spotShadowMap,g.spotLightMatrix.value=s.state.spotLightMatrix,g.spotLightMap.value=s.state.spotLightMap,g.pointShadowMap.value=s.state.pointShadowMap,g.pointShadowMatrix.value=s.state.pointShadowMatrix);let x=m.getUniforms(),v=fo.seqWithValue(x.seq,g);return r.currentProgram=m,r.uniformsList=v,m}function eI(t,n){let i=a.get(t);i.outputEncoding=n.outputEncoding,i.instancing=n.instancing,i.skinning=n.skinning,i.morphTargets=n.morphTargets,i.morphNormals=n.morphNormals,i.morphColors=n.morphColors,i.morphTargetsCount=n.morphTargetsCount,i.numClippingPlanes=n.numClippingPlanes,i.numIntersection=n.numClipIntersection,i.vertexAlphas=n.vertexAlphas,i.vertexTangents=n.vertexTangents,i.toneMapping=n.toneMapping}e_.setAnimationLoop(function(t){eA&&eA(t)}),"undefined"!=typeof self&&e_.setContext(self),this.setAnimationLoop=function(t){eA=t,eg.setAnimationLoop(t),null===t?e_.stop():e_.start()},eg.addEventListener("sessionstart",ew),eg.addEventListener("sessionend",eC),this.render=function(t,n){if(void 0!==n&&!0!==n.isCamera){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!0===H)return;!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===n.parent&&!0===n.matrixWorldAutoUpdate&&n.updateMatrixWorld(),!0===eg.enabled&&!0===eg.isPresenting&&(!0===eg.cameraAutoUpdate&&eg.updateCamera(n),n=eg.getCamera()),!0===t.isScene&&t.onBeforeRender(V,t,n,G),(O=x.get(t,U.length)).init(),U.push(O),ec.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),es.setFromProjectionMatrix(ec),ea=this.localClippingEnabled,eo=y.init(this.clippingPlanes,ea),(F=g.get(t,N.length)).init(),N.push(F),function t(n,i,r,s){if(!1===n.visible)return;if(n.layers.test(i.layers)){if(n.isGroup)r=n.renderOrder;else if(n.isLOD)!0===n.autoUpdate&&n.update(i);else if(n.isLight)O.pushLight(n),n.castShadow&&O.pushShadow(n);else if(n.isSprite){if(!n.frustumCulled||es.intersectsSprite(n)){s&&eu.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ec);let t=h.update(n),i=n.material;i.visible&&F.push(n,t,i,r,eu.z,null)}}else if((n.isMesh||n.isLine||n.isPoints)&&(n.isSkinnedMesh&&n.skeleton.frame!==o.render.frame&&(n.skeleton.update(),n.skeleton.frame=o.render.frame),!n.frustumCulled||es.intersectsObject(n))){s&&eu.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ec);let t=h.update(n),i=n.material;if(Array.isArray(i)){let s=t.groups;for(let o=0,a=s.length;o<a;o++){let a=s[o],l=i[a.materialIndex];l&&l.visible&&F.push(n,t,l,r,eu.z,a)}}else i.visible&&F.push(n,t,i,r,eu.z,null)}}let a=n.children;for(let n=0,o=a.length;n<o;n++)t(a[n],i,r,s)}(t,n,0,V.sortObjects),F.finish(),!0===V.sortObjects&&F.sort(ee,et),!0===eo&&y.beginShadows();let i=O.state.shadowsArray;if(v.render(i,t,n),!0===eo&&y.endShadows(),!0===this.info.autoReset&&this.info.reset(),b.render(F,t),O.setupLights(V.useLegacyLights),n.isArrayCamera){let i=n.cameras;for(let n=0,r=i.length;n<r;n++){let r=i[n];eS(F,t,r,r.viewport)}}else eS(F,t,n);null!==G&&(l.updateMultisampleRenderTarget(G),l.updateRenderTargetMipmap(G)),!0===t.isScene&&t.onAfterRender(V,t,n),S.resetDefaultState(),q=-1,W=null,U.pop(),O=U.length>0?U[U.length-1]:null,N.pop(),F=N.length>0?N[N.length-1]:null},this.getActiveCubeFace=function(){return Q},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return G},this.setRenderTargetTextures=function(t,n,r){a.get(t.texture).__webglTexture=n,a.get(t.depthTexture).__webglTexture=r;let s=a.get(t);s.__hasExternalTextures=!0,s.__hasExternalTextures&&(s.__autoAllocateDepthBuffer=void 0===r,s.__autoAllocateDepthBuffer||!0!==i.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),s.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,n){let i=a.get(t);i.__webglFramebuffer=n,i.__useDefaultFramebuffer=void 0===n},this.setRenderTarget=function(t,n=0,i=0){G=t,Q=n,z=i;let o=!0,c=null,u=!1,d=!1;if(t){let i=a.get(t);void 0!==i.__useDefaultFramebuffer?(s.bindFramebuffer(36160,null),o=!1):void 0===i.__webglFramebuffer?l.setupRenderTarget(t):i.__hasExternalTextures&&l.rebindTextures(t,a.get(t.texture).__webglTexture,a.get(t.depthTexture).__webglTexture);let p=t.texture;(p.isData3DTexture||p.isDataArrayTexture||p.isCompressedArrayTexture)&&(d=!0);let h=a.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(c=h[n],u=!0):c=r.isWebGL2&&t.samples>0&&!1===l.useMultisampledRTT(t)?a.get(t).__webglMultisampledFramebuffer:h,$.copy(t.viewport),Z.copy(t.scissor),Y=t.scissorTest}else $.copy(en).multiplyScalar(J).floor(),Z.copy(ei).multiplyScalar(J).floor(),Y=er;if(s.bindFramebuffer(36160,c)&&r.drawBuffers&&o&&s.drawBuffers(t,c),s.viewport($),s.scissor(Z),s.setScissorTest(Y),u){let r=a.get(t.texture);eh.framebufferTexture2D(36160,36064,34069+n,r.__webglTexture,i)}else if(d){let r=a.get(t.texture);eh.framebufferTextureLayer(36160,36064,r.__webglTexture,i||0,n||0)}q=-1},this.readRenderTargetPixels=function(t,n,o,l,c,u,d){if(!(t&&t.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let p=a.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==d&&(p=p[d]),p){s.bindFramebuffer(36160,p);try{let s=t.texture,a=s.format,d=s.type;if(1023!==a&&_.convert(a)!==eh.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let p=1016===d&&(i.has("EXT_color_buffer_half_float")||r.isWebGL2&&i.has("EXT_color_buffer_float"));if(1009!==d&&_.convert(d)!==eh.getParameter(35738)&&!(1015===d&&(r.isWebGL2||i.has("OES_texture_float")||i.has("WEBGL_color_buffer_float")))&&!p){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}n>=0&&n<=t.width-l&&o>=0&&o<=t.height-c&&eh.readPixels(n,o,l,c,_.convert(a),_.convert(d),u)}finally{let t=null!==G?a.get(G).__webglFramebuffer:null;s.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,n,i=0){let r=Math.pow(2,-i),o=Math.floor(n.image.width*r),a=Math.floor(n.image.height*r);l.setTexture2D(n,0),eh.copyTexSubImage2D(3553,i,0,0,t.x,t.y,o,a),s.unbindTexture()},this.copyTextureToTexture=function(t,n,i,r=0){let o=n.image.width,a=n.image.height,c=_.convert(i.format),u=_.convert(i.type);l.setTexture2D(i,0),eh.pixelStorei(37440,i.flipY),eh.pixelStorei(37441,i.premultiplyAlpha),eh.pixelStorei(3317,i.unpackAlignment),n.isDataTexture?eh.texSubImage2D(3553,r,t.x,t.y,o,a,c,u,n.image.data):n.isCompressedTexture?eh.compressedTexSubImage2D(3553,r,t.x,t.y,n.mipmaps[0].width,n.mipmaps[0].height,c,n.mipmaps[0].data):eh.texSubImage2D(3553,r,t.x,t.y,c,u,n.image),0===r&&i.generateMipmaps&&eh.generateMipmap(3553),s.unbindTexture()},this.copyTextureToTexture3D=function(t,n,i,r,o=0){let a;if(V.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let c=t.max.x-t.min.x+1,u=t.max.y-t.min.y+1,d=t.max.z-t.min.z+1,p=_.convert(r.format),h=_.convert(r.type);if(r.isData3DTexture)l.setTexture3D(r,0),a=32879;else if(r.isDataArrayTexture)l.setTexture2DArray(r,0),a=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}eh.pixelStorei(37440,r.flipY),eh.pixelStorei(37441,r.premultiplyAlpha),eh.pixelStorei(3317,r.unpackAlignment);let f=eh.getParameter(3314),m=eh.getParameter(32878),g=eh.getParameter(3316),x=eh.getParameter(3315),y=eh.getParameter(32877),v=i.isCompressedTexture?i.mipmaps[0]:i.image;eh.pixelStorei(3314,v.width),eh.pixelStorei(32878,v.height),eh.pixelStorei(3316,t.min.x),eh.pixelStorei(3315,t.min.y),eh.pixelStorei(32877,t.min.z),i.isDataTexture||i.isData3DTexture?eh.texSubImage3D(a,o,n.x,n.y,n.z,c,u,d,p,h,v.data):i.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),eh.compressedTexSubImage3D(a,o,n.x,n.y,n.z,c,u,d,p,v.data)):eh.texSubImage3D(a,o,n.x,n.y,n.z,c,u,d,p,h,v),eh.pixelStorei(3314,f),eh.pixelStorei(32878,m),eh.pixelStorei(3316,g),eh.pixelStorei(3315,x),eh.pixelStorei(32877,y),0===o&&r.generateMipmaps&&eh.generateMipmap(a),s.unbindTexture()},this.initTexture=function(t){t.isCubeTexture?l.setTextureCube(t,0):t.isData3DTexture?l.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?l.setTexture2DArray(t,0):l.setTexture2D(t,0),s.unbindTexture()},this.resetState=function(){Q=0,z=0,G=null,s.reset(),S.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}}class fK extends fY{}fK.prototype.isWebGL1Renderer=!0;class fX extends dB{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){let n=super.toJSON(t);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}class fJ{constructor(t,n){this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=uu()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,n,i){t*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=n.array[i+r];return this}set(t,n=0){return this.array.set(t,n),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=uu()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let n=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=uu()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}let f0=new uN;class f1{constructor(t,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let n=0,i=this.data.count;n<i;n++)f0.fromBufferAttribute(this,n),f0.applyMatrix4(t),this.setXYZ(n,f0.x,f0.y,f0.z);return this}applyNormalMatrix(t){for(let n=0,i=this.count;n<i;n++)f0.fromBufferAttribute(this,n),f0.applyNormalMatrix(t),this.setXYZ(n,f0.x,f0.y,f0.z);return this}transformDirection(t){for(let n=0,i=this.count;n<i;n++)f0.fromBufferAttribute(this,n),f0.transformDirection(t),this.setXYZ(n,f0.x,f0.y,f0.z);return this}setX(t,n){return this.normalized&&(n=um(n,this.array)),this.data.array[t*this.data.stride+this.offset]=n,this}setY(t,n){return this.normalized&&(n=um(n,this.array)),this.data.array[t*this.data.stride+this.offset+1]=n,this}setZ(t,n){return this.normalized&&(n=um(n,this.array)),this.data.array[t*this.data.stride+this.offset+2]=n,this}setW(t,n){return this.normalized&&(n=um(n,this.array)),this.data.array[t*this.data.stride+this.offset+3]=n,this}getX(t){let n=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(n=uf(n,this.array)),n}getY(t){let n=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(n=uf(n,this.array)),n}getZ(t){let n=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(n=uf(n,this.array)),n}getW(t){let n=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(n=uf(n,this.array)),n}setXY(t,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(n=um(n,this.array),i=um(i,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=i,this}setXYZ(t,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(n=um(n,this.array),i=um(i,this.array),r=um(r,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,n,i,r,s){return t=t*this.data.stride+this.offset,this.normalized&&(n=um(n,this.array),i=um(i,this.array),r=um(r,this.array),s=um(s,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new f1(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[i+n])}return new d3(new this.array.constructor(t),this.itemSize,this.normalized)}}toJSON(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[i+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}}let f2=new uN,f3=new uP,f5=new uP,f4=new uN,f6=new ds,f8=new uN;class f7 extends pw{constructor(t,n){super(t,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ds,this.bindMatrixInverse=new ds,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let t=this.geometry;null===this.boundingBox&&(this.boundingBox=new uH),this.boundingBox.makeEmpty();let n=t.getAttribute("position");for(let t=0;t<n.count;t++)f8.fromBufferAttribute(n,t),this.applyBoneTransform(t,f8),this.boundingBox.expandByPoint(f8)}computeBoundingSphere(){let t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new u6),this.boundingSphere.makeEmpty();let n=t.getAttribute("position");for(let t=0;t<n.count;t++)f8.fromBufferAttribute(n,t),this.applyBoneTransform(t,f8),this.boundingSphere.expandByPoint(f8)}copy(t,n){return super.copy(t,n),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,n){this.skeleton=t,void 0===n&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let t=new uP,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){t.fromBufferAttribute(n,i);let r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,n){let i=this.skeleton,r=this.geometry;f3.fromBufferAttribute(r.attributes.skinIndex,t),f5.fromBufferAttribute(r.attributes.skinWeight,t),f2.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let t=0;t<4;t++){let r=f5.getComponent(t);if(0!==r){let s=f3.getComponent(t);f6.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),n.addScaledVector(f4.copy(f2).applyMatrix4(f6),r)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,n)}}class f9 extends dB{constructor(){super(),this.isBone=!0,this.type="Bone"}}class me extends uj{constructor(t=null,n=1,i=1,r,s,o,a,l,c=1003,u=1003,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:t,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let mt=new ds,mn=new ds;class mi{constructor(t=[],n=[]){this.uuid=uu(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let t=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===n.length)this.calculateInverses();else if(t.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,n=this.bones.length;t<n;t++)this.boneInverses.push(new ds)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,n=this.bones.length;t<n;t++){let n=new ds;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,n=this.bones.length;t<n;t++){let n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,n=this.bones.length;t<n;t++){let n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let t=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let r=0,s=t.length;r<s;r++){let s=t[r]?t[r].matrixWorld:mn;mt.multiplyMatrices(s,n[r]),mt.toArray(i,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new mi(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length),n=new Float32Array((t=Math.max(t=Math.pow(2,Math.ceil(Math.log(t)/Math.LN2)),4))*t*4);n.set(this.boneMatrices);let i=new me(n,t,t,1023,1015);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let n=0,i=this.bones.length;n<i;n++){let i=this.bones[n];if(i.name===t)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,n){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){let r=t.bones[i],s=n[r];void 0===s&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),s=new f9),this.bones.push(s),this.boneInverses.push(new ds().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){let t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;let n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){let s=n[r];t.bones.push(s.uuid);let o=i[r];t.boneInverses.push(o.toArray())}return t}}class mr extends d3{constructor(t,n,i,r=1){super(t,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){let t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}let ms=new ds,mo=new ds,ma=[],ml=new uH,mc=new ds,mu=new pw,md=new u6;class mp extends pw{constructor(t,n,i){super(t,n),this.isInstancedMesh=!0,this.instanceMatrix=new mr(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<i;t++)this.setMatrixAt(t,mc)}computeBoundingBox(){let t=this.geometry,n=this.count;null===this.boundingBox&&(this.boundingBox=new uH),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ms),ml.copy(t.boundingBox).applyMatrix4(ms),this.boundingBox.union(ml)}computeBoundingSphere(){let t=this.geometry,n=this.count;null===this.boundingSphere&&(this.boundingSphere=new u6),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ms),md.copy(t.boundingSphere).applyMatrix4(ms),this.boundingSphere.union(md)}copy(t,n){return super.copy(t,n),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,n){n.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,n){n.fromArray(this.instanceMatrix.array,16*t)}raycast(t,n){let i=this.matrixWorld,r=this.count;if(mu.geometry=this.geometry,mu.material=this.material,void 0!==mu.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),md.copy(this.boundingSphere),md.applyMatrix4(i),!1!==t.ray.intersectsSphere(md)))for(let s=0;s<r;s++){this.getMatrixAt(s,ms),mo.multiplyMatrices(i,ms),mu.matrixWorld=mo,mu.raycast(t,ma);for(let t=0,i=ma.length;t<i;t++){let i=ma[t];i.instanceId=s,i.object=this,n.push(i)}ma.length=0}}setColorAt(t,n){null===this.instanceColor&&(this.instanceColor=new mr(new Float32Array(3*this.instanceMatrix.count),3)),n.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,n){n.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class mh extends dG{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dY(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}let mf=new uN,mm=new uN,mg=new ds,mx=new dr,my=new u6;class mv extends dB{constructor(t=new pr,n=new mh){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){let t=this.geometry;if(null===t.index){let n=t.attributes.position,i=[0];for(let t=1,r=n.count;t<r;t++)mf.fromBufferAttribute(n,t-1),mm.fromBufferAttribute(n,t),i[t]=i[t-1],i[t]+=mf.distanceTo(mm);t.setAttribute("lineDistance",new d6(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,n){let i=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),my.copy(i.boundingSphere),my.applyMatrix4(r),my.radius+=s,!1===t.ray.intersectsSphere(my))return;mg.copy(r).invert(),mx.copy(t.ray).applyMatrix4(mg);let a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new uN,u=new uN,d=new uN,p=new uN,h=this.isLineSegments?2:1,f=i.index,m=i.attributes.position;if(null!==f){let i=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count);for(let s=i,o=r-1;s<o;s+=h){let i=f.getX(s),r=f.getX(s+1);if(c.fromBufferAttribute(m,i),u.fromBufferAttribute(m,r),mx.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let o=t.ray.origin.distanceTo(p);o<t.near||o>t.far||n.push({distance:o,point:d.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this})}}else{let i=Math.max(0,o.start),r=Math.min(m.count,o.start+o.count);for(let s=i,o=r-1;s<o;s+=h){if(c.fromBufferAttribute(m,s),u.fromBufferAttribute(m,s+1),mx.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let i=t.ray.origin.distanceTo(p);i<t.near||i>t.far||n.push({distance:i,point:d.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=i.length;t<n;t++){let n=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}let mb=new uN,mA=new uN;class mw extends mv{constructor(t,n){super(t,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let t=this.geometry;if(null===t.index){let n=t.attributes.position,i=[];for(let t=0,r=n.count;t<r;t+=2)mb.fromBufferAttribute(n,t),mA.fromBufferAttribute(n,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+mb.distanceTo(mA);t.setAttribute("lineDistance",new d6(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class mC extends mv{constructor(t,n){super(t,n),this.isLineLoop=!0,this.type="LineLoop"}}class m_ extends dG{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dY(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let mS=new ds,mk=new dr,mE=new u6,mM=new uN;class mI extends dB{constructor(t=new pr,n=new m_){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),this.material=t.material,this.geometry=t.geometry,this}raycast(t,n){let i=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),mE.copy(i.boundingSphere),mE.applyMatrix4(r),mE.radius+=s,!1===t.ray.intersectsSphere(mE))return;mS.copy(r).invert(),mk.copy(t.ray).applyMatrix4(mS);let a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,u=i.attributes.position;if(null!==c){let i=Math.max(0,o.start),s=Math.min(c.count,o.start+o.count);for(let o=i;o<s;o++){let i=c.getX(o);mM.fromBufferAttribute(u,i),mT(mM,i,l,r,t,n,this)}}else{let i=Math.max(0,o.start),s=Math.min(u.count,o.start+o.count);for(let o=i;o<s;o++)mM.fromBufferAttribute(u,o),mT(mM,o,l,r,t,n,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=i.length;t<n;t++){let n=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}function mT(t,n,i,r,s,o,a){let l=mk.distanceSqToPoint(t);if(l<i){let i=new uN;mk.closestPointToPoint(t,i),i.applyMatrix4(r);let c=s.ray.origin.distanceTo(i);if(c<s.near||c>s.far)return;o.push({distance:c,distanceToRay:Math.sqrt(l),point:i,index:n,face:null,object:a})}}class mB extends uj{constructor(t,n,i,r,s,o,a,l,c){super(t,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==s?s:1006,this.generateMipmaps=!1;let u=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function n(){u.needsUpdate=!0,t.requestVideoFrameCallback(n)})}clone(){return new this.constructor(this.image).copy(this)}update(){let t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class mL extends uj{constructor(t,n,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class mj extends mL{constructor(t,n,i,r,s,o){super(t,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=1001}}class mP extends uj{constructor(t,n,i,r,s,o,a,l,c){super(t,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mR extends dG{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dY(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dY(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class mD extends mR{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ux(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ud(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new dY(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new dY(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new dY(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function mF(t,n,i){return mN(t)?new t.constructor(t.subarray(n,void 0!==i?i:t.length)):t.slice(n,i)}function mO(t,n,i){return t&&(i||t.constructor!==n)?"number"==typeof n.BYTES_PER_ELEMENT?new n(t):Array.prototype.slice.call(t):t}function mN(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mU(t,n,i){let r=t.length,s=new t.constructor(r);for(let o=0,a=0;a!==r;++o){let r=i[o]*n;for(let i=0;i!==n;++i)s[a++]=t[r+i]}return s}function mV(t,n,i,r){let s=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[s++];if(void 0===o)return;let a=o[r];if(void 0!==a){if(Array.isArray(a))do void 0!==(a=o[r])&&(n.push(o.time),i.push.apply(i,a)),o=t[s++];while(void 0!==o);else if(void 0!==a.toArray)do void 0!==(a=o[r])&&(n.push(o.time),a.toArray(i,i.length)),o=t[s++];while(void 0!==o);else do void 0!==(a=o[r])&&(n.push(o.time),i.push(a)),o=t[s++];while(void 0!==o)}}class mH{constructor(t,n,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){let n=this.parameterPositions,i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(t<r)){for(let o=i+2;;){if(void 0===r){if(t<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,t<(r=n[++i]))break t}o=n.length;break n}if(!(t>=s)){let a=n[1];t<a&&(i=2,s=a);for(let o=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===o)break;if(r=s,t>=(s=n[--i-1]))break t}o=i,i=0;break n}break e}for(;i<o;){let r=i+o>>>1;t<n[r]?o=r:i=r+1}if(r=n[i],void 0===(s=n[i-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){let n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let t=0;t!==r;++t)n[t]=i[s+t];return n}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class mQ extends mH{constructor(t,n,i,r){super(t,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,n,i){let r=this.parameterPositions,s=t-2,o=t+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=t,a=2*n-i;break;case 2402:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=t,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=t,l=2*i-n;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=t-1,l=n}let c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(t,n,i,r){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,h=this._weightNext,f=(i-n)/(r-n),m=f*f,g=m*f,x=-p*g+2*p*m-p*f,y=(1+p)*g+(-1.5-2*p)*m+(-.5+p)*f+1,v=(-1-h)*g+(1.5+h)*m+.5*f,b=h*g-h*m;for(let t=0;t!==a;++t)s[t]=x*o[u+t]+y*o[c+t]+v*o[l+t]+b*o[d+t];return s}}class mz extends mH{constructor(t,n,i,r){super(t,n,i,r)}interpolate_(t,n,i,r){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let t=0;t!==a;++t)s[t]=o[c+t]*d+o[l+t]*u;return s}}class mG extends mH{constructor(t,n,i,r){super(t,n,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class mq{constructor(t,n,i,r){if(void 0===t)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=mO(n,this.TimeBufferType),this.values=mO(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){let n;let i=t.constructor;if(i.toJSON!==this.toJSON)n=i.toJSON(t);else{n={name:t.name,times:mO(t.times,Array),values:mO(t.values,Array)};let i=t.getInterpolation();i!==t.DefaultInterpolation&&(n.interpolation=i)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new mG(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new mz(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new mQ(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let n;switch(t){case 2300:n=this.InterpolantFactoryMethodDiscrete;break;case 2301:n=this.InterpolantFactoryMethodLinear;break;case 2302:n=this.InterpolantFactoryMethodSmooth}if(void 0===n){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(n)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){let n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=t}return this}scale(t){if(1!==t){let n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=t}return this}trim(t,n){let i=this.times,r=i.length,s=0,o=r-1;for(;s!==r&&i[s]<t;)++s;for(;-1!==o&&i[o]>n;)--o;if(++o,0!==s||o!==r){s>=o&&(s=(o=Math.max(o,1))-1);let t=this.getValueSize();this.times=mF(i,s,o),this.values=mF(this.values,s*t,o*t)}return this}validate(){let t=!0,n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);let i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let n=0;n!==s;n++){let r=i[n];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,n,r),t=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,n,r,o),t=!1;break}o=r}if(void 0!==r&&mN(r))for(let n=0,i=r.length;n!==i;++n){let i=r[n];if(isNaN(i)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,n,i),t=!1;break}}return t}optimize(){let t=mF(this.times),n=mF(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1,o=1;for(let a=1;a<s;++a){let s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==t[0])){if(r)s=!0;else{let t=a*i,r=t-i,o=t+i;for(let a=0;a!==i;++a){let i=n[t+a];if(i!==n[r+a]||i!==n[o+a]){s=!0;break}}}}if(s){if(a!==o){t[o]=t[a];let r=a*i,s=o*i;for(let t=0;t!==i;++t)n[s+t]=n[r+t]}++o}}if(s>0){t[o]=t[s];for(let t=s*i,r=o*i,a=0;a!==i;++a)n[r+a]=n[t+a];++o}return o!==t.length?(this.times=mF(t,0,o),this.values=mF(n,0,o*i)):(this.times=t,this.values=n),this}clone(){let t=mF(this.times,0),n=mF(this.values,0),i=new this.constructor(this.name,t,n);return i.createInterpolant=this.createInterpolant,i}}mq.prototype.TimeBufferType=Float32Array,mq.prototype.ValueBufferType=Float32Array,mq.prototype.DefaultInterpolation=2301;class mW extends mq{}mW.prototype.ValueTypeName="bool",mW.prototype.ValueBufferType=Array,mW.prototype.DefaultInterpolation=2300,mW.prototype.InterpolantFactoryMethodLinear=void 0,mW.prototype.InterpolantFactoryMethodSmooth=void 0;class m$ extends mq{}m$.prototype.ValueTypeName="color";class mZ extends mq{}mZ.prototype.ValueTypeName="number";class mY extends mH{constructor(t,n,i,r){super(t,n,i,r)}interpolate_(t,n,i,r){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n),c=t*a;for(let t=c+a;c!==t;c+=4)uO.slerpFlat(s,0,o,c-a,o,c,l);return s}}class mK extends mq{InterpolantFactoryMethodLinear(t){return new mY(this.times,this.values,this.getValueSize(),t)}}mK.prototype.ValueTypeName="quaternion",mK.prototype.DefaultInterpolation=2301,mK.prototype.InterpolantFactoryMethodSmooth=void 0;class mX extends mq{}mX.prototype.ValueTypeName="string",mX.prototype.ValueBufferType=Array,mX.prototype.DefaultInterpolation=2300,mX.prototype.InterpolantFactoryMethodLinear=void 0,mX.prototype.InterpolantFactoryMethodSmooth=void 0;class mJ extends mq{}mJ.prototype.ValueTypeName="vector";class m0{constructor(t,n=-1,i,r=2500){this.name=t,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=uu(),this.duration<0&&this.resetDuration()}static parse(t){let n=[],i=t.tracks,r=1/(t.fps||1);for(let t=0,s=i.length;t!==s;++t)n.push((function(t){if(void 0===t.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");let n=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mZ;case"vector":case"vector2":case"vector3":case"vector4":return mJ;case"color":return m$;case"quaternion":return mK;case"bool":case"boolean":return mW;case"string":return mX}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){let n=[],i=[];mV(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==n.parse?n.parse(t):new n(t.name,t.times,t.values,t.interpolation)})(i[t]).scale(r));let s=new this(t.name,t.duration,n,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){let n=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:n,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,r=i.length;t!==r;++t)n.push(mq.toJSON(i[t]));return r}static CreateFromMorphTargetSequence(t,n,i,r){let s=n.length,o=[];for(let t=0;t<s;t++){let a=[],l=[];a.push((t+s-1)%s,t,(t+1)%s),l.push(0,1,0);let c=function(t){let n=t.length,i=Array(n);for(let t=0;t!==n;++t)i[t]=t;return i.sort(function(n,i){return t[n]-t[i]}),i}(a);a=mU(a,1,c),l=mU(l,1,c),r||0!==a[0]||(a.push(s),l.push(l[0])),o.push(new mZ(".morphTargetInfluences["+n[t].name+"]",a,l).scale(1/i))}return new this(t,-1,o)}static findByName(t,n){let i=t;Array.isArray(t)||(i=t.geometry&&t.geometry.animations||t.animations);for(let t=0;t<i.length;t++)if(i[t].name===n)return i[t];return null}static CreateClipsFromMorphTargetSequences(t,n,i){let r={},s=/^([\w-]*?)([\d]+)$/;for(let n=0,i=t.length;n<i;n++){let i=t[n],o=i.name.match(s);if(o&&o.length>1){let t=o[1],n=r[t];n||(r[t]=n=[]),n.push(i)}}let o=[];for(let t in r)o.push(this.CreateFromMorphTargetSequence(t,r[t],n,i));return o}static parseAnimation(t,n){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(t,n,i,r,s){if(0!==i.length){let o=[],a=[];mV(i,o,a,r),0!==o.length&&s.push(new t(n,o,a))}},r=[],s=t.name||"default",o=t.fps||30,a=t.blendMode,l=t.length||-1,c=t.hierarchy||[];for(let t=0;t<c.length;t++){let s=c[t].keys;if(s&&0!==s.length){if(s[0].morphTargets){let t;let n={};for(t=0;t<s.length;t++)if(s[t].morphTargets)for(let i=0;i<s[t].morphTargets.length;i++)n[s[t].morphTargets[i]]=-1;for(let i in n){let n=[],o=[];for(let r=0;r!==s[t].morphTargets.length;++r){let r=s[t];n.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new mZ(".morphTargetInfluence["+i+"]",n,o))}l=n.length*o}else{let o=".bones["+n[t].name+"]";i(mJ,o+".position",s,"pos",r),i(mK,o+".quaternion",s,"rot",r),i(mJ,o+".scale",s,"scl",r)}}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let t=this.tracks,n=0;for(let i=0,r=t.length;i!==r;++i){let t=this.tracks[i];n=Math.max(n,t.times[t.times.length-1])}return this.duration=n,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let n=0;n<this.tracks.length;n++)t=t&&this.tracks[n].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){let t=[];for(let n=0;n<this.tracks.length;n++)t.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}let m1={enabled:!1,files:{},add:function(t,n){!1!==this.enabled&&(this.files[t]=n)},get:function(t){if(!1!==this.enabled)return this.files[t]}};class m2{constructor(t,n,i){let r;let s=this,o=!1,a=0,l=0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(t){l++,!1===o&&void 0!==s.onStart&&s.onStart(t,a,l),o=!0},this.itemEnd=function(t){a++,void 0!==s.onProgress&&s.onProgress(t,a,l),a===l&&(o=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(t){void 0!==s.onError&&s.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,n){return c.push(t,n),this},this.removeHandler=function(t){let n=c.indexOf(t);return -1!==n&&c.splice(n,2),this},this.getHandler=function(t){for(let n=0,i=c.length;n<i;n+=2){let i=c[n],r=c[n+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}}}let m3=new m2;class m5{constructor(t){this.manager=void 0!==t?t:m3,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,n){let i=this;return new Promise(function(r,s){i.load(t,r,n,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}let m4={};class m6 extends Error{constructor(t,n){super(t),this.response=n}}class m8 extends m5{constructor(t){super(t)}load(t,n,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let s=m1.get(t);if(void 0!==s)return this.manager.itemStart(t),setTimeout(()=>{n&&n(s),this.manager.itemEnd(t)},0),s;if(void 0!==m4[t]){m4[t].push({onLoad:n,onProgress:i,onError:r});return}m4[t]=[],m4[t].push({onLoad:n,onProgress:i,onError:r});let o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(n=>{if(200===n.status||0===n.status){if(0===n.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===n.body||void 0===n.body.getReader)return n;let i=m4[t],r=n.body.getReader(),s=n.headers.get("Content-Length")||n.headers.get("X-File-Size"),o=s?parseInt(s):0,a=0!==o,l=0;return new Response(new ReadableStream({start(t){(function n(){r.read().then(({done:r,value:s})=>{if(r)t.close();else{let r=new ProgressEvent("progress",{lengthComputable:a,loaded:l+=s.byteLength,total:o});for(let t=0,n=i.length;t<n;t++){let n=i[t];n.onProgress&&n.onProgress(r)}t.enqueue(s),n()}})})()}}))}throw new m6(`fetch for "${n.url}" responded with ${n.status}: ${n.statusText}`,n)}).then(t=>{switch(l){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then(t=>new DOMParser().parseFromString(t,a));case"json":return t.json();default:if(void 0===a)return t.text();{let n=/charset="?([^;"\s]*)"?/i.exec(a),i=new TextDecoder(n&&n[1]?n[1].toLowerCase():void 0);return t.arrayBuffer().then(t=>i.decode(t))}}}).then(n=>{m1.add(t,n);let i=m4[t];delete m4[t];for(let t=0,r=i.length;t<r;t++){let r=i[t];r.onLoad&&r.onLoad(n)}}).catch(n=>{let i=m4[t];if(void 0===i)throw this.manager.itemError(t),n;delete m4[t];for(let t=0,r=i.length;t<r;t++){let r=i[t];r.onError&&r.onError(n)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class m7 extends m5{constructor(t){super(t)}load(t,n,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let s=this,o=m1.get(t);if(void 0!==o)return s.manager.itemStart(t),setTimeout(function(){n&&n(o),s.manager.itemEnd(t)},0),o;let a=uA("img");function l(){u(),m1.add(t,this),n&&n(this),s.manager.itemEnd(t)}function c(n){u(),r&&r(n),s.manager.itemError(t),s.manager.itemEnd(t)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(t),a.src=t,a}}class m9 extends m5{constructor(t){super(t)}load(t,n,i,r){let s=this,o=new me,a=new m8(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(t,function(t){let i=s.parse(t);i&&(void 0!==i.image?o.image=i.image:void 0!==i.data&&(o.image.width=i.width,o.image.height=i.height,o.image.data=i.data),o.wrapS=void 0!==i.wrapS?i.wrapS:1001,o.wrapT=void 0!==i.wrapT?i.wrapT:1001,o.magFilter=void 0!==i.magFilter?i.magFilter:1006,o.minFilter=void 0!==i.minFilter?i.minFilter:1006,o.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.encoding&&(o.encoding=i.encoding),void 0!==i.flipY&&(o.flipY=i.flipY),void 0!==i.format&&(o.format=i.format),void 0!==i.type&&(o.type=i.type),void 0!==i.mipmaps&&(o.mipmaps=i.mipmaps,o.minFilter=1008),1===i.mipmapCount&&(o.minFilter=1006),void 0!==i.generateMipmaps&&(o.generateMipmaps=i.generateMipmaps),o.needsUpdate=!0,n&&n(o,i))},i,r),o}}class ge extends m5{constructor(t){super(t)}load(t,n,i,r){let s=new uj,o=new m7(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(t){s.image=t,s.needsUpdate=!0,void 0!==n&&n(s)},i,r),s}}class gt extends dB{constructor(t,n=1){super(),this.isLight=!0,this.type="Light",this.color=new dY(t),this.intensity=n}dispose(){}copy(t,n){return super.copy(t,n),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){let n=super.toJSON(t);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}let gn=new ds,gi=new uN,gr=new uN;class gs{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ux(512,512),this.map=null,this.mapPass=null,this.matrix=new ds,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new pV,this._frameExtents=new ux(1,1),this._viewportCount=1,this._viewports=[new uP(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){let n=this.camera,i=this.matrix;gi.setFromMatrixPosition(t.matrixWorld),n.position.copy(gi),gr.setFromMatrixPosition(t.target.matrixWorld),n.lookAt(gr),n.updateMatrixWorld(),gn.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gn),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(gn)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class go extends gs{constructor(){super(new pB(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){let n=this.camera,i=2*uc*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=t.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class ga extends gt{constructor(t,n,i=0,r=Math.PI/3,s=0,o=2){super(t,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(dB.DEFAULT_UP),this.updateMatrix(),this.target=new dB,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new go}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,n){return super.copy(t,n),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}let gl=new ds,gc=new uN,gu=new uN;class gd extends gs{constructor(){super(new pB(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ux(4,2),this._viewportCount=6,this._viewports=[new uP(2,1,1,1),new uP(0,1,1,1),new uP(3,1,1,1),new uP(1,1,1,1),new uP(3,0,1,1),new uP(1,0,1,1)],this._cubeDirections=[new uN(1,0,0),new uN(-1,0,0),new uN(0,0,1),new uN(0,0,-1),new uN(0,1,0),new uN(0,-1,0)],this._cubeUps=[new uN(0,1,0),new uN(0,1,0),new uN(0,1,0),new uN(0,1,0),new uN(0,0,1),new uN(0,0,-1)]}updateMatrices(t,n=0){let i=this.camera,r=this.matrix,s=t.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),gc.setFromMatrixPosition(t.matrixWorld),i.position.copy(gc),gu.copy(i.position),gu.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(gu),i.updateMatrixWorld(),r.makeTranslation(-gc.x,-gc.y,-gc.z),gl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gl)}}class gp extends gt{constructor(t,n,i=0,r=2){super(t,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new gd}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,n){return super.copy(t,n),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class gh extends gs{constructor(){super(new p1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gf extends gt{constructor(t,n){super(t,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dB.DEFAULT_UP),this.updateMatrix(),this.target=new dB,this.shadow=new gh}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class gm{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new uN)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){let i=t.x,r=t.y,s=t.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],i*r*1.092548),n.addScaledVector(o[5],r*s*1.092548),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],i*s*1.092548),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(t,n){let i=t.x,r=t.y,s=t.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],1.023328*r),n.addScaledVector(o[2],1.023328*s),n.addScaledVector(o[3],1.023328*i),n.addScaledVector(o[4],.858086*i*r),n.addScaledVector(o[5],.858086*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],.858086*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n=0){let i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,n+3*r);return this}toArray(t=[],n=0){let i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,n+3*r);return t}static getBasisAt(t,n){let i=t.x,r=t.y,s=t.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class gg extends gt{constructor(t=new gm,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){let n=super.toJSON(t);return n.object.sh=this.sh.toArray(),n}}class gx{static decodeText(t){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(t);let n="";for(let i=0,r=t.length;i<r;i++)n+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(n))}catch(t){return n}}static extractUrlBase(t){let n=t.lastIndexOf("/");return -1===n?"./":t.slice(0,n+1)}static resolveURL(t,n){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(n)&&/^\//.test(t)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t))?t:n+t}}class gy extends m5{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,n,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let s=this,o=m1.get(t);if(void 0!==o)return s.manager.itemStart(t),setTimeout(function(){n&&n(o),s.manager.itemEnd(t)},0),o;let a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(i){m1.add(t,i),n&&n(i),s.manager.itemEnd(t)}).catch(function(n){r&&r(n),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}class gv{constructor(t,n,i){let r,s,o;switch(this.binding=t,this.valueSize=i,n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=Array(5*i);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,n){let i=this.buffer,r=this.valueSize,s=t*r+r,o=this.cumulativeWeight;if(0===o){for(let t=0;t!==r;++t)i[s+t]=i[t];o=n}else{o+=n;let t=n/o;this._mixBufferRegion(i,s,0,t,r)}this.cumulativeWeight=o}accumulateAdditive(t){let n=this.buffer,i=this.valueSize,r=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){let n=this.valueSize,i=this.buffer,r=t*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){let t=n*this._origIndex;this._mixBufferRegion(i,r,t,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let t=n,s=n+n;t!==s;++t)if(i[t]!==i[t+n]){a.setValue(i,r);break}}saveOriginalState(){let t=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(n,r);for(let t=i;t!==r;++t)n[t]=n[r+t%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){let t=this._addIndex*this.valueSize,n=t+this.valueSize;for(let i=t;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let t=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[t+i]}_select(t,n,i,r,s){if(r>=.5)for(let r=0;r!==s;++r)t[n+r]=t[i+r]}_slerp(t,n,i,r){uO.slerpFlat(t,n,t,n,t,i,r)}_slerpAdditive(t,n,i,r,s){let o=this._workIndex*s;uO.multiplyQuaternionsFlat(t,o,t,n,t,i),uO.slerpFlat(t,n,t,n,t,o,r)}_lerp(t,n,i,r,s){let o=1-r;for(let a=0;a!==s;++a){let s=n+a;t[s]=t[s]*o+t[i+a]*r}}_lerpAdditive(t,n,i,r,s){for(let o=0;o!==s;++o){let s=n+o;t[s]=t[s]+t[i+o]*r}}}let gb="\\[\\]\\.:\\/",gA=RegExp("["+gb+"]","g"),gw="[^"+gb+"]",gC="[^"+gb.replace("\\.","")+"]",g_=/((?:WC+[\/:])*)/.source.replace("WC",gw),gS=RegExp("^"+g_+/(WCOD+)?/.source.replace("WCOD",gC)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gw)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gw)+"$"),gk=["material","materials","bones","map"];class gE{constructor(t,n,i){let r=i||gM.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,r)}getValue(t,n){this.bind();let i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,n)}setValue(t,n){let i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,n)}bind(){let t=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].bind()}unbind(){let t=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].unbind()}}class gM{constructor(t,n,i){this.path=n,this.parsedPath=i||gM.parseTrackName(n),this.node=gM.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,i){return t&&t.isAnimationObjectGroup?new gM.Composite(t,n,i):new gM(t,n,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(gA,"")}static parseTrackName(t){let n=gS.exec(t);if(null===n)throw Error("PropertyBinding: Cannot parse trackName: "+t);let i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){let t=i.nodeName.substring(r+1);-1!==gk.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,n){if(void 0===n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){let i=t.skeleton.getBoneByName(n);if(void 0!==i)return i}if(t.children){let i=function(t){for(let r=0;r<t.length;r++){let s=t[r];if(s.name===n||s.uuid===n)return s;let o=i(s.children);if(o)return o}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[n++]=i[r]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++]}_setValue_array_setNeedsUpdate(t,n){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node,n=this.parsedPath,i=n.objectName,r=n.propertyName,s=n.propertyIndex;if(t||(t=gM.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let r=n.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let n=0;n<t.length;n++)if(t[n].name===r){r=n;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(void 0===t[i]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(void 0!==r){if(void 0===t[r]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[r]}}let o=t[r];if(void 0===o){console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+r+" but it wasn't found.",t);return}let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===r){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}gM.Composite=gE,gM.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},gM.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},gM.prototype.GetterByBindingType=[gM.prototype._getValue_direct,gM.prototype._getValue_array,gM.prototype._getValue_arrayElement,gM.prototype._getValue_toArray],gM.prototype.SetterByBindingTypeAndVersioning=[[gM.prototype._setValue_direct,gM.prototype._setValue_direct_setNeedsUpdate,gM.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[gM.prototype._setValue_array,gM.prototype._setValue_array_setNeedsUpdate,gM.prototype._setValue_array_setMatrixWorldNeedsUpdate],[gM.prototype._setValue_arrayElement,gM.prototype._setValue_arrayElement_setNeedsUpdate,gM.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[gM.prototype._setValue_fromArray,gM.prototype._setValue_fromArray_setNeedsUpdate,gM.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gI{constructor(t,n,i=null,r=n.blendMode){this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=r;let s=n.tracks,o=s.length,a=Array(o),l={endingStart:2400,endingEnd:2400};for(let t=0;t!==o;++t){let n=s[t].createInterpolant(null);a[t]=n,n.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){let i=this._clip.duration,r=t._clip.duration;t.warp(1,r/i,n),this.warp(i/r,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){let t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){let r=this._mixer,s=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);let l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=t/o,c[1]=n/o,this}stopWarping(){let t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,r){if(!this.enabled){this._updateWeight(t);return}let s=this._startTime;if(null!==s){let r=(t-s)*i;r<0||0===i?n=0:(this._startTime=null,n=i*r)}n*=this._updateTimeScale(t);let o=this._updateTime(n),a=this._updateWeight(t);if(a>0){let t=this._interpolants,n=this._propertyBindings;if(2501===this.blendMode)for(let i=0,r=t.length;i!==r;++i)t[i].evaluate(o),n[i].accumulateAdditive(a);else for(let i=0,s=t.length;i!==s;++i)t[i].evaluate(o),n[i].accumulate(r,a)}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;let i=this._weightInterpolant;if(null!==i){let r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;let i=this._timeScaleInterpolant;null!==i&&(n*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===n?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(t){let n=this._clip.duration,i=this.loop,r=this.time+t,s=this._loopCount,o=2202===i;if(0===t)return -1===s?r:o&&(1&s)==1?n-r:r;if(2200===i){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));r:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break r}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===s&&(t>=0?(s=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=n||r<0){let i=Math.floor(r/n);r-=n*i,s+=Math.abs(i);let a=this.repetitions-s;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===a){let n=t<0;this._setEndings(n,!n,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i})}}else this.time=r;if(o&&(1&s)==1)return n-r}return r}_setEndings(t,n,i){let r=this._interpolantSettings;i?(r.endingStart=2401,r.endingEnd=2401):(t?r.endingStart=this.zeroSlopeAtStart?2401:2400:r.endingStart=2402,n?r.endingEnd=this.zeroSlopeAtEnd?2401:2400:r.endingEnd=2402)}_scheduleFading(t,n,i){let r=this._mixer,s=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);let a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+t,l[1]=i,this}}let gT=new Float32Array(1);class gB extends uo{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,n){let i=t._localRoot||this._root,r=t._clip.tracks,s=r.length,o=t._propertyBindings,a=t._interpolants,l=i.uuid,c=this._bindingsByRootAndName,u=c[l];void 0===u&&(u={},c[l]=u);for(let t=0;t!==s;++t){let s=r[t],c=s.name,d=u[c];if(void 0!==d)++d.referenceCount,o[t]=d;else{if(void 0!==(d=o[t])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,l,c));continue}let r=n&&n._propertyBindings[t].binding.parsedPath;d=new gv(gM.create(i,c,r),s.ValueTypeName,s.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,l,c),o[t]=d}a[t].resultBuffer=d.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){let n=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,n)}let n=t._propertyBindings;for(let t=0,i=n.length;t!==i;++t){let i=n[t];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){let n=t._propertyBindings;for(let t=0,i=n.length;t!==i;++t){let i=n[t];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){let n=t._cacheIndex;return null!==n&&n<this._nActiveActions}_addInactiveAction(t,n,i){let r=this._actions,s=this._actionsByClip,o=s[n];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[n]=o;else{let n=o.knownActions;t._byClipCacheIndex=n.length,n.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){let n=this._actions,i=n[n.length-1],r=t._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),t._cacheIndex=null;let s=t._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),t._byClipCacheIndex=null;let d=a.actionByRoot,p=(t._localRoot||this._root).uuid;delete d[p],0===l.length&&delete o[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){let n=t._propertyBindings;for(let t=0,i=n.length;t!==i;++t){let i=n[t];0==--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(t){let n=this._actions,i=t._cacheIndex,r=this._nActiveActions++,s=n[r];t._cacheIndex=r,n[r]=t,s._cacheIndex=i,n[i]=s}_takeBackAction(t){let n=this._actions,i=t._cacheIndex,r=--this._nActiveActions,s=n[r];t._cacheIndex=r,n[r]=t,s._cacheIndex=i,n[i]=s}_addInactiveBinding(t,n,i){let r=this._bindingsByRootAndName,s=this._bindings,o=r[n];void 0===o&&(o={},r[n]=o),o[i]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){let n=this._bindings,i=t.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=t._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],0===Object.keys(a).length&&delete o[r]}_lendBinding(t){let n=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,s=n[r];t._cacheIndex=r,n[r]=t,s._cacheIndex=i,n[i]=s}_takeBackBinding(t){let n=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,s=n[r];t._cacheIndex=r,n[r]=t,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){let t=this._controlInterpolants,n=this._nActiveControlInterpolants++,i=t[n];return void 0===i&&((i=new mz(new Float32Array(2),new Float32Array(2),1,gT)).__cacheIndex=n,t[n]=i),i}_takeBackControlInterpolant(t){let n=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];t.__cacheIndex=r,n[r]=t,s.__cacheIndex=i,n[i]=s}clipAction(t,n,i){let r=n||this._root,s=r.uuid,o="string"==typeof t?m0.findByName(r,t):t,a=null!==o?o.uuid:t,l=this._actionsByClip[a],c=null;if(void 0===i&&(i=null!==o?o.blendMode:2500),void 0!==l){let t=l.actionByRoot[s];if(void 0!==t&&t.blendMode===i)return t;c=l.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;let u=new gI(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(t,n){let i=n||this._root,r=i.uuid,s="string"==typeof t?m0.findByName(i,t):t,o=s?s.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){let t=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;let n=this._actions,i=this._nActiveActions,r=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let a=0;a!==i;++a)n[a]._update(r,t,s,o);let a=this._bindings,l=this._nActiveBindings;for(let t=0;t!==l;++t)a[t].apply(o);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){let n=this._actions,i=t.uuid,r=this._actionsByClip,s=r[i];if(void 0!==s){let t=s.knownActions;for(let i=0,r=t.length;i!==r;++i){let r=t[i];this._deactivateAction(r);let s=r._cacheIndex,o=n[n.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=s,n[s]=o,n.pop(),this._removeInactiveBindingsForAction(r)}delete r[i]}}uncacheRoot(t){let n=t.uuid,i=this._actionsByClip;for(let t in i){let r=i[t].actionByRoot[n];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}let r=this._bindingsByRootAndName[n];if(void 0!==r)for(let t in r){let n=r[t];n.restoreOriginalState(),this._removeInactiveBinding(n)}}uncacheAction(t,n){let i=this.existingAction(t,n);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class gL{constructor(t,n,i=0,r=1/0){this.ray=new dr(t,n),this.near=i,this.far=r,this.camera=null,this.layers=new dx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,n){this.ray.set(t,n)}setFromCamera(t,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(t,n=!0,i=[]){return gP(t,this,i,n),i.sort(gj),i}intersectObjects(t,n=!0,i=[]){for(let r=0,s=t.length;r<s;r++)gP(t[r],this,i,n);return i.sort(gj),i}}function gj(t,n){return t.distance-n.distance}function gP(t,n,i,r){if(t.layers.test(n.layers)&&t.raycast(n,i),!0===r){let r=t.children;for(let t=0,s=r.length;t<s;t++)gP(r[t],n,i,!0)}}class gR{constructor(t=1,n=0,i=0){return this.radius=t,this.phi=n,this.theta=i,this}set(t,n,i){return this.radius=t,this.phi=n,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+n*n+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(ud(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"151"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="151");/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let gD=window,gF=gD.ShadowRoot&&(void 0===gD.ShadyCSS||gD.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gO=Symbol(),gN=new WeakMap;class gU{constructor(t,n,i){if(this._$cssResult$=!0,i!==gO)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o,n=this.t;if(gF&&void 0===t){let i=void 0!==n&&1===n.length;i&&(t=gN.get(n)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&gN.set(n,t))}return t}toString(){return this.cssText}}let gV=t=>new gU("string"==typeof t?t:t+"",void 0,gO),gH=(t,n)=>{gF?t.adoptedStyleSheets=n.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):n.forEach(n=>{let i=document.createElement("style"),r=gD.litNonce;void 0!==r&&i.setAttribute("nonce",r),i.textContent=n.cssText,t.appendChild(i)})},gQ=gF?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let n="";for(let i of t.cssRules)n+=i.cssText;return gV(n)})(t):t,gz=window,gG=gz.trustedTypes,gq=gG?gG.emptyScript:"",gW=gz.reactiveElementPolyfillSupport,g$={toAttribute(t,n){switch(n){case Boolean:t=t?gq:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,n){let i=t;switch(n){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},gZ=(t,n)=>n!==t&&(n==n||t==t),gY={attribute:!0,type:String,converter:g$,reflect:!1,hasChanged:gZ};class gK extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var n;this.finalize(),(null!==(n=this.h)&&void 0!==n?n:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((n,i)=>{let r=this._$Ep(i,n);void 0!==r&&(this._$Ev.set(r,i),t.push(r))}),t}static createProperty(t,n=gY){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(t,n),!n.noAccessor&&!this.prototype.hasOwnProperty(t)){let i="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,i,n);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}static getPropertyDescriptor(t,n,i){return{get(){return this[n]},set(r){let s=this[t];this[n]=r,this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||gY}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties;for(let n of[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)])this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let n=[];if(Array.isArray(t))for(let i of new Set(t.flat(1/0).reverse()))n.unshift(gQ(i));else void 0!==t&&n.push(gQ(t));return n}static _$Ep(t,n){let i=n.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach(t=>t(this))}addController(t){var n,i;(null!==(n=this._$ES)&&void 0!==n?n:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var n;null===(n=this._$ES)||void 0===n||n.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var t;let n=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return gH(n,this.constructor.elementStyles),n}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var n;return null===(n=t.hostConnected)||void 0===n?void 0:n.call(t)})}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach(t=>{var n;return null===(n=t.hostDisconnected)||void 0===n?void 0:n.call(t)})}attributeChangedCallback(t,n,i){this._$AK(t,i)}_$EO(t,n,i=gY){var r;let s=this.constructor._$Ep(t,i);if(void 0!==s&&!0===i.reflect){let o=(void 0!==(null===(r=i.converter)||void 0===r?void 0:r.toAttribute)?i.converter:g$).toAttribute(n,i.type);this._$El=t,null==o?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(t,n){var i;let r=this.constructor,s=r._$Ev.get(t);if(void 0!==s&&this._$El!==s){let t=r.getPropertyOptions(s),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:g$;this._$El=s,this[s]=o.fromAttribute(n,t.type),this._$El=null}}requestUpdate(t,n,i){let r=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||gZ)(this[t],n)?(this._$AL.has(t)||this._$AL.set(t,n),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}let t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((t,n)=>this[n]=t),this._$Ei=void 0);let n=!1,i=this._$AL;try{(n=this.shouldUpdate(i))?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach(t=>{var n;return null===(n=t.hostUpdate)||void 0===n?void 0:n.call(t)}),this.update(i)):this._$Ek()}catch(t){throw n=!1,this._$Ek(),t}n&&this._$AE(i)}willUpdate(t){}_$AE(t){var n;null===(n=this._$ES)||void 0===n||n.forEach(t=>{var n;return null===(n=t.hostUpdated)||void 0===n?void 0:n.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach((t,n)=>this._$EO(n,this[n],t)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}gK.finalized=!0,gK.elementProperties=new Map,gK.elementStyles=[],gK.shadowRootOptions={mode:"open"},null==gW||gW({ReactiveElement:gK}),(null!==(TZ=gz.reactiveElementVersions)&&void 0!==TZ?TZ:gz.reactiveElementVersions=[]).push("1.6.1");let gX=window,gJ=gX.trustedTypes,g0=gJ?gJ.createPolicy("lit-html",{createHTML:t=>t}):void 0,g1="$lit$",g2=`lit$${(Math.random()+"").slice(9)}$`,g3="?"+g2,g5=`<${g3}>`,g4=document,g6=()=>g4.createComment(""),g8=t=>null===t||"object"!=typeof t&&"function"!=typeof t,g7=Array.isArray,g9=t=>g7(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),xe="[ 	\n\f\r]",xt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,xn=/-->/g,xi=/>/g,xr=RegExp(`>|${xe}(?:([^\\s"'>=/]+)(${xe}*=${xe}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),xs=/'/g,xo=/"/g,xa=/^(?:script|style|textarea|title)$/i,xl=(t,...n)=>({_$litType$:1,strings:t,values:n}),xc=Symbol.for("lit-noChange"),xu=Symbol.for("lit-nothing"),xd=new WeakMap,xp=g4.createTreeWalker(g4,129,null,!1),xh=(t,n)=>{let i=t.length-1,r=[],s,o=2===n?"<svg>":"",a=xt;for(let n=0;n<i;n++){let i=t[n],l,c,u=-1,d=0;for(;d<i.length&&(a.lastIndex=d,null!==(c=a.exec(i)));)d=a.lastIndex,a===xt?"!--"===c[1]?a=xn:void 0!==c[1]?a=xi:void 0!==c[2]?(xa.test(c[2])&&(s=RegExp("</"+c[2],"g")),a=xr):void 0!==c[3]&&(a=xr):a===xr?">"===c[0]?(a=null!=s?s:xt,u=-1):void 0===c[1]?u=-2:(u=a.lastIndex-c[2].length,l=c[1],a=void 0===c[3]?xr:'"'===c[3]?xo:xs):a===xo||a===xs?a=xr:a===xn||a===xi?a=xt:(a=xr,s=void 0);let p=a===xr&&t[n+1].startsWith("/>")?" ":"";o+=a===xt?i+g5:u>=0?(r.push(l),i.slice(0,u)+g1+i.slice(u)+g2+p):i+g2+(-2===u?(r.push(void 0),n):p)}let l=o+(t[i]||"<?>")+(2===n?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==g0?g0.createHTML(l):l,r]};class xf{constructor({strings:t,_$litType$:n},i){let r;this.parts=[];let s=0,o=0,a=t.length-1,l=this.parts,[c,u]=xh(t,n);if(this.el=xf.createElement(c,i),xp.currentNode=this.el.content,2===n){let t=this.el.content,n=t.firstChild;n.remove(),t.append(...n.childNodes)}for(;null!==(r=xp.nextNode())&&l.length<a;){if(1===r.nodeType){if(r.hasAttributes()){let t=[];for(let n of r.getAttributeNames())if(n.endsWith(g1)||n.startsWith(g2)){let i=u[o++];if(t.push(n),void 0!==i){let t=r.getAttribute(i.toLowerCase()+g1).split(g2),n=/([.?@])?(.*)/.exec(i);l.push({type:1,index:s,name:n[2],strings:t,ctor:"."===n[1]?xv:"?"===n[1]?xA:"@"===n[1]?xw:xy})}else l.push({type:6,index:s})}for(let n of t)r.removeAttribute(n)}if(xa.test(r.tagName)){let t=r.textContent.split(g2),n=t.length-1;if(n>0){r.textContent=gJ?gJ.emptyScript:"";for(let i=0;i<n;i++)r.append(t[i],g6()),xp.nextNode(),l.push({type:2,index:++s});r.append(t[n],g6())}}}else if(8===r.nodeType){if(r.data===g3)l.push({type:2,index:s});else{let t=-1;for(;-1!==(t=r.data.indexOf(g2,t+1));)l.push({type:7,index:s}),t+=g2.length-1}}s++}}static createElement(t,n){let i=g4.createElement("template");return i.innerHTML=t,i}}function xm(t,n,i=t,r){var s,o,a;if(n===xc)return n;let l=void 0!==r?null===(s=i._$Co)||void 0===s?void 0:s[r]:i._$Cl,c=g8(n)?void 0:n._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===c?l=void 0:(l=new c(t))._$AT(t,i,r),void 0!==r?(null!==(a=i._$Co)&&void 0!==a?a:i._$Co=[])[r]=l:i._$Cl=l),void 0!==l&&(n=xm(t,l._$AS(t,n.values),l,r)),n}class xg{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var n;let{el:{content:i},parts:r}=this._$AD,s=(null!==(n=null==t?void 0:t.creationScope)&&void 0!==n?n:g4).importNode(i,!0);xp.currentNode=s;let o=xp.nextNode(),a=0,l=0,c=r[0];for(;void 0!==c;){if(a===c.index){let n;2===c.type?n=new xx(o,o.nextSibling,this,t):1===c.type?n=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(n=new xC(o,this,t)),this._$AV.push(n),c=r[++l]}a!==(null==c?void 0:c.index)&&(o=xp.nextNode(),a++)}return s}v(t){let n=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}}class xx{constructor(t,n,i,r){var s;this.type=2,this._$AH=xu,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=r,this._$Cp=null===(s=null==r?void 0:r.isConnected)||void 0===s||s}get _$AU(){var t,n;return null!==(n=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==n?n:this._$Cp}get parentNode(){let t=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null==t?void 0:t.nodeType)&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){g8(t=xm(this,t,n))?t===xu||null==t||""===t?(this._$AH!==xu&&this._$AR(),this._$AH=xu):t!==this._$AH&&t!==xc&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):g9(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==xu&&g8(this._$AH)?this._$AA.nextSibling.data=t:this.$(g4.createTextNode(t)),this._$AH=t}g(t){var n;let{values:i,_$litType$:r}=t,s="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=xf.createElement(r.h,this.options)),r);if((null===(n=this._$AH)||void 0===n?void 0:n._$AD)===s)this._$AH.v(i);else{let t=new xg(s,this),n=t.u(this.options);t.v(i),this.$(n),this._$AH=t}}_$AC(t){let n=xd.get(t.strings);return void 0===n&&xd.set(t.strings,n=new xf(t)),n}T(t){g7(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,i,r=0;for(let s of t)r===n.length?n.push(i=new xx(this.k(g6()),this.k(g6()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(t=this._$AA.nextSibling,n){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,n);t&&t!==this._$AB;){let n=t.nextSibling;t.remove(),t=n}}setConnected(t){var n;void 0===this._$AM&&(this._$Cp=t,null===(n=this._$AP)||void 0===n||n.call(this,t))}}class xy{constructor(t,n,i,r,s){this.type=1,this._$AH=xu,this._$AN=void 0,this.element=t,this.name=n,this._$AM=r,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=xu}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,n=this,i,r){let s=this.strings,o=!1;if(void 0===s)(o=!g8(t=xm(this,t,n,0))||t!==this._$AH&&t!==xc)&&(this._$AH=t);else{let r,a;let l=t;for(t=s[0],r=0;r<s.length-1;r++)(a=xm(this,l[i+r],n,r))===xc&&(a=this._$AH[r]),o||(o=!g8(a)||a!==this._$AH[r]),a===xu?t=xu:t!==xu&&(t+=(null!=a?a:"")+s[r+1]),this._$AH[r]=a}o&&!r&&this.j(t)}j(t){t===xu?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class xv extends xy{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===xu?void 0:t}}let xb=gJ?gJ.emptyScript:"";class xA extends xy{constructor(){super(...arguments),this.type=4}j(t){t&&t!==xu?this.element.setAttribute(this.name,xb):this.element.removeAttribute(this.name)}}class xw extends xy{constructor(t,n,i,r,s){super(t,n,i,r,s),this.type=5}_$AI(t,n=this){var i;if((t=null!==(i=xm(this,t,n,0))&&void 0!==i?i:xu)===xc)return;let r=this._$AH,s=t===xu&&r!==xu||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==xu&&(r===xu||s);s&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class xC{constructor(t,n,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){xm(this,t)}}let x_=gX.litHtmlPolyfillSupport;null==x_||x_(xf,xx),(null!==(TY=gX.litHtmlVersions)&&void 0!==TY?TY:gX.litHtmlVersions=[]).push("2.7.2");let xS=(t,n,i)=>{var r,s;let o=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:n,a=o._$litPart$;if(void 0===a){let t=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:null;o._$litPart$=a=new xx(n.insertBefore(g6(),t),t,void 0,null!=i?i:{})}return a._$AI(t),a};class xk extends gK{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,n;let i=super.createRenderRoot();return null!==(t=(n=this.renderOptions).renderBefore)&&void 0!==t||(n.renderBefore=i.firstChild),i}update(t){let n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=xS(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return xc}}xk.finalized=!0,xk._$litElement$=!0,null===(TK=globalThis.litElementHydrateSupport)||void 0===TK||TK.call(globalThis,{LitElement:xk});let xE=globalThis.litElementPolyfillSupport;null==xE||xE({LitElement:xk}),(null!==(TX=globalThis.litElementVersions)&&void 0!==TX?TX:globalThis.litElementVersions=[]).push("3.3.1");/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xM=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,xI=xM&&null!=self.XRSession.prototype.requestHitTestSource,xT=null!=self.ResizeObserver,xB=null!=self.IntersectionObserver;(()=>{let t=navigator.userAgent||navigator.vendor||self.opera;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))})(),/\bCrOS\b/.test(navigator.userAgent);let xL=/android/i.test(navigator.userAgent),xj=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;/Safari\//.test(navigator.userAgent);let xP=/firefox/i.test(navigator.userAgent),xR=/OculusBrowser/.test(navigator.userAgent);xj&&/CriOS\//.test(navigator.userAgent);let xD=xL&&!xP&&!xR,xF=!!(window.webkit&&window.webkit.messageHandlers),xO=(()=>{if(!xj)return!1;if(xF)return!!/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent);{let t=document.createElement("a");return!!(t.relList&&t.relList.supports&&t.relList.supports("ar"))}})(),xN=t=>t&&"null"!==t?xV(t):null,xU=()=>{if(xI)return;let t=[];throw xM||t.push("WebXR Device API"),xI||t.push("WebXR Hit Test API"),Error(`The following APIs are required for AR, but are missing in this browser: ${t.join(", ")}`)},xV=t=>new URL(t,window.location.toString()).toString(),xH=(t,n)=>{let i=null,r=(...r)=>{null==i&&(t(...r),i=self.setTimeout(()=>i=null,n))};return r.flush=()=>{null!=i&&(self.clearTimeout(i),i=null)},r},xQ=(t,n)=>{let i=null;return(...r)=>{null!=i&&self.clearTimeout(i),i=self.setTimeout(()=>{i=null,t(...r)},n)}},xz=(t,n,i)=>Math.max(n,Math.min(i,t)),xG=(()=>{let t=(()=>{var t;if(null===(t=document.documentElement.getAttribute("itemtype"))||void 0===t?void 0:t.includes("schema.org/SearchResultsPage"))return!0;for(let t of null!=document.head?Array.from(document.head.querySelectorAll("meta")):[])if("viewport"===t.name)return!0;return!1})();return t||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>t?window.devicePixelRatio:1})(),xq=(()=>{let t=RegExp("[?&]model-viewer-debug-mode(&|$)");return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(t)})(),xW=(t=0)=>new Promise(n=>setTimeout(n,t)),x$=(t,n,i=null)=>new Promise(r=>{t.addEventListener(n,function s(o){(!i||i(o))&&(r(o),t.removeEventListener(n,s))})});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let xY=Symbol("currentEnvironmentMap"),xK=Symbol("currentBackground"),xX=Symbol("updateEnvironment"),xJ=Symbol("cancelEnvironmentUpdate");/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x0=xl`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`,x1=xl`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`,x2=xl`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x3=xl`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

.container {
  position: relative;
  overflow: hidden;
}

.userInput {
  width: 100%;
  height: 100%;
  display: none;
  position: relative;
  outline-offset: -1px;
  outline-width: 1px;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  left: 0;
  top: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
  pointer-events: none;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  display: none;
  background-color: inherit;
}

.slot.poster.show {
  display: inherit;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff0;
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.centered {
  align-items: center;
  justify-content: center;
}

.cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  overflow: hidden;
  opacity: 0;
  will-change: opacity;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.animated-container {
  will-change: transform, opacity;
  opacity: 0;
  transition: opacity 0.3s;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.pan-target {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  left: 50%;
  top: 50%;
  transform: translate3d(-50%, -50%, 0);
  background-color: transparent;
  opacity: 0;
  transition: opacity 0.3s;
}

#default-pan-target {
  width: 6px;
  height: 6px;
  border-radius: 6px;
  border: 1px solid white;
  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: env(safe-area-inset-top, 16px);
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="3D model">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>

  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          aria-label="View in your space">
        ${x2}
      </a>
    </slot>
  </div>

  <div class="slot pan-target">
    <slot name="pan-target">
      <div id="default-pan-target">
      </div>
    </slot>
  </div>

  <div class="slot interaction-prompt cover centered">
    <div id="prompt" class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${x1}
      </slot>
    </div>
  </div>

  <div id="finger0" class="animated-container cover">
    <slot name="finger0" aria-hidden="true">
    </slot>
  </div>
  <div id="finger1" class="animated-container cover">
    <slot name="finger1" aria-hidden="true">
    </slot>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>

    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${x0}
        </a>
      </slot>
    </div>
  </div>
</div>
<div class="screen-reader-only" role="region" aria-label="Live announcements">
  <span id="status" role="status"></span>
</div>`,x5=t=>{xS(x3,t)},x4=new WeakMap;class x6 extends m5{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,i,r){let s=new m8(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,t=>{this.parse(t,n,r)},i,r)}parse(t,n,i){this.decodeDracoFile(t,n,null,null,un).catch(i)}decodeDracoFile(t,n,i,r,s=ui){let o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:s};return this.decodeGeometry(t,o).then(n)}decodeGeometry(t,n){let i;let r=JSON.stringify(n);if(x4.has(t)){let n=x4.get(t);if(n.key===r)return n.promise;if(0===t.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s=this.workerNextTaskID++,o=t.byteLength,a=this._getWorker(s,o).then(r=>(i=r,new Promise((r,o)=>{i._callbacks[s]={resolve:r,reject:o},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:t},[t])}))).then(t=>this._createGeometry(t.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),x4.set(t,{key:r,promise:a}),a}_createGeometry(t){let n=new pr;t.index&&n.setIndex(new d3(t.index.array,1));for(let i=0;i<t.attributes.length;i++){let r=t.attributes[i],s=r.name,o=new d3(r.array,r.itemSize);"color"===s&&this._assignVertexColorSpace(o,r.vertexColorSpace),n.setAttribute(s,o)}return n}_assignVertexColorSpace(t,n){if(n!==un)return;let i=new dY;for(let n=0,r=t.count;n<r;n++)i.fromBufferAttribute(t,n).convertSRGBToLinear(),t.setXYZ(n,i.r,i.g,i.b)}_loadLibrary(t,n){let i=new m8(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((n,r)=>{i.load(t,n,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(n=>{let i=n[0];t||(this.decoderConfig.wasmBinary=n[1]);let r=x8.toString(),s=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(n){let i=n.data;switch(i.type){case"decode":t._callbacks[i.id].resolve(i);break;case"error":t._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort(function(t,n){return t._taskLoad>n._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[t]=n,i._taskLoad+=n,i})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function x8(){let t,n;onmessage=function(i){let r=i.data;switch(r.type){case"init":t=r.decoderConfig,n=new Promise(function(n){t.onModuleLoaded=function(t){n({draco:t})},DracoDecoderModule(t)});break;case"decode":let s=r.buffer,o=r.taskConfig;n.then(t=>{let n=t.draco,i=new n.Decoder;try{let t=function(t,n,i,r){let s,o;let a=r.attributeIDs,l=r.attributeTypes,c=n.GetEncodedGeometryType(i);if(c===t.TRIANGULAR_MESH)s=new t.Mesh,o=n.DecodeArrayToMesh(i,i.byteLength,s);else if(c===t.POINT_CLOUD)s=new t.PointCloud,o=n.DecodeArrayToPointCloud(i,i.byteLength,s);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!o.ok()||0===s.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());let u={index:null,attributes:[]};for(let i in a){let o,c;let d=self[l[i]];if(r.useUniqueIDs)c=a[i],o=n.GetAttributeByUniqueId(s,c);else{if(-1===(c=n.GetAttributeId(s,t[a[i]])))continue;o=n.GetAttribute(s,c)}let p=function(t,n,i,r,s,o){let a=o.num_components(),l=i.num_points()*a,c=l*s.BYTES_PER_ELEMENT,u=function(t,n){switch(n){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,s),d=t._malloc(c);n.GetAttributeDataArrayForAllPoints(i,o,u,c,d);let p=new s(t.HEAPF32.buffer,d,l).slice();return t._free(d),{name:r,array:p,itemSize:a}}(t,n,s,i,d,o);"color"===i&&(p.vertexColorSpace=r.vertexColorSpace),u.attributes.push(p)}return c===t.TRIANGULAR_MESH&&(u.index=function(t,n,i){let r=3*i.num_faces(),s=4*r,o=t._malloc(s);n.GetTrianglesUInt32Array(i,s,o);let a=new Uint32Array(t.HEAPF32.buffer,o,r).slice();return t._free(o),{array:a,itemSize:1}}(t,n,s)),t.destroy(s),u}(n,i,new Int8Array(s),o),a=t.attributes.map(t=>t.array.buffer);t.index&&a.push(t.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:t},a)}catch(t){console.error(t),self.postMessage({type:"error",id:r.id,error:t.message})}finally{n.destroy(i)}})}}}function x7(t,n){if(0===n)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(2!==n&&1!==n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",n),t;{let i=t.getIndex();if(null===i){let n=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<r.count;t++)n.push(t);t.setIndex(n),i=t.getIndex()}let r=i.count-2,s=[];if(2===n)for(let t=1;t<=r;t++)s.push(i.getX(0)),s.push(i.getX(t)),s.push(i.getX(t+1));else for(let t=0;t<r;t++)t%2==0?(s.push(i.getX(t)),s.push(i.getX(t+1)),s.push(i.getX(t+2))):(s.push(i.getX(t+2)),s.push(i.getX(t+1)),s.push(i.getX(t)));s.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let o=t.clone();return o.setIndex(s),o.clearGroups(),o}}class x9 extends m5{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ys(t)}),this.register(function(t){return new yp(t)}),this.register(function(t){return new yh(t)}),this.register(function(t){return new yf(t)}),this.register(function(t){return new ya(t)}),this.register(function(t){return new yl(t)}),this.register(function(t){return new yc(t)}),this.register(function(t){return new yu(t)}),this.register(function(t){return new yr(t)}),this.register(function(t){return new yd(t)}),this.register(function(t){return new yo(t)}),this.register(function(t){return new yn(t)}),this.register(function(t){return new ym(t)}),this.register(function(t){return new yg(t)})}load(t,n,i,r){let s;let o=this;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:gx.extractUrlBase(t),this.manager.itemStart(t);let a=function(n){r?r(n):console.error(n),o.manager.itemError(t),o.manager.itemEnd(t)},l=new m8(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(i){try{o.parse(i,s,function(i){n(i),o.manager.itemEnd(t)},a)}catch(t){a(t)}},i,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return -1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return -1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,i,r){let s;let o={},a={},l=new TextDecoder;if("string"==typeof t)s=JSON.parse(t);else if(t instanceof ArrayBuffer){if(l.decode(new Uint8Array(t,0,4))===yx){try{o[yt.KHR_BINARY_GLTF]=new yv(t)}catch(t){r&&r(t);return}s=JSON.parse(o[yt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(t))}else s=t;if(void 0===s.asset||s.asset.version[0]<2){r&&r(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let c=new yU(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){let n=this.pluginCallbacks[t](c);a[n.name]=n,o[n.name]=!0}if(s.extensionsUsed)for(let t=0;t<s.extensionsUsed.length;++t){let n=s.extensionsUsed[t],i=s.extensionsRequired||[];switch(n){case yt.KHR_MATERIALS_UNLIT:o[n]=new yi;break;case yt.KHR_DRACO_MESH_COMPRESSION:o[n]=new yb(s,this.dracoLoader);break;case yt.KHR_TEXTURE_TRANSFORM:o[n]=new yA;break;case yt.KHR_MESH_QUANTIZATION:o[n]=new yw;break;default:i.indexOf(n)>=0&&void 0===a[n]&&console.warn('THREE.GLTFLoader: Unknown extension "'+n+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(t,n){let i=this;return new Promise(function(r,s){i.parse(t,n,r,s)})}}function ye(){let t={};return{get:function(n){return t[n]},add:function(n,i){t[n]=i},remove:function(n){delete t[n]},removeAll:function(){t={}}}}let yt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class yn{constructor(t){this.parser=t,this.name=yt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let t=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){let r=n[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){let n;let i=this.parser,r="light:"+t,s=i.cache.get(r);if(s)return s;let o=i.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t],l=new dY(16777215);void 0!==a.color&&l.fromArray(a.color);let c=void 0!==a.range?a.range:0;switch(a.type){case"directional":(n=new gf(l)).target.position.set(0,0,-1),n.add(n.target);break;case"point":(n=new gp(l)).distance=c;break;case"spot":(n=new ga(l)).distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,n.angle=a.spot.outerConeAngle,n.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,n.target.position.set(0,0,-1),n.add(n.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return n.position.set(0,0,0),n.decay=2,yD(n,a),void 0!==a.intensity&&(n.intensity=a.intensity),n.name=i.createUniqueName(a.name||"light_"+t),s=Promise.resolve(n),i.cache.add(r,s),s}getDependency(t,n){if("light"===t)return this._loadLight(n)}createNodeAttachment(t){let n=this,i=this.parser,r=i.json.nodes[t],s=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===s?null:this._loadLight(s).then(function(t){return i._getNodeRef(n.cache,s,t)})}}class yi{constructor(){this.name=yt.KHR_MATERIALS_UNLIT}getMaterialType(){return dX}extendParams(t,n,i){let r=[];t.color=new dY(1,1,1),t.opacity=1;let s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){let n=s.baseColorFactor;t.color.fromArray(n),t.opacity=n[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(t,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class yr{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){let i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let r=i.extensions[this.name].emissiveStrength;return void 0!==r&&(n.emissiveIntensity=r),Promise.resolve()}}class ys{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(n.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){let t=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ux(t,t)}return Promise.all(s)}}class yo{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(n.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&s.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(n.iridescenceIOR=o.iridescenceIor),void 0===n.iridescenceThicknessRange&&(n.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&s.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class ya{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_SHEEN}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[];n.sheenColor=new dY(0,0,0),n.sheenRoughness=0,n.sheen=1;let o=r.extensions[this.name];return void 0!==o.sheenColorFactor&&n.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(n.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),void 0!==o.sheenRoughnessTexture&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class yl{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(n.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class yc{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_VOLUME}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],o=r.extensions[this.name];n.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;let a=o.attenuationColor||[1,1,1];return n.attenuationColor=new dY(a[0],a[1],a[2]),Promise.all(s)}}class yu{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_IOR}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let r=i.extensions[this.name];return n.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class yd{constructor(t){this.parser=t,this.name=yt.KHR_MATERIALS_SPECULAR}getMaterialType(t){let n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?mD:null}extendMaterialParams(t,n){let i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],o=r.extensions[this.name];n.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));let a=o.specularColorFactor||[1,1,1];return n.specularColor=new dY(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class yp{constructor(t){this.parser=t,this.name=yt.KHR_TEXTURE_BASISU}loadTexture(t){let n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[this.name])return null;let s=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(!(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return n.loadTextureImage(t,s.source,o)}}class yh{constructor(t){this.parser=t,this.name=yt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){let n=this.name,i=this.parser,r=i.json,s=r.textures[t];if(!s.extensions||!s.extensions[n])return null;let o=s.extensions[n],a=r.images[o.source],l=i.textureLoader;if(a.uri){let t=i.options.manager.getHandler(a.uri);null!==t&&(l=t)}return this.detectSupport().then(function(s){if(s)return i.loadTextureImage(t,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){let n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){t(1===n.height)}})),this.isSupported}}class yf{constructor(t){this.parser=t,this.name=yt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){let n=this.name,i=this.parser,r=i.json,s=r.textures[t];if(!s.extensions||!s.extensions[n])return null;let o=s.extensions[n],a=r.images[o.source],l=i.textureLoader;if(a.uri){let t=i.options.manager.getHandler(a.uri);null!==t&&(l=t)}return this.detectSupport().then(function(s){if(s)return i.loadTextureImage(t,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){let n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){t(1===n.height)}})),this.isSupported}}class ym{constructor(t){this.name=yt.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){let n=this.parser.json,i=n.bufferViews[t];if(!i.extensions||!i.extensions[this.name])return null;{let t=i.extensions[this.name],r=this.parser.getDependency("buffer",t.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(!(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return r.then(function(n){let i=t.byteOffset||0,r=t.byteLength||0,o=t.count,a=t.byteStride,l=new Uint8Array(n,i,r);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(o,a,l,t.mode,t.filter).then(function(t){return t.buffer}):s.ready.then(function(){let n=new ArrayBuffer(o*a);return s.decodeGltfBuffer(new Uint8Array(n),o,a,l,t.mode,t.filter),n})})}}}class yg{constructor(t){this.name=yt.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){let n=this.parser.json,i=n.nodes[t];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;for(let t of n.meshes[i.mesh].primitives)if(t.mode!==yk.TRIANGLES&&t.mode!==yk.TRIANGLE_STRIP&&t.mode!==yk.TRIANGLE_FAN&&void 0!==t.mode)return null;let r=i.extensions[this.name].attributes,s=[],o={};for(let t in r)s.push(this.parser.getDependency("accessor",r[t]).then(n=>(o[t]=n,o[t])));return s.length<1?null:(s.push(this.parser.createNodeMesh(t)),Promise.all(s).then(t=>{let n=t.pop(),i=n.isGroup?n.children:[n],r=t[0].count,s=[];for(let t of i){let n=new ds,i=new uN,a=new uO,l=new uN(1,1,1),c=new mp(t.geometry,t.material,r);for(let t=0;t<r;t++)o.TRANSLATION&&i.fromBufferAttribute(o.TRANSLATION,t),o.ROTATION&&a.fromBufferAttribute(o.ROTATION,t),o.SCALE&&l.fromBufferAttribute(o.SCALE,t),c.setMatrixAt(t,n.compose(i,a,l));for(let n in o)"TRANSLATION"!==n&&"ROTATION"!==n&&"SCALE"!==n&&t.geometry.setAttribute(n,o[n]);dB.prototype.copy.call(c,t),this.parser.assignFinalMaterial(c),s.push(c)}return n.isGroup?(n.clear(),n.add(...s),n):s[0]}))}}let yx="glTF",yy={JSON:1313821514,BIN:5130562};class yv{constructor(t){this.name=yt.KHR_BINARY_GLTF,this.content=null,this.body=null;let n=new DataView(t,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==yx)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-12,s=new DataView(t,12),o=0;for(;o<r;){let n=s.getUint32(o,!0);o+=4;let r=s.getUint32(o,!0);if(o+=4,r===yy.JSON){let r=new Uint8Array(t,12+o,n);this.content=i.decode(r)}else if(r===yy.BIN){let i=12+o;this.body=t.slice(i,i+n)}o+=n}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class yb{constructor(t,n){if(!n)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=yt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){let i=this.json,r=this.dracoLoader,s=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},l={},c={};for(let t in o)a[yB[t]||t.toLowerCase()]=o[t];for(let n in t.attributes){let r=yB[n]||n.toLowerCase();if(void 0!==o[n]){let s=i.accessors[t.attributes[n]],o=yE[s.componentType];c[r]=o.name,l[r]=!0===s.normalized}}return n.getDependency("bufferView",s).then(function(t){return new Promise(function(n){r.decodeDracoFile(t,function(t){for(let n in t.attributes){let i=t.attributes[n],r=l[n];void 0!==r&&(i.normalized=r)}n(t)},a,c)})})}}class yA{constructor(){this.name=yt.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(void 0===n.texCoord||n.texCoord===t.channel)&&void 0===n.offset&&void 0===n.rotation&&void 0===n.scale||(t=t.clone(),void 0!==n.texCoord&&(t.channel=n.texCoord),void 0!==n.offset&&t.offset.fromArray(n.offset),void 0!==n.rotation&&(t.rotation=n.rotation),void 0!==n.scale&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class yw{constructor(){this.name=yt.KHR_MESH_QUANTIZATION}}class yC extends mH{constructor(t,n,i,r){super(t,n,i,r)}copySampleValue_(t){let n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r*3+r;for(let t=0;t!==r;t++)n[t]=i[s+t];return n}interpolate_(t,n,i,r){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=2*a,c=3*a,u=r-n,d=(i-n)/u,p=d*d,h=p*d,f=t*c,m=f-c,g=-2*h+3*p,x=h-p,y=1-g,v=x-p+d;for(let t=0;t!==a;t++){let n=o[m+t+a],i=o[m+t+l]*u,r=o[f+t+a],c=o[f+t]*u;s[t]=y*n+v*i+g*r+x*c}return s}}let y_=new uO;class yS extends yC{interpolate_(t,n,i,r){let s=super.interpolate_(t,n,i,r);return y_.fromArray(s).normalize().toArray(s),s}}let yk={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},yE={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yM={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},yI={33071:1001,33648:1002,10497:1e3},yT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yB={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yL={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yj={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},yP={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function yR(t,n,i){for(let r in i.extensions)void 0===t[r]&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[r]=i.extensions[r])}function yD(t,n){void 0!==n.extras&&("object"==typeof n.extras?Object.assign(t.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function yF(t){let n="",i=Object.keys(t).sort();for(let r=0,s=i.length;r<s;r++)n+=i[r]+":"+t[i[r]]+";";return n}function yO(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let yN=new ds;class yU{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new ye,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;"undefined"!=typeof navigator&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(r=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i||r&&s<98?this.textureLoader=new ge(this.options.manager):this.textureLoader=new gy(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new m8(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){let i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(t){return t._markDefs&&t._markDefs()}),Promise.all(this._invokeAll(function(t){return t.beforeRoot&&t.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(n){let o={scene:n[0][r.scene||0],scenes:n[0],animations:n[1],cameras:n[2],asset:r.asset,parser:i,userData:{}};yR(s,o,r),yD(o,r),Promise.all(i._invokeAll(function(t){return t.afterRoot&&t.afterRoot(o)})).then(function(){t(o)})}).catch(n)}_markDefs(){let t=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let i=0,r=n.length;i<r;i++){let r=n[i].joints;for(let n=0,i=r.length;n<i;n++)t[r[n]].isBone=!0}for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(i[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(t,n){void 0!==n&&(void 0===t.refs[n]&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,i){if(t.refs[n]<=1)return i;let r=i.clone(),s=(t,n)=>{let i=this.associations.get(t);for(let[r,o]of(null!=i&&this.associations.set(n,i),t.children.entries()))s(o,n.children[r])};return s(i,r),r.name+="_instance_"+t.uses[n]++,r}_invokeOne(t){let n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){let r=t(n[i]);if(r)return r}return null}_invokeAll(t){let n=Object.values(this.plugins);n.unshift(this);let i=[];for(let r=0;r<n.length;r++){let s=t(n[r]);s&&i.push(s)}return i}getDependency(t,n){let i=t+":"+n,r=this.cache.get(i);if(!r){switch(t){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(t){return t.loadNode&&t.loadNode(n)});break;case"mesh":r=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(t){return t.loadAnimation&&t.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(!(r=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(t,n)})))throw Error("Unknown type: "+t)}this.cache.add(i,r)}return r}getDependencies(t){let n=this.cache.get(t);if(!n){let i=this;n=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(n,r){return i.getDependency(t,r)})),this.cache.add(t,n)}return n}loadBuffer(t){let n=this.json.buffers[t],i=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===t)return Promise.resolve(this.extensions[yt.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(t,s){i.load(gx.resolveURL(n.uri,r.path),t,void 0,function(){s(Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){let n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(t){let i=n.byteLength||0,r=n.byteOffset||0;return t.slice(r,r+i)})}loadAccessor(t){let n=this,i=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse){let t=yT[r.type],n=yE[r.componentType],i=!0===r.normalized;return Promise.resolve(new d3(new n(r.count*t),t,i))}let s=[];return void 0!==r.bufferView?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(t){let s;let o=t[0],a=yT[r.type],l=yE[r.componentType],c=l.BYTES_PER_ELEMENT,u=c*a,d=r.byteOffset||0,p=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;if(p&&p!==u){let t=Math.floor(d/p),i="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+t+":"+r.count,u=n.cache.get(i);u||(u=new fJ(new l(o,t*p,r.count*p/c),p/c),n.cache.add(i,u)),s=new f1(u,a,d%p/c,h)}else s=new d3(null===o?new l(r.count*a):new l(o,d,r.count*a),a,h);if(void 0!==r.sparse){let n=yT.SCALAR,i=yE[r.sparse.indices.componentType],c=r.sparse.indices.byteOffset||0,u=r.sparse.values.byteOffset||0,d=new i(t[1],c,r.sparse.count*n),p=new l(t[2],u,r.sparse.count*a);null!==o&&(s=new d3(s.array.slice(),s.itemSize,s.normalized));for(let t=0,n=d.length;t<n;t++){let n=d[t];if(s.setX(n,p[t*a]),a>=2&&s.setY(n,p[t*a+1]),a>=3&&s.setZ(n,p[t*a+2]),a>=4&&s.setW(n,p[t*a+3]),a>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s})}loadTexture(t){let n=this.json,i=this.options,r=n.textures[t].source,s=n.images[r],o=this.textureLoader;if(s.uri){let t=i.manager.getHandler(s.uri);null!==t&&(o=t)}return this.loadTextureImage(t,r,o)}loadTextureImage(t,n,i){let r=this,s=this.json,o=s.textures[t],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];let c=this.loadImageSource(n,i).then(function(n){n.flipY=!1,n.name=o.name||a.name||"",""===n.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(n.name=a.uri);let i=(s.samplers||{})[o.sampler]||{};return n.magFilter=yM[i.magFilter]||1006,n.minFilter=yM[i.minFilter]||1008,n.wrapS=yI[i.wrapS]||1e3,n.wrapT=yI[i.wrapT]||1e3,r.associations.set(n,{textures:t}),n}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(t,n){let i=this.json,r=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(t=>t.clone());let s=i.images[t],o=self.URL||self.webkitURL,a=s.uri||"",l=!1;if(void 0!==s.bufferView)a=this.getDependency("bufferView",s.bufferView).then(function(t){l=!0;let n=new Blob([t],{type:s.mimeType});return a=o.createObjectURL(n)});else if(void 0===s.uri)throw Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");let c=Promise.resolve(a).then(function(t){return new Promise(function(i,s){let o=i;!0===n.isImageBitmapLoader&&(o=function(t){let n=new uj(t);n.needsUpdate=!0,i(n)}),n.load(gx.resolveURL(t,r.path),o,void 0,s)})}).then(function(t){var n;return!0===l&&o.revokeObjectURL(a),t.userData.mimeType=s.mimeType||((n=s.uri).search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"),t}).catch(function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),t});return this.sourceCache[t]=c,c}assignTexture(t,n,i,r){let s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((o=o.clone()).channel=i.texCoord),s.extensions[yt.KHR_TEXTURE_TRANSFORM]){let t=void 0!==i.extensions?i.extensions[yt.KHR_TEXTURE_TRANSFORM]:void 0;if(t){let n=s.associations.get(o);o=s.extensions[yt.KHR_TEXTURE_TRANSFORM].extendTexture(o,t),s.associations.set(o,n)}}return void 0!==r&&(o.encoding=r),t[n]=o,o})}assignFinalMaterial(t){let n=t.geometry,i=t.material,r=void 0===n.attributes.tangent,s=void 0!==n.attributes.color,o=void 0===n.attributes.normal;if(t.isPoints){let t="PointsMaterial:"+i.uuid,n=this.cache.get(t);n||(n=new m_,dG.prototype.copy.call(n,i),n.color.copy(i.color),n.map=i.map,n.sizeAttenuation=!1,this.cache.add(t,n)),i=n}else if(t.isLine){let t="LineBasicMaterial:"+i.uuid,n=this.cache.get(t);n||(n=new mh,dG.prototype.copy.call(n,i),n.color.copy(i.color),n.map=i.map,this.cache.add(t,n)),i=n}if(r||s||o){let t="ClonedMaterial:"+i.uuid+":";r&&(t+="derivative-tangents:"),s&&(t+="vertex-colors:"),o&&(t+="flat-shading:");let n=this.cache.get(t);n||(n=i.clone(),s&&(n.vertexColors=!0),o&&(n.flatShading=!0),r&&(n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale&&(n.clearcoatNormalScale.y*=-1)),this.cache.add(t,n),this.associations.set(n,this.associations.get(i))),i=n}t.material=i}getMaterialType(){return mR}loadMaterial(t){let n;let i=this,r=this.json,s=this.extensions,o=r.materials[t],a={},l=o.extensions||{},c=[];if(l[yt.KHR_MATERIALS_UNLIT]){let t=s[yt.KHR_MATERIALS_UNLIT];n=t.getMaterialType(),c.push(t.extendParams(a,o,i))}else{let r=o.pbrMetallicRoughness||{};if(a.color=new dY(1,1,1),a.opacity=1,Array.isArray(r.baseColorFactor)){let t=r.baseColorFactor;a.color.fromArray(t),a.opacity=t[3]}void 0!==r.baseColorTexture&&c.push(i.assignTexture(a,"map",r.baseColorTexture,3001)),a.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,a.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(c.push(i.assignTexture(a,"metalnessMap",r.metallicRoughnessTexture)),c.push(i.assignTexture(a,"roughnessMap",r.metallicRoughnessTexture))),n=this._invokeOne(function(n){return n.getMaterialType&&n.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(n){return n.extendMaterialParams&&n.extendMaterialParams(t,a)})))}!0===o.doubleSided&&(a.side=2);let u=o.alphaMode||yP.OPAQUE;if(u===yP.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===yP.MASK&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&n!==dX&&(c.push(i.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new ux(1,1),void 0!==o.normalTexture.scale)){let t=o.normalTexture.scale;a.normalScale.set(t,t)}return void 0!==o.occlusionTexture&&n!==dX&&(c.push(i.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&n!==dX&&(a.emissive=new dY().fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&n!==dX&&c.push(i.assignTexture(a,"emissiveMap",o.emissiveTexture,3001)),Promise.all(c).then(function(){let r=new n(a);return o.name&&(r.name=o.name),yD(r,o),i.associations.set(r,{materials:t}),o.extensions&&yR(s,r,o),r})}createUniqueName(t){let n=gM.sanitizeNodeName(t||""),i=n;for(let t=1;this.nodeNamesUsed[i];++t)i=n+"_"+t;return this.nodeNamesUsed[i]=!0,i}loadGeometries(t){let n=this,i=this.extensions,r=this.primitiveCache,s=[];for(let o=0,a=t.length;o<a;o++){let a=t[o],l=function(t){let n=t.extensions&&t.extensions[yt.KHR_DRACO_MESH_COMPRESSION];return n?"draco:"+n.bufferView+":"+n.indices+":"+yF(n.attributes):t.indices+":"+yF(t.attributes)+":"+t.mode}(a),c=r[l];if(c)s.push(c.promise);else{let t;t=a.extensions&&a.extensions[yt.KHR_DRACO_MESH_COMPRESSION]?function(t){return i[yt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,n).then(function(i){return yV(i,t,n)})}(a):yV(new pr,a,n),r[l]={primitive:a,promise:t},s.push(t)}}return Promise.all(s)}loadMesh(t){let n=this,i=this.json,r=this.extensions,s=i.meshes[t],o=s.primitives,a=[];for(let t=0,n=o.length;t<n;t++){var l;let n=void 0===o[t].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new mR({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),l.DefaultMaterial):this.getDependency("material",o[t].material);a.push(n)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(i){let a=i.slice(0,i.length-1),l=i[i.length-1],c=[];for(let i=0,u=l.length;i<u;i++){let u;let d=l[i],p=o[i],h=a[i];if(p.mode===yk.TRIANGLES||p.mode===yk.TRIANGLE_STRIP||p.mode===yk.TRIANGLE_FAN||void 0===p.mode)!0===(u=!0===s.isSkinnedMesh?new f7(d,h):new pw(d,h)).isSkinnedMesh&&u.normalizeSkinWeights(),p.mode===yk.TRIANGLE_STRIP?u.geometry=x7(u.geometry,1):p.mode===yk.TRIANGLE_FAN&&(u.geometry=x7(u.geometry,2));else if(p.mode===yk.LINES)u=new mw(d,h);else if(p.mode===yk.LINE_STRIP)u=new mv(d,h);else if(p.mode===yk.LINE_LOOP)u=new mC(d,h);else if(p.mode===yk.POINTS)u=new mI(d,h);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(u.geometry.morphAttributes).length>0&&function(t,n){if(t.updateMorphTargets(),void 0!==n.weights)for(let i=0,r=n.weights.length;i<r;i++)t.morphTargetInfluences[i]=n.weights[i];if(n.extras&&Array.isArray(n.extras.targetNames)){let i=n.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(let n=0,r=i.length;n<r;n++)t.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(u,s),u.name=n.createUniqueName(s.name||"mesh_"+t),yD(u,s),p.extensions&&yR(r,u,p),n.assignFinalMaterial(u),c.push(u)}for(let i=0,r=c.length;i<r;i++)n.associations.set(c[i],{meshes:t,primitives:i});if(1===c.length)return c[0];let u=new fQ;n.associations.set(u,{meshes:t});for(let t=0,n=c.length;t<n;t++)u.add(c[t]);return u})}loadCamera(t){let n;let i=this.json.cameras[t],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===i.type?n=new pB(ug.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(n=new p1(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),yD(n,i),Promise.resolve(n)}loadSkin(t){let n=this.json.skins[t],i=[];for(let t=0,r=n.joints.length;t<r;t++)i.push(this._loadNodeShallow(n.joints[t]));return void 0!==n.inverseBindMatrices?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(t){let i=t.pop(),r=[],s=[];for(let o=0,a=t.length;o<a;o++){let a=t[o];if(a){r.push(a);let t=new ds;null!==i&&t.fromArray(i.array,16*o),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[o])}return new mi(r,s)})}loadAnimation(t){let n=this.json.animations[t],i=n.name?n.name:"animation_"+t,r=[],s=[],o=[],a=[],l=[];for(let t=0,i=n.channels.length;t<i;t++){let i=n.channels[t],c=n.samplers[i.sampler],u=i.target,d=u.node,p=void 0!==n.parameters?n.parameters[c.input]:c.input,h=void 0!==n.parameters?n.parameters[c.output]:c.output;void 0!==u.node&&(r.push(this.getDependency("node",d)),s.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",h)),a.push(c),l.push(u))}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(t){let n=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=[];for(let t=0,i=n.length;t<i;t++){let i;let c=n[t],u=r[t],d=s[t],p=o[t],h=a[t];if(void 0===c)continue;switch(c.updateMatrix(),yL[h.path]){case yL.weights:i=mZ;break;case yL.rotation:i=mK;break;case yL.position:case yL.scale:default:i=mJ}let f=c.name?c.name:c.uuid,m=void 0!==p.interpolation?yj[p.interpolation]:2301,g=[];yL[h.path]===yL.weights?c.traverse(function(t){t.morphTargetInfluences&&g.push(t.name?t.name:t.uuid)}):g.push(f);let x=d.array;if(d.normalized){let t=yO(x.constructor),n=new Float32Array(x.length);for(let i=0,r=x.length;i<r;i++)n[i]=x[i]*t;x=n}for(let t=0,n=g.length;t<n;t++){let n=new i(g[t]+"."+yL[h.path],u.array,x,m);"CUBICSPLINE"===p.interpolation&&(n.createInterpolant=function(t){return new(this instanceof mK?yS:yC)(this.times,this.values,this.getValueSize()/3,t)},n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(n)}}return new m0(i,void 0,l)})}createNodeMesh(t){let n=this.json,i=this,r=n.nodes[t];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(t){let n=i._getNodeRef(i.meshCache,r.mesh,t);return void 0!==r.weights&&n.traverse(function(t){if(t.isMesh)for(let n=0,i=r.weights.length;n<i;n++)t.morphTargetInfluences[n]=r.weights[n]}),n})}loadNode(t){let n=this.json.nodes[t],i=this._loadNodeShallow(t),r=[],s=n.children||[];for(let t=0,n=s.length;t<n;t++)r.push(this.getDependency("node",s[t]));let o=void 0===n.skin?Promise.resolve(null):this.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),o]).then(function(t){let n=t[0],i=t[1],r=t[2];null!==r&&n.traverse(function(t){t.isSkinnedMesh&&t.bind(r,yN)});for(let t=0,r=i.length;t<r;t++)n.add(i[t]);return n})}_loadNodeShallow(t){let n=this.json,i=this.extensions,r=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];let s=n.nodes[t],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(n){return n.createNodeMesh&&n.createNodeMesh(t)});return l&&a.push(l),void 0!==s.camera&&a.push(r.getDependency("camera",s.camera).then(function(t){return r._getNodeRef(r.cameraCache,s.camera,t)})),r._invokeAll(function(n){return n.createNodeAttachment&&n.createNodeAttachment(t)}).forEach(function(t){a.push(t)}),this.nodeCache[t]=Promise.all(a).then(function(n){let a;if((a=!0===s.isBone?new f9:n.length>1?new fQ:1===n.length?n[0]:new dB)!==n[0])for(let t=0,i=n.length;t<i;t++)a.add(n[t]);if(s.name&&(a.userData.name=s.name,a.name=o),yD(a,s),s.extensions&&yR(i,a,s),void 0!==s.matrix){let t=new ds;t.fromArray(s.matrix),a.applyMatrix4(t)}else void 0!==s.translation&&a.position.fromArray(s.translation),void 0!==s.rotation&&a.quaternion.fromArray(s.rotation),void 0!==s.scale&&a.scale.fromArray(s.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=t,a}),this.nodeCache[t]}loadScene(t){let n=this.extensions,i=this.json.scenes[t],r=this,s=new fQ;i.name&&(s.name=r.createUniqueName(i.name)),yD(s,i),i.extensions&&yR(n,s,i);let o=i.nodes||[],a=[];for(let t=0,n=o.length;t<n;t++)a.push(r.getDependency("node",o[t]));return Promise.all(a).then(function(t){for(let n=0,i=t.length;n<i;n++)s.add(t[n]);return r.associations=(t=>{let n=new Map;for(let[t,i]of r.associations)(t instanceof dG||t instanceof uj)&&n.set(t,i);return t.traverse(t=>{let i=r.associations.get(t);null!=i&&n.set(t,i)}),n})(s),s})}}function yV(t,n,i){let r=n.attributes,s=[];for(let n in r){let o=yB[n]||n.toLowerCase();o in t.attributes||s.push(function(n,r){return i.getDependency("accessor",n).then(function(n){t.setAttribute(r,n)})}(r[n],o))}if(void 0!==n.indices&&!t.index){let r=i.getDependency("accessor",n.indices).then(function(n){t.setIndex(n)});s.push(r)}return yD(t,n),function(t,n,i){let r=n.attributes,s=new uH;if(void 0===r.POSITION)return;{let t=i.json.accessors[r.POSITION],n=t.min,o=t.max;if(void 0!==n&&void 0!==o){if(s.set(new uN(n[0],n[1],n[2]),new uN(o[0],o[1],o[2])),t.normalized){let n=yO(yE[t.componentType]);s.min.multiplyScalar(n),s.max.multiplyScalar(n)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}let o=n.targets;if(void 0!==o){let t=new uN,n=new uN;for(let r=0,s=o.length;r<s;r++){let s=o[r];if(void 0!==s.POSITION){let r=i.json.accessors[s.POSITION],o=r.min,a=r.max;if(void 0!==o&&void 0!==a){if(n.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),n.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),n.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),r.normalized){let t=yO(yE[r.componentType]);n.multiplyScalar(t)}t.max(n)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(t)}t.boundingBox=s;let a=new u6;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=a}(t,n,i),Promise.all(s).then(function(){return void 0!==n.targets?function(t,n,i){let r=!1,s=!1,o=!1;for(let t=0,i=n.length;t<i;t++){let i=n[t];if(void 0!==i.POSITION&&(r=!0),void 0!==i.NORMAL&&(s=!0),void 0!==i.COLOR_0&&(o=!0),r&&s&&o)break}if(!r&&!s&&!o)return Promise.resolve(t);let a=[],l=[],c=[];for(let u=0,d=n.length;u<d;u++){let d=n[u];if(r){let n=void 0!==d.POSITION?i.getDependency("accessor",d.POSITION):t.attributes.position;a.push(n)}if(s){let n=void 0!==d.NORMAL?i.getDependency("accessor",d.NORMAL):t.attributes.normal;l.push(n)}if(o){let n=void 0!==d.COLOR_0?i.getDependency("accessor",d.COLOR_0):t.attributes.color;c.push(n)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(n){let i=n[0],a=n[1],l=n[2];return r&&(t.morphAttributes.position=i),s&&(t.morphAttributes.normal=a),o&&(t.morphAttributes.color=l),t.morphTargetsRelative=!0,t})}(t,n.targets,i):t})}class yH{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){let n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=n}}_getIdleWorker(){for(let t=0;t<this.pool;t++)if(!(this.workerStatus&1<<t))return t;return -1}_onMessage(t,n){let i=this.workersResolve[t];if(i&&i(n),this.queue.length){let{resolve:n,msg:i,transfer:r}=this.queue.shift();this.workersResolve[t]=n,this.workers[t].postMessage(i,r)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,n){return new Promise(i=>{let r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(t,n)):this.queue.push({resolve:i,msg:t,transfer:n})})}dispose(){this.workers.forEach(t=>t.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class yQ{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class yz{constructor(t,n,i,r){this._dataView=new DataView(t.buffer,t.byteOffset+n,i),this._littleEndian=r,this._offset=0}_nextUint8(){let t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){let t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){let t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){let t=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_nextInt32(){let t=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,t}_skip(t){return this._offset+=t,this}_scan(t,n=0){let i=this._offset,r=0;for(;this._dataView.getUint8(this._offset)!==n&&r<t;)r++,this._offset++;return r<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}let yG=[171,75,84,88,32,50,48,187,13,10,26,10];function yq(t){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(t):Buffer.from(t).toString("utf8")}let yW={env:{emscripten_notify_memory_growth:function(t){a=new Uint8Array(o.exports.memory.buffer)}}};class y${init(){return s||(s="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+yZ).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,yW)).then(this._init):WebAssembly.instantiate(Buffer.from(yZ,"base64"),yW).then(this._init))}_init(t){o=t.instance,yW.env.emscripten_notify_memory_growth(0)}decode(t,n=0){if(!o)throw Error("ZSTDDecoder: Await .init() before decoding.");let i=t.byteLength,r=o.exports.malloc(i);a.set(t,r),n=n||Number(o.exports.ZSTD_findDecompressedSize(r,i));let s=o.exports.malloc(n),l=o.exports.ZSTD_decompress(s,n,r,i),c=a.slice(s,s+l);return o.exports.free(r),o.exports.free(s),c}}let yZ="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",yY=new WeakMap,yK=0;class yX extends m5{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new yH,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){let t=new m8(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);let n=t.loadAsync("basis_transcoder.js"),i=new m8(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);let r=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,r]).then(([t,n])=>{let i=yX.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify(yX.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(yX.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(yX.BasisFormat),"/* basis_transcoder.js */",t,"/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=n,this.workerPool.setWorkerCreator(()=>{let t=new Worker(this.workerSourceURL),n=this.transcoderBinary.slice(0);return t.postMessage({type:"init",config:this.workerConfig,transcoderBinary:n},[n]),t})}),yK>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),yK++}return this.transcoderPending}load(t,n,i,r){if(null===this.workerConfig)throw Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");let s=new m8(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials),s.load(t,t=>{if(yY.has(t))return yY.get(t).promise.then(n).catch(r);this._createTexture(t).then(t=>n?n(t):null).catch(r)},i,r)}_createTextureFrom(t,n){let{mipmaps:i,width:r,height:s,format:o,type:a,error:l,dfdTransferFn:c,dfdFlags:u}=t;if("error"===a)return Promise.reject(l);let d=n.layerCount>1?new mj(i,r,s,n.layerCount,o,1009):new mL(i,r,s,o,1009);return d.minFilter=1===i.length?1006:1008,d.magFilter=1006,d.generateMipmaps=!1,d.needsUpdate=!0,d.encoding=2===c?3001:3e3,d.premultiplyAlpha=!!(1&u),d}async _createTexture(t,n={}){let i=function(t){let n=new Uint8Array(t.buffer,t.byteOffset,yG.length);if(n[0]!==yG[0]||n[1]!==yG[1]||n[2]!==yG[2]||n[3]!==yG[3]||n[4]!==yG[4]||n[5]!==yG[5]||n[6]!==yG[6]||n[7]!==yG[7]||n[8]!==yG[8]||n[9]!==yG[9]||n[10]!==yG[10]||n[11]!==yG[11])throw Error("Missing KTX 2.0 identifier.");let i=new yQ,r=17*Uint32Array.BYTES_PER_ELEMENT,s=new yz(t,yG.length,r,!0);i.vkFormat=s._nextUint32(),i.typeSize=s._nextUint32(),i.pixelWidth=s._nextUint32(),i.pixelHeight=s._nextUint32(),i.pixelDepth=s._nextUint32(),i.layerCount=s._nextUint32(),i.faceCount=s._nextUint32();let o=s._nextUint32();i.supercompressionScheme=s._nextUint32();let a=s._nextUint32(),l=s._nextUint32(),c=s._nextUint32(),u=s._nextUint32(),d=s._nextUint64(),p=s._nextUint64(),h=new yz(t,yG.length+r,3*o*8,!0);for(let n=0;n<o;n++)i.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});let f=new yz(t,a,l,!0),m={vendorId:f._skip(4)._nextUint16(),descriptorType:f._nextUint16(),versionNumber:f._nextUint16(),descriptorBlockSize:f._nextUint16(),colorModel:f._nextUint8(),colorPrimaries:f._nextUint8(),transferFunction:f._nextUint8(),flags:f._nextUint8(),texelBlockDimension:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],bytesPlane:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],samples:[]},g=(m.descriptorBlockSize/4-6)/4;for(let t=0;t<g;t++){let n={bitOffset:f._nextUint16(),bitLength:f._nextUint8(),channelType:f._nextUint8(),samplePosition:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&n.channelType?(n.sampleLower=f._nextInt32(),n.sampleUpper=f._nextInt32()):(n.sampleLower=f._nextUint32(),n.sampleUpper=f._nextUint32()),m.samples[t]=n}i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(m);let x=new yz(t,c,u,!0);for(;x._offset<u;){let t=x._nextUint32(),n=x._scan(t),r=yq(n),s=x._scan(t-n.byteLength);i.keyValue[r]=r.match(/^ktx/i)?yq(s):s,x._offset%4&&x._skip(4-x._offset%4)}if(p<=0)return i;let y=new yz(t,d,p,!0),v=y._nextUint16(),b=y._nextUint16(),A=y._nextUint32(),w=y._nextUint32(),C=y._nextUint32(),_=y._nextUint32(),S=[];for(let t=0;t<o;t++)S.push({imageFlags:y._nextUint32(),rgbSliceByteOffset:y._nextUint32(),rgbSliceByteLength:y._nextUint32(),alphaSliceByteOffset:y._nextUint32(),alphaSliceByteLength:y._nextUint32()});let k=d+y._offset,E=k+A,M=E+w,I=M+C,T=new Uint8Array(t.buffer,t.byteOffset+k,A),B=new Uint8Array(t.buffer,t.byteOffset+E,w),L=new Uint8Array(t.buffer,t.byteOffset+M,C),j=new Uint8Array(t.buffer,t.byteOffset+I,_);return i.globalData={endpointCount:v,selectorCount:b,imageDescs:S,endpointsData:T,selectorsData:B,tablesData:L,extendedData:j},i}(new Uint8Array(t));if(0!==i.vkFormat)return y2(i);let r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:n},[t])).then(t=>this._createTextureFrom(t.data,i));return yY.set(t,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),yK--,this}}yX.BasisFormat={ETC1S:0,UASTC_4x4:1},yX.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},yX.EngineFormat={RGBAFormat:1023,RGBA_ASTC_4x4_Format:37808,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT5_Format:33779,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:33776},yX.BasisWorker=function(){let t,n,i;let r=_EngineFormat,s=_TranscoderFormat,o=_BasisFormat;self.addEventListener("message",function(a){let d=a.data;switch(d.type){case"init":var p;t=d.config,p=d.transcoderBinary,n=new Promise(t=>{BASIS(i={wasmBinary:p,onRuntimeInitialized:t})}).then(()=>{i.initializeBasis(),void 0===i.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")});break;case"transcode":n.then(()=>{try{let{width:n,height:a,hasAlpha:p,mipmaps:h,format:f,dfdTransferFn:m,dfdFlags:g}=function(n){let a=new i.KTX2File(new Uint8Array(n));function d(){a.close(),a.delete()}if(!a.isValid())throw d(),Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let p=a.isUASTC()?o.UASTC_4x4:o.ETC1S,h=a.getWidth(),f=a.getHeight(),m=a.getLayers()||1,g=a.getLevels(),x=a.getHasAlpha(),y=a.getDFDTransferFunc(),v=a.getDFDFlags(),{transcoderFormat:b,engineFormat:A}=function(n,i,a,d){let p;let h=n===o.ETC1S?l:c;for(let r=0;r<h.length;r++){let s=h[r];if(t[s.if]&&s.basisFormat.includes(n)&&(!d||!(s.transcoderFormat.length<2))&&(!s.needsPowerOfTwo||u(i)&&u(a)))return{transcoderFormat:s.transcoderFormat[d?1:0],engineFormat:s.engineFormat[d?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:s.RGBA32,engineFormat:r.RGBAFormat}}(p,h,f,x);if(!h||!f||!g)throw d(),Error("THREE.KTX2Loader:	Invalid texture");if(!a.startTranscoding())throw d(),Error("THREE.KTX2Loader: .startTranscoding failed");let w=[];for(let t=0;t<g;t++){let n,i;let r=[];for(let s=0;s<m;s++){let o=a.getImageLevelInfo(t,s,0);n=o.origWidth<4?o.origWidth:o.width,i=o.origHeight<4?o.origHeight:o.height;let l=new Uint8Array(a.getImageTranscodedSizeInBytes(t,s,0,b));if(!a.transcodeImage(l,t,s,0,b,0,-1,-1))throw d(),Error("THREE.KTX2Loader: .transcodeImage failed.");r.push(l)}w.push({data:function(t){let n=0;for(let i of t)n+=i.byteLength;let i=new Uint8Array(n),r=0;for(let n of t)i.set(n,r),r+=n.byteLength;return i}(r),width:n,height:i})}return d(),{width:h,height:f,hasAlpha:x,mipmaps:w,format:A,dfdTransferFn:y,dfdFlags:v}}(d.buffer),x=[];for(let t=0;t<h.length;++t)x.push(h[t].data.buffer);self.postMessage({type:"transcode",id:d.id,width:n,height:a,hasAlpha:p,mipmaps:h,format:f,dfdTransferFn:m,dfdFlags:g},x)}catch(t){console.error(t),self.postMessage({type:"error",id:d.id,error:t.message})}})}});let a=[{if:"astcSupported",basisFormat:[o.UASTC_4x4],transcoderFormat:[s.ASTC_4x4,s.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[s.BC7_M5,s.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[s.BC1,s.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[s.ETC1,s.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[s.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[s.PVRTC1_4_RGB,s.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],l=a.sort(function(t,n){return t.priorityETC1S-n.priorityETC1S}),c=a.sort(function(t,n){return t.priorityUASTC-n.priorityUASTC});function u(t){return t<=2||(t&t-1)==0&&0!==t}};let yJ={109:1023,97:1023,37:1023,43:1023,103:1030,83:1030,16:1030,22:1030,100:1028,76:1028,15:1028,9:1028},y0={109:1015,97:1016,37:1009,43:1009,103:1015,83:1016,16:1009,22:1009,100:1015,76:1016,15:1009,9:1009},y1={43:3001,22:3001,15:3001};async function y2(t){let n,i;let{vkFormat:r,pixelWidth:s,pixelHeight:o,pixelDepth:a}=t;if(void 0===yJ[r])throw Error("THREE.KTX2Loader: Unsupported vkFormat.");let c=t.levels[0];if(0===t.supercompressionScheme)n=c.levelData;else if(2===t.supercompressionScheme)l||(l=new Promise(async t=>{let n=new y$;await n.init(),t(n)})),n=(await l).decode(c.levelData,c.uncompressedByteLength);else throw Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");i=1015===y0[r]?new Float32Array(n.buffer,n.byteOffset,n.byteLength/Float32Array.BYTES_PER_ELEMENT):1016===y0[r]?new Uint16Array(n.buffer,n.byteOffset,n.byteLength/Uint16Array.BYTES_PER_ELEMENT):n;let u=0===a?new me(i,s,o):new uF(i,s,o,a);return u.type=y0[r],u.format=yJ[r],u.encoding=y1[r]||3e3,u.needsUpdate=!0,Promise.resolve(u)}let y3=Symbol("retainerCount"),y5=Symbol("recentlyUsed"),y4=Symbol("evict"),y6=Symbol("evictionThreshold"),y8=Symbol("cache");class y7{constructor(t,n=5){this[TJ]=new Map,this[T0]=[],this[y8]=t,this[y6]=n}set evictionThreshold(t){this[y6]=t,this[y4]()}get evictionThreshold(){return this[y6]}get cache(){return this[y8]}retainerCount(t){return this[y3].get(t)||0}reset(){this[y3].clear(),this[y5]=[]}retain(t){this[y3].has(t)||this[y3].set(t,0),this[y3].set(t,this[y3].get(t)+1);let n=this[y5].indexOf(t);-1!==n&&this[y5].splice(n,1),this[y5].unshift(t),this[y4]()}release(t){this[y3].has(t)&&this[y3].set(t,Math.max(this[y3].get(t)-1,0)),this[y4]()}[(TJ=y3,T0=y5,y4)](){if(!(this[y5].length<this[y6]))for(let t=this[y5].length-1;t>=this[y6];--t){let n=this[y5][t];0===this[y3].get(n)&&(this[y8].delete(n),this[y5].splice(t,1))}}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y9=t=>{let n=[],i=new Set;for(let r of t){let t=r,s=0;for(;i.has(t);)t=r+"."+ ++s;i.add(t),n.push(t)}return n},ve=t=>{let n=new Map;for(let i of t.mappings)for(let t of i.variants)n.set(t,{material:null,gltfMaterialIndex:i.material});return n};class vt{constructor(t){this.parser=t,this.name="KHR_materials_variants"}afterRoot(t){let n=this.parser,i=n.json;if(void 0===i.extensions||void 0===i.extensions[this.name])return null;let r=y9((i.extensions[this.name].variants||[]).map(t=>t.name));for(let r of t.scenes)r.traverse(t=>{if(!t.material)return;let r=n.associations.get(t);if(null==r||null==r.meshes||null==r.primitives)return;let s=i.meshes[r.meshes].primitives[r.primitives].extensions;s&&s[this.name]&&(t.userData.variantMaterials=ve(s[this.name]))});return t.userData.variants=r,Promise.resolve()}}uj.DEFAULT_ANISOTROPY=4;let vn=(t,n,i=()=>{})=>{let r=t=>{let n=t.loaded/t.total;i(Math.max(0,Math.min(1,isFinite(n)?n:1)))};return new Promise((i,s)=>{n.load(t,i,r,s)})},vi=t=>new Promise((n,i)=>{let r=document.createElement("script");document.body.appendChild(r),r.onload=n,r.onerror=i,r.async=!0,r.src=t}),vr=new Map,vs=new Map,vo=new x6,va=new yX,vl=Symbol("loader"),vc=Symbol("evictionPolicy"),vu=Symbol("GLTFInstance");class vd extends uo{constructor(t){super(),this[T2]=new x9().register(t=>new vt(t)),this[vu]=t,this[vl].setDRACOLoader(vo),this[vl].setKTX2Loader(va)}static setDRACODecoderLocation(t){c=t,vo.setDecoderPath(t)}static getDRACODecoderLocation(){return c}static setKTX2TranscoderLocation(t){u=t,va.setTranscoderPath(t)}static getKTX2TranscoderLocation(){return u}static setMeshoptDecoderLocation(t){d!==t&&(d=t,p=vi(t).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return d}static initializeKTX2Loader(t){va.detectSupport(t)}static get cache(){return vr}static clearCache(){vr.forEach((t,n)=>{this.delete(n)}),this[vc].reset()}static has(t){return vr.has(t)}static async delete(t){if(!this.has(t))return;let n=vr.get(t);vs.delete(t),vr.delete(t),(await n).dispose()}static hasFinishedLoading(t){return!!vs.get(t)}get[(T1=vc,T2=vl,vc)](){return this.constructor[vc]}async preload(t,n,i=()=>{}){if(this[vl].setWithCredentials(vd.withCredentials),this.dispatchEvent({type:"preload",element:n,src:t}),!vr.has(t)){null!=p&&this[vl].setMeshoptDecoder(await p);let n=vn(t,this[vl],t=>{i(.8*t)}),r=this[vu],s=n.then(t=>r.prepare(t)).then(t=>(i(.9),new r(t))).catch(t=>(console.error(t),new r));vr.set(t,s)}await vr.get(t),vs.set(t,!0),i&&i(1)}async load(t,n,i=()=>{}){await this.preload(t,n,i);let r=await vr.get(t),s=await r.clone();return this[vc].retain(t),s.dispose=()=>{this[vc].release(t)},s}}vd[T1]=new y7(vd);class vp extends dB{constructor(t=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new ux(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)})})}copy(t,n){return super.copy(t,n),this.element=t.element.cloneNode(!0),this.center=t.center,this}}let vh=new uN,vf=new ds,vm=new ds,vg=new uN,vx=new uN;class vy{constructor(t={}){let n,i,r,s;let o=this,a={objects:new WeakMap},l=void 0!==t.element?t.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:n,height:i}},this.render=function(t,n){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===n.parent&&!0===n.matrixWorldAutoUpdate&&n.updateMatrixWorld(),vf.copy(n.matrixWorldInverse),vm.multiplyMatrices(n.projectionMatrix,vf),function t(n,i,c){if(n.isCSS2DObject){vh.setFromMatrixPosition(n.matrixWorld),vh.applyMatrix4(vm);let t=!0===n.visible&&vh.z>=-1&&vh.z<=1&&!0===n.layers.test(c.layers);if(n.element.style.display=!0===t?"":"none",!0===t){n.onBeforeRender(o,i,c);let t=n.element;t.style.transform="translate("+-100*n.center.x+"%,"+-100*n.center.y+"%)translate("+(vh.x*r+r)+"px,"+(-vh.y*s+s)+"px)",t.parentNode!==l&&l.appendChild(t),n.onAfterRender(o,i,c)}let u={distanceToCameraSquared:(vg.setFromMatrixPosition(c.matrixWorld),vx.setFromMatrixPosition(n.matrixWorld),vg.distanceToSquared(vx))};a.objects.set(n,u)}for(let r=0,s=n.children.length;r<s;r++)t(n.children[r],i,c)}(t,t,n),function(t){let n=(function(t){let n=[];return t.traverse(function(t){t.isCSS2DObject&&n.push(t)}),n})(t).sort(function(t,n){return t.renderOrder!==n.renderOrder?n.renderOrder-t.renderOrder:a.objects.get(t).distanceToCameraSquared-a.objects.get(n).distanceToCameraSquared}),i=n.length;for(let t=0,r=n.length;t<r;t++)n[t].element.style.zIndex=i-t}(t)},this.setSize=function(t,o){n=t,i=o,r=n/2,s=i/2,l.style.width=t+"px",l.style.height=o+"px"}}}function vv(t,n,i){let r=i,s=new uN;return t.updateWorldMatrix(!0,!0),t.traverseVisible(t=>{let{geometry:i}=t;if(void 0!==i){let{position:o}=i.attributes;if(void 0!==o)for(let i=0,a=o.count;i<a;i++)t.isMesh?t.getVertexPosition(i,s):s.fromBufferAttribute(o,i),t.isSkinnedMesh||s.applyMatrix4(t.matrixWorld),r=n(r,s)}}),r}let vb={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class vA{constructor(){this.pluginCallbacks=[],this.register(function(t){return new vj(t)}),this.register(function(t){return new vP(t)}),this.register(function(t){return new vF(t)}),this.register(function(t){return new vO(t)}),this.register(function(t){return new vN(t)}),this.register(function(t){return new vU(t)}),this.register(function(t){return new vR(t)}),this.register(function(t){return new vD(t)}),this.register(function(t){return new vV(t)}),this.register(function(t){return new vH(t)})}register(t){return -1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return -1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,i,r){let s=new vL,o=[];for(let t=0,n=this.pluginCallbacks.length;t<n;t++)o.push(this.pluginCallbacks[t](s));s.setPlugins(o),s.write(t,n,r).catch(i)}parseAsync(t,n){let i=this;return new Promise(function(r,s){i.parse(t,r,s,n)})}}let vw={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},vC="KHR_mesh_quantization",v_={};v_[1003]=vw.NEAREST,v_[1004]=vw.NEAREST_MIPMAP_NEAREST,v_[1005]=vw.NEAREST_MIPMAP_LINEAR,v_[1006]=vw.LINEAR,v_[1007]=vw.LINEAR_MIPMAP_NEAREST,v_[1008]=vw.LINEAR_MIPMAP_LINEAR,v_[1001]=vw.CLAMP_TO_EDGE,v_[1e3]=vw.REPEAT,v_[1002]=vw.MIRRORED_REPEAT;let vS={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},vk=new dY;function vE(t,n){return t.length===n.length&&t.every(function(t,i){return t===n[i]})}function vM(t){return 4*Math.ceil(t/4)}function vI(t,n=0){let i=vM(t.byteLength);if(i!==t.byteLength){let r=new Uint8Array(i);if(r.set(new Uint8Array(t)),0!==n)for(let s=t.byteLength;s<i;s++)r[s]=n;return r.buffer}return t}function vT(){return"undefined"==typeof document&&"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function vB(t,n){let i;return void 0!==t.toBlob?new Promise(i=>t.toBlob(i,n)):("image/jpeg"===n?i=.92:"image/webp"===n&&(i=.8),t.convertToBlob({type:n,quality:i}))}class vL{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(t){this.plugins=t}async write(t,n,i={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),await Promise.all(this.pending);let r=this.buffers,s=this.json;i=this.options;let o=this.extensionsUsed,a=this.extensionsRequired,l=new Blob(r,{type:"application/octet-stream"}),c=Object.keys(o),u=Object.keys(a);if(c.length>0&&(s.extensionsUsed=c),u.length>0&&(s.extensionsRequired=u),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=l.size),!0===i.binary){let t=new FileReader;t.readAsArrayBuffer(l),t.onloadend=function(){var i;let r=vI(t.result),o=new DataView(new ArrayBuffer(8));o.setUint32(0,r.byteLength,!0),o.setUint32(4,5130562,!0);let a=vI((i=JSON.stringify(s),new TextEncoder().encode(i).buffer),32),l=new DataView(new ArrayBuffer(8));l.setUint32(0,a.byteLength,!0),l.setUint32(4,1313821514,!0);let c=new ArrayBuffer(12),u=new DataView(c);u.setUint32(0,1179937895,!0),u.setUint32(4,2,!0);let d=12+l.byteLength+a.byteLength+o.byteLength+r.byteLength;u.setUint32(8,d,!0);let p=new Blob([c,l,a,o,r],{type:"application/octet-stream"}),h=new FileReader;h.readAsArrayBuffer(p),h.onloadend=function(){n(h.result)}}}else if(s.buffers&&s.buffers.length>0){let t=new FileReader;t.readAsDataURL(l),t.onloadend=function(){let i=t.result;s.buffers[0].uri=i,n(s)}}else n(s)}serializeUserData(t,n){if(0===Object.keys(t.userData).length)return;let i=this.options,r=this.extensionsUsed;try{let s=JSON.parse(JSON.stringify(t.userData));if(i.includeCustomExtensions&&s.gltfExtensions){for(let t in void 0===n.extensions&&(n.extensions={}),s.gltfExtensions)n.extensions[t]=s.gltfExtensions[t],r[t]=!0;delete s.gltfExtensions}Object.keys(s).length>0&&(n.extras=s)}catch(n){console.warn("THREE.GLTFExporter: userData of '"+t.name+"' won't be serialized because of JSON.stringify error - "+n.message)}}getUID(t,n=!1){if(!1===this.uids.has(t)){let n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(t,n)}return this.uids.get(t).get(n)}isNormalizedNormalAttribute(t){if(this.cache.attributesNormalized.has(t))return!1;let n=new uN;for(let i=0,r=t.count;i<r;i++)if(Math.abs(n.fromBufferAttribute(t,i).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(t){let n=this.cache;if(n.attributesNormalized.has(t))return n.attributesNormalized.get(t);let i=t.clone(),r=new uN;for(let t=0,n=i.count;t<n;t++)r.fromBufferAttribute(i,t),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),i.setXYZ(t,r.x,r.y,r.z);return n.attributesNormalized.set(t,i),i}applyTextureTransform(t,n){let i=!1,r={};(0!==n.offset.x||0!==n.offset.y)&&(r.offset=n.offset.toArray(),i=!0),0!==n.rotation&&(r.rotation=n.rotation,i=!0),(1!==n.repeat.x||1!==n.repeat.y)&&(r.scale=n.repeat.toArray(),i=!0),i&&(t.extensions=t.extensions||{},t.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(t,n){if(t===n)return t;function i(t){return 3001===t.encoding?function(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}:function(t){return t}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");let r=t?t.image:null,s=n?n.image:null,o=Math.max(r?r.width:0,s?s.width:0),a=Math.max(r?r.height:0,s?s.height:0),l=vT();l.width=o,l.height=a;let c=l.getContext("2d");c.fillStyle="#00ffff",c.fillRect(0,0,o,a);let u=c.getImageData(0,0,o,a);if(r){c.drawImage(r,0,0,o,a);let n=i(t),s=c.getImageData(0,0,o,a).data;for(let t=2;t<s.length;t+=4)u.data[t]=256*n(s[t]/256)}if(s){c.drawImage(s,0,0,o,a);let t=i(n),r=c.getImageData(0,0,o,a).data;for(let n=1;n<r.length;n+=4)u.data[n]=256*t(r[n]/256)}c.putImageData(u,0,0);let d=(t||n).clone();return d.source=new uT(l),d.encoding=3e3,d}processBuffer(t){let n=this.json,i=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),i.push(t),0}processBufferView(t,n,i,r,s){let o;let a=this.json;switch(a.bufferViews||(a.bufferViews=[]),n){case vw.BYTE:case vw.UNSIGNED_BYTE:o=1;break;case vw.SHORT:case vw.UNSIGNED_SHORT:o=2;break;default:o=4}let l=vM(r*t.itemSize*o),c=new DataView(new ArrayBuffer(l)),u=0;for(let s=i;s<i+r;s++)for(let i=0;i<t.itemSize;i++){let r;t.itemSize>4?r=t.array[s*t.itemSize+i]:(0===i?r=t.getX(s):1===i?r=t.getY(s):2===i?r=t.getZ(s):3===i&&(r=t.getW(s)),!0===t.normalized&&(r=ug.normalize(r,t.array))),n===vw.FLOAT?c.setFloat32(u,r,!0):n===vw.INT?c.setInt32(u,r,!0):n===vw.UNSIGNED_INT?c.setUint32(u,r,!0):n===vw.SHORT?c.setInt16(u,r,!0):n===vw.UNSIGNED_SHORT?c.setUint16(u,r,!0):n===vw.BYTE?c.setInt8(u,r):n===vw.UNSIGNED_BYTE&&c.setUint8(u,r),u+=o}let d={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:l};return void 0!==s&&(d.target=s),s===vw.ARRAY_BUFFER&&(d.byteStride=t.itemSize*o),this.byteOffset+=l,a.bufferViews.push(d),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(t){let n=this,i=n.json;return i.bufferViews||(i.bufferViews=[]),new Promise(function(r){let s=new FileReader;s.readAsArrayBuffer(t),s.onloadend=function(){let t=vI(s.result),o={buffer:n.processBuffer(t),byteOffset:n.byteOffset,byteLength:t.byteLength};n.byteOffset+=t.byteLength,r(i.bufferViews.push(o)-1)}})}processAccessor(t,n,i,r){let s,o;let a=this.json;if(t.array.constructor===Float32Array)s=vw.FLOAT;else if(t.array.constructor===Int32Array)s=vw.INT;else if(t.array.constructor===Uint32Array)s=vw.UNSIGNED_INT;else if(t.array.constructor===Int16Array)s=vw.SHORT;else if(t.array.constructor===Uint16Array)s=vw.UNSIGNED_SHORT;else if(t.array.constructor===Int8Array)s=vw.BYTE;else if(t.array.constructor===Uint8Array)s=vw.UNSIGNED_BYTE;else throw Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(void 0===i&&(i=0),void 0===r&&(r=t.count),0===r)return null;let l=function(t,n,i){let r={min:Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let s=n;s<n+i;s++)for(let n=0;n<t.itemSize;n++){let i;t.itemSize>4?i=t.array[s*t.itemSize+n]:(0===n?i=t.getX(s):1===n?i=t.getY(s):2===n?i=t.getZ(s):3===n&&(i=t.getW(s)),!0===t.normalized&&(i=ug.normalize(i,t.array))),r.min[n]=Math.min(r.min[n],i),r.max[n]=Math.max(r.max[n],i)}return r}(t,i,r);void 0!==n&&(o=t===n.index?vw.ELEMENT_ARRAY_BUFFER:vw.ARRAY_BUFFER);let c=this.processBufferView(t,s,i,r,o),u={bufferView:c.id,byteOffset:c.byteOffset,componentType:s,count:r,max:l.max,min:l.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"}[t.itemSize]};return!0===t.normalized&&(u.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(u)-1}processImage(t,n,i,r="image/png"){if(null!==t){let s=this,o=s.cache,a=s.json,l=s.options,c=s.pending;o.images.has(t)||o.images.set(t,{});let u=o.images.get(t),d=r+":flipY/"+i.toString();if(void 0!==u[d])return u[d];a.images||(a.images=[]);let p={mimeType:r},h=vT();h.width=Math.min(t.width,l.maxTextureSize),h.height=Math.min(t.height,l.maxTextureSize);let f=h.getContext("2d");if(!0===i&&(f.translate(0,h.height),f.scale(1,-1)),void 0!==t.data){1023!==n&&console.error("GLTFExporter: Only RGBAFormat is supported."),(t.width>l.maxTextureSize||t.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",t);let i=new Uint8ClampedArray(t.height*t.width*4);for(let n=0;n<i.length;n+=4)i[n+0]=t.data[n+0],i[n+1]=t.data[n+1],i[n+2]=t.data[n+2],i[n+3]=t.data[n+3];f.putImageData(new ImageData(i,t.width,t.height),0,0)}else f.drawImage(t,0,0,h.width,h.height);!0===l.binary?c.push(vB(h,r).then(t=>s.processBufferViewImage(t)).then(t=>{p.bufferView=t})):void 0!==h.toDataURL?p.uri=h.toDataURL(r):c.push(vB(h,r).then(t=>new FileReader().readAsDataURL(t)).then(t=>{p.uri=t}));let m=a.images.push(p)-1;return u[d]=m,m}throw Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(t){let n=this.json;n.samplers||(n.samplers=[]);let i={magFilter:v_[t.magFilter],minFilter:v_[t.minFilter],wrapS:v_[t.wrapS],wrapT:v_[t.wrapT]};return n.samplers.push(i)-1}processTexture(t){let n=this.cache,i=this.json;if(n.textures.has(t))return n.textures.get(t);i.textures||(i.textures=[]);let r=t.userData.mimeType;"image/webp"===r&&(r="image/png");let s={sampler:this.processSampler(t),source:this.processImage(t.image,t.format,t.flipY,r)};t.name&&(s.name=t.name),this._invokeAll(function(n){n.writeTexture&&n.writeTexture(t,s)});let o=i.textures.push(s)-1;return n.textures.set(t,o),o}processMaterial(t){let n=this.cache,i=this.json;if(n.materials.has(t))return n.materials.get(t);if(t.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);let r={pbrMetallicRoughness:{}};!0!==t.isMeshStandardMaterial&&!0!==t.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");let s=t.color.toArray().concat([t.opacity]);if(vE(s,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=s),t.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=t.metalness,r.pbrMetallicRoughness.roughnessFactor=t.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),t.metalnessMap||t.roughnessMap){let n=this.buildMetalRoughTexture(t.metalnessMap,t.roughnessMap),i={index:this.processTexture(n)};this.applyTextureTransform(i,n),r.pbrMetallicRoughness.metallicRoughnessTexture=i}if(t.map){let n={index:this.processTexture(t.map)};this.applyTextureTransform(n,t.map),r.pbrMetallicRoughness.baseColorTexture=n}if(t.emissive){let n=t.emissive;if(Math.max(n.r,n.g,n.b)>0&&(r.emissiveFactor=t.emissive.toArray()),t.emissiveMap){let n={index:this.processTexture(t.emissiveMap)};this.applyTextureTransform(n,t.emissiveMap),r.emissiveTexture=n}}if(t.normalMap){let n={index:this.processTexture(t.normalMap)};t.normalScale&&1!==t.normalScale.x&&(n.scale=t.normalScale.x),this.applyTextureTransform(n,t.normalMap),r.normalTexture=n}if(t.aoMap){let n={index:this.processTexture(t.aoMap),texCoord:1};1!==t.aoMapIntensity&&(n.strength=t.aoMapIntensity),this.applyTextureTransform(n,t.aoMap),r.occlusionTexture=n}t.transparent?r.alphaMode="BLEND":t.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=t.alphaTest),2===t.side&&(r.doubleSided=!0),""!==t.name&&(r.name=t.name),this.serializeUserData(t,r),this._invokeAll(function(n){n.writeMaterial&&n.writeMaterial(t,r)});let o=i.materials.push(r)-1;return n.materials.set(t,o),o}processMesh(t){let n;let i=this.cache,r=this.json,s=[t.geometry.uuid];if(Array.isArray(t.material))for(let n=0,i=t.material.length;n<i;n++)s.push(t.material[n].uuid);else s.push(t.material.uuid);let o=s.join(":");if(i.meshes.has(o))return i.meshes.get(o);let a=t.geometry;n=t.isLineSegments?vw.LINES:t.isLineLoop?vw.LINE_LOOP:t.isLine?vw.LINE_STRIP:t.isPoints?vw.POINTS:t.material.wireframe?vw.LINES:vw.TRIANGLES;let l={},c={},u=[],d=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},h=a.getAttribute("normal");void 0===h||this.isNormalizedNormalAttribute(h)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(h)));let f=null;for(let t in a.attributes){if("morph"===t.slice(0,5))continue;let n=a.attributes[t];if(t=p[t]||t.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(t)||(t="_"+t),i.attributes.has(this.getUID(n))){c[t]=i.attributes.get(this.getUID(n));continue}f=null;let r=n.array;"JOINTS_0"!==t||r instanceof Uint16Array||r instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),f=new d3(new Uint16Array(r),n.itemSize,n.normalized));let s=this.processAccessor(f||n,a);null!==s&&(t.startsWith("_")||this.detectMeshQuantization(t,n),c[t]=s,i.attributes.set(this.getUID(n),s))}if(void 0!==h&&a.setAttribute("normal",h),0===Object.keys(c).length)return null;if(void 0!==t.morphTargetInfluences&&t.morphTargetInfluences.length>0){let n=[],r=[],s={};if(void 0!==t.morphTargetDictionary)for(let n in t.morphTargetDictionary)s[t.morphTargetDictionary[n]]=n;for(let o=0;o<t.morphTargetInfluences.length;++o){let l={},c=!1;for(let t in a.morphAttributes){if("position"!==t&&"normal"!==t){c||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),c=!0);continue}let n=a.morphAttributes[t][o],r=t.toUpperCase(),s=a.attributes[t];if(i.attributes.has(this.getUID(n,!0))){l[r]=i.attributes.get(this.getUID(n,!0));continue}let u=n.clone();if(!a.morphTargetsRelative)for(let t=0,i=n.count;t<i;t++)for(let i=0;i<n.itemSize;i++)0===i&&u.setX(t,n.getX(t)-s.getX(t)),1===i&&u.setY(t,n.getY(t)-s.getY(t)),2===i&&u.setZ(t,n.getZ(t)-s.getZ(t)),3===i&&u.setW(t,n.getW(t)-s.getW(t));l[r]=this.processAccessor(u,a),i.attributes.set(this.getUID(s,!0),l[r])}d.push(l),n.push(t.morphTargetInfluences[o]),void 0!==t.morphTargetDictionary&&r.push(s[o])}l.weights=n,r.length>0&&(l.extras={},l.extras.targetNames=r)}let m=Array.isArray(t.material);if(m&&0===a.groups.length)return null;let g=m?t.material:[t.material],x=m?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let t=0,r=x.length;t<r;t++){let r={mode:n,attributes:c};if(this.serializeUserData(a,r),d.length>0&&(r.targets=d),null!==a.index){let n=this.getUID(a.index);(void 0!==x[t].start||void 0!==x[t].count)&&(n+=":"+x[t].start+":"+x[t].count),i.attributes.has(n)?r.indices=i.attributes.get(n):(r.indices=this.processAccessor(a.index,a,x[t].start,x[t].count),i.attributes.set(n,r.indices)),null===r.indices&&delete r.indices}let s=this.processMaterial(g[x[t].materialIndex]);null!==s&&(r.material=s),u.push(r)}l.primitives=u,r.meshes||(r.meshes=[]),this._invokeAll(function(n){n.writeMesh&&n.writeMesh(t,l)});let y=r.meshes.push(l)-1;return i.meshes.set(o,y),y}detectMeshQuantization(t,n){let i;if(this.extensionsUsed[vC])return;switch(n.array.constructor){case Int8Array:i="byte";break;case Uint8Array:i="unsigned byte";break;case Int16Array:i="short";break;case Uint16Array:i="unsigned short";break;default:return}n.normalized&&(i+=" normalized");let r=t.split("_",1)[0];vb[r]&&vb[r].includes(i)&&(this.extensionsUsed[vC]=!0,this.extensionsRequired[vC]=!0)}processCamera(t){let n=this.json;n.cameras||(n.cameras=[]);let i=t.isOrthographicCamera,r={type:i?"orthographic":"perspective"};return i?r.orthographic={xmag:2*t.right,ymag:2*t.top,zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near}:r.perspective={aspectRatio:t.aspect,yfov:ug.degToRad(t.fov),zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near},""!==t.name&&(r.name=t.type),n.cameras.push(r)-1}processAnimation(t,n){let i=this.json,r=this.nodeMap;i.animations||(i.animations=[]);let s=(t=vA.Utils.mergeMorphTargetTracks(t.clone(),n)).tracks,o=[],a=[];for(let t=0;t<s.length;++t){let i;let l=s[t],c=gM.parseTrackName(l.name),u=gM.findNode(n,c.nodeName),d=vS[c.propertyName];if("bones"===c.objectName&&(u=!0===u.isSkinnedMesh?u.skeleton.getBoneByName(c.objectIndex):void 0),!u||!d)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',l.name),null;let p=l.values.length/l.times.length;d===vS.morphTargetInfluences&&(p/=u.morphTargetInfluences.length),!0===l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(i="CUBICSPLINE",p/=3):i=2300===l.getInterpolation()?"STEP":"LINEAR",a.push({input:this.processAccessor(new d3(l.times,1)),output:this.processAccessor(new d3(l.values,p)),interpolation:i}),o.push({sampler:a.length-1,target:{node:r.get(u),path:d}})}return i.animations.push({name:t.name||"clip_"+i.animations.length,samplers:a,channels:o}),i.animations.length-1}processSkin(t){let n=this.json,i=this.nodeMap,r=n.nodes[i.get(t)],s=t.skeleton;if(void 0===s)return null;let o=t.skeleton.bones[0];if(void 0===o)return null;let a=[],l=new Float32Array(16*s.bones.length),c=new ds;for(let n=0;n<s.bones.length;++n)a.push(i.get(s.bones[n])),c.copy(s.boneInverses[n]),c.multiply(t.bindMatrix).toArray(l,16*n);return void 0===n.skins&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new d3(l,16)),joints:a,skeleton:i.get(o)}),r.skin=n.skins.length-1}processNode(t){let n=this.json,i=this.options,r=this.nodeMap;n.nodes||(n.nodes=[]);let s={};if(i.trs){let n=t.quaternion.toArray(),i=t.position.toArray(),r=t.scale.toArray();vE(n,[0,0,0,1])||(s.rotation=n),vE(i,[0,0,0])||(s.translation=i),vE(r,[1,1,1])||(s.scale=r)}else t.matrixAutoUpdate&&t.updateMatrix(),!1===vE(t.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(s.matrix=t.matrix.elements);if(""!==t.name&&(s.name=String(t.name)),this.serializeUserData(t,s),t.isMesh||t.isLine||t.isPoints){let n=this.processMesh(t);null!==n&&(s.mesh=n)}else t.isCamera&&(s.camera=this.processCamera(t));if(t.isSkinnedMesh&&this.skins.push(t),t.children.length>0){let n=[];for(let r=0,s=t.children.length;r<s;r++){let s=t.children[r];if(s.visible||!1===i.onlyVisible){let t=this.processNode(s);null!==t&&n.push(t)}}n.length>0&&(s.children=n)}this._invokeAll(function(n){n.writeNode&&n.writeNode(t,s)});let o=n.nodes.push(s)-1;return r.set(t,o),o}processScene(t){let n=this.json,i=this.options;n.scenes||(n.scenes=[],n.scene=0);let r={};""!==t.name&&(r.name=t.name),n.scenes.push(r);let s=[];for(let n=0,r=t.children.length;n<r;n++){let r=t.children[n];if(r.visible||!1===i.onlyVisible){let t=this.processNode(r);null!==t&&s.push(t)}}s.length>0&&(r.nodes=s),this.serializeUserData(t,r)}processObjects(t){let n=new fX;n.name="AuxScene";for(let i=0;i<t.length;i++)n.children.push(t[i]);this.processScene(n)}processInput(t){let n=this.options;t=t instanceof Array?t:[t],this._invokeAll(function(n){n.beforeParse&&n.beforeParse(t)});let i=[];for(let n=0;n<t.length;n++)t[n]instanceof fX?this.processScene(t[n]):i.push(t[n]);i.length>0&&this.processObjects(i);for(let t=0;t<this.skins.length;++t)this.processSkin(this.skins[t]);for(let i=0;i<n.animations.length;++i)this.processAnimation(n.animations[i],t[0]);this._invokeAll(function(n){n.afterParse&&n.afterParse(t)})}_invokeAll(t){for(let n=0,i=this.plugins.length;n<i;n++)t(this.plugins[n])}}class vj{constructor(t){this.writer=t,this.name="KHR_lights_punctual"}writeNode(t,n){if(!t.isLight)return;if(!t.isDirectionalLight&&!t.isPointLight&&!t.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",t);return}let i=this.writer,r=i.json,s=i.extensionsUsed,o={};t.name&&(o.name=t.name),o.color=t.color.toArray(),o.intensity=t.intensity,t.isDirectionalLight?o.type="directional":t.isPointLight?(o.type="point",t.distance>0&&(o.range=t.distance)):t.isSpotLight&&(o.type="spot",t.distance>0&&(o.range=t.distance),o.spot={},o.spot.innerConeAngle=-((t.penumbra-1)*t.angle*1),o.spot.outerConeAngle=t.angle),void 0!==t.decay&&2!==t.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),t.target&&(t.target.parent!==t||0!==t.target.position.x||0!==t.target.position.y||-1!==t.target.position.z)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),s[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},s[this.name]=!0);let a=r.extensions[this.name].lights;a.push(o),n.extensions=n.extensions||{},n.extensions[this.name]={light:a.length-1}}}class vP{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,n){if(!t.isMeshBasicMaterial)return;let i=this.writer.extensionsUsed;n.extensions=n.extensions||{},n.extensions[this.name]={},i[this.name]=!0,n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9}}class vR{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||0===t.clearcoat)return;let i=this.writer,r=i.extensionsUsed,s={};if(s.clearcoatFactor=t.clearcoat,t.clearcoatMap){let n={index:i.processTexture(t.clearcoatMap)};i.applyTextureTransform(n,t.clearcoatMap),s.clearcoatTexture=n}if(s.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){let n={index:i.processTexture(t.clearcoatRoughnessMap)};i.applyTextureTransform(n,t.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=n}if(t.clearcoatNormalMap){let n={index:i.processTexture(t.clearcoatNormalMap)};i.applyTextureTransform(n,t.clearcoatNormalMap),s.clearcoatNormalTexture=n}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vD{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||0===t.iridescence)return;let i=this.writer,r=i.extensionsUsed,s={};if(s.iridescenceFactor=t.iridescence,t.iridescenceMap){let n={index:i.processTexture(t.iridescenceMap)};i.applyTextureTransform(n,t.iridescenceMap),s.iridescenceTexture=n}if(s.iridescenceIor=t.iridescenceIOR,s.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],s.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){let n={index:i.processTexture(t.iridescenceThicknessMap)};i.applyTextureTransform(n,t.iridescenceThicknessMap),s.iridescenceThicknessTexture=n}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vF{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||0===t.transmission)return;let i=this.writer,r=i.extensionsUsed,s={};if(s.transmissionFactor=t.transmission,t.transmissionMap){let n={index:i.processTexture(t.transmissionMap)};i.applyTextureTransform(n,t.transmissionMap),s.transmissionTexture=n}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vO{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||0===t.transmission)return;let i=this.writer,r=i.extensionsUsed,s={};if(s.thicknessFactor=t.thickness,t.thicknessMap){let n={index:i.processTexture(t.thicknessMap)};i.applyTextureTransform(n,t.thicknessMap),s.thicknessTexture=n}s.attenuationDistance=t.attenuationDistance,s.attenuationColor=t.attenuationColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vN{constructor(t){this.writer=t,this.name="KHR_materials_ior"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||1.5===t.ior)return;let i=this.writer.extensionsUsed,r={};r.ior=t.ior,n.extensions=n.extensions||{},n.extensions[this.name]=r,i[this.name]=!0}}class vU{constructor(t){this.writer=t,this.name="KHR_materials_specular"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||1===t.specularIntensity&&t.specularColor.equals(vk)&&!t.specularIntensityMap&&!t.specularColorTexture)return;let i=this.writer,r=i.extensionsUsed,s={};if(t.specularIntensityMap){let n={index:i.processTexture(t.specularIntensityMap)};i.applyTextureTransform(n,t.specularIntensityMap),s.specularTexture=n}if(t.specularColorMap){let n={index:i.processTexture(t.specularColorMap)};i.applyTextureTransform(n,t.specularColorMap),s.specularColorTexture=n}s.specularFactor=t.specularIntensity,s.specularColorFactor=t.specularColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vV{constructor(t){this.writer=t,this.name="KHR_materials_sheen"}writeMaterial(t,n){if(!t.isMeshPhysicalMaterial||0==t.sheen)return;let i=this.writer,r=i.extensionsUsed,s={};if(t.sheenRoughnessMap){let n={index:i.processTexture(t.sheenRoughnessMap)};i.applyTextureTransform(n,t.sheenRoughnessMap),s.sheenRoughnessTexture=n}if(t.sheenColorMap){let n={index:i.processTexture(t.sheenColorMap)};i.applyTextureTransform(n,t.sheenColorMap),s.sheenColorTexture=n}s.sheenRoughnessFactor=t.sheenRoughness,s.sheenColorFactor=t.sheenColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vH{constructor(t){this.writer=t,this.name="KHR_materials_emissive_strength"}writeMaterial(t,n){if(!t.isMeshStandardMaterial||1===t.emissiveIntensity)return;let i=this.writer.extensionsUsed,r={};r.emissiveStrength=t.emissiveIntensity,n.extensions=n.extensions||{},n.extensions[this.name]=r,i[this.name]=!0}}vA.Utils={insertKeyframe:function(t,n){let i;let r=t.getValueSize(),s=new t.TimeBufferType(t.times.length+1),o=new t.ValueBufferType(t.values.length+r),a=t.createInterpolant(new t.ValueBufferType(r));if(0===t.times.length){s[0]=n;for(let t=0;t<r;t++)o[t]=0;i=0}else if(n<t.times[0]){if(.001>Math.abs(t.times[0]-n))return 0;s[0]=n,s.set(t.times,1),o.set(a.evaluate(n),0),o.set(t.values,r),i=0}else if(n>t.times[t.times.length-1]){if(.001>Math.abs(t.times[t.times.length-1]-n))return t.times.length-1;s[s.length-1]=n,s.set(t.times,0),o.set(t.values,0),o.set(a.evaluate(n),t.values.length),i=s.length-1}else for(let l=0;l<t.times.length;l++){if(.001>Math.abs(t.times[l]-n))return l;if(t.times[l]<n&&t.times[l+1]>n){s.set(t.times.slice(0,l+1),0),s[l+1]=n,s.set(t.times.slice(l+1),l+2),o.set(t.values.slice(0,(l+1)*r),0),o.set(a.evaluate(n),(l+1)*r),o.set(t.values.slice((l+1)*r),(l+2)*r),i=l+1;break}}return t.times=s,t.values=o,i},mergeMorphTargetTracks:function(t,n){let i=[],r={},s=t.tracks;for(let t=0;t<s.length;++t){let o,a=s[t],l=gM.parseTrackName(a.name),c=gM.findNode(n,l.nodeName);if("morphTargetInfluences"!==l.propertyName||void 0===l.propertyIndex){i.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(a=a.clone()).setInterpolation(2301)}let u=c.morphTargetInfluences.length,d=c.morphTargetDictionary[l.propertyIndex];if(void 0===d)throw Error("THREE.GLTFExporter: Morph target name not found: "+l.propertyIndex);if(void 0===r[c.uuid]){let t=new(o=a.clone()).ValueBufferType(u*o.times.length);for(let n=0;n<o.times.length;n++)t[n*u+d]=o.values[n];o.name=(l.nodeName||"")+".morphTargetInfluences",o.values=t,r[c.uuid]=o,i.push(o);continue}let p=a.createInterpolant(new a.ValueBufferType(1));o=r[c.uuid];for(let t=0;t<o.times.length;t++)o.values[t*u+d]=p.evaluate(o.times[t]);for(let t=0;t<a.times.length;t++){let n=this.insertKeyframe(o,a.times[t]);o.values[n*u+d]=a.values[t]}}return t.tracks=i,t}};/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vQ=t=>void 0!==t.material&&t.userData&&t.userData.variantMaterials&&!!Array.from(t.userData.variantMaterials.values()).filter(t=>vz(t.material)),vz=t=>t&&t.isMaterial&&!Array.isArray(t);class vG{constructor(t){this.writer=t,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(t){let n=new Set;for(let i of t)i.traverse(t=>{if(!vQ(t))return;let i=t.userData.variantMaterials;for(let[r,s]of t.userData.variantData){let t=i.get(s.index);t&&vz(t.material)&&n.add(r)}});n.forEach(t=>this.variantNames.push(t))}writeMesh(t,n){if(!vQ(t))return;let i=t.userData,r=i.variantMaterials,s=i.variantData,o=new Map,a=new Map;for(let[t,n]of Array.from(s.values()).sort((t,n)=>t.index-n.index).entries())a.set(n.index,t);for(let t of s.values()){let n=r.get(t.index);if(!n||!vz(n.material))continue;let i=this.writer.processMaterial(n.material);o.has(i)||o.set(i,{material:i,variants:[]}),o.get(i).variants.push(a.get(t.index))}let l=Array.from(o.values()).map(t=>t.variants.sort((t,n)=>t-n)&&t).sort((t,n)=>t.material-n.material);if(0===l.length)return;let c=vz(i.originalMaterial)?this.writer.processMaterial(i.originalMaterial):-1;for(let t of n.primitives)c>=0&&(t.material=c),t.extensions=t.extensions||{},t.extensions[this.name]={mappings:l}}afterParse(){if(0===this.variantNames.length)return;let t=this.writer.json;t.extensions=t.extensions||{};let n=this.variantNames.map(t=>({name:t}));t.extensions[this.name]={variants:n},this.writer.extensionsUsed[this.name]=!0}}class vq{constructor(t,n,i,r,s){this.xrLight=t,this.renderer=n,this.lightProbe=i,this.xrWebGLBinding=null,this.estimationStartCallback=s,this.frameCallback=this.onXRFrame.bind(this);let o=n.xr.getSession();if(r&&"XRWebGLBinding"in window){let i=new pP(16);t.environment=i.texture;let r=n.getContext();switch(o.preferredReflectionFormat){case"srgba8":r.getExtension("EXT_sRGB");break;case"rgba16f":r.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(o,r),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}o.requestAnimationFrame(this.frameCallback)}updateReflection(){let t=this.renderer.properties.get(this.xrLight.environment);if(t){let n=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);n&&(t.__webglTexture=n,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(t,n){if(!this.xrLight)return;n.session.requestAnimationFrame(this.frameCallback);let i=n.getLightEstimate(this.lightProbe);if(i){this.xrLight.lightProbe.sh.fromArray(i.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;let t=Math.max(1,Math.max(i.primaryLightIntensity.x,Math.max(i.primaryLightIntensity.y,i.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(i.primaryLightIntensity.x/t,i.primaryLightIntensity.y/t,i.primaryLightIntensity.z/t),this.xrLight.directionalLight.intensity=t,this.xrLight.directionalLight.position.copy(i.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class vW extends fQ{constructor(t,n=!0){super(),this.lightProbe=new gg,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new gf,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let i=null,r=!1;t.xr.addEventListener("sessionstart",()=>{let s=t.xr.getSession();"requestLightProbe"in s&&s.requestLightProbe({reflectionFormat:s.preferredReflectionFormat}).then(s=>{i=new vq(this,t,s,n,()=>{r=!0,this.dispatchEvent({type:"estimationstart"})})})}),t.xr.addEventListener("sessionend",()=>{i&&(i.dispose(),i=null),r&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{i&&(i.dispose(),i=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}class v${constructor(t=50){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(t)}setDecayTime(t){this.naturalFrequency=1/Math.max(.001,t)}update(t,n,i,r){let s=2e-4*this.naturalFrequency;if(null==t||0===r||t===n&&0===this.velocity)return n;if(i<0)return t;let o=t-n,a=this.velocity+this.naturalFrequency*o,l=o+i*a,c=Math.exp(-this.naturalFrequency*i),u=(a-this.naturalFrequency*l)*c,d=-this.naturalFrequency*(u+a*c);return Math.abs(u)<s*Math.abs(r)&&d*o>=0?(this.velocity=0,n):(this.velocity=u,n+l*c)}}let vZ=Math.PI/24,vY=new ux,vK=(t,n,i)=>{let r=n>0?i>0?0:-Math.PI/2:i>0?Math.PI/2:Math.PI;for(let s=0;s<=12;++s)t.push(n+.17*Math.cos(r),i+.17*Math.sin(r),0,n+.2*Math.cos(r),i+.2*Math.sin(r),0),r+=vZ};class vX extends pw{constructor(t,n){let i=new pr,r=[],s=[],{size:o,boundingBox:a}=t,l=o.x/2,c=("back"===n?o.y:o.z)/2;vK(s,l,c),vK(s,-l,c),vK(s,-l,-c),vK(s,l,-c);let u=s.length/3;for(let t=0;t<u-2;t+=2)r.push(t,t+1,t+3,t,t+3,t+2);let d=u-2;r.push(d,d+1,1,d,1,0),i.setAttribute("position",new d6(s,3)),i.setIndex(r),super(i),this.side=n;let p=this.material;switch(p.side=2,p.transparent=!0,p.opacity=0,this.goalOpacity=0,this.opacityDamper=new v$,this.hitPlane=new pw(new pz(2*(l+.2),2*(c+.2))),this.hitPlane.visible=!1,this.hitPlane.material.side=2,this.add(this.hitPlane),a.getCenter(this.position),n){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=a.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=a.min.z,this.position.z=this.shadowHeight}t.target.add(this),this.offsetHeight=0}getHit(t,n,i){vY.set(n,-i),this.hitPlane.visible=!0;let r=t.positionAndNormalFromPoint(vY,this.hitPlane);return this.hitPlane.visible=!1,null==r?null:r.position}getExpandedHit(t,n,i){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();let r=this.getHit(t,n,i);return this.hitPlane.scale.set(1,1,1),r}set offsetHeight(t){t-=.001,"back"===this.side?this.position.z=this.shadowHeight+t:this.position.y=this.shadowHeight+t}get offsetHeight(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(t){this.goalOpacity=t?.75:0}updateOpacity(t){let n=this.material;n.opacity=this.opacityDamper.update(n.opacity,this.goalOpacity,t,1),this.visible=n.opacity>0}dispose(){var t;let{geometry:n,material:i}=this.hitPlane;n.dispose(),i.dispose(),this.geometry.dispose(),this.material.dispose(),null===(t=this.parent)||void 0===t||t.remove(this)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vJ=(t,n)=>({type:"number",number:t,unit:n}),v0=(()=>{let t={};return n=>{let i=n;if(i in t)return t[i];let r=[],s=0;for(;n;){if(++s>1e3){n="";break}let t=v1(n),i=t.nodes[0];if(null==i||0===i.terms.length)break;r.push(i),n=t.remainingInput}return t[i]=r}})(),v1=(()=>{let t=/^(\-\-|[a-z\u0240-\uffff])/i,n=/^([\*\+\/]|[\-]\s)/i,i=/^[\),]/;return r=>{let s=[];for(;r.length&&(r=r.trim(),!i.test(r));)if("("===r[0]){let{nodes:t,remainingInput:n}=v4(r);r=n,s.push({type:"function",name:{type:"ident",value:"calc"},arguments:t})}else if(t.test(r)){let t=v2(r),n=t.nodes[0];if("("===(r=t.remainingInput)[0]){let{nodes:t,remainingInput:i}=v4(r);s.push({type:"function",name:n,arguments:t}),r=i}else s.push(n)}else if(n.test(r))s.push({type:"operator",value:r[0]}),r=r.slice(1);else{let{nodes:t,remainingInput:n}="#"===r[0]?v5(r):v3(r);if(0===t.length)break;s.push(t[0]),r=n}return{nodes:[{type:"expression",terms:s}],remainingInput:r}}})(),v2=(()=>{let t=/[^a-z0-9_\-\u0240-\uffff]/i;return n=>{let i=n.match(t);return{nodes:[{type:"ident",value:null==i?n:n.substr(0,i.index)}],remainingInput:null==i?"":n.substr(i.index)}}})(),v3=(()=>{let t=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,n=/^[a-z%]+/i,i=/^(m|mm|cm|rad|deg|[%])$/;return r=>{let s=r.match(t),o=null==s?"0":s[0],a=(r=null==o?r:r.slice(o.length)).match(n),l=null!=a&&""!==a[0]?a[0]:null,c=null==a?r:r.slice(l.length);return null==l||i.test(l)||(l=null),{nodes:[{type:"number",number:parseFloat(o)||0,unit:l}],remainingInput:c}}})(),v5=(()=>{let t=/^[a-f0-9]*/i;return n=>{let i=(n=n.slice(1).trim()).match(t);return{nodes:null==i?[]:[{type:"hex",value:i[0]}],remainingInput:null==i?n:n.slice(i[0].length)}}})(),v4=t=>{let n=[];for(t=t.slice(1).trim();t.length;){let i=v1(t);if(n.push(i.nodes[0]),","===(t=i.remainingInput.trim())[0])t=t.slice(1).trim();else if(")"===t[0]){t=t.slice(1);break}}return{nodes:n,remainingInput:t}},v6=Symbol("visitedTypes");class v8{constructor(t){this[v6]=t}walk(t,n){let i=t.slice();for(;i.length;){let t=i.shift();switch(this[v6].indexOf(t.type)>-1&&n(t),t.type){case"expression":i.unshift(...t.terms);break;case"function":i.unshift(t.name,...t.arguments)}}}}let v7=Object.freeze({type:"number",number:0,unit:null}),v9=(t,n=0)=>{let{number:i,unit:r}=t;if(isFinite(i)){if("rad"===t.unit||null==t.unit)return t}else i=n,r="rad";return{type:"number",number:("deg"===r&&null!=i?i:0)*Math.PI/180,unit:"rad"}},be=(t,n=0)=>{let i,{number:r,unit:s}=t;if(isFinite(r)){if("m"===t.unit)return t}else r=n,s="m";switch(s){default:i=1;break;case"cm":i=.01;break;case"mm":i=.001}return{type:"number",number:i*r,unit:"m"}},bt=(()=>{let t=t=>t,n={rad:t,deg:v9,m:t,mm:be,cm:be};return(t,i=v7)=>{isFinite(t.number)||(t.number=i.number,t.unit=i.unit);let{unit:r}=t;if(null==r)return t;let s=n[r];return null==s?i:s(t)}})(),bn=Symbol("evaluate"),bi=Symbol("lastValue");class br{constructor(){this[T3]=null}static evaluatableFor(t,n=v7){if(t instanceof br)return t;if("number"===t.type)return"%"===t.unit?new ba(t,n):t;switch(t.name.value){case"calc":return new bp(t,n);case"env":return new bc(t)}return v7}static evaluate(t){return t instanceof br?t.evaluate():t}static isConstant(t){return!(t instanceof br)||t.isConstant}static applyIntrinsics(t,n){let{basis:i,keywords:r}=n,{auto:s}=r;return i.map((n,i)=>{let o=null==s[i]?n:s[i],a=t[i]?t[i]:o;if("ident"===a.type){let t=a.value;t in r&&(a=r[t][i])}return((null==a||"ident"===a.type)&&(a=o),"%"===a.unit)?vJ(a.number/100*n.number,n.unit):(a=bt(a,n)).unit!==n.unit?n:a})}get isConstant(){return!1}evaluate(){return this.isConstant&&null!=this[bi]||(this[bi]=this[bn]()),this[bi]}}T3=bi;let bs=Symbol("percentage"),bo=Symbol("basis");class ba extends br{constructor(t,n){super(),this[bs]=t,this[bo]=n}get isConstant(){return!0}[bn](){return vJ(this[bs].number/100*this[bo].number,this[bo].unit)}}let bl=Symbol("identNode");class bc extends br{constructor(t){super(),this[T5]=null;let n=t.arguments.length?t.arguments[0].terms[0]:null;null!=n&&"ident"===n.type&&(this[bl]=n)}get isConstant(){return!1}[(T5=bl,bn)](){return null!=this[bl]&&"window-scroll-y"===this[bl].value?{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}:v7}}let bu=/[\*\/]/,bd=Symbol("evaluator");class bp extends br{constructor(t,n=v7){if(super(),this[T4]=null,1!==t.arguments.length)return;let i=t.arguments[0].terms.slice(),r=[];for(;i.length;){let t=i.shift();if(r.length>0){let i=r[r.length-1];if("operator"===i.type&&bu.test(i.value)){let i=r.pop(),s=r.pop();if(null==s)return;r.push(new bg(i,br.evaluatableFor(s,n),br.evaluatableFor(t,n)));continue}}r.push("operator"===t.type?t:br.evaluatableFor(t,n))}for(;r.length>2;){let[t,i,s]=r.splice(0,3);if("operator"!==i.type)return;r.unshift(new bg(i,br.evaluatableFor(t,n),br.evaluatableFor(s,n)))}1===r.length&&(this[bd]=r[0])}get isConstant(){return null==this[bd]||br.isConstant(this[bd])}[(T4=bd,bn)](){return null!=this[bd]?br.evaluate(this[bd]):v7}}let bh=Symbol("operator"),bf=Symbol("left"),bm=Symbol("right");class bg extends br{constructor(t,n,i){super(),this[bh]=t,this[bf]=n,this[bm]=i}get isConstant(){return br.isConstant(this[bf])&&br.isConstant(this[bm])}[bn](){let t;let n=bt(br.evaluate(this[bf])),i=bt(br.evaluate(this[bm])),{number:r,unit:s}=n,{number:o,unit:a}=i;if(null!=a&&null!=s&&a!=s)return v7;switch(this[bh].value){case"+":t=r+o;break;case"-":t=r-o;break;case"/":t=r/o;break;case"*":t=r*o;break;default:return v7}return{type:"number",number:t,unit:s||a}}}let bx=Symbol("evaluatables"),by=Symbol("intrinsics");class bv extends br{constructor(t,n){super(),this[by]=n;let i=t[0],r=null!=i?i.terms:[];this[bx]=n.basis.map((t,n)=>{let i=r[n];return null==i?{type:"ident",value:"auto"}:"ident"===i.type?i:br.evaluatableFor(i,t)})}get isConstant(){for(let t of this[bx])if(!br.isConstant(t))return!1;return!0}[bn](){let t=this[bx].map(t=>br.evaluate(t));return br.applyIntrinsics(t,this[by]).map(t=>t.number)}}let bb=Symbol("instances"),bA=Symbol("activateListener"),bw=Symbol("deactivateListener"),bC=Symbol("notifyInstances"),b_=Symbol("notify"),bS=Symbol("callback");class bk{constructor(t){this[bS]=t}static[bC](){for(let t of bk[bb])t[b_]()}static[(T6=bb,bA)](){window.addEventListener("scroll",this[bC],{passive:!0})}static[bw](){window.removeEventListener("scroll",this[bC])}observe(){0===bk[bb].size&&bk[bA](),bk[bb].add(this)}disconnect(){bk[bb].delete(this),0===bk[bb].size&&bk[bw]()}[b_](){this[bS]()}}bk[T6]=new Set;let bE=Symbol("computeStyleCallback"),bM=Symbol("astWalker"),bI=Symbol("dependencies"),bT=Symbol("onScroll");class bB{constructor(t){this[T8]={},this[T7]=new v8(["function"]),this[T9]=()=>{this[bE]({relatedState:"window-scroll"})},this[bE]=t}observeEffectsFor(t){let n={},i=this[bI];for(let r in this[bM].walk(t,t=>{let{name:r}=t,s=t.arguments[0].terms[0];if("env"===r.value&&null!=s&&"ident"===s.type&&"window-scroll-y"===s.value&&null==n["window-scroll"]){let t="window-scroll"in i?i["window-scroll"]:new bk(this[bT]);t.observe(),delete i["window-scroll"],n["window-scroll"]=t}}),i)i[r].disconnect();this[bI]=n}dispose(){for(let t in this[bI])this[bI][t].disconnect()}}T8=bI,T7=bM,T9=bT;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bL=t=>{let n=t.observeEffects||!1,i=t.intrinsics instanceof Function?t.intrinsics:()=>t.intrinsics;return(r,s)=>{let o=r.updated,a=r.connectedCallback,l=r.disconnectedCallback,c=Symbol(`${s}StyleEffector`),u=Symbol(`${s}StyleEvaluator`),d=Symbol(`${s}UpdateEvaluator`),p=Symbol(`${s}EvaluateAndSync`);Object.defineProperties(r,{[c]:{value:null,writable:!0},[u]:{value:null,writable:!0},[d]:{value:function(){let t=v0(this[s]);this[u]=new bv(t,i(this)),null==this[c]&&n&&(this[c]=new bB(()=>this[p]())),null!=this[c]&&this[c].observeEffectsFor(t)}},[p]:{value:function(){if(null==this[u])return;let n=this[u].evaluate();this[t.updateHandler](n)}},updated:{value:function(t){t.has(s)&&(this[d](),this[p]()),o.call(this,t)}},connectedCallback:{value:function(){a.call(this),this.requestUpdate(s,this[s])}},disconnectedCallback:{value:function(){l.call(this),null!=this[c]&&(this[c].dispose(),this[c]=null)}}})}},bj=t=>t<.5?2*t*t:-1+(4-2*t)*t,bP=(t,n,i=bj)=>r=>t+(n-t)*i(r),bR=(t,n)=>{let i;let r=n.map((i=0,t=>i+=t));return n=>{n=xz(n,0,1)*r[r.length-1];let i=r.findIndex(t=>t>=n),s=i<1?0:r[i-1],o=r[i];return t[i]((n-s)/(o-s))}},bD=t=>{let n=[],i=[],r=t.initialValue;for(let s=0;s<t.keyframes.length;++s){let o=t.keyframes[s],{value:a,frames:l}=o,c=bP(r,a,o.ease||bj);n.push(c),i.push(l),r=a}return bR(n,i)};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bF=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let bO=bD({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),bN=bD({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),bU="0deg 75deg 105%",bV=["front","right","back","left"],bH=["upper-","","lower-"],bQ={AUTO:"auto"},bz={BASIC:"basic",WIGGLE:"wiggle"},bG={NONE:"none"},bq=()=>({basis:[v9(vJ(30,"deg"))],keywords:{auto:[null]}}),bW=()=>({basis:[v9(vJ(12,"deg"))],keywords:{auto:[null]}}),b$=(()=>{let t=v0(bU)[0].terms,n=bt(t[0]),i=bt(t[1]);return t=>({basis:[n,i,vJ(t[Cq].idealCameraDistance(),"m")],keywords:{auto:[null,null,vJ(105,"%")]}})})(),bZ=t=>{let n=2.2*t[Cq].boundingSphere.radius;return{basis:[vJ(-1/0,"rad"),vJ(Math.PI/8,"rad"),vJ(n,"m")],keywords:{auto:[null,null,null]}}},bY=t=>{let n=new bv([],b$(t)).evaluate()[2];return{basis:[vJ(1/0,"rad"),vJ(Math.PI-Math.PI/8,"rad"),vJ(n,"m")],keywords:{auto:[null,null,null]}}},bK=t=>{let n=t[Cq].boundingBox.getCenter(new uN);return{basis:[vJ(n.x,"m"),vJ(n.y,"m"),vJ(n.z,"m")],keywords:{auto:[null,null,null]}}},bX=Math.PI/2,bJ=Math.PI/3,b0=bX/2,b1=2*Math.PI,b2=Symbol("controls"),b3=Symbol("panElement"),b5=Symbol("promptElement"),b4=Symbol("promptAnimatedContainer"),b6=Symbol("fingerAnimatedContainers"),b8=Symbol("deferInteractionPrompt"),b7=Symbol("updateAria"),b9=Symbol("updateCameraForRadius"),Ae=Symbol("cancelPrompts"),At=Symbol("onChange"),An=Symbol("onPointerChange"),Ai=Symbol("waitingToPromptUser"),Ar=Symbol("userHasInteracted"),As=Symbol("promptElementVisibleTime"),Ao=Symbol("lastPromptOffset"),Aa=Symbol("cancellationSource"),Al=Symbol("lastSpherical"),Ac=Symbol("jumpCamera"),Au=Symbol("initialized"),Ad=Symbol("maintainThetaPhi"),Ap=Symbol("syncCameraOrbit"),Ah=Symbol("syncFieldOfView"),Af=Symbol("syncCameraTarget"),Am=Symbol("syncMinCameraOrbit"),Ag=Symbol("syncMaxCameraOrbit"),Ax=Symbol("syncMinFieldOfView"),Ay=Symbol("syncMaxFieldOfView"),Av=new ux,Ab=new uN,AA=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),Aw=Math.PI/8,AC={USER_INTERACTION:"user-interaction",NONE:"none",AUTOMATIC:"automatic"};class A_ extends uo{constructor(t,n,i){super(),this.camera=t,this.element=n,this.scene=i,this.orbitSensitivity=1,this.inputSensitivity=1,this.changeSource=AC.NONE,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserPointing=!1,this.enablePan=!0,this.enableTap=!0,this.panProjection=new uy,this.panPerPixel=0,this.spherical=new gR,this.goalSpherical=new gR,this.thetaDamper=new v$,this.phiDamper=new v$,this.radiusDamper=new v$,this.logFov=Math.log(AA.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new v$,this.touchMode=null,this.pointers=[],this.startTime=0,this.startPointerPosition={clientX:0,clientY:0},this.lastSeparation=0,this.touchDecided=!1,this.onContext=t=>{if(this.enablePan)t.preventDefault();else for(let t of this.pointers)this.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},this.startPointerPosition),{pointerId:t.id})))},this.touchModeZoom=(t,n)=>{if(!this._disableZoom){let t=this.twoTouchDistance(this.pointers[0],this.pointers[1]),n=.04*(this.lastSeparation-t)*50/this.scene.height;this.lastSeparation=t,this.userAdjustOrbit(0,0,n)}this.panPerPixel>0&&this.movePan(t,n)},this.disableScroll=t=>{t.preventDefault()},this.touchModeRotate=(t,n)=>{let{touchAction:i}=this._options;if(!this.touchDecided&&"none"!==i){this.touchDecided=!0;let r=Math.abs(t),s=Math.abs(n);if(this.changeSource===AC.USER_INTERACTION&&("pan-y"===i&&s>r||"pan-x"===i&&r>s)){this.touchMode=null;return}this.element.addEventListener("touchmove",this.disableScroll,{passive:!1})}this.handleSinglePointerMove(t,n)},this.onPointerDown=t=>{if(this.pointers.length>2)return;let{element:n}=this;0===this.pointers.length&&(n.addEventListener("pointermove",this.onPointerMove),n.addEventListener("pointerup",this.onPointerUp),this.touchMode=null,this.touchDecided=!1,this.startPointerPosition.clientX=t.clientX,this.startPointerPosition.clientY=t.clientY,this.startTime=performance.now());try{n.setPointerCapture(t.pointerId)}catch(t){}this.pointers.push({clientX:t.clientX,clientY:t.clientY,id:t.pointerId}),this.isUserPointing=!1,"touch"===t.pointerType?(this.changeSource=t.altKey?AC.AUTOMATIC:AC.USER_INTERACTION,this.onTouchChange(t)):(this.changeSource=AC.USER_INTERACTION,this.onMouseDown(t)),this.changeSource===AC.USER_INTERACTION&&this.dispatchEvent({type:"user-interaction"})},this.onPointerMove=t=>{let n=this.pointers.find(n=>n.id===t.pointerId);if(null==n)return;if("mouse"===t.pointerType&&0===t.buttons){this.onPointerUp(t);return}let i=this.pointers.length,r=(t.clientX-n.clientX)/i,s=(t.clientY-n.clientY)/i;(0!==r||0!==s)&&(n.clientX=t.clientX,n.clientY=t.clientY,"touch"===t.pointerType?(this.changeSource=t.altKey?AC.AUTOMATIC:AC.USER_INTERACTION,null!==this.touchMode&&this.touchMode(r,s)):(this.changeSource=AC.USER_INTERACTION,this.panPerPixel>0?this.movePan(r,s):this.handleSinglePointerMove(r,s)))},this.onPointerUp=t=>{let{element:n}=this,i=this.pointers.findIndex(n=>n.id===t.pointerId);-1!==i&&this.pointers.splice(i,1),this.panPerPixel>0&&!t.altKey&&this.resetRadius(),0===this.pointers.length?(n.removeEventListener("pointermove",this.onPointerMove),n.removeEventListener("pointerup",this.onPointerUp),n.removeEventListener("touchmove",this.disableScroll),this.enablePan&&this.enableTap&&this.recenter(t)):null!==this.touchMode&&this.onTouchChange(t),this.scene.element[b3].style.opacity=0,n.style.cursor="grab",this.panPerPixel=0,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end"})},this.onWheel=t=>{this.changeSource=AC.USER_INTERACTION;let n=t.deltaY*(1==t.deltaMode?18:1)*.04/30;this.userAdjustOrbit(0,0,n),t.preventDefault(),this.dispatchEvent({type:"user-interaction"})},this.onKeyDown=t=>{let{changeSource:n}=this;this.changeSource=AC.USER_INTERACTION,(t.shiftKey&&this.enablePan?this.panKeyCodeHandler(t):this.orbitZoomKeyCodeHandler(t))?(t.preventDefault(),this.dispatchEvent({type:"user-interaction"})):this.changeSource=n},this._options=Object.assign({},AA),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(!1===this._interactionEnabled){let{element:t}=this;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||t.addEventListener("wheel",this.onWheel),t.addEventListener("keydown",this.onKeyDown),t.addEventListener("touchmove",()=>{},{passive:!1}),t.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(!0===this._interactionEnabled){let{element:t}=this;t.removeEventListener("pointerdown",this.onPointerDown),t.removeEventListener("pointermove",this.onPointerMove),t.removeEventListener("pointerup",this.onPointerUp),t.removeEventListener("pointercancel",this.onPointerUp),t.removeEventListener("wheel",this.onWheel),t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("contextmenu",this.onContext),t.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(t){this._disableZoom!=t&&(this._disableZoom=t,!0===t?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(t=new gR){return t.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(t){Object.assign(this._options,t),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(t,n){this.camera.far=0===n?2:n,this.camera.near=Math.max(t,this.camera.far/1e3),this.camera.updateProjectionMatrix()}updateAspect(t){this.camera.aspect=t,this.camera.updateProjectionMatrix()}setOrbit(t=this.goalSpherical.theta,n=this.goalSpherical.phi,i=this.goalSpherical.radius){let{minimumAzimuthalAngle:r,maximumAzimuthalAngle:s,minimumPolarAngle:o,maximumPolarAngle:a,minimumRadius:l,maximumRadius:c}=this._options,{theta:u,phi:d,radius:p}=this.goalSpherical,h=xz(t,r,s);isFinite(r)||isFinite(s)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-h)+h);let f=xz(n,o,a),m=xz(i,l,c);return!!((h!==u||f!==d||m!==p)&&isFinite(h)&&isFinite(f)&&isFinite(m))&&(this.goalSpherical.theta=h,this.goalSpherical.phi=f,this.goalSpherical.radius=m,this.goalSpherical.makeSafe(),!0)}setRadius(t){this.goalSpherical.radius=t,this.setOrbit()}setFieldOfView(t){let{minimumFieldOfView:n,maximumFieldOfView:i}=this._options;t=xz(t,n,i),this.goalLogFov=Math.log(t)}setDamperDecayTime(t){this.thetaDamper.setDecayTime(t),this.phiDamper.setDecayTime(t),this.radiusDamper.setDecayTime(t),this.fovDamper.setDecayTime(t)}adjustOrbit(t,n,i){let{theta:r,phi:s,radius:o}=this.goalSpherical,{minimumRadius:a,maximumRadius:l,minimumFieldOfView:c,maximumFieldOfView:u}=this._options,d=this.spherical.theta-r,p=Math.PI-.001,h=r-xz(t,-p-d,p-d),f=0===i?0:((i>0?l:a)-o)/(Math.log(i>0?u:c)-this.goalLogFov),m=o+i*(isFinite(f)?f:(l-a)*2);if(this.setOrbit(h,s-n,m),0!==i){let t=this.goalLogFov+i;this.setFieldOfView(Math.exp(t))}}jumpToGoal(){this.update(0,1e4)}update(t,n){if(this.isStationary())return!1;let{maximumPolarAngle:i,maximumRadius:r}=this._options,s=this.spherical.theta-this.goalSpherical.theta;return!(Math.abs(s)>Math.PI)||isFinite(this._options.minimumAzimuthalAngle)||isFinite(this._options.maximumAzimuthalAngle)||(this.spherical.theta-=2*Math.sign(s)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,n,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,n,i),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,n,r),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,n,1),this.moveCamera(),!0}updateTouchActionStyle(){let{style:t}=this.element;if(this._interactionEnabled){let{touchAction:n}=this._options;this._disableZoom&&"none"!==n?t.touchAction="manipulation":t.touchAction=n}else t.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new dg(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix())}userAdjustOrbit(t,n,i){this.adjustOrbit(t*this.orbitSensitivity*this.inputSensitivity,n*this.orbitSensitivity*this.inputSensitivity,i*this.inputSensitivity)}wrapAngle(t){let n=(t+Math.PI)/(2*Math.PI);return 2*(n-Math.floor(n))*Math.PI-Math.PI}pixelLengthToSphericalAngle(t){return 2*Math.PI*t/this.scene.height}twoTouchDistance(t,n){let{clientX:i,clientY:r}=t,{clientX:s,clientY:o}=n,a=s-i,l=o-r;return Math.sqrt(a*a+l*l)}handleSinglePointerMove(t,n){let i=this.pixelLengthToSphericalAngle(t),r=this.pixelLengthToSphericalAngle(n);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(i,r,0)}initializePan(){let{theta:t,phi:n}=this.spherical,i=t-this.scene.yaw;this.panPerPixel=.018/this.scene.height,this.panProjection.set(-Math.cos(i),-Math.cos(n)*Math.sin(i),0,0,Math.sin(n),0,Math.sin(i),-Math.cos(n)*Math.cos(i),0)}movePan(t,n){let{scene:i}=this,r=Ab.set(t,n,0).multiplyScalar(this.inputSensitivity),s=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;r.multiplyScalar(s);let o=i.getTarget();o.add(r.applyMatrix3(this.panProjection)),i.boundingSphere.clampPoint(o,o),i.setTarget(o.x,o.y,o.z)}recenter(t){if(performance.now()>this.startTime+300||Math.abs(t.clientX-this.startPointerPosition.clientX)>2||Math.abs(t.clientY-this.startPointerPosition.clientY)>2)return;let{scene:n}=this,i=n.positionAndNormalFromPoint(n.getNDC(t.clientX,t.clientY));if(null==i){let{cameraTarget:t}=n.element;n.element.cameraTarget="",n.element.cameraTarget=t,this.userAdjustOrbit(0,0,1)}else n.target.worldToLocal(i.position),n.setTarget(i.position.x,i.position.y,i.position.z)}resetRadius(){let{scene:t}=this,n=t.positionAndNormalFromPoint(Av.set(0,0));if(null==n)return;t.target.worldToLocal(n.position);let i=t.getTarget(),{theta:r,phi:s}=this.spherical,o=r-t.yaw,a=Ab.set(Math.sin(s)*Math.sin(o),Math.cos(s),Math.sin(s)*Math.cos(o)),l=a.dot(n.position.sub(i));i.add(a.multiplyScalar(l)),t.setTarget(i.x,i.y,i.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-l)}onTouchChange(t){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom){this.touchMode=null,this.element.removeEventListener("touchmove",this.disableScroll);return}this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),t.altKey||(this.scene.element[b3].style.opacity=1))}}onMouseDown(t){this.panPerPixel=0,this.enablePan&&(2===t.button||t.ctrlKey||t.metaKey||t.shiftKey)&&(this.initializePan(),this.scene.element[b3].style.opacity=1),this.element.style.cursor="grabbing"}orbitZoomKeyCodeHandler(t){let n=!0;switch(t.key){case"PageUp":this.userAdjustOrbit(0,0,.04);break;case"PageDown":this.userAdjustOrbit(0,0,-.04);break;case"ArrowUp":this.userAdjustOrbit(0,-Aw,0);break;case"ArrowDown":this.userAdjustOrbit(0,Aw,0);break;case"ArrowLeft":this.userAdjustOrbit(-Aw,0,0);break;case"ArrowRight":this.userAdjustOrbit(Aw,0,0);break;default:n=!1}return n}panKeyCodeHandler(t){this.initializePan();let n=!0;switch(t.key){case"ArrowUp":this.movePan(0,-10);break;case"ArrowDown":this.movePan(0,10);break;case"ArrowLeft":this.movePan(-10,0);break;case"ArrowRight":this.movePan(10,0);break;default:n=!1}return n}}let AS={NOT_PRESENTING:"not-presenting",SESSION_STARTED:"session-started",OBJECT_PLACED:"object-placed",FAILED:"failed"},Ak={TRACKING:"tracking",NOT_TRACKING:"not-tracking"},AE=new uN,AM=new ds,AI=new uN,AT=new pB(45,1,.1,100);class AB extends uo{constructor(t){super(),this.renderer=t,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new uN,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new uN,this.firstRatio=0,this.lastAngle=0,this.goalPosition=new uN,this.goalYaw=0,this.goalScale=1,this.xDamper=new v$,this.yDamper=new v$,this.zDamper=new v$,this.yawDamper=new v$,this.scaleDamper=new v$,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{null!=this.placementBox&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new vX(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=t=>{let n=this.transientHitTestSource;if(null==n)return;let i=this.frame.getHitTestResultsForTransientInput(n),r=this.presentedScene,s=this.placementBox;if(1===i.length){this.inputSource=t.inputSource;let{axes:n}=this.inputSource.gamepad,i=s.getHit(this.presentedScene,n[0],n[1]);s.show=!0,null!=i?(this.isTranslating=!0,this.lastDragPosition.copy(i)):!1===this.placeOnWall&&(this.isRotating=!0,this.lastAngle=1.5*n[0])}else if(2===i.length){s.show=!0,this.isTwoFingering=!0;let{separation:t}=this.fingerPolar(i);this.firstRatio=t/r.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=t.threeRenderer,this.threeRenderer.xr.enabled=!0}async resolveARSession(){xU();let t=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:this.overlay?{root:this.overlay}:void 0});return this.threeRenderer.xr.setReferenceSpaceType("local"),await this.threeRenderer.xr.setSession(t),this.threeRenderer.xr.cameraAutoUpdate=!1,t}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return xU(),await navigator.xr.isSessionSupported("immersive-ar")}catch(t){return console.warn("Request to present in WebXR denied:"),console.warn(t),console.warn("Falling back to next ar-mode"),!1}}async present(t,n=!1){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let i=new Promise((t,n)=>{requestAnimationFrame(()=>t())});t.setHotspotsVisibility(!1),t.queueRender(),await i,this._presentedScene=t,this.overlay=t.element.shadowRoot.querySelector("div.default"),!0===n&&(this.xrLight=new vW(this.threeRenderer),this.xrLight.addEventListener("estimationstart",()=>{if(!this.isPresenting||null==this.xrLight)return;let t=this.presentedScene;t.add(this.xrLight),t.environment=this.xrLight.environment}));let r=await this.resolveARSession();r.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0});let s=t.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");s.classList.add("enabled"),s.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=s;let o=await r.requestReferenceSpace("viewer");this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=t.yaw,this.goalYaw=t.yaw,this.goalScale=1,t.background=null,this.oldShadowIntensity=t.shadowIntensity,t.setShadowIntensity(.01),this.oldTarget.copy(t.getTarget()),t.element.addEventListener("load",this.onUpdateScene);let a=20*Math.PI/180,l=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(a),z:-Math.cos(a)});r.requestHitTestSource({space:o,offsetRay:l}).then(t=>{this.initialHitSource=t}),this.currentSession=r,this.placementBox=new vX(t,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:AS.SESSION_STARTED})}async stopPresenting(){if(!this.isPresenting)return;let t=new Promise(t=>{this.resolveCleanup=t});try{await this.currentSession.end(),await t}catch(t){console.warn("Error while trying to end WebXR AR session"),console.warn(t),this.postSessionCleanup()}}get isPresenting(){return null!=this.presentedScene}get target(){return this.oldTarget}updateTarget(){let t=this.presentedScene;if(null!=t){let n=t.getTarget();this.oldTarget.copy(n),this.placeOnWall?n.z=t.boundingBox.min.z:n.y=t.boundingBox.min.y,t.setTarget(n.x,n.y,n.z)}}postSessionCleanup(){let t=this.currentSession;null!=t&&(t.removeEventListener("selectstart",this.onSelectStart),t.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);let n=this.presentedScene;if(this._presentedScene=null,null!=n){let{element:t}=n;null!=this.xrLight&&(n.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),n.position.set(0,0,0),n.scale.set(1,1,1),n.setShadowOffset(0);let i=this.turntableRotation;null!=i&&(n.yaw=i);let r=this.oldShadowIntensity;null!=r&&n.setShadowIntensity(r),n.setEnvironmentAndSkybox(t[xY],t[xK]);let s=this.oldTarget;n.setTarget(s.x,s.y,s.z),n.xrCamera=null,n.element.removeEventListener("load",this.onUpdateScene),n.orientHotspots(0),t.requestUpdate("cameraTarget"),t.requestUpdate("maxCameraOrbit"),t[CY](t.getBoundingClientRect()),requestAnimationFrame(()=>{n.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:AC.NONE}}))})}this.renderer.height=0;let i=this.exitWebXRButtonContainer;null!=i&&(i.classList.remove("enabled"),i.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);let r=this.transientHitTestSource;null!=r&&(r.cancel(),this.transientHitTestSource=null);let s=this.initialHitSource;null!=s&&(s.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:AS.NOT_PRESENTING})}updateView(t){let n=this.presentedScene,i=this.threeRenderer.xr;i.updateCamera(AT),n.xrCamera=i.getCamera();let{elements:r}=n.getCamera().matrixWorld;if(n.orientHotspots(Math.atan2(r[1],r[5])),this.initialized||(this.placeInitially(),this.initialized=!0),t.requestViewportScale&&t.recommendedViewportScale){let n=t.recommendedViewportScale;t.requestViewportScale(Math.max(n,.25))}let s=i.getBaseLayer();if(null!=s){let n=s instanceof XRWebGLLayer?s.getViewport(t):i.getBinding().getViewSubImage(s,t).viewport;this.threeRenderer.setViewport(n.x,n.y,n.width,n.height)}}placeInitially(){let t=this.presentedScene,{position:n,element:i}=t,r=t.getCamera(),{width:s,height:o}=this.overlay.getBoundingClientRect();t.setSize(s,o),r.projectionMatrixInverse.copy(r.projectionMatrix).invert();let{theta:a,radius:l}=i.getCameraOrbit(),c=r.getWorldDirection(AE);t.yaw=Math.atan2(-c.x,-c.z)-a,this.goalYaw=t.yaw,n.copy(r.position).add(c.multiplyScalar(l)),this.updateTarget();let u=t.getTarget();n.add(u).sub(this.oldTarget),this.goalPosition.copy(n),t.setHotspotsVisibility(!0);let{session:d}=this.frame;d.addEventListener("selectstart",this.onSelectStart),d.addEventListener("selectend",this.onSelectEnd),d.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(t=>{this.transientHitTestSource=t})}getTouchLocation(){let{axes:t}=this.inputSource.gamepad,n=this.placementBox.getExpandedHit(this.presentedScene,t[0],t[1]);return null!=n&&(AE.copy(n).sub(this.presentedScene.getCamera().position),AE.length()>10)?null:n}getHitPoint(t){let n=this.threeRenderer.xr.getReferenceSpace(),i=t.getPose(n);if(null==i)return null;let r=AM.fromArray(i.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(r.elements[4],r.elements[6])),r.elements[5]>.75!==this.placeOnWall?AI.setFromMatrixPosition(r):null}moveToFloor(t){let n=this.initialHitSource;if(null==n)return;let i=t.getHitTestResults(n);if(0==i.length)return;let r=i[0],s=this.getHitPoint(r);null!=s&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(s):this.goalPosition.y=s.y),n.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:AS.OBJECT_PLACED}))}fingerPolar(t){let n=t[0].inputSource.gamepad.axes,i=t[1].inputSource.gamepad.axes,r=i[0]-n[0],s=i[1]-n[1],o=Math.atan2(s,r),a=this.lastAngle-o;return a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),this.lastAngle=o,{separation:Math.sqrt(r*r+s*s),deltaYaw:a}}processInput(t){let n=this.transientHitTestSource;if(null==n||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;let i=t.getHitTestResultsForTransientInput(n),r=this.presentedScene,s=r.scale.x;if(this.isTwoFingering){if(i.length<2)this.isTwoFingering=!1;else{let{separation:t,deltaYaw:n}=this.fingerPolar(i);if(!1===this.placeOnWall&&(this.goalYaw+=n),r.canScale){let n=t/this.firstRatio;this.goalScale=n<1.3&&n>.7692307692307692?1:n}}return}if(2===i.length){this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;let{separation:t}=this.fingerPolar(i);this.firstRatio=t/s;return}if(this.isRotating){let t=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=t-this.lastAngle,this.lastAngle=t}else this.isTranslating&&i.forEach(t=>{if(t.inputSource!==this.inputSource)return;let n=null;if(t.results.length>0&&(n=this.getHitPoint(t.results[0])),null==n&&(n=this.getTouchLocation()),null!=n){if(this.goalPosition.sub(this.lastDragPosition),!1===this.placeOnWall){let t=n.y-this.lastDragPosition.y;if(t<0){this.placementBox.offsetHeight=t/s,this.presentedScene.setShadowOffset(t);let i=AE.copy(r.getCamera().position),o=-t/(i.y-n.y);i.multiplyScalar(o),n.multiplyScalar(1-o).add(i)}}this.goalPosition.add(n),this.lastDragPosition.copy(n)}})}moveScene(t){let n=this.presentedScene,{position:i,yaw:r}=n,s=n.boundingSphere.radius,o=this.goalPosition,a=n.scale.x,l=this.placementBox,c=AC.NONE;if(!o.equals(i)||this.goalScale!==a){c=AC.USER_INTERACTION;let{x:r,y:u,z:d}=i;r=this.xDamper.update(r,o.x,t,s),u=this.yDamper.update(u,o.y,t,s),d=this.zDamper.update(d,o.z,t,s),i.set(r,u,d);let p=this.scaleDamper.update(a,this.goalScale,t,1);if(n.scale.set(p,p,p),!this.isTranslating){let t=o.y-u;this.placementComplete&&!1===this.placeOnWall?(l.offsetHeight=t/p,n.setShadowOffset(t)):0===t&&(this.placementComplete=!0,l.show=!1,n.setShadowIntensity(.8))}}l.updateOpacity(t),n.updateTarget(t),n.yaw=this.yawDamper.update(r,this.goalYaw,t,Math.PI),n.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:c}}))}onWebXRFrame(t,n){this.frame=n,++this.frames;let i=this.threeRenderer.xr.getReferenceSpace(),r=n.getViewerPose(i);null==r&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:Ak.NOT_TRACKING}));let s=this.presentedScene;if(null==r||null==s||!s.element.loaded){this.threeRenderer.clear();return}!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:Ak.TRACKING}));let o=!0;for(let i of r.views){if(this.updateView(i),o){this.moveToFloor(n),this.processInput(n);let i=t-this.lastTick;this.moveScene(i),this.renderer.preRender(s,t,i),this.lastTick=t,s.renderShadow(this.threeRenderer)}this.threeRenderer.render(s,s.getCamera()),o=!1}}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(t){t.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:t,THREE:{ShaderMaterial:pI,Texture:uj,Mesh:pw,Scene:fX,PlaneGeometry:pz,OrthographicCamera:p1,WebGLRenderTarget:uR}}}))})}addScene(t){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:t}}))}removeScene(t){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:t}}))}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aj=Symbol("prepared"),AP=Symbol("prepare"),AR=Symbol("preparedGLTF"),AD=Symbol("clone");class AF{constructor(t){this[AR]=t}static prepare(t){if(null==t.scene)throw Error("Model does not have a scene");if(t[Aj])return t;let n=this[AP](t);return n[Aj]=!0,n}static[AP](t){let{scene:n}=t,i=[n];return Object.assign(Object.assign({},t),{scene:n,scenes:i})}get parser(){return this[AR].parser}get animations(){return this[AR].animations}get scene(){return this[AR].scene}get scenes(){return this[AR].scenes}get cameras(){return this[AR].cameras}get asset(){return this[AR].asset}get userData(){return this[AR].userData}clone(){return new this.constructor(this[AD]())}dispose(){this.scenes.forEach(t=>{t.traverse(t=>{t.material&&((Array.isArray(t.material)?t.material:[t.material]).forEach(t=>{for(let n in t){let i=t[n];if(i instanceof uj){let t=i.source.data;null!=t.close&&t.close(),i.dispose()}}t.dispose()}),t.geometry.dispose())})})}[AD](){let t=this[AR],n=function(t){let n=new Map,i=new Map,r=t.clone();return function t(n,i,r){r(n,i);for(let s=0;s<n.children.length;s++)t(n.children[s],i.children[s],r)}(t,r,function(t,r){n.set(r,t),i.set(t,r)}),r.traverse(function(t){if(!t.isSkinnedMesh)return;let r=n.get(t),s=r.skeleton.bones;t.skeleton=r.skeleton.clone(),t.bindMatrix.copy(r.bindMatrix),t.skeleton.bones=s.map(function(t){return i.get(t)}),t.bind(t.skeleton,t.bindMatrix)}),r}(this.scene);AO(n,this.scene);let i=[n],r=t.userData?Object.assign({},t.userData):{};return Object.assign(Object.assign({},t),{scene:n,scenes:i,userData:r})}}let AO=(t,n)=>{AN(t,n,(t,n)=>{void 0!==n.userData.variantMaterials&&(t.userData.variantMaterials=new Map(n.userData.variantMaterials)),void 0!==n.userData.variantData&&(t.userData.variantData=n.userData.variantData),void 0!==n.userData.originalMaterial&&(t.userData.originalMaterial=n.userData.originalMaterial)})},AN=(t,n,i)=>{i(t,n);for(let r=0;r<t.children.length;r++)AN(t.children[r],n.children[r],i)},AU=Symbol("threeGLTF"),AV=Symbol("gltf"),AH=Symbol("gltfElementMap"),AQ=Symbol("threeObjectMap"),Az=Symbol("parallelTraverseThreeScene"),AG=Symbol("correlateOriginalThreeGLTF"),Aq=Symbol("correlateCloneThreeGLTF");class AW{constructor(t,n,i,r){this[AU]=t,this[AV]=n,this[AH]=r,this[AQ]=i}static from(t,n){return null!=n?this[Aq](t,n):this[AG](t)}static[AG](t){let n=t.parser.json,i=t.parser.associations,r=new Map,s={name:"Default"},o={index:-1};for(let t of i.keys())t instanceof dG&&null==i.get(t)&&(o.index<0&&(null==n.materials&&(n.materials=[]),o.index=n.materials.length,n.materials.push(s)),t.name=s.name,i.set(t,{materials:o.index}));for(let[t,s]of i)for(let i in s&&(t.userData=t.userData||{},t.userData.associations=s),s)if(null!=i&&"primitives"!==i){let o=(n[i]||[])[s[i]];if(null==o)continue;let a=r.get(o);null==a&&(a=new Set,r.set(o,a)),a.add(t)}return new AW(t,n,i,r)}static[Aq](t,n){let i=n.threeGLTF,r=JSON.parse(JSON.stringify(n.gltf)),s=new Map,o=new Map;for(let a=0;a<i.scenes.length;a++)this[Az](i.scenes[a],t.scenes[a],(t,i)=>{let a=n.threeObjectMap.get(t);if(null!=a){for(let t in a)if(null!=t&&"primitives"!==t){let n=a[t],l=r[t][n],c=s.get(i)||{};c[t]=n,s.set(i,c);let u=o.get(l)||new Set;u.add(i),o.set(l,u)}}});return new AW(t,r,s,o)}static[Az](t,n,i){let r=(t,n)=>{if(i(t,n),t.isObject3D){if(t.material){if(Array.isArray(t.material))for(let r=0;r<t.material.length;++r)i(t.material[r],n.material[r]);else i(t.material,n.material)}for(let i=0;i<t.children.length;++i)r(t.children[i],n.children[i])}};r(t,n)}get threeGLTF(){return this[AU]}get gltf(){return this[AV]}get gltfElementMap(){return this[AH]}get threeObjectMap(){return this[AQ]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A$=Symbol("correlatedSceneGraph");class AZ extends AF{static[AP](t){let n=super[AP](t);null==n[A$]&&(n[A$]=AW.from(n));let{scene:i}=n,r=new u6(void 0,1/0);return i.traverse(t=>{if(t.renderOrder=1e3,t.frustumCulled=!1,t.name||(t.name=t.uuid),t.material){let{geometry:i}=t;t.castShadow=!0,t.isSkinnedMesh&&(i.boundingSphere=r,i.boundingBox=null);let s=t.material;if(!0===s.isMeshBasicMaterial&&(s.toneMapped=!1),s.shadowSide=0,s.aoMap){let{gltf:t,threeObjectMap:r}=n[A$],o=r.get(s);if(null!=t.materials&&null!=o&&null!=o.materials){let n=t.materials[o.materials];n.occlusionTexture&&0===n.occlusionTexture.texCoord&&null!=i.attributes.uv&&i.setAttribute("uv2",i.attributes.uv)}}}}),n}get correlatedSceneGraph(){return this[AR][A$]}[AD](){let t=super[AD](),n=new Map;return t.scene.traverse(t=>{if(t.material){let i=t.material;if(null!=i){if(n.has(i.uuid)){t.material=n.get(i.uuid);return}t.material=i.clone(),n.set(i.uuid,t.material)}}}),t[A$]=AW.from(t,this.correlatedSceneGraph),t}}class AY extends m9{constructor(t){super(t),this.type=1016}parse(t){let n=function(t,n){switch(t){case 1:console.error("THREE.RGBELoader Read Error: "+(n||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(n||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(n||""));break;default:console.error("THREE.RGBELoader: Error: "+(n||""))}return -1},i=function(t,n,i){n=n||1024;let r=t.pos,s=-1,o=0,a="",l=String.fromCharCode.apply(null,new Uint16Array(t.subarray(r,r+128)));for(;0>(s=l.indexOf("\n"))&&o<n&&r<t.byteLength;)a+=l,o+=l.length,r+=128,l+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(r,r+128)));return -1<s&&(!1!==i&&(t.pos+=o+s+1),a+l.slice(0,s))},r=new Uint8Array(t);r.pos=0;let s=function(t){let r,s;let o=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,l=/^\s*FORMAT=(\S+)\s*$/,c=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(t.pos>=t.byteLength||!(r=i(t)))return n(1,"no header found");if(!(s=r.match(/^#\?(\S+)/)))return n(3,"bad initial token");for(u.valid|=1,u.programtype=s[1],u.string+=r+"\n";!1!==(r=i(t));){if(u.string+=r+"\n","#"===r.charAt(0)){u.comments+=r+"\n";continue}if((s=r.match(o))&&(u.gamma=parseFloat(s[1])),(s=r.match(a))&&(u.exposure=parseFloat(s[1])),(s=r.match(l))&&(u.valid|=2,u.format=s[1]),(s=r.match(c))&&(u.valid|=4,u.height=parseInt(s[1],10),u.width=parseInt(s[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid?4&u.valid?u:n(3,"missing image size specifier"):n(3,"missing format specifier")}(r);if(-1!==s){let t=s.width,i=s.height,o=function(t,i,r){if(i<8||i>32767||2!==t[0]||2!==t[1]||128&t[2])return new Uint8Array(t);if(i!==(t[2]<<8|t[3]))return n(3,"wrong scanline width");let s=new Uint8Array(4*i*r);if(!s.length)return n(4,"unable to allocate buffer space");let o=0,a=0,l=4*i,c=new Uint8Array(4),u=new Uint8Array(l),d=r;for(;d>0&&a<t.byteLength;){if(a+4>t.byteLength)return n(1);if(c[0]=t[a++],c[1]=t[a++],c[2]=t[a++],c[3]=t[a++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=i)return n(3,"bad rgbe scanline format");let r=0,p;for(;r<l&&a<t.byteLength;){let i=(p=t[a++])>128;if(i&&(p-=128),0===p||r+p>l)return n(3,"bad scanline data");if(i){let n=t[a++];for(let t=0;t<p;t++)u[r++]=n}else u.set(t.subarray(a,a+p),r),r+=p,a+=p}for(let t=0;t<i;t++){let n=0;s[o]=u[t+n],n+=i,s[o+1]=u[t+n],n+=i,s[o+2]=u[t+n],n+=i,s[o+3]=u[t+n],o+=4}d--}return s}(r.subarray(r.pos),t,i);if(-1!==o){let n,r,a;switch(this.type){case 1015:let l=new Float32Array(4*(a=o.length/4));for(let t=0;t<a;t++)!function(t,n,i,r){let s=Math.pow(2,t[n+3]-128)/255;i[r+0]=t[n+0]*s,i[r+1]=t[n+1]*s,i[r+2]=t[n+2]*s,i[r+3]=1}(o,4*t,l,4*t);n=l,r=1015;break;case 1016:let c=new Uint16Array(4*(a=o.length/4));for(let t=0;t<a;t++)!function(t,n,i,r){let s=Math.pow(2,t[n+3]-128)/255;i[r+0]=d0.toHalfFloat(Math.min(t[n+0]*s,65504)),i[r+1]=d0.toHalfFloat(Math.min(t[n+1]*s,65504)),i[r+2]=d0.toHalfFloat(Math.min(t[n+2]*s,65504)),i[r+3]=d0.toHalfFloat(1)}(o,4*t,c,4*t);n=c,r=1016;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:t,height:i,data:n,header:s.string,gamma:s.gamma,exposure:s.exposure,type:r}}}return null}setDataType(t){return this.type=t,this}load(t,n,i,r){return super.load(t,function(t,i){switch(t.type){case 1015:case 1016:t.encoding=3e3,t.minFilter=1006,t.magFilter=1006,t.generateMipmaps=!1,t.flipY=!0}n&&n(t,i)},i,r)}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK extends fX{constructor(){super(),this.position.y=-3.5;let t=new p_;t.deleteAttribute("uv");let n=new mR({metalness:0,side:1}),i=new mR({metalness:0}),r=new gp(16777215,500,28,2);r.position.set(.418,16.199,.3),this.add(r);let s=new pw(t,n);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),this.add(s);let o=new pw(t,i);o.position.set(-10.906,2.009,1.846),o.rotation.set(0,-.195,0),o.scale.set(2.328,7.905,4.651),this.add(o);let a=new pw(t,i);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);let l=new pw(t,i);l.position.set(6.167,.857,7.803),l.rotation.set(0,.561,0),l.scale.set(3.927,6.285,3.687),this.add(l);let c=new pw(t,i);c.position.set(-2.017,.018,6.124),c.rotation.set(0,.333,0),c.scale.set(2.002,4.566,2.064),this.add(c);let u=new pw(t,i);u.position.set(2.291,-.756,-2.621),u.rotation.set(0,-.286,0),u.scale.set(1.546,1.552,1.496),this.add(u);let d=new pw(t,i);d.position.set(-2.193,-.369,-5.547),d.rotation.set(0,.516,0),d.scale.set(3.875,3.487,2.986),this.add(d);let p=new pw(t,this.createAreaLightMaterial(50));p.position.set(-16.116,14.37,8.208),p.scale.set(.1,2.428,2.739),this.add(p);let h=new pw(t,this.createAreaLightMaterial(50));h.position.set(-16.109,18.021,-8.207),h.scale.set(.1,2.425,2.751),this.add(h);let f=new pw(t,this.createAreaLightMaterial(17));f.position.set(14.904,12.198,-1.832),f.scale.set(.15,4.265,6.331),this.add(f);let m=new pw(t,this.createAreaLightMaterial(43));m.position.set(-.462,8.89,14.52),m.scale.set(4.38,5.441,.088),this.add(m);let g=new pw(t,this.createAreaLightMaterial(20));g.position.set(3.235,11.486,-12.541),g.scale.set(2.5,2,.1),this.add(g);let x=new pw(t,this.createAreaLightMaterial(100));x.position.set(0,20,0),x.scale.set(1,.1,1),this.add(x)}createAreaLightMaterial(t){let n=new dX;return n.color.setScalar(t),n}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX extends fX{constructor(){super(),this.position.y=-3.5;let t=new p_;t.deleteAttribute("uv");let n=new mR({metalness:0,side:1}),i=new mR({metalness:0}),r=new gp(16777215,400,28,2);r.position.set(.5,14,.5),this.add(r);let s=new pw(t,n);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),this.add(s);let o=new pw(t,i);o.position.set(-10.906,-1,1.846),o.rotation.set(0,-.195,0),o.scale.set(2.328,7.905,4.651),this.add(o);let a=new pw(t,i);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);let l=new pw(t,i);l.position.set(6.167,-.16,7.803),l.rotation.set(0,.561,0),l.scale.set(3.927,6.285,3.687),this.add(l);let c=new pw(t,i);c.position.set(-2.017,.018,6.124),c.rotation.set(0,.333,0),c.scale.set(2.002,4.566,2.064),this.add(c);let u=new pw(t,i);u.position.set(2.291,-.756,-2.621),u.rotation.set(0,-.286,0),u.scale.set(1.546,1.552,1.496),this.add(u);let d=new pw(t,i);d.position.set(-2.193,-.369,-5.547),d.rotation.set(0,.516,0),d.scale.set(3.875,3.487,2.986),this.add(d);let p=new pw(t,this.createAreaLightMaterial(80));p.position.set(-14,10,8),p.scale.set(.1,2.5,2.5),this.add(p);let h=new pw(t,this.createAreaLightMaterial(80));h.position.set(-14,14,-4),h.scale.set(.1,2.5,2.5),this.add(h);let f=new pw(t,this.createAreaLightMaterial(23));f.position.set(14,12,0),f.scale.set(.1,5,5),this.add(f);let m=new pw(t,this.createAreaLightMaterial(16));m.position.set(0,9,14),m.scale.set(5,5,.1),this.add(m);let g=new pw(t,this.createAreaLightMaterial(80));g.position.set(7,8,-14),g.scale.set(2.5,2.5,.1),this.add(g);let x=new pw(t,this.createAreaLightMaterial(80));x.position.set(-7,16,-14),x.scale.set(2.5,2.5,.1),this.add(x);let y=new pw(t,this.createAreaLightMaterial(1));y.position.set(0,20,0),y.scale.set(.1,.1,.1),this.add(y)}createAreaLightMaterial(t){let n=new dX;return n.color.setScalar(t),n}}let AJ=/\.hdr(\.js)?$/;class A0 extends uo{constructor(t){super(),this.threeRenderer=t,this.lottieLoaderUrl="",this.withCredentials=!1,this._ldrLoader=null,this._hdrLoader=null,this._lottieLoader=null,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}get ldrLoader(){return null==this._ldrLoader&&(this._ldrLoader=new ge),this._ldrLoader.setWithCredentials(this.withCredentials),this._ldrLoader}get hdrLoader(){return null==this._hdrLoader&&(this._hdrLoader=new AY,this._hdrLoader.setDataType(1016)),this._hdrLoader.setWithCredentials(this.withCredentials),this._hdrLoader}async getLottieLoader(){if(null==this._lottieLoader){let{LottieLoader:t}=await i(9990)(this.lottieLoaderUrl);this._lottieLoader=new t}return this._lottieLoader.setWithCredentials(this.withCredentials),this._lottieLoader}async loadImage(t){let n=await new Promise((n,i)=>this.ldrLoader.load(t,n,()=>{},i));return n.name=t,n.flipY=!1,n}async loadLottie(t,n){let i=await this.getLottieLoader();i.setQuality(n);let r=await new Promise((n,r)=>i.load(t,n,()=>{},r));return r.name=t,r}async loadEquirect(t,n=()=>{}){try{let i=AJ.test(t),r=i?this.hdrLoader:this.ldrLoader,s=await new Promise((i,s)=>r.load(t,i,t=>{n(t.loaded/t.total*.9)},s));return n(1),s.name=t,s.mapping=303,i||(s.encoding=3001),s}finally{n&&n(1)}}async generateEnvironmentMapAndSkybox(t=null,n=null,i=()=>{}){let r;let s="legacy"!==n;("legacy"===n||"neutral"===n)&&(n=null),n=xN(n);let o=Promise.resolve(null);t&&(o=this.loadEquirectFromUrl(t,i)),r=n?this.loadEquirectFromUrl(n,i):t?this.loadEquirectFromUrl(t,i):s?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();let[a,l]=await Promise.all([r,o]);if(null==a)throw Error("Failed to load environment map.");return{environmentMap:a,skybox:l}}async loadEquirectFromUrl(t,n){if(!this.skyboxCache.has(t)){let i=this.loadEquirect(t,n);this.skyboxCache.set(t,i)}return this.skyboxCache.get(t)}async GenerateEnvironmentMap(t,n){await xW();let i=this.threeRenderer,r=new pP(256,{generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!0}),s=new pL(.1,100,r),o=s.renderTarget.texture;o.name=n;let a=i.outputEncoding,l=i.toneMapping;return i.toneMapping=0,i.outputEncoding=3e3,s.update(i,t),this.blurCubemap(r,.04),i.toneMapping=l,i.outputEncoding=a,o}async loadGeneratedEnvironmentMap(){return null==this.generatedEnvironmentMap&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new AK,"legacy")),this.generatedEnvironmentMap}async loadGeneratedEnvironmentMapAlt(){return null==this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new AX,"neutral")),this.generatedEnvironmentMapAlt}blurCubemap(t,n){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(20);let t=new pw(new p_,this.blurMaterial);this.blurScene=new fX,this.blurScene.add(t)}let i=t.clone();this.halfblur(t,i,n,"latitudinal"),this.halfblur(i,t,n,"longitudinal")}halfblur(t,n,i,r){let s=t.width,o=isFinite(i)?Math.PI/(2*s):2*Math.PI/39,a=i/o,l=isFinite(i)?1+Math.floor(3*a):20;l>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${l} samples when the maximum is set to 20`);let c=[],u=0;for(let t=0;t<20;++t){let n=t/a,i=Math.exp(-n*n/2);c.push(i),0==t?u+=i:t<l&&(u+=2*i)}for(let t=0;t<c.length;t++)c[t]=c[t]/u;let d=this.blurMaterial.uniforms;d.envMap.value=t.texture,d.samples.value=l,d.weights.value=c,d.latitudinal.value="latitudinal"===r,d.dTheta.value=o,new pL(.1,100,n).update(this.threeRenderer,this.blurScene)}getBlurShader(t){let n=new Float32Array(t);return new pI({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:new uN(0,1,0)}},vertexShader:`
      
      varying vec3 vOutputDirection;
  
      void main() {
  
        vOutputDirection = vec3( position );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  
      }
    `,fragmentShader:`
        varying vec3 vOutputDirection;
  
        uniform samplerCube envMap;
        uniform int samples;
        uniform float weights[ n ];
        uniform bool latitudinal;
        uniform float dTheta;
        uniform vec3 poleAxis;
  
        vec3 getSample( float theta, vec3 axis ) {
  
          float cosTheta = cos( theta );
          // Rodrigues' axis-angle rotation
          vec3 sampleDirection = vOutputDirection * cosTheta
            + cross( axis, vOutputDirection ) * sin( theta )
            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );
  
          return vec3( textureCube( envMap, sampleDirection ) );
  
        }
  
        void main() {
  
          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );
  
          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {
  
            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );
  
          }
  
          axis = normalize( axis );
  
          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );
  
          for ( int i = 1; i < n; i++ ) {
  
            if ( i >= samples ) {
  
              break;
  
            }
  
            float theta = dTheta * float( i );
            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );
  
          }
        }
      `,blending:0,depthTest:!1,depthWrite:!1,side:1})}async dispose(){for(let[,t]of this.skyboxCache)(await t).dispose();null!=this.generatedEnvironmentMap&&((await this.generatedEnvironmentMap).dispose(),this.generatedEnvironmentMap=null),null!=this.generatedEnvironmentMapAlt&&((await this.generatedEnvironmentMapAlt).dispose(),this.generatedEnvironmentMapAlt=null),null!=this.blurMaterial&&this.blurMaterial.dispose()}}let A1=[1,.79,.62,.5,.4,.31,.25],A2="high-performance";class A3 extends uo{constructor(t){super(),this.loader=new vd(AZ),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.lastTick=performance.now(),this.renderedLastFrame=!1,this.scaleStep=0,this.lastStep=3,this.avgFrameDuration=50,this.onWebGLContextLost=t=>{this.dispatchEvent({type:"contextlost",sourceEvent:t})},this.onWebGLContextRestored=()=>{var t;for(let n of(null===(t=this.textureUtils)||void 0===t||t.dispose(),this.textureUtils=new A0(this.threeRenderer),this.scenes))n.element[xX]()},this.dpr=xG(),this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas",this.canvas3D.classList.add("show");try{this.threeRenderer=new fY({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:t.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=3001,this.threeRenderer.useLegacyLights=!1,this.threeRenderer.setPixelRatio(1),this.debugger=t.debug?new AL(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=4}catch(t){console.warn(t)}this.arRenderer=new AB(this),this.textureUtils=this.canRender?new A0(this.threeRenderer):null,vd.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize()}static get singleton(){return this._singleton}static resetSingleton(){let t=this._singleton.dispose();for(let n of t)n.disconnectedCallback();for(let n of(this._singleton=new A3({powerPreference:(self.ModelViewerElement||{}).powerPreference||A2,debug:xq()}),t))n.connectedCallback()}get canRender(){return null!=this.threeRenderer}get scaleFactor(){return A1[this.scaleStep]}set minScale(t){let n=1;for(;n<A1.length&&!(A1[n]<t);)++n;this.lastStep=n-1}registerScene(t){this.scenes.add(t),t.forceRescale();let n=new ux;this.threeRenderer.getSize(n),t.canvas.width=n.x,t.canvas.height=n.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((t,n)=>this.render(t,n)),null!=this.debugger&&this.debugger.addScene(t)}unregisterScene(t){this.scenes.delete(t),this.canvas3D.parentElement===t.canvas.parentElement&&t.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(t)}displayCanvas(t){return this.multipleScenesVisible?t.element[CG]:this.canvas3D}countVisibleScenes(){let{canvas3D:t}=this,n=0,i=null;for(let r of this.scenes){let{element:s}=r;s.modelIsVisible&&null==r.externalRenderer&&++n,t.parentElement===r.canvas.parentElement&&(i=r)}let r=n>1;if(null!=i){let n=r&&!this.multipleScenesVisible,s=!i.element.modelIsVisible;if(n||s){let{width:n,height:r}=this.sceneSize(i);this.copyPixels(i,n,r),t.parentElement.removeChild(t)}}this.multipleScenesVisible=r}updateRendererSize(){let t=xG();if(t!==this.dpr)for(let t of this.scenes){let{element:n}=t;n[CL](n.getBoundingClientRect())}let n=0,i=0;for(let t of this.scenes)n=Math.max(n,t.width),i=Math.max(i,t.height);if(n!==this.width||i!==this.height||t!==this.dpr)for(let r of(this.width=n,this.height=i,this.dpr=t,n=Math.ceil(n*t),i=Math.ceil(i*t),this.canRender&&this.threeRenderer.setSize(n,i,!1),this.scenes)){let{canvas:t}=r;t.width=n,t.height=i,r.forceRescale()}}updateRendererScale(t){let n=this.scaleStep;this.avgFrameDuration+=xz(.2*(t-this.avgFrameDuration),-5,5),this.avgFrameDuration>60?++this.scaleStep:this.avgFrameDuration<40&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),n!==this.scaleStep&&(this.avgFrameDuration=50)}shouldRender(t){if(t.shouldRender())t.scaleStep!=this.scaleStep&&(t.scaleStep=this.scaleStep,this.rescaleCanvas(t));else{if(0==t.scaleStep)return!1;t.scaleStep=0,this.rescaleCanvas(t)}return!0}rescaleCanvas(t){let n=A1[t.scaleStep],i=Math.ceil(this.width/n),r=Math.ceil(this.height/n),{style:s}=t.canvas;s.width=`${i}px`,s.height=`${r}px`,this.canvas3D.style.width=`${i}px`,this.canvas3D.style.height=`${r}px`;let o=this.dpr*n,a=n<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";t.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:o,minimumDpr:this.dpr*A1[this.lastStep],pixelWidth:Math.ceil(t.width*o),pixelHeight:Math.ceil(t.height*o),reason:a}}))}sceneSize(t){let{dpr:n}=this,i=A1[t.scaleStep];return{width:Math.min(Math.ceil(t.width*i*n),this.canvas3D.width),height:Math.min(Math.ceil(t.height*i*n),this.canvas3D.height)}}copyPixels(t,n,i){let r=t.context;if(null==r){console.log("could not acquire 2d context");return}r.clearRect(0,0,n,i),r.drawImage(this.canvas3D,0,0,n,i,0,0,n,i),t.canvas.classList.add("show")}orderedScenes(){let t=[];for(let n of[!1,!0])for(let i of this.scenes)i.element.modelIsVisible===n&&t.push(i);return t}get isPresenting(){return this.arRenderer.isPresenting}preRender(t,n,i){let{element:r,exposure:s}=t;r[C$](n,i);let o="number"==typeof s&&!Number.isNaN(s);this.threeRenderer.toneMappingExposure=o?s:1}render(t,n){if(null!=n){this.arRenderer.onWebXRFrame(t,n);return}let i=t-this.lastTick;if(this.lastTick=t,!this.canRender||this.isPresenting)return;this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(i),this.renderedLastFrame=!1);let{canvas3D:r}=this;for(let n of this.orderedScenes()){let{element:s}=n;if(!s.loaded||!s.modelIsVisible&&n.renderCount>0||(this.preRender(n,t,i),!this.shouldRender(n)))continue;if(null!=n.externalRenderer){let t=n.getCamera();t.updateMatrix();let{matrix:i,projectionMatrix:r}=t,s=i.elements.slice(),o=n.getTarget();s[12]+=o.x,s[13]+=o.y,s[14]+=o.z,n.externalRenderer.render({viewMatrix:s,projectionMatrix:r.elements});continue}if(!s.modelIsVisible&&!this.multipleScenesVisible)for(let t of this.scenes)t.element.modelIsVisible&&t.queueRender();let{width:o,height:a}=this.sceneSize(n);n.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-a,o,a),this.threeRenderer.render(n,n.camera),this.multipleScenesVisible||!n.element.modelIsVisible&&0===n.renderCount?this.copyPixels(n,o,a):r.parentElement!==n.canvas.parentElement&&(n.canvas.parentElement.appendChild(r),n.canvas.classList.remove("show")),n.hasRendered(),++n.renderCount,this.renderedLastFrame=!0}}dispose(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;let t=[];for(let n of this.scenes)t.push(n.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),t}}A3._singleton=new A3({powerPreference:(self.ModelViewerElement||{}).powerPreference||A2,debug:xq()});/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A5=Symbol("correlatedObjects"),A4=Symbol("sourceObject"),A6=Symbol("onUpdate");class A8{constructor(t,n,i=null){this[A6]=t,this[A4]=n,this[A5]=i}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A7=new dX,A9=new pz(2,2),we=0,wt=Symbol("threeTexture");class wn extends A8{get[wt](){var t;return console.assert(null!=this[A5]&&this[A5].size>0,"Image correlated object is undefined"),null===(t=this[A5])||void 0===t?void 0:t.values().next().value}constructor(t,n,i){super(t,i=null!=i?i:{name:n&&n.image&&n.image.src?n.image.src.split("/").pop():"adhoc_image",uri:n&&n.image&&n.image.src?n.image.src:"adhoc_image"+we++},new Set(n?[n]:[]))}get name(){return this[A4].name||""}get uri(){return this[A4].uri}get bufferView(){return this[A4].bufferView}get element(){let t=this[wt];if(t&&(t.isCanvasTexture||t.isVideoTexture))return t.image}get animation(){let t=this[wt];if(t&&t.isCanvasTexture&&t.animation)return t.animation}get type(){return null!=this.uri?"external":"embedded"}set name(t){this[A4].name=t}update(){let t=this[wt];t&&t.isCanvasTexture&&!t.animation&&(this[wt].needsUpdate=!0,this[A6]())}async createThumbnail(t,n){let i=new fX;A7.map=this[wt];let r=new pw(A9,A7);i.add(r);let s=new p1(-1,1,1,-1,0,1),{threeRenderer:o}=A3.singleton,a=new uR(t,n);o.setRenderTarget(a),o.render(i,s),o.setRenderTarget(null);let l=new Uint8Array(t*n*4);o.readRenderTargetPixels(a,0,0,t,n,l),Cw.width=t,Cw.height=n;let c=Cw.getContext("2d"),u=c.createImageData(t,n);return u.data.set(l),c.putImageData(u,0,0),new Promise(async(t,n)=>{Cw.toBlob(i=>{if(!i)return n("Failed to capture thumbnail.");t(URL.createObjectURL(i))},"image/png")})}}(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.NearestMipmapNearest=9984]="NearestMipmapNearest",t[t.LinearMipmapNearest=9985]="LinearMipmapNearest",t[t.NearestMipmapLinear=9986]="NearestMipmapLinear",t[t.LinearMipmapLinear=9987]="LinearMipmapLinear"})(Be||(Be={})),function(t){t[t.ClampToEdge=33071]="ClampToEdge",t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.Repeat=10497]="Repeat"}(Bt||(Bt={}));/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wi=(()=>{let t=[Be.Nearest,Be.Linear,Be.NearestMipmapNearest,Be.LinearMipmapLinear,Be.NearestMipmapLinear,Be.LinearMipmapLinear];return n=>t.indexOf(n)>-1})(),wr=(()=>{let t=[Be.Nearest,Be.Linear];return n=>t.indexOf(n)>-1})(),ws=(()=>{let t=[Bt.ClampToEdge,Bt.MirroredRepeat,Bt.Repeat];return n=>t.indexOf(n)>-1})(),wo=(t,n)=>{switch(t){case"minFilter":return wi(n);case"magFilter":return wr(n);case"wrapS":case"wrapT":return ws(n);default:throw Error(`Cannot configure property "${t}" on Sampler`)}},wa=Symbol("threeTextures"),wl=Symbol("setProperty"),wc=Symbol("sourceSampler");class wu extends A8{get[wa](){return console.assert(null!=this[A5]&&this[A5].size>0,"Sampler correlated object is undefined"),this[A5]}get[wc](){return console.assert(null!=this[A4],"Sampler source is undefined"),this[A4]}constructor(t,n,i){null==(i=null!=i?i:{}).minFilter&&(i.minFilter=n?n.minFilter:Be.LinearMipmapLinear),null==i.magFilter&&(i.magFilter=n?n.magFilter:Be.Linear),null==i.wrapS&&(i.wrapS=n?n.wrapS:Bt.Repeat),null==i.wrapT&&(i.wrapT=n?n.wrapT:Bt.Repeat),super(t,i,new Set(n?[n]:[]))}get name(){return this[A4].name||""}get minFilter(){return this[wc].minFilter}get magFilter(){return this[wc].magFilter}get wrapS(){return this[wc].wrapS}get wrapT(){return this[wc].wrapT}setMinFilter(t){this[wl]("minFilter",t)}setMagFilter(t){this[wl]("magFilter",t)}setWrapS(t){this[wl]("wrapS",t)}setWrapT(t){this[wl]("wrapT",t)}[wl](t,n){let i=this[wc];if(null!=i){if(wo(t,n))for(let r of(i[t]=n,this[wa]))r[t]=n,r.needsUpdate=!0;this[A6]()}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=Symbol("image"),wp=Symbol("sampler");class wh extends A8{constructor(t,n,i=null,r=null,s=null){super(t,i||{},new Set(n?[n]:[])),this[wp]=new wu(t,n,r),this[wd]=new wn(t,n,s)}get name(){return this[A4].name||""}set name(t){this[A4].name=t}get sampler(){return this[wp]}get source(){return this[wd]}}let wf=Symbol("texture"),wm=Symbol("transform"),wg=Symbol("materials"),wx=Symbol("usage"),wy=Symbol("onUpdate"),wv=Symbol("activeVideo");!function(t){t[t.Base=0]="Base",t[t.MetallicRoughness=1]="MetallicRoughness",t[t.Normal=2]="Normal",t[t.Occlusion=3]="Occlusion",t[t.Emissive=4]="Emissive"}(Bs||(Bs={}));class wb{constructor(t,n,i,r,s,o){if(this[Bn]=null,this[Bi]={rotation:0,scale:new ux(1,1),offset:new ux(0,0)},this[Br]=!1,o&&i){let n=s.textures?s.textures[o.index]:null,r=n&&s.samplers?s.samplers[n.sampler]:null,a=n&&s.images?s.images[n.source]:null;this[wm].rotation=i.rotation,this[wm].scale.copy(i.repeat),this[wm].offset.copy(i.offset),this[wf]=new wh(t,i,n,r,a)}this[wy]=t,this[wg]=r,this[wx]=n}get texture(){return this[wf]}setTexture(t){var n,i;let r=null!=t?t.source[wt]:null,s=null===(n=this[wf])||void 0===n?void 0:n.source[wt];if(null!=s&&s.isVideoTexture?this[wv]=!1:(null===(i=this[wf])||void 0===i?void 0:i.source.animation)&&this[wf].source.animation.removeEventListener("enterFrame",this[wy]),this[wf]=t,null!=r&&r.isVideoTexture){let t=r.image;if(this[wv]=!0,null!=t.requestVideoFrameCallback){let n=()=>{this[wv]&&(this[wy](),t.requestVideoFrameCallback(n))};t.requestVideoFrameCallback(n)}else{let t=()=>{this[wv]&&(this[wy](),requestAnimationFrame(t))};requestAnimationFrame(t)}}else(null==t?void 0:t.source.animation)!=null&&t.source.animation.addEventListener("enterFrame",this[wy]);let o=3001;if(this[wg])for(let t of this[wg]){switch(this[wx]){case Bs.Base:t.map=r;break;case Bs.MetallicRoughness:o=3e3,t.metalnessMap=r,t.roughnessMap=r;break;case Bs.Normal:o=3e3,t.normalMap=r;break;case Bs.Occlusion:o=3e3,t.aoMap=r;break;case Bs.Emissive:t.emissiveMap=r}t.needsUpdate=!0}r&&(r.encoding=o,r.rotation=this[wm].rotation,r.repeat=this[wm].scale,r.offset=this[wm].offset),this[wy]()}}Bn=wf,Bi=wm,Br=wv;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wA=Symbol("threeMaterials"),ww=Symbol("baseColorTexture"),wC=Symbol("metallicRoughnessTexture");class w_ extends A8{constructor(t,n,i,r){super(t,i,r),null==i.baseColorFactor&&(i.baseColorFactor=[1,1,1,1]),null==i.roughnessFactor&&(i.roughnessFactor=1),null==i.metallicFactor&&(i.metallicFactor=1);let{baseColorTexture:s,metallicRoughnessTexture:o}=i,{map:a,metalnessMap:l}=r.values().next().value;this[ww]=new wb(t,Bs.Base,a,r,n,s||null),this[wC]=new wb(t,Bs.MetallicRoughness,l,r,n,o||null)}get[wA](){return this[A5]}get baseColorFactor(){return this[A4].baseColorFactor}get metallicFactor(){return this[A4].metallicFactor}get roughnessFactor(){return this[A4].roughnessFactor}get baseColorTexture(){return this[ww]}get metallicRoughnessTexture(){return this[wC]}setBaseColorFactor(t){let n=new dY;for(let i of(t instanceof Array?n.fromArray(t):n.set(t).convertSRGBToLinear(),this[wA]))i.color.set(n),t instanceof Array?i.opacity=t[3]:(t=[0,0,0,i.opacity],n.toArray(t));this[A4].baseColorFactor=t,this[A6]()}setMetallicFactor(t){for(let n of this[wA])n.metalness=t;this[A4].metallicFactor=t,this[A6]()}setRoughnessFactor(t){for(let n of this[wA])n.roughness=t;this[A4].roughnessFactor=t,this[A6]()}}let wS=Symbol("pbrMetallicRoughness"),wk=Symbol("normalTexture"),wE=Symbol("occlusionTexture"),wM=Symbol("emissiveTexture"),wI=Symbol("backingThreeMaterial"),wT=Symbol("applyAlphaCutoff"),wB=Symbol("lazyLoadGLTFInfo"),wL=Symbol("initialize"),wj=Symbol("getLoadedMaterial"),wP=Symbol("ensureMaterialIsLoaded"),wR=Symbol("gltfIndex"),wD=Symbol("setActive"),wF=Symbol("variantIndices"),wO=Symbol("isActive"),wN=Symbol("variantSet"),wU=Symbol("modelVariants");class wV extends A8{constructor(t,n,i,r,s,o,a,l){super(t,i,a),this[Bo]=new Set,this[wR]=r,this[wO]=s,this[wU]=o,null==l?this[wL](n):this[wB]=l}get[(Bo=wN,wI)](){return this[A5].values().next().value}[wL](t){let n=this[A6],i=this[A4],r=this[A5];i.extensions&&i.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn(`Material ${i.name} uses a deprecated extension
          "KHR_materials_pbrSpecularGlossiness", please use
          "pbrMetallicRoughness" instead. Specular Glossiness materials are
          no longer supported; to convert to metal-rough, see 
          https://www.donmccurdy.com/2022/11/28/converting-gltf-pbr-materials-from-specgloss-to-metalrough/.`),null==i.pbrMetallicRoughness&&(i.pbrMetallicRoughness={}),this[wS]=new w_(n,t,i.pbrMetallicRoughness,r),null==i.emissiveFactor&&(i.emissiveFactor=[0,0,0]),null==i.doubleSided&&(i.doubleSided=!1),null==i.alphaMode&&(i.alphaMode="OPAQUE"),null==i.alphaCutoff&&(i.alphaCutoff=.5);let{normalTexture:s,occlusionTexture:o,emissiveTexture:a}=i,{normalMap:l,aoMap:c,emissiveMap:u}=r.values().next().value;this[wk]=new wb(n,Bs.Normal,l,r,t,s||null),this[wE]=new wb(n,Bs.Occlusion,c,r,t,o||null),this[wM]=new wb(n,Bs.Emissive,u,r,t,a||null)}async [wj](){if(null!=this[wB]){let{set:t,material:n}=await this[wB].doLazyLoad();return this[A5]=t,this[wL](this[wB].gltf),this[wB]=void 0,this.ensureLoaded=async()=>{},n}return this[A5].values().next().value}[wP](){if(null!=this[wB])throw Error(`Material "${this.name}" has not been loaded, call 'await
    myMaterial.ensureLoaded()' before using an unloaded material.`)}async ensureLoaded(){await this[wj]()}get isLoaded(){return null==this[wB]}get isActive(){return this[wO]}[wD](t){this[wO]=t}get name(){return this[A4].name}set name(t){let n=this[A4];if(null!=n&&(n.name=t),null!=this[A5])for(let n of this[A5])n.name=t}get pbrMetallicRoughness(){return this[wP](),this[wS]}get normalTexture(){return this[wP](),this[wk]}get occlusionTexture(){return this[wP](),this[wE]}get emissiveTexture(){return this[wP](),this[wM]}get emissiveFactor(){return this[wP](),this[A4].emissiveFactor}get index(){return this[wR]}[wF](){return this[wN]}hasVariant(t){let n=this[wU].get(t);return null!=n&&this[wN].has(n.index)}setEmissiveFactor(t){this[wP]();let n=new dY;for(let i of(t instanceof Array?n.fromArray(t):n.set(t).convertSRGBToLinear(),this[A5]))i.emissive.set(n);this[A4].emissiveFactor=n.toArray(),this[A6]()}[wT](){this[wP]();let t=this[A4];for(let n of this[A5])"MASK"===this[A4].alphaMode?n.alphaTest=t.alphaCutoff:n.alphaTest=void 0,n.needsUpdate=!0}setAlphaCutoff(t){this[wP](),this[A4].alphaCutoff=t,this[wT](),this[A6]()}getAlphaCutoff(){return this[wP](),this[A4].alphaCutoff}setDoubleSided(t){for(let n of(this[wP](),this[A5]))n.side=t?2:0,n.needsUpdate=!0;this[A4].doubleSided=t,this[A6]()}getDoubleSided(){return this[wP](),this[A4].doubleSided}setAlphaMode(t){this[wP]();let n=(t,n)=>{t.transparent=n,t.depthWrite=!n};for(let i of(this[A4].alphaMode=t,this[A5]))n(i,"BLEND"===t),this[wT](),i.needsUpdate=!0;this[A6]()}getAlphaMode(){return this[wP](),this[A4].alphaMode}}class wH{constructor(t){this.name="",this.children=[],this.name=t}}class wQ extends wH{constructor(t,n,i,r){super(t.name),this.materials=new Map,this.variantToMaterialMap=new Map,this.initialMaterialIdx=0,this.activeMaterialIdx=0,this.mesh=t;let{gltf:s,threeGLTF:o,threeObjectMap:a}=r;this.modelVariants=i,this.mesh.userData.variantData=i;let l=a.get(t.material);null!=l.materials?this.initialMaterialIdx=this.activeMaterialIdx=l.materials:console.error(`Primitive (${t.name}) missing initial material reference.`);let c=t.userData.associations||{};if(null==c.meshes){console.error("Mesh is missing primitive index association");return}let u=((s.meshes||[])[c.meshes].primitives||[])[c.primitives];if(null==u){console.error("Mesh primitive definition is missing.");return}if(null!=u.material)this.materials.set(u.material,n[u.material]);else{let t=n.findIndex(t=>"Default"===t.name);t>=0?this.materials.set(t,n[t]):console.warn("gltfPrimitive has no material!")}if(u.extensions&&u.extensions.KHR_materials_variants){let t=u.extensions.KHR_materials_variants,r=o.parser.json.extensions.KHR_materials_variants.variants;for(let s of t.mappings){let t=n[s.material];for(let n of(this.materials.set(s.material,t),s.variants)){let{name:s}=r[n];this.variantToMaterialMap.set(n,t),t[wF]().add(n),i.has(s)||i.set(s,{name:s,index:n})}}}}async setActiveMaterial(t){let n=this.materials.get(t);return null!=n&&(this.mesh.material=await n[wj](),this.activeMaterialIdx=t),this.mesh.material}getActiveMaterial(){return this.materials.get(this.activeMaterialIdx)}getMaterial(t){return this.materials.get(t)}async enableVariant(t){if(null==t)return this.setActiveMaterial(this.initialMaterialIdx);if(null!=this.variantToMaterialMap&&this.modelVariants.has(t)){let n=this.modelVariants.get(t);return this.enableVariantHelper(n.index)}return null}async enableVariantHelper(t){if(null!=this.variantToMaterialMap&&null!=t){let n=this.variantToMaterialMap.get(t);if(null!=n)return this.setActiveMaterial(n.index)}return null}async instantiateVariants(){if(null!=this.variantToMaterialMap)for(let t of this.variantToMaterialMap.keys()){let n=this.mesh.userData.variantMaterials.get(t);if(null!=n.material)continue;let i=await this.enableVariantHelper(t);null!=i&&(n.material=i)}}get variantInfo(){return this.variantToMaterialMap}addVariant(t,n){if(!this.ensureVariantIsUnused(n))return!1;this.modelVariants.has(n)||this.modelVariants.set(n,{name:n,index:this.modelVariants.size});let i=this.modelVariants.get(n).index;return t[wF]().add(i),this.variantToMaterialMap.set(i,t),this.materials.set(t.index,t),this.updateVariantUserData(i,t),!0}deleteVariant(t){if(this.variantInfo.has(t)){this.variantInfo.delete(t);let n=this.mesh.userData.variantMaterials;null!=n&&n.delete(t)}}updateVariantUserData(t,n){n[wF]().add(t),this.mesh.userData.variantData=this.modelVariants,this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(t,{material:n[A5].values().next().value,gltfMaterialIndex:n.index})}ensureVariantIsUnused(t){let n=this.modelVariants.get(t);return!(null!=n&&this.variantInfo.has(n.index))||(console.warn(`Primitive cannot add variant '${t}' for this material, it already exists.`),!1)}}let wz=Symbol("materials"),wG=Symbol("hierarchy"),wq=Symbol("roots"),wW=Symbol("primitives"),w$=Symbol("correlatedSceneGraph"),wZ=Symbol("prepareVariantsForExport"),wY=Symbol("switchVariant"),wK=Symbol("materialFromPoint"),wX=Symbol("nodeFromPoint"),wJ=Symbol("nodeFromIndex"),w0=Symbol("variantData"),w1=Symbol("availableVariants"),w2=Symbol("modelOnUpdate"),w3=Symbol("cloneMaterial");class w5{constructor(t,n,i,r){this.gltf=t,this.gltfElementMap=n,this.mapKey=i,this.doLazyLoad=r}}class w4{constructor(t,n=()=>{}){this[Ba]=[],this[Bl]=[],this[Bc]=[],this[Bu]=[],this[Bd]=()=>{},this[Bp]=new Map,this[w2]=n,this[w$]=t;let{gltf:i,threeGLTF:r,gltfElementMap:s}=t;for(let[t,o]of i.materials.entries()){let a=s.get(o);if(null!=a)this[wz].push(new wV(n,i,o,t,!0,this[w0],a));else{let o=(i.materials||[])[t],l=t,c=async()=>{let t=await r.parser.getDependency("material",l),n=new Set;return s.set(o,n),n.add(t),{set:n,material:t}};this[wz].push(new wV(n,i,o,t,!1,this[w0],a,new w5(i,s,o,c)))}}let o=new Map,a=[];for(let t of r.scene.children)a.push(t);for(;a.length>0;){let n=a.pop(),i=null;n instanceof pw?(i=new wQ(n,this.materials,this[w0],t),this[wW].push(i)):i=new wH(n.name);let r=o.get(n);for(let t of(null!=r?r.children.push(i):this[wq].push(i),this[wG].push(i),n.children))a.push(t),o.set(n,i)}}get materials(){return this[wz]}[(Ba=wz,Bl=wG,Bc=wq,Bu=wW,Bd=w2,Bp=w0,w1)](){let t=Array.from(this[w0].values());return t.sort((t,n)=>t.index-n.index),t.map(t=>t.name)}getMaterialByName(t){let n=this[wz].filter(n=>n.name===t);return n.length>0?n[0]:null}[wJ](t,n){let i=this[wG].find(i=>{if(i instanceof wQ){let{meshes:r,primitives:s}=i.mesh.userData.associations;if(r==t&&s==n)return!0}return!1});return null==i?null:i}[wX](t){return this[wG].find(n=>n instanceof wQ&&n.mesh===t.object)}[wK](t){return this[wX](t).getActiveMaterial()}async [wY](t){for(let n of this[wW])await n.enableVariant(t);for(let t of this.materials)t[wD](!1);for(let t of this[wW])this.materials[t.getActiveMaterial().index][wD](!0)}async [wZ](){let t=[];for(let n of this[wW])t.push(n.instantiateVariants());await Promise.all(t)}[w3](t,n){let i=this.materials[t];i.isLoaded||console.error(`Cloning an unloaded material,
           call 'material.ensureLoaded() before cloning the material.`);let r=i[A5],s=JSON.parse(JSON.stringify(i[A4]));s.name=n,this[w$].gltf.materials.push(s);let o=new Set;for(let[t,i]of r.entries()){let s=i.clone();s.name=n+(r.size>1?"_inst"+t:""),o.add(s)}let a=new wV(this[w2],this[w$].gltf,s,this[wz].length,!1,this[w0],o);return this[wz].push(a),a}createMaterialInstanceForVariant(t,n,i,r=!0){let s=null;for(let r of this[wW]){let o=this[w0].get(i);null!=o&&r.variantInfo.has(o.index)||null==r.getMaterial(t)||(this.hasVariant(i)||this.createVariant(i),null==s&&(s=this[w3](t,n)),r.addVariant(s,i))}if(r&&null!=s)for(let n of(s[wD](!0),this.materials[t][wD](!1),this[wW]))n.enableVariant(i);return s}createVariant(t){this[w0].has(t)?console.warn(`Variant '${t}'' already exists`):this[w0].set(t,{name:t,index:this[w0].size})}hasVariant(t){return this[w0].has(t)}setMaterialToVariant(t,n){if(null==this[w1]().find(t=>t===n)){console.warn(`Can't add material to '${n}', the variant does not exist.'`);return}if(t<0||t>=this.materials.length){console.error("setMaterialToVariant(): materialIndex is out of bounds.");return}for(let i of this[wW]){let r=i.getMaterial(t);null!=r&&i.addVariant(r,n)}}updateVariantName(t,n){let i=this[w0].get(t);null!=i&&(i.name=n,this[w0].set(n,i),this[w0].delete(t))}deleteVariant(t){let n=this[w0].get(t);if(null!=n){for(let i of this.materials)i.hasVariant(t)&&i[wN].delete(n.index);for(let t of this[wW])t.deleteVariant(n.index);this[w0].delete(t)}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w6=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let w8=Symbol("currentGLTF"),w7=Symbol("originalGltfJson"),w9=Symbol("model"),Ce=Symbol("getOnUpdateMethod"),Ct=Symbol("buildTexture"),Cn=new uN,Ci=new uN,Cr=new uN,Cs=new uy,Co=new dQ,Ca=new uO;class Cl extends vp{constructor(t){super(document.createElement("div")),this.normal=new uN(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=t.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(t.position),this.updateNormal(t.normal),this.surface=t.surface}get facingCamera(){return!this.element.classList.contains("hide")}show(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}updatePosition(t){if(null==t)return;let n=v0(t)[0].terms;for(let t=0;t<3;++t)this.position.setComponent(t,bt(n[t]).number);this.updateMatrixWorld()}updateNormal(t){if(null==t)return;let n=v0(t)[0].terms;for(let t=0;t<3;++t)this.normal.setComponent(t,n[t].number)}updateSurface(t){if(!t&&this.initialized)return;let{mesh:n,tri:i,bary:r}=this;if(null==n||null==i||null==r)return;n.getVertexPosition(i.x,Cn),n.getVertexPosition(i.y,Ci),n.getVertexPosition(i.z,Cr),Cn.toArray(Cs.elements,0),Ci.toArray(Cs.elements,3),Cr.toArray(Cs.elements,6),this.position.copy(r).applyMatrix3(Cs);let s=this.parent;s.worldToLocal(n.localToWorld(this.position)),Co.set(Cn,Ci,Cr),Co.getNormal(this.normal).transformDirection(n.matrixWorld);let o=s.parent;Ca.setFromAxisAngle(Cn.set(0,1,0),-o.yaw),this.normal.applyQuaternion(Ca)}orient(t){this.pivot.style.transform=`rotate(${t}rad)`}updateVisibility(t){t?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(n=>{if(n.nodeType!==Node.ELEMENT_NODE)return;let i=n.dataset.visibilityAttribute;if(null!=i){let r=`data-${i}`;t?n.setAttribute(r,""):n.removeAttribute(r)}n.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:t}}))}),this.initialized=!0}}let Cc={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float h;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

			gl_FragColor = sum;

		}`},Cu={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform float v;

		varying vec2 vUv;

		void main() {

			vec4 sum = vec4( 0.0 );

			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
			sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

			gl_FragColor = sum;

		}`};class Cd extends dB{constructor(t,n,i){super(),this.camera=new p1,this.renderTarget=null,this.renderTargetBlur=null,this.depthMaterial=new fD,this.horizontalBlurMaterial=new pI(Cc),this.verticalBlurMaterial=new pI(Cu),this.intensity=0,this.softness=1,this.boundingBox=new uH,this.size=new uN,this.maxDimension=0,this.isAnimated=!1,this.needsUpdate=!1;let{camera:r}=this;r.rotation.x=Math.PI/2,r.left=-.5,r.right=.5,r.bottom=-.5,r.top=.5,this.add(r);let s=new pz,o=new dX({opacity:1,transparent:!0,side:1});this.floor=new pw(s,o),this.floor.userData.shadow=!0,r.add(this.floor),this.blurPlane=new pw(s),this.blurPlane.visible=!1,r.add(this.blurPlane),t.target.add(this),this.depthMaterial.onBeforeCompile=function(t){t.fragmentShader=t.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial.depthTest=!1,this.setScene(t,n,i)}setScene(t,n,i){let{boundingBox:r,size:s,rotation:o,position:a}=this;if(this.isAnimated=t.animationNames.length>0,this.boundingBox.copy(t.boundingBox),this.size.copy(t.size),this.maxDimension=Math.max(s.x,s.y,s.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(a),"back"===i){let{min:t,max:n}=r;[t.y,t.z]=[t.z,t.y],[n.y,n.z]=[n.z,n.y],[s.y,s.z]=[s.z,s.y],o.x=Math.PI/2,o.y=Math.PI}else o.x=0,o.y=0;if(this.isAnimated){let t=r.min.y,n=r.max.y;s.y=this.maxDimension,r.expandByVector(s.subScalar(this.maxDimension).multiplyScalar(-.5)),r.min.y=t,r.max.y=n,s.set(this.maxDimension,n-t,this.maxDimension)}"bottom"===i?a.y=r.min.y:a.z=r.min.y,this.setSoftness(n)}setSoftness(t){this.softness=t;let{size:n,camera:i}=this,r=this.isAnimated?2:1;this.setMapSize(r*Math.pow(2,9-3*t));let s=n.y/2,o=n.y*r;i.near=0,i.far=(1-t)*o+t*s,this.depthMaterial.opacity=1/t,i.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}setMapSize(t){let{size:n}=this;this.isAnimated&&(t*=2);let i=Math.floor(n.x>n.z?t:t*n.x/n.z),r=Math.floor(n.x>n.z?t*n.z/n.x:t),s=10+i,o=10+r;if(null!=this.renderTarget&&(this.renderTarget.width!==s||this.renderTarget.height!==o)&&(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){let t={format:1023};this.renderTarget=new uR(s,o,t),this.renderTargetBlur=new uR(s,o,t),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(n.x*(1+10/i),n.z*(1+10/r),1),this.needsUpdate=!0}setIntensity(t){if(this.intensity=t,t>0){var n;this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=t*((1-(n=this.softness*this.softness))*.3+1*n)}else this.visible=!1,this.floor.visible=!1}getIntensity(){return this.intensity}setOffset(t){this.floor.position.z=-t+.001*this.maxDimension}render(t,n){n.overrideMaterial=this.depthMaterial;let i=t.getClearAlpha();t.setClearAlpha(0),this.floor.visible=!1;let r=t.xr.enabled;t.xr.enabled=!1;let s=t.getRenderTarget();t.setRenderTarget(this.renderTarget),t.render(n,this.camera),n.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(t),t.xr.enabled=r,t.setRenderTarget(s),t.setClearAlpha(i)}blurShadow(t){let{camera:n,horizontalBlurMaterial:i,verticalBlurMaterial:r,renderTarget:s,renderTargetBlur:o,blurPlane:a}=this;a.visible=!0,a.material=i,i.uniforms.h.value=1/this.renderTarget.width,i.uniforms.tDiffuse.value=this.renderTarget.texture,t.setRenderTarget(o),t.render(a,n),a.material=r,r.uniforms.v.value=1/this.renderTarget.height,r.uniforms.tDiffuse.value=this.renderTargetBlur.texture,t.setRenderTarget(s),t.render(a,n),a.visible=!1}dispose(){null!=this.renderTarget&&this.renderTarget.dispose(),null!=this.renderTargetBlur&&this.renderTargetBlur.dispose(),this.depthMaterial.dispose(),this.horizontalBlurMaterial.dispose(),this.verticalBlurMaterial.dispose(),this.floor.material.dispose(),this.floor.geometry.dispose(),this.blurPlane.geometry.dispose(),this.removeFromParent()}}let Cp=new uN,Ch=new uN,Cf=new uN,Cm=new gL,Cg=new uN,Cx=new ux;class Cy extends fX{constructor({canvas:t,element:n,width:i,height:r}){super(),this.annotationRenderer=new vy,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.scaleStep=0,this.renderCount=0,this.externalRenderer=null,this.camera=new pB(45,1,.1,100),this.xrCamera=null,this.url=null,this.target=new dB,this.animationNames=[],this.boundingBox=new uH,this.boundingSphere=new u6,this.size=new uN,this.idealAspect=0,this.framedFoVDeg=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.bakedShadows=new Set,this.exposure=1,this.canScale=!0,this.isDirty=!1,this.goalTarget=new uN,this.targetDamperX=new v$,this.targetDamperY=new v$,this.targetDamperZ=new v$,this._currentGLTF=null,this._model=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=n,this.canvas=t,this.camera=new pB(45,1,.1,100),this.camera.name="MainCamera",this.add(this.target),this.setSize(i,r),this.target.name="Target",this.mixer=new gB(this.target);let{domElement:s}=this.annotationRenderer,{style:o}=s;o.display="none",o.pointerEvents="none",o.position="absolute",o.top="0",this.element.shadowRoot.querySelector(".default").appendChild(s),this.schemaElement.setAttribute("type","application/ld+json")}get context(){return this.canvas.getContext("2d")}getCamera(){return null!=this.xrCamera?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}forceRescale(){this.scaleStep=-1,this.queueRender()}async setObject(t){this.reset(),this._model=t,this.target.add(t),await this.setupScene()}async setSource(t,n=()=>{}){let i;if(!t||t===this.url){n(1);return}if(this.reset(),this.url=t,null!=this.externalRenderer){let t=await this.externalRenderer.load(n);this.boundingSphere.radius=t.framedRadius,this.idealAspect=t.fieldOfViewAspect;return}null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);try{i=await new Promise(async(i,r)=>{this.cancelPendingSourceChange=()=>r();try{let r=await this.element[CK].loader.load(t,this.element,n);i(r)}catch(t){r(t)}})}catch(t){if(null==t)return;throw t}this.cancelPendingSourceChange=null,this.reset(),this.url=t,this._currentGLTF=i,null!=i&&(this._model=i.scene,this.target.add(i.scene));let{animations:r}=i,s=new Map,o=[];for(let t of r)s.set(t.name,t),o.push(t.name);this.animations=r,this.animationsByName=s,this.animationNames=o,await this.setupScene()}async setupScene(){this.applyTransform(),this.updateBoundingBox(),await this.updateFraming(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity)}reset(){this.url=null,this.renderCount=0,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();let{_model:t}=this;null!=t&&(t.removeFromParent(),this._model=null);let n=this._currentGLTF;null!=n&&(n.dispose(),this._currentGLTF=null),null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}dispose(){this.reset(),null!=this.shadow&&(this.shadow.dispose(),this.shadow=null),this.element[w8]=null,this.element[w7]=null,this.element[w9]=null}get currentGLTF(){return this._currentGLTF}setSize(t,n){if(this.width!==t||this.height!==n){if(this.width=Math.max(t,1),this.height=Math.max(n,1),this.annotationRenderer.setSize(t,n),this.aspect=this.width/this.height,null!=this.externalRenderer){let i=xG();this.externalRenderer.resize(t*i,n*i)}this.queueRender()}}markBakedShadow(t){t.userData.shadow=!0,this.bakedShadows.add(t)}unmarkBakedShadow(t){t.userData.shadow=!1,t.visible=!0,this.bakedShadows.delete(t),this.boundingBox.expandByObject(t)}findBakedShadows(t){let n=new uH;t.traverse(t=>{if(!t.material||!t.material.transparent)return;n.setFromObject(t);let i=n.getSize(Cg),r=Math.min(i.x,i.y,i.z);Math.max(i.x,i.y,i.z)<100*r||this.markBakedShadow(t)})}checkBakedShadows(){let{min:t,max:n}=this.boundingBox,i=new uH;for(let r of(this.boundingBox.getSize(this.size),this.bakedShadows))i.setFromObject(r),i.min.y<t.y+this.size.y/100&&i.min.x<=t.x&&i.max.x>=n.x&&i.min.z<=t.z&&i.max.z>=n.z||i.min.z<t.z+this.size.z/100&&i.min.x<=t.x&&i.max.x>=n.x&&i.min.y<=t.y&&i.max.y>=n.y||this.unmarkBakedShadow(r)}applyTransform(){let{model:t}=this;if(null==t)return;let n=v0(this.element.orientation)[0].terms,i=bt(n[0]).number,r=bt(n[1]).number,s=bt(n[2]).number;t.quaternion.setFromEuler(new dg(r,s,i,"YXZ"));let o=v0(this.element.scale)[0].terms;t.scale.set(o[0].number,o[1].number,o[2].number)}updateBoundingBox(){let{model:t}=this;if(null==t)return;this.target.remove(t),this.findBakedShadows(t);let n=(t,n)=>t.expandByPoint(n);this.setBakedShadowVisibility(!1),this.boundingBox=vv(t,n,new uH),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach(t=>this.unmarkBakedShadow(t)),this.boundingBox=vv(t,n,new uH)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(t)}async updateFraming(){let{model:t}=this;if(null==t)return;this.target.remove(t),this.setBakedShadowVisibility(!1);let{center:n}=this.boundingSphere;this.element.requestUpdate("cameraTarget"),await this.element.updateComplete,n.copy(this.getTarget()),this.boundingSphere.radius=Math.sqrt(vv(t,(t,i)=>Math.max(t,n.distanceToSquared(i)),0)),this.idealAspect=vv(t,(t,i)=>(i.sub(n),Math.max(t,Math.sqrt(i.x*i.x+i.z*i.z)/(this.idealCameraDistance()-Math.abs(i.y)))),0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.setBakedShadowVisibility(),this.target.add(t)}setBakedShadowVisibility(t=this.shadowIntensity<=0){for(let n of this.bakedShadows)n.visible=t}idealCameraDistance(){let t=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(t)}adjustedFoV(t){return 2*Math.atan(Math.tan(t/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect))*180/Math.PI}getNDC(t,n){if(null!=this.xrCamera)Cx.set(t/window.screen.width,n/window.screen.height);else{let i=this.element.getBoundingClientRect();Cx.set((t-i.x)/this.width,(n-i.y)/this.height)}return Cx.multiplyScalar(2).subScalar(1),Cx.y*=-1,Cx}getSize(){return{width:this.width,height:this.height}}setEnvironmentAndSkybox(t,n){this.element[CK].arRenderer.presentedScene!==this&&(this.environment=t,this.background=n,this.queueRender())}setTarget(t,n,i){this.goalTarget.set(-t,-n,-i)}setTargetDamperDecayTime(t){this.targetDamperX.setDecayTime(t),this.targetDamperY.setDecayTime(t),this.targetDamperZ.setDecayTime(t)}getTarget(){return this.goalTarget.clone().multiplyScalar(-1)}jumpToGoal(){this.updateTarget(1e4)}updateTarget(t){let n=this.goalTarget,i=this.target.position;if(n.equals(i))return!1;{let r=this.boundingSphere.radius/10,{x:s,y:o,z:a}=i;return s=this.targetDamperX.update(s,n.x,t,r),o=this.targetDamperY.update(o,n.y,t,r),a=this.targetDamperZ.update(a,n.z,t,r),this.target.position.set(s,o,a),this.target.updateMatrixWorld(),this.queueRender(),!0}}pointTowards(t,n){let{x:i,z:r}=this.position;this.yaw=Math.atan2(t-i,n-r)}get model(){return this._model}set yaw(t){this.rotation.y=t,this.queueRender()}get yaw(){return this.rotation.y}set animationTime(t){this.mixer.setTime(t),this.queueShadowRender()}get animationTime(){if(null!=this.currentAnimationAction){let t=Math.max(this.currentAnimationAction._loopCount,0);return 2202===this.currentAnimationAction.loop&&(1&t)==1?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0}set animationTimeScale(t){this.mixer.timeScale=t}get animationTimeScale(){return this.mixer.timeScale}get duration(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return null!=this.currentAnimationAction}playAnimation(t=null,n=0,i=2201,r=1/0){if(null==this._currentGLTF)return;let{animations:s}=this;if(null==s||0===s.length)return;let o=null;if(null!=t&&null==(o=this.animationsByName.get(t))){let n=parseInt(t);!isNaN(n)&&n>=0&&n<s.length&&(o=s[n])}null==o&&(o=s[0]);try{let{currentAnimationAction:t}=this,s=this.mixer.clipAction(o,this);this.currentAnimationAction=s,this.element.paused?this.mixer.stopAllAction():(s.paused=!1,null!=t&&s!==t?s.crossFadeFrom(t,n,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),s.setLoop(i,r),s.enabled=!0,s.clampWhenFinished=!0,s.play()}catch(t){console.error(t)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(t){this.mixer.update(t),this.queueShadowRender()}subscribeMixerEvent(t,n){this.mixer.addEventListener(t,n)}updateShadow(){let t=this.shadow;if(null!=t){let n="wall"===this.element.arPlacement?"back":"bottom";t.setScene(this,this.shadowSoftness,n),t.needsUpdate=!0}}renderShadow(t){let n=this.shadow;null!=n&&!0==n.needsUpdate&&(n.render(t,this),n.needsUpdate=!1)}queueShadowRender(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}setShadowIntensity(t){if(this.shadowIntensity=t,null!=this._currentGLTF&&(this.setBakedShadowVisibility(),!(t<=0)||null!=this.shadow)){if(null==this.shadow){let t="wall"===this.element.arPlacement?"back":"bottom";this.shadow=new Cd(this,this.shadowSoftness,t)}this.shadow.setIntensity(t)}}setShadowSoftness(t){this.shadowSoftness=t;let n=this.shadow;null!=n&&n.setSoftness(t)}setShadowOffset(t){let n=this.shadow;null!=n&&n.setOffset(t)}hitFromPoint(t,n=this){return Cm.setFromCamera(t,this.getCamera()),Cm.intersectObject(n,!0).find(t=>t.object.visible&&!t.object.userData.shadow)}positionAndNormalFromPoint(t,n=this){var i;let r=this.hitFromPoint(t,n);return null==r?null:{position:r.point,normal:null!=r.face?r.face.normal.clone().applyNormalMatrix(new uy().getNormalMatrix(r.object.matrixWorld)):Cm.ray.direction.clone().multiplyScalar(-1),uv:null!==(i=r.uv)&&void 0!==i?i:null}}surfaceFromPoint(t,n=this){let i=this.element.model;if(null==i)return null;let r=this.hitFromPoint(t,n);if(null==r||null==r.face)return null;let{meshes:s,primitives:o}=i[wX](r).mesh.userData.associations,a=new uN,l=new uN,c=new uN,{a:u,b:d,c:p}=r.face,h=r.object;h.getVertexPosition(u,a),h.getVertexPosition(d,l),h.getVertexPosition(p,c);let f=new dQ(a,l,c),m=new uN;return f.getBarycoord(h.worldToLocal(r.point),m),`${s} ${o} ${u} ${d} ${p} ${m.x.toFixed(3)} ${m.y.toFixed(3)} ${m.z.toFixed(3)}`}addHotspot(t){this.target.add(t),this.annotationRenderer.domElement.appendChild(t.element)}removeHotspot(t){this.target.remove(t)}forHotspots(t){let{children:n}=this.target;for(let i=0,r=n.length;i<r;i++){let r=n[i];r instanceof Cl&&t(r)}}initializeSurface(t){if(null!=t.surface&&null==t.mesh){let n=v0(t.surface)[0].terms;if(8!=n.length){console.warn(t.surface+" does not have exactly 8 numbers.");return}let i=this.element.model[wJ](n[0].number,n[1].number),r=new uN(n[2].number,n[3].number,n[4].number);if(null==i){console.warn(t.surface+" does not match a node/primitive in this glTF! Skipping this hotspot.");return}let s=i.mesh.geometry.attributes.position.count;if(r.x>=s||r.y>=s||r.z>=s){console.warn(t.surface+" vertex indices out of range in this glTF! Skipping this hotspot.");return}let o=new uN(n[5].number,n[6].number,n[7].number);t.mesh=i.mesh,t.tri=r,t.bary=o}}updateSurfaceHotspots(){let t=!this.element.paused;this.forHotspots(n=>{this.initializeSurface(n),n.updateSurface(t)})}updateHotspotsVisibility(t){this.forHotspots(n=>{Cp.copy(t),Ch.setFromMatrixPosition(n.matrixWorld),Cp.sub(Ch),Cf.copy(n.normal).transformDirection(this.target.matrixWorld),0>Cp.dot(Cf)?n.hide():n.show()})}orientHotspots(t){this.forHotspots(n=>{n.orient(t)})}setHotspotsVisibility(t){this.forHotspots(n=>{n.visible=t})}updateSchema(t){var n;let{schemaElement:i,element:r}=this,{alt:s,poster:o,iosSrc:a}=r;if(null!=t){let r=[{"@type":"MediaObject",contentUrl:t,encodingFormat:(null===(n=t.split(".").pop())||void 0===n?void 0:n.toLowerCase())==="gltf"?"model/gltf+json":"model/gltf-binary"}];a&&r.push({"@type":"MediaObject",contentUrl:a,encodingFormat:"model/vnd.usdz+zip"}),i.textContent=JSON.stringify({"@context":"http://schema.org/","@type":"3DModel",image:null!=o?o:void 0,name:null!=s?s:void 0,encoding:r}),document.head.appendChild(i)}else null!=i.parentElement&&i.parentElement.removeChild(i)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv=async t=>new Promise((n,i)=>{let r=t.match(/data:(.*);/);if(!r)return i(Error(`${t} is not a valid data Url`));let s=r[1],o=atob(t.replace(/data:image\/\w+;base64,/,"")),a=[];for(let t=0;t<o.length;t+=512){let n=o.slice(t,t+512),i=Array(n.length);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);let r=new Uint8Array(i);a.push(r)}n(new Blob(a,{type:s}))});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends EventTarget{constructor(){super(...arguments),this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(){let t={progress:0,completed:!1};return this.ongoingActivities.add(t),1===this.ongoingActivityCount&&this.announceTotalProgress(t,0),n=>{let i;return(i=Math.max(xz(n,0,1),t.progress))!==t.progress&&this.announceTotalProgress(t,i),t.progress}}announceTotalProgress(t,n){let i=0,r=0;for(let s of(1==n&&(t.completed=!0),this.ongoingActivities)){let{progress:t}=s;i+=1-t,!0===s.completed&&r++}let s=t.progress;t.progress=n,this.totalProgress+=(n-s)*(1-this.totalProgress)/i;let o=r===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:o}})),r===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CA=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let Cw=document.createElement("canvas"),CC=Symbol("fallbackResizeHandler"),C_=Symbol("defaultAriaLabel"),CS=Symbol("resizeObserver"),Ck=Symbol("clearModelTimeout"),CE=Symbol("onContextLost"),CM=Symbol("loaded"),CI=Symbol("status"),CT=Symbol("onFocus"),CB=Symbol("onBlur"),CL=Symbol("updateSize"),Cj=Symbol("intersectionObserver"),CP=Symbol("isElementInViewport"),CR=Symbol("announceModelVisibility"),CD=Symbol("ariaLabel"),CF=Symbol("altDefaulted"),CO=Symbol("statusElement"),CN=Symbol("updateStatus"),CU=Symbol("loadedTime"),CV=Symbol("updateSource"),CH=Symbol("markLoaded"),CQ=Symbol("container"),Cz=Symbol("input"),CG=Symbol("canvas"),Cq=Symbol("scene"),CW=Symbol("needsRender"),C$=Symbol("tick"),CZ=Symbol("onModelLoad"),CY=Symbol("onResize"),CK=Symbol("renderer"),CX=Symbol("progressTracker"),CJ=Symbol("getLoaded"),C0=Symbol("getModelIsVisible"),C1=Symbol("shouldAttemptPreload"),C2=t=>({x:t.x,y:t.y,z:t.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),C3=t=>({u:t.x,v:t.y,toString(){return`${this.u} ${this.v}`}});class C5 extends gK{constructor(){let t,n;super(),this.alt=null,this.src=null,this.withCredentials=!1,this.generateSchema=!1,this[Bh]=!1,this[Bf]=!1,this[Bm]=0,this[Bg]="",this[Bx]=null,this[By]=xQ(()=>{let t=this.getBoundingClientRect();this[CL](t)},50),this[Bv]=xQ(t=>{let n=this.modelIsVisible;n!==t&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:n}}))},0),this[Bb]=null,this[BA]=null,this[Bw]=new Cb,this[BC]=()=>{this[CO].textContent=this[CI]},this[B_]=()=>{this[CO].textContent=""},this[BS]=t=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:t.sourceEvent}}))},this.attachShadow({mode:"open"});let i=this.shadowRoot;if(x5(i),this[CQ]=i.querySelector(".container"),this[Cz]=i.querySelector(".userInput"),this[CG]=i.querySelector("canvas"),this[CO]=i.querySelector("#status"),this[C_]=this[Cz].getAttribute("aria-label"),this.isConnected){let i=this.getBoundingClientRect();t=i.width,n=i.height}else t=300,n=150;this[Cq]=new Cy({canvas:this[CG],element:this,width:t,height:n}),Promise.resolve().then(()=>{this[CL](this.getBoundingClientRect())}),xT&&(this[CS]=new ResizeObserver(t=>{if(!this[CK].isPresenting)for(let n of t)n.target===this&&this[CL](n.contentRect)})),xB?this[Cj]=new IntersectionObserver(t=>{for(let n of t)if(n.target===this){let t=this.modelIsVisible;this[CP]=n.isIntersecting,this[CR](t),this[CP]&&!this.loaded&&this[CV]()}},{root:null,rootMargin:"0px",threshold:1e-5}):this[CP]=!0}static get is(){return"model-viewer"}static set modelCacheSize(t){vd[vc].evictionThreshold=t}static get modelCacheSize(){return vd[vc].evictionThreshold}static set minimumRenderScale(t){t>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),t<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),A3.singleton.minScale=t}static get minimumRenderScale(){return A3.singleton.minScale}get loaded(){return this[CJ]()}get[(Bh=CP,Bf=CM,Bm=CU,Bg=CI,Bx=Ck,By=CC,Bv=CR,Bb=CS,BA=Cj,Bw=CX,CK)](){return A3.singleton}get modelIsVisible(){return this[C0]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),xT?this[CS].observe(this):self.addEventListener("resize",this[CC]),xB&&this[Cj].observe(this),this.addEventListener("focus",this[CT]),this.addEventListener("blur",this[CB]);let t=this[CK];t.addEventListener("contextlost",this[CE]),t.registerScene(this[Cq]),null!=this[Ck]&&(self.clearTimeout(this[Ck]),this[Ck]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),xT?this[CS].unobserve(this):self.removeEventListener("resize",this[CC]),xB&&this[Cj].unobserve(this),this.removeEventListener("focus",this[CT]),this.removeEventListener("blur",this[CB]);let t=this[CK];t.removeEventListener("contextlost",this[CE]),t.unregisterScene(this[Cq]),this[Ck]=self.setTimeout(()=>{this[Cq].dispose(),this[Ck]=null},10)}updated(t){super.updated(t),t.has("src")&&(null==this.src?(this[CM]=!1,this[CU]=0,this[Cq].reset()):this.src!==this[Cq].url&&(this[CM]=!1,this[CU]=0,this[CV]())),t.has("alt")&&this[Cz].setAttribute("aria-label",this[CD]),t.has("withCredentials")&&(vd.withCredentials=this.withCredentials,this[CK].textureUtils.withCredentials=this.withCredentials),t.has("generateSchema")&&(this.generateSchema?this[Cq].updateSchema(this.src):this[Cq].updateSchema(null))}toDataURL(t,n){return this[CK].displayCanvas(this[Cq]).toDataURL(t,n)}async toBlob(t){let n=t?t.mimeType:void 0,i=t?t.qualityArgument:void 0,r=t?t.idealAspect:void 0,{width:s,height:o,idealAspect:a,aspect:l}=this[Cq],{dpr:c,scaleFactor:u}=this[CK],d=s*u*c,p=o*u*c,h=0,f=0;!0===r&&(a>l?f=(p-(p=Math.round(d/a)))/2:h=(d-(d=Math.round(p*a)))/2),Cw.width=d,Cw.height=p;try{return new Promise(async(t,r)=>(Cw.getContext("2d").drawImage(this[CK].displayCanvas(this[Cq]),h,f,d,p,0,0,d,p),Cw.msToBlob&&(!n||"image/png"===n))?t(Cw.msToBlob()):Cw.toBlob?void Cw.toBlob(n=>{if(!n)return r(Error("Unable to retrieve canvas blob"));t(n)},n,i):t(await Cv(Cw.toDataURL(n,i))))}finally{this[CL]({width:s,height:o})}}registerRenderer(t){this[Cq].externalRenderer=t}unregisterRenderer(){this[Cq].externalRenderer=null}get[CD](){return this[CF]}get[CF](){return null==this.alt||"null"===this.alt?this[C_]:this.alt}[CJ](){return this[CM]}[C0](){return this.loaded&&this[CP]}[C1](){return!!this.src&&this[CP]}[CL]({width:t,height:n}){0!==t&&0!==n&&(this[CQ].style.width=`${t}px`,this[CQ].style.height=`${n}px`,this[CY]({width:t,height:n}))}[C$](t,n){}[CH](){this[CM]||(this[CM]=!0,this[CU]=performance.now())}[CW](){this[Cq].queueRender()}[CZ](){}[CN](t){this[CI]=t;let n=this.getRootNode();null!=n&&n.activeElement===this&&this[CO].textContent!=t&&(this[CO].textContent=t)}[(BC=CT,B_=CB,CY)](t){this[Cq].setSize(t.width,t.height)}async [(BS=CE,CV)](){let t=this[Cq];if(this.loaded||!this[C1]()||this.src===t.url)return;this.generateSchema&&t.updateSchema(this.src),this[CN]("Loading"),t.stopAnimation();let n=this[CX].beginActivity(),i=this.src;try{let r=t.setSource(i,t=>n(.95*xz(t,0,1))),s=this[xX]();await Promise.all([r,s]),this[CH](),this[CZ](),await new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("load",{detail:{url:i}})),t()})})})}catch(t){this.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:t}}))}finally{n(1)}}}CA([ut({type:String})],C5.prototype,"alt",void 0),CA([ut({type:String})],C5.prototype,"src",void 0),CA([ut({type:Boolean,attribute:"with-credentials"})],C5.prototype,"withCredentials",void 0),CA([ut({type:Boolean,attribute:"generate-schema"})],C5.prototype,"generateSchema",void 0);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C4=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let C6=Symbol("changeAnimation"),C8=Symbol("paused"),C7={repetitions:1/0,pingpong:!1},C9=Symbol("hotspotMap"),_e=Symbol("mutationCallback"),_t=Symbol("observer"),_n=Symbol("addHotspot"),_i=Symbol("removeHotspot"),_r=new ds;/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var _s=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};try{URL.revokeObjectURL(_s(""))}catch(t){_s=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var _o=Uint8Array,_a=Uint16Array,_l=Uint32Array,_c=new _o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_u=new _o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_d=new _o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_p=function(t,n){for(var i=new _a(31),r=0;r<31;++r)i[r]=n+=1<<t[r-1];for(var s=new _l(i[30]),r=1;r<30;++r)for(var o=i[r];o<i[r+1];++o)s[o]=o-i[r]<<5|r;return[i,s]},_h=_p(_c,2),_f=_h[0],_m=_h[1];_f[28]=258,_m[258]=28;for(var _g=_p(_u,0)[1],_x=new _a(32768),_y=0;_y<32768;++_y){var _v=(43690&_y)>>>1|(21845&_y)<<1;_v=(61680&(_v=(52428&_v)>>>2|(13107&_v)<<2))>>>4|(3855&_v)<<4,_x[_y]=((65280&_v)>>>8|(255&_v)<<8)>>>1}for(var _b=function(t,n,i){for(var r,s=t.length,o=0,a=new _a(n);o<s;++o)++a[t[o]-1];var l=new _a(n);for(o=0;o<n;++o)l[o]=l[o-1]+a[o-1]<<1;if(i){r=new _a(1<<n);var c=15-n;for(o=0;o<s;++o)if(t[o])for(var u=o<<4|t[o],d=n-t[o],p=l[t[o]-1]++<<d,h=p|(1<<d)-1;p<=h;++p)r[_x[p]>>>c]=u}else for(o=0,r=new _a(s);o<s;++o)t[o]&&(r[o]=_x[l[t[o]-1]++]>>>15-t[o]);return r},_A=new _o(288),_y=0;_y<144;++_y)_A[_y]=8;for(var _y=144;_y<256;++_y)_A[_y]=9;for(var _y=256;_y<280;++_y)_A[_y]=7;for(var _y=280;_y<288;++_y)_A[_y]=8;for(var _w=new _o(32),_y=0;_y<32;++_y)_w[_y]=5;var _C=_b(_A,9,0),__=_b(_w,5,0),_S=function(t){return(t/8|0)+(7&t&&1)},_k=function(t,n,i){(null==n||n<0)&&(n=0),(null==i||i>t.length)&&(i=t.length);var r=new(t instanceof _a?_a:t instanceof _l?_l:_o)(i-n);return r.set(t.subarray(n,i)),r},_E=function(t,n,i){i<<=7&n;var r=n/8|0;t[r]|=i,t[r+1]|=i>>>8},_M=function(t,n,i){i<<=7&n;var r=n/8|0;t[r]|=i,t[r+1]|=i>>>8,t[r+2]|=i>>>16},_I=function(t,n){for(var i=[],r=0;r<t.length;++r)t[r]&&i.push({s:r,f:t[r]});var s=i.length,o=i.slice();if(!s)return[_D,0];if(1==s){var a=new _o(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var l=i[0],c=i[1],u=0,d=1,p=2;for(i[0]={s:-1,f:l.f+c.f,l:l,r:c};d!=s-1;)l=i[i[u].f<i[p].f?u++:p++],c=i[u!=d&&i[u].f<i[p].f?u++:p++],i[d++]={s:-1,f:l.f+c.f,l:l,r:c};for(var h=o[0].s,r=1;r<s;++r)o[r].s>h&&(h=o[r].s);var f=new _a(h+1),m=_T(i[d-1],f,0);if(m>n){var r=0,g=0,x=m-n,y=1<<x;for(o.sort(function(t,n){return f[n.s]-f[t.s]||t.f-n.f});r<s;++r){var v=o[r].s;if(f[v]>n)g+=y-(1<<m-f[v]),f[v]=n;else break}for(g>>>=x;g>0;){var b=o[r].s;f[b]<n?g-=1<<n-f[b]++-1:++r}for(;r>=0&&g;--r){var A=o[r].s;f[A]==n&&(--f[A],++g)}m=n}return[new _o(f),m]},_T=function(t,n,i){return -1==t.s?Math.max(_T(t.l,n,i+1),_T(t.r,n,i+1)):n[t.s]=i},_B=function(t){for(var n=t.length;n&&!t[--n];);for(var i=new _a(++n),r=0,s=t[0],o=1,a=function(t){i[r++]=t},l=1;l<=n;++l)if(t[l]==s&&l!=n)++o;else{if(!s&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(s),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(s);o=1,s=t[l]}return[i.subarray(0,r),n]},_L=function(t,n){for(var i=0,r=0;r<n.length;++r)i+=t[r]*n[r];return i},_j=function(t,n,i){var r=i.length,s=_S(n+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var o=0;o<r;++o)t[s+o+4]=i[o];return(s+4+r)*8},_P=function(t,n,i,r,s,o,a,l,c,u,d){_E(n,d++,i),++s[256];for(var p,h,f,m,g=_I(s,15),x=g[0],y=g[1],v=_I(o,15),b=v[0],A=v[1],w=_B(x),C=w[0],_=w[1],S=_B(b),k=S[0],E=S[1],M=new _a(19),I=0;I<C.length;++I)M[31&C[I]]++;for(var I=0;I<k.length;++I)M[31&k[I]]++;for(var T=_I(M,7),B=T[0],L=T[1],j=19;j>4&&!B[_d[j-1]];--j);var P=u+5<<3,R=_L(s,_A)+_L(o,_w)+a,D=_L(s,x)+_L(o,b)+a+14+3*j+_L(M,B)+(2*M[16]+3*M[17]+7*M[18]);if(P<=R&&P<=D)return _j(n,d,t.subarray(c,c+u));if(_E(n,d,1+(D<R)),d+=2,D<R){p=_b(x,y,0),h=x,f=_b(b,A,0),m=b;var F=_b(B,L,0);_E(n,d,_-257),_E(n,d+5,E-1),_E(n,d+10,j-4),d+=14;for(var I=0;I<j;++I)_E(n,d+3*I,B[_d[I]]);d+=3*j;for(var O=[C,k],N=0;N<2;++N)for(var U=O[N],I=0;I<U.length;++I){var V=31&U[I];_E(n,d,F[V]),d+=B[V],V>15&&(_E(n,d,U[I]>>>5&127),d+=U[I]>>>12)}}else p=_C,h=_A,f=__,m=_w;for(var I=0;I<l;++I)if(r[I]>255){var V=r[I]>>>18&31;_M(n,d,p[V+257]),d+=h[V+257],V>7&&(_E(n,d,r[I]>>>23&31),d+=_c[V]);var H=31&r[I];_M(n,d,f[H]),d+=m[H],H>3&&(_M(n,d,r[I]>>>5&8191),d+=_u[H])}else _M(n,d,p[r[I]]),d+=h[r[I]];return _M(n,d,p[256]),d+h[256]},_R=new _l([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_D=new _o(0),_F=function(t,n,i,r,s,o){var a=t.length,l=new _o(r+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(r,l.length-s),u=0;if(!n||a<8)for(var d=0;d<=a;d+=65535){var p=d+65535;p<a?u=_j(c,u,t.subarray(d,p)):(c[d]=o,u=_j(c,u,t.subarray(d,a)))}else{for(var h=_R[n-1],f=h>>>13,m=8191&h,g=(1<<i)-1,x=new _a(32768),y=new _a(g+1),v=Math.ceil(i/3),b=2*v,A=function(n){return(t[n]^t[n+1]<<v^t[n+2]<<b)&g},w=new _l(25e3),C=new _a(288),_=new _a(32),S=0,k=0,d=0,E=0,M=0,I=0;d<a;++d){var T=A(d),B=32767&d,L=y[T];if(x[B]=L,y[T]=B,M<=d){var j=a-d;if((S>7e3||E>24576)&&j>423){u=_P(t,c,0,w,C,_,k,E,I,d-I,u),E=S=k=0,I=d;for(var P=0;P<286;++P)C[P]=0;for(var P=0;P<30;++P)_[P]=0}var R=2,D=0,F=m,O=B-L&32767;if(j>2&&T==A(d-O))for(var N=Math.min(f,j)-1,U=Math.min(32767,d),V=Math.min(258,j);O<=U&&--F&&B!=L;){if(t[d+R]==t[d+R-O]){for(var H=0;H<V&&t[d+H]==t[d+H-O];++H);if(H>R){if(R=H,D=O,H>N)break;for(var Q=Math.min(O,H-2),z=0,P=0;P<Q;++P){var G=d-O+P+32768&32767,q=x[G],W=G-q+32768&32767;W>z&&(z=W,L=G)}}}L=x[B=L],O+=B-L+32768&32767}if(D){w[E++]=268435456|_m[R]<<18|_g[D];var $=31&_m[R],Z=31&_g[D];k+=_c[$]+_u[Z],++C[257+$],++_[Z],M=d+R,++S}else w[E++]=t[d],++C[t[d]]}}u=_P(t,c,o,w,C,_,k,E,I,d-I,u),!o&&7&u&&(u=_j(c,u+1,_D))}return _k(l,0,r+_S(u)+s)},_O=function(){for(var t=new _l(256),n=0;n<256;++n){for(var i=n,r=9;--r;)i=(1&i&&3988292384)^i>>>1;t[n]=i}return t}(),_N=function(){var t=-1;return{p:function(n){for(var i=t,r=0;r<n.length;++r)i=_O[255&i^n[r]]^i>>>8;t=i},d:function(){return~t}}},_U=function(t,n){var i={};for(var r in t)i[r]=t[r];for(var r in n)i[r]=n[r];return i},_V=function(t,n,i){for(;i;++n)t[n]=i,i>>>=8},_H=function(t,n,i,r){for(var s in t){var o=t[s],a=n+s;o instanceof _o?i[a]=[o,r]:Array.isArray(o)?i[a]=[o[0],_U(r,o[1])]:_H(o,a+"/",i,r)}},_Q="undefined"!=typeof TextEncoder&&new TextEncoder,_z="undefined"!=typeof TextDecoder&&new TextDecoder;try{_z.decode(_D,{stream:!0})}catch(t){}function _G(t,n){if(n){for(var i=new _o(t.length),r=0;r<t.length;++r)i[r]=t.charCodeAt(r);return i}if(_Q)return _Q.encode(t);for(var s=t.length,o=new _o(t.length+(t.length>>1)),a=0,l=function(t){o[a++]=t},r=0;r<s;++r){if(a+5>o.length){var c=new _o(a+8+(s-r<<1));c.set(o),o=c}var u=t.charCodeAt(r);u<128||n?l(u):(u<2048?l(192|u>>6):(u>55295&&u<57344?(l(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++r))>>18),l(128|u>>12&63)):l(224|u>>12),l(128|u>>6&63)),l(128|63&u))}return _k(o,0,a)}var _q=function(t){var n=0;if(t)for(var i in t){var r=t[i].length;if(r>65535)throw"extra field too long";n+=r+4}return n},_W=function(t,n,i,r,s,o,a,l){var c=r.length,u=i.extra,d=l&&l.length,p=_q(u);_V(t,n,null!=a?33639248:67324752),n+=4,null!=a&&(t[n++]=20,t[n++]=i.os),t[n]=20,n+=2,t[n++]=i.flag<<1|(null==o&&8),t[n++]=s&&8,t[n++]=255&i.compression,t[n++]=i.compression>>8;var h=new Date(null==i.mtime?Date.now():i.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(_V(t,n,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),n+=4,null!=o&&(_V(t,n,i.crc),_V(t,n+4,o),_V(t,n+8,i.size)),_V(t,n+12,c),_V(t,n+14,p),n+=16,null!=a&&(_V(t,n,d),_V(t,n+6,i.attrs),_V(t,n+10,a),n+=14),t.set(r,n),n+=c,p)for(var m in u){var g=u[m],x=g.length;_V(t,n,+m),_V(t,n+2,x),t.set(g,n+4),n+=4+x}return d&&(t.set(l,n),n+=d),n},_$=function(t,n,i,r,s){_V(t,n,101010256),_V(t,n+8,i),_V(t,n+10,i),_V(t,n+12,r),_V(t,n+16,s)};class _Z{async parse(t,n={}){var i;n=Object.assign({ar:{anchoring:{type:"plane"},planeAnchoring:{alignment:"horizontal"}}},n);let r={},s="model.usda";r[s]=null;let o=_Y();o+=(i=n,`def Xform "Root"
{
    def Scope "Scenes" (
        kind = "sceneLibrary"
    )
    {
        def Xform "Scene" (
            customData = {
                bool preliminary_collidesWithEnvironment = 0
                string sceneName = "Scene"
            }
            sceneName = "Scene"
        )
        {
        token preliminary:anchoring:type = "${i.ar.anchoring.type}"
        token preliminary:planeAnchoring:alignment = "${i.ar.planeAnchoring.alignment}"

`);let a={},l={};for(let n in t.traverseVisible(t=>{if(t.isMesh){let i=t.geometry,s=t.material;if(s.isMeshStandardMaterial){let l="geometries/Geometry_"+i.id+".usd";if(!(l in r)){var n;let t;let s=function(t){let n=function(t){var n;let i=t.attributes,r=i.position.count;return`
    def Mesh "Geometry"
    {
        int[] faceVertexCounts = [${Array((null!==(n=t).index?n.index.count:n.attributes.position.count)/3).fill(3).join(", ")}]
        int[] faceVertexIndices = [${function(t){let n=t.index,i=[];if(null!==n)for(let t=0;t<n.count;t++)i.push(n.getX(t));else{let n=t.attributes.position.count;for(let t=0;t<n;t++)i.push(t)}return i.join(", ")}(t)}]
        normal3f[] normals = [${_J(i.normal,r)}] (
            interpolation = "vertex"
        )
        point3f[] points = [${_J(i.position,r)}]
        float2[] primvars:st = [${function(t,n){if(void 0===t)return console.warn("USDZExporter: UVs missing."),Array(n).fill("(0, 0)").join(", ");let i=[];for(let n=0;n<t.count;n++){let r=t.getX(n),s=t.getY(n);i.push(`(${r.toPrecision(7)}, ${1-s.toPrecision(7)})`)}return i.join(", ")}(i.uv,r)}] (
            interpolation = "vertex"
        )
        uniform token subdivisionScheme = "none"
    }
`}(t);return`
def "Geometry"
{
  ${n}
}
`}(i);r[l]=(n=s,_G(_Y()+n))}s.uuid in a||(a[s.uuid]=s),o+=function(t,n,i){let r="Object_"+t.id,s=_K(t.matrixWorld);return 0>t.matrixWorld.determinant()&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",t),`def Xform "${r}" (
    prepend references = @./geometries/Geometry_${n.id}.usd@</Geometry>
)
{
    matrix4d xformOp:transform = ${s}
    uniform token[] xformOpOrder = ["xformOp:transform"]

    rel material:binding = </Materials/Material_${i.id}>
}

`}(t,i,s)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",t)}else t.isCamera&&(o+=function(t){let n=t.name?t.name:"Camera_"+t.id,i=_K(t.matrixWorld);return(0>t.matrixWorld.determinant()&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",t),t.isOrthographicCamera)?`def Camera "${n}"
		{
			matrix4d xformOp:transform = ${i}
			uniform token[] xformOpOrder = ["xformOp:transform"]
	
			float2 clippingRange = (${t.near.toPrecision(7)}, ${t.far.toPrecision(7)})
			float horizontalAperture = ${((Math.abs(t.left)+Math.abs(t.right))*10).toPrecision(7)}
			float verticalAperture = ${((Math.abs(t.top)+Math.abs(t.bottom))*10).toPrecision(7)}
			token projection = "orthographic"
		}
	
	`:`def Camera "${n}"
		{
			matrix4d xformOp:transform = ${i}
			uniform token[] xformOpOrder = ["xformOp:transform"]
	
			float2 clippingRange = (${t.near.toPrecision(7)}, ${t.far.toPrecision(7)})
			float focalLength = ${t.getFocalLength().toPrecision(7)}
			float focusDistance = ${t.focus.toPrecision(7)}
			float horizontalAperture = ${t.getFilmWidth().toPrecision(7)}
			token projection = "perspective"
			float verticalAperture = ${t.getFilmHeight().toPrecision(7)}
		}
	
	`}(t))}),o+=`
        }
    }
}

`+function(t,n){let i=[];for(let r in t){let s=t[r];i.push(function(t,n){let i="            ",r=[],s=[];function o(i,r,s){let o=i.id+(s?"_"+s.getHexString():""),a=1023===i.format;return n[o]=i,`
        def Shader "Transform2d_${r}" (
            sdrMetadata = {
                string role = "math"
            }
        )
        {
            uniform token info:id = "UsdTransform2d"
            float2 inputs:in.connect = </Materials/Material_${t.id}/uvReader_st.outputs:result>
            float2 inputs:scale = ${_1(i.repeat)}
            float2 inputs:translation = ${_1(i.offset)}
            float2 outputs:result
        }

        def Shader "Texture_${i.id}_${r}"
        {
            uniform token info:id = "UsdUVTexture"
            asset inputs:file = @textures/Texture_${o}.${a?"png":"jpg"}@
            float2 inputs:st.connect = </Materials/Material_${t.id}/Transform2d_${r}.outputs:result>
            token inputs:wrapS = "repeat"
            token inputs:wrapT = "repeat"
            float outputs:r
            float outputs:g
            float outputs:b
            float3 outputs:rgb
            ${t.transparent||t.alphaTest>0?"float outputs:a":""}
        }`}return 2===t.side&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",t),null!==t.map?(r.push(`${i}color3f inputs:diffuseColor.connect = </Materials/Material_${t.id}/Texture_${t.map.id}_diffuse.outputs:rgb>`),t.transparent?r.push(`${i}float inputs:opacity.connect = </Materials/Material_${t.id}/Texture_${t.map.id}_diffuse.outputs:a>`):t.alphaTest>0&&(r.push(`${i}float inputs:opacity.connect = </Materials/Material_${t.id}/Texture_${t.map.id}_diffuse.outputs:a>`),r.push(`${i}float inputs:opacityThreshold = ${t.alphaTest}`)),s.push(o(t.map,"diffuse",t.color))):r.push(`${i}color3f inputs:diffuseColor = ${_0(t.color)}`),null!==t.emissiveMap?(r.push(`${i}color3f inputs:emissiveColor.connect = </Materials/Material_${t.id}/Texture_${t.emissiveMap.id}_emissive.outputs:rgb>`),s.push(o(t.emissiveMap,"emissive"))):t.emissive.getHex()>0&&r.push(`${i}color3f inputs:emissiveColor = ${_0(t.emissive)}`),null!==t.normalMap&&(r.push(`${i}normal3f inputs:normal.connect = </Materials/Material_${t.id}/Texture_${t.normalMap.id}_normal.outputs:rgb>`),s.push(o(t.normalMap,"normal"))),null!==t.aoMap&&(r.push(`${i}float inputs:occlusion.connect = </Materials/Material_${t.id}/Texture_${t.aoMap.id}_occlusion.outputs:r>`),s.push(o(t.aoMap,"occlusion"))),null!==t.roughnessMap&&1===t.roughness?(r.push(`${i}float inputs:roughness.connect = </Materials/Material_${t.id}/Texture_${t.roughnessMap.id}_roughness.outputs:g>`),s.push(o(t.roughnessMap,"roughness"))):r.push(`${i}float inputs:roughness = ${t.roughness}`),null!==t.metalnessMap&&1===t.metalness?(r.push(`${i}float inputs:metallic.connect = </Materials/Material_${t.id}/Texture_${t.metalnessMap.id}_metallic.outputs:b>`),s.push(o(t.metalnessMap,"metallic"))):r.push(`${i}float inputs:metallic = ${t.metalness}`),null!==t.alphaMap?(r.push(`${i}float inputs:opacity.connect = </Materials/Material_${t.id}/Texture_${t.alphaMap.id}_opacity.outputs:r>`),r.push(`${i}float inputs:opacityThreshold = 0.0001`),s.push(o(t.alphaMap,"opacity"))):r.push(`${i}float inputs:opacity = ${t.opacity}`),t.isMeshPhysicalMaterial&&(r.push(`${i}float inputs:clearcoat = ${t.clearcoat}`),r.push(`${i}float inputs:clearcoatRoughness = ${t.clearcoatRoughness}`),r.push(`${i}float inputs:ior = ${t.ior}`)),`
    def Material "Material_${t.id}"
    {
        def Shader "PreviewSurface"
        {
            uniform token info:id = "UsdPreviewSurface"
${r.join("\n")}
            int inputs:useSpecularWorkflow = 0
            token outputs:surface
        }

        token outputs:surface.connect = </Materials/Material_${t.id}/PreviewSurface.outputs:surface>
        token inputs:frame:stPrimvarName = "st"

        def Shader "uvReader_st"
        {
            uniform token info:id = "UsdPrimvarReader_float2"
            token inputs:varname.connect = </Materials/Material_${t.id}.inputs:frame:stPrimvarName>
            float2 inputs:fallback = (0.0, 0.0)
            float2 outputs:result
        }

${s.join("\n")}

    }
`}(s,n))}return`def "Materials"
{
${i.join("")}
}

`}(a,l),r[s]=_G(o),o=null,l){let t=l[n],i=n.split("_")[1],s=1023===t.format,o=function(t,n,i){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){let r=1024/Math.max(t.width,t.height),s=document.createElement("canvas");s.width=t.width*Math.min(1,r),s.height=t.height*Math.min(1,r);let o=s.getContext("2d");if(!0===i&&(o.translate(0,s.height),o.scale(1,-1)),o.drawImage(t,0,0,s.width,s.height),void 0!==n){let t=parseInt(n,16),i=(t>>16&255)/255,r=(t>>8&255)/255,a=(255&t)/255,l=o.getImageData(0,0,s.width,s.height),c=l.data;for(let t=0;t<c.length;t+=4)c[t+0]=c[t+0]*i,c[t+1]=c[t+1]*r,c[t+2]=c[t+2]*a;o.putImageData(l,0,0)}return s}throw Error("THREE.USDZExporter: No valid image data found. Unable to process texture.")}(t.image,i,t.flipY),a=await new Promise(t=>o.toBlob(t,s?"image/png":"image/jpeg",1));r[`textures/Texture_${n}.${s?"png":"jpg"}`]=new Uint8Array(await a.arrayBuffer())}let c=0;for(let t in r){let n=r[t],i=63&(c+=34+t.length);if(4!==i){let s=new Uint8Array(64-i);r[t]=[n,{extra:{12345:s}}]}c=n.length}return function(t,n){n||(n={});var i={},r=[];_H(t,"",i,n);var s=0,o=0;for(var a in i){var l=i[a],c=l[0],u=l[1],d=0==u.level?0:8,p=_G(a),h=p.length,f=u.comment,m=f&&_G(f),g=m&&m.length,x=_q(u.extra);if(h>65535)throw"filename too long";var y=d?function(t,n){var i;return _F(t,null==(i=n||{}).level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,0,0,!0)}(c,u):c,v=y.length,b=_N();b.p(c),r.push(_U(u,{size:c.length,crc:b.d(),c:y,f:p,m:m,u:h!=a.length||m&&f.length!=g,o:s,compression:d})),s+=30+h+x+v,o+=76+2*(h+x)+(g||0)+v}for(var A=new _o(o+22),w=s,C=o-s,_=0;_<r.length;++_){var p=r[_];_W(A,p.o,p,p.f,p.u,p.c.length);var S=30+p.f.length+_q(p.extra);A.set(p.c,p.o+S),_W(A,s,p,p.f,p.u,p.c.length,p.o,p.m),s+=16+S+(p.m?p.m.length:0)}return _$(A,s,r.length,C,w),A}(r,{level:0})}}function _Y(){return`#usda 1.0
(
    customLayerData = {
        string creator = "Three.js USDZExporter"
    }
    metersPerUnit = 1
    upAxis = "Y"
)

`}function _K(t){let n=t.elements;return`( ${_X(n,0)}, ${_X(n,4)}, ${_X(n,8)}, ${_X(n,12)} )`}function _X(t,n){return`(${t[n+0]}, ${t[n+1]}, ${t[n+2]}, ${t[n+3]})`}function _J(t,n){if(void 0===t)return console.warn("USDZExporter: Normals missing."),Array(n).fill("(0, 0, 0)").join(", ");let i=[];for(let n=0;n<t.count;n++){let r=t.getX(n),s=t.getY(n),o=t.getZ(n);i.push(`(${r.toPrecision(7)}, ${s.toPrecision(7)}, ${o.toPrecision(7)})`)}return i.join(", ")}function _0(t){return`(${t.r}, ${t.g}, ${t.b})`}function _1(t){return`(${t.x}, ${t.y})`}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _2=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let _3=!1,_5=!1,_4="#model-viewer-no-ar-fallback",_6=(g=["quick-look","scene-viewer","webxr","none"],t=>{try{let n=v0(t),i=(n.length?n[0].terms:[]).filter(t=>t&&"ident"===t.type).map(t=>t.value).filter(t=>g.indexOf(t)>-1),r=new Set;for(let t of i)r.add(t);return r}catch(t){}return new Set}),_8={QUICK_LOOK:"quick-look",SCENE_VIEWER:"scene-viewer",WEBXR:"webxr",NONE:"none"},_7=Symbol("arButtonContainer"),_9=Symbol("enterARWithWebXR"),Se=Symbol("openSceneViewer"),St=Symbol("openIOSARQuickLook"),Sn=Symbol("canActivateAR"),Si=Symbol("arMode"),Sr=Symbol("arModes"),Ss=Symbol("arAnchor"),So=Symbol("preload"),Sa=Symbol("onARButtonContainerClick"),Sl=Symbol("onARStatus"),Sc=Symbol("onARTracking"),Su=Symbol("onARTap"),Sd=Symbol("selectARMode"),Sp=Symbol("triggerLoad");/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sh=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let Sf={AUTO:"auto"},Sm={AUTO:"auto",EAGER:"eager"},Sg=Symbol("defaultProgressBarElement"),Sx=Symbol("posterContainerElement"),Sy=Symbol("defaultPosterElement"),Sv=Symbol("shouldDismissPoster"),Sb=Symbol("hidePoster"),SA=Symbol("modelIsRevealed"),Sw=Symbol("updateProgressBar"),SC=Symbol("ariaLabelCallToAction"),S_=Symbol("onProgress");/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=function(t,n,i,r){for(var s,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r,l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(n,i,a):s(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a};let Sk={basis:[v9(vJ(Math.PI/32,"rad"))],keywords:{auto:[null]}},SE=Symbol("autoRotateStartTime"),SM=Symbol("radiansPerSecond"),SI=Symbol("syncRotationRate"),ST=Symbol("onCameraChange"),SB=(t=>{var n,i,r;class s extends t{constructor(){super(...arguments),this[n]=new Map,this[i]=t=>{t.forEach(t=>{t instanceof MutationRecord&&"childList"!==t.type||(t.addedNodes.forEach(t=>{this[_n](t)}),t.removedNodes.forEach(t=>{this[_i](t)}),this[CW]())})},this[r]=new MutationObserver(this[_e])}connectedCallback(){super.connectedCallback();for(let t=0;t<this.children.length;++t)this[_n](this.children[t]);let{ShadyDOM:t}=self;null==t?this[_t].observe(this,{childList:!0}):this[_t]=t.observeChildren(this,this[_e])}disconnectedCallback(){super.disconnectedCallback();let{ShadyDOM:t}=self;null==t?this[_t].disconnect():t.unobserveChildren(this[_t])}[(n=C9,i=_e,r=_t,C$)](t,n){super[C$](t,n);let i=this[Cq],{annotationRenderer:r}=i,s=i.getCamera();i.shouldRender()&&(i.updateSurfaceHotspots(),i.updateHotspotsVisibility(s.position),r.domElement.style.display="",r.render(i,s))}updateHotspot(t){let n=this[C9].get(t.name);null!=n&&(n.updatePosition(t.position),n.updateNormal(t.normal),n.surface=t.surface,this[CW]())}queryHotspot(t){let n=this[C9].get(t);if(null==n)return null;let i=C2(n.position),r=C2(n.normal),s=n.facingCamera,o=this[Cq],a=o.getCamera(),l=new uN;l.setFromMatrixPosition(n.matrixWorld),l.project(a);let c=o.width/2,u=o.height/2;l.x=l.x*c+c,l.y=-(l.y*u)+u;let d=C2(new uN(l.x,l.y,l.z));return Number.isFinite(d.x)&&Number.isFinite(d.y)?{position:i,normal:r,canvasPosition:d,facingCamera:s}:null}positionAndNormalFromPoint(t,n){let i=this[Cq],r=i.getNDC(t,n),s=i.positionAndNormalFromPoint(r);if(null==s)return null;_r.copy(i.target.matrixWorld).invert();let o=C2(s.position.applyMatrix4(_r)),a=C2(s.normal.transformDirection(_r)),l=null;return null!=s.uv&&(l=C3(s.uv)),{position:o,normal:a,uv:l}}surfaceFromPoint(t,n){let i=this[Cq],r=i.getNDC(t,n);return i.surfaceFromPoint(r)}[_n](t){if(!(t instanceof HTMLElement&&0===t.slot.indexOf("hotspot")))return;let n=this[C9].get(t.slot);null!=n?n.increment():(n=new Cl({name:t.slot,position:t.dataset.position,normal:t.dataset.normal,surface:t.dataset.surface}),this[C9].set(t.slot,n),this[Cq].addHotspot(n)),this[Cq].queueRender()}[_i](t){if(!(t instanceof HTMLElement))return;let n=this[C9].get(t.slot);n&&(n.decrement()&&(this[Cq].removeHotspot(n),this[C9].delete(t.slot)),this[Cq].queueRender())}}return s})((t=>{var n,i,r;class s extends t{constructor(){super(...arguments),this[n]=void 0,this[i]=null,this[r]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[w9]}get availableVariants(){return this.model?this.model[w1]():[]}get originalGltfJson(){return this[w7]}[(n=w9,i=w8,r=w7,Ce)](){return()=>{this[CW]()}}[Ct](t){return t.encoding=3001,t.wrapS=1e3,t.wrapT=1e3,new wh(this[Ce](),t)}async createTexture(t,n="image/png"){let{textureUtils:i}=this[CK],r=await i.loadImage(t);return r.userData.mimeType=n,this[Ct](r)}async createLottieTexture(t,n=1){let{textureUtils:i}=this[CK],r=await i.loadLottie(t,n);return this[Ct](r)}createVideoTexture(t){let n=document.createElement("video");n.src=t,n.muted=!0,n.playsInline=!0,n.loop=!0,n.play();let i=new mB(n);return this[Ct](i)}createCanvasTexture(){let t=new mP(document.createElement("canvas"));return this[Ct](t)}async updated(t){if(super.updated(t),t.has("variantName")){let t=this[CX].beginActivity();t(.1);let n=this[w9],{variantName:i}=this;null!=n&&(await n[wY](i),this[CW](),this.dispatchEvent(new CustomEvent("variant-applied"))),t(1)}if(t.has("orientation")||t.has("scale")){if(!this.loaded)return;let t=this[Cq];t.applyTransform(),t.updateBoundingBox(),t.updateShadow(),this[CK].arRenderer.onUpdateScene(),this[CW]()}}[CZ](){super[CZ]();let{currentGLTF:t}=this[Cq];if(null!=t){let{correlatedSceneGraph:n}=t;null!=n&&t!==this[w8]&&(this[w9]=new w4(n,this[Ce]()),this[w7]=JSON.parse(JSON.stringify(n.gltf))),"variants"in t.userData&&this.requestUpdate("variantName")}this[w8]=t}async exportScene(t){let n=this[Cq];return new Promise(async(i,r)=>{let s={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1};Object.assign(s,t),s.animations=n.animations,s.truncateDrawRange=!0;let o=n.shadow,a=!1;null!=o&&(a=o.visible,o.visible=!1),await this[w9][wZ](),new vA().register(t=>new vG(t)).parse(n.model,t=>i(new Blob([s.binary?t:JSON.stringify(t)],{type:s.binary?"application/octet-stream":"application/json"})),()=>r("glTF export failed"),s),null!=o&&(o.visible=a)})}materialFromPoint(t,n){let i=this[w9];if(null==i)return null;let r=this[Cq],s=r.getNDC(t,n),o=r.hitFromPoint(s);return null==o||null==o.face?null:i[wK](o)}}return w6([ut({type:String,attribute:"variant-name"})],s.prototype,"variantName",void 0),w6([ut({type:String,attribute:"orientation"})],s.prototype,"orientation",void 0),w6([ut({type:String,attribute:"scale"})],s.prototype,"scale",void 0),s})((t=>{var n,i,r;class s extends t{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=3e3,this.rotationPerSecond="auto",this[n]=performance.now(),this[i]=0,this[r]=t=>{this.autoRotate&&"user-interaction"===t.detail.source&&(this[SE]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[ST]),this[SE]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[ST]),this[SE]=performance.now()}updated(t){super.updated(t),t.has("autoRotate")&&(this[SE]=performance.now())}[(n=SE,i=SM,SI)](t){this[SM]=t[0]}[C$](t,n){if(super[C$](t,n),!this.autoRotate||!this[C0]()||this[CK].isPresenting)return;let i=Math.min(n,t-this[SE]-this.autoRotateDelay);i>0&&(this[Cq].yaw=this.turntableRotation+this[SM]*i*.001)}get turntableRotation(){return this[Cq].yaw}resetTurntableRotation(t=0){this[Cq].yaw=t}}return r=ST,SS([ut({type:Boolean,attribute:"auto-rotate"})],s.prototype,"autoRotate",void 0),SS([ut({type:Number,attribute:"auto-rotate-delay"})],s.prototype,"autoRotateDelay",void 0),SS([bL({intrinsics:Sk,updateHandler:SI}),ut({type:String,attribute:"rotation-per-second"})],s.prototype,"rotationPerSecond",void 0),s})((t=>{var n,i,r;class s extends t{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this[n]=null,this[i]=null,this[r]=null}updated(t){super.updated(t),t.has("shadowIntensity")&&(this[Cq].setShadowIntensity(.5*this.shadowIntensity),this[CW]()),t.has("shadowSoftness")&&(this[Cq].setShadowSoftness(this.shadowSoftness),this[CW]()),t.has("exposure")&&(this[Cq].exposure=this.exposure,this[CW]()),(t.has("environmentImage")||t.has("skyboxImage"))&&this[C1]()&&this[xX]()}hasBakedShadow(){return this[Cq].bakedShadows.size>0}async [(n=xY,i=xK,r=xJ,xX)](){let{skyboxImage:t,environmentImage:n}=this;null!=this[xJ]&&(this[xJ](),this[xJ]=null);let{textureUtils:i}=this[CK];if(null==i)return;let r=this[CX].beginActivity();try{let{environmentMap:s,skybox:o}=await i.generateEnvironmentMapAndSkybox(xN(t),n,t=>r(xz(t,0,1)));this[xY]!==s&&(this[xY]=s,this.dispatchEvent(new CustomEvent("environment-change"))),null!=o?this[xK]=o.name===s.name?s:o:this[xK]=null,this[Cq].setEnvironmentAndSkybox(this[xY],this[xK]),this[Cq].dispatchEvent({type:"envmap-update"})}catch(t){if(t instanceof Error)throw this[Cq].setEnvironmentAndSkybox(null,null),t}finally{r(1)}}}return xZ([ut({type:String,attribute:"environment-image"})],s.prototype,"environmentImage",void 0),xZ([ut({type:String,attribute:"skybox-image"})],s.prototype,"skyboxImage",void 0),xZ([ut({type:Number,attribute:"shadow-intensity"})],s.prototype,"shadowIntensity",void 0),xZ([ut({type:Number,attribute:"shadow-softness"})],s.prototype,"shadowSoftness",void 0),xZ([ut({type:Number})],s.prototype,"exposure",void 0),s})((t=>{var n,i,r,s,o,a,l,c,u,d,p,h,f,m,g,x,y;class v extends t{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit=bU,this.cameraTarget="auto auto auto",this.fieldOfView="auto",this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=3e3,this.interactionPrompt=bQ.AUTO,this.interactionPromptStyle=bz.WIGGLE,this.orbitSensitivity=1,this.touchAction=bG.NONE,this.disableZoom=!1,this.disablePan=!1,this.disableTap=!1,this.interpolationDecay=50,this[n]=this.shadowRoot.querySelector(".interaction-prompt"),this[i]=this.shadowRoot.querySelector("#prompt"),this[r]=[this.shadowRoot.querySelector("#finger0"),this.shadowRoot.querySelector("#finger1")],this[s]=this.shadowRoot.querySelector(".pan-target"),this[o]=0,this[a]=1/0,this[l]=!1,this[c]=!1,this[u]=AC.AUTOMATIC,this[d]=new A_(this[Cq].camera,this[Cz],this[Cq]),this[p]=new gR,this[h]=!1,this[f]=!1,this[m]=!1,this[g]=()=>{let t=this[b2].changeSource;this[Aa]=t,t===AC.USER_INTERACTION&&(this[Ar]=!0,this[b8]())},this[x]=()=>{this[b7](),this[CW]();let t=this[b2].changeSource;this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:t}}))},this[y]=t=>{"pointer-change-start"===t.type?this[CQ].classList.add("pointer-tumbling"):this[CQ].classList.remove("pointer-tumbling")}}get inputSensitivity(){return this[b2].inputSensitivity}set inputSensitivity(t){this[b2].inputSensitivity=t}getCameraOrbit(){let{theta:t,phi:n,radius:i}=this[Al];return{theta:t,phi:n,radius:i,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return C2(this[CK].isPresenting?this[CK].arRenderer.target:this[Cq].getTarget())}getFieldOfView(){return this[b2].getFieldOfView()}getMinimumFieldOfView(){return this[b2].options.minimumFieldOfView}getMaximumFieldOfView(){return this[b2].options.maximumFieldOfView}getIdealAspect(){return this[Cq].idealAspect}jumpCameraToGoal(){this[Ac]=!0,this.requestUpdate(Ac,!1)}resetInteractionPrompt(){this[Ao]=0,this[As]=1/0,this[Ar]=!1,this[Ai]=this.interactionPrompt===bQ.AUTO&&this.cameraControls}zoom(t){let n=new WheelEvent("wheel",{deltaY:-30*t});this[Cz].dispatchEvent(n)}connectedCallback(){super.connectedCallback(),this[b2].addEventListener("user-interaction",this[Ae]),this[b2].addEventListener("pointer-change-start",this[An]),this[b2].addEventListener("pointer-change-end",this[An])}disconnectedCallback(){super.disconnectedCallback(),this[b2].removeEventListener("user-interaction",this[Ae]),this[b2].removeEventListener("pointer-change-start",this[An]),this[b2].removeEventListener("pointer-change-end",this[An])}updated(t){super.updated(t);let n=this[b2],i=this[Cq];if(t.has("cameraControls")&&(this.cameraControls?(n.enableInteraction(),this.interactionPrompt===bQ.AUTO&&(this[Ai]=!0)):(n.disableInteraction(),this[b8]()),this[Cz].setAttribute("aria-label",this[CD])),t.has("disableZoom")&&(n.disableZoom=this.disableZoom),t.has("disablePan")&&(n.enablePan=!this.disablePan),t.has("disableTap")&&(n.enableTap=!this.disableTap),(t.has("interactionPrompt")||t.has("cameraControls")||t.has("src"))&&(this.interactionPrompt===bQ.AUTO&&this.cameraControls&&!this[Ar]?this[Ai]=!0:this[b8]()),t.has("interactionPromptStyle")&&(this[b4].style.opacity=this.interactionPromptStyle==bz.BASIC?"1":"0"),t.has("touchAction")){let t=this.touchAction;n.applyOptions({touchAction:t}),n.updateTouchActionStyle()}t.has("orbitSensitivity")&&(n.orbitSensitivity=this.orbitSensitivity),t.has("interpolationDecay")&&(n.setDamperDecayTime(this.interpolationDecay),i.setTargetDamperDecayTime(this.interpolationDecay)),!0===this[Ac]&&Promise.resolve().then(()=>{n.jumpToGoal(),i.jumpToGoal(),this[At](),this[Ac]=!1})}async updateFraming(){let t=this[Cq],n=t.adjustedFoV(t.framedFoVDeg);await t.updateFraming();let i=t.adjustedFoV(t.framedFoVDeg),r=this[b2].getFieldOfView()/n;this[b2].setFieldOfView(i*r),this[Ad]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),this.requestUpdate("cameraOrbit"),await this.updateComplete}interact(t,n,i){let r=this[Cz],s=this[b6];if("1"===s[0].style.opacity){console.warn("interact() failed because an existing interaction is running.");return}let o=[];o.push({x:bD(n.x),y:bD(n.y)});let a=[{x:o[0].x(0),y:o[0].y(0)}];null!=i&&(o.push({x:bD(i.x),y:bD(i.y)}),a.push({x:o[1].x(0),y:o[1].y(0)}));let l=performance.now(),{width:c,height:u}=this[Cq],d=t=>{for(let[n,i]of a.entries()){let{style:o}=s[n];o.transform=`translateX(${c*i.x}px) translateY(${u*i.y}px)`,"pointerdown"===t?o.opacity="1":"pointerup"===t&&(o.opacity="0");let a={pointerId:n-5678,pointerType:"touch",target:r,clientX:c*i.x,clientY:u*i.y,altKey:!0};r.dispatchEvent(new PointerEvent(t,a))}},p=()=>{let n=this[Aa];if(n!==AC.AUTOMATIC||!r.isConnected){for(let t of this[b6])t.style.opacity="0";d("pointercancel"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:n}})),document.removeEventListener("visibilitychange",h);return}let i=Math.min(1,(performance.now()-l)/t);for(let[t,n]of a.entries())n.x=o[t].x(i),n.y=o[t].y(i);d("pointermove"),i<1?requestAnimationFrame(p):(d("pointerup"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:AC.AUTOMATIC}})),document.removeEventListener("visibilitychange",h))},h=()=>{let t=0;"hidden"===document.visibilityState?t=performance.now()-l:l=performance.now()-t};document.addEventListener("visibilitychange",h),d("pointerdown"),this[Aa]=AC.AUTOMATIC,requestAnimationFrame(p)}[(n=b5,i=b4,r=b6,s=b3,o=Ao,a=As,l=Ar,c=Ai,u=Aa,d=b2,p=Al,h=Ac,f=Au,m=Ad,Ah)](t){let n=this[b2],i=this[Cq];i.framedFoVDeg=180*t[0]/Math.PI,n.changeSource=AC.NONE,n.setFieldOfView(i.adjustedFoV(i.framedFoVDeg)),this[Ae]()}[Ap](t){let n=this[b2];if(this[Ad]){let{theta:n,phi:i}=this.getCameraOrbit();t[0]=n,t[1]=i,this[Ad]=!1}n.changeSource=AC.NONE,n.setOrbit(t[0],t[1],t[2]),this[Ae]()}[Am](t){this[b2].applyOptions({minimumAzimuthalAngle:t[0],minimumPolarAngle:t[1],minimumRadius:t[2]}),this.jumpCameraToGoal()}[Ag](t){this[b2].applyOptions({maximumAzimuthalAngle:t[0],maximumPolarAngle:t[1],maximumRadius:t[2]}),this[b9](t[2]),this.jumpCameraToGoal()}[Ax](t){this[b2].applyOptions({minimumFieldOfView:180*t[0]/Math.PI}),this.jumpCameraToGoal()}[Ay](t){let n=this[Cq].adjustedFoV(180*t[0]/Math.PI);this[b2].applyOptions({maximumFieldOfView:n}),this.jumpCameraToGoal()}[Af](t){let[n,i,r]=t;this[CK].arRenderer.isPresenting||this[Cq].setTarget(n,i,r),this[b2].changeSource=AC.NONE,this[CK].arRenderer.updateTarget(),this[Ae]()}[C$](t,n){if(super[C$](t,n),this[CK].isPresenting||!this[C0]())return;let i=this[b2],r=this[Cq],s=performance.now();if(this[Ai]&&this.loaded&&s>this[CU]+this.interactionPromptThreshold&&(this[Ai]=!1,this[As]=s,this[b5].classList.add("visible")),isFinite(this[As])&&this.interactionPromptStyle===bz.WIGGLE){let t=(s-this[As])/5e3%1,n=bO(t),o=bN(t);if(this[b4].style.opacity=`${o}`,n!==this[Ao]){let t=n*r.width*.05,s=(n-this[Ao])*Math.PI/16;this[b4].style.transform=`translateX(${t}px)`,i.changeSource=AC.AUTOMATIC,i.adjustOrbit(s,0,0),this[Ao]=n}}let o=i.update(t,n),a=r.updateTarget(n);(o||a)&&this[At]()}[b8](){this[Ai]=!1,this[b5].classList.remove("visible"),this[As]=1/0}[b9](t){let n=Math.max(this[Cq].boundingSphere.radius,t);this[b2].updateNearFar(0,2*n)}[b7](){let{theta:t,phi:n}=this[b2].getCameraSpherical(this[Al]),i=bV[(4+Math.floor((t%b1+b0)/bX))%4],r=bH[Math.floor(n/bJ)];this[CN](`View from stage ${r}${i}`)}get[CD](){return super[CD].replace(/\.$/,"")+(this.cameraControls?". Use mouse, touch or arrow keys to move.":"")}async [CY](t){let n=this[b2],i=this[Cq],r=i.adjustedFoV(i.framedFoVDeg);super[CY](t);let s=i.adjustedFoV(i.framedFoVDeg)/r,o=n.getFieldOfView()*(isFinite(s)?s:1);n.updateAspect(this[Cq].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),await this.updateComplete,this[b2].setFieldOfView(o),this.jumpCameraToGoal()}[CZ](){super[CZ](),this[Au]?this[Ad]=!0:this[Au]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return g=Ae,x=At,y=An,bF([ut({type:Boolean,attribute:"camera-controls"})],v.prototype,"cameraControls",void 0),bF([bL({intrinsics:b$,observeEffects:!0,updateHandler:Ap}),ut({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],v.prototype,"cameraOrbit",void 0),bF([bL({intrinsics:bK,observeEffects:!0,updateHandler:Af}),ut({type:String,attribute:"camera-target",hasChanged:()=>!0})],v.prototype,"cameraTarget",void 0),bF([bL({intrinsics:bq,observeEffects:!0,updateHandler:Ah}),ut({type:String,attribute:"field-of-view",hasChanged:()=>!0})],v.prototype,"fieldOfView",void 0),bF([bL({intrinsics:bZ,updateHandler:Am}),ut({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],v.prototype,"minCameraOrbit",void 0),bF([bL({intrinsics:bY,updateHandler:Ag}),ut({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],v.prototype,"maxCameraOrbit",void 0),bF([bL({intrinsics:bW,updateHandler:Ax}),ut({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],v.prototype,"minFieldOfView",void 0),bF([bL({intrinsics:bq,updateHandler:Ay}),ut({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],v.prototype,"maxFieldOfView",void 0),bF([ut({type:Number,attribute:"interaction-prompt-threshold"})],v.prototype,"interactionPromptThreshold",void 0),bF([ut({type:String,attribute:"interaction-prompt"})],v.prototype,"interactionPrompt",void 0),bF([ut({type:String,attribute:"interaction-prompt-style"})],v.prototype,"interactionPromptStyle",void 0),bF([ut({type:Number,attribute:"orbit-sensitivity"})],v.prototype,"orbitSensitivity",void 0),bF([ut({type:String,attribute:"touch-action"})],v.prototype,"touchAction",void 0),bF([ut({type:Boolean,attribute:"disable-zoom"})],v.prototype,"disableZoom",void 0),bF([ut({type:Boolean,attribute:"disable-pan"})],v.prototype,"disablePan",void 0),bF([ut({type:Boolean,attribute:"disable-tap"})],v.prototype,"disableTap",void 0),bF([ut({type:Number,attribute:"interpolation-decay"})],v.prototype,"interpolationDecay",void 0),v})((t=>{var n,i,r,s,o,a,l,c,u,d;class p extends t{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes="webxr scene-viewer quick-look",this.iosSrc=null,this.xrEnvironment=!1,this[n]=!1,this[i]=this.shadowRoot.querySelector(".ar-button"),this[r]=document.createElement("a"),this[s]=new Set,this[o]=_8.NONE,this[a]=!1,this[l]=t=>{t.preventDefault(),this.activateAR()},this[c]=({status:t})=>{(t===AS.NOT_PRESENTING||this[CK].arRenderer.presentedScene===this[Cq])&&(this.setAttribute("ar-status",t),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:t}})),t===AS.NOT_PRESENTING?this.removeAttribute("ar-tracking"):t===AS.SESSION_STARTED&&this.setAttribute("ar-tracking",Ak.TRACKING))},this[u]=({status:t})=>{this.setAttribute("ar-tracking",t),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:t}}))},this[d]=t=>{"_apple_ar_quicklook_button_tapped"==t.data&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[Si]!==_8.NONE}connectedCallback(){super.connectedCallback(),this[CK].arRenderer.addEventListener("status",this[Sl]),this.setAttribute("ar-status",AS.NOT_PRESENTING),this[CK].arRenderer.addEventListener("tracking",this[Sc]),this[Ss].addEventListener("message",this[Su])}disconnectedCallback(){super.disconnectedCallback(),this[CK].arRenderer.removeEventListener("status",this[Sl]),this[CK].arRenderer.removeEventListener("tracking",this[Sc]),this[Ss].removeEventListener("message",this[Su])}update(t){super.update(t),t.has("arScale")&&(this[Cq].canScale="fixed"!==this.arScale),t.has("arPlacement")&&(this[Cq].updateShadow(),this[CW]()),t.has("arModes")&&(this[Sr]=_6(this.arModes)),(t.has("ar")||t.has("arModes")||t.has("src")||t.has("iosSrc"))&&this[Sd]()}async activateAR(){switch(this[Si]){case _8.QUICK_LOOK:this[St]();break;case _8.WEBXR:await this[_9]();break;case _8.SCENE_VIEWER:this[Se]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities")}}async [(n=Sn,i=_7,r=Ss,s=Sr,o=Si,a=So,l=Sa,c=Sl,u=Sc,d=Su,Sd)](){let t=_8.NONE;if(this.ar){if(null!=this.src)for(let n of this[Sr]){if("webxr"===n&&xI&&!_3&&await this[CK].arRenderer.supportsPresentation()){t=_8.WEBXR;break}if("scene-viewer"===n&&xD&&!_5){t=_8.SCENE_VIEWER;break}if("quick-look"===n&&xO){t=_8.QUICK_LOOK;break}}t===_8.NONE&&null!=this.iosSrc&&xO&&(t=_8.QUICK_LOOK)}if(t!==_8.NONE)this[_7].classList.add("enabled"),this[_7].addEventListener("click",this[Sa]);else if(this[_7].classList.contains("enabled")){this[_7].removeEventListener("click",this[Sa]),this[_7].classList.remove("enabled");let t=AS.FAILED;this.setAttribute("ar-status",t),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:t}}))}this[Si]=t}async [_9](){console.log("Attempting to present in AR with WebXR..."),await this[Sp]();try{this[_7].removeEventListener("click",this[Sa]);let{arRenderer:t}=this[CK];t.placeOnWall="wall"===this.arPlacement,await t.present(this[Cq],this.xrEnvironment)}catch(t){console.warn("Error while trying to present in AR with WebXR"),console.error(t),await this[CK].arRenderer.stopPresenting(),_3=!0,console.warn("Falling back to next ar-mode"),await this[Sd](),this.activateAR()}finally{this[Sd]()}}async [Sp](){this.loaded||(this[So]=!0,this[CV](),await x$(this,"load"),this[So]=!1)}[C1](){return super[C1]()||this[So]}[Se](){let t=self.location.toString(),n=new URL(t),i=new URL(this.src,t);i.hash&&(i.hash="");let r=new URLSearchParams(i.search);if(n.hash=_4,r.set("mode","ar_preferred"),r.has("disable_occlusion")||r.set("disable_occlusion","true"),"fixed"===this.arScale&&r.set("resizable","false"),"wall"===this.arPlacement&&r.set("enable_vertical_placement","true"),r.has("sound")){let n=new URL(r.get("sound"),t);r.set("sound",n.toString())}if(r.has("link")){let n=new URL(r.get("link"),t);r.set("link",n.toString())}let s=`intent://arvr.google.com/scene-viewer/1.0?${r.toString()+"&file="+encodeURIComponent(i.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(n.toString())};end;`;self.addEventListener("hashchange",()=>{self.location.hash===_4&&(_5=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[Sd]())},{once:!0}),this[Ss].setAttribute("href",s),console.log("Attempting to present in AR with Scene Viewer..."),this[Ss].click()}async [St](){let t=!this.iosSrc;this[_7].classList.remove("enabled");let n=t?await this.prepareUSDZ():this.iosSrc,i=new URL(n,self.location.toString());if(t){let t=new URL(self.location.toString()),n=new URL(this.src,t);n.hash&&(i.hash=n.hash)}"fixed"===this.arScale&&(i.hash&&(i.hash+="&"),i.hash+="allowsContentScaling=0");let r=this[Ss];r.setAttribute("rel","ar");let s=document.createElement("img");r.appendChild(s),r.setAttribute("href",i.toString()),t&&r.setAttribute("download","model.usdz"),r.style.display="none",r.isConnected||this.shadowRoot.appendChild(r),console.log("Attempting to present in AR with Quick Look..."),r.click(),r.removeChild(s),t&&URL.revokeObjectURL(n),this[_7].classList.add("enabled")}async prepareUSDZ(){let t=this[CX].beginActivity();await this[Sp]();let{model:n,shadow:i}=this[Cq];if(null==n)return"";let r=!1;null!=i&&(r=i.visible,i.visible=!1),t(.2);let s=new _Z,o=new Blob([await s.parse(n)],{type:"model/vnd.usdz+zip"}),a=URL.createObjectURL(o);return t(1),null!=i&&(i.visible=r),a}}return _2([ut({type:Boolean,attribute:"ar"})],p.prototype,"ar",void 0),_2([ut({type:String,attribute:"ar-scale"})],p.prototype,"arScale",void 0),_2([ut({type:String,attribute:"ar-placement"})],p.prototype,"arPlacement",void 0),_2([ut({type:String,attribute:"ar-modes"})],p.prototype,"arModes",void 0),_2([ut({type:String,attribute:"ios-src"})],p.prototype,"iosSrc",void 0),_2([ut({type:Boolean,attribute:"xr-environment"})],p.prototype,"xrEnvironment",void 0),p})((t=>{var n,i,r,s,o,a,l,c;class u extends t{constructor(...t){super(...t),this.poster=null,this.reveal=Sf.AUTO,this.loading=Sm.AUTO,this[n]=!1,this[i]=!1,this[r]=this.shadowRoot.querySelector(".slot.poster"),this[s]=this.shadowRoot.querySelector("#default-poster"),this[o]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[a]=this[Sy].getAttribute("aria-label"),this[l]=xH(t=>{let n=this[Sg].parentNode;requestAnimationFrame(()=>{this[Sg].style.transform=`scaleX(${t})`,0===t&&(n.removeChild(this[Sg]),n.appendChild(this[Sg])),1===t?this[Sg].classList.add("hide"):this[Sg].classList.remove("hide")})},100),this[c]=t=>{let n=t.detail.totalProgress;1===n&&(this[Sw].flush(),this.loaded&&(this[Sv]||this.reveal===Sf.AUTO)&&this[Sb]()),this[Sw](n),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:n}}))};let u=self.ModelViewerElement||{},d=u.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.5.6/";vd.setDRACODecoderLocation(d);let p=u.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/";vd.setKTX2TranscoderLocation(p),u.meshoptDecoderLocation&&vd.setMeshoptDecoderLocation(u.meshoptDecoderLocation);let h=u.lottieLoaderLocation||"https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/loaders/LottieLoader.js";A3.singleton.textureUtils.lottieLoaderUrl=h}static set dracoDecoderLocation(t){vd.setDRACODecoderLocation(t)}static get dracoDecoderLocation(){return vd.getDRACODecoderLocation()}static set ktx2TranscoderLocation(t){vd.setKTX2TranscoderLocation(t)}static get ktx2TranscoderLocation(){return vd.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(t){vd.setMeshoptDecoderLocation(t)}static get meshoptDecoderLocation(){return vd.getMeshoptDecoderLocation()}static set lottieLoaderLocation(t){A3.singleton.textureUtils.lottieLoaderUrl=t}static get lottieLoaderLocation(){return A3.singleton.textureUtils.lottieLoaderUrl}static mapURLs(t){A3.singleton.loader[vl].manager.setURLModifier(t)}dismissPoster(){this.loaded?this[Sb]():(this[Sv]=!0,this[CV]())}showPoster(){let t=this[Sx];if(t.classList.contains("show"))return;t.classList.add("show"),this[Cz].classList.remove("show");let n=this[Sy];n.removeAttribute("tabindex"),n.removeAttribute("aria-hidden");let i=this.modelIsVisible;this[SA]=!1,this[CR](i)}getDimensions(){return C2(this[Cq].size)}getBoundingBoxCenter(){return C2(this[Cq].boundingBox.getCenter(new uN))}connectedCallback(){super.connectedCallback(),this.loaded||this.showPoster(),this[CX].addEventListener("progress",this[S_])}disconnectedCallback(){super.disconnectedCallback(),this[CX].removeEventListener("progress",this[S_])}async updated(t){super.updated(t),t.has("poster")&&null!=this.poster&&(this[Sy].style.backgroundImage=`url(${this.poster})`),t.has("alt")&&this[Sy].setAttribute("aria-label",this[CF]),(t.has("reveal")||t.has("loading"))&&this[CV]()}[(n=SA,i=Sv,r=Sx,s=Sy,o=Sg,a=SC,l=Sw,c=S_,C1)](){return!!this.src&&(this[Sv]||this.loading===Sm.EAGER||this.reveal===Sf.AUTO&&this[CP])}[Sb](){this[Sv]=!1;let t=this[Sx];if(!t.classList.contains("show"))return;t.classList.remove("show"),this[Cz].classList.add("show");let n=this.modelIsVisible;this[SA]=!0,this[CR](n);let i=this.getRootNode();i&&i.activeElement===this&&this[Cz].focus();let r=this[Sy];r.setAttribute("aria-hidden","true"),r.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}[C0](){return super[C0]()&&this[SA]}}return Sh([ut({type:String})],u.prototype,"poster",void 0),Sh([ut({type:String})],u.prototype,"reveal",void 0),Sh([ut({type:String})],u.prototype,"loading",void 0),u})((t=>{var n;class i extends t{constructor(...t){super(t),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[n]=!0,this[Cq].subscribeMixerEvent("loop",t=>{let n=t.action._loopCount;this.dispatchEvent(new CustomEvent("loop",{detail:{count:n}}))}),this[Cq].subscribeMixerEvent("finished",()=>{this[C8]=!0,this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[Cq].animationNames:[]}get duration(){return this[Cq].duration}get paused(){return this[C8]}get currentTime(){return this[Cq].animationTime}set currentTime(t){this[Cq].animationTime=t,this[CW]()}get timeScale(){return this[Cq].animationTimeScale}set timeScale(t){this[Cq].animationTimeScale=t}pause(){this[C8]||(this[C8]=!0,this.dispatchEvent(new CustomEvent("pause")))}play(t){this.availableAnimations.length>0&&(this[C8]=!1,this[C6](t),this.dispatchEvent(new CustomEvent("play")))}[(n=C8,CZ)](){super[CZ](),this[C8]=!0,null!=this.animationName&&this[C6](),this.autoplay&&this.play()}[C$](t,n){super[C$](t,n),!this[C8]&&(this[C0]()||this[CK].isPresenting)&&(this[Cq].updateAnimation(n/1e3),this[CW]())}updated(t){super.updated(t),t.has("autoplay")&&this.autoplay&&this.play(),t.has("animationName")&&this[C6]()}[C6](t=C7){var n;let i=null!==(n=t.repetitions)&&void 0!==n?n:1/0,r=t.pingpong?2202:1===i?2200:2201;this[Cq].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3,r,i),this[C8]&&(this[Cq].updateAnimation(0),this[CW]())}}return C4([ut({type:Boolean})],i.prototype,"autoplay",void 0),C4([ut({type:String,attribute:"animation-name"})],i.prototype,"animationName",void 0),C4([ut({type:Number,attribute:"animation-crossfade-duration"})],i.prototype,"animationCrossfadeDuration",void 0),i})(C5))))))));customElements.define("model-viewer",SB);let SL=({imageUrl:t,modelUrl:n,baseColorTextureIndex:i,cameraOrbit:r="160deg 90deg"})=>{let s=(0,c2.useRef)(),[o,a]=(0,c2.useState)(!1);return(0,c2.useEffect)(()=>{(async()=>{let n=s.current;if(!n||!n.model)return;let r=n.model.materials[i],o=await n.createTexture(t);r.pbrMetallicRoughness.baseColorTexture.setTexture(o)})()},[i,t]),(0,c2.useEffect)(()=>{let n=s.current;n.addEventListener("load",async()=>{let s=n.model.materials[i],o=await n.createTexture(t);s.pbrMetallicRoughness.baseColorTexture.setTexture(o),n.cameraOrbit=r,n.cameraControls=!0,a(!0)})},[n,t,i,r]),w.jsx("model-viewer",{ref:s,src:n,style:{width:"100%",height:"100%"},"camera-controls":!0,"shadow-intensity":"1","data-cy":o?"mockup-3d-canvas":"mockup-3d-canvas-loading",children:w.jsx("div",{className:"progress-bar hide",slot:"progress-bar",children:w.jsx("div",{className:"update-bar"})})})};var Sj=Object.create,SP=Object.defineProperty,SR=Object.getOwnPropertyDescriptor,SD=Object.getOwnPropertyNames,SF=Object.getPrototypeOf,SO=Object.prototype.hasOwnProperty,SN=(t,n)=>function(){return n||(0,t[SD(t)[0]])((n={exports:{}}).exports,n),n.exports},SU=(t,n)=>{for(var i in n)SP(t,i,{get:n[i],enumerable:!0})},SV=(t,n,i)=>(i=null!=t?Sj(SF(t)):{},((t,n,i,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let s of SD(n))SO.call(t,s)||s===i||SP(t,s,{get:()=>n[s],enumerable:!(r=SR(n,s))||r.enumerable});return t})(!n&&t&&t.__esModule?i:SP(i,"default",{value:t,enumerable:!0}),t)),SH=SN({"../../node_modules/classnames/index.js"(t,n){!function(){var t={}.hasOwnProperty;function i(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if("string"===o||"number"===o)n.push(s);else if(Array.isArray(s)&&s.length){var a=i.apply(null,s);a&&n.push(a)}else if("object"===o)for(var l in s)t.call(s,l)&&s[l]&&n.push(l)}}return n.join(" ")}void 0!==n&&n.exports?(i.default=i,n.exports=i):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return i}):window.classNames=i}()}}),SQ=SN({"../../node_modules/react/cjs/react.production.min.js"(t){var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(t,n,i){this.props=t,this.context=n,this.refs=g,this.updater=i||f}function y(){}function v(t,n,i){this.props=t,this.context=n,this.refs=g,this.updater=i||f}x.prototype.isReactComponent={},x.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,m(b,x.prototype),b.isPureReactComponent=!0;var A=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(t,i,r){var s,o={},a=null,l=null;if(null!=i)for(s in void 0!==i.ref&&(l=i.ref),void 0!==i.key&&(a=""+i.key),i)w.call(i,s)&&!_.hasOwnProperty(s)&&(o[s]=i[s]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}if(t&&t.defaultProps)for(s in c=t.defaultProps)void 0===o[s]&&(o[s]=c[s]);return{$$typeof:n,type:t,key:a,ref:l,props:o,_owner:C.current}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function M(t,n){var i,r;return"object"==typeof t&&null!==t&&null!=t.key?(i=""+t.key,r={"=":"=0",":":"=2"},"$"+i.replace(/[=:]/g,function(t){return r[t]})):n.toString(36)}function I(t,r,s){if(null==t)return t;var o=[],a=0;return function t(r,s,o,a,l){var c,u,d,p=typeof r;"undefined"!==p&&"boolean"!==p||(r=null);var f=!1;if(null===r)f=!0;else switch(p){case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case n:case i:f=!0}}if(f)return l=l(f=r),r=""===a?"."+M(f,0):a,A(l)?(o="",null!=r&&(o=r.replace(E,"$&/")+"/"),t(l,s,o,"",function(t){return t})):null!=l&&(k(l)&&(c=l,u=o+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+r,l={$$typeof:n,type:c.type,key:u,ref:c.ref,props:c.props,_owner:c._owner}),s.push(l)),1;if(f=0,a=""===a?".":a+":",A(r))for(var m=0;m<r.length;m++){var g=a+M(p=r[m],m);f+=t(p,s,o,g,l)}else if("function"==typeof(g=null===(d=r)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(r=g.call(r),m=0;!(p=r.next()).done;)f+=t(p=p.value,s,o,g=a+M(p,m++),l);else if("object"===p)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(s=String(r))?"object with keys {"+Object.keys(r).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return f}(t,o,"","",function(t){return r.call(s,t,a++)}),o}function T(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var B={current:null},L={transition:null};t.Children={map:I,forEach:function(t,n,i){I(t,function(){n.apply(this,arguments)},i)},count:function(t){var n=0;return I(t,function(){n++}),n},toArray:function(t){return I(t,function(t){return t})||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},t.Component=x,t.Fragment=r,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:L,ReactCurrentOwner:C},t.cloneElement=function(t,i,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=m({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=i){if(void 0!==i.ref&&(a=i.ref,l=C.current),void 0!==i.key&&(o=""+i.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in i)w.call(i,u)&&!_.hasOwnProperty(u)&&(s[u]=void 0===i[u]&&void 0!==c?c[u]:i[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:n,type:t.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},t.createElement=S,t.createFactory=function(t){var n=S.bind(null,t);return n.type=t,n},t.createRef=function(){return{current:null}},t.forwardRef=function(t){return{$$typeof:c,render:t}},t.isValidElement=k,t.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:T}},t.memo=function(t,n){return{$$typeof:d,type:t,compare:void 0===n?null:n}},t.startTransition=function(t){var n=L.transition;L.transition={};try{t()}finally{L.transition=n}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(t,n){return B.current.useCallback(t,n)},t.useContext=function(t){return B.current.useContext(t)},t.useDebugValue=function(){},t.useDeferredValue=function(t){return B.current.useDeferredValue(t)},t.useEffect=function(t,n){return B.current.useEffect(t,n)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(t,n,i){return B.current.useImperativeHandle(t,n,i)},t.useInsertionEffect=function(t,n){return B.current.useInsertionEffect(t,n)},t.useLayoutEffect=function(t,n){return B.current.useLayoutEffect(t,n)},t.useMemo=function(t,n){return B.current.useMemo(t,n)},t.useReducer=function(t,n,i){return B.current.useReducer(t,n,i)},t.useRef=function(t){return B.current.useRef(t)},t.useState=function(t){return B.current.useState(t)},t.useSyncExternalStore=function(t,n,i){return B.current.useSyncExternalStore(t,n,i)},t.useTransition=function(){return B.current.useTransition()},t.version="18.2.0"}}),Sz=SN({"../../node_modules/react/index.js"(t,n){n.exports=SQ()}}),SG=SN({"../../node_modules/@emotion/memoize/dist/memoize.browser.cjs.js"(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n={};return function(i){return void 0===n[i]&&(n[i]=t(i)),n[i]}}}}),Sq=SN({"../../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.cjs.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=SG())&&"object"==typeof n&&"default"in n?n.default:n,r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=i(function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&91>t.charCodeAt(2)});t.default=s}}),SW=SN({"../../node_modules/react/cjs/react-jsx-runtime.production.min.js"(t){var n=Sz(),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(t,n,r){var l,c={},u=null,d=null;for(l in void 0!==r&&(u=""+r),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,l)&&!a.hasOwnProperty(l)&&(c[l]=n[l]);if(t&&t.defaultProps)for(l in n=t.defaultProps)void 0===c[l]&&(c[l]=n[l]);return{$$typeof:i,type:t,key:u,ref:d,props:c,_owner:o.current}}t.Fragment=r,t.jsx=l,t.jsxs=l}}),S$=SN({"../../node_modules/react/jsx-runtime.js"(t,n){n.exports=SW()}}),SZ=SN({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(t,n){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}),SY=SN({"../../node_modules/prop-types/factoryWithThrowingShims.js"(t,n){var i=SZ();function r(){}function s(){}s.resetWarningCache=r,n.exports=function(){function t(t,n,r,s,o,a){if(a!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return t}t.isRequired=t;var o={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:r};return o.PropTypes=o,o}}}),SK=SN({"../../node_modules/prop-types/index.js"(t,n){n.exports=SY()()}}),SX=SN({"../../node_modules/tabbable/dist/index.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var n=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=n.join(","),r="undefined"==typeof Element,s=r?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,o=!r&&Element.prototype.getRootNode?function(t){var n;return null==t||null===(n=t.getRootNode)||void 0===n?void 0:n.call(t)}:function(t){return null==t?void 0:t.ownerDocument},a=function t(n,i){void 0===i&&(i=!0);var r,s=null==n||null===(r=n.getAttribute)||void 0===r?void 0:r.call(n,"inert");return""===s||"true"===s||i&&n&&t(n.parentNode)},l=function(t,n,r){if(a(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(i));return n&&s.call(t,i)&&o.unshift(t),o=o.filter(r)},c=function t(n,r,o){for(var l=[],c=Array.from(n);c.length;){var u=c.shift();if(!a(u,!1)){if("SLOT"===u.tagName){var d=u.assignedElements(),p=t(d.length?d:u.children,!0,o);o.flatten?l.push.apply(l,p):l.push({scopeParent:u,candidates:p})}else{s.call(u,i)&&o.filter(u)&&(r||!n.includes(u))&&l.push(u);var h=u.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(u),f=!a(h,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(u));if(h&&f){var m=t(!0===h?u.children:h.children,!0,o);o.flatten?l.push.apply(l,m):l.push({scopeParent:u,candidates:m})}else c.unshift.apply(c,u.children)}}}return l},u=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},d=function(t){var n,i;if(!t)throw Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||""===(i=null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"contenteditable"))||"true"===i)&&!u(t)?0:t.tabIndex},p=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},h=function(t){return"INPUT"===t.tagName},f=function(t){var n=t.getBoundingClientRect(),i=n.width,r=n.height;return 0===i&&0===r},m=function(t,n){var i=n.displayCheck,r=n.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var a=s.call(t,"details>summary:first-of-type")?t.parentElement:t;if(s.call(a,"details:not([open]) *"))return!0;if(i&&"full"!==i&&"legacy-full"!==i){if("non-zero-area"===i)return f(t)}else{if("function"==typeof r){for(var l=t;t;){var c=t.parentElement,u=o(t);if(c&&!c.shadowRoot&&!0===r(c))return f(t);t=t.assignedSlot?t.assignedSlot:c||u===t.ownerDocument?c:u.host}t=l}if(function(t){var n,i,r,s,a,l,c,u=t&&o(t),d=null===(s=u)||void 0===s?void 0:s.host,p=!1;if(u&&u!==t)for(p=!!(null!==(a=d)&&void 0!==a&&null!==(l=a.ownerDocument)&&void 0!==l&&l.contains(d)||null!=t&&null!==(c=t.ownerDocument)&&void 0!==c&&c.contains(t));!p&&d;)p=!(null===(i=d=null===(n=u=o(d))||void 0===n?void 0:n.host)||void 0===i||null===(r=i.ownerDocument)||void 0===r||!r.contains(d));return p}(t))return!t.getClientRects().length;if("legacy-full"!==i)return!0}return!1},g=function(t,n){return!(n.disabled||a(n)||h(n)&&"hidden"===n.type||m(n,t)||"DETAILS"===n.tagName&&Array.prototype.slice.apply(n.children).some(function(t){return"SUMMARY"===t.tagName})||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if("FIELDSET"===n.tagName&&n.disabled){for(var i=0;i<n.children.length;i++){var r=n.children.item(i);if("LEGEND"===r.tagName)return!!s.call(n,"fieldset[disabled] *")||!r.contains(t)}return!0}n=n.parentElement}return!1}(n))},x=function(t,n){var i;return!(h(i=n)&&"radio"===i.type&&!function(t){if(!t.name)return!0;var n,i=t.form||o(t),r=function(t){return i.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)n=r(window.CSS.escape(t.name));else try{n=r(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var s=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]}(n,t.form);return!s||s===t}(i)||0>d(n)||!g(t,n))},y=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},v=function t(n){var i=[],r=[];return n.forEach(function(n,s){var o,a=!!n.scopeParent,l=a?n.scopeParent:n,c=(o=d(l))<0&&a&&!u(l)?0:o,p=a?t(n.candidates):l;0===c?a?i.push.apply(i,p):i.push(l):r.push({documentOrder:s,tabIndex:c,item:n,isScope:a,content:p})}),r.sort(p).reduce(function(t,n){return n.isScope?t.push.apply(t,n.content):t.push(n.content),t},[]).concat(i)},b=n.concat("iframe").join(",");t.focusable=function(t,n){return(n=n||{}).getShadowRoot?c([t],n.includeContainer,{filter:g.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):l(t,n.includeContainer,g.bind(null,n))},t.getTabIndex=d,t.isFocusable=function(t,n){if(n=n||{},!t)throw Error("No node provided");return!1!==s.call(t,b)&&g(n,t)},t.isTabbable=function(t,n){if(n=n||{},!t)throw Error("No node provided");return!1!==s.call(t,i)&&x(n,t)},t.tabbable=function(t,n){return v((n=n||{}).getShadowRoot?c([t],n.includeContainer,{filter:x.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:y}):l(t,n.includeContainer,x.bind(null,n)))}}}),SJ=SN({"../../node_modules/focus-trap/dist/focus-trap.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var n=SX();function i(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function r(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach(function(n){(function(t,n,i){var r;(n="symbol"==typeof(r=function(t,n){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,n||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(n,"string"))?r:String(r))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var s=function(t,n){if(t.length>0){var i=t[t.length-1];i!==n&&i.pause()}var r=t.indexOf(n);-1===r||t.splice(r,1),t.push(n)},o=function(t,n){var i=t.indexOf(n);-1!==i&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()},a=function(t){return"Tab"===(null==t?void 0:t.key)||9===(null==t?void 0:t.keyCode)},l=function(t){return a(t)&&!t.shiftKey},c=function(t){return a(t)&&t.shiftKey},u=function(t){return setTimeout(t,0)},d=function(t,n){var i=-1;return t.every(function(t,r){return!n(t)||(i=r,!1)}),i},p=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,i):t},h=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},f=[];t.createFocusTrap=function(t,i){var m,g=(null==i?void 0:i.document)||document,x=(null==i?void 0:i.trapStack)||f,y=r({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:l,isKeyBackward:c},i),v={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},b=function(t,n,i){return t&&void 0!==t[n]?t[n]:y[i||n]},A=function(t,n){var i="function"==typeof(null==n?void 0:n.composedPath)?n.composedPath():void 0;return v.containerGroups.findIndex(function(n){var r=n.container,s=n.tabbableNodes;return r.contains(t)||(null==i?void 0:i.includes(r))||s.find(function(n){return n===t})})},w=function(t){var n=y[t];if("function"==typeof n){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];n=n.apply(void 0,r)}if(!0===n&&(n=void 0),!n){if(void 0===n||!1===n)return n;throw Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var o=n;if("string"==typeof n&&!(o=g.querySelector(n)))throw Error("`".concat(t,"` as selector refers to no known node"));return o},C=function(){var t=w("initialFocus");if(!1===t)return!1;if(void 0===t||!n.isFocusable(t,y.tabbableOptions)){if(A(g.activeElement)>=0)t=g.activeElement;else{var i=v.tabbableGroups[0];t=i&&i.firstTabbableNode||w("fallbackFocus")}}if(!t)throw Error("Your focus-trap needs to have at least one focusable element");return t},_=function(){if(v.containerGroups=v.containers.map(function(t){var i=n.tabbable(t,y.tabbableOptions),r=n.focusable(t,y.tabbableOptions),s=i.length>0?i[0]:void 0,o=i.length>0?i[i.length-1]:void 0,a=r.find(function(t){return n.isTabbable(t)}),l=r.slice().reverse().find(function(t){return n.isTabbable(t)}),c=!!i.find(function(t){return n.getTabIndex(t)>0});return{container:t,tabbableNodes:i,focusableNodes:r,posTabIndexesFound:c,firstTabbableNode:s,lastTabbableNode:o,firstDomTabbableNode:a,lastDomTabbableNode:l,nextTabbableNode:function(t){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i.indexOf(t);return o<0?s?r.slice(r.indexOf(t)+1).find(function(t){return n.isTabbable(t)}):r.slice(0,r.indexOf(t)).reverse().find(function(t){return n.isTabbable(t)}):i[o+(s?1:-1)]}}}),v.tabbableGroups=v.containerGroups.filter(function(t){return t.tabbableNodes.length>0}),v.tabbableGroups.length<=0&&!w("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(v.containerGroups.find(function(t){return t.posTabIndexesFound})&&v.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function t(n){!1!==n&&n!==g.activeElement&&(n&&n.focus?(n.focus({preventScroll:!!y.preventScroll}),v.mostRecentlyFocusedNode=n,n.tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select&&n.select()):t(C()))},k=function(t){var n=w("setReturnFocus",t);return n||!1!==n&&t},E=function(t){var i=t.target,r=t.event,s=t.isBackward,o=void 0!==s&&s;i=i||h(r),_();var l=null;if(v.tabbableGroups.length>0){var c=A(i,r),u=c>=0?v.containerGroups[c]:void 0;if(c<0)l=o?v.tabbableGroups[v.tabbableGroups.length-1].lastTabbableNode:v.tabbableGroups[0].firstTabbableNode;else if(o){var p=d(v.tabbableGroups,function(t){var n=t.firstTabbableNode;return i===n});if(p<0&&(u.container===i||n.isFocusable(i,y.tabbableOptions)&&!n.isTabbable(i,y.tabbableOptions)&&!u.nextTabbableNode(i,!1))&&(p=c),p>=0){var f=0===p?v.tabbableGroups.length-1:p-1,m=v.tabbableGroups[f];l=n.getTabIndex(i)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else a(r)||(l=u.nextTabbableNode(i,!1))}else{var g=d(v.tabbableGroups,function(t){var n=t.lastTabbableNode;return i===n});if(g<0&&(u.container===i||n.isFocusable(i,y.tabbableOptions)&&!n.isTabbable(i,y.tabbableOptions)&&!u.nextTabbableNode(i))&&(g=c),g>=0){var x=g===v.tabbableGroups.length-1?0:g+1,b=v.tabbableGroups[x];l=n.getTabIndex(i)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else a(r)||(l=u.nextTabbableNode(i))}}else l=w("fallbackFocus");return l},M=function(t){A(h(t),t)>=0||(p(y.clickOutsideDeactivates,t)?m.deactivate({returnFocus:y.returnFocusOnDeactivate}):p(y.allowOutsideClick,t)||t.preventDefault())},I=function(t){var i=h(t),r=A(i,t)>=0;if(r||i instanceof Document)r&&(v.mostRecentlyFocusedNode=i);else{t.stopImmediatePropagation();var s,o=!0;if(v.mostRecentlyFocusedNode){if(n.getTabIndex(v.mostRecentlyFocusedNode)>0){var a=A(v.mostRecentlyFocusedNode),l=v.containerGroups[a].tabbableNodes;if(l.length>0){var c=l.findIndex(function(t){return t===v.mostRecentlyFocusedNode});c>=0&&(y.isKeyForward(v.recentNavEvent)?c+1<l.length&&(s=l[c+1],o=!1):c-1>=0&&(s=l[c-1],o=!1))}}else v.containerGroups.some(function(t){return t.tabbableNodes.some(function(t){return n.getTabIndex(t)>0})})||(o=!1)}else o=!1;o&&(s=E({target:v.mostRecentlyFocusedNode,isBackward:y.isKeyBackward(v.recentNavEvent)})),S(s||v.mostRecentlyFocusedNode||C())}v.recentNavEvent=void 0},T=function(t){if(("Escape"===(null==t?void 0:t.key)||"Esc"===(null==t?void 0:t.key)||27===(null==t?void 0:t.keyCode))&&!1!==p(y.escapeDeactivates,t))return t.preventDefault(),void m.deactivate();(y.isKeyForward(t)||y.isKeyBackward(t))&&function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v.recentNavEvent=t;var i=E({event:t,isBackward:n});i&&(a(t)&&t.preventDefault(),S(i))}(t,y.isKeyBackward(t))},B=function(t){A(h(t),t)>=0||p(y.clickOutsideDeactivates,t)||p(y.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())},L=function(){if(v.active)return s(x,m),v.delayInitialFocusTimer=y.delayInitialFocus?u(function(){S(C())}):S(C()),g.addEventListener("focusin",I,!0),g.addEventListener("mousedown",M,{capture:!0,passive:!1}),g.addEventListener("touchstart",M,{capture:!0,passive:!1}),g.addEventListener("click",B,{capture:!0,passive:!1}),g.addEventListener("keydown",T,{capture:!0,passive:!1}),m},j=function(){if(v.active)return g.removeEventListener("focusin",I,!0),g.removeEventListener("mousedown",M,!0),g.removeEventListener("touchstart",M,!0),g.removeEventListener("click",B,!0),g.removeEventListener("keydown",T,!0),m},P="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver(function(t){t.some(function(t){return Array.from(t.removedNodes).some(function(t){return t===v.mostRecentlyFocusedNode})})&&S(C())}):void 0,R=function(){P&&(P.disconnect(),v.active&&!v.paused&&v.containers.map(function(t){P.observe(t,{subtree:!0,childList:!0})}))};return(m={get active(){return v.active},get paused(){return v.paused},activate:function(t){if(v.active)return this;var n=b(t,"onActivate"),i=b(t,"onPostActivate"),r=b(t,"checkCanFocusTrap");r||_(),v.active=!0,v.paused=!1,v.nodeFocusedBeforeActivation=g.activeElement,null==n||n();var s=function(){r&&_(),L(),R(),null==i||i()};return r?r(v.containers.concat()).then(s,s):s(),this},deactivate:function(t){if(!v.active)return this;var n=r({onDeactivate:y.onDeactivate,onPostDeactivate:y.onPostDeactivate,checkCanReturnFocus:y.checkCanReturnFocus},t);clearTimeout(v.delayInitialFocusTimer),v.delayInitialFocusTimer=void 0,j(),v.active=!1,v.paused=!1,R(),o(x,m);var i=b(n,"onDeactivate"),s=b(n,"onPostDeactivate"),a=b(n,"checkCanReturnFocus"),l=b(n,"returnFocus","returnFocusOnDeactivate");null==i||i();var c=function(){u(function(){l&&S(k(v.nodeFocusedBeforeActivation)),null==s||s()})};return l&&a?a(k(v.nodeFocusedBeforeActivation)).then(c,c):c(),this},pause:function(t){if(v.paused||!v.active)return this;var n=b(t,"onPause"),i=b(t,"onPostPause");return v.paused=!0,null==n||n(),j(),R(),null==i||i(),this},unpause:function(t){if(!v.paused||!v.active)return this;var n=b(t,"onUnpause"),i=b(t,"onPostUnpause");return v.paused=!1,null==n||n(),_(),L(),R(),null==i||i(),this},updateContainerElements:function(t){var n=[].concat(t).filter(Boolean);return v.containers=n.map(function(t){return"string"==typeof t?g.querySelector(t):t}),v.active&&_(),R(),this}}).updateContainerElements(t),m}}}),S0=SN({"../../node_modules/focus-trap-react/dist/focus-trap-react.js"(t,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,n){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function o(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){var n=function(t,n){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,n||"default");if("object"!==i(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===i(n)?n:String(n)}var c=Sz(),u=SK(),d=SJ().createFocusTrap,p=SX().isFocusable,h=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&s(t,n)}(f,t);var n,u,d,h=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=a(f);return t=n?Reflect.construct(r,arguments,a(this).constructor):r.apply(this,arguments),function(t,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return o(t)}(this,t)});function f(t){(function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")})(this,f),i=o(n=h.call(this,t)),s=function(t){var n,i=null!==(n=this.internalOptions[t])&&void 0!==n?n:this.originalOptions[t];if("function"==typeof i){for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];i=i.apply(void 0,s)}if(!0===i&&(i=void 0),!i){if(void 0===i||!1===i)return i;throw Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var a,l=i;if("string"==typeof i&&!(l=null===(a=this.getDocument())||void 0===a?void 0:a.querySelector(i)))throw Error("`".concat(t,"` as selector refers to no known node"));return l},(r=l(r="getNodeForOption"))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,n.handleDeactivate=n.handleDeactivate.bind(o(n)),n.handlePostDeactivate=n.handlePostDeactivate.bind(o(n)),n.handleClickOutsideDeactivates=n.handleClickOutsideDeactivates.bind(o(n)),n.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:n.handleDeactivate,onPostDeactivate:n.handlePostDeactivate,clickOutsideDeactivates:n.handleClickOutsideDeactivates},n.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var n,i,r,s,a=t.focusTrapOptions;for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&("returnFocusOnDeactivate"!==c&&"onDeactivate"!==c&&"onPostDeactivate"!==c&&"checkCanReturnFocus"!==c&&"clickOutsideDeactivates"!==c?n.internalOptions[c]=a[c]:n.originalOptions[c]=a[c]);return n.outsideClick=null,n.focusTrapElements=t.containerElements||[],n.updatePreviousElement(),n}return u=[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var t=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return t||!1!==t&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var t=this.getDocument();t&&(this.previouslyFocusedElement=t.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(t){var n="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,t):this.originalOptions.clickOutsideDeactivates;return n&&(this.outsideClick={target:t.target,allowDeactivation:n}),n}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var t=this,n=function(){var n=t.getReturnFocusNode(),i=!(!t.originalOptions.returnFocusOnDeactivate||null==n||!n.focus||t.outsideClick&&(!t.outsideClick.allowDeactivation||p(t.outsideClick.target,t.internalOptions.tabbableOptions))),r=t.internalOptions.preventScroll;i&&n.focus({preventScroll:void 0!==r&&r}),t.originalOptions.onPostDeactivate&&t.originalOptions.onPostDeactivate.call(null),t.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(n,n):n()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(t){if(this.focusTrap){t.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var n=!t.active&&this.props.active,i=t.active&&!this.props.active,r=!t.paused&&this.props.paused,s=t.paused&&!this.props.paused;if(n&&(this.updatePreviousElement(),this.focusTrap.activate()),i)return void this.deactivateTrap();r&&this.focusTrap.pause(),s&&this.focusTrap.unpause()}else t.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var t=this,n=this.props.children?c.Children.only(this.props.children):void 0;if(n){if(n.type&&n.type===c.Fragment)throw Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return c.cloneElement(n,{ref:function(i){var r=t.props.containerElements;n&&("function"==typeof n.ref?n.ref(i):n.ref&&(n.ref.current=i)),t.focusTrapElements=r||[i]}})}return null}}],r(f.prototype,u),d&&r(f,d),Object.defineProperty(f,"prototype",{writable:!1}),f}(c.Component),f="undefined"==typeof Element?Function:Element;h.propTypes={active:u.bool,paused:u.bool,focusTrapOptions:u.shape({document:u.object,onActivate:u.func,onPostActivate:u.func,checkCanFocusTrap:u.func,onPause:u.func,onPostPause:u.func,onUnpause:u.func,onPostUnpause:u.func,onDeactivate:u.func,onPostDeactivate:u.func,checkCanReturnFocus:u.func,initialFocus:u.oneOfType([u.instanceOf(f),u.string,u.bool,u.func]),fallbackFocus:u.oneOfType([u.instanceOf(f),u.string,u.func]),escapeDeactivates:u.oneOfType([u.bool,u.func]),clickOutsideDeactivates:u.oneOfType([u.bool,u.func]),returnFocusOnDeactivate:u.bool,setReturnFocus:u.oneOfType([u.instanceOf(f),u.string,u.bool,u.func]),allowOutsideClick:u.oneOfType([u.bool,u.func]),preventScroll:u.bool,tabbableOptions:u.shape({displayCheck:u.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:u.oneOfType([u.bool,u.func])}),trapStack:u.array,isKeyForward:u.func,isKeyBackward:u.func}),containerElements:u.arrayOf(u.instanceOf(f)),children:u.oneOfType([u.element,u.instanceOf(f)])},h.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:d},n.exports=h}}),S1=SN({"../../node_modules/lodash/noop.js"(t,n){n.exports=function(){}}}),S2=SN({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(t){function n(t,n){var i=t.length;for(t.push(n);0<i;){var r=i-1>>>1,o=t[r];if(!(0<s(o,n)))break;t[r]=n,t[i]=o,i=r}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var n=t[0],i=t.pop();if(i!==n){t[0]=i;for(var r=0,o=t.length,a=o>>>1;r<a;){var l=2*(r+1)-1,c=t[l],u=l+1,d=t[u];if(0>s(c,i))u<o&&0>s(d,c)?(t[r]=d,t[u]=i,r=u):(t[r]=c,t[l]=i,r=l);else{if(!(u<o&&0>s(d,i)))break;t[r]=d,t[u]=i,r=u}}}return n}function s(t,n){var i=t.sortIndex-n.sortIndex;return 0!==i?i:t.id-n.id}"object"==typeof performance&&"function"==typeof performance.now?(b=performance,t.unstable_now=function(){return b.now()}):(w=(A=Date).now(),t.unstable_now=function(){return A.now()-w});var o=[],a=[],l=1,c=null,u=3,d=!1,p=!1,h=!1,f="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function x(t){for(var s=i(a);null!==s;){if(null===s.callback)r(a);else{if(!(s.startTime<=t))break;r(a),s.sortIndex=s.expirationTime,n(o,s)}s=i(a)}}function y(t){if(h=!1,x(t),!p){if(null!==i(o))p=!0,j(v);else{var n=i(a);null!==n&&P(y,n.startTime-t)}}}function v(n,s){p=!1,h&&(h=!1,m(M),M=-1),d=!0;var l=u;try{for(x(s),c=i(o);null!==c&&(!(c.expirationTime>s)||n&&!B());){var f=c.callback;if("function"==typeof f){c.callback=null,u=c.priorityLevel;var g=f(c.expirationTime<=s);s=t.unstable_now(),"function"==typeof g?c.callback=g:c===i(o)&&r(o),x(s)}else r(o);c=i(o)}if(null!==c)var v=!0;else{var b=i(a);null!==b&&P(y,b.startTime-s),v=!1}return v}finally{c=null,u=l,d=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var b,A,w,C,_,S,k=!1,E=null,M=-1,I=5,T=-1;function B(){return!(t.unstable_now()-T<I)}function L(){if(null!==E){var n=t.unstable_now();T=n;var i=!0;try{i=E(!0,n)}finally{i?C():(k=!1,E=null)}}else k=!1}function j(t){E=t,k||(k=!0,C())}function P(n,i){M=f(function(){n(t.unstable_now())},i)}"function"==typeof g?C=function(){g(L)}:"undefined"!=typeof MessageChannel?(S=(_=new MessageChannel).port2,_.port1.onmessage=L,C=function(){S.postMessage(null)}):C=function(){f(L,0)},t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(t){t.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,j(v))},t.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return i(o)},t.unstable_next=function(t){switch(u){case 1:case 2:case 3:var n=3;break;default:n=u}var i=u;u=n;try{return t()}finally{u=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=u;u=t;try{return n()}finally{u=i}},t.unstable_scheduleCallback=function(r,s,c){var u=t.unstable_now();switch(c="object"==typeof c&&null!==c&&"number"==typeof(c=c.delay)&&0<c?u+c:u,r){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return r={id:l++,callback:s,priorityLevel:r,startTime:c,expirationTime:f=c+f,sortIndex:-1},c>u?(r.sortIndex=c,n(a,r),null===i(o)&&r===i(a)&&(h?(m(M),M=-1):h=!0,P(y,c-u))):(r.sortIndex=f,n(o,r),p||d||(p=!0,j(v))),r},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(t){var n=u;return function(){var i=u;u=n;try{return t.apply(this,arguments)}finally{u=i}}}}}),S3=SN({"../../node_modules/scheduler/index.js"(t,n){n.exports=S2()}}),S5=SN({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(t){var n=Sz(),i=S3();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(t,n){l(t,n),l(t+"Capture",n)}function l(t,n){for(o[t]=n,t=0;t<n.length;t++)s.add(n[t])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(t,n,i,r,s,o,a){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){m[t]=new f(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];m[n]=new f(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){m[t]=new f(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){m[t]=new f(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){m[t]=new f(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){m[t]=new f(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){m[t]=new f(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){m[t]=new f(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){m[t]=new f(t,5,!1,t.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function y(t,n,i,r){var s,o=m.hasOwnProperty(n)?m[n]:null;(null!==o?0!==o.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(t,n,i,r){if(null==n||function(t,n,i,r){if(null!==i&&0===i.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,n,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,i,o,r)&&(i=null),r||null===o?(s=n,(!!u.call(h,s)||!u.call(p,s)&&(d.test(s)?h[s]=!0:(p[s]=!0,!1)))&&(null===i?t.removeAttribute(n):t.setAttribute(n,""+i))):o.mustUseProperty?t[o.propertyName]=null===i?3!==o.type&&"":i:(n=o.attributeName,r=o.attributeNamespace,null===i?t.removeAttribute(n):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,r?t.setAttributeNS(r,n,i):t.setAttribute(n,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(g,x);m[n]=new f(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(g,x);m[n]=new f(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(g,x);m[n]=new f(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){m[t]=new f(t,1,!1,t.toLowerCase(),null,!1,!1)}),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){m[t]=new f(t,1,!1,t.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function P(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=j&&t[j]||t["@@iterator"])?t:null}var R,D=Object.assign;function F(t){if(void 0===R)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return"\n"+R+t}var O=!1;function N(t,n){if(!t||O)return"";O=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n){if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(t){var r=t}Reflect.construct(t,[],n)}else{try{n.call()}catch(t){r=t}t.call(n.prototype)}}else{try{throw Error()}catch(t){r=t}t()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var s=n.stack.split("\n"),o=r.stack.split("\n"),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(1!==a||1!==l)do if(a--,0>--l||s[a]!==o[l]){var c="\n"+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{O=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?F(t):""}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var n=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===n||"radio"===n)}function H(t){t._valueTracker||(t._valueTracker=function(t){var n=V(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,o=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return s.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}(t))}function Q(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),r="";return t&&(r=V(t)?t.checked?"true":"false":t.value),(t=r)!==i&&(n.setValue(t),!0)}function z(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(n){return t.body}}function G(t,n){var i=n.checked;return D({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function q(t,n){var i=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;i=U(null!=n.value?n.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function W(t,n){null!=(n=n.checked)&&y(t,"checked",n,!1)}function $(t,n){W(t,n);var i=U(n.value),r=n.type;if(null!=i)"number"===r?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");n.hasOwnProperty("value")?Y(t,n.type,i):n.hasOwnProperty("defaultValue")&&Y(t,n.type,U(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(t.defaultChecked=!!n.defaultChecked)}function Z(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function Y(t,n,i){"number"===n&&z(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var K,X=Array.isArray;function J(t,n,i,r){if(t=t.options,n){n={};for(var s=0;s<i.length;s++)n["$"+i[s]]=!0;for(i=0;i<t.length;i++)s=n.hasOwnProperty("$"+t[i].value),t[i].selected!==s&&(t[i].selected=s),s&&r&&(t[i].defaultSelected=!0)}else{for(i=""+U(i),n=null,s=0;s<t.length;s++){if(t[s].value===i)return t[s].selected=!0,void(r&&(t[s].defaultSelected=!0));null!==n||t[s].disabled||(n=t[s])}null!==n&&(n.selected=!0)}}function ee(t,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return D({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function et(t,n){var i=n.value;if(null==i){if(i=n.children,n=n.defaultValue,null!=i){if(null!=n)throw Error(r(92));if(X(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),i=n}t._wrapperState={initialValue:U(i)}}function en(t,n){var i=U(n.value),r=U(n.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==n.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=r&&(t.defaultValue=""+r)}function ei(t){var n=t.textContent;n===t._wrapperState.initialValue&&""!==n&&null!==n&&(t.value=n)}function er(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(t,n){return null==t||"http://www.w3.org/1999/xhtml"===t?er(n):"http://www.w3.org/2000/svg"===t&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":t}var eo,ea=(eo=function(t,n){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=n;else{for((K=K||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=K.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return eo(t,n)})}:eo);function el(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=n)}t.textContent=n}var ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eu=["Webkit","ms","Moz","O"];function ed(t,n,i){return null==n||"boolean"==typeof n||""===n?"":i||"number"!=typeof n||0===n||ec.hasOwnProperty(t)&&ec[t]?(""+n).trim():n+"px"}function ep(t,n){for(var i in t=t.style,n)if(n.hasOwnProperty(i)){var r=0===i.indexOf("--"),s=ed(i,n[i],r);"float"===i&&(i="cssFloat"),r?t.setProperty(i,s):t[i]=s}}Object.keys(ec).forEach(function(t){eu.forEach(function(n){ec[n=n+t.charAt(0).toUpperCase()+t.substring(1)]=ec[t]})});var eh=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ef(t,n){if(n){if(eh[t]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(r(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(r(62))}}function em(t,n){if(-1===t.indexOf("-"))return"string"==typeof n.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function ex(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var ey=null,ev=null,eb=null;function eA(t){if(t=iL(t)){if("function"!=typeof ey)throw Error(r(280));var n=t.stateNode;n&&(n=iP(n),ey(t.stateNode,t.type,n))}}function ew(t){ev?eb?eb.push(t):eb=[t]:ev=t}function eC(){if(ev){var t=ev,n=eb;if(eb=ev=null,eA(t),n)for(t=0;t<n.length;t++)eA(n[t])}}function e_(t,n){return t(n)}function eS(){}var ek=!1;function eE(t,n,i){if(ek)return t(n,i);ek=!0;try{return e_(t,n,i)}finally{ek=!1,(null!==ev||null!==eb)&&(eS(),eC())}}function eM(t,n){var i=t.stateNode;if(null===i)return null;var s=iP(i);if(null===s)return null;switch(i=s[n],n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break;default:t=!1}if(t)return null;if(i&&"function"!=typeof i)throw Error(r(231,n,typeof i));return i}var eI,eT=!1;if(c)try{eI={},Object.defineProperty(eI,"passive",{get:function(){eT=!0}}),window.addEventListener("test",eI,eI),window.removeEventListener("test",eI,eI)}catch(t){eT=!1}function eB(t,n,i,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{n.apply(i,u)}catch(t){this.onError(t)}}var eL=!1,ej=null,eP=!1,eR=null,eD={onError:function(t){eL=!0,ej=t}};function eF(t,n,i,r,s,o,a,l,c){eL=!1,ej=null,eB.apply(eD,arguments)}function eO(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do 0!=(4098&(n=t).flags)&&(i=n.return),t=n.return;while(t)}return 3===n.tag?i:null}function eN(t){if(13===t.tag){var n=t.memoizedState;if(null===n&&null!==(t=t.alternate)&&(n=t.memoizedState),null!==n)return n.dehydrated}return null}function eU(t){if(eO(t)!==t)throw Error(r(188))}function eV(t){return null!==(t=function(t){var n=t.alternate;if(!n){if(null===(n=eO(t)))throw Error(r(188));return n!==t?null:t}for(var i=t,s=n;;){var o=i.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(s=o.return)){i=s;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===i)return eU(o),t;if(a===s)return eU(o),n;a=a.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=a;else{for(var l=!1,c=o.child;c;){if(c===i){l=!0,i=o,s=a;break}if(c===s){l=!0,s=o,i=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===i){l=!0,i=a,s=o;break}if(c===s){l=!0,s=a,i=o;break}c=c.sibling}if(!l)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?t:n}(t))?function t(n){if(5===n.tag||6===n.tag)return n;for(n=n.child;null!==n;){var i=t(n);if(null!==i)return i;n=n.sibling}return null}(t):null}var eH=i.unstable_scheduleCallback,eQ=i.unstable_cancelCallback,ez=i.unstable_shouldYield,eG=i.unstable_requestPaint,eq=i.unstable_now,eW=i.unstable_getCurrentPriorityLevel,e$=i.unstable_ImmediatePriority,eZ=i.unstable_UserBlockingPriority,eY=i.unstable_NormalPriority,eK=i.unstable_LowPriority,eX=i.unstable_IdlePriority,eJ=null,e0=null,e1=Math.clz32?Math.clz32:function(t){return 0==(t>>>=0)?32:31-(e2(t)/e3|0)|0},e2=Math.log,e3=Math.LN2,e5=64,e4=4194304;function e6(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function e8(t,n){var i=t.pendingLanes;if(0===i)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=268435455&i;if(0!==a){var l=a&~s;0!==l?r=e6(l):0!=(o&=a)&&(r=e6(o))}else 0!=(a=i&~s)?r=e6(a):0!==o&&(r=e6(o));if(0===r)return 0;if(0!==n&&n!==r&&0==(n&s)&&((s=r&-r)>=(o=n&-n)||16===s&&0!=(4194240&o)))return n;if(0!=(4&r)&&(r|=16&i),0!==(n=t.entangledLanes))for(t=t.entanglements,n&=r;0<n;)s=1<<(i=31-e1(n)),r|=t[i],n&=~s;return r}function e7(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function e9(){var t=e5;return 0==(4194240&(e5<<=1))&&(e5=64),t}function te(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function tt(t,n,i){t.pendingLanes|=n,536870912!==n&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[n=31-e1(n)]=i}function tn(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var r=31-e1(i),s=1<<r;s&n|t[r]&n&&(t[r]|=n),i&=~s}}var ti,tr,ts,to,ta,tl=0;function tc(t){return 1<(t&=-t)?4<t?0!=(268435455&t)?16:536870912:4:1}var tu=!1,td=[],tp=null,th=null,tf=null,tm=new Map,tg=new Map,tx=[],ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tv(t,n){switch(t){case"focusin":case"focusout":tp=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":tf=null;break;case"pointerover":case"pointerout":tm.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tg.delete(n.pointerId)}}function tb(t,n,i,r,s,o){return null===t||t.nativeEvent!==o?(t={blockedOn:n,domEventName:i,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==n&&null!==(n=iL(n))&&tr(n)):(t.eventSystemFlags|=r,n=t.targetContainers,null!==s&&-1===n.indexOf(s)&&n.push(s)),t}function tA(t){var n=iB(t.target);if(null!==n){var i=eO(n);if(null!==i){if(13===(n=i.tag)){if(null!==(n=eN(i)))return t.blockedOn=n,void ta(t.priority,function(){ts(i)})}else if(3===n&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}}t.blockedOn=null}function tw(t){if(null!==t.blockedOn)return!1;for(var n=t.targetContainers;0<n.length;){var i=tj(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(null!==i)return null!==(n=iL(i))&&tr(n),t.blockedOn=i,!1;var r=new(i=t.nativeEvent).constructor(i.type,i);eg=r,i.target.dispatchEvent(r),eg=null,n.shift()}return!0}function tC(t,n,i){tw(t)&&i.delete(n)}function t_(){tu=!1,null!==tp&&tw(tp)&&(tp=null),null!==th&&tw(th)&&(th=null),null!==tf&&tw(tf)&&(tf=null),tm.forEach(tC),tg.forEach(tC)}function tS(t,n){t.blockedOn===n&&(t.blockedOn=null,tu||(tu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,t_)))}function tk(t){function n(n){return tS(n,t)}if(0<td.length){tS(td[0],t);for(var i=1;i<td.length;i++){var r=td[i];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==tp&&tS(tp,t),null!==th&&tS(th,t),null!==tf&&tS(tf,t),tm.forEach(n),tg.forEach(n),i=0;i<tx.length;i++)(r=tx[i]).blockedOn===t&&(r.blockedOn=null);for(;0<tx.length&&null===(i=tx[0]).blockedOn;)tA(i),null===i.blockedOn&&tx.shift()}var tE=v.ReactCurrentBatchConfig,tM=!0;function tI(t,n,i,r){var s=tl,o=tE.transition;tE.transition=null;try{tl=1,tB(t,n,i,r)}finally{tl=s,tE.transition=o}}function tT(t,n,i,r){var s=tl,o=tE.transition;tE.transition=null;try{tl=4,tB(t,n,i,r)}finally{tl=s,tE.transition=o}}function tB(t,n,i,r){if(tM){var s=tj(t,n,i,r);if(null===s)it(t,n,r,tL,i),tv(t,r);else if(function(t,n,i,r,s){switch(n){case"focusin":return tp=tb(tp,t,n,i,r,s),!0;case"dragenter":return th=tb(th,t,n,i,r,s),!0;case"mouseover":return tf=tb(tf,t,n,i,r,s),!0;case"pointerover":var o=s.pointerId;return tm.set(o,tb(tm.get(o)||null,t,n,i,r,s)),!0;case"gotpointercapture":return o=s.pointerId,tg.set(o,tb(tg.get(o)||null,t,n,i,r,s)),!0}return!1}(s,t,n,i,r))r.stopPropagation();else if(tv(t,r),4&n&&-1<ty.indexOf(t)){for(;null!==s;){var o=iL(s);if(null!==o&&ti(o),null===(o=tj(t,n,i,r))&&it(t,n,r,tL,i),o===s)break;s=o}null!==s&&r.stopPropagation()}else it(t,n,r,null,i)}}var tL=null;function tj(t,n,i,r){if(tL=null,null!==(t=iB(t=ex(r)))){if(null===(n=eO(t)))t=null;else if(13===(i=n.tag)){if(null!==(t=eN(n)))return t;t=null}else if(3===i){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}return tL=t,null}function tP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eW()){case e$:return 1;case eZ:return 4;case eY:case eK:return 16;case eX:return 536870912;default:return 16}default:return 16}}var tR=null,tD=null,tF=null;function tO(){if(tF)return tF;var t,n,i=tD,r=i.length,s="value"in tR?tR.value:tR.textContent,o=s.length;for(t=0;t<r&&i[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&i[r-n]===s[o-n];n++);return tF=s.slice(t,1<n?1-n:void 0)}function tN(t){var n=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}function tU(){return!0}function tV(){return!1}function tH(t){function n(n,i,r,s,o){for(var a in this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?tU:tV,this.isPropagationStopped=tV,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=tU)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=tU)},persist:function(){},isPersistent:tU}),n}var tQ,tz,tG,tq={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tW=tH(tq),t$=D({},tq,{view:0,detail:0}),tZ=tH(t$),tY=D({},t$,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t8,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tG&&(tG&&"mousemove"===t.type?(tQ=t.screenX-tG.screenX,tz=t.screenY-tG.screenY):tz=tQ=0,tG=t),tQ)},movementY:function(t){return"movementY"in t?t.movementY:tz}}),tK=tH(tY),tX=tH(D({},tY,{dataTransfer:0})),tJ=tH(D({},t$,{relatedTarget:0})),t0=tH(D({},tq,{animationName:0,elapsedTime:0,pseudoElement:0})),t1=tH(D({},tq,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),t2=tH(D({},tq,{data:0})),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t6(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):!!(t=t4[t])&&!!n[t]}function t8(){return t6}var t7=tH(D({},t$,{key:function(t){if(t.key){var n=t3[t.key]||t.key;if("Unidentified"!==n)return n}return"keypress"===t.type?13===(t=tN(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?t5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t8,charCode:function(t){return"keypress"===t.type?tN(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tN(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),t9=tH(D({},tY,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ne=tH(D({},t$,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t8})),nt=tH(D({},tq,{propertyName:0,elapsedTime:0,pseudoElement:0})),nn=tH(D({},tY,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),ni=[9,13,27,32],nr=c&&"CompositionEvent"in window,ns=null;c&&"documentMode"in document&&(ns=document.documentMode);var no=c&&"TextEvent"in window&&!ns,na=c&&(!nr||ns&&8<ns&&11>=ns),nl=!1;function nc(t,n){switch(t){case"keyup":return -1!==ni.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var nd=!1,np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===n?!!np[t.type]:"textarea"===n}function nf(t,n,i,r){ew(r),0<(n=ir(n,"onChange")).length&&(i=new tW("onChange","change",null,i,r),t.push({event:i,listeners:n}))}var nm=null,ng=null;function nx(t){n4(t,0)}function ny(t){if(Q(ij(t)))return t}function nv(t,n){if("change"===t)return n}var nb,nA,nw,nC=!1;function n_(){nm&&(nm.detachEvent("onpropertychange",nS),ng=nm=null)}function nS(t){if("value"===t.propertyName&&ny(ng)){var n=[];nf(n,ng,t,ex(t)),eE(nx,n)}}function nk(t,n,i){"focusin"===t?(n_(),ng=i,(nm=n).attachEvent("onpropertychange",nS)):"focusout"===t&&n_()}function nE(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ny(ng)}function nM(t,n){if("click"===t)return ny(n)}function nI(t,n){if("input"===t||"change"===t)return ny(n)}c&&(c?((nA="oninput"in document)||((nw=document.createElement("div")).setAttribute("oninput","return;"),nA="function"==typeof nw.oninput),nb=nA):nb=!1,nC=nb&&(!document.documentMode||9<document.documentMode));var nT="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n};function nB(t,n){if(nT(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var i=Object.keys(t),r=Object.keys(n);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var s=i[r];if(!u.call(n,s)||!nT(t[s],n[s]))return!1}return!0}function nL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nj(t,n){var i,r=nL(t);for(t=0;r;){if(3===r.nodeType){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}s:{for(;r;){if(r.nextSibling){r=r.nextSibling;break s}r=r.parentNode}r=void 0}r=nL(r)}}function nP(){for(var t=window,n=z();n instanceof t.HTMLIFrameElement;){try{var i="string"==typeof n.contentWindow.location.href}catch(t){i=!1}if(!i)break;n=z((t=n.contentWindow).document)}return n}function nR(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&("input"===n&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===n||"true"===t.contentEditable)}var nD=c&&"documentMode"in document&&11>=document.documentMode,nF=null,nO=null,nN=null,nU=!1;function nV(t,n,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;nU||null==nF||nF!==z(r)||(r="selectionStart"in(r=nF)&&nR(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nN&&nB(nN,r)||(nN=r,0<(r=ir(nO,"onSelect")).length&&(n=new tW("onSelect","select",null,n,i),t.push({event:n,listeners:r}),n.target=nF)))}function nH(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var nQ={animationend:nH("Animation","AnimationEnd"),animationiteration:nH("Animation","AnimationIteration"),animationstart:nH("Animation","AnimationStart"),transitionend:nH("Transition","TransitionEnd")},nz={},nG={};function nq(t){if(nz[t])return nz[t];if(!nQ[t])return t;var n,i=nQ[t];for(n in i)if(i.hasOwnProperty(n)&&n in nG)return nz[t]=i[n];return t}c&&(nG=document.createElement("div").style,"AnimationEvent"in window||(delete nQ.animationend.animation,delete nQ.animationiteration.animation,delete nQ.animationstart.animation),"TransitionEvent"in window||delete nQ.transitionend.transition);var nW,n$,nZ=nq("animationend"),nY=nq("animationiteration"),nK=nq("animationstart"),nX=nq("transitionend"),nJ=new Map,n0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function n1(t,n){nJ.set(t,n),a(n,[t])}for(n$=0;n$<n0.length;n$++)n1((nW=n0[n$]).toLowerCase(),"on"+(nW[0].toUpperCase()+nW.slice(1)));n1(nZ,"onAnimationEnd"),n1(nY,"onAnimationIteration"),n1(nK,"onAnimationStart"),n1("dblclick","onDoubleClick"),n1("focusin","onFocus"),n1("focusout","onBlur"),n1(nX,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n3=new Set("cancel close invalid load scroll toggle".split(" ").concat(n2));function n5(t,n,i){var s=t.type||"unknown-event";t.currentTarget=i,function(t,n,i,s,o,a,l,c,u){if(eF.apply(this,arguments),eL){if(!eL)throw Error(r(198));var d=ej;eL=!1,ej=null,eP||(eP=!0,eR=d)}}(s,n,void 0,t),t.currentTarget=null}function n4(t,n){n=0!=(4&n);for(var i=0;i<t.length;i++){var r=t[i],s=r.event;r=r.listeners;s:{var o=void 0;if(n)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break s;n5(s,l,u),o=c}else for(a=0;a<r.length;a++){if(c=(l=r[a]).instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break s;n5(s,l,u),o=c}}}if(eP)throw t=eR,eP=!1,eR=null,t}function n6(t,n){var i=n[iM];void 0===i&&(i=n[iM]=new Set);var r=t+"__bubble";i.has(r)||(ie(n,t,2,!1),i.add(r))}function n8(t,n,i){var r=0;n&&(r|=4),ie(i,t,r,n)}var n7="_reactListening"+Math.random().toString(36).slice(2);function n9(t){if(!t[n7]){t[n7]=!0,s.forEach(function(n){"selectionchange"!==n&&(n3.has(n)||n8(n,!1,t),n8(n,!0,t))});var n=9===t.nodeType?t:t.ownerDocument;null===n||n[n7]||(n[n7]=!0,n8("selectionchange",!1,n))}}function ie(t,n,i,r){switch(tP(n)){case 1:var s=tI;break;case 4:s=tT;break;default:s=tB}i=s.bind(null,n,i,t),s=void 0,eT&&("touchstart"===n||"touchmove"===n||"wheel"===n)&&(s=!0),r?void 0!==s?t.addEventListener(n,i,{capture:!0,passive:s}):t.addEventListener(n,i,!0):void 0!==s?t.addEventListener(n,i,{passive:s}):t.addEventListener(n,i,!1)}function it(t,n,i,r,s){var o=r;if(0==(1&n)&&0==(2&n)&&null!==r)s:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===s||8===l.nodeType&&l.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===s||8===c.nodeType&&c.parentNode===s))return;a=a.return}for(;null!==l;){if(null===(a=iB(l)))return;if(5===(c=a.tag)||6===c){r=o=a;continue s}l=l.parentNode}}r=r.return}eE(function(){var r=o,s=ex(i),a=[];s:{var l=nJ.get(t);if(void 0!==l){var c=tW,u=t;switch(t){case"keypress":if(0===tN(i))break s;case"keydown":case"keyup":c=t7;break;case"focusin":u="focus",c=tJ;break;case"focusout":u="blur",c=tJ;break;case"beforeblur":case"afterblur":c=tJ;break;case"click":if(2===i.button)break s;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=tK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=tX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ne;break;case nZ:case nY:case nK:c=t0;break;case nX:c=nt;break;case"scroll":c=tZ;break;case"wheel":c=nn;break;case"copy":case"cut":case"paste":c=t1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=t9}var d=0!=(4&n),p=!d&&"scroll"===t,h=d?null!==l?l+"Capture":null:l;d=[];for(var f,m=r;null!==m;){var g=(f=m).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&null!=(g=eM(m,h))&&d.push(ii(m,g,f))),p)break;m=m.return}0<d.length&&(l=new c(l,u,null,i,s),a.push({event:l,listeners:d}))}}if(0==(7&n)){if(c="mouseout"===t||"pointerout"===t,(!(l="mouseover"===t||"pointerover"===t)||i===eg||!(u=i.relatedTarget||i.fromElement)||!iB(u)&&!u[iE])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=i.relatedTarget||i.toElement)?iB(u):null)&&(u!==(p=eO(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(d=tK,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==t&&"pointerover"!==t||(d=t9,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==c?l:ij(c),f=null==u?l:ij(u),(l=new d(g,m+"leave",c,i,s)).target=p,l.relatedTarget=f,g=null,iB(s)===r&&((d=new d(h,m+"enter",u,i,s)).target=f,d.relatedTarget=p,g=d),p=g,c&&u)s:{for(h=u,m=0,f=d=c;f;f=is(f))m++;for(f=0,g=h;g;g=is(g))f++;for(;0<m-f;)d=is(d),m--;for(;0<f-m;)h=is(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break s;d=is(d),h=is(h)}d=null}else d=null;null!==c&&io(a,l,c,d,!1),null!==u&&null!==p&&io(a,p,u,d,!0)}if("select"===(c=(l=r?ij(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x,y=nv;else if(nh(l)){if(nC)y=nI;else{y=nE;var v=nk}}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=nM);switch(y&&(y=y(t,r))?nf(a,y,i,s):(v&&v(t,l,r),"focusout"===t&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&Y(l,"number",l.value)),v=r?ij(r):window,t){case"focusin":(nh(v)||"true"===v.contentEditable)&&(nF=v,nO=r,nN=null);break;case"focusout":nN=nO=nF=null;break;case"mousedown":nU=!0;break;case"contextmenu":case"mouseup":case"dragend":nU=!1,nV(a,i,s);break;case"selectionchange":if(nD)break;case"keydown":case"keyup":nV(a,i,s)}if(nr)s:{switch(t){case"compositionstart":var b="onCompositionStart";break s;case"compositionend":b="onCompositionEnd";break s;case"compositionupdate":b="onCompositionUpdate";break s}b=void 0}else nd?nc(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(na&&"ko"!==i.locale&&(nd||"onCompositionStart"!==b?"onCompositionEnd"===b&&nd&&(x=tO()):(tD="value"in(tR=s)?tR.value:tR.textContent,nd=!0)),0<(v=ir(r,b)).length&&(b=new t2(b,t,null,i,s),a.push({event:b,listeners:v}),x?b.data=x:null!==(x=nu(i))&&(b.data=x))),(x=no?function(t,n){switch(t){case"compositionend":return nu(n);case"keypress":return 32!==n.which?null:(nl=!0," ");case"textInput":return" "===(t=n.data)&&nl?null:t;default:return null}}(t,i):function(t,n){if(nd)return"compositionend"===t||!nr&&nc(t,n)?(t=tO(),tF=tD=tR=null,nd=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return na&&"ko"!==n.locale?null:n.data}}(t,i))&&0<(r=ir(r,"onBeforeInput")).length&&(s=new t2("onBeforeInput","beforeinput",null,i,s),a.push({event:s,listeners:r}),s.data=x)}n4(a,n)})}function ii(t,n,i){return{instance:t,listener:n,currentTarget:i}}function ir(t,n){for(var i=n+"Capture",r=[];null!==t;){var s=t,o=s.stateNode;5===s.tag&&null!==o&&(s=o,null!=(o=eM(t,i))&&r.unshift(ii(t,o,s)),null!=(o=eM(t,n))&&r.push(ii(t,o,s))),t=t.return}return r}function is(t){if(null===t)return null;do t=t.return;while(t&&5!==t.tag);return t||null}function io(t,n,i,r,s){for(var o=n._reactName,a=[];null!==i&&i!==r;){var l=i,c=l.alternate,u=l.stateNode;if(null!==c&&c===r)break;5===l.tag&&null!==u&&(l=u,s?null!=(c=eM(i,o))&&a.unshift(ii(i,c,l)):s||null!=(c=eM(i,o))&&a.push(ii(i,c,l))),i=i.return}0!==a.length&&t.push({event:n,listeners:a})}var ia=/\r\n?/g,il=/\u0000|\uFFFD/g;function ic(t){return("string"==typeof t?t:""+t).replace(ia,"\n").replace(il,"")}function iu(t,n,i){if(n=ic(n),ic(t)!==n&&i)throw Error(r(425))}function id(){}var ip=null,ih=null;function im(t,n){return"textarea"===t||"noscript"===t||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ig="function"==typeof setTimeout?setTimeout:void 0,ix="function"==typeof clearTimeout?clearTimeout:void 0,iy="function"==typeof Promise?Promise:void 0,iv="function"==typeof queueMicrotask?queueMicrotask:void 0!==iy?function(t){return iy.resolve(null).then(t).catch(ib)}:ig;function ib(t){setTimeout(function(){throw t})}function iA(t,n){var i=n,r=0;do{var s=i.nextSibling;if(t.removeChild(i),s&&8===s.nodeType){if("/$"===(i=s.data)){if(0===r)return t.removeChild(s),void tk(n);r--}else"$"!==i&&"$?"!==i&&"$!"!==i||r++}i=s}while(i);tk(n)}function iw(t){for(;null!=t;t=t.nextSibling){var n=t.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=t.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return t}function iC(t){t=t.previousSibling;for(var n=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===n)return t;n--}else"/$"===i&&n++}t=t.previousSibling}return null}var i_=Math.random().toString(36).slice(2),iS="__reactFiber$"+i_,ik="__reactProps$"+i_,iE="__reactContainer$"+i_,iM="__reactEvents$"+i_,iI="__reactListeners$"+i_,iT="__reactHandles$"+i_;function iB(t){var n=t[iS];if(n)return n;for(var i=t.parentNode;i;){if(n=i[iE]||i[iS]){if(i=n.alternate,null!==n.child||null!==i&&null!==i.child)for(t=iC(t);null!==t;){if(i=t[iS])return i;t=iC(t)}return n}i=(t=i).parentNode}return null}function iL(t){return(t=t[iS]||t[iE])&&(5===t.tag||6===t.tag||13===t.tag||3===t.tag)?t:null}function ij(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function iP(t){return t[ik]||null}var iR=[],iD=-1;function iF(t){return{current:t}}function iO(t){0>iD||(t.current=iR[iD],iR[iD]=null,iD--)}function iN(t,n){iR[++iD]=t.current,t.current=n}var iU={},iV=iF(iU),iH=iF(!1),iQ=iU;function iz(t,n){var i=t.type.contextTypes;if(!i)return iU;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var s,o={};for(s in i)o[s]=n[s];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),o}function iG(t){return null!=(t=t.childContextTypes)}function iq(){iO(iH),iO(iV)}function iW(t,n,i){if(iV.current!==iU)throw Error(r(168));iN(iV,n),iN(iH,i)}function i$(t,n,i){var s=t.stateNode;if(n=n.childContextTypes,"function"!=typeof s.getChildContext)return i;for(var o in s=s.getChildContext())if(!(o in n))throw Error(r(108,function(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=n.render).displayName||t.name||"",n.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function t(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case w:return"Fragment";case A:return"Portal";case _:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case k:return(n.displayName||"Context")+".Consumer";case S:return(n._context.displayName||"Context")+".Provider";case E:var i=n.render;return(n=n.displayName)||(n=""!==(n=i.displayName||i.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case T:return null!==(i=n.displayName||null)?i:t(n.type)||"Memo";case B:i=n._payload,n=n._init;try{return t(n(i))}catch(t){}}return null}(n);case 8:return n===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}(t)||"Unknown",o));return D({},i,s)}function iZ(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||iU,iQ=iV.current,iN(iV,t),iN(iH,iH.current),!0}function iY(t,n,i){var s=t.stateNode;if(!s)throw Error(r(169));i?(t=i$(t,n,iQ),s.__reactInternalMemoizedMergedChildContext=t,iO(iH),iO(iV),iN(iV,t)):iO(iH),iN(iH,i)}var iK=null,iX=!1,iJ=!1;function i0(t){null===iK?iK=[t]:iK.push(t)}function i1(){if(!iJ&&null!==iK){iJ=!0;var t=0,n=tl;try{var i=iK;for(tl=1;t<i.length;t++){var r=i[t];do r=r(!0);while(null!==r)}iK=null,iX=!1}catch(n){throw null!==iK&&(iK=iK.slice(t+1)),eH(e$,i1),n}finally{tl=n,iJ=!1}}return null}var i2=[],i3=0,i5=null,i4=0,i6=[],i8=0,i7=null,i9=1,re="";function rt(t,n){i2[i3++]=i4,i2[i3++]=i5,i5=t,i4=n}function rn(t,n,i){i6[i8++]=i9,i6[i8++]=re,i6[i8++]=i7,i7=t;var r=i9;t=re;var s=32-e1(r)-1;r&=~(1<<s),i+=1;var o=32-e1(n)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,i9=1<<32-e1(n)+s|i<<s|r,re=o+t}else i9=1<<o|i<<s|r,re=t}function ri(t){null!==t.return&&(rt(t,1),rn(t,1,0))}function rr(t){for(;t===i5;)i5=i2[--i3],i2[i3]=null,i4=i2[--i3],i2[i3]=null;for(;t===i7;)i7=i6[--i8],i6[i8]=null,re=i6[--i8],i6[i8]=null,i9=i6[--i8],i6[i8]=null}var rs=null,ro=null,ra=!1,rl=null;function rc(t,n){var i=aW(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,null===(n=t.deletions)?(t.deletions=[i],t.flags|=16):n.push(i)}function ru(t,n){switch(t.tag){case 5:var i=t.type;return null!==(n=1!==n.nodeType||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(t.stateNode=n,rs=t,ro=iw(n.firstChild),!0);case 6:return null!==(n=""===t.pendingProps||3!==n.nodeType?null:n)&&(t.stateNode=n,rs=t,ro=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(i=null!==i7?{id:i9,overflow:re}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},(i=aW(18,null,null,0)).stateNode=n,i.return=t,t.child=i,rs=t,ro=null,!0);default:return!1}}function rd(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function rp(t){if(ra){var n=ro;if(n){var i=n;if(!ru(t,n)){if(rd(t))throw Error(r(418));n=iw(i.nextSibling);var s=rs;n&&ru(t,n)?rc(s,i):(t.flags=-4097&t.flags|2,ra=!1,rs=t)}}else{if(rd(t))throw Error(r(418));t.flags=-4097&t.flags|2,ra=!1,rs=t}}}function rh(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;rs=t}function rf(t){if(t!==rs)return!1;if(!ra)return rh(t),ra=!0,!1;if((n=3!==t.tag)&&!(n=5!==t.tag)&&(n="head"!==(n=t.type)&&"body"!==n&&!im(t.type,t.memoizedProps)),n&&(n=ro)){if(rd(t))throw rm(),Error(r(418));for(;n;)rc(t,n),n=iw(n.nextSibling)}if(rh(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));s:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType){var n,i=t.data;if("/$"===i){if(0===n){ro=iw(t.nextSibling);break s}n--}else"$"!==i&&"$!"!==i&&"$?"!==i||n++}t=t.nextSibling}ro=null}}else ro=rs?iw(t.stateNode.nextSibling):null;return!0}function rm(){for(var t=ro;t;)t=iw(t.nextSibling)}function rg(){ro=rs=null,ra=!1}function rx(t){null===rl?rl=[t]:rl.push(t)}var ry=v.ReactCurrentBatchConfig;function rv(t,n){if(t&&t.defaultProps)for(var i in n=D({},n),t=t.defaultProps)void 0===n[i]&&(n[i]=t[i]);return n}var rb=iF(null),rA=null,rw=null,rC=null;function r_(){rC=rw=rA=null}function rS(t){var n=rb.current;iO(rb),t._currentValue=n}function rk(t,n,i){for(;null!==t;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===i)break;t=t.return}}function rE(t,n){rA=t,rC=rw=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&n)&&(on=!0),t.firstContext=null)}function rM(t){var n=t._currentValue;if(rC!==t){if(t={context:t,memoizedValue:n,next:null},null===rw){if(null===rA)throw Error(r(308));rw=t,rA.dependencies={lanes:0,firstContext:t}}else rw=rw.next=t}return n}var rI=null;function rT(t){null===rI?rI=[t]:rI.push(t)}function rB(t,n,i,r){var s=n.interleaved;return null===s?(i.next=i,rT(n)):(i.next=s.next,s.next=i),n.interleaved=i,rL(t,r)}function rL(t,n){t.lanes|=n;var i=t.alternate;for(null!==i&&(i.lanes|=n),i=t,t=t.return;null!==t;)t.childLanes|=n,null!==(i=t.alternate)&&(i.childLanes|=n),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var rj=!1;function rP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rR(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rD(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function rF(t,n,i){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&o3)){var s=r.pending;return null===s?n.next=n:(n.next=s.next,s.next=n),r.pending=n,rL(t,i)}return null===(s=r.interleaved)?(n.next=n,rT(r)):(n.next=s.next,s.next=n),r.interleaved=n,rL(t,i)}function rO(t,n,i){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&i))){var r=n.lanes;i|=r&=t.pendingLanes,n.lanes=i,tn(t,i)}}function rN(t,n){var i=t.updateQueue,r=t.alternate;if(null!==r&&i===(r=r.updateQueue)){var s=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?s=o=a:o=o.next=a,i=i.next}while(null!==i);null===o?s=o=n:o=o.next=n}else s=o=n;return i={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function rU(t,n,i,r){var s=t.updateQueue;rj=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var d=t.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c)}if(null!==o){var p=s.baseState;for(a=0,d=u=c=null,l=o;;){var h=l.lane,f=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});s:{var m=t,g=l;switch(h=n,f=i,g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(f,p,h);break s}p=m;break s;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(f,p,h):m))break s;p=D({},p,h);break s;case 2:rj=!0}}null!==l.callback&&0!==l.lane&&(t.flags|=64,null===(h=s.effects)?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,a|=h;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(h=l).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,null!==(n=s.shared.interleaved)){s=n;do a|=s.lane,s=s.next;while(s!==n)}else null===o&&(s.shared.lanes=0);at|=a,t.lanes=a,t.memoizedState=p}}function rV(t,n,i){if(t=n.effects,n.effects=null,null!==t)for(n=0;n<t.length;n++){var s=t[n],o=s.callback;if(null!==o){if(s.callback=null,s=i,"function"!=typeof o)throw Error(r(191,o));o.call(s)}}}var rH=(new n.Component).refs;function rQ(t,n,i,r){i=null==(i=i(r,n=t.memoizedState))?n:D({},n,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var rz={isMounted:function(t){return!!(t=t._reactInternals)&&eO(t)===t},enqueueSetState:function(t,n,i){t=t._reactInternals;var r=av(),s=ab(t),o=rD(r,s);o.payload=n,null!=i&&(o.callback=i),null!==(n=rF(t,o,s))&&(aA(n,t,s,r),rO(n,t,s))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var r=av(),s=ab(t),o=rD(r,s);o.tag=1,o.payload=n,null!=i&&(o.callback=i),null!==(n=rF(t,o,s))&&(aA(n,t,s,r),rO(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=av(),r=ab(t),s=rD(i,r);s.tag=2,null!=n&&(s.callback=n),null!==(n=rF(t,s,r))&&(aA(n,t,r,i),rO(n,t,r))}};function rG(t,n,i,r,s,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!n.prototype||!n.prototype.isPureReactComponent||!nB(i,r)||!nB(s,o)}function rq(t,n,i){var r=!1,s=iU,o=n.contextType;return"object"==typeof o&&null!==o?o=rM(o):(s=iG(n)?iQ:iV.current,o=(r=null!=(r=n.contextTypes))?iz(t,s):iU),n=new n(i,o),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=rz,t.stateNode=n,n._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),n}function rW(t,n,i,r){t=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(i,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(i,r),n.state!==t&&rz.enqueueReplaceState(n,n.state,null)}function r$(t,n,i,r){var s=t.stateNode;s.props=i,s.state=t.memoizedState,s.refs=rH,rP(t);var o=n.contextType;"object"==typeof o&&null!==o?s.context=rM(o):(o=iG(n)?iQ:iV.current,s.context=iz(t,o)),s.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(rQ(t,n,o,i),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(n=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),n!==s.state&&rz.enqueueReplaceState(s,s.state,null),rU(t,i,s,r),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308)}function rZ(t,n,i){if(null!==(t=i.ref)&&"function"!=typeof t&&"object"!=typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var s=i.stateNode}if(!s)throw Error(r(147,t));var o=s,a=""+t;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===a?n.ref:((n=function(t){var n=o.refs;n===rH&&(n=o.refs={}),null===t?delete n[a]:n[a]=t})._stringRef=a,n)}if("string"!=typeof t)throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function rY(t,n){throw Error(r(31,"[object Object]"===(t=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function rK(t){return(0,t._init)(t._payload)}function rX(t){function n(n,i){if(t){var r=n.deletions;null===r?(n.deletions=[i],n.flags|=16):r.push(i)}}function i(i,r){if(!t)return null;for(;null!==r;)n(i,r),r=r.sibling;return null}function s(t,n){for(t=new Map;null!==n;)null!==n.key?t.set(n.key,n):t.set(n.index,n),n=n.sibling;return t}function o(t,n){return(t=aZ(t,n)).index=0,t.sibling=null,t}function a(n,i,r){return n.index=r,t?null!==(r=n.alternate)?(r=r.index)<i?(n.flags|=2,i):r:(n.flags|=2,i):(n.flags|=1048576,i)}function l(n){return t&&null===n.alternate&&(n.flags|=2),n}function c(t,n,i,r){return null===n||6!==n.tag?(n=aJ(i,t.mode,r)).return=t:(n=o(n,i)).return=t,n}function u(t,n,i,r){var s=i.type;return s===w?p(t,n,i.props.children,r,i.key):(null!==n&&(n.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===B&&rK(s)===n.type)?(r=o(n,i.props)).ref=rZ(t,n,i):(r=aY(i.type,i.key,i.props,null,t.mode,r)).ref=rZ(t,n,i),r.return=t,r)}function d(t,n,i,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==i.containerInfo||n.stateNode.implementation!==i.implementation?(n=a0(i,t.mode,r)).return=t:(n=o(n,i.children||[])).return=t,n}function p(t,n,i,r,s){return null===n||7!==n.tag?(n=aK(i,t.mode,r,s)).return=t:(n=o(n,i)).return=t,n}function h(t,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=aJ(""+n,t.mode,i)).return=t,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return(i=aY(n.type,n.key,n.props,null,t.mode,i)).ref=rZ(t,null,n),i.return=t,i;case A:return(n=a0(n,t.mode,i)).return=t,n;case B:return h(t,(0,n._init)(n._payload),i)}if(X(n)||P(n))return(n=aK(n,t.mode,i,null)).return=t,n;rY(t,n)}return null}function f(t,n,i,r){var s=null!==n?n.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==s?null:c(t,n,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case b:return i.key===s?u(t,n,i,r):null;case A:return i.key===s?d(t,n,i,r):null;case B:return f(t,n,(s=i._init)(i._payload),r)}if(X(i)||P(i))return null!==s?null:p(t,n,i,r,null);rY(t,i)}return null}function m(t,n,i,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return c(n,t=t.get(i)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return u(n,t=t.get(null===r.key?i:r.key)||null,r,s);case A:return d(n,t=t.get(null===r.key?i:r.key)||null,r,s);case B:return m(t,n,i,(0,r._init)(r._payload),s)}if(X(r)||P(r))return p(n,t=t.get(i)||null,r,s,null);rY(n,r)}return null}return function c(u,d,p,g){if("object"==typeof p&&null!==p&&p.type===w&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case b:s:{for(var x=p.key,y=d;null!==y;){if(y.key===x){if((x=p.type)===w){if(7===y.tag){i(u,y.sibling),(d=o(y,p.props.children)).return=u,u=d;break s}}else if(y.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===B&&rK(x)===y.type){i(u,y.sibling),(d=o(y,p.props)).ref=rZ(u,y,p),d.return=u,u=d;break s}i(u,y);break}n(u,y),y=y.sibling}p.type===w?((d=aK(p.props.children,u.mode,g,p.key)).return=u,u=d):((g=aY(p.type,p.key,p.props,null,u.mode,g)).ref=rZ(u,d,p),g.return=u,u=g)}return l(u);case A:s:{for(y=p.key;null!==d;){if(d.key===y){if(4===d.tag&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){i(u,d.sibling),(d=o(d,p.children||[])).return=u,u=d;break s}i(u,d);break}n(u,d),d=d.sibling}(d=a0(p,u.mode,g)).return=u,u=d}return l(u);case B:return c(u,d,(y=p._init)(p._payload),g)}if(X(p))return function(r,o,l,c){for(var u=null,d=null,p=o,g=o=0,x=null;null!==p&&g<l.length;g++){p.index>g?(x=p,p=null):x=p.sibling;var y=f(r,p,l[g],c);if(null===y){null===p&&(p=x);break}t&&p&&null===y.alternate&&n(r,p),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y,p=x}if(g===l.length)return i(r,p),ra&&rt(r,g),u;if(null===p){for(;g<l.length;g++)null!==(p=h(r,l[g],c))&&(o=a(p,o,g),null===d?u=p:d.sibling=p,d=p);return ra&&rt(r,g),u}for(p=s(r,p);g<l.length;g++)null!==(x=m(p,r,g,l[g],c))&&(t&&null!==x.alternate&&p.delete(null===x.key?g:x.key),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x);return t&&p.forEach(function(t){return n(r,t)}),ra&&rt(r,g),u}(u,d,p,g);if(P(p))return function(o,l,c,u){var d=P(c);if("function"!=typeof d)throw Error(r(150));if(null==(c=d.call(c)))throw Error(r(151));for(var p=d=null,g=l,x=l=0,y=null,v=c.next();null!==g&&!v.done;x++,v=c.next()){g.index>x?(y=g,g=null):y=g.sibling;var b=f(o,g,v.value,u);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&n(o,g),l=a(b,l,x),null===p?d=b:p.sibling=b,p=b,g=y}if(v.done)return i(o,g),ra&&rt(o,x),d;if(null===g){for(;!v.done;x++,v=c.next())null!==(v=h(o,v.value,u))&&(l=a(v,l,x),null===p?d=v:p.sibling=v,p=v);return ra&&rt(o,x),d}for(g=s(o,g);!v.done;x++,v=c.next())null!==(v=m(g,o,x,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?x:v.key),l=a(v,l,x),null===p?d=v:p.sibling=v,p=v);return t&&g.forEach(function(t){return n(o,t)}),ra&&rt(o,x),d}(u,d,p,g);rY(u,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==d&&6===d.tag?(i(u,d.sibling),(d=o(d,p)).return=u):(i(u,d),(d=aJ(p,u.mode,g)).return=u),l(u=d)):i(u,d)}}var rJ=rX(!0),r0=rX(!1),r1={},r2=iF(r1),r3=iF(r1),r5=iF(r1);function r4(t){if(t===r1)throw Error(r(174));return t}function r6(t,n){switch(iN(r5,n),iN(r3,t),iN(r2,r1),t=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:es(null,"");break;default:n=es(n=(t=8===t?n.parentNode:n).namespaceURI||null,t=t.tagName)}iO(r2),iN(r2,n)}function r8(){iO(r2),iO(r3),iO(r5)}function r7(t){r4(r5.current);var n=r4(r2.current),i=es(n,t.type);n!==i&&(iN(r3,t),iN(r2,i))}function r9(t){r3.current===t&&(iO(r2),iO(r3))}var se=iF(0);function st(t){for(var n=t;null!==n;){if(13===n.tag){var i=n.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sn=[];function si(){for(var t=0;t<sn.length;t++)sn[t]._workInProgressVersionPrimary=null;sn.length=0}var sr=v.ReactCurrentDispatcher,ss=v.ReactCurrentBatchConfig,so=0,sa=null,sl=null,sc=null,su=!1,sd=!1,sp=0,sh=0;function sf(){throw Error(r(321))}function sm(t,n){if(null===n)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!nT(t[i],n[i]))return!1;return!0}function sg(t,n,i,s,o,a){if(so=a,sa=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,sr.current=null===t||null===t.memoizedState?sJ:s0,t=i(s,o),sd){a=0;do{if(sd=!1,sp=0,25<=a)throw Error(r(301));a+=1,sc=sl=null,n.updateQueue=null,sr.current=s1,t=i(s,o)}while(sd)}if(sr.current=sX,n=null!==sl&&null!==sl.next,so=0,sc=sl=sa=null,su=!1,n)throw Error(r(300));return t}function sx(){var t=0!==sp;return sp=0,t}function sy(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sc?sa.memoizedState=sc=t:sc=sc.next=t,sc}function sv(){if(null===sl){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=sl.next;var n=null===sc?sa.memoizedState:sc.next;if(null!==n)sc=n,sl=t;else{if(null===t)throw Error(r(310));t={memoizedState:(sl=t).memoizedState,baseState:sl.baseState,baseQueue:sl.baseQueue,queue:sl.queue,next:null},null===sc?sa.memoizedState=sc=t:sc=sc.next=t}return sc}function sb(t,n){return"function"==typeof n?n(t):n}function sA(t){var n=sv(),i=n.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=sl,o=s.baseQueue,a=i.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}s.baseQueue=o=a,i.pending=null}if(null!==o){a=o.next,s=s.baseState;var c=l=null,u=null,d=a;do{var p=d.lane;if((so&p)===p)null!==u&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===u?(c=u=h,l=s):u=u.next=h,sa.lanes|=p,at|=p}d=d.next}while(null!==d&&d!==a);null===u?l=s:u.next=c,nT(s,n.memoizedState)||(on=!0),n.memoizedState=s,n.baseState=l,n.baseQueue=u,i.lastRenderedState=s}if(null!==(t=i.interleaved)){o=t;do a=o.lane,sa.lanes|=a,at|=a,o=o.next;while(o!==t)}else null===o&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function sw(t){var n=sv(),i=n.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,o=i.pending,a=n.memoizedState;if(null!==o){i.pending=null;var l=o=o.next;do a=t(a,l.action),l=l.next;while(l!==o);nT(a,n.memoizedState)||(on=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),i.lastRenderedState=a}return[a,s]}function sC(){}function s_(t,n){var i=sa,s=sv(),o=n(),a=!nT(s.memoizedState,o);if(a&&(s.memoizedState=o,on=!0),s=s.queue,sD(sE.bind(null,i,s,t),[t]),s.getSnapshot!==n||a||null!==sc&&1&sc.memoizedState.tag){if(i.flags|=2048,sB(9,sk.bind(null,i,s,o,n),void 0,null),null===o5)throw Error(r(349));0!=(30&so)||sS(i,n,o)}return o}function sS(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},null===(n=sa.updateQueue)?(n={lastEffect:null,stores:null},sa.updateQueue=n,n.stores=[t]):null===(i=n.stores)?n.stores=[t]:i.push(t)}function sk(t,n,i,r){n.value=i,n.getSnapshot=r,sM(n)&&sI(t)}function sE(t,n,i){return i(function(){sM(n)&&sI(t)})}function sM(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!nT(t,i)}catch(t){return!0}}function sI(t){var n=rL(t,1);null!==n&&aA(n,t,1,-1)}function sT(t){var n=sy();return"function"==typeof t&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sb,lastRenderedState:t},n.queue=t,t=t.dispatch=s$.bind(null,sa,t),[n.memoizedState,t]}function sB(t,n,i,r){return t={tag:t,create:n,destroy:i,deps:r,next:null},null===(n=sa.updateQueue)?(n={lastEffect:null,stores:null},sa.updateQueue=n,n.lastEffect=t.next=t):null===(i=n.lastEffect)?n.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,n.lastEffect=t),t}function sL(){return sv().memoizedState}function sj(t,n,i,r){var s=sy();sa.flags|=t,s.memoizedState=sB(1|n,i,void 0,void 0===r?null:r)}function sP(t,n,i,r){var s=sv();r=void 0===r?null:r;var o=void 0;if(null!==sl){var a=sl.memoizedState;if(o=a.destroy,null!==r&&sm(r,a.deps))return void(s.memoizedState=sB(n,i,o,r))}sa.flags|=t,s.memoizedState=sB(1|n,i,o,r)}function sR(t,n){return sj(8390656,8,t,n)}function sD(t,n){return sP(2048,8,t,n)}function sF(t,n){return sP(4,2,t,n)}function sO(t,n){return sP(4,4,t,n)}function sN(t,n){return"function"==typeof n?(n(t=t()),function(){n(null)}):null!=n?(t=t(),n.current=t,function(){n.current=null}):void 0}function sU(t,n,i){return i=null!=i?i.concat([t]):null,sP(4,4,sN.bind(null,n,t),i)}function sV(){}function sH(t,n){var i=sv();n=void 0===n?null:n;var r=i.memoizedState;return null!==r&&null!==n&&sm(n,r[1])?r[0]:(i.memoizedState=[t,n],t)}function sQ(t,n){var i=sv();n=void 0===n?null:n;var r=i.memoizedState;return null!==r&&null!==n&&sm(n,r[1])?r[0]:(t=t(),i.memoizedState=[t,n],t)}function sz(t,n,i){return 0==(21&so)?(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=i):(nT(i,n)||(i=e9(),sa.lanes|=i,at|=i,t.baseState=!0),n)}function sG(t,n){var i=tl;tl=0!==i&&4>i?i:4,t(!0);var r=ss.transition;ss.transition={};try{t(!1),n()}finally{tl=i,ss.transition=r}}function sq(){return sv().memoizedState}function sW(t,n,i){var r=ab(t);(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},sZ(t))?sY(n,i):null!==(i=rB(t,n,i,r))&&(aA(i,t,r,av()),sK(i,n,r))}function s$(t,n,i){var r=ab(t),s={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(sZ(t))sY(n,s);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var a=n.lastRenderedState,l=o(a,i);if(s.hasEagerState=!0,s.eagerState=l,nT(l,a)){var c=n.interleaved;return null===c?(s.next=s,rT(n)):(s.next=c.next,c.next=s),void(n.interleaved=s)}}catch(t){}null!==(i=rB(t,n,s,r))&&(aA(i,t,r,s=av()),sK(i,n,r))}}function sZ(t){var n=t.alternate;return t===sa||null!==n&&n===sa}function sY(t,n){sd=su=!0;var i=t.pending;null===i?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function sK(t,n,i){if(0!=(4194240&i)){var r=n.lanes;i|=r&=t.pendingLanes,n.lanes=i,tn(t,i)}}var sX={readContext:rM,useCallback:sf,useContext:sf,useEffect:sf,useImperativeHandle:sf,useInsertionEffect:sf,useLayoutEffect:sf,useMemo:sf,useReducer:sf,useRef:sf,useState:sf,useDebugValue:sf,useDeferredValue:sf,useTransition:sf,useMutableSource:sf,useSyncExternalStore:sf,useId:sf,unstable_isNewReconciler:!1},sJ={readContext:rM,useCallback:function(t,n){return sy().memoizedState=[t,void 0===n?null:n],t},useContext:rM,useEffect:sR,useImperativeHandle:function(t,n,i){return i=null!=i?i.concat([t]):null,sj(4194308,4,sN.bind(null,n,t),i)},useLayoutEffect:function(t,n){return sj(4194308,4,t,n)},useInsertionEffect:function(t,n){return sj(4,2,t,n)},useMemo:function(t,n){var i=sy();return n=void 0===n?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var r=sy();return n=void 0!==i?i(n):n,r.memoizedState=r.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},r.queue=t,t=t.dispatch=sW.bind(null,sa,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},sy().memoizedState=t},useState:sT,useDebugValue:sV,useDeferredValue:function(t){return sy().memoizedState=t},useTransition:function(){var t=sT(!1),n=t[0];return t=sG.bind(null,t[1]),sy().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var s=sa,o=sy();if(ra){if(void 0===i)throw Error(r(407));i=i()}else{if(i=n(),null===o5)throw Error(r(349));0!=(30&so)||sS(s,n,i)}o.memoizedState=i;var a={value:i,getSnapshot:n};return o.queue=a,sR(sE.bind(null,s,a,t),[t]),s.flags|=2048,sB(9,sk.bind(null,s,a,i,n),void 0,null),i},useId:function(){var t=sy(),n=o5.identifierPrefix;if(ra){var i=re;n=":"+n+"R"+(i=(i9&~(1<<32-e1(i9)-1)).toString(32)+i),0<(i=sp++)&&(n+="H"+i.toString(32)),n+=":"}else n=":"+n+"r"+(i=sh++).toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},s0={readContext:rM,useCallback:sH,useContext:rM,useEffect:sD,useImperativeHandle:sU,useInsertionEffect:sF,useLayoutEffect:sO,useMemo:sQ,useReducer:sA,useRef:sL,useState:function(){return sA(sb)},useDebugValue:sV,useDeferredValue:function(t){return sz(sv(),sl.memoizedState,t)},useTransition:function(){return[sA(sb)[0],sv().memoizedState]},useMutableSource:sC,useSyncExternalStore:s_,useId:sq,unstable_isNewReconciler:!1},s1={readContext:rM,useCallback:sH,useContext:rM,useEffect:sD,useImperativeHandle:sU,useInsertionEffect:sF,useLayoutEffect:sO,useMemo:sQ,useReducer:sw,useRef:sL,useState:function(){return sw(sb)},useDebugValue:sV,useDeferredValue:function(t){var n=sv();return null===sl?n.memoizedState=t:sz(n,sl.memoizedState,t)},useTransition:function(){return[sw(sb)[0],sv().memoizedState]},useMutableSource:sC,useSyncExternalStore:s_,useId:sq,unstable_isNewReconciler:!1};function s2(t,n){try{var i="",r=n;do i+=function(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=N(t.type,!1);case 11:return t=N(t.type.render,!1);case 1:return t=N(t.type,!0);default:return""}}(r),r=r.return;while(r);var s=i}catch(t){s="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:n,stack:s,digest:null}}function s3(t,n,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=n?n:null}}function s5(t,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var s4="function"==typeof WeakMap?WeakMap:Map;function s6(t,n,i){(i=rD(-1,i)).tag=3,i.payload={element:null};var r=n.value;return i.callback=function(){ac||(ac=!0,au=r),s5(0,n)},i}function s8(t,n,i){(i=rD(-1,i)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var s=n.value;i.payload=function(){return r(s)},i.callback=function(){s5(0,n)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(i.callback=function(){s5(0,n),"function"!=typeof r&&(null===ad?ad=new Set([this]):ad.add(this));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),i}function s7(t,n,i){var r=t.pingCache;if(null===r){r=t.pingCache=new s4;var s=new Set;r.set(n,s)}else void 0===(s=r.get(n))&&(s=new Set,r.set(n,s));s.has(i)||(s.add(i),t=aH.bind(null,t,n,i),n.then(t,t))}function s9(t){do{var n;if((n=13===t.tag)&&(n=null===(n=t.memoizedState)||null!==n.dehydrated),n)return t;t=t.return}while(null!==t);return null}function oe(t,n,i,r,s){return 0==(1&t.mode)?t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((n=rD(-1,1)).tag=2,rF(i,n,1))),i.lanes|=1):(t.flags|=65536,t.lanes=s),t}var ot=v.ReactCurrentOwner,on=!1;function oi(t,n,i,r){n.child=null===t?r0(n,null,i,r):rJ(n,t.child,i,r)}function or(t,n,i,r,s){i=i.render;var o=n.ref;return rE(n,s),r=sg(t,n,i,r,o,s),i=sx(),null===t||on?(ra&&i&&ri(n),n.flags|=1,oi(t,n,r,s),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s,ok(t,n,s))}function os(t,n,i,r,s){if(null===t){var o=i.type;return"function"!=typeof o||a$(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=aY(i.type,null,r,n,n.mode,s)).ref=n.ref,t.return=n,n.child=t):(n.tag=15,n.type=o,oo(t,n,o,r,s))}if(o=t.child,0==(t.lanes&s)){var a=o.memoizedProps;if((i=null!==(i=i.compare)?i:nB)(a,r)&&t.ref===n.ref)return ok(t,n,s)}return n.flags|=1,(t=aZ(o,r)).ref=n.ref,t.return=n,n.child=t}function oo(t,n,i,r,s){if(null!==t){var o=t.memoizedProps;if(nB(o,r)&&t.ref===n.ref){if(on=!1,n.pendingProps=r=o,0==(t.lanes&s))return n.lanes=t.lanes,ok(t,n,s);0!=(131072&t.flags)&&(on=!0)}}return oc(t,n,i,r,s)}function oa(t,n,i){var r=n.pendingProps,s=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode){if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},iN(o7,o8),o8|=i;else{if(0==(1073741824&i))return t=null!==o?o.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,iN(o7,o8),o8|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:i,iN(o7,o8),o8|=r}}else null!==o?(r=o.baseLanes|i,n.memoizedState=null):r=i,iN(o7,o8),o8|=r;return oi(t,n,s,i),n.child}function ol(t,n){var i=n.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function oc(t,n,i,r,s){var o=iG(i)?iQ:iV.current;return o=iz(n,o),rE(n,s),i=sg(t,n,i,r,o,s),r=sx(),null===t||on?(ra&&r&&ri(n),n.flags|=1,oi(t,n,i,s),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s,ok(t,n,s))}function ou(t,n,i,r,s){if(iG(i)){var o=!0;iZ(n)}else o=!1;if(rE(n,s),null===n.stateNode)oS(t,n),rq(n,i,r),r$(n,i,r,s),r=!0;else if(null===t){var a=n.stateNode,l=n.memoizedProps;a.props=l;var c=a.context,u=i.contextType;u="object"==typeof u&&null!==u?rM(u):iz(n,u=iG(i)?iQ:iV.current);var d=i.getDerivedStateFromProps,p="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||c!==u)&&rW(n,a,r,u),rj=!1;var h=n.memoizedState;a.state=h,rU(n,r,a,s),c=n.memoizedState,l!==r||h!==c||iH.current||rj?("function"==typeof d&&(rQ(n,i,d,r),c=n.memoizedState),(l=rj||rG(n,i,l,r,h,c,u))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):("function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!1)}else{a=n.stateNode,rR(t,n),l=n.memoizedProps,u=n.type===n.elementType?l:rv(n.type,l),a.props=u,p=n.pendingProps,h=a.context,c="object"==typeof(c=i.contextType)&&null!==c?rM(c):iz(n,c=iG(i)?iQ:iV.current);var f=i.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==p||h!==c)&&rW(n,a,r,c),rj=!1,h=n.memoizedState,a.state=h,rU(n,r,a,s);var m=n.memoizedState;l!==p||h!==m||iH.current||rj?("function"==typeof f&&(rQ(n,i,f,r),m=n.memoizedState),(u=rj||rG(n,i,u,r,h,m,c)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,c)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===t.memoizedProps&&h===t.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===t.memoizedProps&&h===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=m),a.props=r,a.state=m,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||l===t.memoizedProps&&h===t.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===t.memoizedProps&&h===t.memoizedState||(n.flags|=1024),r=!1)}return od(t,n,i,r,o,s)}function od(t,n,i,r,s,o){ol(t,n);var a=0!=(128&n.flags);if(!r&&!a)return s&&iY(n,i,!1),ok(t,n,o);r=n.stateNode,ot.current=n;var l=a&&"function"!=typeof i.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==t&&a?(n.child=rJ(n,t.child,null,o),n.child=rJ(n,null,l,o)):oi(t,n,l,o),n.memoizedState=r.state,s&&iY(n,i,!0),n.child}function op(t){var n=t.stateNode;n.pendingContext?iW(0,n.pendingContext,n.pendingContext!==n.context):n.context&&iW(0,n.context,!1),r6(t,n.containerInfo)}function oh(t,n,i,r,s){return rg(),rx(s),n.flags|=256,oi(t,n,i,r),n.child}var of,om,og,ox={dehydrated:null,treeContext:null,retryLane:0};function oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function ov(t,n,i){var s,o=n.pendingProps,a=se.current,l=!1,c=0!=(128&n.flags);if((s=c)||(s=(null===t||null!==t.memoizedState)&&0!=(2&a)),s?(l=!0,n.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),iN(se,1&a),null===t)return rp(n),null!==(t=n.memoizedState)&&null!==(t=t.dehydrated)?(0==(1&n.mode)?n.lanes=1:"$!"===t.data?n.lanes=8:n.lanes=1073741824,null):(c=o.children,t=o.fallback,l?(o=n.mode,l=n.child,c={mode:"hidden",children:c},0==(1&o)&&null!==l?(l.childLanes=0,l.pendingProps=c):l=aX(c,o,0,null),t=aK(t,o,i,null),l.return=n,t.return=n,l.sibling=t,n.child=l,n.child.memoizedState=oy(i),n.memoizedState=ox,t):ob(n,c));if(null!==(a=t.memoizedState)&&null!==(s=a.dehydrated))return function(t,n,i,s,o,a,l){if(i)return 256&n.flags?(n.flags&=-257,oA(t,n,l,s=s3(Error(r(422))))):null!==n.memoizedState?(n.child=t.child,n.flags|=128,null):(a=s.fallback,o=n.mode,s=aX({mode:"visible",children:s.children},o,0,null),(a=aK(a,o,l,null)).flags|=2,s.return=n,a.return=n,s.sibling=a,n.child=s,0!=(1&n.mode)&&rJ(n,t.child,null,l),n.child.memoizedState=oy(l),n.memoizedState=ox,a);if(0==(1&n.mode))return oA(t,n,l,null);if("$!"===o.data){if(s=o.nextSibling&&o.nextSibling.dataset)var c=s.dgst;return s=c,oA(t,n,l,s=s3(a=Error(r(419)),s,void 0))}if(c=0!=(l&t.childLanes),on||c){if(null!==(s=o5)){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(s.suspendedLanes|l))?0:o)&&o!==a.retryLane&&(a.retryLane=o,rL(t,o),aA(s,t,o,-1))}return aP(),oA(t,n,l,s=s3(Error(r(421))))}return"$?"===o.data?(n.flags|=128,n.child=t.child,n=az.bind(null,t),o._reactRetry=n,null):(t=a.treeContext,ro=iw(o.nextSibling),rs=n,ra=!0,rl=null,null!==t&&(i6[i8++]=i9,i6[i8++]=re,i6[i8++]=i7,i9=t.id,re=t.overflow,i7=n),n=ob(n,s.children),n.flags|=4096,n)}(t,n,c,o,s,a,i);if(l){l=o.fallback,c=n.mode,s=(a=t.child).sibling;var u={mode:"hidden",children:o.children};return 0==(1&c)&&n.child!==a?((o=n.child).childLanes=0,o.pendingProps=u,n.deletions=null):(o=aZ(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==s?l=aZ(s,l):(l=aK(l,c,i,null)).flags|=2,l.return=n,o.return=n,o.sibling=l,n.child=o,o=l,l=n.child,c=null===(c=t.child.memoizedState)?oy(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=t.childLanes&~i,n.memoizedState=ox,o}return t=(l=t.child).sibling,o=aZ(l,{mode:"visible",children:o.children}),0==(1&n.mode)&&(o.lanes=i),o.return=n,o.sibling=null,null!==t&&(null===(i=n.deletions)?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=o,n.memoizedState=null,o}function ob(t,n){return(n=aX({mode:"visible",children:n},t.mode,0,null)).return=t,t.child=n}function oA(t,n,i,r){return null!==r&&rx(r),rJ(n,t.child,null,i),(t=ob(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,t}function ow(t,n,i){t.lanes|=n;var r=t.alternate;null!==r&&(r.lanes|=n),rk(t.return,n,i)}function oC(t,n,i,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:s}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=s)}function o_(t,n,i){var r=n.pendingProps,s=r.revealOrder,o=r.tail;if(oi(t,n,r.children,i),0!=(2&(r=se.current)))r=1&r|2,n.flags|=128;else{if(null!==t&&0!=(128&t.flags))s:for(t=n.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ow(t,i,n);else if(19===t.tag)ow(t,i,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break s;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(iN(se,r),0==(1&n.mode))n.memoizedState=null;else switch(s){case"forwards":for(i=n.child,s=null;null!==i;)null!==(t=i.alternate)&&null===st(t)&&(s=i),i=i.sibling;null===(i=s)?(s=n.child,n.child=null):(s=i.sibling,i.sibling=null),oC(n,!1,s,i,o);break;case"backwards":for(i=null,s=n.child,n.child=null;null!==s;){if(null!==(t=s.alternate)&&null===st(t)){n.child=s;break}t=s.sibling,s.sibling=i,i=s,s=t}oC(n,!0,i,null,o);break;case"together":oC(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oS(t,n){0==(1&n.mode)&&null!==t&&(t.alternate=null,n.alternate=null,n.flags|=2)}function ok(t,n,i){if(null!==t&&(n.dependencies=t.dependencies),at|=n.lanes,0==(i&n.childLanes))return null;if(null!==t&&n.child!==t.child)throw Error(r(153));if(null!==n.child){for(i=aZ(t=n.child,t.pendingProps),n.child=i,i.return=n;null!==t.sibling;)t=t.sibling,(i=i.sibling=aZ(t,t.pendingProps)).return=n;i.sibling=null}return n.child}function oE(t,n){if(!ra)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?n||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oM(t){var n=null!==t.alternate&&t.alternate.child===t.child,i=0,r=0;if(n)for(var s=t.child;null!==s;)i|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)i|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=i,n}of=function(t,n){for(var i=n.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},om=function(t,n,i,r){var s=t.memoizedProps;if(s!==r){t=n.stateNode,r4(r2.current);var a,l=null;switch(i){case"input":s=G(t,s),r=G(t,r),l=[];break;case"select":s=D({},s,{value:void 0}),r=D({},r,{value:void 0}),l=[];break;case"textarea":s=ee(t,s),r=ee(t,r),l=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(t.onclick=id)}for(d in ef(i,r),i=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d]){if("style"===d){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null))}for(d in r){var u=r[d];if(c=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c)){if("style"===d){if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(i||(i={}),i[a]=u[a])}else i||(l||(l=[]),l.push(d,i)),i=u}else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(l=l||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(l=l||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&n6("scroll",t),l||c===u||(l=[])):(l=l||[]).push(d,u))}}i&&(l=l||[]).push("style",i);var d=l;(n.updateQueue=d)&&(n.flags|=4)}},og=function(t,n,i,r){i!==r&&(n.flags|=4)};var oI=!1,oT=!1,oB="function"==typeof WeakSet?WeakSet:Set,oL=null;function oj(t,n){var i=t.ref;if(null!==i){if("function"==typeof i)try{i(null)}catch(i){aV(t,n,i)}else i.current=null}}function oP(t,n,i){try{i()}catch(i){aV(t,n,i)}}var oR=!1;function oD(t,n,i){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,void 0!==o&&oP(n,i,o)}s=s.next}while(s!==r)}}function oF(t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var r=i.create;i.destroy=r()}i=i.next}while(i!==n)}}function oO(t){var n=t.ref;if(null!==n){var i=t.stateNode;t.tag,t=i,"function"==typeof n?n(t):n.current=t}}function oN(t){return 5===t.tag||3===t.tag||4===t.tag}function oU(t){s:for(;;){for(;null===t.sibling;){if(null===t.return||oN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags||null===t.child||4===t.tag)continue s;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}var oV=null,oH=!1;function oQ(t,n,i){for(i=i.child;null!==i;)oz(t,n,i),i=i.sibling}function oz(t,n,i){if(e0&&"function"==typeof e0.onCommitFiberUnmount)try{e0.onCommitFiberUnmount(eJ,i)}catch(t){}switch(i.tag){case 5:oT||oj(i,n);case 6:var r=oV,s=oH;oV=null,oQ(t,n,i),oH=s,null!==(oV=r)&&(oH?(t=oV,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):oV.removeChild(i.stateNode));break;case 18:null!==oV&&(oH?(t=oV,i=i.stateNode,8===t.nodeType?iA(t.parentNode,i):1===t.nodeType&&iA(t,i),tk(t)):iA(oV,i.stateNode));break;case 4:r=oV,s=oH,oV=i.stateNode.containerInfo,oH=!0,oQ(t,n,i),oV=r,oH=s;break;case 0:case 11:case 14:case 15:if(!oT&&null!==(r=i.updateQueue)&&null!==(r=r.lastEffect)){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&oP(i,n,a),s=s.next}while(s!==r)}oQ(t,n,i);break;case 1:if(!oT&&(oj(i,n),"function"==typeof(r=i.stateNode).componentWillUnmount))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(t){aV(i,n,t)}oQ(t,n,i);break;case 21:default:oQ(t,n,i);break;case 22:1&i.mode?(oT=(r=oT)||null!==i.memoizedState,oQ(t,n,i),oT=r):oQ(t,n,i)}}function oG(t){var n=t.updateQueue;if(null!==n){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new oB),n.forEach(function(n){var r=aG.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}function oq(t,n){var i=n.deletions;if(null!==i)for(var s=0;s<i.length;s++){var o=i[s];try{var a=n,l=a;s:for(;null!==l;){switch(l.tag){case 5:oV=l.stateNode,oH=!1;break s;case 3:case 4:oV=l.stateNode.containerInfo,oH=!0;break s}l=l.return}if(null===oV)throw Error(r(160));oz(t,a,o),oV=null,oH=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(t){aV(o,n,t)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)oW(n,t),n=n.sibling}function oW(t,n){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oq(n,t),o$(t),4&s){try{oD(3,t,t.return),oF(3,t)}catch(n){aV(t,t.return,n)}try{oD(5,t,t.return)}catch(n){aV(t,t.return,n)}}break;case 1:oq(n,t),o$(t),512&s&&null!==i&&oj(i,i.return);break;case 5:if(oq(n,t),o$(t),512&s&&null!==i&&oj(i,i.return),32&t.flags){var o=t.stateNode;try{el(o,"")}catch(n){aV(t,t.return,n)}}if(4&s&&null!=(o=t.stateNode)){var a=t.memoizedProps,l=null!==i?i.memoizedProps:a,c=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&W(o,a),em(c,l);var d=em(c,a);for(l=0;l<u.length;l+=2){var p=u[l],h=u[l+1];"style"===p?ep(o,h):"dangerouslySetInnerHTML"===p?ea(o,h):"children"===p?el(o,h):y(o,p,h,d)}switch(c){case"input":$(o,a);break;case"textarea":en(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?J(o,!!a.multiple,m,!1):!!a.multiple!==f&&(null!=a.defaultValue?J(o,!!a.multiple,a.defaultValue,!0):J(o,!!a.multiple,a.multiple?[]:"",!1))}o[ik]=a}catch(n){aV(t,t.return,n)}}break;case 6:if(oq(n,t),o$(t),4&s){if(null===t.stateNode)throw Error(r(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(n){aV(t,t.return,n)}}break;case 3:if(oq(n,t),o$(t),4&s&&null!==i&&i.memoizedState.isDehydrated)try{tk(n.containerInfo)}catch(n){aV(t,t.return,n)}break;case 4:default:oq(n,t),o$(t);break;case 13:oq(n,t),o$(t),8192&(o=t.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,a&&(null===o.alternate||null===o.alternate.memoizedState)&&(ao=eq())),4&s&&oG(t);break;case 22:if(p=null!==i&&null!==i.memoizedState,1&t.mode?(oT=(d=oT)||p,oq(n,t),oT=d):oq(n,t),o$(t),8192&s){if(d=null!==t.memoizedState,(t.stateNode.isHidden=d)&&!p&&0!=(1&t.mode))for(oL=t,p=t.child;null!==p;){for(h=oL=p;null!==oL;){switch(m=(f=oL).child,f.tag){case 0:case 11:case 14:case 15:oD(4,f,f.return);break;case 1:oj(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){s=f,i=f.return;try{n=s,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(t){aV(s,i,t)}}break;case 5:oj(f,f.return);break;case 22:if(null!==f.memoizedState){oY(h);continue}}null!==m?(m.return=f,oL=m):oY(h)}p=p.sibling}s:for(p=null,h=t;;){if(5===h.tag){if(null===p){p=h;try{o=h.stateNode,d?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,l=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,c.style.display=ed("display",l))}catch(n){aV(t,t.return,n)}}}else if(6===h.tag){if(null===p)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(n){aV(t,t.return,n)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break;for(;null===h.sibling;){if(null===h.return||h.return===t)break s;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:oq(n,t),o$(t),4&s&&oG(t);case 21:}}function o$(t){var n=t.flags;if(2&n){try{s:{for(var i=t.return;null!==i;){if(oN(i)){var s=i;break s}i=i.return}throw Error(r(160))}switch(s.tag){case 5:var o=s.stateNode;32&s.flags&&(el(o,""),s.flags&=-33),function t(n,i,r){var s=n.tag;if(5===s||6===s)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(4!==s&&null!==(n=n.child))for(t(n,i,r),n=n.sibling;null!==n;)t(n,i,r),n=n.sibling}(t,oU(t),o);break;case 3:case 4:var a=s.stateNode.containerInfo;!function t(n,i,r){var s=n.tag;if(5===s||6===s)n=n.stateNode,i?8===r.nodeType?r.parentNode.insertBefore(n,i):r.insertBefore(n,i):(8===r.nodeType?(i=r.parentNode).insertBefore(n,r):(i=r).appendChild(n),null!=(r=r._reactRootContainer)||null!==i.onclick||(i.onclick=id));else if(4!==s&&null!==(n=n.child))for(t(n,i,r),n=n.sibling;null!==n;)t(n,i,r),n=n.sibling}(t,oU(t),a);break;default:throw Error(r(161))}}catch(n){aV(t,t.return,n)}t.flags&=-3}4096&n&&(t.flags&=-4097)}function oZ(t){for(;null!==oL;){var n=oL;if(0!=(8772&n.flags)){var i=n.alternate;try{if(0!=(8772&n.flags))switch(n.tag){case 0:case 11:case 15:oT||oF(5,n);break;case 1:var s=n.stateNode;if(4&n.flags&&!oT){if(null===i)s.componentDidMount();else{var o=n.elementType===n.type?i.memoizedProps:rv(n.type,i.memoizedProps);s.componentDidUpdate(o,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}}var a=n.updateQueue;null!==a&&rV(n,a,s);break;case 3:var l=n.updateQueue;if(null!==l){if(i=null,null!==n.child)switch(n.child.tag){case 5:case 1:i=n.child.stateNode}rV(n,l,i)}break;case 5:var c=n.stateNode;if(null===i&&4&n.flags){i=c;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var p=d.memoizedState;if(null!==p){var h=p.dehydrated;null!==h&&tk(h)}}}break;default:throw Error(r(163))}oT||512&n.flags&&oO(n)}catch(t){aV(n,n.return,t)}}if(n===t){oL=null;break}if(null!==(i=n.sibling)){i.return=n.return,oL=i;break}oL=n.return}}function oY(t){for(;null!==oL;){var n=oL;if(n===t){oL=null;break}var i=n.sibling;if(null!==i){i.return=n.return,oL=i;break}oL=n.return}}function oK(t){for(;null!==oL;){var n=oL;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{oF(4,n)}catch(t){aV(n,i,t)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var s=n.return;try{r.componentDidMount()}catch(t){aV(n,s,t)}}var o=n.return;try{oO(n)}catch(t){aV(n,o,t)}break;case 5:var a=n.return;try{oO(n)}catch(t){aV(n,a,t)}}}catch(t){aV(n,n.return,t)}if(n===t){oL=null;break}var l=n.sibling;if(null!==l){l.return=n.return,oL=l;break}oL=n.return}}var oX,oJ=Math.ceil,o0=v.ReactCurrentDispatcher,o1=v.ReactCurrentOwner,o2=v.ReactCurrentBatchConfig,o3=0,o5=null,o4=null,o6=0,o8=0,o7=iF(0),o9=0,ae=null,at=0,an=0,ai=0,ar=null,as=null,ao=0,aa=1/0,al=null,ac=!1,au=null,ad=null,ap=!1,ah=null,af=0,am=0,ag=null,ax=-1,ay=0;function av(){return 0!=(6&o3)?eq():-1!==ax?ax:ax=eq()}function ab(t){return 0==(1&t.mode)?1:0!=(2&o3)&&0!==o6?o6&-o6:null!==ry.transition?(0===ay&&(ay=e9()),ay):0!==(t=tl)?t:t=void 0===(t=window.event)?16:tP(t.type)}function aA(t,n,i,s){if(50<am)throw am=0,ag=null,Error(r(185));tt(t,i,s),0!=(2&o3)&&t===o5||(t===o5&&(0==(2&o3)&&(an|=i),4===o9&&ak(t,o6)),aw(t,s),1===i&&0===o3&&0==(1&n.mode)&&(aa=eq()+500,iX&&i1()))}function aw(t,n){var i,r=t.callbackNode;!function(t,n){for(var i=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-e1(o),l=1<<a,c=s[a];-1===c?0!=(l&i)&&0==(l&r)||(s[a]=function(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return -1}}(l,n)):c<=n&&(t.expiredLanes|=l),o&=~l}}(t,n);var s=e8(t,t===o5?o6:0);if(0===s)null!==r&&eQ(r),t.callbackNode=null,t.callbackPriority=0;else if(n=s&-s,t.callbackPriority!==n){if(null!=r&&eQ(r),1===n)0===t.tag?(i=aE.bind(null,t),iX=!0,i0(i)):i0(aE.bind(null,t)),iv(function(){0==(6&o3)&&i1()}),r=null;else{switch(tc(s)){case 1:r=e$;break;case 4:r=eZ;break;case 16:default:r=eY;break;case 536870912:r=eX}r=eH(r,aC.bind(null,t))}t.callbackPriority=n,t.callbackNode=r}}function aC(t,n){if(ax=-1,ay=0,0!=(6&o3))throw Error(r(327));var i=t.callbackNode;if(aN()&&t.callbackNode!==i)return null;var s=e8(t,t===o5?o6:0);if(0===s)return null;if(0!=(30&s)||0!=(s&t.expiredLanes)||n)n=aR(t,s);else{n=s;var o=o3;o3|=2;var a=aj();for(o5===t&&o6===n||(al=null,aa=eq()+500,aB(t,n));;)try{(function(){for(;null!==o4&&!ez();)aD(o4)})();break}catch(n){aL(t,n)}r_(),o0.current=a,o3=o,null!==o4?n=0:(o5=null,o6=0,n=o9)}if(0!==n){if(2===n&&0!==(o=e7(t))&&(s=o,n=a_(t,o)),1===n)throw i=ae,aB(t,0),ak(t,s),aw(t,eq()),i;if(6===n)ak(t,s);else{if(o=t.current.alternate,0==(30&s)&&!function(t){for(var n=t;;){if(16384&n.flags){var i=n.updateQueue;if(null!==i&&null!==(i=i.stores))for(var r=0;r<i.length;r++){var s=i[r],o=s.getSnapshot;s=s.value;try{if(!nT(o(),s))return!1}catch(t){return!1}}}if(i=n.child,16384&n.subtreeFlags&&null!==i)i.return=n,n=i;else{if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)&&(2===(n=aR(t,s))&&0!==(a=e7(t))&&(s=a,n=a_(t,a)),1===n))throw i=ae,aB(t,0),ak(t,s),aw(t,eq()),i;switch(t.finishedWork=o,t.finishedLanes=s,n){case 0:case 1:throw Error(r(345));case 2:case 5:aO(t,as,al);break;case 3:if(ak(t,s),(130023424&s)===s&&10<(n=ao+500-eq())){if(0!==e8(t,0))break;if(((o=t.suspendedLanes)&s)!==s){av(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ig(aO.bind(null,t,as,al),n);break}aO(t,as,al);break;case 4:if(ak(t,s),(4194240&s)===s)break;for(n=t.eventTimes,o=-1;0<s;){var l=31-e1(s);a=1<<l,(l=n[l])>o&&(o=l),s&=~a}if(s=o,10<(s=(120>(s=eq()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*oJ(s/1960))-s)){t.timeoutHandle=ig(aO.bind(null,t,as,al),s);break}aO(t,as,al);break;default:throw Error(r(329))}}}return aw(t,eq()),t.callbackNode===i?aC.bind(null,t):null}function a_(t,n){var i=ar;return t.current.memoizedState.isDehydrated&&(aB(t,n).flags|=256),2!==(t=aR(t,n))&&(n=as,as=i,null!==n&&aS(n)),t}function aS(t){null===as?as=t:as.push.apply(as,t)}function ak(t,n){for(n&=~ai,n&=~an,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-e1(n),r=1<<i;t[i]=-1,n&=~r}}function aE(t){if(0!=(6&o3))throw Error(r(327));aN();var n=e8(t,0);if(0==(1&n))return aw(t,eq()),null;var i=aR(t,n);if(0!==t.tag&&2===i){var s=e7(t);0!==s&&(n=s,i=a_(t,s))}if(1===i)throw i=ae,aB(t,0),ak(t,n),aw(t,eq()),i;if(6===i)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,aO(t,as,al),aw(t,eq()),null}function aM(t,n){var i=o3;o3|=1;try{return t(n)}finally{0===(o3=i)&&(aa=eq()+500,iX&&i1())}}function aI(t){null!==ah&&0===ah.tag&&0==(6&o3)&&aN();var n=o3;o3|=1;var i=o2.transition,r=tl;try{if(o2.transition=null,tl=1,t)return t()}finally{tl=r,o2.transition=i,0==(6&(o3=n))&&i1()}}function aT(){o8=o7.current,iO(o7)}function aB(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,ix(i)),null!==o4)for(i=o4.return;null!==i;){var r=i;switch(rr(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&iq();break;case 3:r8(),iO(iH),iO(iV),si();break;case 5:r9(r);break;case 4:r8();break;case 13:case 19:iO(se);break;case 10:rS(r.type._context);break;case 22:case 23:aT()}i=i.return}if(o5=t,o4=t=aZ(t.current,null),o6=o8=n,o9=0,ae=null,ai=an=at=0,as=ar=null,null!==rI){for(n=0;n<rI.length;n++)if(null!==(r=(i=rI[n]).interleaved)){i.interleaved=null;var s=r.next,o=i.pending;if(null!==o){var a=o.next;o.next=s,r.next=a}i.pending=r}rI=null}return t}function aL(t,n){for(;;){var i=o4;try{if(r_(),sr.current=sX,su){for(var s=sa.memoizedState;null!==s;){var o=s.queue;null!==o&&(o.pending=null),s=s.next}su=!1}if(so=0,sc=sl=sa=null,sd=!1,sp=0,o1.current=null,null===i||null===i.return){o9=1,ae=n,o4=null;break}s:{var a=t,l=i.return,c=i,u=n;if(n=o6,c.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var d=u,p=c,h=p.tag;if(0==(1&p.mode)&&(0===h||11===h||15===h)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=s9(l);if(null!==m){m.flags&=-257,oe(m,l,c,0,n),1&m.mode&&s7(a,d,n),u=d;var g=(n=m).updateQueue;if(null===g){var x=new Set;x.add(u),n.updateQueue=x}else g.add(u);break s}if(0==(1&n)){s7(a,d,n),aP();break s}u=Error(r(426))}else if(ra&&1&c.mode){var y=s9(l);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),oe(y,l,c,0,n),rx(s2(u,c));break s}}a=u=s2(u,c),4!==o9&&(o9=2),null===ar?ar=[a]:ar.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n,rN(a,s6(0,u,n));break s;case 1:c=u;var v=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ad||!ad.has(b)))){a.flags|=65536,n&=-n,a.lanes|=n,rN(a,s8(a,c,n));break s}}a=a.return}while(null!==a)}aF(i)}catch(t){n=t,o4===i&&null!==i&&(o4=i=i.return);continue}break}}function aj(){var t=o0.current;return o0.current=sX,null===t?sX:t}function aP(){0!==o9&&3!==o9&&2!==o9||(o9=4),null===o5||0==(268435455&at)&&0==(268435455&an)||ak(o5,o6)}function aR(t,n){var i=o3;o3|=2;var s=aj();for(o5===t&&o6===n||(al=null,aB(t,n));;)try{(function(){for(;null!==o4;)aD(o4)})();break}catch(n){aL(t,n)}if(r_(),o3=i,o0.current=s,null!==o4)throw Error(r(261));return o5=null,o6=0,o9}function aD(t){var n=oX(t.alternate,t,o8);t.memoizedProps=t.pendingProps,null===n?aF(t):o4=n,o1.current=null}function aF(t){var n=t;do{var i=n.alternate;if(t=n.return,0==(32768&n.flags)){if(null!==(i=function(t,n,i){var s=n.pendingProps;switch(rr(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oM(n),null;case 1:case 17:return iG(n.type)&&iq(),oM(n),null;case 3:return s=n.stateNode,r8(),iO(iH),iO(iV),si(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(rf(n)?n.flags|=4:null===t||t.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==rl&&(aS(rl),rl=null))),oM(n),null;case 5:r9(n);var a=r4(r5.current);if(i=n.type,null!==t&&null!=n.stateNode)om(t,n,i,s),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(null===n.stateNode)throw Error(r(166));return oM(n),null}if(t=r4(r2.current),rf(n)){s=n.stateNode,i=n.type;var l=n.memoizedProps;switch(s[iS]=n,s[ik]=l,t=0!=(1&n.mode),i){case"dialog":n6("cancel",s),n6("close",s);break;case"iframe":case"object":case"embed":n6("load",s);break;case"video":case"audio":for(a=0;a<n2.length;a++)n6(n2[a],s);break;case"source":n6("error",s);break;case"img":case"image":case"link":n6("error",s),n6("load",s);break;case"details":n6("toggle",s);break;case"input":q(s,l),n6("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},n6("invalid",s);break;case"textarea":et(s,l),n6("invalid",s)}for(var c in ef(i,l),a=null,l)if(l.hasOwnProperty(c)){var u=l[c];"children"===c?"string"==typeof u?s.textContent!==u&&(!0!==l.suppressHydrationWarning&&iu(s.textContent,u,t),a=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&iu(s.textContent,u,t),a=["children",""+u]):o.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&n6("scroll",s)}switch(i){case"input":H(s),Z(s,l,!0);break;case"textarea":H(s),ei(s);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(s.onclick=id)}s=a,n.updateQueue=s,null!==s&&(n.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=er(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=c.createElement("div")).innerHTML="<script></script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=c.createElement(i,{is:s.is}):(t=c.createElement(i),"select"===i&&(c=t,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):t=c.createElementNS(t,i),t[iS]=n,t[ik]=s,of(t,n),n.stateNode=t;s:{switch(c=em(i,s),i){case"dialog":n6("cancel",t),n6("close",t),a=s;break;case"iframe":case"object":case"embed":n6("load",t),a=s;break;case"video":case"audio":for(a=0;a<n2.length;a++)n6(n2[a],t);a=s;break;case"source":n6("error",t),a=s;break;case"img":case"image":case"link":n6("error",t),n6("load",t),a=s;break;case"details":n6("toggle",t),a=s;break;case"input":q(t,s),a=G(t,s),n6("invalid",t);break;case"option":default:a=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},a=D({},s,{value:void 0}),n6("invalid",t);break;case"textarea":et(t,s),a=ee(t,s),n6("invalid",t)}for(l in ef(i,a),u=a)if(u.hasOwnProperty(l)){var d=u[l];"style"===l?ep(t,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ea(t,d):"children"===l?"string"==typeof d?("textarea"!==i||""!==d)&&el(t,d):"number"==typeof d&&el(t,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=d&&"onScroll"===l&&n6("scroll",t):null!=d&&y(t,l,d,c))}switch(i){case"input":H(t),Z(t,s,!1);break;case"textarea":H(t),ei(t);break;case"option":null!=s.value&&t.setAttribute("value",""+U(s.value));break;case"select":t.multiple=!!s.multiple,null!=(l=s.value)?J(t,!!s.multiple,l,!1):null!=s.defaultValue&&J(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof a.onClick&&(t.onclick=id)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break s;case"img":s=!0;break s;default:s=!1}}s&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return oM(n),null;case 6:if(t&&null!=n.stateNode)og(0,n,t.memoizedProps,s);else{if("string"!=typeof s&&null===n.stateNode)throw Error(r(166));if(i=r4(r5.current),r4(r2.current),rf(n)){if(s=n.stateNode,i=n.memoizedProps,s[iS]=n,(l=s.nodeValue!==i)&&null!==(t=rs))switch(t.tag){case 3:iu(s.nodeValue,i,0!=(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&iu(s.nodeValue,i,0!=(1&t.mode))}l&&(n.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[iS]=n,n.stateNode=s}return oM(n),null;case 13:if(iO(se),s=n.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ra&&null!==ro&&0!=(1&n.mode)&&0==(128&n.flags))rm(),rg(),n.flags|=98560,l=!1;else if(l=rf(n),null!==s&&null!==s.dehydrated){if(null===t){if(!l)throw Error(r(318));if(!(l=null!==(l=n.memoizedState)?l.dehydrated:null))throw Error(r(317));l[iS]=n}else rg(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;oM(n),l=!1}else null!==rl&&(aS(rl),rl=null),l=!0;if(!l)return 65536&n.flags?n:null}return 0!=(128&n.flags)?(n.lanes=i,n):((s=null!==s)!=(null!==t&&null!==t.memoizedState)&&s&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===t||0!=(1&se.current)?0===o9&&(o9=3):aP())),null!==n.updateQueue&&(n.flags|=4),oM(n),null);case 4:return r8(),null===t&&n9(n.stateNode.containerInfo),oM(n),null;case 10:return rS(n.type._context),oM(n),null;case 19:if(iO(se),null===(l=n.memoizedState))return oM(n),null;if(s=0!=(128&n.flags),null===(c=l.rendering)){if(s)oE(l,!1);else{if(0!==o9||null!==t&&0!=(128&t.flags))for(t=n.child;null!==t;){if(null!==(c=st(t))){for(n.flags|=128,oE(l,!1),null!==(s=c.updateQueue)&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;null!==i;)t=s,(l=i).flags&=14680066,null===(c=l.alternate)?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,t=c.dependencies,l.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return iN(se,1&se.current|2),n.child}t=t.sibling}null!==l.tail&&eq()>aa&&(n.flags|=128,s=!0,oE(l,!1),n.lanes=4194304)}}else{if(!s){if(null!==(t=st(c))){if(n.flags|=128,s=!0,null!==(i=t.updateQueue)&&(n.updateQueue=i,n.flags|=4),oE(l,!0),null===l.tail&&"hidden"===l.tailMode&&!c.alternate&&!ra)return oM(n),null}else 2*eq()-l.renderingStartTime>aa&&1073741824!==i&&(n.flags|=128,s=!0,oE(l,!1),n.lanes=4194304)}l.isBackwards?(c.sibling=n.child,n.child=c):(null!==(i=l.last)?i.sibling=c:n.child=c,l.last=c)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=eq(),n.sibling=null,i=se.current,iN(se,s?1&i|2:1&i),n):(oM(n),null);case 22:case 23:return aT(),s=null!==n.memoizedState,null!==t&&null!==t.memoizedState!==s&&(n.flags|=8192),s&&0!=(1&n.mode)?0!=(1073741824&o8)&&(oM(n),6&n.subtreeFlags&&(n.flags|=8192)):oM(n),null;case 24:case 25:return null}throw Error(r(156,n.tag))}(i,n,o8)))return void(o4=i)}else{if(null!==(i=function(t,n){switch(rr(n),n.tag){case 1:return iG(n.type)&&iq(),65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 3:return r8(),iO(iH),iO(iV),si(),0!=(65536&(t=n.flags))&&0==(128&t)?(n.flags=-65537&t|128,n):null;case 5:return r9(n),null;case 13:if(iO(se),null!==(t=n.memoizedState)&&null!==t.dehydrated){if(null===n.alternate)throw Error(r(340));rg()}return 65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 19:return iO(se),null;case 4:return r8(),null;case 10:return rS(n.type._context),null;case 22:case 23:return aT(),null;default:return null}}(i,n)))return i.flags&=32767,void(o4=i);if(null===t)return o9=6,void(o4=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(n=n.sibling))return void(o4=n);o4=n=t}while(null!==n);0===o9&&(o9=5)}function aO(t,n,i){var s=tl,o=o2.transition;try{o2.transition=null,tl=1,function(t,n,i,s){do aN();while(null!==ah);if(0!=(6&o3))throw Error(r(327));i=t.finishedWork;var o=t.finishedLanes;if(null!==i){if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<i;){var s=31-e1(i),o=1<<s;n[s]=0,r[s]=-1,t[s]=-1,i&=~o}}(t,a),t===o5&&(o4=o5=null,o6=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||ap||(ap=!0,l=function(){return aN(),null},eH(eY,l)),a=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||a){a=o2.transition,o2.transition=null;var l,c,u,d,p=tl;tl=1;var h=o3;o3|=4,o1.current=null,function(t,n){if(ip=tM,nR(t=nP())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else s:{var s=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var o,a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{i.nodeType,l.nodeType}catch(t){i=null;break s}var c=0,u=-1,d=-1,p=0,h=0,f=t,m=null;o:for(;;){for(;f!==i||0!==a&&3!==f.nodeType||(u=c+a),f!==l||0!==s&&3!==f.nodeType||(d=c+s),3===f.nodeType&&(c+=f.nodeValue.length),null!==(o=f.firstChild);)m=f,f=o;for(;;){if(f===t)break o;if(m===i&&++p===a&&(u=c),m===l&&++h===s&&(d=c),null!==(o=f.nextSibling))break;m=(f=m).parentNode}f=o}i=-1===u||-1===d?null:{start:u,end:d}}else i=null}i=i||{start:0,end:0}}else i=null;for(ih={focusedElem:t,selectionRange:i},tM=!1,oL=n;null!==oL;)if(t=(n=oL).child,0!=(1028&n.subtreeFlags)&&null!==t)t.return=n,oL=t;else for(;null!==oL;){n=oL;try{var g=n.alternate;if(0!=(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var x=g.memoizedProps,y=g.memoizedState,v=n.stateNode,b=v.getSnapshotBeforeUpdate(n.elementType===n.type?x:rv(n.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=n.stateNode.containerInfo;1===A.nodeType?A.textContent="":9===A.nodeType&&A.documentElement&&A.removeChild(A.documentElement);break;default:throw Error(r(163))}}catch(t){aV(n,n.return,t)}if(null!==(t=n.sibling)){t.return=n.return,oL=t;break}oL=n.return}g=oR,oR=!1}(t,i),oW(i,t),function(t){var n=nP(),i=t.focusedElem,r=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&function t(n,i){return!(!n||!i)&&(n===i||(!n||3!==n.nodeType)&&(i&&3===i.nodeType?t(n,i.parentNode):"contains"in n?n.contains(i):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(i))))}(i.ownerDocument.documentElement,i)){if(null!==r&&nR(i)){if(n=r.start,void 0===(t=r.end)&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if((t=(n=i.ownerDocument||document)&&n.defaultView||window).getSelection){t=t.getSelection();var s=i.textContent.length,o=Math.min(r.start,s);r=void 0===r.end?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=nj(i,o);var a=nj(i,r);s&&a&&(1!==t.rangeCount||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((n=n.createRange()).setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(n),t.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<n.length;i++)(t=n[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}(ih),tM=!!ip,ih=ip=null,t.current=i,c=i,u=t,d=o,oL=c,function t(n,i,r){for(var s=0!=(1&n.mode);null!==oL;){var o=oL,a=o.child;if(22===o.tag&&s){var l=null!==o.memoizedState||oI;if(!l){var c=o.alternate,u=null!==c&&null!==c.memoizedState||oT;c=oI;var d=oT;if(oI=l,(oT=u)&&!d)for(oL=o;null!==oL;)u=(l=oL).child,22===l.tag&&null!==l.memoizedState?oK(o):null!==u?(u.return=l,oL=u):oK(o);for(;null!==a;)oL=a,t(a,i,r),a=a.sibling;oL=o,oI=c,oT=d}oZ(n)}else 0!=(8772&o.subtreeFlags)&&null!==a?(a.return=o,oL=a):oZ(n)}}(c,u,d),eG(),o3=h,tl=p,o2.transition=a}else t.current=i;if(ap&&(ap=!1,ah=t,af=o),a=t.pendingLanes,0===a&&(ad=null),function(t){if(e0&&"function"==typeof e0.onCommitFiberRoot)try{e0.onCommitFiberRoot(eJ,t,void 0,128==(128&t.current.flags))}catch(t){}}(i.stateNode),aw(t,eq()),null!==n)for(s=t.onRecoverableError,i=0;i<n.length;i++)o=n[i],s(o.value,{componentStack:o.stack,digest:o.digest});if(ac)throw ac=!1,t=au,au=null,t;0!=(1&af)&&0!==t.tag&&aN(),a=t.pendingLanes,0!=(1&a)?t===ag?am++:(am=0,ag=t):am=0,i1()}}(t,n,i,s)}finally{o2.transition=o,tl=s}return null}function aN(){if(null!==ah){var t=tc(af),n=o2.transition,i=tl;try{if(o2.transition=null,tl=16>t?16:t,null===ah)var s=!1;else{if(t=ah,ah=null,af=0,0!=(6&o3))throw Error(r(331));var o=o3;for(o3|=4,oL=t.current;null!==oL;){var a=oL,l=a.child;if(0!=(16&oL.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var d=c[u];for(oL=d;null!==oL;){var p=oL;switch(p.tag){case 0:case 11:case 15:oD(8,p,a)}var h=p.child;if(null!==h)h.return=p,oL=h;else for(;null!==oL;){var f=(p=oL).sibling,m=p.return;if(function t(n){var i=n.alternate;null!==i&&(n.alternate=null,t(i)),n.child=null,n.deletions=null,n.sibling=null,5===n.tag&&null!==(i=n.stateNode)&&(delete i[iS],delete i[ik],delete i[iM],delete i[iI],delete i[iT]),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}(p),p===d){oL=null;break}if(null!==f){f.return=m,oL=f;break}oL=m}}}var g=a.alternate;if(null!==g){var x=g.child;if(null!==x){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(null!==x)}}oL=a}}if(0!=(2064&a.subtreeFlags)&&null!==l)l.return=a,oL=l;else for(;null!==oL;){if(0!=(2048&(a=oL).flags))switch(a.tag){case 0:case 11:case 15:oD(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,oL=v;break}oL=a.return}}var b=t.current;for(oL=b;null!==oL;){var A=(l=oL).child;if(0!=(2064&l.subtreeFlags)&&null!==A)A.return=l,oL=A;else for(l=b;null!==oL;){if(0!=(2048&(c=oL).flags))try{switch(c.tag){case 0:case 11:case 15:oF(9,c)}}catch(t){aV(c,c.return,t)}if(c===l){oL=null;break}var w=c.sibling;if(null!==w){w.return=c.return,oL=w;break}oL=c.return}}if(o3=o,i1(),e0&&"function"==typeof e0.onPostCommitFiberRoot)try{e0.onPostCommitFiberRoot(eJ,t)}catch(t){}s=!0}return s}finally{tl=i,o2.transition=n}}return!1}function aU(t,n,i){t=rF(t,n=s6(0,n=s2(i,n),1),1),n=av(),null!==t&&(tt(t,1,n),aw(t,n))}function aV(t,n,i){if(3===t.tag)aU(t,t,i);else for(;null!==n;){if(3===n.tag){aU(n,t,i);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ad||!ad.has(r))){n=rF(n,t=s8(n,t=s2(i,t),1),1),t=av(),null!==n&&(tt(n,1,t),aw(n,t));break}}n=n.return}}function aH(t,n,i){var r=t.pingCache;null!==r&&r.delete(n),n=av(),t.pingedLanes|=t.suspendedLanes&i,o5===t&&(o6&i)===i&&(4===o9||3===o9&&(130023424&o6)===o6&&500>eq()-ao?aB(t,0):ai|=i),aw(t,n)}function aQ(t,n){0===n&&(0==(1&t.mode)?n=1:(n=e4,0==(130023424&(e4<<=1))&&(e4=4194304)));var i=av();null!==(t=rL(t,n))&&(tt(t,n,i),aw(t,i))}function az(t){var n=t.memoizedState,i=0;null!==n&&(i=n.retryLane),aQ(t,i)}function aG(t,n){var i=0;switch(t.tag){case 13:var s=t.stateNode,o=t.memoizedState;null!==o&&(i=o.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(r(314))}null!==s&&s.delete(n),aQ(t,i)}function aq(t,n,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aW(t,n,i,r){return new aq(t,n,i,r)}function a$(t){return!(!(t=t.prototype)||!t.isReactComponent)}function aZ(t,n){var i=t.alternate;return null===i?((i=aW(t.tag,n,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function aY(t,n,i,s,o,a){var l=2;if(s=t,"function"==typeof t)a$(t)&&(l=1);else if("string"==typeof t)l=5;else s:switch(t){case w:return aK(i.children,o,a,n);case C:l=8,o|=8;break;case _:return(t=aW(12,i,n,2|o)).elementType=_,t.lanes=a,t;case M:return(t=aW(13,i,n,o)).elementType=M,t.lanes=a,t;case I:return(t=aW(19,i,n,o)).elementType=I,t.lanes=a,t;case L:return aX(i,o,a,n);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case S:l=10;break s;case k:l=9;break s;case E:l=11;break s;case T:l=14;break s;case B:l=16,s=null;break s}throw Error(r(130,null==t?t:typeof t,""))}return(n=aW(l,i,n,o)).elementType=t,n.type=s,n.lanes=a,n}function aK(t,n,i,r){return(t=aW(7,t,r,n)).lanes=i,t}function aX(t,n,i,r){return(t=aW(22,t,r,n)).elementType=L,t.lanes=i,t.stateNode={isHidden:!1},t}function aJ(t,n,i){return(t=aW(6,t,null,n)).lanes=i,t}function a0(t,n,i){return(n=aW(4,null!==t.children?t.children:[],t.key,n)).lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function a1(t,n,i,r,s){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=te(0),this.expirationTimes=te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function a2(t,n,i,r,s,o,a,l,c){return t=new a1(t,n,i,l,c),1===n?(n=1,!0===o&&(n|=8)):n=0,o=aW(3,null,null,n),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},rP(o),t}function a3(t){if(!t)return iU;s:{if(eO(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break s;case 1:if(iG(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break s}}n=n.return}while(null!==n);throw Error(r(171))}if(1===t.tag){var i=t.type;if(iG(i))return i$(t,i,n)}return n}function a5(t,n,i,r,s,o,a,l,c){return(t=a2(i,r,!0,t,0,o,0,l,c)).context=a3(null),i=t.current,(o=rD(r=av(),s=ab(i))).callback=null!=n?n:null,rF(i,o,s),t.current.lanes=s,tt(t,s,r),aw(t,r),t}function a4(t,n,i,r){var s=n.current,o=av(),a=ab(s);return i=a3(i),null===n.context?n.context=i:n.pendingContext=i,(n=rD(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(t=rF(s,n,a))&&(aA(t,s,a,o),rO(t,s,a)),a}function a6(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function a8(t,n){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<n?i:n}}function a7(t,n){a8(t,n),(t=t.alternate)&&a8(t,n)}oX=function(t,n,i){if(null!==t){if(t.memoizedProps!==n.pendingProps||iH.current)on=!0;else{if(0==(t.lanes&i)&&0==(128&n.flags))return on=!1,function(t,n,i){switch(n.tag){case 3:op(n),rg();break;case 5:r7(n);break;case 1:iG(n.type)&&iZ(n);break;case 4:r6(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,s=n.memoizedProps.value;iN(rb,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(iN(se,1&se.current),n.flags|=128,null):0!=(i&n.child.childLanes)?ov(t,n,i):(iN(se,1&se.current),null!==(t=ok(t,n,i))?t.sibling:null);iN(se,1&se.current);break;case 19:if(r=0!=(i&n.childLanes),0!=(128&t.flags)){if(r)return o_(t,n,i);n.flags|=128}if(null!==(s=n.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),iN(se,se.current),r)break;return null;case 22:case 23:return n.lanes=0,oa(t,n,i)}return ok(t,n,i)}(t,n,i);on=0!=(131072&t.flags)}}else on=!1,ra&&0!=(1048576&n.flags)&&rn(n,i4,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;oS(t,n),t=n.pendingProps;var o=iz(n,iV.current);rE(n,i),o=sg(null,n,s,t,o,i);var a=sx();return n.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,iG(s)?(a=!0,iZ(n)):a=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,rP(n),o.updater=rz,n.stateNode=o,o._reactInternals=n,r$(n,s,t,i),n=od(null,n,s,!0,a,i)):(n.tag=0,ra&&a&&ri(n),oi(null,n,o,i),n=n.child),n;case 16:s=n.elementType;s:{switch(oS(t,n),t=n.pendingProps,s=(o=s._init)(s._payload),n.type=s,o=n.tag=function(t){if("function"==typeof t)return a$(t)?1:0;if(null!=t){if((t=t.$$typeof)===E)return 11;if(t===T)return 14}return 2}(s),t=rv(s,t),o){case 0:n=oc(null,n,s,t,i);break s;case 1:n=ou(null,n,s,t,i);break s;case 11:n=or(null,n,s,t,i);break s;case 14:n=os(null,n,s,rv(s.type,t),i);break s}throw Error(r(306,s,""))}return n;case 0:return s=n.type,o=n.pendingProps,oc(t,n,s,o=n.elementType===s?o:rv(s,o),i);case 1:return s=n.type,o=n.pendingProps,ou(t,n,s,o=n.elementType===s?o:rv(s,o),i);case 3:s:{if(op(n),null===t)throw Error(r(387));s=n.pendingProps,o=(a=n.memoizedState).element,rR(t,n),rU(n,s,null,i);var l=n.memoizedState;if(s=l.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=a,n.memoizedState=a,256&n.flags){n=oh(t,n,s,i,o=s2(Error(r(423)),n));break s}if(s!==o){n=oh(t,n,s,i,o=s2(Error(r(424)),n));break s}for(ro=iw(n.stateNode.containerInfo.firstChild),rs=n,ra=!0,rl=null,i=r0(n,null,s,i),n.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(rg(),s===o){n=ok(t,n,i);break s}oi(t,n,s,i)}n=n.child}return n;case 5:return r7(n),null===t&&rp(n),s=n.type,o=n.pendingProps,a=null!==t?t.memoizedProps:null,l=o.children,im(s,o)?l=null:null!==a&&im(s,a)&&(n.flags|=32),ol(t,n),oi(t,n,l,i),n.child;case 6:return null===t&&rp(n),null;case 13:return ov(t,n,i);case 4:return r6(n,n.stateNode.containerInfo),s=n.pendingProps,null===t?n.child=rJ(n,null,s,i):oi(t,n,s,i),n.child;case 11:return s=n.type,o=n.pendingProps,or(t,n,s,o=n.elementType===s?o:rv(s,o),i);case 7:return oi(t,n,n.pendingProps,i),n.child;case 8:case 12:return oi(t,n,n.pendingProps.children,i),n.child;case 10:s:{if(s=n.type._context,o=n.pendingProps,a=n.memoizedProps,l=o.value,iN(rb,s._currentValue),s._currentValue=l,null!==a){if(nT(a.value,l)){if(a.children===o.children&&!iH.current){n=ok(t,n,i);break s}}else for(null!==(a=n.child)&&(a.return=n);null!==a;){var c=a.dependencies;if(null!==c){l=a.child;for(var u=c.firstContext;null!==u;){if(u.context===s){if(1===a.tag){(u=rD(-1,i&-i)).tag=2;var d=a.updateQueue;if(null!==d){var p=(d=d.shared).pending;null===p?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}a.lanes|=i,null!==(u=a.alternate)&&(u.lanes|=i),rk(a.return,i,n),c.lanes|=i;break}u=u.next}}else if(10===a.tag)l=a.type===n.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(r(341));l.lanes|=i,null!==(c=l.alternate)&&(c.lanes|=i),rk(l,i,n),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===n){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}oi(t,n,o.children,i),n=n.child}return n;case 9:return o=n.type,s=n.pendingProps.children,rE(n,i),s=s(o=rM(o)),n.flags|=1,oi(t,n,s,i),n.child;case 14:return o=rv(s=n.type,n.pendingProps),os(t,n,s,o=rv(s.type,o),i);case 15:return oo(t,n,n.type,n.pendingProps,i);case 17:return s=n.type,o=n.pendingProps,o=n.elementType===s?o:rv(s,o),oS(t,n),n.tag=1,iG(s)?(t=!0,iZ(n)):t=!1,rE(n,i),rq(n,s,o),r$(n,s,o,i),od(null,n,s,!0,t,i);case 19:return o_(t,n,i);case 22:return oa(t,n,i)}throw Error(r(156,n.tag))};var a9="function"==typeof reportError?reportError:function(t){console.error(t)};function le(t){this._internalRoot=t}function lt(t){this._internalRoot=t}function ln(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function li(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function lr(){}function ls(t,n,i,r,s){var o=i._reactRootContainer;if(o){var a=o;if("function"==typeof s){var l=s;s=function(){var t=a6(a);l.call(t)}}a4(n,a,t,s)}else a=function(t,n,i,r,s){if(s){if("function"==typeof r){var o=r;r=function(){var t=a6(a);o.call(t)}}var a=a5(n,r,t,0,null,!1,0,"",lr);return t._reactRootContainer=a,t[iE]=a.current,n9(8===t.nodeType?t.parentNode:t),aI(),a}for(;s=t.lastChild;)t.removeChild(s);if("function"==typeof r){var l=r;r=function(){var t=a6(c);l.call(t)}}var c=a2(t,0,!1,null,0,!1,0,"",lr);return t._reactRootContainer=c,t[iE]=c.current,n9(8===t.nodeType?t.parentNode:t),aI(function(){a4(n,c,i,r)}),c}(i,n,t,s,r);return a6(a)}lt.prototype.render=le.prototype.render=function(t){var n=this._internalRoot;if(null===n)throw Error(r(409));a4(t,n,null,null)},lt.prototype.unmount=le.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var n=t.containerInfo;aI(function(){a4(null,t,null,null)}),n[iE]=null}},lt.prototype.unstable_scheduleHydration=function(t){if(t){var n=to();t={blockedOn:null,target:t,priority:n};for(var i=0;i<tx.length&&0!==n&&n<tx[i].priority;i++);tx.splice(i,0,t),0===i&&tA(t)}},ti=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=e6(n.pendingLanes);0!==i&&(tn(n,1|i),aw(n,eq()),0==(6&o3)&&(aa=eq()+500,i1()))}break;case 13:aI(function(){var n=rL(t,1);null!==n&&aA(n,t,1,av())}),a7(t,1)}},tr=function(t){if(13===t.tag){var n=rL(t,134217728);null!==n&&aA(n,t,134217728,av()),a7(t,134217728)}},ts=function(t){if(13===t.tag){var n=ab(t),i=rL(t,n);null!==i&&aA(i,t,n,av()),a7(t,n)}},to=function(){return tl},ta=function(t,n){var i=tl;try{return tl=t,n()}finally{tl=i}},ey=function(t,n,i){switch(n){case"input":if($(t,i),n=i.name,"radio"===i.type&&null!=n){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==t&&s.form===t.form){var o=iP(s);if(!o)throw Error(r(90));Q(s),$(s,o)}}}break;case"textarea":en(t,i);break;case"select":null!=(n=i.value)&&J(t,!!i.multiple,n,!1)}},e_=aM,eS=aI;var lo,la={findFiberByHostInstance:iB,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ll={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=eV(t))?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&!(lo=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&lo.supportsFiber)try{eJ=lo.inject(ll),e0=lo}catch(t){}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={usingClientEntryPoint:!1,Events:[iL,ij,iP,ew,eC,aM]},t.createPortal=function(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ln(n))throw Error(r(200));return function(t,n,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:t,containerInfo:n,implementation:i}}(t,n,null,i)},t.createRoot=function(t,n){if(!ln(t))throw Error(r(299));var i=!1,s="",o=a9;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=a2(t,1,!1,null,0,i,0,s,o),t[iE]=n.current,n9(8===t.nodeType?t.parentNode:t),new le(n)},t.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var n=t._reactInternals;if(void 0===n){if("function"==typeof t.render)throw Error(r(188));throw Error(r(268,t=Object.keys(t).join(",")))}return t=null===(t=eV(n))?null:t.stateNode},t.flushSync=function(t){return aI(t)},t.hydrate=function(t,n,i){if(!li(n))throw Error(r(200));return ls(null,t,n,!0,i)},t.hydrateRoot=function(t,n,i){if(!ln(t))throw Error(r(405));var s=null!=i&&i.hydratedSources||null,o=!1,a="",l=a9;if(null!=i&&(!0===i.unstable_strictMode&&(o=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(l=i.onRecoverableError)),n=a5(n,null,t,1,null!=i?i:null,o,0,a,l),t[iE]=n.current,n9(t),s)for(t=0;t<s.length;t++)o=(o=(i=s[t])._getVersion)(i._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[i,o]:n.mutableSourceEagerHydrationData.push(i,o);return new lt(n)},t.render=function(t,n,i){if(!li(n))throw Error(r(200));return ls(null,t,n,!1,i)},t.unmountComponentAtNode=function(t){if(!li(t))throw Error(r(40));return!!t._reactRootContainer&&(aI(function(){ls(null,null,t,!1,function(){t._reactRootContainer=null,t[iE]=null})}),!0)},t.unstable_batchedUpdates=aM,t.unstable_renderSubtreeIntoContainer=function(t,n,i,s){if(!li(i))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return ls(t,n,i,!1,s)},t.version="18.2.0-next-9e3b772b8-20220608"}}),S4=SN({"../../node_modules/react-dom/index.js"(t,n){(function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}})(),n.exports=S5()}}),S6=SN({"../../node_modules/react-fast-compare/index.js"(t,n){var i="undefined"!=typeof Element,r="function"==typeof Map,s="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;n.exports=function(t,n){try{return function t(n,a){if(n===a)return!0;if(n&&a&&"object"==typeof n&&"object"==typeof a){var l,c,u,d;if(n.constructor!==a.constructor)return!1;if(Array.isArray(n)){if((l=n.length)!=a.length)return!1;for(c=l;0!=c--;)if(!t(n[c],a[c]))return!1;return!0}if(r&&n instanceof Map&&a instanceof Map){if(n.size!==a.size)return!1;for(d=n.entries();!(c=d.next()).done;)if(!a.has(c.value[0]))return!1;for(d=n.entries();!(c=d.next()).done;)if(!t(c.value[1],a.get(c.value[0])))return!1;return!0}if(s&&n instanceof Set&&a instanceof Set){if(n.size!==a.size)return!1;for(d=n.entries();!(c=d.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(a)){if((l=n.length)!=a.length)return!1;for(c=l;0!=c--;)if(n[c]!==a[c])return!1;return!0}if(n.constructor===RegExp)return n.source===a.source&&n.flags===a.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===a.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===a.toString();if((l=(u=Object.keys(n)).length)!==Object.keys(a).length)return!1;for(c=l;0!=c--;)if(!Object.prototype.hasOwnProperty.call(a,u[c]))return!1;if(i&&n instanceof Element)return!1;for(c=l;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!n.$$typeof)&&!t(n[u[c]],a[u[c]]))return!1;return!0}return n!=n&&a!=a}(t,n)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}}}),S8=SN({"../../node_modules/warning/warning.js"(t,n){n.exports=function(){}}}),S7=SN({"../../node_modules/mousetrap/mousetrap.js"(t,n){!function(t,i,r){if(t){for(var s,o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u=1;u<20;++u)o[111+u]="f"+u;for(u=0;u<=9;++u)o[u+96]=u.toString();m.prototype.bind=function(t,n,i){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,n,i),this},m.prototype.unbind=function(t,n){return this.bind.call(this,t,function(){},n)},m.prototype.trigger=function(t,n){return this._directMap[t+":"+n]&&this._directMap[t+":"+n]({},t),this},m.prototype.reset=function(){return this._callbacks={},this._directMap={},this},m.prototype.stopCallback=function(t,n){if((" "+n.className+" ").indexOf(" mousetrap ")>-1||function t(n,r){return null!==n&&n!==i&&(n===r||t(n.parentNode,r))}(n,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(n=r)}return"INPUT"==n.tagName||"SELECT"==n.tagName||"TEXTAREA"==n.tagName||n.isContentEditable},m.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},m.addKeycodes=function(t){for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);s=null},m.init=function(){var t=m(i);for(var n in t)"_"!==n.charAt(0)&&(m[n]=function(n){return function(){return t[n].apply(t,arguments)}}(n))},m.init(),t.Mousetrap=m,void 0!==n&&n.exports&&(n.exports=m),"function"==typeof define&&define.amd&&define(function(){return m})}function d(t,n,i){t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent("on"+n,i)}function p(t){if("keypress"==t.type){var n=String.fromCharCode(t.which);return t.shiftKey||(n=n.toLowerCase()),n}return o[t.which]?o[t.which]:a[t.which]?a[t.which]:String.fromCharCode(t.which).toLowerCase()}function h(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function f(t,n){var i,r,a,u,d,p,f=[];for(u="+"===(i=t)?["+"]:(i=i.replace(/\+{2}/g,"+plus")).split("+"),p=0;p<u.length;++p)c[d=u[p]]&&(d=c[d]),n&&"keypress"!=n&&l[d]&&(d=l[d],f.push("shift")),h(d)&&f.push(d);return{key:d,modifiers:f,action:(r=d,(a=n)||(a=function(){if(!s)for(var t in s={},o)t>95&&t<112||o.hasOwnProperty(t)&&(s[o[t]]=t);return s}()[r]?"keydown":"keypress"),"keypress"==a&&f.length&&(a="keydown"),n=a)}}function m(t){var n=this;if(t=t||i,!(n instanceof m))return new m(t);n.target=t,n._callbacks={},n._directMap={};var r,s={},o=!1,a=!1,l=!1;function c(t){t=t||{};var n,i=!1;for(n in s)t[n]?i=!0:s[n]=0;i||(l=!1)}function u(t,i,r,o,a,l){var c,u,d,p,f=[],m=r.type;if(!n._callbacks[t])return[];for("keyup"==m&&h(t)&&(i=[t]),d=0;d<n._callbacks[t].length;++d)if(p=n._callbacks[t][d],(o||!p.seq||s[p.seq]==p.level)&&m==p.action&&("keypress"==m&&!r.metaKey&&!r.ctrlKey||(c=i,u=p.modifiers,c.sort().join(",")===u.sort().join(",")))){var g=!o&&p.combo==a,x=o&&p.seq==o&&p.level==l;(g||x)&&n._callbacks[t].splice(d,1),f.push(p)}return f}function g(t,i,r,s){n.stopCallback(i,i.target||i.srcElement,r,s)||!1===t(i,r)&&(i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation?i.stopPropagation():i.cancelBubble=!0)}function x(t){"number"!=typeof t.which&&(t.which=t.keyCode);var i,r=p(t);r&&("keyup"!=t.type||o!==r?n.handleKey(r,(i=[],t.shiftKey&&i.push("shift"),t.altKey&&i.push("alt"),t.ctrlKey&&i.push("ctrl"),t.metaKey&&i.push("meta"),i),t):o=!1)}n._handleKey=function(t,n,i){var r,s=u(t,n,i),o={},d=0,p=!1;for(r=0;r<s.length;++r)s[r].seq&&(d=Math.max(d,s[r].level));for(r=0;r<s.length;++r)if(s[r].seq){if(s[r].level!=d)continue;p=!0,o[s[r].seq]=1,g(s[r].callback,i,s[r].combo,s[r].seq)}else p||g(s[r].callback,i,s[r].combo);var f="keypress"==i.type&&a;i.type!=l||h(t)||f||c(o),a=p&&"keydown"==i.type},n._bindMultiple=function(t,i,a){for(var d=0;d<t.length;++d)(function t(i,a,d,h,m){n._directMap[i+":"+d]=a;var x,y=(i=i.replace(/\s+/g," ")).split(" ");y.length>1?function(n,i,a,u){function d(t){g(a,t,n),"keyup"!==u&&(o=p(t)),setTimeout(c,10)}s[n]=0;for(var h=0;h<i.length;++h){var m=h+1===i.length?d:function(t){return function(){l=t,++s[n],clearTimeout(r),r=setTimeout(c,1e3)}}(u||f(i[h+1]).action);t(i[h],m,u,n,h)}}(i,y,a,d):(x=f(i,d),n._callbacks[x.key]=n._callbacks[x.key]||[],u(x.key,x.modifiers,{type:x.action},h,i,m),n._callbacks[x.key][h?"unshift":"push"]({callback:a,modifiers:x.modifiers,action:x.action,seq:h,level:m,combo:i}))})(t[d],i,a)},d(t,"keypress",x),d(t,"keydown",x),d(t,"keyup",x)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}}),S9=SN({"../../node_modules/lodash/isObject.js"(t,n){n.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}}}),ke=SN({"../../node_modules/lodash/_freeGlobal.js"(t,n){var i="object"==typeof global&&global&&global.Object===Object&&global;n.exports=i}}),kt=SN({"../../node_modules/lodash/_root.js"(t,n){var i=ke(),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();n.exports=s}}),kn=SN({"../../node_modules/lodash/now.js"(t,n){var i=kt();n.exports=function(){return i.Date.now()}}}),ki=SN({"../../node_modules/lodash/_trimmedEndIndex.js"(t,n){var i=/\s/;n.exports=function(t){for(var n=t.length;n--&&i.test(t.charAt(n)););return n}}}),kr=SN({"../../node_modules/lodash/_baseTrim.js"(t,n){var i=ki(),r=/^\s+/;n.exports=function(t){return t?t.slice(0,i(t)+1).replace(r,""):t}}}),ks=SN({"../../node_modules/lodash/_Symbol.js"(t,n){var i=kt().Symbol;n.exports=i}}),ko=SN({"../../node_modules/lodash/_getRawTag.js"(t,n){var i=ks(),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i?i.toStringTag:void 0;n.exports=function(t){var n=s.call(t,a),i=t[a];try{t[a]=void 0;var r=!0}catch(t){}var l=o.call(t);return r&&(n?t[a]=i:delete t[a]),l}}}),ka=SN({"../../node_modules/lodash/_objectToString.js"(t,n){var i=Object.prototype.toString;n.exports=function(t){return i.call(t)}}}),kl=SN({"../../node_modules/lodash/_baseGetTag.js"(t,n){var i=ks(),r=ko(),s=ka(),o=i?i.toStringTag:void 0;n.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?r(t):s(t)}}}),kc=SN({"../../node_modules/lodash/isObjectLike.js"(t,n){n.exports=function(t){return null!=t&&"object"==typeof t}}}),ku=SN({"../../node_modules/lodash/isSymbol.js"(t,n){var i=kl(),r=kc();n.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}}}),kd=SN({"../../node_modules/lodash/toNumber.js"(t,n){var i=kr(),r=S9(),s=ku(),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;n.exports=function(t){if("number"==typeof t)return t;if(s(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var u=a.test(t);return u||l.test(t)?c(t.slice(2),u?2:8):o.test(t)?NaN:+t}}}),kp=SN({"../../node_modules/lodash/debounce.js"(t,n){var i=S9(),r=kn(),s=kd(),o=Math.max,a=Math.min;n.exports=function(t,n,l){var c,u,d,p,h,f,m=0,g=!1,x=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function v(n){var i=c,r=u;return c=u=void 0,m=n,p=t.apply(r,i)}function b(t){var i=t-f;return void 0===f||i>=n||i<0||x&&t-m>=d}function A(){var t,i=r();if(b(i))return w(i);h=setTimeout(A,(t=n-(i-f),x?a(t,d-(i-m)):t))}function w(t){return h=void 0,y&&c?v(t):(c=u=void 0,p)}function C(){var t,i=r(),s=b(i);if(c=arguments,u=this,f=i,s){if(void 0===h)return m=t=f,h=setTimeout(A,n),g?v(t):p;if(x)return clearTimeout(h),h=setTimeout(A,n),v(f)}return void 0===h&&(h=setTimeout(A,n)),p}return n=s(n)||0,i(l)&&(g=!!l.leading,d=(x="maxWait"in l)?o(s(l.maxWait)||0,n):d,y="trailing"in l?!!l.trailing:y),C.cancel=function(){void 0!==h&&clearTimeout(h),m=0,c=f=u=h=void 0},C.flush=function(){return void 0===h?p:w(r())},C}}}),kh=SN({"../../node_modules/lodash/throttle.js"(t,n){var i=kp(),r=S9();n.exports=function(t,n,s){var o=!0,a=!0;if("function"!=typeof t)throw TypeError("Expected a function");return r(s)&&(o="leading"in s?!!s.leading:o,a="trailing"in s?!!s.trailing:a),i(t,n,{leading:o,maxWait:n,trailing:a})}}}),kf=SN({"../../node_modules/chroma-js/chroma.js"(t,n){var i;i=function(){for(var t=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1),t<n?n:t>i?i:t},n={},i=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<r.length;i+=1){var s=r[i];n["[object "+s+"]"]=s.toLowerCase()}var o=function(t){return n[Object.prototype.toString.call(t)]||"object"},a=Math.PI,l={clip_rgb:function(n){n._clipped=!1,n._unclipped=n.slice(0);for(var i=0;i<=3;i++)i<3?((n[i]<0||n[i]>255)&&(n._clipped=!0),n[i]=t(n[i],0,255)):3===i&&(n[i]=t(n[i],0,1));return n},limit:t,type:o,unpack:function(t,n){return void 0===n&&(n=null),t.length>=3?Array.prototype.slice.call(t):"object"==o(t[0])&&n?n.split("").filter(function(n){return void 0!==t[0][n]}).map(function(n){return t[0][n]}):t[0]},last:function(t){if(t.length<2)return null;var n=t.length-1;return"string"==o(t[n])?t[n].toLowerCase():null},TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},c={format:{},autodetect:[]},u=l.last,d=l.clip_rgb,p=l.type,h=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("object"===p(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var i=u(t),r=!1;if(!i){r=!0,c.sorted||(c.autodetect=c.autodetect.sort(function(t,n){return n.p-t.p}),c.sorted=!0);for(var s=0,o=c.autodetect;s<o.length;s+=1){var a=o[s];if(i=a.test.apply(a,t))break}}if(!c.format[i])throw Error("unknown format: "+t);var l=c.format[i].apply(null,r?t:t.slice(0,-1));this._rgb=d(l),3===this._rgb.length&&this._rgb.push(1)};h.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var f=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(f.Color,[null].concat(t)))};f.Color=h,f.version="2.1.2";var m=l.unpack,g=Math.max,x=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=m(t,"rgb"),r=i[0],s=i[1],o=i[2],a=1-g(r/=255,g(s/=255,o/=255)),l=a<1?1/(1-a):0;return[(1-r-a)*l,(1-s-a)*l,(1-o-a)*l,a]},y=l.unpack,v=l.unpack,b=l.type;h.prototype.cmyk=function(){return x(this._rgb)},f.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["cmyk"])))},c.format.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=(t=y(t,"cmyk"))[0],r=t[1],s=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[i>=1?0:255*(1-i)*(1-o),r>=1?0:255*(1-r)*(1-o),s>=1?0:255*(1-s)*(1-o),a]},c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===b(t=v(t,"cmyk"))&&4===t.length)return"cmyk"}});var A=l.unpack,w=l.last,C=function(t){return Math.round(100*t)/100},_=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=A(t,"hsla"),r=w(t)||"lsa";return i[0]=C(i[0]||0),i[1]=C(100*i[1])+"%",i[2]=C(100*i[2])+"%","hsla"===r||i.length>3&&i[3]<1?(i[3]=i.length>3?i[3]:1,r="hsla"):i.length=3,r+"("+i.join(",")+")"},S=l.unpack,k=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r,s=(t=S(t,"rgba"))[0],o=t[1],a=t[2],l=Math.min(s/=255,o/=255,a/=255),c=Math.max(s,o,a),u=(c+l)/2;return c===l?(i=0,r=Number.NaN):i=u<.5?(c-l)/(c+l):(c-l)/(2-c-l),s==c?r=(o-a)/(c-l):o==c?r=2+(a-s)/(c-l):a==c&&(r=4+(s-o)/(c-l)),(r*=60)<0&&(r+=360),t.length>3&&void 0!==t[3]?[r,i,u,t[3]]:[r,i,u]},E=l.unpack,M=l.last,I=Math.round,T=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=E(t,"rgba"),r=M(t)||"rgb";return"hsl"==r.substr(0,3)?_(k(i),r):(i[0]=I(i[0]),i[1]=I(i[1]),i[2]=I(i[2]),("rgba"===r||i.length>3&&i[3]<1)&&(i[3]=i.length>3?i[3]:1,r="rgba"),r+"("+i.slice(0,"rgb"===r?3:4).join(",")+")")},B=l.unpack,L=Math.round,j=function(){for(var t,n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,s,o,a=(n=B(n,"hsl"))[0],l=n[1],c=n[2];if(0===l)r=s=o=255*c;else{var u=[0,0,0],d=[0,0,0],p=c<.5?c*(1+l):c+l-c*l,h=2*c-p,f=a/360;u[0]=f+1/3,u[1]=f,u[2]=f-1/3;for(var m=0;m<3;m++)u[m]<0&&(u[m]+=1),u[m]>1&&(u[m]-=1),6*u[m]<1?d[m]=h+6*(p-h)*u[m]:2*u[m]<1?d[m]=p:3*u[m]<2?d[m]=h+(p-h)*(2/3-u[m])*6:d[m]=h;r=(t=[L(255*d[0]),L(255*d[1]),L(255*d[2])])[0],s=t[1],o=t[2]}return n.length>3?[r,s,o,n[3]]:[r,s,o,1]},P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,R=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,D=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,F=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,O=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,N=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=Math.round,V=function(t){var n;if(t=t.toLowerCase().trim(),c.format.named)try{return c.format.named(t)}catch(t){}if(n=t.match(P)){for(var i=n.slice(1,4),r=0;r<3;r++)i[r]=+i[r];return i[3]=1,i}if(n=t.match(R)){for(var s=n.slice(1,5),o=0;o<4;o++)s[o]=+s[o];return s}if(n=t.match(D)){for(var a=n.slice(1,4),l=0;l<3;l++)a[l]=U(2.55*a[l]);return a[3]=1,a}if(n=t.match(F)){for(var u=n.slice(1,5),d=0;d<3;d++)u[d]=U(2.55*u[d]);return u[3]=+u[3],u}if(n=t.match(O)){var p=n.slice(1,4);p[1]*=.01,p[2]*=.01;var h=j(p);return h[3]=1,h}if(n=t.match(N)){var f=n.slice(1,4);f[1]*=.01,f[2]*=.01;var m=j(f);return m[3]=+n[4],m}};V.test=function(t){return P.test(t)||R.test(t)||D.test(t)||F.test(t)||O.test(t)||N.test(t)};var H=l.type;h.prototype.css=function(t){return T(this._rgb,t)},f.css=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["css"])))},c.format.css=V,c.autodetect.push({p:5,test:function(t){for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(!n.length&&"string"===H(t)&&V.test(t))return"css"}});var Q=l.unpack;c.format.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=Q(t,"rgba");return i[0]*=255,i[1]*=255,i[2]*=255,i},f.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["gl"])))},h.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var z=l.unpack,G=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r=z(t,"rgb"),s=r[0],o=r[1],a=r[2],l=Math.min(s,o,a),c=Math.max(s,o,a),u=c-l;return 0===u?i=Number.NaN:(s===c&&(i=(o-a)/u),o===c&&(i=2+(a-s)/u),a===c&&(i=4+(s-o)/u),(i*=60)<0&&(i+=360)),[i,100*u/255,l/(255-u)*100]},q=l.unpack,W=Math.floor,$=l.unpack,Z=l.type;h.prototype.hcg=function(){return G(this._rgb)},f.hcg=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hcg"])))},c.format.hcg=function(){for(var t,n,i,r,s,o,a=[],l=arguments.length;l--;)a[l]=arguments[l];var c,u,d,p=(a=q(a,"hcg"))[0],h=a[1],f=a[2];f*=255;var m=255*h;if(0===h)c=u=d=f;else{360===p&&(p=0),p>360&&(p-=360),p<0&&(p+=360);var g=W(p/=60),x=p-g,y=f*(1-h),v=y+m*(1-x),b=y+m*x,A=y+m;switch(g){case 0:c=(t=[A,b,y])[0],u=t[1],d=t[2];break;case 1:c=(n=[v,A,y])[0],u=n[1],d=n[2];break;case 2:c=(i=[y,A,b])[0],u=i[1],d=i[2];break;case 3:c=(r=[y,v,A])[0],u=r[1],d=r[2];break;case 4:c=(s=[b,y,A])[0],u=s[1],d=s[2];break;case 5:c=(o=[A,y,v])[0],u=o[1],d=o[2]}}return[c,u,d,a.length>3?a[3]:1]},c.autodetect.push({p:1,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===Z(t=$(t,"hcg"))&&3===t.length)return"hcg"}});var Y=l.unpack,K=l.last,X=Math.round,J=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=Y(t,"rgba"),r=i[0],s=i[1],o=i[2],a=i[3],l=K(t)||"auto";void 0===a&&(a=1),"auto"===l&&(l=a<1?"rgba":"rgb");var c="000000"+((r=X(r))<<16|(s=X(s))<<8|(o=X(o))).toString(16);c=c.substr(c.length-6);var u="0"+X(255*a).toString(16);switch(u=u.substr(u.length-2),l.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},ee=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,et=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,en=function(t){if(t.match(ee)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(et)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var i=parseInt(t,16);return[i>>24&255,i>>16&255,i>>8&255,Math.round((255&i)/255*100)/100]}throw Error("unknown hex color: "+t)},ei=l.type;h.prototype.hex=function(t){return J(this._rgb,t)},f.hex=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hex"])))},c.format.hex=en,c.autodetect.push({p:4,test:function(t){for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(!n.length&&"string"===ei(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var er=l.unpack,es=l.TWOPI,eo=Math.min,ea=Math.sqrt,el=Math.acos,ec=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r=er(t,"rgb"),s=r[0],o=r[1],a=r[2],l=eo(s/=255,o/=255,a/=255),c=(s+o+a)/3,u=c>0?1-l/c:0;return 0===u?i=NaN:(i=el(i=(s-o+(s-a))/2/ea((s-o)*(s-o)+(s-a)*(o-a))),a>o&&(i=es-i),i/=es),[360*i,u,c]},eu=l.unpack,ed=l.limit,ep=l.TWOPI,eh=l.PITHIRD,ef=Math.cos,em=l.unpack,eg=l.type;h.prototype.hsi=function(){return ec(this._rgb)},f.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsi"])))},c.format.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r,s,o=(t=eu(t,"hsi"))[0],a=t[1],l=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((s=(1-a)/3)+(i=(1+a*ef(ep*o)/ef(eh-ep*o))/3)):o<2/3?s=1-((i=(1-a)/3)+(r=(1+a*ef(ep*(o-=1/3))/ef(eh-ep*o))/3)):i=1-((r=(1-a)/3)+(s=(1+a*ef(ep*(o-=2/3))/ef(eh-ep*o))/3)),[255*(i=ed(l*i*3)),255*(r=ed(l*r*3)),255*(s=ed(l*s*3)),t.length>3?t[3]:1]},c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===eg(t=em(t,"hsi"))&&3===t.length)return"hsi"}});var ex=l.unpack,ey=l.type;h.prototype.hsl=function(){return k(this._rgb)},f.hsl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsl"])))},c.format.hsl=j,c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===ey(t=ex(t,"hsl"))&&3===t.length)return"hsl"}});var ev=l.unpack,eb=Math.min,eA=Math.max,ew=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r,s,o=(t=ev(t,"rgb"))[0],a=t[1],l=t[2],c=eb(o,a,l),u=eA(o,a,l),d=u-c;return s=u/255,0===u?(i=Number.NaN,r=0):(r=d/u,o===u&&(i=(a-l)/d),a===u&&(i=2+(l-o)/d),l===u&&(i=4+(o-a)/d),(i*=60)<0&&(i+=360)),[i,r,s]},eC=l.unpack,e_=Math.floor,eS=l.unpack,ek=l.type;h.prototype.hsv=function(){return ew(this._rgb)},f.hsv=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsv"])))},c.format.hsv=function(){for(var t,n,i,r,s,o,a=[],l=arguments.length;l--;)a[l]=arguments[l];var c,u,d,p=(a=eC(a,"hsv"))[0],h=a[1],f=a[2];if(f*=255,0===h)c=u=d=f;else{360===p&&(p=0),p>360&&(p-=360),p<0&&(p+=360);var m=e_(p/=60),g=p-m,x=f*(1-h),y=f*(1-h*g),v=f*(1-h*(1-g));switch(m){case 0:c=(t=[f,v,x])[0],u=t[1],d=t[2];break;case 1:c=(n=[y,f,x])[0],u=n[1],d=n[2];break;case 2:c=(i=[x,f,v])[0],u=i[1],d=i[2];break;case 3:c=(r=[x,y,f])[0],u=r[1],d=r[2];break;case 4:c=(s=[v,x,f])[0],u=s[1],d=s[2];break;case 5:c=(o=[f,x,y])[0],u=o[1],d=o[2]}}return[c,u,d,a.length>3?a[3]:1]},c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===ek(t=eS(t,"hsv"))&&3===t.length)return"hsv"}});var eE=l.unpack,eM=Math.pow,eI=function(t){return(t/=255)<=.04045?t/12.92:eM((t+.055)/1.055,2.4)},eT=function(t){return t>.008856452?eM(t,1/3):t/.12841855+.137931034},eB=function(){for(var t,n,i,r=[],s=arguments.length;s--;)r[s]=arguments[s];var o=eE(r,"rgb"),a=o[0],l=o[1],c=o[2],u=(t=a,n=l,i=c,[eT((.4124564*(t=eI(t))+.3575761*(n=eI(n))+.1804375*(i=eI(i)))/.95047),eT((.2126729*t+.7151522*n+.072175*i)/1),eT((.0193339*t+.119192*n+.9503041*i)/1.08883)]),d=u[0],p=u[1],h=116*p-16;return[h<0?0:h,500*(d-p),200*(p-u[2])]},eL=l.unpack,ej=Math.pow,eP=function(t){return 255*(t<=.00304?12.92*t:1.055*ej(t,1/2.4)-.055)},eR=function(t){return t>.206896552?t*t*t:.12841855*(t-.137931034)},eD=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i,r,s,o=(t=eL(t,"lab"))[0],a=t[1],l=t[2];return r=(o+16)/116,i=isNaN(a)?r:r+a/500,s=isNaN(l)?r:r-l/200,r=1*eR(r),[eP(3.2404542*(i=.95047*eR(i))-1.5371385*r-.4985314*(s=1.08883*eR(s))),eP(-.969266*i+1.8760108*r+.041556*s),eP(.0556434*i-.2040259*r+1.0572252*s),t.length>3?t[3]:1]},eF=l.unpack,eO=l.type;h.prototype.lab=function(){return eB(this._rgb)},f.lab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["lab"])))},c.format.lab=eD,c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===eO(t=eF(t,"lab"))&&3===t.length)return"lab"}});var eN=l.unpack,eU=l.RAD2DEG,eV=Math.sqrt,eH=Math.atan2,eQ=Math.round,ez=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=eN(t,"lab"),r=i[0],s=i[1],o=i[2],a=eV(s*s+o*o),l=(eH(o,s)*eU+360)%360;return 0===eQ(1e4*a)&&(l=Number.NaN),[r,a,l]},eG=l.unpack,eq=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=eG(t,"rgb"),r=eB(i[0],i[1],i[2]);return ez(r[0],r[1],r[2])},eW=l.unpack,e$=l.DEG2RAD,eZ=Math.sin,eY=Math.cos,eK=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=eW(t,"lch"),r=i[0],s=i[1],o=i[2];return isNaN(o)&&(o=0),[r,eY(o*=e$)*s,eZ(o)*s]},eX=l.unpack,eJ=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=eK((t=eX(t,"lch"))[0],t[1],t[2]),r=eD(i[0],i[1],i[2]);return[r[0],r[1],r[2],t.length>3?t[3]:1]},e0=l.unpack,e1=l.unpack,e2=l.type;h.prototype.lch=function(){return eq(this._rgb)},h.prototype.hcl=function(){return eq(this._rgb).reverse()},f.lch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["lch"])))},f.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["hcl"])))},c.format.lch=eJ,c.format.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=e0(t,"hcl").reverse();return eJ.apply(void 0,i)},["lch","hcl"].forEach(function(t){return c.autodetect.push({p:2,test:function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if("array"===e2(n=e1(n,t))&&3===n.length)return t}})});var e3={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e5=l.type;h.prototype.name=function(){for(var t=J(this._rgb,"rgb"),n=0,i=Object.keys(e3);n<i.length;n+=1){var r=i[n];if(e3[r]===t)return r.toLowerCase()}return t},c.format.named=function(t){if(e3[t=t.toLowerCase()])return en(e3[t]);throw Error("unknown color name: "+t)},c.autodetect.push({p:5,test:function(t){for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(!n.length&&"string"===e5(t)&&e3[t.toLowerCase()])return"named"}});var e4=l.unpack,e6=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=e4(t,"rgb");return(i[0]<<16)+(i[1]<<8)+i[2]},e8=l.type,e7=l.type;h.prototype.num=function(){return e6(this._rgb)},f.num=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["num"])))},c.format.num=function(t){if("number"==e8(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw Error("unknown num color: "+t)},c.autodetect.push({p:5,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(1===t.length&&"number"===e7(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var e9=l.unpack,te=l.type,tt=Math.round;h.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tt)},h.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(n,i){return i<3?!1===t?n:tt(n):n})},f.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["rgb"])))},c.format.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=e9(t,"rgba");return void 0===i[3]&&(i[3]=1),i},c.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===te(t=e9(t,"rgba"))&&(3===t.length||4===t.length&&"number"==te(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var tn=Math.log,ti=function(t){var n,i,r,s=t/100;return s<66?(n=255,i=-155.25485562709179-.44596950469579133*(i=s-2)+104.49216199393888*tn(i),r=s<20?0:.8274096064007395*(r=s-10)-254.76935184120902+115.67994401066147*tn(r)):(n=351.97690566805693+.114206453784165*(n=s-55)-40.25366309332127*tn(n),i=325.4494125711974+.07943456536662342*(i=s-50)-28.0852963507957*tn(i),r=255),[n,i,r,1]},tr=l.unpack,ts=Math.round,to=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var i,r=tr(t,"rgb"),s=r[0],o=r[2],a=1e3,l=4e4;l-a>.4;){var c=ti(i=.5*(l+a));c[2]/c[0]>=o/s?l=i:a=i}return ts(i)};h.prototype.temp=h.prototype.kelvin=h.prototype.temperature=function(){return to(this._rgb)},f.temp=f.kelvin=f.temperature=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(t,["temp"])))},c.format.temp=c.format.kelvin=c.format.temperature=ti;var ta=l.type;h.prototype.alpha=function(t,n){return void 0===n&&(n=!1),void 0!==t&&"number"===ta(t)?n?(this._rgb[3]=t,this):new h([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},h.prototype.clipped=function(){return this._rgb._clipped||!1},h.prototype.darken=function(t){void 0===t&&(t=1);var n=this.lab();return n[0]-=18*t,new h(n,"lab").alpha(this.alpha(),!0)},h.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},h.prototype.darker=h.prototype.darken,h.prototype.brighter=h.prototype.brighten,h.prototype.get=function(t){var n=t.split("."),i=n[0],r=n[1],s=this[i]();if(r){var o=i.indexOf(r);if(o>-1)return s[o];throw Error("unknown channel "+r+" in mode "+i)}return s};var tl=l.type,tc=Math.pow;h.prototype.luminance=function(t){if(void 0!==t&&"number"===tl(t)){if(0===t)return new h([0,0,0,this._rgb[3]],"rgb");if(1===t)return new h([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),i=20,r=function(n,s){var o=n.interpolate(s,.5,"rgb"),a=o.luminance();return!(1e-7>Math.abs(t-a))&&i--?a>t?r(n,o):r(o,s):o},s=(n>t?r(new h([0,0,0]),this):r(this,new h([255,255,255]))).rgb();return new h(s.concat([this._rgb[3]]))}return tu.apply(void 0,this._rgb.slice(0,3))};var tu=function(t,n,i){return .2126*(t=td(t))+.7152*(n=td(n))+.0722*(i=td(i))},td=function(t){return(t/=255)<=.03928?t/12.92:tc((t+.055)/1.055,2.4)},tp={},th=l.type,tf=function(t,n,i){void 0===i&&(i=.5);for(var r=[],s=arguments.length-3;s-- >0;)r[s]=arguments[s+3];var o=r[0]||"lrgb";if(tp[o]||r.length||(o=Object.keys(tp)[0]),!tp[o])throw Error("interpolation mode "+o+" is not defined");return"object"!==th(t)&&(t=new h(t)),"object"!==th(n)&&(n=new h(n)),tp[o](t,n,i).alpha(t.alpha()+i*(n.alpha()-t.alpha()))};h.prototype.mix=h.prototype.interpolate=function(t,n){void 0===n&&(n=.5);for(var i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];return tf.apply(void 0,[this,t,n].concat(i))},h.prototype.premultiply=function(t){void 0===t&&(t=!1);var n=this._rgb,i=n[3];return t?(this._rgb=[n[0]*i,n[1]*i,n[2]*i,i],this):new h([n[0]*i,n[1]*i,n[2]*i,i],"rgb")},h.prototype.saturate=function(t){void 0===t&&(t=1);var n=this.lch();return n[1]+=18*t,n[1]<0&&(n[1]=0),new h(n,"lch").alpha(this.alpha(),!0)},h.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var tm=l.type;h.prototype.set=function(t,n,i){void 0===i&&(i=!1);var r=t.split("."),s=r[0],o=r[1],a=this[s]();if(o){var l=s.indexOf(o);if(l>-1){if("string"==tm(n))switch(n.charAt(0)){case"+":case"-":a[l]+=+n;break;case"*":a[l]*=+n.substr(1);break;case"/":a[l]/=+n.substr(1);break;default:a[l]=+n}else{if("number"!==tm(n))throw Error("unsupported value for Color.set");a[l]=n}var c=new h(a,s);return i?(this._rgb=c._rgb,this):c}throw Error("unknown channel "+o+" in mode "+s)}return a},tp.rgb=function(t,n,i){var r=t._rgb,s=n._rgb;return new h(r[0]+i*(s[0]-r[0]),r[1]+i*(s[1]-r[1]),r[2]+i*(s[2]-r[2]),"rgb")};var tg=Math.sqrt,tx=Math.pow;tp.lrgb=function(t,n,i){var r=t._rgb,s=r[0],o=r[1],a=r[2],l=n._rgb,c=l[0],u=l[1],d=l[2];return new h(tg(tx(s,2)*(1-i)+tx(c,2)*i),tg(tx(o,2)*(1-i)+tx(u,2)*i),tg(tx(a,2)*(1-i)+tx(d,2)*i),"rgb")},tp.lab=function(t,n,i){var r=t.lab(),s=n.lab();return new h(r[0]+i*(s[0]-r[0]),r[1]+i*(s[1]-r[1]),r[2]+i*(s[2]-r[2]),"lab")};var ty=function(t,n,i,r){var s,o,a,l,c,u,d,p,f,m,g,x;return"hsl"===r?(a=t.hsl(),l=n.hsl()):"hsv"===r?(a=t.hsv(),l=n.hsv()):"hcg"===r?(a=t.hcg(),l=n.hcg()):"hsi"===r?(a=t.hsi(),l=n.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=t.hcl(),l=n.hcl()),"h"===r.substr(0,1)&&(c=(s=a)[0],d=s[1],f=s[2],u=(o=l)[0],p=o[1],m=o[2]),isNaN(c)||isNaN(u)?isNaN(c)?isNaN(u)?x=Number.NaN:(x=u,1!=f&&0!=f||"hsv"==r||(g=p)):(x=c,1!=m&&0!=m||"hsv"==r||(g=d)):x=c+i*(u>c&&u-c>180?u-(c+360):u<c&&c-u>180?u+360-c:u-c),void 0===g&&(g=d+i*(p-d)),new h([x,g,f+i*(m-f)],r)},tv=function(t,n,i){return ty(t,n,i,"lch")};tp.lch=tv,tp.hcl=tv,tp.num=function(t,n,i){var r=t.num();return new h(r+i*(n.num()-r),"num")},tp.hcg=function(t,n,i){return ty(t,n,i,"hcg")},tp.hsi=function(t,n,i){return ty(t,n,i,"hsi")},tp.hsl=function(t,n,i){return ty(t,n,i,"hsl")},tp.hsv=function(t,n,i){return ty(t,n,i,"hsv")};var tb=l.clip_rgb,tA=Math.pow,tw=Math.sqrt,tC=Math.PI,t_=Math.cos,tS=Math.sin,tk=Math.atan2,tE=function(t,n){for(var i=t.length,r=[0,0,0,0],s=0;s<t.length;s++){var o=t[s],a=n[s]/i,l=o._rgb;r[0]+=tA(l[0],2)*a,r[1]+=tA(l[1],2)*a,r[2]+=tA(l[2],2)*a,r[3]+=l[3]*a}return r[0]=tw(r[0]),r[1]=tw(r[1]),r[2]=tw(r[2]),r[3]>.9999999&&(r[3]=1),new h(tb(r))},tM=l.type,tI=Math.pow,tT=function(t){var n="rgb",i=f("#ccc"),r=0,s=[0,1],o=[],a=[0,0],l=!1,c=[],u=!1,d=0,p=1,h=!1,m={},g=!0,x=1,y=function(t){if("string"===tM(t=t||["#fff","#000"])&&f.brewer&&f.brewer[t.toLowerCase()]&&(t=f.brewer[t.toLowerCase()]),"array"===tM(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var n=0;n<t.length;n++)t[n]=f(t[n]);o.length=0;for(var i=0;i<t.length;i++)o.push(i/(t.length-1))}return w(),c=t},v=function(t){return t},b=function(t){return t},A=function(t,r){if(null==r&&(r=!1),isNaN(t)||null===t)return i;if(r)u=t;else if(l&&l.length>2){var s,u;u=function(t){if(null!=l){for(var n=l.length-1,i=0;i<n&&t>=l[i];)i++;return i-1}return 0}(t)/(l.length-2)}else u=p!==d?(t-d)/(p-d):1;u=b(u),r||(u=v(u)),1!==x&&(u=tI(u,x));var h=Math.floor(1e4*(u=Math.min(1,Math.max(0,u=a[0]+u*(1-a[0]-a[1])))));if(g&&m[h])s=m[h];else{if("array"===tM(c))for(var y=0;y<o.length;y++){var A=o[y];if(u<=A||u>=A&&y===o.length-1){s=c[y];break}if(u>A&&u<o[y+1]){u=(u-A)/(o[y+1]-A),s=f.interpolate(c[y],c[y+1],u,n);break}}else"function"===tM(c)&&(s=c(u));g&&(m[h]=s)}return s},w=function(){return m={}};y(t);var C=function(t){var n=f(A(t));return u&&n[u]?n[u]():n};return C.classes=function(t){if(null!=t){if("array"===tM(t))l=t,s=[t[0],t[t.length-1]];else{var n=f.analyze(s);l=0===t?[n.min,n.max]:f.limits(n,"e",t)}return C}return l},C.domain=function(t){if(!arguments.length)return s;d=t[0],p=t[t.length-1],o=[];var n=c.length;if(t.length===n&&d!==p)for(var i=0,r=Array.from(t);i<r.length;i+=1){var a=r[i];o.push((a-d)/(p-d))}else{for(var l=0;l<n;l++)o.push(l/(n-1));if(t.length>2){var u=t.map(function(n,i){return i/(t.length-1)}),h=t.map(function(t){return(t-d)/(p-d)});h.every(function(t,n){return u[n]===t})||(b=function(t){if(t<=0||t>=1)return t;for(var n=0;t>=h[n+1];)n++;var i=(t-h[n])/(h[n+1]-h[n]);return u[n]+i*(u[n+1]-u[n])})}}return s=[d,p],C},C.mode=function(t){return arguments.length?(n=t,w(),C):n},C.range=function(t,n){return y(t),C},C.out=function(t){return u=t,C},C.spread=function(t){return arguments.length?(r=t,C):r},C.correctLightness=function(t){return null==t&&(t=!0),h=t,w(),v=h?function(t){for(var n=A(0,!0).lab()[0],i=A(1,!0).lab()[0],r=n>i,s=A(t,!0).lab()[0],o=n+(i-n)*t,a=s-o,l=0,c=1,u=20;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(l=t,t+=.5*(c-t)):(c=t,t+=.5*(l-t)),a=(s=A(t,!0).lab()[0])-o;return t}:function(t){return t},C},C.padding=function(t){return null!=t?("number"===tM(t)&&(t=[t,t]),a=t,C):a},C.colors=function(n,i){arguments.length<2&&(i="hex");var r=[];if(0==arguments.length)r=c.slice(0);else if(1===n)r=[C(.5)];else if(n>1){var o=s[0],a=s[1]-o;r=(function(t,n,i){for(var r=[],s=0<n,o=i?s?n+1:n-1:n,a=0;s?a<o:a>o;s?a++:a--)r.push(a);return r})(0,n,!1).map(function(t){return C(o+t/(n-1)*a)})}else{t=[];var u=[];if(l&&l.length>2)for(var d=1,p=l.length,h=1<=p;h?d<p:d>p;h?d++:d--)u.push(.5*(l[d-1]+l[d]));else u=s;r=u.map(function(t){return C(t)})}return f[i]&&(r=r.map(function(t){return t[i]()})),r},C.cache=function(t){return null!=t?(g=t,C):g},C.gamma=function(t){return null!=t?(x=t,C):x},C.nodata=function(t){return null!=t?(i=f(t),C):i},C},tB=function(t){if(2===(t=t.map(function(t){return new h(t)})).length)o=(n=t.map(function(t){return t.lab()}))[0],a=n[1],s=function(t){return new h([0,1,2].map(function(n){return o[n]+t*(a[n]-o[n])}),"lab")};else if(3===t.length)o=(i=t.map(function(t){return t.lab()}))[0],a=i[1],l=i[2],s=function(t){return new h([0,1,2].map(function(n){return(1-t)*(1-t)*o[n]+2*(1-t)*t*a[n]+t*t*l[n]}),"lab")};else if(4===t.length)o=(r=t.map(function(t){return t.lab()}))[0],a=r[1],l=r[2],c=r[3],s=function(t){return new h([0,1,2].map(function(n){return(1-t)*(1-t)*(1-t)*o[n]+3*(1-t)*(1-t)*t*a[n]+3*(1-t)*t*t*l[n]+t*t*t*c[n]}),"lab")};else if(5===t.length){var n,i,r,s,o,a,l,c,u=tB(t.slice(0,3)),d=tB(t.slice(2,5));s=function(t){return t<.5?u(2*t):d(2*(t-.5))}}return s},tL=function(t,n,i){if(!tL[i])throw Error("unknown blend mode "+i);return tL[i](t,n)},tj=function(t){return function(n,i){var r=f(i).rgb(),s=f(n).rgb();return f.rgb(t(r,s))}},tP=function(t){return function(n,i){var r=[];return r[0]=t(n[0],i[0]),r[1]=t(n[1],i[1]),r[2]=t(n[2],i[2]),r}};tL.normal=tj(tP(function(t){return t})),tL.multiply=tj(tP(function(t,n){return t*n/255})),tL.screen=tj(tP(function(t,n){return 255*(1-(1-t/255)*(1-n/255))})),tL.overlay=tj(tP(function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))})),tL.darken=tj(tP(function(t,n){return t>n?n:t})),tL.lighten=tj(tP(function(t,n){return t>n?t:n})),tL.dodge=tj(tP(function(t,n){return 255===t||(t=n/255*255/(1-t/255))>255?255:t})),tL.burn=tj(tP(function(t,n){return 255*(1-(1-n/255)/(t/255))}));for(var tR=l.type,tD=l.clip_rgb,tF=l.TWOPI,tO=Math.pow,tN=Math.sin,tU=Math.cos,tV=Math.floor,tH=Math.random,tQ=Math.log,tz=Math.pow,tG=Math.floor,tq=Math.abs,tW=function(t,n){void 0===n&&(n=null);var i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===o(t)&&(t=Object.values(t)),t.forEach(function(t){n&&"object"===o(t)&&(t=t[n]),null==t||isNaN(t)||(i.values.push(t),i.sum+=t,t<i.min&&(i.min=t),t>i.max&&(i.max=t),i.count+=1)}),i.domain=[i.min,i.max],i.limits=function(t,n){return t$(i,t,n)},i},t$=function(t,n,i){void 0===n&&(n="equal"),void 0===i&&(i=7),"array"==o(t)&&(t=tW(t));var r=t.min,s=t.max,a=t.values.sort(function(t,n){return t-n});if(1===i)return[r,s];var l=[];if("c"===n.substr(0,1)&&(l.push(r),l.push(s)),"e"===n.substr(0,1)){l.push(r);for(var c=1;c<i;c++)l.push(r+c/i*(s-r));l.push(s)}else if("l"===n.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*tQ(r),d=Math.LOG10E*tQ(s);l.push(r);for(var p=1;p<i;p++)l.push(tz(10,u+p/i*(d-u)));l.push(s)}else if("q"===n.substr(0,1)){l.push(r);for(var h=1;h<i;h++){var f=(a.length-1)*h/i,m=tG(f);if(m===f)l.push(a[m]);else{var g=f-m;l.push(a[m]*(1-g)+a[m+1]*g)}}l.push(s)}else if("k"===n.substr(0,1)){var x,y=a.length,v=Array(y),b=Array(i),A=!0,w=0,C=null;(C=[]).push(r);for(var _=1;_<i;_++)C.push(r+_/i*(s-r));for(C.push(s);A;){for(var S=0;S<i;S++)b[S]=0;for(var k=0;k<y;k++)for(var E=a[k],M=Number.MAX_VALUE,I=void 0,T=0;T<i;T++){var B=tq(C[T]-E);B<M&&(M=B,I=T),b[I]++,v[k]=I}for(var L=Array(i),j=0;j<i;j++)L[j]=null;for(var P=0;P<y;P++)null===L[x=v[P]]?L[x]=a[P]:L[x]+=a[P];for(var R=0;R<i;R++)L[R]*=1/b[R];A=!1;for(var D=0;D<i;D++)if(L[D]!==C[D]){A=!0;break}C=L,++w>200&&(A=!1)}for(var F={},O=0;O<i;O++)F[O]=[];for(var N=0;N<y;N++)F[x=v[N]].push(a[N]);for(var U=[],V=0;V<i;V++)U.push(F[V][0]),U.push(F[V][F[V].length-1]);U=U.sort(function(t,n){return t-n}),l.push(U[0]);for(var H=1;H<U.length;H+=2){var Q=U[H];isNaN(Q)||-1!==l.indexOf(Q)||l.push(Q)}}return l},tZ=Math.sqrt,tY=Math.atan2,tK=Math.abs,tX=Math.cos,tJ=Math.PI,t0={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},t1=0,t2=Object.keys(t0);t1<t2.length;t1+=1){var t3=t2[t1];t0[t3.toLowerCase()]=t0[t3]}return f.average=function(t,n,i){void 0===n&&(n="lrgb"),void 0===i&&(i=null);var r=t.length;i||(i=Array.from(Array(r)).map(function(){return 1}));var s=r/i.reduce(function(t,n){return t+n});if(i.forEach(function(t,n){i[n]*=s}),t=t.map(function(t){return new h(t)}),"lrgb"===n)return tE(t,i);for(var o=t.shift(),a=o.get(n),l=[],c=0,u=0,d=0;d<a.length;d++)if(a[d]=(a[d]||0)*i[0],l.push(isNaN(a[d])?0:i[0]),"h"===n.charAt(d)&&!isNaN(a[d])){var p=a[d]/180*tC;c+=t_(p)*i[0],u+=tS(p)*i[0]}var f=o.alpha()*i[0];t.forEach(function(t,r){var s=t.get(n);f+=t.alpha()*i[r+1];for(var o=0;o<a.length;o++)if(!isNaN(s[o])){if(l[o]+=i[r+1],"h"===n.charAt(o)){var d=s[o]/180*tC;c+=t_(d)*i[r+1],u+=tS(d)*i[r+1]}else a[o]+=s[o]*i[r+1]}});for(var m=0;m<a.length;m++)if("h"===n.charAt(m)){for(var g=tk(u/l[m],c/l[m])/tC*180;g<0;)g+=360;for(;g>=360;)g-=360;a[m]=g}else a[m]=a[m]/l[m];return f/=r,new h(a,n).alpha(f>.99999?1:f,!0)},f.bezier=function(t){var n=tB(t);return n.scale=function(){return tT(n)},n},f.blend=tL,f.cubehelix=function(t,n,i,r,s){void 0===t&&(t=300),void 0===n&&(n=-1.5),void 0===i&&(i=1),void 0===r&&(r=1),void 0===s&&(s=[0,1]);var o,a=0;"array"===tR(s)?o=s[1]-s[0]:(o=0,s=[s,s]);var l=function(l){var c=tF*((t+120)/360+n*l),u=tO(s[0]+o*l,r),d=(0!==a?i[0]+l*a:i)*u*(1-u)/2,p=tU(c),h=tN(c);return f(tD([255*(u+d*(-.14861*p+1.78277*h)),255*(u+d*(-.29227*p-.90649*h)),255*(u+1.97294*p*d),1]))};return l.start=function(n){return null==n?t:(t=n,l)},l.rotations=function(t){return null==t?n:(n=t,l)},l.gamma=function(t){return null==t?r:(r=t,l)},l.hue=function(t){return null==t?i:("array"===tR(i=t)?0==(a=i[1]-i[0])&&(i=i[1]):a=0,l)},l.lightness=function(t){return null==t?s:("array"===tR(t)?(s=t,o=t[1]-t[0]):(s=[t,t],o=0),l)},l.scale=function(){return f.scale(l)},l.hue(i),l},f.mix=f.interpolate=tf,f.random=function(){for(var t="#",n=0;n<6;n++)t+="0123456789abcdef".charAt(tV(16*tH()));return new h(t,"hex")},f.scale=tT,f.analyze=tW,f.contrast=function(t,n){t=new h(t),n=new h(n);var i=t.luminance(),r=n.luminance();return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)},f.deltaE=function(t,n,i,r){void 0===i&&(i=1),void 0===r&&(r=1),t=new h(t),n=new h(n);for(var s=Array.from(t.lab()),o=s[0],a=s[1],l=s[2],c=Array.from(n.lab()),u=c[0],d=c[1],p=c[2],f=tZ(a*a+l*l),m=tZ(d*d+p*p),g=.0638*f/(1+.0131*f)+.638,x=f<1e-6?0:180*tY(l,a)/tJ;x<0;)x+=360;for(;x>=360;)x-=360;var y=x>=164&&x<=345?.56+tK(.2*tX(tJ*(x+168)/180)):.36+tK(.4*tX(tJ*(x+35)/180)),v=f*f*f*f,b=tZ(v/(v+1900)),A=g*(b*y+1-b),w=f-m,C=a-d,_=l-p,S=(o-u)/(i*(o<16?.511:.040975*o/(1+.01765*o))),k=w/(r*g);return tZ(S*S+k*k+(C*C+_*_-w*w)/(A*A))},f.distance=function(t,n,i){void 0===i&&(i="lab"),t=new h(t),n=new h(n);var r=t.get(i),s=n.get(i),o=0;for(var a in r){var l=(r[a]||0)-(s[a]||0);o+=l*l}return Math.sqrt(o)},f.limits=t$,f.valid=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];try{return new(Function.prototype.bind.apply(h,[null].concat(t))),!0}catch(t){return!1}},f.scales={cool:function(){return tT([f.hsl(180,1,.9),f.hsl(250,.7,.4)])},hot:function(){return tT(["#000","#f00","#ff0","#fff"]).mode("rgb")}},f.colors=e3,f.brewer=t0,f},"object"==typeof t&&void 0!==n?n.exports=i():"function"==typeof define&&define.amd?define(i):t.chroma=i()}}),km=SN({"../../node_modules/react-draggable/node_modules/prop-types/lib/ReactPropTypesSecret.js"(t,n){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}),kg=SN({"../../node_modules/react-draggable/node_modules/prop-types/factoryWithThrowingShims.js"(t,n){var i=km();function r(){}function s(){}s.resetWarningCache=r,n.exports=function(){function t(t,n,r,s,o,a){if(a!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return t}t.isRequired=t;var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:r};return o.PropTypes=o,o}}}),kx=SN({"../../node_modules/react-draggable/node_modules/prop-types/index.js"(t,n){n.exports=kg()()}}),ky=SN({"../../node_modules/clsx/dist/clsx.js"(t,n){function i(){for(var t,n,i=0,r="";i<arguments.length;)(t=arguments[i++])&&(n=function t(n){var i,r,s="";if("string"==typeof n||"number"==typeof n)s+=n;else if("object"==typeof n){if(Array.isArray(n))for(i=0;i<n.length;i++)n[i]&&(r=t(n[i]))&&(s&&(s+=" "),s+=r);else for(i in n)n[i]&&(s&&(s+=" "),s+=i)}return s}(t))&&(r&&(r+=" "),r+=n);return r}n.exports=i,n.exports.clsx=i}}),kv=SN({"../../node_modules/react-draggable/build/cjs/utils/shims.js"(t){Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(t,n,i){if(t[n])return Error("Invalid prop ".concat(n," passed to ").concat(i," - do not set this, set it on the child."))},t.findInArray=function(t,n){for(var i=0,r=t.length;i<r;i++)if(n.apply(n,[t[i],i,t]))return t[i]},t.int=function(t){return parseInt(t,10)},t.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},t.isNum=function(t){return"number"==typeof t&&!isNaN(t)}}}),kb=SN({"../../node_modules/react-draggable/build/cjs/utils/getPrefix.js"(t){Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=r,t.browserPrefixToStyle=function(t,n){return n?"-".concat(n.toLowerCase(),"-").concat(t):t},t.default=void 0,t.getPrefix=i;var n=["Moz","Webkit","O","ms"];function i(){var t,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(t=window.document)||void 0===t||null===(i=t.documentElement)||void 0===i?void 0:i.style;if(!o||s in o)return"";for(var a=0;a<n.length;a++)if(r(s,n[a]) in o)return n[a];return""}function r(t,n){return n?"".concat(n).concat(function(t){for(var n="",i=!0,r=0;r<t.length;r++)i?(n+=t[r].toUpperCase(),i=!1):"-"===t[r]?i=!0:n+=t[r];return n}(t)):t}var s=i();t.default=s}}),kA=SN({"../../node_modules/react-draggable/build/cjs/utils/domFns.js"(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=p,t.addEvent=function(t,n,i,r){if(t){var s=a({capture:!0},r);t.addEventListener?t.addEventListener(n,i,s):t.attachEvent?t.attachEvent("on"+n,i):t["on"+n]=i}},t.addUserSelectStyles=function(t){if(t){var n=t.getElementById("react-draggable-style-el");n||((n=t.createElement("style")).type="text/css",n.id="react-draggable-style-el",n.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",n.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(n)),t.body&&p(t.body,"react-draggable-transparent-selection")}},t.createCSSTransform=function(t,n){var i=d(t,n,"px");return l({},(0,r.browserPrefixToKey)("transform",r.default),i)},t.createSVGTransform=function(t,n){return d(t,n,"")},t.getTouch=function(t,n){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,function(t){return n===t.identifier})||t.changedTouches&&(0,i.findInArray)(t.changedTouches,function(t){return n===t.identifier})},t.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},t.getTranslation=d,t.innerHeight=function(t){var n=t.clientHeight,r=t.ownerDocument.defaultView.getComputedStyle(t);return n-=(0,i.int)(r.paddingTop),n-=(0,i.int)(r.paddingBottom)},t.innerWidth=function(t){var n=t.clientWidth,r=t.ownerDocument.defaultView.getComputedStyle(t);return n-=(0,i.int)(r.paddingLeft),n-=(0,i.int)(r.paddingRight)},t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(t,n,i){var r=t;do{if(u(r,n))return!0;if(r===i)break;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(t,n,i){var r=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect();return{x:(t.clientX+n.scrollLeft-r.left)/i,y:(t.clientY+n.scrollTop-r.top)/i}},t.outerHeight=function(t){var n=t.clientHeight,r=t.ownerDocument.defaultView.getComputedStyle(t);return n+((0,i.int)(r.borderTopWidth)+(0,i.int)(r.borderBottomWidth))},t.outerWidth=function(t){var n=t.clientWidth,r=t.ownerDocument.defaultView.getComputedStyle(t);return n+((0,i.int)(r.borderLeftWidth)+(0,i.int)(r.borderRightWidth))},t.removeClassName=h,t.removeEvent=function(t,n,i,r){if(t){var s=a({capture:!0},r);t.removeEventListener?t.removeEventListener(n,i,s):t.detachEvent?t.detachEvent("on"+n,i):t["on"+n]=null}},t.removeUserSelectStyles=function(t){if(t)try{if(t.body&&h(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var n=(t.defaultView||window).getSelection();n&&"Caret"!==n.type&&n.removeAllRanges()}}catch(t){}};var i=kv(),r=function(t,i){if(t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=s(void 0);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=a?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}return o.default=t,r&&r.set(t,o),o}(kb());function s(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(s=function(t){return t?i:n})(t)}function o(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function a(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach(function(n){l(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function l(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var c="";function u(t,n){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,i.isFunction)(t[n])})),!!(0,i.isFunction)(t[c])&&t[c](n)}function d(t,n,i){var r=t.x,s=t.y,o="translate(".concat(r).concat(i,",").concat(s).concat(i,")");if(n){var a="".concat("string"==typeof n.x?n.x:n.x+i),l="".concat("string"==typeof n.y?n.y:n.y+i);o="translate(".concat(a,", ").concat(l,")")+o}return o}function p(t,n){t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n))}function h(t,n){t.classList?t.classList.remove(n):t.className=t.className.replace(RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}}}),kw=SN({"../../node_modules/react-draggable/build/cjs/utils/positionFns.js"(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},t.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},t.createCoreData=function(t,i,s){var o=t.state,a=!(0,n.isNum)(o.lastX),l=r(t);return a?{node:l,deltaX:0,deltaY:0,lastX:i,lastY:s,x:i,y:s}:{node:l,deltaX:i-o.lastX,deltaY:s-o.lastY,lastX:o.lastX,lastY:o.lastY,x:i,y:s}},t.createDraggableData=function(t,n){var i=t.props.scale;return{node:n.node,x:t.state.x+n.deltaX/i,y:t.state.y+n.deltaY/i,deltaX:n.deltaX/i,deltaY:n.deltaY/i,lastX:t.state.x,lastY:t.state.y}},t.getBoundPosition=function(t,s,o){if(!t.props.bounds)return[s,o];var a=t.props.bounds;a="string"==typeof a?a:{left:(c=a).left,top:c.top,right:c.right,bottom:c.bottom};var l=r(t);if("string"==typeof a){var c,u,d=l.ownerDocument,p=d.defaultView;if(!((u="parent"===a?l.parentNode:d.querySelector(a))instanceof p.HTMLElement))throw Error('Bounds selector "'+a+'" could not find an element.');var h=p.getComputedStyle(l),f=p.getComputedStyle(u);a={left:-l.offsetLeft+(0,n.int)(f.paddingLeft)+(0,n.int)(h.marginLeft),top:-l.offsetTop+(0,n.int)(f.paddingTop)+(0,n.int)(h.marginTop),right:(0,i.innerWidth)(u)-(0,i.outerWidth)(l)-l.offsetLeft+(0,n.int)(f.paddingRight)-(0,n.int)(h.marginRight),bottom:(0,i.innerHeight)(u)-(0,i.outerHeight)(l)-l.offsetTop+(0,n.int)(f.paddingBottom)-(0,n.int)(h.marginBottom)}}return(0,n.isNum)(a.right)&&(s=Math.min(s,a.right)),(0,n.isNum)(a.bottom)&&(o=Math.min(o,a.bottom)),(0,n.isNum)(a.left)&&(s=Math.max(s,a.left)),(0,n.isNum)(a.top)&&(o=Math.max(o,a.top)),[s,o]},t.getControlPosition=function(t,n,s){var o="number"==typeof n?(0,i.getTouch)(t,n):null;if("number"==typeof n&&!o)return null;var a=r(s),l=s.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(o||t,l,s.props.scale)},t.snapToGrid=function(t,n,i){return[Math.round(n/t[0])*t[0],Math.round(i/t[1])*t[1]]};var n=kv(),i=kA();function r(t){var n=t.findDOMNode();if(!n)throw Error("<DraggableCore>: Unmounted during event!");return n}}}),kC=SN({"../../node_modules/react-draggable/build/cjs/utils/log.js"(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}}}),k_=SN({"../../node_modules/react-draggable/build/cjs/DraggableCore.js"(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(t,i){if(t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=d(void 0);if(r&&r.has(t))return r.get(t);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(s,a,l):s[a]=t[a]}return s.default=t,r&&r.set(t,s),s}(Sz()),r=u(kx()),s=u(S4()),o=kA(),a=kw(),l=kv(),c=u(kC());function u(t){return t&&t.__esModule?t:{default:t}}function d(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(d=function(t){return t?i:n})(t)}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,s,o=[],a=!0,l=!1;try{for(i=i.call(t);!(a=(r=i.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(t){l=!0,s=t}finally{try{a||null==i.return||i.return()}finally{if(l)throw s}}return o}}(t,n)||function(t,n){if(t){if("string"==typeof t)return h(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(t,n)}}(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=Array(n);i<n;i++)r[i]=t[i];return r}function f(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,n){return(m=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function g(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var v={start:"touchstart",move:"touchmove",stop:"touchend"},b={start:"mousedown",move:"mousemove",stop:"mouseup"},A=b,w=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&m(t,n)}(h,t);var r,l,u,d=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,i=x(h);return t=r?Reflect.construct(i,arguments,x(this).constructor):i.apply(this,arguments),function(t,i){if(i&&("object"===n(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return g(t)}(this,t)});function h(){var t;!function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return y(g(t=d.call.apply(d,[this].concat(i))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),y(g(t),"mounted",!1),y(g(t),"handleDragStart",function(n){if(t.props.onMouseDown(n),!t.props.allowAnyClick&&"number"==typeof n.button&&0!==n.button)return!1;var i=t.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");var r=i.ownerDocument;if(!(t.props.disabled||!(n.target instanceof r.defaultView.Node)||t.props.handle&&!(0,o.matchesSelectorAndParentsTo)(n.target,t.props.handle,i)||t.props.cancel&&(0,o.matchesSelectorAndParentsTo)(n.target,t.props.cancel,i))){"touchstart"===n.type&&n.preventDefault();var s=(0,o.getTouchIdentifier)(n);t.setState({touchIdentifier:s});var l=(0,a.getControlPosition)(n,s,g(t));if(null!=l){var u=l.x,d=l.y,p=(0,a.createCoreData)(g(t),u,d);(0,c.default)("DraggableCore: handleDragStart: %j",p),(0,c.default)("calling",t.props.onStart),!1!==t.props.onStart(n,p)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:u,lastY:d}),(0,o.addEvent)(r,A.move,t.handleDrag),(0,o.addEvent)(r,A.stop,t.handleDragStop))}}}),y(g(t),"handleDrag",function(n){var i=(0,a.getControlPosition)(n,t.state.touchIdentifier,g(t));if(null!=i){var r=i.x,s=i.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,l=s-t.state.lastY,u=p((0,a.snapToGrid)(t.props.grid,o,l),2);if(o=u[0],l=u[1],!o&&!l)return;r=t.state.lastX+o,s=t.state.lastY+l}var d=(0,a.createCoreData)(g(t),r,s);if((0,c.default)("DraggableCore: handleDrag: %j",d),!1!==t.props.onDrag(n,d)&&!1!==t.mounted)t.setState({lastX:r,lastY:s});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(n){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(h)}}}),y(g(t),"handleDragStop",function(n){if(t.state.dragging){var i=(0,a.getControlPosition)(n,t.state.touchIdentifier,g(t));if(null!=i){var r=i.x,s=i.y;if(Array.isArray(t.props.grid)){var l=r-t.state.lastX||0,u=s-t.state.lastY||0,d=p((0,a.snapToGrid)(t.props.grid,l,u),2);l=d[0],u=d[1],r=t.state.lastX+l,s=t.state.lastY+u}var h=(0,a.createCoreData)(g(t),r,s);if(!1===t.props.onStop(n,h)||!1===t.mounted)return!1;var f=t.findDOMNode();f&&t.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(f.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",h),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),f&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(f.ownerDocument,A.move,t.handleDrag),(0,o.removeEvent)(f.ownerDocument,A.stop,t.handleDragStop))}}}),y(g(t),"onMouseDown",function(n){return A=b,t.handleDragStart(n)}),y(g(t),"onMouseUp",function(n){return A=b,t.handleDragStop(n)}),y(g(t),"onTouchStart",function(n){return A=v,t.handleDragStart(n)}),y(g(t),"onTouchEnd",function(n){return A=v,t.handleDragStop(n)}),t}return l=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,o.addEvent)(t,v.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var n=t.ownerDocument;(0,o.removeEvent)(n,b.move,this.handleDrag),(0,o.removeEvent)(n,v.move,this.handleDrag),(0,o.removeEvent)(n,b.stop,this.handleDragStop),(0,o.removeEvent)(n,v.stop,this.handleDragStop),(0,o.removeEvent)(t,v.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(n)}}},{key:"findDOMNode",value:function(){var t,n,i;return null!==(t=this.props)&&void 0!==t&&t.nodeRef?null===(n=this.props)||void 0===n||null===(i=n.nodeRef)||void 0===i?void 0:i.current:s.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}],f(h.prototype,l),u&&f(h,u),Object.defineProperty(h,"prototype",{writable:!1}),h}(i.Component);t.default=w,y(w,"displayName","DraggableCore"),y(w,"propTypes",{allowAnyClick:r.default.bool,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(t,n){if(t[n]&&1!==t[n].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(w,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})}}),kS=SN({"../../node_modules/react-draggable/build/cjs/Draggable.js"(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var i=function(t,i){if(t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=f(void 0);if(r&&r.has(t))return r.get(t);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(s,a,l):s[a]=t[a]}return s.default=t,r&&r.set(t,s),s}(Sz()),r=h(kx()),s=h(S4()),o=h(ky()),a=kA(),l=kw(),c=kv(),u=h(k_()),d=h(kC()),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(f=function(t){return t?i:n})(t)}function m(){return(m=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function g(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function x(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?g(Object(i),!0).forEach(function(n){C(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=Array(n);i<n;i++)r[i]=t[i];return r}function v(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,n){return(b=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function A(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var _=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&b(t,n)}(g,t);var r,c,h,f=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,i=w(g);return t=r?Reflect.construct(i,arguments,w(this).constructor):i.apply(this,arguments),function(t,i){if(i&&("object"===n(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return A(t)}(this,t)});function g(t){var n;return function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}(this,g),C(A(n=f.call(this,t)),"onDragStart",function(t,i){if((0,d.default)("Draggable: onDragStart: %j",i),!1===n.props.onStart(t,(0,l.createDraggableData)(A(n),i)))return!1;n.setState({dragging:!0,dragged:!0})}),C(A(n),"onDrag",function(t,i){if(!n.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",i);var r=(0,l.createDraggableData)(A(n),i),s={x:r.x,y:r.y};if(n.props.bounds){var o,a=s.x,c=s.y;s.x+=n.state.slackX,s.y+=n.state.slackY;var u=function(t){if(Array.isArray(t))return t}(o=(0,l.getBoundPosition)(A(n),s.x,s.y))||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,s,o=[],a=!0,l=!1;try{for(i=i.call(t);!(a=(r=i.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){l=!0,s=t}finally{try{a||null==i.return||i.return()}finally{if(l)throw s}}return o}}(o,2)||function(t,n){if(t){if("string"==typeof t)return y(t,2);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,2)}}(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=u[0],h=u[1];s.x=p,s.y=h,s.slackX=n.state.slackX+(a-s.x),s.slackY=n.state.slackY+(c-s.y),r.x=s.x,r.y=s.y,r.deltaX=s.x-n.state.x,r.deltaY=s.y-n.state.y}if(!1===n.props.onDrag(t,r))return!1;n.setState(s)}),C(A(n),"onDragStop",function(t,i){if(!n.state.dragging||!1===n.props.onStop(t,(0,l.createDraggableData)(A(n),i)))return!1;(0,d.default)("Draggable: onDragStop: %j",i);var r={dragging:!1,slackX:0,slackY:0};if(n.props.position){var s=n.props.position,o=s.x,a=s.y;r.x=o,r.y=a}n.setState(r)}),n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:x({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return h=[{key:"getDerivedStateFromProps",value:function(t,n){var i=t.position,r=n.prevPropsPosition;return!i||r&&i.x===r.x&&i.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:i,prevPropsPosition:r}),{x:i.x,y:i.y,prevPropsPosition:x({},i)})}}],c=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode() instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,n,i;return null!==(t=null===(n=this.props)||void 0===n||null===(i=n.nodeRef)||void 0===i?void 0:i.current)&&void 0!==t?t:s.default.findDOMNode(this)}},{key:"render",value:function(){var t,n=this.props,r=(n.axis,n.bounds,n.children),s=n.defaultPosition,c=n.defaultClassName,d=n.defaultClassNameDragging,h=n.defaultClassNameDragged,f=n.position,g=n.positionOffset,y=(n.scale,function(t,n){if(null==t)return{};var i,r,s=function(t,n){if(null==t)return{};var i,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(s[i]=t[i]);return s}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}(n,p)),v={},b=null,A=!f||this.state.dragging,w=f||s,_={x:(0,l.canDragX)(this)&&A?this.state.x:w.x,y:(0,l.canDragY)(this)&&A?this.state.y:w.y};this.state.isElementSVG?b=(0,a.createSVGTransform)(_,g):v=(0,a.createCSSTransform)(_,g);var S=(0,o.default)(r.props.className||"",c,(C(t={},d,this.state.dragging),C(t,h,this.state.dragged),t));return i.createElement(u.default,m({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(r),{className:S,style:x(x({},r.props.style),v),transform:b}))}}],v(g.prototype,c),h&&v(g,h),Object.defineProperty(g,"prototype",{writable:!1}),g}(i.Component);t.default=_,C(_,"displayName","Draggable"),C(_,"propTypes",x(x({},u.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),C(_,"defaultProps",x(x({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}}),kk=SN({"../../node_modules/react-draggable/build/cjs/cjs.js"(t,n){var i=kS(),r=i.default,s=i.DraggableCore;n.exports=r,n.exports.default=r,n.exports.DraggableCore=s}}),kE=SN({"../../node_modules/lodash/_arrayMap.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length,s=Array(r);++i<r;)s[i]=n(t[i],i,t);return s}}}),kM=SN({"../../node_modules/lodash/isArray.js"(t,n){var i=Array.isArray;n.exports=i}}),kI=SN({"../../node_modules/lodash/_baseToString.js"(t,n){var i=ks(),r=kE(),s=kM(),o=ku(),a=i?i.prototype:void 0,l=a?a.toString:void 0;n.exports=function t(n){if("string"==typeof n)return n;if(s(n))return r(n,t)+"";if(o(n))return l?l.call(n):"";var i=n+"";return"0"==i&&1/n==-1/0?"-0":i}}}),kT=SN({"../../node_modules/lodash/toString.js"(t,n){var i=kI();n.exports=function(t){return null==t?"":i(t)}}}),kB=SN({"../../node_modules/lodash/uniqueId.js"(t,n){var i=kT(),r=0;n.exports=function(t){var n=++r;return i(t)+n}}}),kL=SN({"../../node_modules/lodash/_listCacheClear.js"(t,n){n.exports=function(){this.__data__=[],this.size=0}}}),kj=SN({"../../node_modules/lodash/eq.js"(t,n){n.exports=function(t,n){return t===n||t!=t&&n!=n}}}),kP=SN({"../../node_modules/lodash/_assocIndexOf.js"(t,n){var i=kj();n.exports=function(t,n){for(var r=t.length;r--;)if(i(t[r][0],n))return r;return -1}}}),kR=SN({"../../node_modules/lodash/_listCacheDelete.js"(t,n){var i=kP(),r=Array.prototype.splice;n.exports=function(t){var n=this.__data__,s=i(n,t);return!(s<0)&&(s==n.length-1?n.pop():r.call(n,s,1),--this.size,!0)}}}),kD=SN({"../../node_modules/lodash/_listCacheGet.js"(t,n){var i=kP();n.exports=function(t){var n=this.__data__,r=i(n,t);return r<0?void 0:n[r][1]}}}),kF=SN({"../../node_modules/lodash/_listCacheHas.js"(t,n){var i=kP();n.exports=function(t){return i(this.__data__,t)>-1}}}),kO=SN({"../../node_modules/lodash/_listCacheSet.js"(t,n){var i=kP();n.exports=function(t,n){var r=this.__data__,s=i(r,t);return s<0?(++this.size,r.push([t,n])):r[s][1]=n,this}}}),kN=SN({"../../node_modules/lodash/_ListCache.js"(t,n){var i=kL(),r=kR(),s=kD(),o=kF(),a=kO();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),kU=SN({"../../node_modules/lodash/_stackClear.js"(t,n){var i=kN();n.exports=function(){this.__data__=new i,this.size=0}}}),kV=SN({"../../node_modules/lodash/_stackDelete.js"(t,n){n.exports=function(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}}}),kH=SN({"../../node_modules/lodash/_stackGet.js"(t,n){n.exports=function(t){return this.__data__.get(t)}}}),kQ=SN({"../../node_modules/lodash/_stackHas.js"(t,n){n.exports=function(t){return this.__data__.has(t)}}}),kz=SN({"../../node_modules/lodash/isFunction.js"(t,n){var i=kl(),r=S9();n.exports=function(t){if(!r(t))return!1;var n=i(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}}),kG=SN({"../../node_modules/lodash/_coreJsData.js"(t,n){var i=kt()["__core-js_shared__"];n.exports=i}}),kq=SN({"../../node_modules/lodash/_isMasked.js"(t,n){var i,r=kG(),s=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";n.exports=function(t){return!!s&&s in t}}}),kW=SN({"../../node_modules/lodash/_toSource.js"(t,n){var i=Function.prototype.toString;n.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}}}),k$=SN({"../../node_modules/lodash/_baseIsNative.js"(t,n){var i=kz(),r=kq(),s=S9(),o=kW(),a=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(t){return!(!s(t)||r(t))&&(i(t)?d:a).test(o(t))}}}),kZ=SN({"../../node_modules/lodash/_getValue.js"(t,n){n.exports=function(t,n){return null==t?void 0:t[n]}}}),kY=SN({"../../node_modules/lodash/_getNative.js"(t,n){var i=k$(),r=kZ();n.exports=function(t,n){var s=r(t,n);return i(s)?s:void 0}}}),kK=SN({"../../node_modules/lodash/_Map.js"(t,n){var i=kY()(kt(),"Map");n.exports=i}}),kX=SN({"../../node_modules/lodash/_nativeCreate.js"(t,n){var i=kY()(Object,"create");n.exports=i}}),kJ=SN({"../../node_modules/lodash/_hashClear.js"(t,n){var i=kX();n.exports=function(){this.__data__=i?i(null):{},this.size=0}}}),k0=SN({"../../node_modules/lodash/_hashDelete.js"(t,n){n.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}}}),k1=SN({"../../node_modules/lodash/_hashGet.js"(t,n){var i=kX(),r=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;if(i){var s=n[t];return"__lodash_hash_undefined__"===s?void 0:s}return r.call(n,t)?n[t]:void 0}}}),k2=SN({"../../node_modules/lodash/_hashHas.js"(t,n){var i=kX(),r=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;return i?void 0!==n[t]:r.call(n,t)}}}),k3=SN({"../../node_modules/lodash/_hashSet.js"(t,n){var i=kX();n.exports=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===n?"__lodash_hash_undefined__":n,this}}}),k5=SN({"../../node_modules/lodash/_Hash.js"(t,n){var i=kJ(),r=k0(),s=k1(),o=k2(),a=k3();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),k4=SN({"../../node_modules/lodash/_mapCacheClear.js"(t,n){var i=k5(),r=kN(),s=kK();n.exports=function(){this.size=0,this.__data__={hash:new i,map:new(s||r),string:new i}}}}),k6=SN({"../../node_modules/lodash/_isKeyable.js"(t,n){n.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}}}),k8=SN({"../../node_modules/lodash/_getMapData.js"(t,n){var i=k6();n.exports=function(t,n){var r=t.__data__;return i(n)?r["string"==typeof n?"string":"hash"]:r.map}}}),k7=SN({"../../node_modules/lodash/_mapCacheDelete.js"(t,n){var i=k8();n.exports=function(t){var n=i(this,t).delete(t);return this.size-=n?1:0,n}}}),k9=SN({"../../node_modules/lodash/_mapCacheGet.js"(t,n){var i=k8();n.exports=function(t){return i(this,t).get(t)}}}),Ee=SN({"../../node_modules/lodash/_mapCacheHas.js"(t,n){var i=k8();n.exports=function(t){return i(this,t).has(t)}}}),Et=SN({"../../node_modules/lodash/_mapCacheSet.js"(t,n){var i=k8();n.exports=function(t,n){var r=i(this,t),s=r.size;return r.set(t,n),this.size+=r.size==s?0:1,this}}}),En=SN({"../../node_modules/lodash/_MapCache.js"(t,n){var i=k4(),r=k7(),s=k9(),o=Ee(),a=Et();function l(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,n.exports=l}}),Ei=SN({"../../node_modules/lodash/_stackSet.js"(t,n){var i=kN(),r=kK(),s=En();n.exports=function(t,n){var o=this.__data__;if(o instanceof i){var a=o.__data__;if(!r||a.length<199)return a.push([t,n]),this.size=++o.size,this;o=this.__data__=new s(a)}return o.set(t,n),this.size=o.size,this}}}),Er=SN({"../../node_modules/lodash/_Stack.js"(t,n){var i=kN(),r=kU(),s=kV(),o=kH(),a=kQ(),l=Ei();function c(t){var n=this.__data__=new i(t);this.size=n.size}c.prototype.clear=r,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,n.exports=c}}),Es=SN({"../../node_modules/lodash/_setCacheAdd.js"(t,n){n.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}}}),Eo=SN({"../../node_modules/lodash/_setCacheHas.js"(t,n){n.exports=function(t){return this.__data__.has(t)}}}),Ea=SN({"../../node_modules/lodash/_SetCache.js"(t,n){var i=En(),r=Es(),s=Eo();function o(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new i;++n<r;)this.add(t[n])}o.prototype.add=o.prototype.push=r,o.prototype.has=s,n.exports=o}}),El=SN({"../../node_modules/lodash/_arraySome.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(t[i],i,t))return!0;return!1}}}),Ec=SN({"../../node_modules/lodash/_cacheHas.js"(t,n){n.exports=function(t,n){return t.has(n)}}}),Eu=SN({"../../node_modules/lodash/_equalArrays.js"(t,n){var i=Ea(),r=El(),s=Ec();n.exports=function(t,n,o,a,l,c){var u=1&o,d=t.length,p=n.length;if(d!=p&&!(u&&p>d))return!1;var h=c.get(t),f=c.get(n);if(h&&f)return h==n&&f==t;var m=-1,g=!0,x=2&o?new i:void 0;for(c.set(t,n),c.set(n,t);++m<d;){var y=t[m],v=n[m];if(a)var b=u?a(v,y,m,n,t,c):a(y,v,m,t,n,c);if(void 0!==b){if(b)continue;g=!1;break}if(x){if(!r(n,function(t,n){if(!s(x,n)&&(y===t||l(y,t,o,a,c)))return x.push(n)})){g=!1;break}}else if(y!==v&&!l(y,v,o,a,c)){g=!1;break}}return c.delete(t),c.delete(n),g}}}),Ed=SN({"../../node_modules/lodash/_Uint8Array.js"(t,n){var i=kt().Uint8Array;n.exports=i}}),Ep=SN({"../../node_modules/lodash/_mapToArray.js"(t,n){n.exports=function(t){var n=-1,i=Array(t.size);return t.forEach(function(t,r){i[++n]=[r,t]}),i}}}),Eh=SN({"../../node_modules/lodash/_setToArray.js"(t,n){n.exports=function(t){var n=-1,i=Array(t.size);return t.forEach(function(t){i[++n]=t}),i}}}),Ef=SN({"../../node_modules/lodash/_equalByTag.js"(t,n){var i=ks(),r=Ed(),s=kj(),o=Eu(),a=Ep(),l=Eh(),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(t,n,i,c,d,p,h){switch(i){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!p(new r(t),new r(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var f=a;case"[object Set]":var m=1&c;if(f||(f=l),t.size!=n.size&&!m)break;var g=h.get(t);if(g)return g==n;c|=2,h.set(t,n);var x=o(f(t),f(n),c,d,p,h);return h.delete(t),x;case"[object Symbol]":if(u)return u.call(t)==u.call(n)}return!1}}}),Em=SN({"../../node_modules/lodash/_arrayPush.js"(t,n){n.exports=function(t,n){for(var i=-1,r=n.length,s=t.length;++i<r;)t[s+i]=n[i];return t}}}),Eg=SN({"../../node_modules/lodash/_baseGetAllKeys.js"(t,n){var i=Em(),r=kM();n.exports=function(t,n,s){var o=n(t);return r(t)?o:i(o,s(t))}}}),Ex=SN({"../../node_modules/lodash/_arrayFilter.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length,s=0,o=[];++i<r;){var a=t[i];n(a,i,t)&&(o[s++]=a)}return o}}}),Ey=SN({"../../node_modules/lodash/stubArray.js"(t,n){n.exports=function(){return[]}}}),Ev=SN({"../../node_modules/lodash/_getSymbols.js"(t,n){var i=Ex(),r=Ey(),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:i(o(t=Object(t)),function(n){return s.call(t,n)})}:r;n.exports=a}}),Eb=SN({"../../node_modules/lodash/_baseTimes.js"(t,n){n.exports=function(t,n){for(var i=-1,r=Array(t);++i<t;)r[i]=n(i);return r}}}),EA=SN({"../../node_modules/lodash/_baseIsArguments.js"(t,n){var i=kl(),r=kc();n.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}}}),Ew=SN({"../../node_modules/lodash/isArguments.js"(t,n){var i=EA(),r=kc(),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!a.call(t,"callee")};n.exports=l}}),EC=SN({"../../node_modules/lodash/stubFalse.js"(t,n){n.exports=function(){return!1}}}),E_=SN({"../../node_modules/lodash/isBuffer.js"(t,n){var i=kt(),r=EC(),s="object"==typeof t&&t&&!t.nodeType&&t,o=s&&"object"==typeof n&&n&&!n.nodeType&&n,a=o&&o.exports===s?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;n.exports=l}}),ES=SN({"../../node_modules/lodash/_isIndex.js"(t,n){var i=/^(?:0|[1-9]\d*)$/;n.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<n}}}),Ek=SN({"../../node_modules/lodash/isLength.js"(t,n){n.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}}}),EE=SN({"../../node_modules/lodash/_baseIsTypedArray.js"(t,n){var i=kl(),r=Ek(),s=kc(),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(t){return s(t)&&r(t.length)&&!!o[i(t)]}}}),EM=SN({"../../node_modules/lodash/_baseUnary.js"(t,n){n.exports=function(t){return function(n){return t(n)}}}}),EI=SN({"../../node_modules/lodash/_nodeUtil.js"(t,n){var i=ke(),r="object"==typeof t&&t&&!t.nodeType&&t,s=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===r&&i.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();n.exports=a}}),ET=SN({"../../node_modules/lodash/isTypedArray.js"(t,n){var i=EE(),r=EM(),s=EI(),o=s&&s.isTypedArray,a=o?r(o):i;n.exports=a}}),EB=SN({"../../node_modules/lodash/_arrayLikeKeys.js"(t,n){var i=Eb(),r=Ew(),s=kM(),o=E_(),a=ES(),l=ET(),c=Object.prototype.hasOwnProperty;n.exports=function(t,n){var u=s(t),d=!u&&r(t),p=!u&&!d&&o(t),h=!u&&!d&&!p&&l(t),f=u||d||p||h,m=f?i(t.length,String):[],g=m.length;for(var x in t)!n&&!c.call(t,x)||f&&("length"==x||p&&("offset"==x||"parent"==x)||h&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||a(x,g))||m.push(x);return m}}}),EL=SN({"../../node_modules/lodash/_isPrototype.js"(t,n){var i=Object.prototype;n.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||i)}}}),Ej=SN({"../../node_modules/lodash/_overArg.js"(t,n){n.exports=function(t,n){return function(i){return t(n(i))}}}}),EP=SN({"../../node_modules/lodash/_nativeKeys.js"(t,n){var i=Ej()(Object.keys,Object);n.exports=i}}),ER=SN({"../../node_modules/lodash/_baseKeys.js"(t,n){var i=EL(),r=EP(),s=Object.prototype.hasOwnProperty;n.exports=function(t){if(!i(t))return r(t);var n=[];for(var o in Object(t))s.call(t,o)&&"constructor"!=o&&n.push(o);return n}}}),ED=SN({"../../node_modules/lodash/isArrayLike.js"(t,n){var i=kz(),r=Ek();n.exports=function(t){return null!=t&&r(t.length)&&!i(t)}}}),EF=SN({"../../node_modules/lodash/keys.js"(t,n){var i=EB(),r=ER(),s=ED();n.exports=function(t){return s(t)?i(t):r(t)}}}),EO=SN({"../../node_modules/lodash/_getAllKeys.js"(t,n){var i=Eg(),r=Ev(),s=EF();n.exports=function(t){return i(t,s,r)}}}),EN=SN({"../../node_modules/lodash/_equalObjects.js"(t,n){var i=EO(),r=Object.prototype.hasOwnProperty;n.exports=function(t,n,s,o,a,l){var c=1&s,u=i(t),d=u.length;if(d!=i(n).length&&!c)return!1;for(var p=d;p--;){var h=u[p];if(!(c?h in n:r.call(n,h)))return!1}var f=l.get(t),m=l.get(n);if(f&&m)return f==n&&m==t;var g=!0;l.set(t,n),l.set(n,t);for(var x=c;++p<d;){var y=t[h=u[p]],v=n[h];if(o)var b=c?o(v,y,h,n,t,l):o(y,v,h,t,n,l);if(!(void 0===b?y===v||a(y,v,s,o,l):b)){g=!1;break}x||(x="constructor"==h)}if(g&&!x){var A=t.constructor,w=n.constructor;A==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof A&&A instanceof A&&"function"==typeof w&&w instanceof w||(g=!1)}return l.delete(t),l.delete(n),g}}}),EU=SN({"../../node_modules/lodash/_DataView.js"(t,n){var i=kY()(kt(),"DataView");n.exports=i}}),EV=SN({"../../node_modules/lodash/_Promise.js"(t,n){var i=kY()(kt(),"Promise");n.exports=i}}),EH=SN({"../../node_modules/lodash/_Set.js"(t,n){var i=kY()(kt(),"Set");n.exports=i}}),EQ=SN({"../../node_modules/lodash/_WeakMap.js"(t,n){var i=kY()(kt(),"WeakMap");n.exports=i}}),Ez=SN({"../../node_modules/lodash/_getTag.js"(t,n){var i=EU(),r=kK(),s=EV(),o=EH(),a=EQ(),l=kl(),c=kW(),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(i),g=c(r),x=c(s),y=c(o),v=c(a),b=l;(i&&b(new i(new ArrayBuffer(1)))!=f||r&&b(new r)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=p||a&&b(new a)!=h)&&(b=function(t){var n=l(t),i="[object Object]"==n?t.constructor:void 0,r=i?c(i):"";if(r)switch(r){case m:return f;case g:return u;case x:return d;case y:return p;case v:return h}return n}),n.exports=b}}),EG=SN({"../../node_modules/lodash/_baseIsEqualDeep.js"(t,n){var i=Er(),r=Eu(),s=Ef(),o=EN(),a=Ez(),l=kM(),c=E_(),u=ET(),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;n.exports=function(t,n,m,g,x,y){var v=l(t),b=l(n),A=v?p:a(t),w=b?p:a(n),C=(A=A==d?h:A)==h,_=(w=w==d?h:w)==h,S=A==w;if(S&&c(t)){if(!c(n))return!1;v=!0,C=!1}if(S&&!C)return y||(y=new i),v||u(t)?r(t,n,m,g,x,y):s(t,n,A,m,g,x,y);if(!(1&m)){var k=C&&f.call(t,"__wrapped__"),E=_&&f.call(n,"__wrapped__");if(k||E){var M=k?t.value():t,I=E?n.value():n;return y||(y=new i),x(M,I,m,g,y)}}return!!S&&(y||(y=new i),o(t,n,m,g,x,y))}}}),Eq=SN({"../../node_modules/lodash/_baseIsEqual.js"(t,n){var i=EG(),r=kc();n.exports=function t(n,s,o,a,l){return n===s||(null!=n&&null!=s&&(r(n)||r(s))?i(n,s,o,a,t,l):n!=n&&s!=s)}}}),EW=SN({"../../node_modules/lodash/isEqual.js"(t,n){var i=Eq();n.exports=function(t,n){return i(t,n)}}}),E$=SN({"../../node_modules/react-dom/client.js"(t){var n=S4();t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot}}),EZ=SN({"../../node_modules/void-elements/index.js"(t,n){n.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}}),EY=SN({"../../node_modules/lodash/_arrayEach.js"(t,n){n.exports=function(t,n){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==n(t[i],i,t););return t}}}),EK=SN({"../../node_modules/lodash/_defineProperty.js"(t,n){var i=kY(),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();n.exports=r}}),EX=SN({"../../node_modules/lodash/_baseAssignValue.js"(t,n){var i=EK();n.exports=function(t,n,r){"__proto__"==n&&i?i(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}}),EJ=SN({"../../node_modules/lodash/_assignValue.js"(t,n){var i=EX(),r=kj(),s=Object.prototype.hasOwnProperty;n.exports=function(t,n,o){var a=t[n];s.call(t,n)&&r(a,o)&&(void 0!==o||n in t)||i(t,n,o)}}}),E0=SN({"../../node_modules/lodash/_copyObject.js"(t,n){var i=EJ(),r=EX();n.exports=function(t,n,s,o){var a=!s;s||(s={});for(var l=-1,c=n.length;++l<c;){var u=n[l],d=o?o(s[u],t[u],u,s,t):void 0;void 0===d&&(d=t[u]),a?r(s,u,d):i(s,u,d)}return s}}}),E1=SN({"../../node_modules/lodash/_baseAssign.js"(t,n){var i=E0(),r=EF();n.exports=function(t,n){return t&&i(n,r(n),t)}}}),E2=SN({"../../node_modules/lodash/_nativeKeysIn.js"(t,n){n.exports=function(t){var n=[];if(null!=t)for(var i in Object(t))n.push(i);return n}}}),E3=SN({"../../node_modules/lodash/_baseKeysIn.js"(t,n){var i=S9(),r=EL(),s=E2(),o=Object.prototype.hasOwnProperty;n.exports=function(t){if(!i(t))return s(t);var n=r(t),a=[];for(var l in t)("constructor"!=l||!n&&o.call(t,l))&&a.push(l);return a}}}),E5=SN({"../../node_modules/lodash/keysIn.js"(t,n){var i=EB(),r=E3(),s=ED();n.exports=function(t){return s(t)?i(t,!0):r(t)}}}),E4=SN({"../../node_modules/lodash/_baseAssignIn.js"(t,n){var i=E0(),r=E5();n.exports=function(t,n){return t&&i(n,r(n),t)}}}),E6=SN({"../../node_modules/lodash/_cloneBuffer.js"(t,n){var i=kt(),r="object"==typeof t&&t&&!t.nodeType&&t,s=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===r?i.Buffer:void 0,a=o?o.allocUnsafe:void 0;n.exports=function(t,n){if(n)return t.slice();var i=t.length,r=a?a(i):new t.constructor(i);return t.copy(r),r}}}),E8=SN({"../../node_modules/lodash/_copyArray.js"(t,n){n.exports=function(t,n){var i=-1,r=t.length;for(n||(n=Array(r));++i<r;)n[i]=t[i];return n}}}),E7=SN({"../../node_modules/lodash/_copySymbols.js"(t,n){var i=E0(),r=Ev();n.exports=function(t,n){return i(t,r(t),n)}}}),E9=SN({"../../node_modules/lodash/_getPrototype.js"(t,n){var i=Ej()(Object.getPrototypeOf,Object);n.exports=i}}),Me=SN({"../../node_modules/lodash/_getSymbolsIn.js"(t,n){var i=Em(),r=E9(),s=Ev(),o=Ey(),a=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)i(n,s(t)),t=r(t);return n}:o;n.exports=a}}),Mt=SN({"../../node_modules/lodash/_copySymbolsIn.js"(t,n){var i=E0(),r=Me();n.exports=function(t,n){return i(t,r(t),n)}}}),Mn=SN({"../../node_modules/lodash/_getAllKeysIn.js"(t,n){var i=Eg(),r=Me(),s=E5();n.exports=function(t){return i(t,s,r)}}}),Mi=SN({"../../node_modules/lodash/_initCloneArray.js"(t,n){var i=Object.prototype.hasOwnProperty;n.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&i.call(t,"index")&&(r.index=t.index,r.input=t.input),r}}}),Mr=SN({"../../node_modules/lodash/_cloneArrayBuffer.js"(t,n){var i=Ed();n.exports=function(t){var n=new t.constructor(t.byteLength);return new i(n).set(new i(t)),n}}}),Ms=SN({"../../node_modules/lodash/_cloneDataView.js"(t,n){var i=Mr();n.exports=function(t,n){var r=n?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}}),Mo=SN({"../../node_modules/lodash/_cloneRegExp.js"(t,n){var i=/\w*$/;n.exports=function(t){var n=new t.constructor(t.source,i.exec(t));return n.lastIndex=t.lastIndex,n}}}),Ma=SN({"../../node_modules/lodash/_cloneSymbol.js"(t,n){var i=ks(),r=i?i.prototype:void 0,s=r?r.valueOf:void 0;n.exports=function(t){return s?Object(s.call(t)):{}}}}),Ml=SN({"../../node_modules/lodash/_cloneTypedArray.js"(t,n){var i=Mr();n.exports=function(t,n){var r=n?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}}),Mc=SN({"../../node_modules/lodash/_initCloneByTag.js"(t,n){var i=Mr(),r=Ms(),s=Mo(),o=Ma(),a=Ml();n.exports=function(t,n,l){var c=t.constructor;switch(n){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return r(t,l);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,l);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return s(t);case"[object Symbol]":return o(t)}}}}),Mu=SN({"../../node_modules/lodash/_baseCreate.js"(t,n){var i=S9(),r=Object.create,s=function(){function t(){}return function(n){if(!i(n))return{};if(r)return r(n);t.prototype=n;var s=new t;return t.prototype=void 0,s}}();n.exports=s}}),Md=SN({"../../node_modules/lodash/_initCloneObject.js"(t,n){var i=Mu(),r=E9(),s=EL();n.exports=function(t){return"function"!=typeof t.constructor||s(t)?{}:i(r(t))}}}),Mp=SN({"../../node_modules/lodash/_baseIsMap.js"(t,n){var i=Ez(),r=kc();n.exports=function(t){return r(t)&&"[object Map]"==i(t)}}}),Mh=SN({"../../node_modules/lodash/isMap.js"(t,n){var i=Mp(),r=EM(),s=EI(),o=s&&s.isMap,a=o?r(o):i;n.exports=a}}),Mf=SN({"../../node_modules/lodash/_baseIsSet.js"(t,n){var i=Ez(),r=kc();n.exports=function(t){return r(t)&&"[object Set]"==i(t)}}}),Mm=SN({"../../node_modules/lodash/isSet.js"(t,n){var i=Mf(),r=EM(),s=EI(),o=s&&s.isSet,a=o?r(o):i;n.exports=a}}),Mg=SN({"../../node_modules/lodash/_baseClone.js"(t,n){var i=Er(),r=EY(),s=EJ(),o=E1(),a=E4(),l=E6(),c=E8(),u=E7(),d=Mt(),p=EO(),h=Mn(),f=Ez(),m=Mi(),g=Mc(),x=Md(),y=kM(),v=E_(),b=Mh(),A=S9(),w=Mm(),C=EF(),_=E5(),S="[object Arguments]",k="[object Function]",E="[object Object]",M={};M[S]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[E]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[k]=M["[object WeakMap]"]=!1,n.exports=function t(n,I,T,B,L,j){var P,R=1&I,D=2&I,F=4&I;if(T&&(P=L?T(n,B,L,j):T(n)),void 0!==P)return P;if(!A(n))return n;var O=y(n);if(O){if(P=m(n),!R)return c(n,P)}else{var N=f(n),U=N==k||"[object GeneratorFunction]"==N;if(v(n))return l(n,R);if(N==E||N==S||U&&!L){if(P=D||U?{}:x(n),!R)return D?d(n,a(P,n)):u(n,o(P,n))}else{if(!M[N])return L?n:{};P=g(n,N,R)}}j||(j=new i);var V=j.get(n);if(V)return V;j.set(n,P),w(n)?n.forEach(function(i){P.add(t(i,I,T,i,n,j))}):b(n)&&n.forEach(function(i,r){P.set(r,t(i,I,T,r,n,j))});var H=O?void 0:(F?D?h:p:D?_:C)(n);return r(H||n,function(i,r){H&&(i=n[r=i]),s(P,r,t(i,I,T,r,n,j))}),P}}}),Mx=SN({"../../node_modules/lodash/cloneDeep.js"(t,n){var i=Mg();n.exports=function(t){return i(t,5)}}}),My=SN({"../../node_modules/lodash/_assignMergeValue.js"(t,n){var i=EX(),r=kj();n.exports=function(t,n,s){(void 0===s||r(t[n],s))&&(void 0!==s||n in t)||i(t,n,s)}}}),Mv=SN({"../../node_modules/lodash/_createBaseFor.js"(t,n){n.exports=function(t){return function(n,i,r){for(var s=-1,o=Object(n),a=r(n),l=a.length;l--;){var c=a[t?l:++s];if(!1===i(o[c],c,o))break}return n}}}}),Mb=SN({"../../node_modules/lodash/_baseFor.js"(t,n){var i=Mv()();n.exports=i}}),MA=SN({"../../node_modules/lodash/isArrayLikeObject.js"(t,n){var i=ED(),r=kc();n.exports=function(t){return r(t)&&i(t)}}}),Mw=SN({"../../node_modules/lodash/isPlainObject.js"(t,n){var i=kl(),r=E9(),s=kc(),o=Object.prototype,a=Function.prototype.toString,l=o.hasOwnProperty,c=a.call(Object);n.exports=function(t){if(!s(t)||"[object Object]"!=i(t))return!1;var n=r(t);if(null===n)return!0;var o=l.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&a.call(o)==c}}}),MC=SN({"../../node_modules/lodash/_safeGet.js"(t,n){n.exports=function(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}}}),M_=SN({"../../node_modules/lodash/toPlainObject.js"(t,n){var i=E0(),r=E5();n.exports=function(t){return i(t,r(t))}}}),MS=SN({"../../node_modules/lodash/_baseMergeDeep.js"(t,n){var i=My(),r=E6(),s=Ml(),o=E8(),a=Md(),l=Ew(),c=kM(),u=MA(),d=E_(),p=kz(),h=S9(),f=Mw(),m=ET(),g=MC(),x=M_();n.exports=function(t,n,y,v,b,A,w){var C=g(t,y),_=g(n,y),S=w.get(_);if(S)i(t,y,S);else{var k=A?A(C,_,y+"",t,n,w):void 0,E=void 0===k;if(E){var M=c(_),I=!M&&d(_),T=!M&&!I&&m(_);k=_,M||I||T?c(C)?k=C:u(C)?k=o(C):I?(E=!1,k=r(_,!0)):T?(E=!1,k=s(_,!0)):k=[]:f(_)||l(_)?(k=C,l(C)?k=x(C):h(C)&&!p(C)||(k=a(_))):E=!1}E&&(w.set(_,k),b(k,_,v,A,w),w.delete(_)),i(t,y,k)}}}}),Mk=SN({"../../node_modules/lodash/_baseMerge.js"(t,n){var i=Er(),r=My(),s=Mb(),o=MS(),a=S9(),l=E5(),c=MC();n.exports=function t(n,u,d,p,h){n!==u&&s(u,function(s,l){if(h||(h=new i),a(s))o(n,u,l,d,t,p,h);else{var f=p?p(c(n,l),s,l+"",n,u,h):void 0;void 0===f&&(f=s),r(n,l,f)}},l)}}}),ME=SN({"../../node_modules/lodash/identity.js"(t,n){n.exports=function(t){return t}}}),MM=SN({"../../node_modules/lodash/_apply.js"(t,n){n.exports=function(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}}}),MI=SN({"../../node_modules/lodash/_overRest.js"(t,n){var i=MM(),r=Math.max;n.exports=function(t,n,s){return n=r(void 0===n?t.length-1:n,0),function(){for(var o=arguments,a=-1,l=r(o.length-n,0),c=Array(l);++a<l;)c[a]=o[n+a];a=-1;for(var u=Array(n+1);++a<n;)u[a]=o[a];return u[n]=s(c),i(t,this,u)}}}}),MT=SN({"../../node_modules/lodash/constant.js"(t,n){n.exports=function(t){return function(){return t}}}}),MB=SN({"../../node_modules/lodash/_baseSetToString.js"(t,n){var i=MT(),r=EK(),s=ME(),o=r?function(t,n){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(n),writable:!0})}:s;n.exports=o}}),ML=SN({"../../node_modules/lodash/_shortOut.js"(t,n){var i=Date.now;n.exports=function(t){var n=0,r=0;return function(){var s=i(),o=16-(s-r);if(r=s,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}}}),Mj=SN({"../../node_modules/lodash/_setToString.js"(t,n){var i=MB(),r=ML()(i);n.exports=r}}),MP=SN({"../../node_modules/lodash/_baseRest.js"(t,n){var i=ME(),r=MI(),s=Mj();n.exports=function(t,n){return s(r(t,n,i),t+"")}}}),MR=SN({"../../node_modules/lodash/_isIterateeCall.js"(t,n){var i=kj(),r=ED(),s=ES(),o=S9();n.exports=function(t,n,a){if(!o(a))return!1;var l=typeof n;return!!("number"==l?r(a)&&s(n,a.length):"string"==l&&n in a)&&i(a[n],t)}}}),MD=SN({"../../node_modules/lodash/_createAssigner.js"(t,n){var i=MP(),r=MR();n.exports=function(t){return i(function(n,i){var s=-1,o=i.length,a=o>1?i[o-1]:void 0,l=o>2?i[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,l&&r(i[0],i[1],l)&&(a=o<3?void 0:a,o=1),n=Object(n);++s<o;){var c=i[s];c&&t(n,c,s,a)}return n})}}}),MF=SN({"../../node_modules/lodash/mergeWith.js"(t,n){var i=Mk(),r=MD()(function(t,n,r,s){i(t,n,r,s)});n.exports=r}}),MO=SN({"../../node_modules/lodash/_baseRange.js"(t,n){var i=Math.ceil,r=Math.max;n.exports=function(t,n,s,o){for(var a=-1,l=r(i((n-t)/(s||1)),0),c=Array(l);l--;)c[o?l:++a]=t,t+=s;return c}}}),MN=SN({"../../node_modules/lodash/toFinite.js"(t,n){var i=kd(),r=1/0;n.exports=function(t){return t?(t=i(t))===r||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}}}),MU=SN({"../../node_modules/lodash/_createRange.js"(t,n){var i=MO(),r=MR(),s=MN();n.exports=function(t){return function(n,o,a){return a&&"number"!=typeof a&&r(n,o,a)&&(o=a=void 0),n=s(n),void 0===o?(o=n,n=0):o=s(o),a=void 0===a?n<o?1:-1:s(a),i(n,o,a,t)}}}}),MV=SN({"../../node_modules/lodash/range.js"(t,n){var i=MU()();n.exports=i}}),MH=SN({"../../node_modules/lodash/_baseFindIndex.js"(t,n){n.exports=function(t,n,i,r){for(var s=t.length,o=i+(r?1:-1);r?o--:++o<s;)if(n(t[o],o,t))return o;return -1}}}),MQ=SN({"../../node_modules/lodash/_baseIsNaN.js"(t,n){n.exports=function(t){return t!=t}}}),Mz=SN({"../../node_modules/lodash/_strictIndexOf.js"(t,n){n.exports=function(t,n,i){for(var r=i-1,s=t.length;++r<s;)if(t[r]===n)return r;return -1}}}),MG=SN({"../../node_modules/lodash/_baseIndexOf.js"(t,n){var i=MH(),r=MQ(),s=Mz();n.exports=function(t,n,o){return n==n?s(t,n,o):i(t,r,o)}}}),Mq=SN({"../../node_modules/lodash/_baseIndexOfWith.js"(t,n){n.exports=function(t,n,i,r){for(var s=i-1,o=t.length;++s<o;)if(r(t[s],n))return s;return -1}}}),MW=SN({"../../node_modules/lodash/_basePullAll.js"(t,n){var i=kE(),r=MG(),s=Mq(),o=EM(),a=E8(),l=Array.prototype.splice;n.exports=function(t,n,c,u){var d=u?s:r,p=-1,h=n.length,f=t;for(t===n&&(n=a(n)),c&&(f=i(t,o(c)));++p<h;)for(var m=0,g=n[p],x=c?c(g):g;(m=d(f,x,m,u))>-1;)f!==t&&l.call(f,m,1),l.call(t,m,1);return t}}}),M$=SN({"../../node_modules/lodash/pullAll.js"(t,n){var i=MW();n.exports=function(t,n){return t&&t.length&&n&&n.length?i(t,n):t}}}),MZ=SN({"../../node_modules/lodash/pull.js"(t,n){var i=MP()(M$());n.exports=i}}),MY=SN({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js"(t){var n=Sz(),i="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},r=n.useState,s=n.useEffect,o=n.useLayoutEffect,a=n.useDebugValue;function l(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!i(t,r)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var i=n(),c=r({inst:{value:i,getSnapshot:n}}),u=c[0].inst,d=c[1];return o(function(){u.value=i,u.getSnapshot=n,l(u)&&d({inst:u})},[t,i,n]),s(function(){return l(u)&&d({inst:u}),t(function(){l(u)&&d({inst:u})})},[t]),a(i),i};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c}}),MK=SN({"../../node_modules/use-sync-external-store/shim/index.js"(t,n){n.exports=MY()}}),MX=SN({"../../node_modules/lodash/_isFlattenable.js"(t,n){var i=ks(),r=Ew(),s=kM(),o=i?i.isConcatSpreadable:void 0;n.exports=function(t){return s(t)||r(t)||!!(o&&t&&t[o])}}}),MJ=SN({"../../node_modules/lodash/_baseFlatten.js"(t,n){var i=Em(),r=MX();n.exports=function t(n,s,o,a,l){var c=-1,u=n.length;for(o||(o=r),l||(l=[]);++c<u;){var d=n[c];s>0&&o(d)?s>1?t(d,s-1,o,a,l):i(l,d):a||(l[l.length]=d)}return l}}}),M0=SN({"../../node_modules/lodash/flatten.js"(t,n){var i=MJ();n.exports=function(t){return(null==t?0:t.length)?i(t,1):[]}}}),M1=SN({"../../node_modules/lodash/_baseIsMatch.js"(t,n){var i=Er(),r=Eq();n.exports=function(t,n,s,o){var a=s.length,l=a,c=!o;if(null==t)return!l;for(t=Object(t);a--;){var u=s[a];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<l;){var d=(u=s[a])[0],p=t[d],h=u[1];if(c&&u[2]){if(void 0===p&&!(d in t))return!1}else{var f=new i;if(o)var m=o(p,h,d,t,n,f);if(!(void 0===m?r(h,p,3,o,f):m))return!1}}return!0}}}),M2=SN({"../../node_modules/lodash/_isStrictComparable.js"(t,n){var i=S9();n.exports=function(t){return t==t&&!i(t)}}}),M3=SN({"../../node_modules/lodash/_getMatchData.js"(t,n){var i=M2(),r=EF();n.exports=function(t){for(var n=r(t),s=n.length;s--;){var o=n[s],a=t[o];n[s]=[o,a,i(a)]}return n}}}),M5=SN({"../../node_modules/lodash/_matchesStrictComparable.js"(t,n){n.exports=function(t,n){return function(i){return null!=i&&i[t]===n&&(void 0!==n||t in Object(i))}}}}),M4=SN({"../../node_modules/lodash/_baseMatches.js"(t,n){var i=M1(),r=M3(),s=M5();n.exports=function(t){var n=r(t);return 1==n.length&&n[0][2]?s(n[0][0],n[0][1]):function(r){return r===t||i(r,t,n)}}}}),M6=SN({"../../node_modules/lodash/_isKey.js"(t,n){var i=kM(),r=ku(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(t,n){if(i(t))return!1;var a=typeof t;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!r(t))||o.test(t)||!s.test(t)||null!=n&&t in Object(n)}}}),M8=SN({"../../node_modules/lodash/memoize.js"(t,n){var i=En();function r(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw TypeError("Expected a function");var s=function(){var i=arguments,r=n?n.apply(this,i):i[0],o=s.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return s.cache=o.set(r,a)||o,a};return s.cache=new(r.Cache||i),s}r.Cache=i,n.exports=r}}),M7=SN({"../../node_modules/lodash/_memoizeCapped.js"(t,n){var i=M8();n.exports=function(t){var n=i(t,function(t){return 500===r.size&&r.clear(),t}),r=n.cache;return n}}}),M9=SN({"../../node_modules/lodash/_stringToPath.js"(t,n){var i=M7(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=i(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(r,function(t,i,r,o){n.push(r?o.replace(s,"$1"):i||t)}),n});n.exports=o}}),Ie=SN({"../../node_modules/lodash/_castPath.js"(t,n){var i=kM(),r=M6(),s=M9(),o=kT();n.exports=function(t,n){return i(t)?t:r(t,n)?[t]:s(o(t))}}}),It=SN({"../../node_modules/lodash/_toKey.js"(t,n){var i=ku();n.exports=function(t){if("string"==typeof t||i(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}}),In=SN({"../../node_modules/lodash/_baseGet.js"(t,n){var i=Ie(),r=It();n.exports=function(t,n){for(var s=0,o=(n=i(n,t)).length;null!=t&&s<o;)t=t[r(n[s++])];return s&&s==o?t:void 0}}}),Ii=SN({"../../node_modules/lodash/get.js"(t,n){var i=In();n.exports=function(t,n,r){var s=null==t?void 0:i(t,n);return void 0===s?r:s}}}),Ir=SN({"../../node_modules/lodash/_baseHasIn.js"(t,n){n.exports=function(t,n){return null!=t&&n in Object(t)}}}),Is=SN({"../../node_modules/lodash/_hasPath.js"(t,n){var i=Ie(),r=Ew(),s=kM(),o=ES(),a=Ek(),l=It();n.exports=function(t,n,c){for(var u=-1,d=(n=i(n,t)).length,p=!1;++u<d;){var h=l(n[u]);if(!(p=null!=t&&c(t,h)))break;t=t[h]}return p||++u!=d?p:!!(d=null==t?0:t.length)&&a(d)&&o(h,d)&&(s(t)||r(t))}}}),Io=SN({"../../node_modules/lodash/hasIn.js"(t,n){var i=Ir(),r=Is();n.exports=function(t,n){return null!=t&&r(t,n,i)}}}),Ia=SN({"../../node_modules/lodash/_baseMatchesProperty.js"(t,n){var i=Eq(),r=Ii(),s=Io(),o=M6(),a=M2(),l=M5(),c=It();n.exports=function(t,n){return o(t)&&a(n)?l(c(t),n):function(o){var a=r(o,t);return void 0===a&&a===n?s(o,t):i(n,a,3)}}}}),Il=SN({"../../node_modules/lodash/_baseProperty.js"(t,n){n.exports=function(t){return function(n){return null==n?void 0:n[t]}}}}),Ic=SN({"../../node_modules/lodash/_basePropertyDeep.js"(t,n){var i=In();n.exports=function(t){return function(n){return i(n,t)}}}}),Iu=SN({"../../node_modules/lodash/property.js"(t,n){var i=Il(),r=Ic(),s=M6(),o=It();n.exports=function(t){return s(t)?i(o(t)):r(t)}}}),Id=SN({"../../node_modules/lodash/_baseIteratee.js"(t,n){var i=M4(),r=Ia(),s=ME(),o=kM(),a=Iu();n.exports=function(t){return"function"==typeof t?t:null==t?s:"object"==typeof t?o(t)?r(t[0],t[1]):i(t):a(t)}}}),Ip=SN({"../../node_modules/lodash/_arrayIncludes.js"(t,n){var i=MG();n.exports=function(t,n){return!!(null==t?0:t.length)&&i(t,n,0)>-1}}}),Ih=SN({"../../node_modules/lodash/_arrayIncludesWith.js"(t,n){n.exports=function(t,n,i){for(var r=-1,s=null==t?0:t.length;++r<s;)if(i(n,t[r]))return!0;return!1}}}),If=SN({"../../node_modules/lodash/_createSet.js"(t,n){var i=EH(),r=S1(),s=Eh(),o=i&&1/s(new i([,-0]))[1]==1/0?function(t){return new i(t)}:r;n.exports=o}}),Im=SN({"../../node_modules/lodash/_baseUniq.js"(t,n){var i=Ea(),r=Ip(),s=Ih(),o=Ec(),a=If(),l=Eh();n.exports=function(t,n,c){var u=-1,d=r,p=t.length,h=!0,f=[],m=f;if(c)h=!1,d=s;else if(p>=200){var g=n?null:a(t);if(g)return l(g);h=!1,d=o,m=new i}else m=n?[]:f;s:for(;++u<p;){var x=t[u],y=n?n(x):x;if(x=c||0!==x?x:0,h&&y==y){for(var v=m.length;v--;)if(m[v]===y)continue s;n&&m.push(y),f.push(x)}else d(m,y,c)||(m!==f&&m.push(y),f.push(x))}return f}}}),Ig=SN({"../../node_modules/lodash/uniqBy.js"(t,n){var i=Id(),r=Im();n.exports=function(t,n){return t&&t.length?r(t,i(n,2)):[]}}}),Ix=SN({"../../node_modules/lodash/unzip.js"(t,n){var i=Ex(),r=kE(),s=Il(),o=Eb(),a=MA(),l=Math.max;n.exports=function(t){if(!t||!t.length)return[];var n=0;return t=i(t,function(t){if(a(t))return n=l(t.length,n),!0}),o(n,function(n){return r(t,s(n))})}}}),Iy=SN({"../../node_modules/lodash/zip.js"(t,n){var i=MP()(Ix());n.exports=i}}),Iv=SN({"../../node_modules/lodash/_castFunction.js"(t,n){var i=ME();n.exports=function(t){return"function"==typeof t?t:i}}}),Ib=SN({"../../node_modules/lodash/toInteger.js"(t,n){var i=MN();n.exports=function(t){var n=i(t),r=n%1;return n==n?r?n-r:n:0}}}),IA=SN({"../../node_modules/lodash/times.js"(t,n){var i=Eb(),r=Iv(),s=Ib(),o=Math.min;n.exports=function(t,n){if((t=s(t))<1||t>9007199254740991)return[];var a=4294967295,l=o(t,4294967295);n=r(n),t-=4294967295;for(var c=i(l,n);++a<t;)n(a);return c}}}),Iw=SN({"../../node_modules/lodash/_baseForOwn.js"(t,n){var i=Mb(),r=EF();n.exports=function(t,n){return t&&i(t,n,r)}}}),IC=SN({"../../node_modules/lodash/_createBaseEach.js"(t,n){var i=ED();n.exports=function(t,n){return function(r,s){if(null==r)return r;if(!i(r))return t(r,s);for(var o=r.length,a=n?o:-1,l=Object(r);(n?a--:++a<o)&&!1!==s(l[a],a,l););return r}}}}),I_=SN({"../../node_modules/lodash/_baseEach.js"(t,n){var i=Iw(),r=IC()(i);n.exports=r}}),IS=SN({"../../node_modules/lodash/_baseMap.js"(t,n){var i=I_(),r=ED();n.exports=function(t,n){var s=-1,o=r(t)?Array(t.length):[];return i(t,function(t,i,r){o[++s]=n(t,i,r)}),o}}}),Ik=SN({"../../node_modules/lodash/_baseSortBy.js"(t,n){n.exports=function(t,n){var i=t.length;for(t.sort(n);i--;)t[i]=t[i].value;return t}}}),IE=SN({"../../node_modules/lodash/_compareAscending.js"(t,n){var i=ku();n.exports=function(t,n){if(t!==n){var r=void 0!==t,s=null===t,o=t==t,a=i(t),l=void 0!==n,c=null===n,u=n==n,d=i(n);if(!c&&!d&&!a&&t>n||a&&l&&u&&!c&&!d||s&&l&&u||!r&&u||!o)return 1;if(!s&&!a&&!d&&t<n||d&&r&&o&&!s&&!a||c&&r&&o||!l&&o||!u)return -1}return 0}}}),IM=SN({"../../node_modules/lodash/_compareMultiple.js"(t,n){var i=IE();n.exports=function(t,n,r){for(var s=-1,o=t.criteria,a=n.criteria,l=o.length,c=r.length;++s<l;){var u=i(o[s],a[s]);if(u)return s>=c?u:u*("desc"==r[s]?-1:1)}return t.index-n.index}}}),II=SN({"../../node_modules/lodash/_baseOrderBy.js"(t,n){var i=kE(),r=In(),s=Id(),o=IS(),a=Ik(),l=EM(),c=IM(),u=ME(),d=kM();n.exports=function(t,n,p){n=n.length?i(n,function(t){return d(t)?function(n){return r(n,1===t.length?t[0]:t)}:t}):[u];var h=-1;return n=i(n,l(s)),a(o(t,function(t,r,s){return{criteria:i(n,function(n){return n(t)}),index:++h,value:t}}),function(t,n){return c(t,n,p)})}}}),IT=SN({"../../node_modules/lodash/sortBy.js"(t,n){var i=MJ(),r=II(),s=MP(),o=MR(),a=s(function(t,n){if(null==t)return[];var s=n.length;return s>1&&o(t,n[0],n[1])?n=[]:s>2&&o(n[0],n[1],n[2])&&(n=[n[0]]),r(t,i(n,1),[])});n.exports=a}}),IB=SV(SH()),IL=SV(Sz()),Ij=SV(SH()),IP=SV(Sz()),IR=SV(SH()),ID=SV(Sz(),1),IF=SV(Sz(),1),IO=(0,SV(Sz(),1).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),IN=(0,SV(Sz(),1).createContext)({}),IU=SV(Sz(),1),IV=(0,SV(Sz(),1).createContext)(null),IH=SV(Sz(),1),IQ="undefined"!=typeof document,Iz=IQ?IH.useLayoutEffect:IH.useEffect,IG=(0,SV(Sz(),1).createContext)({strict:!1}),Iq=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IW="data-"+Iq("framerAppearId"),I$=class{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){let n=this.order.indexOf(t);-1!==n&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}},IZ=["prepare","read","update","preRender","render","postRender"];function IY(t,n){let i=!1,r=!0,s={delta:0,timestamp:0,isProcessing:!1},o=IZ.reduce((t,n)=>(t[n]=function(t){let n=new I$,i=new I$,r=0,s=!1,o=!1,a=new WeakSet,l={schedule:(t,o=!1,l=!1)=>{let c=l&&s,u=c?n:i;return o&&a.add(t),u.add(t)&&c&&s&&(r=n.order.length),t},cancel:t=>{i.remove(t),a.delete(t)},process:c=>{if(s)o=!0;else{if(s=!0,[n,i]=[i,n],i.clear(),r=n.order.length)for(let i=0;i<r;i++){let r=n.order[i];a.has(r)&&(l.schedule(r),t()),r(c)}s=!1,o&&(o=!1,l.process(c))}}};return l}(()=>i=!0),t),{}),a=t=>{o[t].process(s)},l=()=>{let o=performance.now();i=!1,s.delta=r?1e3/60:Math.max(Math.min(o-s.timestamp,40),1),s.timestamp=o,s.isProcessing=!0,IZ.forEach(a),s.isProcessing=!1,i&&n&&(r=!1,t(l))};return{schedule:IZ.reduce((n,a)=>{let c=o[a];return n[a]=(n,o=!1,a=!1)=>(i||(i=!0,r=!0,s.isProcessing||t(l)),c.schedule(n,o,a)),n},{}),cancel:t=>IZ.forEach(n=>o[n].cancel(t)),state:s,steps:o}}var{schedule:IK,cancel:IX}=IY(queueMicrotask,!1),IJ=SV(Sz(),1);function I0(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}var I1=SV(Sz(),1);function I2(t){return"string"==typeof t||Array.isArray(t)}function I3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}var I5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I4=["initial",...I5];function I6(t){return I3(t.animate)||I4.some(n=>I2(t[n]))}function I8(t){return!!(I6(t)||t.variants)}function I7(t){return Array.isArray(t)?t.join(" "):t}var I9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Te={};for(let t in I9)Te[t]={isEnabled:n=>I9[t].some(t=>!!n[t])};var Tt=(0,SV(Sz(),1).createContext)({}),Tn=(0,SV(Sz(),1).createContext)({}),Ti=Symbol.for("motionComponentSymbol"),Tr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ts(t){return"string"==typeof t&&!t.includes("-")&&!!(Tr.indexOf(t)>-1||/[A-Z]/.test(t))}var To=SV(Sz(),1),Ta=SV(Sz(),1),Tl={},Tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tu=new Set(Tc);function Td(t,{layout:n,layoutId:i}){return Tu.has(t)||t.startsWith("origin")||(n||void 0!==i)&&(!!Tl[t]||"opacity"===t)}var Tp=t=>!!(t&&t.getVelocity),Th={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tf=Tc.length,Tm=t=>n=>"string"==typeof n&&n.startsWith(t),Tg=Tm("--"),Tx=Tm("var(--"),Ty=(t,n)=>n&&"number"==typeof t?n.transform(t):t,Tv=(t,n,i)=>Math.min(Math.max(i,t),n),Tb={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},TA={...Tb,transform:t=>Tv(0,1,t)},Tw={...Tb,default:1},TC=t=>Math.round(1e5*t)/1e5,T_=/(-)?([\d]*\.?[\d])+/g,TS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Tk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function TE(t){return"string"==typeof t}var TM=t=>({test:n=>TE(n)&&n.endsWith(t)&&1===n.split(" ").length,parse:parseFloat,transform:n=>`${n}${t}`}),TI=TM("deg"),TT=TM("%"),TB=TM("px"),TL=TM("vh"),Tj=TM("vw"),TP={...TT,parse:t=>TT.parse(t)/100,transform:t=>TT.transform(100*t)},TR={...Tb,transform:Math.round},TD={borderWidth:TB,borderTopWidth:TB,borderRightWidth:TB,borderBottomWidth:TB,borderLeftWidth:TB,borderRadius:TB,radius:TB,borderTopLeftRadius:TB,borderTopRightRadius:TB,borderBottomRightRadius:TB,borderBottomLeftRadius:TB,width:TB,maxWidth:TB,height:TB,maxHeight:TB,size:TB,top:TB,right:TB,bottom:TB,left:TB,padding:TB,paddingTop:TB,paddingRight:TB,paddingBottom:TB,paddingLeft:TB,margin:TB,marginTop:TB,marginRight:TB,marginBottom:TB,marginLeft:TB,rotate:TI,rotateX:TI,rotateY:TI,rotateZ:TI,scale:Tw,scaleX:Tw,scaleY:Tw,scaleZ:Tw,skew:TI,skewX:TI,skewY:TI,distance:TB,translateX:TB,translateY:TB,translateZ:TB,x:TB,y:TB,z:TB,perspective:TB,transformPerspective:TB,opacity:TA,originX:TP,originY:TP,originZ:TB,zIndex:TR,fillOpacity:TA,strokeOpacity:TA,numOctaves:TR};function TF(t,n,i,r){let{style:s,vars:o,transform:a,transformOrigin:l}=t,c=!1,u=!1,d=!0;for(let t in n){let i=n[t];if(Tg(t)){o[t]=i;continue}let r=TD[t],p=Ty(i,r);if(Tu.has(t)){if(c=!0,a[t]=p,!d)continue;i!==(r.default||0)&&(d=!1)}else t.startsWith("origin")?(u=!0,l[t]=p):s[t]=p}if(n.transform||(c||r?s.transform=function(t,{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},r,s){let o="";for(let n=0;n<Tf;n++){let i=Tc[n];void 0!==t[i]&&(o+=`${Th[i]||i}(${t[i]}) `)}return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):i&&r&&(o="none"),o}(t.transform,i,d,r):s.transform&&(s.transform="none")),u){let{originX:t="50%",originY:n="50%",originZ:i=0}=l;s.transformOrigin=`${t} ${n} ${i}`}}var TO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TN(t,n,i){for(let r in n)Tp(n[r])||Td(r,i)||(t[r]=n[r])}var TU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function TV(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TU.has(t)}var TH,TQ,Tz,TG,Tq,TW,T$,TZ,TY,TK,TX,TJ,T0,T1,T2,T3,T5,T4,T6,T8,T7,T9,Be,Bt,Bn,Bi,Br,Bs,Bo,Ba,Bl,Bc,Bu,Bd,Bp,Bh,Bf,Bm,Bg,Bx,By,Bv,Bb,BA,Bw,BC,B_,BS,Bk,BE=t=>!TV(t);try{(Bk=Sq().default)&&(BE=t=>t.startsWith("on")?!TV(t):Bk(t))}catch(t){}var BM=SV(Sz(),1);function BI(t,n,i){return"string"==typeof t?t:TB.transform(n+i*t)}var BT={offset:"stroke-dashoffset",array:"stroke-dasharray"},BB={offset:"strokeDashoffset",array:"strokeDasharray"};function BL(t,{attrX:n,attrY:i,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,p,h){var f,m;if(TF(t,u,d,h),p)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};let{attrs:g,style:x,dimensions:y}=t;g.transform&&(y&&(x.transform=g.transform),delete g.transform),y&&(void 0!==s||void 0!==o||x.transform)&&(x.transformOrigin=(f=void 0!==s?s:.5,m=void 0!==o?o:.5,`${BI(f,y.x,y.width)} ${BI(m,y.y,y.height)}`)),void 0!==n&&(g.x=n),void 0!==i&&(g.y=i),void 0!==r&&(g.scale=r),void 0!==a&&function(t,n,i=1,r=0,s=!0){t.pathLength=1;let o=s?BT:BB;t[o.offset]=TB.transform(-r);let a=TB.transform(n),l=TB.transform(i);t[o.array]=`${a} ${l}`}(g,a,l,c,!1)}var Bj=()=>({...TO(),attrs:{}}),BP=t=>"string"==typeof t&&"svg"===t.toLowerCase();function BR(t,{style:n,vars:i},r,s){for(let o in Object.assign(t.style,n,s&&s.getProjectionStyles(r)),i)t.style.setProperty(o,i[o])}var BD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BF(t,n,i,r){for(let i in BR(t,n,void 0,r),n.attrs)t.setAttribute(BD.has(i)?i:Iq(i),n.attrs[i])}function BO(t,n){let{style:i}=t,r={};for(let s in i)(Tp(i[s])||n.style&&Tp(n.style[s])||Td(s,t))&&(r[s]=i[s]);return r}function BN(t,n){let i=BO(t,n);for(let r in t)(Tp(t[r])||Tp(n[r]))&&(i[-1!==Tc.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]);return i}var BU=SV(Sz(),1);function BV(t,n,i,r={},s={}){return"function"==typeof n&&(n=n(void 0!==i?i:t.custom,r,s)),"string"==typeof n&&(n=t.variants&&t.variants[n]),"function"==typeof n&&(n=n(void 0!==i?i:t.custom,r,s)),n}var BH=SV(Sz(),1);function BQ(t){let n=(0,BH.useRef)(null);return null===n.current&&(n.current=t()),n.current}var Bz=t=>Array.isArray(t),BG=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),Bq=t=>Bz(t)?t[t.length-1]||0:t;function BW(t){let n=Tp(t)?t.get():t;return BG(n)?n.toValue():n}var B$=t=>(n,i)=>{let r=(0,BU.useContext)(IN),s=(0,BU.useContext)(IV),o=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:n,onMount:i},r,s,o){let a={latestValues:function(t,n,i,r){let s={},o=r(t,{});for(let t in o)s[t]=BW(o[t]);let{initial:a,animate:l}=t,c=I6(t),u=I8(t);n&&u&&!c&&!1!==t.inherit&&(void 0===a&&(a=n.initial),void 0===l&&(l=n.animate));let d=!!i&&!1===i.initial,p=(d=d||!1===a)?l:a;return p&&"boolean"!=typeof p&&!I3(p)&&(Array.isArray(p)?p:[p]).forEach(n=>{let i=BV(t,n);if(!i)return;let{transitionEnd:r,transition:o,...a}=i;for(let t in a){let n=a[t];Array.isArray(n)&&(n=n[d?n.length-1:0]),null!==n&&(s[t]=n)}for(let t in r)s[t]=r[t]}),s}(r,s,o,t),renderState:n()};return i&&(a.mount=t=>i(r,t,a)),a})(t,n,r,s);return i?o():BQ(o)},BZ=t=>t,{schedule:BY,cancel:BK,state:BX,steps:BJ}=IY("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:BZ,!0),B0={useVisualState:B$({scrapeMotionValuesFromProps:BN,createRenderState:Bj,onMount:(t,n,{renderState:i,latestValues:r})=>{BY.read(()=>{try{i.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(t){i.dimensions={x:0,y:0,width:0,height:0}}}),BY.render(()=>{BL(i,r,{enableHardwareAcceleration:!1},BP(n.tagName),t.transformTemplate),BF(n,i)})}})},B1={useVisualState:B$({scrapeMotionValuesFromProps:BO,createRenderState:TO})};function B2(t,n,i,r={passive:!0}){return t.addEventListener(n,i,r),()=>t.removeEventListener(n,i)}var B3=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function B5(t,n="page"){return{point:{x:t[n+"X"],y:t[n+"Y"]}}}var B4=t=>n=>B3(n)&&t(n,B5(n));function B6(t,n,i,r){return B2(t,n,B4(i),r)}var B8=(t,n)=>i=>n(t(i)),B7=(...t)=>t.reduce(B8);function B9(t){let n=null;return()=>null===n&&(n=t,()=>{n=null})}var Le=B9("dragHorizontal"),Lt=B9("dragVertical");function Ln(t){let n=!1;if("y"===t)n=Lt();else if("x"===t)n=Le();else{let t=Le(),i=Lt();t&&i?n=()=>{t(),i()}:(t&&t(),i&&i())}return n}function Li(){let t=Ln(!0);return!t||(t(),!1)}var Lr=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function Ls(t,n){let i="onHover"+(n?"Start":"End");return B6(t.current,"pointer"+(n?"enter":"leave"),(r,s)=>{if("touch"===r.pointerType||Li())return;let o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",n),o[i]&&BY.update(()=>o[i](r,s))},{passive:!t.getProps()[i]})}var Lo=(t,n)=>!!n&&(t===n||Lo(t,n.parentElement));function La(t,n){if(!n)return;let i=new PointerEvent("pointer"+t);n(i,B5(i))}var Ll=new WeakMap,Lc=new WeakMap,Lu=t=>{let n=Ll.get(t.target);n&&n(t)},Ld=t=>{t.forEach(Lu)},Lp={some:0,all:1};function Lh(t,n){if(!Array.isArray(n))return!1;let i=n.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(n[r]!==t[r])return!1;return!0}function Lf(t,n,i){let r=t.getProps();return BV(r,n,void 0!==i?i:r.custom,function(t){let n={};return t.values.forEach((t,i)=>n[i]=t.get()),n}(t),function(t){let n={};return t.values.forEach((t,i)=>n[i]=t.getVelocity()),n}(t))}var Lm=t=>1e3*t,Lg=t=>t/1e3,Lx=t=>Array.isArray(t)&&"number"==typeof t[0],Ly=([t,n,i,r])=>`cubic-bezier(${t}, ${n}, ${i}, ${r})`,Lv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ly([0,.65,.55,1]),circOut:Ly([.55,0,1,.45]),backIn:Ly([.31,.01,.66,-.59]),backOut:Ly([.33,1.53,.69,.99])},Lb=(t,n,i)=>(((1-3*i+3*n)*t+(3*i-6*n))*t+3*n)*t;function LA(t,n,i,r){if(t===n&&i===r)return BZ;let s=n=>(function(t,n,i,r,s){let o,a,l=0;do(o=Lb(a=n+(i-n)/2,r,s)-t)>0?i=a:n=a;while(Math.abs(o)>1e-7&&++l<12);return a})(n,0,1,t,i);return t=>0===t||1===t?t:Lb(s(t),n,r)}var Lw=LA(.42,0,1,1),LC=LA(0,0,.58,1),L_=LA(.42,0,.58,1),LS=t=>Array.isArray(t)&&"number"!=typeof t[0],Lk=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,LE=t=>n=>1-t(1-n),LM=t=>1-Math.sin(Math.acos(t)),LI=LE(LM),LT=Lk(LM),LB=LA(.33,1.53,.69,.99),LL=LE(LB),Lj=Lk(LL),LP={linear:BZ,easeIn:Lw,easeInOut:L_,easeOut:LC,circIn:LM,circInOut:LT,circOut:LI,backIn:LL,backInOut:Lj,backOut:LB,anticipate:t=>(t*=2)<1?.5*LL(t):.5*(2-Math.pow(2,-10*(t-1)))},LR=t=>{if(Array.isArray(t)){BZ(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[n,i,r,s]=t;return LA(n,i,r,s)}return"string"==typeof t?(BZ(void 0!==LP[t],`Invalid easing type '${t}'`),LP[t]):t},LD=(t,n)=>i=>!!(TE(i)&&Tk.test(i)&&i.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(i,n)),LF=(t,n,i)=>r=>{if(!TE(r))return r;let[s,o,a,l]=r.match(T_);return{[t]:parseFloat(s),[n]:parseFloat(o),[i]:parseFloat(a),alpha:void 0!==l?parseFloat(l):1}},LO={...Tb,transform:t=>Math.round(Tv(0,255,t))},LN={test:LD("rgb","red"),parse:LF("red","green","blue"),transform:({red:t,green:n,blue:i,alpha:r=1})=>"rgba("+LO.transform(t)+", "+LO.transform(n)+", "+LO.transform(i)+", "+TC(TA.transform(r))+")"},LU={test:LD("#"),parse:function(t){let n="",i="",r="",s="";return t.length>5?(n=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(n=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),n+=n,i+=i,r+=r,s+=s),{red:parseInt(n,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:LN.transform},LV={test:LD("hsl","hue"),parse:LF("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+TT.transform(TC(n))+", "+TT.transform(TC(i))+", "+TC(TA.transform(r))+")"},LH={test:t=>LN.test(t)||LU.test(t)||LV.test(t),parse:t=>LN.test(t)?LN.parse(t):LV.test(t)?LV.parse(t):LU.parse(t),transform:t=>TE(t)?t:t.hasOwnProperty("red")?LN.transform(t):LV.transform(t)},LQ=(t,n,i)=>-i*t+i*n+t;function Lz(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(n-t)*i:i<.5?n:i<2/3?t+(n-t)*(2/3-i)*6:t}var LG=(t,n,i)=>{let r=t*t;return Math.sqrt(Math.max(0,i*(n*n-r)+r))},Lq=[LU,LN,LV];function LW(t){let n=Lq.find(n=>n.test(t));BZ(!!n,`'${t}' is not an animatable color. Use the equivalent color code instead.`);let i=n.parse(t);return n===LV&&(i=function({hue:t,saturation:n,lightness:i,alpha:r}){t/=360,i/=100;let s=0,o=0,a=0;if(n/=100){let r=i<.5?i*(1+n):i+n-i*n,l=2*i-r;s=Lz(l,r,t+1/3),o=Lz(l,r,t),a=Lz(l,r,t-1/3)}else s=o=a=i;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(i)),i}var L$=(t,n)=>{let i=LW(t),r=LW(n),s={...i};return t=>(s.red=LG(i.red,r.red,t),s.green=LG(i.green,r.green,t),s.blue=LG(i.blue,r.blue,t),s.alpha=LQ(i.alpha,r.alpha,t),LN.transform(s))},LZ={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:BZ},LY={regex:TS,countKey:"Colors",token:"${c}",parse:LH.parse},LK={regex:T_,countKey:"Numbers",token:"${n}",parse:Tb.parse};function LX(t,{regex:n,countKey:i,token:r,parse:s}){let o=t.tokenised.match(n);o&&(t["num"+i]=o.length,t.tokenised=t.tokenised.replace(n,r),t.values.push(...o.map(s)))}function LJ(t){let n=t.toString(),i={value:n,tokenised:n,values:[],numVars:0,numColors:0,numNumbers:0};return i.value.includes("var(--")&&LX(i,LZ),LX(i,LY),LX(i,LK),i}function L0(t){return LJ(t).values}function L1(t){let{values:n,numColors:i,numVars:r,tokenised:s}=LJ(t),o=n.length;return t=>{let n=s;for(let s=0;s<o;s++)n=s<r?n.replace(LZ.token,t[s]):s<r+i?n.replace(LY.token,LH.transform(t[s])):n.replace(LK.token,TC(t[s]));return n}}var L2=t=>"number"==typeof t?0:t,L3={test:function(t){var n,i;return isNaN(t)&&TE(t)&&((null===(n=t.match(T_))||void 0===n?void 0:n.length)||0)+((null===(i=t.match(TS))||void 0===i?void 0:i.length)||0)>0},parse:L0,createTransformer:L1,getAnimatableNone:function(t){let n=L0(t);return L1(t)(n.map(L2))}},L5=(t,n)=>i=>`${i>0?n:t}`;function L4(t,n){return"number"==typeof t?i=>LQ(t,n,i):LH.test(t)?L$(t,n):t.startsWith("var(")?L5(t,n):L7(t,n)}var L6=(t,n)=>{let i=[...t],r=i.length,s=t.map((t,i)=>L4(t,n[i]));return t=>{for(let n=0;n<r;n++)i[n]=s[n](t);return i}},L8=(t,n)=>{let i={...t,...n},r={};for(let s in i)void 0!==t[s]&&void 0!==n[s]&&(r[s]=L4(t[s],n[s]));return t=>{for(let n in r)i[n]=r[n](t);return i}},L7=(t,n)=>{let i=L3.createTransformer(n),r=LJ(t),s=LJ(n);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?B7(L6(r.values,s.values),i):(BZ(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),L5(t,n))},L9=(t,n,i)=>{let r=n-t;return 0===r?1:(i-t)/r},je=(t,n)=>i=>LQ(t,n,i);function jt(t,n,{clamp:i=!0,ease:r,mixer:s}={}){let o=t.length;if(BZ(o===n.length,"Both input and output ranges must be the same length"),1===o)return()=>n[0];t[0]>t[o-1]&&(t=[...t].reverse(),n=[...n].reverse());let a=function(t,n,i){var r;let s=[],o=i||("number"==typeof(r=t[0])?je:"string"==typeof r?LH.test(r)?L$:L7:Array.isArray(r)?L6:"object"==typeof r?L8:je),a=t.length-1;for(let i=0;i<a;i++){let r=o(t[i],t[i+1]);n&&(r=B7(Array.isArray(n)?n[i]||BZ:n,r)),s.push(r)}return s}(n,r,s),l=a.length,c=n=>{let i=0;if(l>1)for(;i<t.length-2&&!(n<t[i+1]);i++);let r=L9(t[i],t[i+1],n);return a[i](r)};return i?n=>c(Tv(t[0],t[o-1],n)):c}function jn(t,n){let i=t[t.length-1];for(let r=1;r<=n;r++){let s=L9(0,n,r);t.push(LQ(i,1,s))}}function ji(t){let n=[0];return jn(n,t.length-1),n}function jr({duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}){let s=LS(r)?r.map(LR):LR(r),o={done:!1,value:n[0]},a=jt((i&&i.length===n.length?i:ji(n)).map(n=>n*t),n,{ease:Array.isArray(s)?s:n.map(()=>s||L_).splice(0,n.length-1)});return{calculatedDuration:t,next:n=>(o.value=a(n),o.done=n>=t,o)}}function js(t,n,i){var r,s;let o=Math.max(n-5,0);return r=i-t(o),(s=n-o)?1e3/s*r:0}function jo(t,n){return t*Math.sqrt(1-n*n)}var ja,jl=["duration","bounce"],jc=["stiffness","damping","mass"];function ju(t,n){return n.some(n=>void 0!==t[n])}function jd({keyframes:t,restDelta:n,restSpeed:i,...r}){let s;let o=t[0],a=t[t.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:p,velocity:h,isResolvedFromDuration:f}=function(t){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ju(t,jc)&&ju(t,jl)){let i=function({duration:t=800,bounce:n=.25,velocity:i=0,mass:r=1}){let s,o;BZ(t<=Lm(10),"Spring duration must be 10 seconds or less");let a=1-n;a=Tv(.05,1,a),t=Tv(.01,10,Lg(t)),a<1?(s=n=>{let r=n*a,s=r*t;return .001-(r-i)/jo(n,a)*Math.exp(-s)},o=n=>{let r=n*a*t,o=Math.pow(a,2)*Math.pow(n,2)*t,l=jo(Math.pow(n,2),a);return(-s(n)+.001>0?-1:1)*((r*i+i-o)*Math.exp(-r))/l}):(s=n=>Math.exp(-n*t)*((n-i)*t+1)-.001,o=n=>t*t*(i-n)*Math.exp(-n*t));let l=function(t,n,i){let r=i;for(let i=1;i<12;i++)r-=t(r)/n(r);return r}(s,o,5/t);if(t=Lm(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{let n=Math.pow(l,2)*r;return{stiffness:n,damping:2*a*Math.sqrt(r*n),duration:t}}}(t);(n={...n,...i,mass:1}).isResolvedFromDuration=!0}return n}({...r,velocity:-Lg(r.velocity||0)}),m=h||0,g=u/(2*Math.sqrt(c*d)),x=a-o,y=Lg(Math.sqrt(c/d)),v=5>Math.abs(x);if(i||(i=v?.01:2),n||(n=v?.005:.5),g<1){let t=jo(y,g);s=n=>a-Math.exp(-g*y*n)*((m+g*y*x)/t*Math.sin(t*n)+x*Math.cos(t*n))}else if(1===g)s=t=>a-Math.exp(-y*t)*(x+(m+y*x)*t);else{let t=y*Math.sqrt(g*g-1);s=n=>{let i=Math.exp(-g*y*n),r=Math.min(t*n,300);return a-i*((m+g*y*x)*Math.sinh(r)+t*x*Math.cosh(r))/t}}return{calculatedDuration:f&&p||null,next:t=>{let r=s(t);if(f)l.done=t>=p;else{let o=m;0!==t&&(o=g<1?js(s,t,r):0);let c=Math.abs(o)<=i,u=Math.abs(a-r)<=n;l.done=c&&u}return l.value=l.done?a:r,l}}}function jp({keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){let p,h;let f=t[0],m={done:!1,value:f},g=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c,x=i*n,y=f+x,v=void 0===a?y:a(y);v!==y&&(x=v-f);let b=t=>-x*Math.exp(-t/r),A=t=>v+b(t),w=t=>{let n=b(t),i=A(t);m.done=Math.abs(n)<=u,m.value=m.done?v:i},C=t=>{var n;n=m.value,(void 0!==l&&n<l||void 0!==c&&n>c)&&(p=t,h=jd({keyframes:[m.value,g(m.value)],velocity:js(A,t,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:t=>{let n=!1;return h||void 0!==p||(n=!0,w(t),C(t)),void 0!==p&&t>p?h.next(t-p):(n||w(t),m)}}}function jh(){ja=void 0}var jf={now:()=>(void 0===ja&&jf.set(BX.isProcessing?BX.timestamp:performance.now()),ja),set:t=>{ja=t,queueMicrotask(jh)}},jm=t=>{let n=({timestamp:n})=>t(n);return{start:()=>BY.update(n,!0),stop:()=>BK(n),now:()=>BX.isProcessing?BX.timestamp:jf.now()}};function jg(t){let n=0,i=t.next(n);for(;!i.done&&n<2e4;)n+=50,i=t.next(n);return n>=2e4?1/0:n}var jx={decay:jp,inertia:jp,tween:jr,keyframes:jr,spring:jd};function jy({autoplay:t=!0,delay:n=0,driver:i=jm,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:p,...h}){let f,m,g,x,y,v=1,b=!1,A=()=>{y=new Promise(t=>{x=t})};A();let w=jx[s]||jr;w!==jr&&"number"!=typeof r[0]&&(m=jt([0,100],r,{clamp:!1}),r=[0,100]);let C=w({...h,keyframes:r});"mirror"===l&&(g=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",S=null,k=null,E=null;null===C.calculatedDuration&&o&&(C.calculatedDuration=jg(C));let{calculatedDuration:M}=C,I=1/0,T=1/0;null!==M&&(T=(I=M+a)*(o+1)-a);let B=0,L=t=>{if(null===k)return;v>0&&(k=Math.min(k,t)),v<0&&(k=Math.min(t-T/v,k));let i=(B=null!==S?S:Math.round(t-k)*v)-n*(v>=0?1:-1),s=v>=0?i<0:i>T;B=Math.max(i,0),"finished"===_&&null===S&&(B=T);let c=B,u=C;if(o){let t=Math.min(B,T)/I,n=Math.floor(t),i=t%1;!i&&t>=1&&(i=1),1===i&&n--,(n=Math.min(n,o+1))%2&&("reverse"===l?(i=1-i,a&&(i-=a/I)):"mirror"===l&&(u=g)),c=Tv(0,1,i)*I}let d=s?{done:!1,value:r[0]}:u.next(c);m&&(d.value=m(d.value));let{done:h}=d;s||null===M||(h=v>=0?B>=T:B<=0);let f=null===S&&("finished"===_||"running"===_&&h);return p&&p(d.value),f&&R(),d},j=()=>{f&&f.stop(),f=void 0},P=()=>{_="idle",j(),x(),A(),k=E=null},R=()=>{_="finished",d&&d(),j(),x()},D=()=>{if(b)return;f||(f=i(L));let t=f.now();c&&c(),null!==S?k=t-S:k&&"finished"!==_||(k=t),"finished"===_&&A(),E=k,S=null,_="running",f.start()};t&&D();let F={then:(t,n)=>y.then(t,n),get time(){return Lg(B)},set time(e){B=e=Lm(e),null===S&&f&&0!==v?k=f.now()-e/v:S=e},get duration(){return Lg(null===C.calculatedDuration?jg(C):C.calculatedDuration)},get speed(){return v},set speed(e){e!==v&&f&&(v=e,F.time=Lg(B))},get state(){return _},play:D,pause:()=>{_="paused",S=B},stop:()=>{b=!0,"idle"!==_&&(_="idle",u&&u(),P())},cancel:()=>{null!==E&&L(E),P()},complete:()=>{_="finished"},sample:t=>(k=0,L(t))};return F}function jv(t){let n;return()=>(void 0===n&&(n=t()),n)}var jb=jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jw={type:"spring",stiffness:500,damping:25,restSpeed:10},jC={type:"keyframes",duration:.8},j_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jS=(t,{keyframes:n})=>n.length>2?jC:Tu.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:jw:j_,jk=(t,n)=>"zIndex"!==t&&(!("number"!=typeof n&&!Array.isArray(n))||!("string"!=typeof n||!L3.test(n)&&"0"!==n||n.startsWith("url("))),jE=new Set(["brightness","contrast","saturate","opacity"]);function jM(t){let[n,i]=t.slice(0,-1).split("(");if("drop-shadow"===n)return t;let[r]=i.match(T_)||[];if(!r)return t;let s=i.replace(r,""),o=jE.has(n)?1:0;return r!==i&&(o*=100),n+"("+o+s+")"}var jI=/([a-z-]*)\(.*?\)/g,jT={...L3,getAnimatableNone:t=>{let n=t.match(jI);return n?n.map(jM).join(" "):t}},jB={...TD,color:LH,backgroundColor:LH,outlineColor:LH,fill:LH,stroke:LH,borderColor:LH,borderTopColor:LH,borderRightColor:LH,borderBottomColor:LH,borderLeftColor:LH,filter:jT,WebkitFilter:jT},jL=t=>jB[t];function jj(t,n){let i=jL(t);return i!==jT&&(i=L3),i.getAnimatableNone?i.getAnimatableNone(n):void 0}var jP=t=>/^0[^.\s]+$/.test(t);function jR(t,n){return t[n]||t.default||t}var jD=(t,n,i,r={})=>s=>{let o=jR(r,t)||{},a=o.delay||r.delay||0,{elapsed:l=0}=r;l-=Lm(a);let c=function(t,n,i,r){let s,o;let a=jk(n,i);s=Array.isArray(i)?[...i]:[null,i];let l=void 0!==r.from?r.from:t.get(),c=[];for(let t=0;t<s.length;t++){var u;null===s[t]&&(s[t]=0===t?l:s[t-1]),("number"==typeof(u=s[t])?0===u:null!==u?"none"===u||"0"===u||jP(u):void 0)&&c.push(t),"string"==typeof s[t]&&"none"!==s[t]&&"0"!==s[t]&&(o=s[t])}if(a&&c.length&&o)for(let t=0;t<c.length;t++)s[c[t]]=jj(n,o);return s}(n,t,i,o),u=c[0],d=c[c.length-1],p=jk(t,u),h=jk(t,d);BZ(p===h,`You are trying to animate ${t} from "${u}" to "${d}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${d} via the \`style\` property.`);let f={keyframes:c,velocity:n.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:t=>{n.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(function({when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}(o)||(f={...f,...jS(t,f)}),f.duration&&(f.duration=Lm(f.duration)),f.repeatDelay&&(f.repeatDelay=Lm(f.repeatDelay)),!p||!h||!1===o.type)return function({keyframes:t,delay:n,onUpdate:i,onComplete:r}){let s=()=>(i&&i(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:BZ,pause:BZ,stop:BZ,then:t=>(t(),Promise.resolve()),cancel:BZ,complete:BZ});return n?jy({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(f);if(!r.isHandoff&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate){let i=function(t,n,{onUpdate:i,onComplete:r,...s}){if(!(jb()&&jA.has(n)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,c=!1,u=()=>{a=new Promise(t=>{o=t})};u();let{keyframes:d,duration:p=300,ease:h,times:f}=s;if("spring"===s.type||"backgroundColor"===n||!function t(n){return!!(!n||"string"==typeof n&&Lv[n]||Lx(n)||Array.isArray(n)&&n.every(t))}(s.ease)){let t=jy({...s,repeat:0,delay:0}),n={done:!1,value:d[0]},i=[],r=0;for(;!n.done&&r<2e4;)n=t.sample(r),i.push(n.value),r+=10;f=void 0,d=i,p=r-10,h="linear"}let m=function(t,n,i,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){let u={[n]:i};c&&(u.offset=c);let d=function t(n){if(n)return Lx(n)?Ly(n):Array.isArray(n)?n.map(t):Lv[n]}(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(t.owner.current,n,d,{...s,duration:p,ease:h,times:f}),g=()=>{c=!1,m.cancel()},x=()=>{c=!0,BY.update(g),o(),u()};return m.onfinish=()=>{c||(t.set(function(t,{repeat:n,repeatType:i="loop"}){return t[n&&"loop"!==i&&n%2==1?0:t.length-1]}(d,s)),r&&r(),x())},{then:(t,n)=>a.then(t,n),attachTimeline:t=>(m.timeline=t,m.onfinish=null,BZ),get time(){return Lg(m.currentTime||0)},set time(e){m.currentTime=Lm(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Lg(p)},play:()=>{l||(m.play(),BK(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;let{currentTime:n}=m;if(n){let i=jy({...s,autoplay:!1});t.setWithVelocity(i.sample(n-10).value,i.sample(n).value,10)}x()},complete:()=>{c||m.finish()},cancel:x}}(n,t,f);if(i)return i}return jy(f)};function jF(t){return!!(Tp(t)&&t.add)}var jO=t=>/^\-?\d*\.?\d+$/.test(t);function jN(t,n){-1===t.indexOf(n)&&t.push(n)}function jU(t,n){let i=t.indexOf(n);i>-1&&t.splice(i,1)}var jV=class{constructor(){this.subscriptions=[]}add(t){return jN(this.subscriptions,t),()=>jU(this.subscriptions,t)}notify(t,n,i){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){let r=this.subscriptions[s];r&&r(t,n,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},jH={current:void 0},jQ=class{constructor(t,n={}){this.version="11.0.3",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,n=!0)=>{let i=jf.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=!isNaN(parseFloat(this.current)),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=jf.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jV);let i=this.events[t].add(n);return"change"===t?()=>{i(),BY.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){n&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,n)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return jH.current&&jH.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let n=jf.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||n-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*t:0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function jz(t,n){return new jQ(t,n)}var jG=t=>n=>n.test(t),jq=[Tb,TB,TT,TI,Tj,TL,{test:t=>"auto"===t,parse:t=>t}],jW=t=>jq.find(jG(t)),j$=[...jq,LH,L3];function jZ(t,n,{delay:i=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(n),c=t.getValue("willChange");r&&(o=r);let u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(let n in l){let r=t.getValue(n),s=l[n];if(!r||void 0===s||d&&function({protectedKeys:t,needsAnimating:n},i){let r=t.hasOwnProperty(i)&&!0!==n[i];return n[i]=!1,r}(d,n))continue;let a={delay:i,elapsed:0,...jR(o||{},n)};if(window.HandoffAppearAnimations){let i=t.getProps()[IW];if(i){let t=window.HandoffAppearAnimations(i,n,r,BY);null!==t&&(a.elapsed=t,a.isHandoff=!0)}}let p=!a.isHandoff&&!function(t,n){let i=t.get();if(!Array.isArray(n))return i!==n;for(let t=0;t<n.length;t++)if(n[t]!==i)return!0}(r,s);if("spring"===a.type&&(r.getVelocity()||a.velocity)&&(p=!1),r.animation&&(p=!1),p)continue;r.start(jD(n,r,s,t.shouldReduceMotion&&Tu.has(n)?{type:!1}:a));let h=r.animation;jF(c)&&(c.add(n),h.then(()=>c.remove(n))),u.push(h)}return a&&Promise.all(u).then(()=>{a&&function(t,n){let i=Lf(t,n),{transitionEnd:r={},transition:s={},...o}=i?t.makeTargetAnimatable(i,!1):{};for(let n in o={...o,...r}){var a;a=Bq(o[n]),t.hasValue(n)?t.getValue(n).set(a):t.addValue(n,jz(a))}}(t,a)}),u}function jY(t,n,i={}){let r=Lf(t,n,i.custom),{transition:s=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);let o=r?()=>Promise.all(jZ(t,r,i)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(r=0)=>{let{delayChildren:o=0,staggerChildren:a,staggerDirection:l}=s;return function(t,n,i=0,r=0,s=1,o){let a=[],l=(t.variantChildren.size-1)*r,c=1===s?(t=0)=>t*r:(t=0)=>l-t*r;return Array.from(t.variantChildren).sort(jK).forEach((t,r)=>{t.notify("AnimationStart",n),a.push(jY(t,n,{...o,delay:i+c(r)}).then(()=>t.notify("AnimationComplete",n)))}),Promise.all(a)}(t,n,o+r,a,l,i)}:()=>Promise.resolve(),{when:l}=s;if(l){let[t,n]="beforeChildren"===l?[o,a]:[a,o];return t().then(()=>n())}return Promise.all([o(),a(i.delay)])}function jK(t,n){return t.sortNodePosition(n)}var jX=[...I5].reverse(),jJ=I5.length;function j0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var j1=0,j2=(t,n)=>Math.abs(t-n),j3=class{constructor(t,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;let t=j6(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,i=function(t,n){return Math.sqrt(j2(t.x,n.x)**2+j2(t.y,n.y)**2)}(t.offset,{x:0,y:0})>=3;if(!n&&!i)return;let{point:r}=t,{timestamp:s}=BX;this.history.push({...r,timestamp:s});let{onStart:o,onMove:a}=this.handlers;n||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,n)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=j5(n,this.transformPagePoint),BY.update(this.updatePoint,!0)},this.handlePointerUp=(t,n)=>{this.end();let{onEnd:i,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;let o=j6("pointercancel"===t.type?this.lastMoveEventInfo:j5(n,this.transformPagePoint),this.history);this.startEvent&&i&&i(t,o),r&&r(t,o)},!B3(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;let o=j5(B5(t),this.transformPagePoint),{point:a}=o,{timestamp:l}=BX;this.history=[{...a,timestamp:l}];let{onSessionStart:c}=n;c&&c(t,j6(o,this.history)),this.removeListeners=B7(B6(this.contextWindow,"pointermove",this.handlePointerMove),B6(this.contextWindow,"pointerup",this.handlePointerUp),B6(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),BK(this.updatePoint)}};function j5(t,n){return n?{point:n(t.point)}:t}function j4(t,n){return{x:t.x-n.x,y:t.y-n.y}}function j6({point:t},n){return{point:t,delta:j4(t,j8(n)),offset:j4(t,n[0]),velocity:function(t,n){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null,s=j8(t);for(;i>=0&&(r=t[i],!(s.timestamp-r.timestamp>Lm(.1)));)i--;if(!r)return{x:0,y:0};let o=Lg(s.timestamp-r.timestamp);if(0===o)return{x:0,y:0};let a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(n,0)}}function j8(t){return t[t.length-1]}function j7(t){return t.max-t.min}function j9(t,n=0,i=.01){return Math.abs(t-n)<=i}function Pe(t,n,i,r=.5){t.origin=r,t.originPoint=LQ(n.min,n.max,t.origin),t.scale=j7(i)/j7(n),(j9(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=LQ(i.min,i.max,t.origin)-t.originPoint,(j9(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pt(t,n,i,r){Pe(t.x,n.x,i.x,r?r.originX:void 0),Pe(t.y,n.y,i.y,r?r.originY:void 0)}function Pn(t,n,i){t.min=i.min+n.min,t.max=t.min+j7(n)}function Pi(t,n,i){t.min=n.min-i.min,t.max=t.min+j7(n)}function Pr(t,n,i){Pi(t.x,n.x,i.x),Pi(t.y,n.y,i.y)}function Ps(t,n,i){return{min:void 0!==n?t.min+n:void 0,max:void 0!==i?t.max+i-(t.max-t.min):void 0}}function Po(t,n){let i=n.min-t.min,r=n.max-t.max;return n.max-n.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function Pa(t,n,i){return{min:Pl(t,n),max:Pl(t,i)}}function Pl(t,n){return"number"==typeof t?t:t[n]||0}var Pc=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Pu=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Pd(t){return[t("x"),t("y")]}function Pp({top:t,left:n,right:i,bottom:r}){return{x:{min:n,max:i},y:{min:t,max:r}}}function Ph(t){return void 0===t||1===t}function Pf({scale:t,scaleX:n,scaleY:i}){return!Ph(t)||!Ph(n)||!Ph(i)}function Pm(t){return Pf(t)||Pg(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Pg(t){var n,i;return(n=t.x)&&"0%"!==n||(i=t.y)&&"0%"!==i}function Px(t,n,i,r,s){return void 0!==s&&(t=r+s*(t-r)),r+i*(t-r)+n}function Py(t,n=0,i=1,r,s){t.min=Px(t.min,n,i,r,s),t.max=Px(t.max,n,i,r,s)}function Pv(t,{x:n,y:i}){Py(t.x,n.translate,n.scale,n.originPoint),Py(t.y,i.translate,i.scale,i.originPoint)}function Pb(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function PA(t,n){t.min=t.min+n,t.max=t.max+n}function Pw(t,n,[i,r,s]){let o=void 0!==n[s]?n[s]:.5,a=LQ(t.min,t.max,o);Py(t,n[i],n[r],a,n.scale)}var PC=["x","scaleX","originX"],P_=["y","scaleY","originY"];function PS(t,n){Pw(t.x,n,PC),Pw(t.y,n,P_)}function Pk(t,n){return Pp(function(t,n){if(!n)return t;let i=n({x:t.left,y:t.top}),r=n({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),n))}var PE=({current:t})=>t?t.ownerDocument.defaultView:null,PM=new WeakMap,PI=class{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pu(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:r}=this.getProps();this.panSession=new j3(t,{onSessionStart:t=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(B5(t,"page").point)},onStart:(t,n)=>{let{drag:i,dragPropagation:r,onDragStart:s}=this.getProps();if(i&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ln(i),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pd(t=>{let n=this.getAxisMotionValue(t).get()||0;if(TT.test(n)){let{projection:i}=this.visualElement;if(i&&i.layout){let r=i.layout.layoutBox[t];r&&(n=j7(r)*(parseFloat(n)/100))}}this.originPoint[t]=n}),s&&BY.update(()=>s(t,n),!1,!0);let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,n)=>{let{dragPropagation:i,dragDirectionLock:r,onDirectionLock:s,onDrag:o}=this.getProps();if(!i&&!this.openGlobalLock)return;let{offset:a}=n;if(r&&null===this.currentDirection)return this.currentDirection=function(t,n=10){let i=null;return Math.abs(t.y)>n?i="y":Math.abs(t.x)>n&&(i="x"),i}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",n.point,a),this.updateAxis("y",n.point,a),this.visualElement.render(),o&&o(t,n)},onSessionEnd:(t,n)=>this.stop(t,n),resumeAnimation:()=>Pd(t=>{var n;return"paused"===this.getAnimationState(t)&&(null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:PE(this.visualElement)})}stop(t,n){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:r}=n;this.startAnimation(r);let{onDragEnd:s}=this.getProps();s&&BY.update(()=>s(t,n))}cancel(){this.isDragging=!1;let{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){let{drag:r}=this.getProps();if(!i||!PT(t,r,this.currentDirection))return;let s=this.getAxisMotionValue(t),o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:n,max:i},r){return void 0!==n&&t<n?t=r?LQ(n,t,r.min):Math.max(t,n):void 0!==i&&t>i&&(t=r?LQ(i,t,r.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;let{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,s=this.constraints;n&&I0(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!r)&&function(t,{top:n,left:i,bottom:r,right:s}){return{x:Ps(t.x,i,s),y:Ps(t.y,n,r)}}(r.layoutBox,n),this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:Pa(t,"left","right"),y:Pa(t,"top","bottom")}}(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pd(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,n){let i={};return void 0!==n.min&&(i.min=n.min-t.min),void 0!==n.max&&(i.max=n.max-t.min),i}(r.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:n,onMeasureDragConstraints:i}=this.getProps();if(!n||!I0(n))return!1;let r=n.current;BZ(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:s}=this.visualElement;if(!s||!s.layout)return!1;let o=function(t,n,i){let r=Pk(t,i),{scroll:s}=n;return s&&(PA(r.x,s.offset.x),PA(r.y,s.offset.y)),r}(r,s.root,this.visualElement.getTransformPagePoint()),a={x:Po((t=s.layout.layoutBox).x,o.x),y:Po(t.y,o.y)};if(i){let t=i(function({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!t,t&&(a=Pp(t))}return a}startAnimation(t){let{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{};return Promise.all(Pd(a=>{if(!PT(a,n,this.currentDirection))return;let c=l&&l[a]||{};o&&(c={min:0,max:0});let u={type:"inertia",velocity:i?t[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(t,n){let i=this.getAxisMotionValue(t);return i.start(jD(t,i,0,n))}stopAnimation(){Pd(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pd(t=>{var n;return null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.pause()})}getAnimationState(t){var n;return null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.state}getAxisMotionValue(t){let n="_drag"+t.toUpperCase(),i=this.visualElement.getProps();return i[n]||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Pd(n=>{let{drag:i}=this.getProps();if(!PT(n,i,this.currentDirection))return;let{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){let{min:i,max:o}=r.layout.layoutBox[n];s.set(t[n]-LQ(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!I0(n)||!i||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};Pd(t=>{let n=this.getAxisMotionValue(t);if(n){let i=n.get();r[t]=function(t,n){let i=.5,r=j7(t),s=j7(n);return s>r?i=L9(n.min,n.max-r,t.min):r>s&&(i=L9(t.min,t.max-s,n.min)),Tv(0,1,i)}({min:i,max:i},this.constraints[t])}});let{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pd(n=>{if(!PT(n,t,null))return;let i=this.getAxisMotionValue(n),{min:s,max:o}=this.constraints[n];i.set(LQ(s,o,r[n]))})}addListeners(){if(!this.visualElement.current)return;PM.set(this.visualElement,this);let t=B6(this.visualElement.current,"pointerdown",t=>{let{drag:n,dragListener:i=!0}=this.getProps();n&&i&&this.start(t)}),n=()=>{let{dragConstraints:t}=this.getProps();I0(t)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();let s=B2(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:t,hasLayoutChanged:n})=>{this.isDragging&&n&&(Pd(n=>{let i=this.getAxisMotionValue(n);i&&(this.originPoint[n]+=t[n].translate,i.set(i.get()+t[n].translate))}),this.visualElement.render())});return()=>{s(),t(),r(),o&&o()}}getProps(){let t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=.35,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}};function PT(t,n,i){return!(!0!==n&&n!==t||null!==i&&i!==t)}var PB=t=>(n,i)=>{t&&BY.update(()=>t(n,i))},PL=SV(Sz(),1),Pj=SV(Sz(),1),PP={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PR(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}var PD={correct:(t,n)=>{if(!n.target)return t;if("string"==typeof t){if(!TB.test(t))return t;t=parseFloat(t)}return`${PR(t,n.target.x)}% ${PR(t,n.target.y)}%`}},PF=class extends PL.default.Component{componentDidMount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;Object.assign(Tl,PN),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),PP.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||t.layoutDependency!==n||void 0===n?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||BY.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),IK.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function PO(t){let[n,i]=function(){let t=(0,Pj.useContext)(IV);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:i,register:r}=t,s=(0,Pj.useId)();return(0,Pj.useEffect)(()=>r(s),[]),!n&&i?[!1,()=>i&&i(s)]:[!0]}(),r=(0,PL.useContext)(Tt);return PL.default.createElement(PF,{...t,layoutGroup:r,switchLayoutGroup:(0,PL.useContext)(Tn),isPresent:n,safeToRemove:i})}var PN={borderRadius:{...PD,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:PD,borderTopRightRadius:PD,borderBottomLeftRadius:PD,borderBottomRightRadius:PD,boxShadow:{correct:(t,{treeScale:n,projectionDelta:i})=>{let r=L3.parse(t);if(r.length>5)return t;let s=L3.createTransformer(t),o="number"!=typeof r[0]?1:0,a=i.x.scale*n.x,l=i.y.scale*n.y;r[0+o]/=a,r[1+o]/=l;let c=LQ(a,l,.5);return"number"==typeof r[2+o]&&(r[2+o]/=c),"number"==typeof r[3+o]&&(r[3+o]/=c),s(r)}}},PU=["TopLeft","TopRight","BottomLeft","BottomRight"],PV=PU.length,PH=t=>"string"==typeof t?parseFloat(t):t,PQ=t=>"number"==typeof t||TB.test(t);function Pz(t,n){return void 0!==t[n]?t[n]:t.borderRadius}var PG=PW(0,.5,LI),Pq=PW(.5,.95,BZ);function PW(t,n,i){return r=>r<t?0:r>n?1:i(L9(t,n,r))}function P$(t,n){t.min=n.min,t.max=n.max}function PZ(t,n){P$(t.x,n.x),P$(t.y,n.y)}function PY(t,n,i,r,s){return t=r+1/i*((t-=n)-r),void 0!==s&&(t=r+1/s*(t-r)),t}function PK(t,n,[i,r,s],o,a){!function(t,n=0,i=1,r=.5,s,o=t,a=t){if(TT.test(n)&&(n=parseFloat(n),n=LQ(a.min,a.max,n/100)-a.min),"number"!=typeof n)return;let l=LQ(o.min,o.max,r);t===o&&(l-=n),t.min=PY(t.min,n,i,l,s),t.max=PY(t.max,n,i,l,s)}(t,n[i],n[r],n[s],n.scale,o,a)}var PX=["x","scaleX","originX"],PJ=["y","scaleY","originY"];function P0(t,n,i,r){PK(t.x,n,PX,i?i.x:void 0,r?r.x:void 0),PK(t.y,n,PJ,i?i.y:void 0,r?r.y:void 0)}function P1(t){return 0===t.translate&&1===t.scale}function P2(t){return P1(t.x)&&P1(t.y)}function P3(t,n){return Math.round(t.x.min)===Math.round(n.x.min)&&Math.round(t.x.max)===Math.round(n.x.max)&&Math.round(t.y.min)===Math.round(n.y.min)&&Math.round(t.y.max)===Math.round(n.y.max)}function P5(t){return j7(t.x)/j7(t.y)}var P4=class{constructor(){this.members=[]}add(t){jN(this.members,t),t.scheduleRender()}remove(t){if(jU(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let n;let i=this.members.findIndex(n=>t===n);if(0===i)return!1;for(let t=i;t>=0;t--){let i=this.members[t];if(!1!==i.isPresent){n=i;break}}return!!n&&(this.promote(n),!0)}promote(t,n){let i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:r}=t.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function P6(t,n,i){let r="",s=t.x.translate/n.x,o=t.y.translate/n.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),1===n.x&&1===n.y||(r+=`scale(${1/n.x}, ${1/n.y}) `),i){let{rotate:t,rotateX:n,rotateY:s}=i;t&&(r+=`rotate(${t}deg) `),n&&(r+=`rotateX(${n}deg) `),s&&(r+=`rotateY(${s}deg) `)}let a=t.x.scale*n.x,l=t.y.scale*n.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}var P8=(t,n)=>t.depth-n.depth,P7=class{constructor(){this.children=[],this.isDirty=!1}add(t){jN(this.children,t),this.isDirty=!0}remove(t){jU(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P8),this.isDirty=!1,this.children.forEach(t)}};function P9(t){return t instanceof SVGElement&&"svg"!==t.tagName}function Re(t,n,i){let r=Tp(t)?t:jz(t);return r.start(jD("",r,n,i)),r.animation}var Rt=["","X","Y","Z"],Rn={visibility:"hidden"},Ri=0,Rr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Rs({attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(t={},i=null==n?void 0:n()){this.id=Ri++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rr.totalNodes=Rr.resolvedTargetDeltas=Rr.recalculatedProjection=0,this.nodes.forEach(Rl),this.nodes.forEach(Rm),this.nodes.forEach(Rg),this.nodes.forEach(Rc),window.MotionDebug&&window.MotionDebug.record(Rr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new P7)}addEventListener(t,n){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new jV),this.eventHandlers.get(t).add(n)}notifyListeners(t,...n){let i=this.eventHandlers.get(t);i&&i.notify(...n)}hasListeners(t){return this.eventHandlers.has(t)}mount(n,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P9(n),this.instance=n;let{layoutId:r,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(n),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(s||r)&&(this.isLayoutDirty=!0),t){let i;let r=()=>this.root.updateBlockedByResize=!1;t(n,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(t,n){let i=jf.now(),r=({timestamp:n})=>{let s=n-i;s>=250&&(BK(r),t(s-250))};return BY.read(r,!0),()=>BK(r)}(r,0),PP.hasAnimatedSinceResize&&(PP.hasAnimatedSinceResize=!1,this.nodes.forEach(Rf))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||s)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:i,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);let s=this.options.transition||o.getDefaultTransition()||Rw,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!P3(this.targetLayout,r)||i,u=!n&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);let n={...jR(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(n.delay=0,n.type=!1),this.startAnimation(n)}else n||Rf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,BK(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rx),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}let{layoutId:n,layout:i}=this.options;if(void 0===n&&!i)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Rd);this.isUpdating||this.nodes.forEach(Rp),this.isUpdating=!1,this.nodes.forEach(Rh),this.nodes.forEach(Ro),this.nodes.forEach(Ra),this.clearAllSnapshots();let t=jf.now();BX.delta=Tv(0,1e3/60,t-BX.timestamp),BX.timestamp=t,BX.isProcessing=!0,BJ.update.process(BX),BJ.preRender.process(BX),BJ.render.process(BX),BX.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IK.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ru),this.sharedNodes.forEach(Ry)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,BY.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){BY.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pu(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:n}=this.options;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let n=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(n=!1),n&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:r(this.instance),offset:i(this.instance)})}resetTransform(){if(!s)return;let t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!P2(this.projectionDelta),i=this.getTransformTemplate(),r=i?i(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&(n||Pm(this.latestValues)||o)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var n;let i=this.measurePageBox(),r=this.removeElementScroll(i);return t&&(r=this.removeTransform(r)),RS((n=r).x),RS(n.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return Pu();let n=t.measureViewportBox(),{scroll:i}=this.root;return i&&(PA(n.x,i.offset.x),PA(n.y,i.offset.y)),n}removeElementScroll(t){let n=Pu();PZ(n,t);for(let i=0;i<this.path.length;i++){let r=this.path[i],{scroll:s,options:o}=r;if(r!==this.root&&s&&o.layoutScroll){if(s.isRoot){PZ(n,t);let{scroll:i}=this.root;i&&(PA(n.x,-i.offset.x),PA(n.y,-i.offset.y))}PA(n.x,s.offset.x),PA(n.y,s.offset.y)}}return n}applyTransform(t,n=!1){let i=Pu();PZ(i,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];!n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&PS(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),Pm(r.latestValues)&&PS(i,r.latestValues)}return Pm(this.latestValues)&&PS(i,this.latestValues),i}removeTransform(t){let n=Pu();PZ(n,t);for(let t=0;t<this.path.length;t++){let i=this.path[t];if(!i.instance||!Pm(i.latestValues))continue;Pf(i.latestValues)&&i.updateSnapshot();let r=Pu();PZ(r,i.measurePageBox()),P0(n,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,r)}return Pm(this.latestValues)&&P0(n,this.latestValues),n}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==BX.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var n,i,r,s;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==o;if(!(t||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(n=this.parent)||void 0===n?void 0:n.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;let{layout:l,layoutId:c}=this.options;if(this.layout&&(l||c)){if(this.resolvedRelativeTargetAt=BX.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pu(),this.relativeTargetOrigin=Pu(),Pr(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),PZ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=Pu(),this.targetWithTransforms=Pu()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,r=this.relativeTarget,s=this.relativeParent.target,Pn(i.x,r.x,s.x),Pn(i.y,r.y,s.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):PZ(this.target,this.layout.layoutBox),Pv(this.target,this.targetDelta)):PZ(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pu(),this.relativeTargetOrigin=Pu(),Pr(this.relativeTargetOrigin,this.target,t.target),PZ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Pf(this.parent.latestValues)&&!Pg(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let n=this.getLead(),i=!!this.resumingFrom||this!==n,r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===BX.timestamp&&(r=!1),r)return;let{layout:s,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!o)return;PZ(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,l=this.treeScale.y;(function(t,n,i,r=!1){let s,o;let a=i.length;if(a){n.x=n.y=1;for(let l=0;l<a;l++){o=(s=i[l]).projectionDelta;let a=s.instance;a&&a.style&&"contents"===a.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&PS(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(n.x*=o.x.scale,n.y*=o.y.scale,Pv(t,o)),r&&Pm(s.latestValues)&&PS(t,s.latestValues))}n.x=Pb(n.x),n.y=Pb(n.y)}})(this.layoutCorrected,this.treeScale,this.path,i),!n.layout||n.target||1===this.treeScale.x&&1===this.treeScale.y||(n.target=n.layout.layoutBox,n.targetWithTransforms=Pu());let{target:c}=n;if(!c)return void(this.projectionTransform&&(this.projectionDelta=Pc(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=Pc(),this.projectionDeltaWithTransform=Pc());let u=this.projectionTransform;Pt(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=P6(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===a&&this.treeScale.y===l||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Rr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,n=!1){let i;let r=this.snapshot,s=r?r.latestValues:{},o={...this.latestValues},a=Pc();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;let l=Pu(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,p=!!(c&&!d&&!0===this.options.crossfade&&!this.path.some(RA));this.animationProgress=0,this.mixTargetDelta=n=>{var r,u,h,f;let m=n/1e3;Rv(a.x,t.x,m),Rv(a.y,t.y,m),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pr(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,f=this.relativeTargetOrigin,Rb(h.x,f.x,l.x,m),Rb(h.y,f.y,l.y,m),i&&(r=this.relativeTarget,u=i,r.x.min===u.x.min&&r.x.max===u.x.max&&r.y.min===u.y.min&&r.y.max===u.y.max)&&(this.isProjectionDirty=!1),i||(i=Pu()),PZ(i,this.relativeTarget)),c&&(this.animationValues=o,function(t,n,i,r,s,o){s?(t.opacity=LQ(0,void 0!==i.opacity?i.opacity:1,PG(r)),t.opacityExit=LQ(void 0!==n.opacity?n.opacity:1,0,Pq(r))):o&&(t.opacity=LQ(void 0!==n.opacity?n.opacity:1,void 0!==i.opacity?i.opacity:1,r));for(let s=0;s<PV;s++){let o=`border${PU[s]}Radius`,a=Pz(n,o),l=Pz(i,o);void 0===a&&void 0===l||(a||(a=0),l||(l=0),0===a||0===l||PQ(a)===PQ(l)?(t[o]=Math.max(LQ(PH(a),PH(l),r),0),(TT.test(l)||TT.test(a))&&(t[o]+="%")):t[o]=l)}(n.rotate||i.rotate)&&(t.rotate=LQ(n.rotate||0,i.rotate||0,r))}(o,s,this.latestValues,m,p,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=m},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(BK(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=BY.update(()=>{PP.hasAnimatedSinceResize=!0,this.currentAnimation=Re(0,1e3,{...t,onUpdate:n=>{this.mixTargetDelta(n),t.onUpdate&&t.onUpdate(n)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:n,target:i,layout:r,latestValues:s}=t;if(n&&i&&r){if(this!==t&&this.layout&&r&&Rk(this.options.animationType,this.layout.layoutBox,r.layoutBox)){i=this.target||Pu();let n=j7(this.layout.layoutBox.x);i.x.min=t.target.x.min,i.x.max=i.x.min+n;let r=j7(this.layout.layoutBox.y);i.y.min=t.target.y.min,i.y.max=i.y.min+r}PZ(n,i),PS(n,s),Pt(this.projectionDeltaWithTransform,this.layoutCorrected,n,s)}}registerSharedNode(t,n){this.sharedNodes.has(t)||this.sharedNodes.set(t,new P4),this.sharedNodes.get(t).add(n);let i=n.options.initialPromotionConfig;n.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(n):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:n}=this.options;return n&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:n}=this.options;return n?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:n,preserveFollowOpacity:i}={}){let r=this.getStack();r&&r.promote(this,i),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){let{visualElement:t}=this.options;if(!t)return;let n=!1,{latestValues:i}=t;if((i.rotate||i.rotateX||i.rotateY||i.rotateZ)&&(n=!0),!n)return;let r={};for(let n=0;n<Rt.length;n++){let s="rotate"+Rt[n];i[s]&&(r[s]=i[s],t.setStaticValue(s,0))}for(let n in t.render(),r)t.setStaticValue(n,r[n]);t.scheduleRender()}getProjectionStyles(t){var n,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Rn;let r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=BW(null==t?void 0:t.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let n={};return this.options.layoutId&&(n.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,n.pointerEvents=BW(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!Pm(this.latestValues)&&(n.transform=s?s({},""):"none",this.hasProjected=!1),n}let a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=P6(this.projectionDeltaWithTransform,this.treeScale,a),s&&(r.transform=s(a,r.transform));let{x:l,y:c}=this.projectionDelta;for(let t in r.transformOrigin=`${100*l.origin}% ${100*c.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(i=null!==(n=a.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,Tl){if(void 0===a[t])continue;let{correct:n,applyTo:i}=Tl[t],s="none"===r.transform?a[t]:n(a[t],o);if(i){let t=i.length;for(let n=0;n<t;n++)r[i[n]]=s}else r[t]=s}return this.options.layoutId&&(r.pointerEvents=o===this?BW(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var n;return null===(n=t.currentAnimation)||void 0===n?void 0:n.stop()}),this.root.nodes.forEach(Rd),this.root.sharedNodes.clear()}}}function Ro(t){t.updateLayout()}function Ra(t){var n;let i=(null===(n=t.resumeFrom)||void 0===n?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){let{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=i.source!==t.layout.source;"size"===s?Pd(t=>{let r=o?i.measuredBox[t]:i.layoutBox[t],s=j7(r);r.min=n[t].min,r.max=r.min+s}):Rk(s,i.layoutBox,n)&&Pd(r=>{let s=o?i.measuredBox[r]:i.layoutBox[r],a=j7(n[r]);s.max=s.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+a)});let a=Pc();Pt(a,n,i.layoutBox);let l=Pc();o?Pt(l,t.applyTransform(r,!0),i.measuredBox):Pt(l,n,i.layoutBox);let c=!P2(a),u=!1;if(!t.resumeFrom){let r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:s,layout:o}=r;if(s&&o){let a=Pu();Pr(a,i.layoutBox,s.layoutBox);let l=Pu();Pr(l,n,o.layoutBox),P3(a,l)||(u=!0),r.options.layoutRoot&&(t.relativeTarget=l,t.relativeTargetOrigin=a,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:i,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){let{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Rl(t){Rr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Rc(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ru(t){t.clearSnapshot()}function Rd(t){t.clearMeasurements()}function Rp(t){t.isLayoutDirty=!1}function Rh(t){let{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rf(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rm(t){t.resolveTargetDelta()}function Rg(t){t.calcProjection()}function Rx(t){t.resetRotation()}function Ry(t){t.removeLeadSnapshot()}function Rv(t,n,i){t.translate=LQ(n.translate,0,i),t.scale=LQ(n.scale,1,i),t.origin=n.origin,t.originPoint=n.originPoint}function Rb(t,n,i,r){t.min=LQ(n.min,i.min,r),t.max=LQ(n.max,i.max,r)}function RA(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}var Rw={duration:.45,ease:[.4,0,.1,1]},RC=t=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(t),R_=RC("applewebkit/")&&!RC("chrome/")?Math.round:BZ;function RS(t){t.min=R_(t.min),t.max=R_(t.max)}function Rk(t,n,i){return"position"===t||"preserve-aspect"===t&&!j9(P5(n),P5(i),.2)}var RE=Rs({attachResizeListener:(t,n)=>B2(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RM={current:void 0},RI=Rs({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!RM.current){let t=new RE({});t.mount(window),t.setOptions({layoutScroll:!0}),RM.current=t}return RM.current},resetTransform:(t,n)=>{t.style.transform=void 0!==n?n:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position}),RT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function RB(t,n,i=1){BZ(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,s]=function(t){let n=RT.exec(t);if(!n)return[,];let[,i,r]=n;return[i,r]}(t);if(!r)return;let o=window.getComputedStyle(n).getPropertyValue(r);if(o){let t=o.trim();return jO(t)?parseFloat(t):t}return Tx(s)?RB(s,n,i+1):s}var RL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Rj=t=>RL.has(t),RP=t=>t===Tb||t===TB,RR=(t,n)=>parseFloat(t.split(", ")[n]),RD=(t,n)=>(i,{transform:r})=>{if("none"===r||!r)return 0;let s=r.match(/^matrix3d\((.+)\)$/);if(s)return RR(s[1],n);{let n=r.match(/^matrix\((.+)\)$/);return n?RR(n[1],t):0}},RF=new Set(["x","y","z"]),RO=Tc.filter(t=>!RF.has(t)),RN={width:({x:t},{paddingLeft:n="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(n)-parseFloat(i),height:({y:t},{paddingTop:n="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(n)-parseFloat(i),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:RD(4,13),y:RD(5,14)};RN.translateX=RN.x,RN.translateY=RN.y;var RU=(t,n,i={},r={})=>{n={...n},r={...r};let s=Object.keys(n).filter(Rj),o=[],a=!1,l=[];if(s.forEach(s=>{let c;let u=t.getValue(s);if(!t.hasValue(s))return;let d=i[s],p=jW(d),h=n[s];if(Bz(h)){let t=h.length,n=null===h[0]?1:0;p=jW(d=h[n]);for(let i=n;i<t&&null!==h[i];i++)c?BZ(jW(h[i])===c,"All keyframes must be of the same type"):BZ((c=jW(h[i]))===p||RP(p)&&RP(c),"Keyframes must be of the same dimension as the current value")}else c=jW(h);if(p!==c){if(RP(p)&&RP(c)){let t=u.get();"string"==typeof t&&u.set(parseFloat(t)),"string"==typeof h?n[s]=parseFloat(h):Array.isArray(h)&&c===TB&&(n[s]=h.map(parseFloat))}else(null==p?void 0:p.transform)&&(null==c?void 0:c.transform)&&(0===d||0===h)?0===d?u.set(c.transform(d)):n[s]=p.transform(h):(a||(o=function(t){let n=[];return RO.forEach(i=>{let r=t.getValue(i);void 0!==r&&(n.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),n.length&&t.render(),n}(t),a=!0),l.push(s),r[s]=void 0!==r[s]?r[s]:n[s],u.jump(h))}}),l.length){let i=l.indexOf("height")>=0?window.pageYOffset:null,s=((t,n,i)=>{let r=n.measureViewportBox(),s=getComputedStyle(n.current),{display:o}=s,a={};"none"===o&&n.setStaticValue("display",t.display||"block"),i.forEach(t=>{a[t]=RN[t](r,s)}),n.render();let l=n.measureViewportBox();return i.forEach(i=>{let r=n.getValue(i);r&&r.jump(a[i]),t[i]=RN[i](l,s)}),t})(n,t,l);return o.length&&o.forEach(([n,i])=>{t.getValue(n).set(i)}),t.render(),IQ&&null!==i&&window.scrollTo({top:i}),{target:s,transitionEnd:r}}return{target:n,transitionEnd:r}},RV=(t,n,i,r)=>{let s=function(t,{...n},i){let r=t.current;if(!(r instanceof Element))return{target:n,transitionEnd:i};for(let s in i&&(i={...i}),t.values.forEach(t=>{let n=t.get();if(!Tx(n))return;let i=RB(n,r);i&&t.set(i)}),n){let t=n[s];if(!Tx(t))continue;let o=RB(t,r);o&&(n[s]=o,i||(i={}),void 0===i[s]&&(i[s]=t))}return{target:n,transitionEnd:i}}(t,n,r);return function(t,n,i,r){return Object.keys(n).some(Rj)?RU(t,n,i,r):{target:n,transitionEnd:r}}(t,n=s.target,i,r=s.transitionEnd)},RH={current:null},RQ={current:!1},Rz=new WeakMap,RG=Object.keys(Te),Rq=RG.length,RW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],R$=I4.length,RZ=class{constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>BY.render(this.render,!1,!0);let{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=I6(n),this.isVariantNode=I8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(let t in u){let n=u[t];void 0!==a[t]&&Tp(n)&&(n.set(a[t],!1),jF(c)&&c.add(t))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Rz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),RQ.current||function(){if(RQ.current=!0,IQ){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),n=()=>RH.current=t.matches;t.addListener(n),n()}else RH.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||RH.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in Rz.delete(this.current),this.projection&&this.projection.unmount(),BK(this.notifyUpdate),BK(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){let i=Tu.has(t),r=n.on("change",n=>{this.latestValues[t]=n,this.props.onUpdate&&BY.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),s()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...n},i,r,s){let o,a;for(let t=0;t<Rq;t++){let i=RG[t],{isEnabled:r,Feature:s,ProjectionNode:l,MeasureLayout:c}=Te[i];l&&(o=l),r(n)&&(!this.features[i]&&s&&(this.features[i]=new s(this)),c&&(a=c))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);let{layoutId:t,layout:i,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:c}=n;this.projection.setOptions({layoutId:t,layout:i,alwaysMeasureLayout:!!r||a&&I0(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof i?i:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}return a}updateFeatures(){for(let t in this.features){let n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pu()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let n=0;n<RW.length;n++){let i=RW[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let r=t["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=function(t,n,i){let{willChange:r}=n;for(let s in n){let o=n[s],a=i[s];if(Tp(o))t.addValue(s,o),jF(r)&&r.add(s);else if(Tp(a))t.addValue(s,jz(o,{owner:t})),jF(r)&&r.remove(s);else if(a!==o){if(t.hasValue(s)){let n=t.getValue(s);n.hasAnimated||n.set(o)}else{let n=t.getStaticValue(s);t.addValue(s,jz(void 0!==n?n:o,{owner:t}))}}}for(let r in i)void 0===n[r]&&t.removeValue(r);return n}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let n={};for(let t=0;t<R$;t++){let i=I4[t],r=this.props[i];(I2(r)||!1===r)&&(n[i]=r)}return n}addVariantChild(t){let n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);let n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return void 0===i&&void 0!==n&&(i=jz(n,{owner:this}),this.addValue(t,i)),i}readValue(t){var n;return void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;let{initial:i}=this.props,r="string"==typeof i||"object"==typeof i?null===(n=BV(this.props,i))||void 0===n?void 0:n[t]:void 0;if(i&&void 0!==r)return r;let s=this.getBaseTargetFromProps(this.props,t);return void 0===s||Tp(s)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:s}on(t,n){return this.events[t]||(this.events[t]=new jV),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},RY=class extends RZ{sortInstanceNodePosition(t,n){return 2&t.compareDocumentPosition(n)?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...i},r){let s=function(t,n,i){let r={};for(let s in t){let t=function(t,n){if(n)return(n[t]||n.default||n).from}(s,n);if(void 0!==t)r[s]=t;else{let t=i.getValue(s);t&&(r[s]=t.get())}}return r}(i,t||{},this);if(r){!function(t,n,i){var r,s,o;let a=Object.keys(n).filter(n=>!t.hasValue(n)),l=a.length;if(l)for(let c=0;c<l;c++){let l=a[c],u=n[l],d=null;Array.isArray(u)&&(d=u[0]),null===d&&(d=null!==(s=null!==(r=i[l])&&void 0!==r?r:t.readValue(l))&&void 0!==s?s:n[l]),null!=d&&("string"==typeof d&&(jO(d)||jP(d))?d=parseFloat(d):(o=d,!j$.find(jG(o))&&L3.test(u)&&(d=jj(l,u))),t.addValue(l,jz(d,{owner:t})),void 0===i[l]&&(i[l]=d),null!==d&&t.setBaseTarget(l,d))}}(this,i,s);let t=RV(this,i,s,n);n=t.transitionEnd,i=t.target}return{transition:t,transitionEnd:n,...i}}},RK=class extends RY{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Tu.has(n)){let t=jL(n);return t&&t.default||0}{let i=window.getComputedStyle(t),r=(Tg(n)?i.getPropertyValue(n):i[n])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Pk(t,n)}build(t,n,i,r){TF(t,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return BO(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;Tp(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,n,i,r){BR(t,n,i,r)}},RX=class extends RY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tu.has(n)){let t=jL(n);return t&&t.default||0}return n=BD.has(n)?n:Iq(n),t.getAttribute(n)}measureInstanceViewportBox(){return Pu()}scrapeMotionValuesFromProps(t,n){return BN(t,n)}build(t,n,i,r){BL(t,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,i,r){BF(t,n,0,r)}mount(t){this.isSVGTag=BP(t.tagName),super.mount(t)}},RJ=(t,n)=>Ts(t)?new RX(n,{enableHardwareAcceleration:!1}):new RK(n,{enableHardwareAcceleration:!0}),R0={animation:{Feature:class extends Lr{constructor(t){super(t),t.animationState||(t.animationState=function(t){let n=n=>Promise.all(n.map(({animation:n,options:i})=>(function(t,n,i={}){let r;if(t.notify("AnimationStart",n),Array.isArray(n))r=Promise.all(n.map(n=>jY(t,n,i)));else if("string"==typeof n)r=jY(t,n,i);else{let s="function"==typeof n?Lf(t,n,i.custom):n;r=Promise.all(jZ(t,s,i))}return r.then(()=>t.notify("AnimationComplete",n))})(t,n,i))),i={animate:j0(!0),whileInView:j0(),whileHover:j0(),whileTap:j0(),whileDrag:j0(),whileFocus:j0(),exit:j0()},r=!0,s=(n,i)=>{let r=Lf(t,i);if(r){let{transition:t,transitionEnd:i,...s}=r;n={...n,...s,...i}}return n};function o(o,a){let l=t.getProps(),c=t.getVariantContext(!0)||{},u=[],d=new Set,p={},h=1/0;for(let n=0;n<jJ;n++){var f;let m=jX[n],g=i[m],x=void 0!==l[m]?l[m]:c[m],y=I2(x),v=m===a?g.isActive:null;!1===v&&(h=n);let b=x===c[m]&&x!==l[m]&&y;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...p},!g.isActive&&null===v||!x&&!g.prevProp||I3(x)||"boolean"==typeof x)continue;let A=(f=g.prevProp,("string"==typeof x?x!==f:!!Array.isArray(x)&&!Lh(x,f))||m===a&&g.isActive&&!b&&y||n>h&&y),w=!1,C=Array.isArray(x)?x:[x],_=C.reduce(s,{});!1===v&&(_={});let{prevResolvedValues:S={}}=g,k={...S,..._},E=t=>{A=!0,d.has(t)&&(w=!0,d.delete(t)),g.needsAnimating[t]=!0};for(let t in k){let n=_[t],i=S[t];if(!p.hasOwnProperty(t))(Bz(n)&&Bz(i)?Lh(n,i):n===i)?void 0!==n&&d.has(t)?E(t):g.protectedKeys[t]=!0:void 0!==n?E(t):d.add(t)}g.prevProp=x,g.prevResolvedValues=_,g.isActive&&(p={...p,..._}),r&&t.blockInitialAnimation&&(A=!1),A&&(!b||w)&&u.push(...C.map(t=>({animation:t,options:{type:m,...o}})))}if(d.size){let n={};d.forEach(i=>{let r=t.getBaseTarget(i);void 0!==r&&(n[i]=r)}),u.push({animation:n})}let m=!!u.length;return!r||!1!==l.initial&&l.initial!==l.animate||t.manuallyAnimateOnMount||(m=!1),r=!1,m?n(u):Promise.resolve()}return{animateChanges:o,setActive:function(n,r,s){var a;if(i[n].isActive===r)return Promise.resolve();null===(a=t.variantChildren)||void 0===a||a.forEach(t=>{var i;return null===(i=t.animationState)||void 0===i?void 0:i.setActive(n,r)}),i[n].isActive=r;let l=o(s,n);for(let t in i)i[t].protectedKeys={};return l},setAnimateFunction:function(i){n=i(t)},getState:()=>i}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();this.unmount(),I3(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Lr{constructor(){super(...arguments),this.id=j1++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let s=this.node.animationState.setActive("exit",!t,{custom:null!=i?i:this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}},inView:{Feature:class extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:"number"==typeof r?r:Lp[r]};return function(t,n,i){let r=function({root:t,...n}){let i=t||document;Lc.has(i)||Lc.set(i,{});let r=Lc.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(Ld,{root:t,...n})),r[s]}(n);return Ll.set(t,i),r.observe(t),()=>{Ll.delete(t),r.unobserve(t)}}(this.node.current,o,t=>{let{isIntersecting:n}=t;if(this.isInView===n||(this.isInView=n,s&&!n&&this.hasEnteredView))return;n&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",n);let{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),o=n?i:r;o&&o(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:n}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:n={}}={}){return i=>t[i]!==n[i]}(t,n))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Lr{constructor(){super(...arguments),this.removeStartListeners=BZ,this.removeEndListeners=BZ,this.removeAccessibleListeners=BZ,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();let i=this.node.getProps(),r=B6(window,"pointerup",(t,n)=>{if(!this.checkPressEnd())return;let{onTap:i,onTapCancel:r,globalTapTarget:s}=this.node.getProps();BY.update(()=>{s||Lo(this.node.current,t.target)?i&&i(t,n):r&&r(t,n)})},{passive:!(i.onTap||i.onPointerUp)}),s=B6(window,"pointercancel",(t,n)=>this.cancelPress(t,n),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=B7(r,s),this.startPress(t,n)},this.startAccessiblePress=()=>{let t=B2(this.node.current,"keydown",t=>{"Enter"!==t.key||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=B2(this.node.current,"keyup",t=>{"Enter"===t.key&&this.checkPressEnd()&&La("up",(t,n)=>{let{onTap:i}=this.node.getProps();i&&BY.update(()=>i(t,n))})}),La("down",(t,n)=>{this.startPress(t,n)}))}),n=B2(this.node.current,"blur",()=>{this.isPressing&&La("cancel",(t,n)=>this.cancelPress(t,n))});this.removeAccessibleListeners=B7(t,n)}}startPress(t,n){this.isPressing=!0;let{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&BY.update(()=>i(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Li()}cancelPress(t,n){if(!this.checkPressEnd())return;let{onTapCancel:i}=this.node.getProps();i&&BY.update(()=>i(t,n))}mount(){let t=this.node.getProps(),n=B6(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),i=B2(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=B7(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=B7(B2(this.node.current,"focus",()=>this.onFocus()),B2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Lr{mount(){this.unmount=B7(Ls(this.node,!0),Ls(this.node,!1))}unmount(){}}},pan:{Feature:class extends Lr{constructor(){super(...arguments),this.removePointerDownListener=BZ}onPointerDown(t){this.session=new j3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PE(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:PB(t),onStart:PB(n),onMove:i,onEnd:(t,n)=>{delete this.session,r&&BY.update(()=>r(t,n))}}}mount(){this.removePointerDownListener=B6(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Lr{constructor(t){super(t),this.removeGroupControls=BZ,this.removeListeners=BZ,this.controls=new PI(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||BZ}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:RI,MeasureLayout:PO},layout:{ProjectionNode:RI,MeasureLayout:PO}},R1=function(t){function n(n,i={}){return function({preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:r,Component:s}){t&&function(t){for(let n in t)Te[n]={...Te[n],...t[n]}}(t);let o=(0,IF.forwardRef)(function(o,a){var l;let c;let u={...(0,IF.useContext)(IO),...o,layoutId:function({layoutId:t}){let n=(0,IF.useContext)(Tt).id;return n&&void 0!==t?n+"-"+t:t}(o)},{isStatic:d}=u,p=function(t){let{initial:n,animate:i}=function(t,n){if(I6(t)){let{initial:n,animate:i}=t;return{initial:!1===n||I2(n)?n:void 0,animate:I2(i)?i:void 0}}return!1!==t.inherit?n:{}}(t,(0,I1.useContext)(IN));return(0,I1.useMemo)(()=>({initial:n,animate:i}),[I7(n),I7(i)])}(o),h=r(o,d);if(!d&&IQ){p.visualElement=function(t,n,i,r){let{visualElement:s}=(0,IU.useContext)(IN),o=(0,IU.useContext)(IG),a=(0,IU.useContext)(IV),l=(0,IU.useContext)(IO).reducedMotion,c=(0,IU.useRef)();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:n,parent:s,props:i,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));let u=c.current;(0,IU.useInsertionEffect)(()=>{u&&u.update(i,a)});let d=(0,IU.useRef)(!!(i[IW]&&!window.HandoffComplete));return Iz(()=>{u&&(IK.postRender(u.render),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,IU.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(s,h,u,n);let i=(0,IF.useContext)(Tn),r=(0,IF.useContext)(IG).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,r,t,i))}return ID.createElement(IN.Provider,{value:p},c&&p.visualElement?ID.createElement(c,{visualElement:p.visualElement,...u}):null,i(s,o,(l=p.visualElement,(0,IJ.useCallback)(t=>{t&&h.mount&&h.mount(t),l&&(t?l.mount(t):l.unmount()),a&&("function"==typeof a?a(t):I0(a)&&(a.current=t))},[l])),h,d,p.visualElement))});return o[Ti]=s,o}(t(n,i))}if("undefined"==typeof Proxy)return n;let i=new Map;return new Proxy(n,{get:(t,r)=>(i.has(r)||i.set(r,n(r)),i.get(r))})}((t,n)=>(function(t,{forwardMotionProps:n=!1},i,r){return{...Ts(t)?B0:B1,preloadedFeatures:i,useRender:function(t=!1){return(n,i,r,{latestValues:s},o)=>{let a=(Ts(n)?function(t,n,i,r){let s=(0,BM.useMemo)(()=>{let i=Bj();return BL(i,n,{enableHardwareAcceleration:!1},BP(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[n]);if(t.style){let n={};TN(n,t.style,t),s.style={...n,...s.style}}return s}:function(t,n,i){let r={},s=function(t,n,i){let r={};return TN(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},n,i){return(0,Ta.useMemo)(()=>{let r=TO();return TF(r,n,{enableHardwareAcceleration:!i},t),Object.assign({},r.vars,r.style)},[n])}(t,n,i)),r}(t,n,i);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r})(i,s,o,n),l={...function(t,n,i){let r={};for(let s in t)"values"===s&&"object"==typeof t.values||(BE(s)||!0===i&&TV(s)||!n&&!TV(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}(i,"string"==typeof n,t),...a,ref:r},{children:c}=i,u=(0,To.useMemo)(()=>Tp(c)?c.get():c,[c]);return(0,To.createElement)(n,{...l,children:u})}}(n),createVisualElement:r,Component:t}})(t,n,R0,RJ)),R2=SV(Sz(),1),R3=SV(Sz(),1),R5=SV(Sz(),1),R4=SV(Sz(),1);function R6(){let t=(0,R4.useRef)(!1);return Iz(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var R8=SV(Sz(),1),R7=SV(Sz(),1),R9=SV(Sz(),1),De=SV(Sz(),1),Dt=class extends R9.Component{getSnapshotBeforeUpdate(t){let n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=n.offsetHeight||0,t.width=n.offsetWidth||0,t.top=n.offsetTop,t.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function Dn({children:t,isPresent:n}){let i=(0,De.useId)(),r=(0,De.useRef)(null),s=(0,De.useRef)({width:0,height:0,top:0,left:0});return(0,De.useInsertionEffect)(()=>{let{width:t,height:o,top:a,left:l}=s.current;if(n||!r.current||!t||!o)return;r.current.dataset.motionPopId=i;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${t}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[n]),R9.createElement(Dt,{isPresent:n,childRef:r,sizeRef:s},R9.cloneElement(t,{ref:r}))}var Di=({children:t,initial:n,isPresent:i,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{let l=BQ(Dr),c=(0,R7.useId)(),u=(0,R7.useMemo)(()=>({id:c,initial:n,isPresent:i,custom:s,onExitComplete:t=>{for(let n of(l.set(t,!0),l.values()))if(!n)return;r&&r()},register:t=>(l.set(t,!1),()=>l.delete(t))}),o?void 0:[i]);return(0,R7.useMemo)(()=>{l.forEach((t,n)=>l.set(n,!1))},[i]),R8.useEffect(()=>{i||l.size||!r||r()},[i]),"popLayout"===a&&(t=R8.createElement(Dn,{isPresent:i},t)),R8.createElement(IV.Provider,{value:u},t)};function Dr(){return new Map}var Ds=SV(Sz(),1),Do=t=>t.key||"",Da=({children:t,custom:n,initial:i=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{var l;BZ(!s,"Replace exitBeforeEnter with mode='wait'");let c=(0,R3.useContext)(Tt).forceRender||function(){let t=R6(),[n,i]=(0,R5.useState)(0),r=(0,R5.useCallback)(()=>{t.current&&i(n+1)},[n]);return[(0,R5.useCallback)(()=>BY.postRender(r),[r]),n]}()[0],u=R6(),d=function(t){let n=[];return R3.Children.forEach(t,t=>{(0,R3.isValidElement)(t)&&n.push(t)}),n}(t),p=d,h=(0,R3.useRef)(new Map).current,f=(0,R3.useRef)(p),m=(0,R3.useRef)(new Map).current,g=(0,R3.useRef)(!0);if(Iz(()=>{g.current=!1,function(t,n){t.forEach(t=>{let i=Do(t);n.set(i,t)})}(d,m),f.current=p}),l=()=>{g.current=!0,m.clear(),h.clear()},(0,Ds.useEffect)(()=>()=>l(),[]),g.current)return R2.createElement(R2.Fragment,null,p.map(t=>R2.createElement(Di,{key:Do(t),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:a},t)));p=[...p];let x=f.current.map(Do),y=d.map(Do),v=x.length;for(let t=0;t<v;t++){let n=x[t];-1!==y.indexOf(n)||h.has(n)||h.set(n,void 0)}return"wait"===a&&h.size&&(p=[]),h.forEach((t,i)=>{if(-1!==y.indexOf(i))return;let s=m.get(i);if(!s)return;let l=x.indexOf(i),g=t;g||(g=R2.createElement(Di,{key:Do(s),isPresent:!1,onExitComplete:()=>{h.delete(i);let t=Array.from(m.keys()).filter(t=>!y.includes(t));if(t.forEach(t=>m.delete(t)),f.current=d.filter(n=>{let r=Do(n);return r===i||t.includes(r)}),!h.size){if(!1===u.current)return;c(),r&&r()}},custom:n,presenceAffectsLayout:o,mode:a},s),h.set(i,g)),p.splice(l,0,g)}),p=p.map(t=>{let n=t.key;return h.has(n)?t:R2.createElement(Di,{key:Do(t),isPresent:!0,presenceAffectsLayout:o,mode:a},t)}),R2.createElement(R2.Fragment,null,h.size?p:p.map(t=>(0,R3.cloneElement)(t)))},Dl=SV(Sz(),1);function Dc(t){let n=BQ(()=>jz(t)),{isStatic:i}=(0,Dl.useContext)(IO);if(i){let[,i]=(0,Dl.useState)(t);(0,Dl.useEffect)(()=>n.on("change",i),[])}return n}function Du(t,n,i){var r;if("string"==typeof t){let s=document;n&&(BZ(!!n.current,"Scope provided, but no element detected."),s=n.current),i?(null!==(r=i[t])&&void 0!==r||(i[t]=s.querySelectorAll(t)),t=i[t]):t=s.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}var Dd=class extends jQ{constructor(){super(...arguments),this.members=[],this.transforms=new Set}add(t){let n;Tu.has(t)?(this.transforms.add(t),n="transform"):t.startsWith("origin")||Tg(t)||"willChange"===t||(n=Iq(t)),n&&(jN(this.members,n),this.update())}remove(t){Tu.has(t)?(this.transforms.delete(t),this.transforms.size||jU(this.members,"transform")):jU(this.members,Iq(t)),this.update()}update(){this.set(this.members.length?this.members.join(", "):"auto")}},Dp=jv(()=>void 0!==window.ScrollTimeline),Dh=class{constructor(t){this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t){let n=this.animations.map(n=>{if(!Dp()||!n.attachTimeline)return n.pause(),function(t,n){let i;let r=()=>{let{currentTime:r}=n,s=(null===r?0:r.value)/100;i!==s&&t(s),i=s};return BY.update(r,!0),()=>BK(r)}(t=>{n.time=n.duration*t},t);n.attachTimeline(t)});return()=>{n.forEach((t,n)=>{t&&t(),this.animations[n].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}};function Df(t,n,i,r){var s;return"number"==typeof n?n:n.startsWith("-")||n.startsWith("+")?Math.max(0,t+parseFloat(n)):"<"===n?i:null!==(s=r.get(n))&&void 0!==s?s:t}var Dm=(t,n,i)=>{let r=n-t;return((i-t)%r+r)%r+t};function Dg(t,n){return t.at===n.at?null===t.value?1:null===n.value?-1:0:t.at-n.at}function Dx(t,n){return n.has(t)||n.set(t,{}),n.get(t)}function Dy(t,n){return n[t]||(n[t]=[]),n[t]}var Dv=t=>"number"==typeof t,Db=t=>t.every(Dv);function DA(t,n,i,r){let s=Du(t,r),o=s.length;BZ(!!o,"No valid element provided.");let a=[];for(let t=0;t<o;t++){let r=s[t];Rz.has(r)||function(t){let n={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},i=P9(t)?new RX(n,{enableHardwareAcceleration:!1}):new RK(n,{enableHardwareAcceleration:!0});i.mount(t),Rz.set(t,i)}(r);let l=Rz.get(r),c={...i};"function"==typeof c.delay&&(c.delay=c.delay(t,o)),a.push(...jZ(l,{...n,transition:c},{}))}return new Dh(a)}var Dw,DC=function(t,n,i){let r;return r=Array.isArray(t)&&Array.isArray(t[0])?function(t,n,i){let r=[];return(function(t,{defaultTransition:n={},...i}={},r){let s=n.duration||.3,o=new Map,a=new Map,l={},c=new Map,u=0,d=0,p=0;for(let i=0;i<t.length;i++){let o=t[i];if("string"==typeof o){c.set(o,d);continue}if(!Array.isArray(o)){c.set(o.name,Df(d,o.at,u,c));continue}let[h,f,m={}]=o;void 0!==m.at&&(d=Df(d,m.at,u,c));let g=0,x=(t,i,r,o=0,a=0)=>{let l=Array.isArray(t)?t:[t],{delay:c=0,times:u=ji(l),type:h="keyframes",...f}=i,{ease:m=n.ease||"easeOut",duration:x}=i,y="function"==typeof c?c(o,a):c,v=l.length;if(v<=2&&"spring"===h){let t=100;2===v&&Db(l)&&(t=Math.abs(l[1]-l[0]));let n={...f};void 0!==x&&(n.duration=Lm(x));let i=function(t,n=100){let i=jd({keyframes:[0,n],...t}),r=Math.min(jg(i),2e4);return{type:"keyframes",ease:t=>i.next(r*t).value/n,duration:Lg(r)}}(n,t);m=i.ease,x=i.duration}null!=x||(x=s);let b=d+y,A=b+x;1===u.length&&0===u[0]&&(u[1]=1);let w=u.length-l.length;w>0&&jn(u,w),1===l.length&&l.unshift(null),function(t,n,i,r,s,o){!function(t,n,i){for(let r=0;r<t.length;r++){let s=t[r];s.at>n&&s.at<i&&(jU(t,s),r--)}}(t,s,o);for(let l=0;l<n.length;l++){var a;t.push({value:n[l],at:LQ(s,o,r[l]),easing:(a=l,LS(i)?i[Dm(0,i.length,a)]:i)})}}(r,l,m,u,b,A),g=Math.max(y+x,g),p=Math.max(A,p)};if(Tp(h))x(f,m,Dy("default",Dx(h,a)));else{let t=Du(h,r,l),n=t.length;for(let i=0;i<n;i++){let r=Dx(t[i],a);for(let t in f)x(f[t],m[t]?{...m,...m[t]}:{...m},Dy(t,r),i,n)}}u=d,d+=g}return a.forEach((t,r)=>{for(let s in t){let a=t[s];a.sort(Dg);let l=[],c=[],u=[];for(let t=0;t<a.length;t++){let{at:n,value:i,easing:r}=a[t];l.push(i),c.push(L9(0,p,n)),u.push(r||"easeOut")}0!==c[0]&&(c.unshift(0),l.unshift(l[0]),u.unshift("easeInOut")),1!==c[c.length-1]&&(c.push(1),l.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});let d=o.get(r);d.keyframes[s]=l,d.transition[s]={...n,duration:p,ease:u,times:c,...i}}}),o})(t,n,i).forEach(({keyframes:t,transition:n},i)=>{let s;s=Tp(i)?Re(i,t.default,n.default):DA(i,t,n),r.push(s)}),new Dh(r)}(t,n,Dw):"object"!=typeof n||Array.isArray(n)?Re(t,n,i):DA(t,n,i,Dw),Dw&&Dw.animations.push(r),r},D_=SV(Sz(),1),DS={some:0,all:1},Dk=class{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(i=>{i.start(t.nativeEvent||t,n)})}},DE=()=>new Dk,DM=SV(S$()),DI=function({className:t,variant:n="indeterminate",label:i,value:r=0,max:s=100,strokeWidth:o=4,style:a}){let l=(40-o)/2,c=2*Math.PI*l,u=c/1.5,d=(s-r)/s*c;return(0,DM.jsxs)("svg",{className:(0,IR.default)("UBQ_CircularProgress-module__block--noKfW",t),role:"progressbar",viewBox:"0 0 40 40",fill:"none",style:a,children:["indeterminate"===n?(0,DM.jsx)(R1.circle,{cx:20,cy:20,r:l,stroke:"currentColor",strokeWidth:o,strokeLinecap:"round",strokeDasharray:`${u}, ${u}`,strokeDashoffset:"0",transform:"rotate(-90 20 20)",animate:{rotate:360,strokeDasharray:[`${u}, ${u}`,`${u}, ${1.92*u}`,`${u}, ${u}`],strokeDashoffset:[0,-1*u,-2*u]},transition:{repeat:1/0,duration:1.4,times:[0,.5,1],type:"tween",ease:"linear"}}):(0,DM.jsxs)(DM.Fragment,{children:[(0,DM.jsx)("circle",{className:"UBQ_CircularProgress-module__track--kjW5M",cx:20,cy:20,r:l,strokeWidth:o,strokeLinecap:"round"}),(0,DM.jsx)(R1.circle,{cx:20,cy:20,r:l,stroke:"currentColor",strokeWidth:o,strokeLinecap:"round",transform:"rotate(-90 20 20)",initial:{strokeDasharray:c,strokeDashoffset:d},animate:{strokeDasharray:c,strokeDashoffset:d},transition:{bounce:0}}),(0,DM.jsx)("foreignObject",{x:"0",y:"0",width:40,height:40,children:(0,DM.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",fill:"none",children:[(0,DM.jsx)("defs",{children:(0,DM.jsxs)("linearGradient",{id:"gradient",children:[(0,DM.jsx)("stop",{className:"UBQ_CircularProgress-module__stopGradientStart--V4nSj",offset:"0%"}),(0,DM.jsx)("stop",{className:"UBQ_CircularProgress-module__stopGradientEnd--iZ2JD",offset:"100%"})]})}),(0,DM.jsx)("path",{stroke:"url(#gradient)",d:`M ${40-o/2} 20 A ${l} ${l} 0 0 1 ${o/2} 20`,strokeWidth:o,strokeLinecap:"round"}),(0,DM.jsx)("animateTransform",{from:"0 0 0",to:"360 0 0",attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1300ms"})]})})]}),i&&(0,DM.jsx)("text",{className:"UBQ_CircularProgress-module__label--FKIHb",x:"50%",y:"50%",dy:".1em",textAnchor:"middle",dominantBaseline:"middle",children:i})]})},DT=SV(SH()),DB=SV(S$()),DL=function({icon:t,iconSize:n="normal",width:i,height:r,style:s,className:o}){if(!t)return null;let a="normal"===n?16:24;return(0,DB.jsx)("svg",{viewBox:`0 0 ${i??a} ${r??a}`,width:i??a,height:r??a,style:s,className:(0,DT.default)("UBQ_Icon-module__block--xwdR3",o,{"UBQ_Icon-module__large--ntKxk":"large"===n,"UBQ_Icon-module__normal--nLp7i":"normal"===n}),"aria-hidden":"true",children:(0,DB.jsx)("use",{href:`#${t}`,width:i??a,height:r??a})})},Dj={block:"UBQ_Button-module__block--114Ku",spinner:"UBQ_Button-module__spinner--zR3f0",centered:"UBQ_Button-module__centered--ACV-D",link:"UBQ_Button-module__link--FQkzU","ubq-variant_regular":"UBQ_Button-module__ubq-variant_regular--sQi7-","ubq-variant_plain":"UBQ_Button-module__ubq-variant_plain--U4yyh","ubq-color_accent":"UBQ_Button-module__ubq-color_accent--3eb-s","ubq-color_danger":"UBQ_Button-module__ubq-color_danger--M-P3c","ubq-state_active":"UBQ_Button-module__ubq-state_active--YmzK9","ubq-state_active-style_outline":"UBQ_Button-module__ubq-state_active-style_outline--CUP3o","ubq-state_active-style_pill":"UBQ_Button-module__ubq-state_active-style_pill--4PyTA","ubq-state_selected":"UBQ_Button-module__ubq-state_selected--1-aZk","ubq-size_large":"UBQ_Button-module__ubq-size_large--J2y5o",spin:"UBQ_Button-module__spin--dPx1E"},DP=SV(S$()),DR=(0,IP.forwardRef)(({children:t,icon:n,variant:i="regular",color:r,size:s="normal",isActive:o=!1,activeStateStyle:a="outline",isSelected:l=!1,isDisabled:c=!1,isLoading:u=!1,loadingProgress:d,"data-cy":p,"data-ubq-action":h,"data-active":f,centered:m=!1,...g},x)=>(0,DP.jsx)("button",{ref:x,type:"button",...g,"aria-pressed":o,className:(0,Ij.default)(Dj.block,Dj[`ubq-size_${s}`],Dj[`ubq-variant_${i}`],g.className,{[Dj["ubq-state_active"]]:o&&"none"!==a,[Dj["ubq-state_active-style_outline"]]:"outline"===a,[Dj["ubq-state_active-style_pill"]]:"pill"===a,[Dj["ubq-state_selected"]]:l&&"none"!==a,[Dj["ubq-color_accent"]]:"accent"===r,[Dj["ubq-color_danger"]]:"danger"===r,[Dj.centered]:m}),disabled:g.disabled||c||u,"data-cy":p||g.name,"data-ubq-action":h,"data-loading":u,"data-active":f||o,children:(0,DP.jsxs)("span",{children:[u?(0,DP.jsx)(DI,{className:Dj.spinner,variant:null!=d?"determinate":"indeterminate",value:d,strokeWidth:2}):"string"==typeof n?(0,DP.jsx)(DL,{icon:n}):n,IP.Children.map(t,t=>"string"==typeof t?(0,DP.jsx)("span",{children:t}):t)]})}));DR.displayName="uikit/Button";var DD=SV(SH()),DF=SV(Sz()),DO=SV(S$());(0,DF.forwardRef)(({children:t,variant:n="regular",size:i="normal","data-cy":r,...s},o)=>(0,DO.jsx)("a",{ref:o,...s,className:(0,DD.default)(Dj.block,Dj.link,Dj[`ubq-variant_${n}`],Dj[`ubq-size_${i}`],s.className),"data-cy":r,children:(0,DO.jsx)("span",{children:DF.Children.map(t,t=>"string"==typeof t?(0,DO.jsx)("span",{children:t}):t)})})).displayName="uikit/ButtonLink";var DN=SV(S$()),DU=(0,IL.forwardRef)(function({children:t,className:n,...i},r){return(0,DN.jsx)(DR,{className:(0,IB.default)("UBQ_PlainToggleButton-module__block--OZ9GQ",n),variant:"plain",...i,ref:r,children:t})});Object.defineProperty(DU,"displayName",{value:"uikit/PlainToggleButton"});var DV,DH,DQ,Dz,DG,Dq=SV(SH()),DW=SV(Sz());(DG=DV||(DV={})).HEX="HEX",DG.RGB="RGB",DG.HSL="HSL",DG.CIELab="CIELab",DG.CMYK="CMYK",function(t){t.ANALOGOUS="ANALOGOUS",t.COMPLEMENTARY="COMPLEMENTARY",t.SPLIT_COMPLEMENTARY="SPLIT_COMPLEMENTARY",t.TRIADIC="TRIADIC",t.TETRADIC="TETRADIC",t.SQUARE="SQUARE"}(DH||(DH={})),function(t){t.ADDITIVE="ADDITIVE",t.SUBTRACTIVE="SUBTRACTIVE"}(DQ||(DQ={})),function(t){t.black="#000000",t.silver="#C0C0C0",t.gray="#808080",t.white="#FFFFFF",t.maroon="#800000",t.red="#FF0000",t.purple="#800080",t.fuchsia="#FF00FF",t.green="#008000",t.lime="#00FF00",t.olive="#808000",t.yellow="#FFFF00",t.navy="#000080",t.blue="#0000FF",t.teal="#008080",t.aqua="#00FFFF",t.orange="#FFA500",t.aliceblue="#F0F8FF",t.antiquewhite="#FAEBD7",t.aquamarine="#7FFFD4",t.azure="#F0FFFF",t.beige="#F5F5DC",t.bisque="#FFE4C4",t.blanchedalmond="#FFEBCD",t.blueviolet="#8A2BE2",t.brown="#A52A2A",t.burlywood="#DEB887",t.cadetblue="#5F9EA0",t.chartreuse="#7FFF00",t.chocolate="#D2691E",t.coral="#FF7F50",t.cornflowerblue="#6495ED",t.cornsilk="#FFF8DC",t.crimson="#DC143C",t.cyan="#00FFFF",t.darkblue="#00008B",t.darkcyan="#008B8B",t.darkgoldenrod="#B8860B",t.darkgray="#A9A9A9",t.darkgreen="#006400",t.darkgrey="#A9A9A9",t.darkkhaki="#BDB76B",t.darkmagenta="#8B008B",t.darkolivegreen="#556B2F",t.darkorange="#FF8C00",t.darkorchid="#9932CC",t.darkred="#8B0000",t.darksalmon="#E9967A",t.darkseagreen="#8FBC8F",t.darkslateblue="#483D8B",t.darkslategray="#2F4F4F",t.darkslategrey="#2F4F4F",t.darkturquoise="#00CED1",t.darkviolet="#9400D3",t.deeppink="#FF1493",t.deepskyblue="#00BFFF",t.dimgray="#696969",t.dimgrey="#696969",t.dodgerblue="#1E90FF",t.firebrick="#B22222",t.floralwhite="#FFFAF0",t.forestgreen="#228B22",t.gainsboro="#DCDCDC",t.ghostwhite="#F8F8FF",t.gold="#FFD700",t.goldenrod="#DAA520",t.greenyellow="#ADFF2F",t.grey="#808080",t.honeydew="#F0FFF0",t.hotpink="#FF69B4",t.indianred="#CD5C5C",t.indigo="#4B0082",t.ivory="#FFFFF0",t.khaki="#F0E68C",t.lavender="#E6E6FA",t.lavenderblush="#FFF0F5",t.lawngreen="#7CFC00",t.lemonchiffon="#FFFACD",t.lightblue="#ADD8E6",t.lightcoral="#F08080",t.lightcyan="#E0FFFF",t.lightgoldenrodyellow="#FAFAD2",t.lightgray="#D3D3D3",t.lightgreen="#90EE90",t.lightgrey="#D3D3D3",t.lightpink="#FFB6C1",t.lightsalmon="#FFA07A",t.lightseagreen="#20B2AA",t.lightskyblue="#87CEFA",t.lightslategray="#778899",t.lightslategrey="#778899",t.lightsteelblue="#B0C4DE",t.lightyellow="#FFFFE0",t.limegreen="#32CD32",t.linen="#FAF0E6",t.magenta="#FF00FF",t.mediumaquamarine="#66CDAA",t.mediumblue="#0000CD",t.mediumorchid="#BA55D3",t.mediumpurple="#9370DB",t.mediumseagreen="#3CB371",t.mediumslateblue="#7B68EE",t.mediumspringgreen="#00FA9A",t.mediumturquoise="#48D1CC",t.mediumvioletred="#C71585",t.midnightblue="#191970",t.mintcream="#F5FFFA",t.mistyrose="#FFE4E1",t.moccasin="#FFE4B5",t.navajowhite="#FFDEAD",t.oldlace="#FDF5E6",t.olivedrab="#6B8E23",t.orangered="#FF4500",t.orchid="#DA70D6",t.palegoldenrod="#EEE8AA",t.palegreen="#98FB98",t.paleturquoise="#AFEEEE",t.palevioletred="#DB7093",t.papayawhip="#FFEFD5",t.peachpuff="#FFDAB9",t.peru="#CD853F",t.pink="#FFC0CB",t.plum="#DDA0DD",t.powderblue="#B0E0E6",t.rosybrown="#BC8F8F",t.royalblue="#4169E1",t.saddlebrown="#8B4513",t.salmon="#FA8072",t.sandybrown="#F4A460",t.seagreen="#2E8B57",t.seashell="#FFF5EE",t.sienna="#A0522D",t.skyblue="#87CEEB",t.slateblue="#6A5ACD",t.slategray="#708090",t.slategrey="#708090",t.snow="#FFFAFA",t.springgreen="#00FF7F",t.steelblue="#4682B4",t.tan="#D2B48C",t.thistle="#D8BFD8",t.tomato="#FF6347",t.turquoise="#40E0D0",t.violet="#EE82EE",t.wheat="#F5DEB3",t.whitesmoke="#F5F5F5",t.yellowgreen="#9ACD32",t.rebeccapurple="#663399"}(Dz||(Dz={}));var D$,DZ=Object.keys(Dz),DY={HEX:["R","G","B","A"],RGB:["R","G","B","A"],HSL:["H","S","L","A"],CIELab:["L","a","b","A"],CMYK:["C","M","Y","K","A"]},DK={BGR:DV.RGB,ABGR:DV.RGB,HLS:DV.HSL,AHLS:DV.HSL,LAB:DV.CIELab,ALAB:DV.CIELab,CKMY:DV.CMYK,ACKMY:DV.CMYK};!function(t){t.NUMBER="number",t.BOOLEAN="boolean"}(D$||(D$={}));var DX,DJ,D0,D1={[DV.HEX]:/^#(?:([a-f\d])([a-f\d])([a-f\d])([a-f\d])?|([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?)$/i,[DV.RGB]:/^rgba?\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)(?:\s*,\s*((?:\d*\.)?\d+))?|((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[DV.HSL]:/^hsla?\s*\(\s*(?:(-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s*,\s*((?:\d*\.)?\d+)%\s*,\s*((?:\d*\.)?\d+)%(?:\s*,\s*((?:\d*\.)?\d+))?|(-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s*((?:\d*\.)?\d+)%\s*((?:\d*\.)?\d+)%(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[DV.CIELab]:/^lab\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*(-?(?:\d*\.)?\d+%?)\s*(-?(?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[DV.CMYK]:/^(?:device-cmyk|cmyk)\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)(?:\s*,\s*((?:\d*\.)?\d+))?|((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/},D2=/^(-?(?:\d*\.)?\d+)((?:deg|grad|rad|turn)?)$/,D3=/^(-?\d+(?:\.\d+)?|-?\.\d+)%$/,D5=/^0x([a-f\d]{1,2})$/i,D4=/\{(\d+)\}/g,D6=/,( +|\d+)/g,D8=/ +/;(function(t){t.NONE="none",t.DEGREES="deg",t.GRADIANS="grad",t.RADIANS="rad",t.TURNS="turn"})(DX||(DX={})),function(t){t.NONE="none",t.PERCENT="percent"}(DJ||(DJ={})),function(t){t.DEVICE_CMYK="device-cmyk",t.CMYK="cmyk"}(D0||(D0={}));var D7={decimals:6,legacyCSS:!1,spacesAfterCommas:!1,anglesUnit:DX.NONE,rgbUnit:DJ.NONE,labUnit:DJ.NONE,cmykUnit:DJ.PERCENT,alphaUnit:DJ.NONE,cmykFunction:D0.DEVICE_CMYK},D9=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),Fe=t=>+`${t}`.replace(D3,"$1"),Ft=t=>D3.test(`${t}`)?Fe(t):Math.min(+t,100),Fn=t=>(1===t.length&&(t+=t),parseInt(t,16)),Fi=t=>{let n=Fl(t,0).toString(16).toUpperCase();return 1===n.length?`0x0${n}`:`0x${n}`},Fr=(t,n=!1)=>!n&&D3.test(t)?Math.min(255*Fe(t)/100,255):D5.test(t)?(3===t.length&&(t+=t.slice(-1)),n?Fl(t)/255:Fl(t)):Math.min(+t,n?1:255),Fs=t=>D3.test(t)?Fc(125*Fe(t)/100,-125,125):Fc(+t,-125,125),Fo=t=>Math.min(D3.test(t)?Fe(t)/100:+t,1),Fa=t=>[...t].sort().join("").toUpperCase(),Fl=(t,n=6)=>{let i=Math.pow(10,n);return Math.round(+t*i)/i},Fc=(t,n,i)=>Math.max(n,Math.min(t,i)),Fu=t=>{if("string"==typeof t){let n=t.match(D2),i=+n[1];switch(n[2]){case DX.RADIANS:t=Fl(180*i/Math.PI);break;case DX.TURNS:t=Fl(360*i);break;case DX.GRADIANS:t=Fl(.9*i);break;case DX.DEGREES:default:t=i}}return(t>360||t<0)&&(t-=360*Math.floor(t/360)),t},Fd=(t,...n)=>{let i=[],r=[],s=[],o=[],a=[],l=[],c=Object.values(DX),u=Object.values(DJ),d=Object.values(D0),p={legacyCSS:0,spacesAfterCommas:0,cmykFunction:0};for(let t of n)if("string"==typeof t){if(i.push(t),t.includes(",")){p.legacyCSS++;let n=t.match(D6);1===new Set(n).size&&D8.test(n[0].slice(1))&&p.spacesAfterCommas++}if(t.match(D1.HSL)){let n=t.match(D1.HSL),i=n[1]||n[5],s=n[8],o=i.match(D2)[2];r.push(""===o?DX.NONE:o),l.push(D3.test(s));continue}if(D1.RGB.test(t)){let n=t.match(D1.RGB),i=n[1]||n[5],r=n[2]||n[6],o=n[3]||n[7],a=n[8];s.push(D3.test(i)&&D3.test(r)&&D3.test(o)),l.push(D3.test(a));continue}if(D1.CIELab.test(t)){let n=t.match(D1.CIELab),i=n[1],r=n[2],s=n[3],a=n[4];o.push(D3.test(i)&&D3.test(r)&&D3.test(s)),l.push(D3.test(a));continue}if(t.match(D1.CMYK)){let n=t.match(D1.CMYK),i=n[1]||n[6],r=n[2]||n[7],s=n[3]||n[8],o=n[4]||n[9],c=n[10];a.push(D3.test(i)&&D3.test(r)&&D3.test(s)&&D3.test(o)),t.startsWith("cmyk")&&p.cmykFunction++,l.push(D3.test(c))}}return{decimals:typeof t.decimals===D$.NUMBER?t.decimals:D7.decimals,legacyCSS:typeof t.legacyCSS===D$.BOOLEAN?t.legacyCSS:!!(i.length&&p.legacyCSS===i.length)||D7.legacyCSS,spacesAfterCommas:typeof t.spacesAfterCommas===D$.BOOLEAN?t.spacesAfterCommas:!!(i.length&&p.spacesAfterCommas===i.length)||D7.spacesAfterCommas,anglesUnit:t.anglesUnit&&c.includes(t.anglesUnit)?t.anglesUnit:1===new Set(r).size?r[0]:D7.anglesUnit,rgbUnit:t.rgbUnit&&u.includes(t.rgbUnit)?t.rgbUnit:1===new Set(s).size&&s[0]?DJ.PERCENT:D7.rgbUnit,labUnit:t.labUnit&&u.includes(t.labUnit)?t.labUnit:1===new Set(o).size&&o[0]?DJ.PERCENT:D7.labUnit,cmykUnit:t.cmykUnit&&u.includes(t.cmykUnit)?t.cmykUnit:1!==new Set(a).size||a[0]?D7.cmykUnit:DJ.NONE,alphaUnit:t.alphaUnit&&u.includes(t.alphaUnit)?t.alphaUnit:1===new Set(l).size&&l[0]?DJ.PERCENT:D7.alphaUnit,cmykFunction:t.cmykFunction&&d.includes(t.cmykFunction)?t.cmykFunction:a.length&&a.length===p.cmykFunction?D0.CMYK:D7.cmykFunction}},Fp=t=>`${t}` in DQ,Fh=[[.4360747,.3850649,.1430804],[.2225045,.7168786,.0606169],[.0139322,.0971045,.7141733]],Ff=[[3.1338561,-1.6168667,-.4906146],[-.9787684,1.9161415,.033454],[.0719453,-.2289914,1.4052427]],Fm=Fh.map(t=>t.reduce((t,n)=>t+n,0)),Fg=(t,n,i)=>(i<0&&(i+=6),i>=6&&(i-=6),Fl(i<1?255*((n-t)*i+t):i<3?255*n:i<4?255*((n-t)*(4-i)+t):255*t)),Fx=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4,Fy=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,Fv=(t,n,i,r)=>{let s=[0,0,0],o=[t,n,i];return r.forEach((t,n)=>{t.forEach((t,i)=>{s[n]+=t*o[i]})}),s},Fb=(t,n,i)=>{n/=100;let r=(i/=100)<=.5?i*(n+1):i+n-i*n,s=2*i-r;return{R:Fg(s,r,2+(t/=60)),G:Fg(s,r,t),B:Fg(s,r,t-2)}},FA=(t,n,i,r=1)=>{t/=255,n/=255,i/=255,r=Math.min(r,1);let s=Math.max(t,n,i),o=Math.min(t,n,i),a=s-o,l=0,c=0,u=(s+o)/2;if(0!==a){switch(s){case t:l=(n-i)/a%6;break;case n:l=(i-t)/a+2;break;case i:l=(t-n)/a+4}(l=Fl(60*l))<0&&(l+=360),c=a/(1-Math.abs(2*u-1))}return{H:l,S:Fl(100*c),L:Fl(100*u),A:r}},Fw=(t,n,i)=>{let r=[t/255,n/255,i/255].map(Fx),s=Fv(r[0],r[1],r[2],Fh),o=((t,n,i)=>{let r=t=>t>(6/29)**3?Math.cbrt(t):t/(3*(6/29)**2)+4/29,s=r(t/Fm[0]),o=r(n/Fm[1]);return[116*o-16,500*(s-o),200*(o-r(i/Fm[2]))]})(s[0],s[1],s[2]);return{L:o[0],a:o[1],b:o[2]}},FC=(t,n,i)=>{let r=((t,n,i)=>{let r=t=>t>6/29?t**3:3*(6/29)**2*(t-4/29),s=(t+16)/116;return[Fm[0]*r(s+n/500),Fm[1]*r(s),Fm[2]*r(s-i/200)]})(t,n,i),s=Fv(r[0],r[1],r[2],Ff).map(Fy);return{R:Fc(255*s[0],0,255),G:Fc(255*s[1],0,255),B:Fc(255*s[2],0,255)}},F_=(t,n,i,r)=>({R:Fl(255*(1-t)*(r=1-r)),G:Fl(255*(1-n)*r),B:Fl(255*(1-i)*r)}),FS=(t,n,i)=>{let r=1-Math.max(t/=255,n/=255,i/=255),s=1-r,o=s&&(s-n)/s,a=s&&(s-i)/s;return{C:Fl(100*(s&&(s-t)/s)),M:Fl(100*o),Y:Fl(100*a),K:Fl(100*r)}},Fk=(t,n)=>{if(t<0&&(t+=360),t>360&&(t-=360),360===t||0===t)return t;let i=[[0,120],[120,180],[180,240],[240,360]],r=[[0,60],[60,120],[120,240],[240,360]],s=n?r:i,o=0,a=0,l=0,c=0;return(n?i:r).find((n,i)=>t>=n[0]&&t<n[1]&&(o=n[0],a=n[1],l=s[i][0],c=s[i][1],!0)),l+(c-l)/(a-o)*(t-o)},FE=t=>t?", ":",",FM=(t,n)=>DY[DK[Fa(Object.keys(t))]].reduce((i,r,s)=>{let o=t[r];return void 0!==o&&i.push(n(o,s)),i},[]),FI=(t,n)=>t.replace(D4,(t,i)=>`${n[+i-1]}`),FT=(t,n,i=!1)=>{let{alphaUnit:r,legacyCSS:s,decimals:o}=n;return r!==DJ.PERCENT||s&&!i?Fl(t,o):`${Fl(100*t,o)}%`},FB={[DV.HEX]:t=>{let n=FM(t,t=>(t=>{let n=Fl(t,0).toString(16).toUpperCase();return 1===n.length&&(n=`0${n}`),n})(Fl(t)));return FI(4===n.length?"#{1}{2}{3}{4}":"#{1}{2}{3}",n)},[DV.RGB]:(t,n)=>{let{decimals:i,legacyCSS:r,spacesAfterCommas:s,rgbUnit:o}=n,a=FE(s),l=FM(t,(t,r)=>o===DJ.PERCENT&&r<3?`${Fl(t/255*100,i)}%`:3===r?FT(t,n):Fl(t,i));return FI(r?4===l.length?`rgba({1}${a}{2}${a}{3}${a}{4})`:`rgb({1}${a}{2}${a}{3})`:4===l.length?"rgb({1} {2} {3} / {4})":"rgb({1} {2} {3})",l)},[DV.HSL]:(t,n)=>{let{decimals:i,legacyCSS:r,spacesAfterCommas:s,anglesUnit:o}=n,a=FE(s),l=FM(t,(t,r)=>0===r&&o!==DX.NONE?`${Fl(((t,n)=>{let i;switch(n){case DX.RADIANS:i=Fl(t*Math.PI/180);break;case DX.TURNS:i=Fl(t/360);break;case DX.GRADIANS:i=Fl(10/9*t);break;case DX.DEGREES:case DX.NONE:default:i=t}return i})(t,o),i)}${o}`:3===r?FT(t,n):Fl(t,i));return FI(r?4===l.length?`hsla({1}${a}{2}%${a}{3}%${a}{4})`:`hsl({1}${a}{2}%${a}{3}%)`:4===l.length?"hsl({1} {2}% {3}% / {4})":"hsl({1} {2}% {3}%)",l)},[DV.CIELab]:(t,n)=>{let{decimals:i,labUnit:r}=n,s=FM(t,(t,s)=>{if(0===s){let n=Fl(Ft(t),i);return r===DJ.PERCENT?`${n}%`:`${n}`}return s<3?r===DJ.PERCENT?`${Fl(t/125*100,i)}%`:Fl(t,i):FT(t,n,!0)});return FI(4===s.length?"lab({1} {2} {3} / {4})":"lab({1} {2} {3})",s)},[DV.CMYK]:(t,n)=>{let{decimals:i,legacyCSS:r,spacesAfterCommas:s,cmykUnit:o,cmykFunction:a}=n,l=FE(s),c=FM(t,(t,r)=>o===DJ.PERCENT&&r<4?`${Fl(t,i)}%`:4===r?FT(t,n):Fl(t/100,i));return FI(r?5===c.length?`${a}({1}${l}{2}${l}{3}${l}{4}${l}{5})`:`${a}({1}${l}{2}${l}{3}${l}{4})`:5===c.length?`${a}({1} {2} {3} {4} / {5})`:`${a}({1} {2} {3} {4})`,c)}},FL=t=>("string"==typeof t&&(t=D3.test(t)?Fe(t)/100:+t),isNaN(+t)||t>1?1:Fl(t)),Fj=(t,n,i)=>n.reduce((n,r)=>[...n,{...t,H:i===DQ.ADDITIVE?Fu(t.H+r):Fu(Fk(Fk(t.H,!1)+r,!0))}],[{...t}]),FP=(t,n)=>Fj(t,[30,-30],n),FR=(t,n)=>Fj(t,[180],n),FD=(t,n)=>Fj(t,[150,-150],n),FF=(t,n)=>Fj(t,[120,-120],n),FO=(t,n)=>Fj(t,[60,-120,180],n),FN=(t,n)=>Fj(t,[90,-90,180],n),FU=t=>"string"==typeof t?(t=>{let n;if(Object.keys(DV).some(i=>{if(D1[i].test(t))return n=i,!0}),!n&&~DZ.indexOf(t)&&(n=DV.HEX),!n)throw Error("The provided string color doesn't have a correct format");return n})(t):(t=>{let n,i=!1,r=Fa(Object.keys(t));if(DK[r]&&(n=DK[r]),n&&n===DV.RGB){let r=Object.entries(t).some(t=>!D5.test(`${t[1]}`)),s=Object.entries(t).some(t=>!(D3.test(`${t[1]}`)||!D5.test(`${t[1]}`)&&!isNaN(+t[1])&&255>=+t[1]));r&&s&&(i=!0),r||(n=DV.HEX)}if(!n||i)throw Error("The provided color object doesn't have the proper keys or format");return n})(t),FV={[DV.HEX](t){let n=(~DZ.indexOf(t)?Dz[t]:t).match(D1.HEX),i={R:Fn(n[1]||n[5]),G:Fn(n[2]||n[6]),B:Fn(n[3]||n[7])},r=n[4]||n[8];return void 0!==r&&(i.A=Fn(r)/255),i},[DV.RGB](t){let n=t.match(D1.RGB),i=Fr(n[1]||n[5]),r=Fr(n[2]||n[6]),s=Fr(n[3]||n[7]),o=n[4]||n[8],a={R:Math.min(i,255),G:Math.min(r,255),B:Math.min(s,255)};return void 0!==o&&(a.A=FL(o)),a},[DV.HSL](t){let n=t.match(D1.HSL),i=Fu(n[1]||n[5]),r=Ft(n[2]||n[6]),s=Ft(n[3]||n[7]),o=n[4]||n[8],a=Fb(i,r,s);return void 0!==o&&(a.A=FL(o)),a},[DV.CIELab](t){let n=t.match(D1.CIELab),i=Ft(n[1]),r=Fs(n[2]),s=Fs(n[3]),o=n[4],a=FC(i,r,s);return void 0!==o&&(a.A=FL(o)),a},[DV.CMYK](t){let n=t.match(D1.CMYK),i=Fo(n[1]||n[6]),r=Fo(n[2]||n[7]),s=Fo(n[3]||n[8]),o=Fo(n[4]||n[9]),a=n[5]||n[10],l=F_(i,r,s,o);return void 0!==a&&(l.A=FL(a)),l}},FH={[DV.HEX](t){let n={R:Fr(`${t.R}`),G:Fr(`${t.G}`),B:Fr(`${t.B}`)};return D9(t,"A")&&(n.A=Math.min(Fr(`${t.A}`,!0),1)),n},[DV.RGB](t){return this.HEX(t)},[DV.HSL](t){let n=Ft(`${t.S}`),i=Ft(`${t.L}`),r=Fb(Fu(t.H),n,i);return D9(t,"A")&&(r.A=FL(t.A)),r},[DV.CIELab](t){let n=FC(Ft(`${t.L}`),Fs(`${t.a}`),Fs(`${t.b}`));return D9(t,"A")&&(n.A=FL(t.A)),n},[DV.CMYK](t){let n=Fo(`${t.C}`),i=F_(n,Fo(`${t.M}`),Fo(`${t.Y}`),Fo(`${t.K}`));return D9(t,"A")&&(i.A=FL(t.A)),i}},FQ=(t,n=FU(t))=>"string"==typeof t?FV[n](t):FH[n](t),Fz={[DV.HEX]:t=>({R:Fi(t.R),G:Fi(t.G),B:Fi(t.B)}),HEXA(t){let n=Fz.HEX(t);return n.A=D9(t,"A")?Fi(255*t.A):"0xFF",n},[DV.RGB](t,n){let i=F$(t,n);return D9(i,"A")&&delete i.A,i},RGBA(t,n){let i=Fz.RGB(t,n);return i.A=D9(t,"A")?Fl(t.A):1,i},[DV.HSL](t,n){let i=FA(t.R,t.G,t.B);return delete i.A,FZ(i,n)},HSLA(t,n){let i=Fz.HSL(t,n);return i.A=D9(t,"A")?Fl(t.A,n):1,i},[DV.CIELab]:(t,n)=>FY(Fw(t.R,t.G,t.B),n),CIELabA(t,n){let i=Fz.CIELab(t,n);return i.A=D9(t,"A")?Fl(t.A,n):1,i},[DV.CMYK]:(t,n)=>FK(FS(t.R,t.G,t.B),n),CMYKA(t,n){let i=Fz.CMYK(t,n);return i.A=D9(t,"A")?Fl(t.A,n):1,i}},FG=(t,n,i,r)=>{let s=FU(t),o="string"==typeof t,a=FQ(t,s),l="string"==typeof t&&D9(a,"A")||"string"!=typeof t&&D9(t,"A"),c=FA(a.R,a.G,a.B,a.A);l||delete c.A;let u=i?c.L/(n+1):(100-c.L)/(n+1),d=Array(n).fill(null).map((t,n)=>({...c,L:c.L+u*(n+1)*(1-2*+i)}));switch(s){case DV.HEX:default:return d.map(t=>{let n=Fb(t.H,t.S,t.L);return l&&(n.A=t.A),o?l?FB.HEX({...n,A:Fl(255*n.A)}):FB.HEX(n):l?Fz.HEXA(n):Fz.HEX(n)});case DV.RGB:return d.map(t=>{let n=Fb(t.H,t.S,t.L);return l&&(n.A=t.A),o?FB.RGB(n,r):l?Fz.RGBA(n,r.decimals):Fz.RGB(n,r.decimals)});case DV.HSL:return d.map(t=>o?FB.HSL(t,r):l?Fz.HSLA({...Fb(t.H,t.S,t.L),A:t.A},r.decimals):Fz.HSL(Fb(t.H,t.S,t.L),r.decimals));case DV.CIELab:return d.map(t=>{let n=Fb(t.H,t.S,t.L);return o?FB.CIELab(l?Fz.CIELabA(n,r.decimals):Fz.CIELab(n,r.decimals),r):l?Fz.CIELabA({...n,A:t.A},r.decimals):Fz.CIELab(n,r.decimals)})}},Fq={buildHarmony(t,n,i,r){let s=FU(t),o=FQ(t,s),a=FA(o.R,o.G,o.B,o.A),l="string"==typeof t&&D9(o,"A")||"string"!=typeof t&&D9(t,"A"),c="string"==typeof t;switch(s){case DV.HEX:default:return l?this.HEXA(FZ(a,0),n,i,c):this.HEX(FZ(a,0),n,i,c);case DV.HSL:return l?this.HSLA(a,n,i,c,r):this.HSL(a,n,i,c,r);case DV.RGB:return l?this.RGBA(a,n,i,c,r):this.RGB(a,n,i,c,r);case DV.CIELab:return l?this.CIELabA(a,n,i,c,r):this.CIELab(a,n,i,c,r)}},[DV.HEX]:(t,n,i,r)=>n(t,i).map(t=>r?FB.HEX(Fb(t.H,t.S,t.L)):Fz.HEX(Fb(t.H,t.S,t.L))),HEXA:(t,n,i,r)=>n(t,i).map(t=>r?FB.HEX({...Fb(t.H,t.S,t.L),A:255*FL(t.A)}):Fz.HEXA({...Fb(t.H,t.S,t.L),A:FL(t.A)})),[DV.RGB]:(t,n,i,r,s)=>n(t,i).map(t=>r?FB.RGB(Fb(t.H,t.S,t.L),s):Fz.RGB(Fb(t.H,t.S,t.L),s.decimals)),RGBA:(t,n,i,r,s)=>n(t,i).map(t=>r?FB.RGB({...Fb(t.H,t.S,t.L),A:FL(t.A)},s):Fz.RGBA({...Fb(t.H,t.S,t.L),A:FL(t.A)},s.decimals)),[DV.HSL]:(t,n,i,r,s)=>n(t,i).map(t=>r?FB.HSL({H:t.H,S:t.S,L:t.L},s):Fz.HSL(Fb(t.H,t.S,t.L),s.decimals)),HSLA:(t,n,i,r,s)=>n(t,i).map(t=>r?FB.HSL({...t,A:FL(t.A)},s):Fz.HSLA({...Fb(t.H,t.S,t.L),A:FL(t.A)},s.decimals)),[DV.CIELab]:(t,n,i,r,s)=>n(t,i).map(t=>{let n=Fb(t.H,t.S,t.L);return r?FB.CIELab(Fw(n.R,n.G,n.B),s):Fz.CIELab(n,s.decimals)}),CIELabA:(t,n,i,r,s)=>n(t,i).map(t=>{let n=Fb(t.H,t.S,t.L);return r?FB.CIELab({...Fw(n.R,n.G,n.B),A:FL(t.A)},s):Fz.CIELabA({...n,A:FL(t.A)},s.decimals)})},FW={mix(t,n){let i;let r=t.map(t=>{let n=FU(t);return FQ(t,n)}),s=n===DQ.SUBTRACTIVE?r.map(t=>{let n=((t,n,i)=>{let r=Math.min(t,n,i),s=Math.min(255-t,255-n,255-i),o=t-r,a=n-r,l=i-r,c=Math.min(o,a),u=o-c,d=(a+c)/2,p=(l+a-c)/2,h=Math.max(u,d,p)/Math.max(o,a,l),f=isNaN(h)||h===1/0||h<=0?1:h;return{R:u/f+s,Y:d/f+s,B:p/f+s}})(t.R,t.G,t.B);return D9(t,"A")&&(n.A=t.A),n}):null;function o(t){let i=n===DQ.ADDITIVE?{R:0,G:0,B:0,A:0}:{R:0,Y:0,B:0,A:0};return t.reduce((t,i)=>{let r=D9(i,"A")?i.A:1,s={R:Math.min(t.R+i.R*r,255),B:Math.min(t.B+i.B*r,255),A:1-(1-r)*(1-t.A)},o="G"in t?t.G:t.Y,a="G"in i?i.G:i.Y;return{...s,...n===DQ.ADDITIVE?{G:Math.min(o+a*r,255)}:{Y:Math.min(o+a*r,255)}}},i)}if(n===DQ.ADDITIVE)i=o(r);else{let t=o(s);(i=((t,n,i)=>{let r=Math.min(t,n,i),s=Math.min(255-t,255-n,255-i),o=t-r,a=n-r,l=i-r,c=Math.min(a,l),u=o+a-c,d=a+c,p=2*(l-c),h=Math.max(u,d,p)/Math.max(o,a,l),f=isNaN(h)||h===1/0||h<=0?1:h;return{R:u/f+s,G:d/f+s,B:p/f+s}})(t.R,t.Y,t.B)).A=t.A}return{R:Fl(i.R),G:Fl(i.G),B:Fl(i.B),A:Fc(i.A,0,1)}},[DV.HEX](t,n,i){let r=this.mix(t,n);return delete r.A,i?FB.HEX(r):Fz.HEX(r)},HEXA(t,n,i){let r=this.mix(t,n);return r.A=i?255*FL(r.A):FL(r.A),i?FB.HEX(r):Fz.HEXA(r)},[DV.RGB](t,n,i,r){let s=this.mix(t,n);return delete s.A,i?FB.RGB(s,r):Fz.RGB(s,r.decimals)},RGBA(t,n,i,r){let s=this.mix(t,n);return i?FB.RGB(s,r):Fz.RGBA(s,r.decimals)},[DV.HSL](t,n,i,r){let s=this.mix(t,n),o=FA(s.R,s.G,s.B);return delete s.A,delete o.A,i?FB.HSL(o,r):Fz.HSL(s,r.decimals)},HSLA(t,n,i,r){let s=this.mix(t,n),o=FA(s.R,s.G,s.B,s.A);return i?FB.HSL(o,r):Fz.HSLA(s,r.decimals)},[DV.CIELab](t,n,i,r){let s=this.mix(t,n),o=Fw(s.R,s.G,s.B);return delete s.A,i?FB.CIELab(o,r):Fz.CIELabA(s,r.decimals)},CIELabA(t,n,i,r){let s=this.mix(t,n),o=Fw(s.R,s.G,s.B);return D9(s,"A")&&(o.A=s.A),i?FB.CIELab(o,r):Fz.CIELabA(s,r.decimals)}},F$=(t,n)=>({R:Fl(t.R,n),G:Fl(t.G,n),B:Fl(t.B,n),...D9(t,"A")?{A:Fl(t.A,n)}:{}}),FZ=(t,n)=>({H:Fl(t.H,n),S:Fl(t.S,n),L:Fl(t.L,n),...D9(t,"A")?{A:Fl(t.A,n)}:{}}),FY=(t,n)=>({L:Fl(t.L,n),a:Fl(t.a,n),b:Fl(t.b,n)}),FK=(t,n)=>({C:Fl(t.C,n),M:Fl(t.M,n),Y:Fl(t.Y,n),K:Fl(t.K,n)}),FX=(t,n,i,r)=>r(FQ(t,n),i),FJ=(t,n,i,r,s)=>(i<1&&(i=5),((t,n,i)=>{let r=i-1,s=(n.R-t.R)/r,o=(n.G-t.G)/r,a=(n.B-t.B)/r,l=FL(t.A),c=(FL(n.A)-l)/r;return Array(i).fill(null).map((i,u)=>0===u?t:u===r?n:{R:Fl(t.R+s*u),G:Fl(t.G+o*u),B:Fl(t.B+a*u),A:Fl(l+c*u)})})(FQ(t),FQ(n),i).map(t=>s(t,r))),F0=(t,n,i,r)=>({[DH.ANALOGOUS]:Fq.buildHarmony(n,FP,i,r),[DH.COMPLEMENTARY]:Fq.buildHarmony(n,FR,i,r),[DH.SPLIT_COMPLEMENTARY]:Fq.buildHarmony(n,FD,i,r),[DH.TRIADIC]:Fq.buildHarmony(n,FF,i,r),[DH.TETRADIC]:Fq.buildHarmony(n,FO,i,r),[DH.SQUARE]:Fq.buildHarmony(n,FN,i,r)})[t],F1=class t{constructor(t,n={}){this._options=Fd(n,t),this.rgb=FQ(t),this.updateHSL(),this.updateLab(),this.updateCMYK()}updateRGB(){this.rgb={...Fb(this.hsl.H,this.hsl.S,this.hsl.L),A:this.hsl.A}}updateRGBFromCMYK(){this.rgb={...F_(this.cmyk.C,this.cmyk.M,this.cmyk.Y,this.cmyk.K),A:this.rgb.A}}updateRGBFromLab(){this.rgb={...FC(this.lab.L,this.lab.a,this.lab.b),A:this.rgb.A}}updateHSL(){this.hsl=FA(this.rgb.R,this.rgb.G,this.rgb.B,this.rgb.A)}updateLab(){this.lab={...Fw(this.rgb.R,this.rgb.G,this.rgb.B),A:this.rgb.A}}updateCMYK(){this.cmyk=FS(this.rgb.R,this.rgb.G,this.rgb.B)}setOptions(t={}){return this._options={...this._options,...t},this}setH(t){return this.hsl.H=Fu(t),this.updateRGB(),this.updateLab(),this.updateCMYK(),this}setS(t){return this.hsl.S=Fc(t,0,100),this.updateRGB(),this.updateLab(),this.updateCMYK(),this}setL(t){return this.hsl.L=Fc(t,0,100),this.updateRGB(),this.updateLab(),this.updateCMYK(),this}setR(t){this.rgb.R=Fc(t,0,255),this.updateHSL(),this.updateLab(),this.updateCMYK()}setG(t){return this.rgb.G=Fc(t,0,255),this.updateHSL(),this.updateLab(),this.updateCMYK(),this}setB(t){return this.rgb.B=Fc(t,0,255),this.updateHSL(),this.updateLab(),this.updateCMYK(),this}setCIEL(t){return this.lab.L=Fc(t,0,100),this.updateRGBFromLab(),this.updateHSL(),this.updateCMYK(),this}setCIEa(t){return this.lab.a=Fc(t,-125,125),this.updateRGBFromLab(),this.updateHSL(),this.updateCMYK(),this}setCIEb(t){return this.lab.b=Fc(t,-125,125),this.updateRGBFromLab(),this.updateHSL(),this.updateCMYK(),this}setA(t){return this.hsl.A=this.rgb.A=Fc(t,0,1),this}setC(t){return this.cmyk.C=Fc(t,0,100),this.updateRGBFromCMYK(),this.updateHSL(),this.updateLab(),this}setM(t){return this.cmyk.M=Fc(t,0,100),this.updateRGBFromCMYK(),this.updateHSL(),this.updateLab(),this}setY(t){return this.cmyk.Y=Fc(t,0,100),this.updateRGBFromCMYK(),this.updateHSL(),this.updateLab(),this}setK(t){return this.cmyk.K=Fc(t,0,100),this.updateRGBFromCMYK(),this.updateHSL(),this.updateLab(),this}get options(){return this._options}get H(){return Fl(this.hsl.H,this.options.decimals)}get S(){return Fl(this.hsl.S,this.options.decimals)}get L(){return Fl(this.hsl.L,this.options.decimals)}get CIEL(){return Fl(this.lab.L,this.options.decimals)}get CIEa(){return Fl(this.lab.a,this.options.decimals)}get CIEb(){return Fl(this.lab.b,this.options.decimals)}get R(){return Fl(this.rgb.R,this.options.decimals)}get G(){return Fl(this.rgb.G,this.options.decimals)}get B(){return Fl(this.rgb.B,this.options.decimals)}get A(){return Fl(this.hsl.A,this.options.decimals)}get C(){return Fl(this.cmyk.C,this.options.decimals)}get M(){return Fl(this.cmyk.M,this.options.decimals)}get Y(){return Fl(this.cmyk.Y,this.options.decimals)}get K(){return Fl(this.cmyk.K,this.options.decimals)}get HEXObject(){return Fz.HEX(this.rgb)}get HEXAObject(){return Fz.HEXA(this.rgb)}get RGBObject(){return{R:this.R,G:this.G,B:this.B}}get RGBAObject(){return{...this.RGBObject,A:this.A}}get HSLObject(){return{H:this.H,S:this.S,L:this.L}}get HSLAObject(){return{...this.HSLObject,A:this.A}}get CIELabObject(){return{L:this.CIEL,a:this.CIEa,b:this.CIEb}}get CIELabAObject(){return{...this.CIELabObject,A:this.A}}get CMYKObject(){return{C:this.C,M:this.M,Y:this.Y,K:this.K}}get CMYKAObject(){return{...this.CMYKObject,A:this.A}}get HEX(){return FB.HEX({R:this.R,G:this.G,B:this.B})}get HEXA(){return FB.HEX({R:this.R,G:this.G,B:this.B,A:255*this.A})}get RGB(){return FB.RGB({R:this.R,G:this.G,B:this.B},this.options)}get RGBA(){return FB.RGB({R:this.R,G:this.G,B:this.B,A:this.A},this.options)}get HSL(){return FB.HSL({H:this.H,S:this.S,L:this.L},this.options)}get HSLA(){return FB.HSL({H:this.H,S:this.S,L:this.L,A:this.A},this.options)}get CIELab(){return FB.CIELab({L:this.CIEL,a:this.CIEa,b:this.CIEb},this.options)}get CIELabA(){return FB.CIELab({L:this.CIEL,a:this.CIEa,b:this.CIEb,A:this.A},this.options)}get CMYK(){return FB.CMYK({C:this.C,M:this.M,Y:this.Y,K:this.K},this.options)}get CMYKA(){return FB.CMYK({C:this.C,M:this.M,Y:this.Y,K:this.K,A:this.A},this.options)}static toHEXObject(t){let n=FU(t);return FX(t,n,0,Fz.HEX)}static toHEX(n){return FB.HEX(t.toHEXObject(n))}static toHEXAObject(t){let n=FU(t);return FX(t,n,0,Fz.HEXA)}static toHEXA(n){return FB.HEX(t.toHEXAObject(n))}static toRGBObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.RGB)}static toRGB(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.RGB);return FB.RGB(s,r)}static toRGBAObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.RGBA)}static toRGBA(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.RGBA);return FB.RGB(s,r)}static toHSLObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.HSL)}static toHSL(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.HSL);return FB.HSL(s,r)}static toHSLAObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.HSLA)}static toHSLA(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.HSLA);return FB.HSL(s,r)}static toCIELabObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.CIELab)}static toCIELab(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.CIELab);return FB.CIELab(s,r)}static toCIELabAObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.CIELabA)}static toCIELabA(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.CIELabA);return FB.CIELab(s,r)}static toCMYKObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.CMYK)}static toCMYK(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.CMYK);return FB.CMYK(s,r)}static toCMYKAObject(t,n={}){let i=FU(t);return FX(t,i,n.decimals,Fz.CMYKA)}static toCMYKA(t,n={}){let i=FU(t),r=Fd(n,t),s=FX(t,i,n.decimals,Fz.CMYKA);return FB.CMYK(s,r)}static getBlendHEXObject(t,n,i=5){return FJ(t,n,i,0,Fz.HEX)}static getBlendHEX(n,i,r=5){return t.getBlendHEXObject(n,i,r).map(t=>FB.HEX(t))}static getBlendHEXAObject(t,n,i=5){return FJ(t,n,i,0,Fz.HEXA)}static getBlendHEXA(n,i,r=5){return t.getBlendHEXAObject(n,i,r).map(t=>FB.HEX(t))}static getBlendRGBObject(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.RGB):FJ(t,n,5,i?.decimals,Fz.RGB)}static getBlendRGB(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.RGB).map(i=>FB.RGB(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.RGB).map(r=>FB.RGB(r,Fd(i||{},t,n)))}static getBlendRGBAObject(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.RGBA):FJ(t,n,5,i?.decimals,Fz.RGBA)}static getBlendRGBA(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.RGBA).map(i=>FB.RGB(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.RGBA).map(r=>FB.RGB(r,Fd(i||{},t,n)))}static getBlendHSLObject(t,n,i,r){return FJ(t,n,"number"==typeof i?i:5,r?.decimals,Fz.HSL)}static getBlendHSL(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.HSL).map(i=>FB.HSL(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.HSL).map(r=>FB.HSL(r,Fd(i||{},t,n)))}static getBlendHSLAObject(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.HSLA):FJ(t,n,5,i?.decimals,Fz.HSLA)}static getBlendHSLA(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.HSLA).map(i=>FB.HSL(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.HSLA).map(r=>FB.HSL(r,Fd(i||{},t,n)))}static getBlendCIELabObject(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.CIELab):FJ(t,n,5,i?.decimals,Fz.CIELab)}static getBlendCIELab(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.CIELab).map(i=>FB.CIELab(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.CIELab).map(r=>FB.CIELab(r,Fd(i||{},t,n)))}static getBlendCIELabAObject(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.CIELabA):FJ(t,n,5,i?.decimals,Fz.CIELabA)}static getBlendCIELabA(t,n,i,r){return"number"==typeof i?FJ(t,n,i,r?.decimals,Fz.CIELabA).map(i=>FB.CIELab(i,Fd(r||{},t,n))):FJ(t,n,5,i?.decimals,Fz.CIELabA).map(r=>FB.CIELab(r,Fd(i||{},t,n)))}static getMixHEXObject(t,n=DQ.ADDITIVE){return FW.HEX(t,n,!1)}static getMixHEX(t,n=DQ.ADDITIVE){return FW.HEX(t,n,!0)}static getMixHEXAObject(t,n=DQ.ADDITIVE){return FW.HEXA(t,n,!1)}static getMixHEXA(t,n=DQ.ADDITIVE){return FW.HEXA(t,n,!0)}static getMixRGBObject(t,n,i){return"string"==typeof n?FW.RGB(t,n,!1,Fd(i||{},...t)):FW.RGB(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixRGB(t,n,i){return"string"==typeof n?FW.RGB(t,n,!0,Fd(i||{},...t)):FW.RGB(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getMixRGBAObject(t,n,i){return"string"==typeof n?FW.RGBA(t,n,!1,Fd(i||{},...t)):FW.RGBA(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixRGBA(t,n,i){return"string"==typeof n?FW.RGBA(t,n,!0,Fd(i||{},...t)):FW.RGBA(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getMixHSLObject(t,n,i){return"string"==typeof n?FW.HSL(t,n,!1,Fd(i||{},...t)):FW.HSL(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixHSL(t,n,i){return"string"==typeof n?FW.HSL(t,n,!0,Fd(i||{},...t)):FW.HSL(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getMixHSLAObject(t,n,i){return"string"==typeof n?FW.HSLA(t,n,!1,Fd(i||{},...t)):FW.HSLA(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixHSLA(t,n,i){return"string"==typeof n?FW.HSLA(t,n,!0,Fd(i||{},...t)):FW.HSLA(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getMixCIELabObject(t,n,i){return"string"==typeof n?FW.CIELab(t,n,!1,Fd(i||{},...t)):FW.CIELab(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixCIELab(t,n,i){return"string"==typeof n?FW.CIELab(t,n,!0,Fd(i||{},...t)):FW.CIELab(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getMixCIELabAObject(t,n,i){return"string"==typeof n?FW.CIELabA(t,n,!1,Fd(i||{},...t)):FW.CIELabA(t,DQ.ADDITIVE,!1,Fd(n||{},...t))}static getMixCIELabA(t,n,i){return"string"==typeof n?FW.CIELabA(t,n,!0,Fd(i||{},...t)):FW.CIELabA(t,DQ.ADDITIVE,!0,Fd(n||{},...t))}static getShades(t,n,i){return"number"==typeof n?FG(t,n,!0,Fd(i||{},t)):FG(t,5,!0,Fd(n||{},t))}static getTints(t,n,i){return"number"==typeof n?FG(t,n,!1,Fd(i||{},t)):FG(t,5,!1,Fd(n||{},t))}static getHarmony(t,n,i,r){return`${n}` in DH?F0(n,t,Fp(i)?i:DQ.ADDITIVE,Fd(Fp(i)?r||{}:i||{},t)):Fp(n)?F0(DH.COMPLEMENTARY,t,n,Fd(i||{},t)):F0(DH.COMPLEMENTARY,t,DQ.ADDITIVE,Fd(n||{},t))}},F2="ubq-public",F3=(t,{publicThemeElementClass:n=F2,fallback:i="red"}={})=>{let r=t.startsWith("--")?t:`--${t}`,s=document.querySelector(`.${n}`);return null==s?i:getComputedStyle(s).getPropertyValue(r).trim()};function F5(t,n){try{let n=F3(t),i=new F1(n).RGBAObject,{R:r,G:s,B:o,A:a}=i;if(null==i||[r,s,o,a].some(Number.isNaN))throw Error(`Error: ${t} could not be parsed. This might happen if the passed color is not a valid CSS color string.`);return{r:r/255,g:s/255,b:o/255,a:a??1}}catch(t){if(null!=n)return n;throw t}}var F4="UBQ_Theme-module__transition--Ldgpe",F6=SV(S$()),F8=(0,DW.createContext)({theme:"light",scale:"normal",container:void 0});function F7({children:t,theme:n="light",scale:i="normal",className:r,contextContainer:s,renderTarget:o,assetPath:a,disableFontInsertion:l}){(0,DW.useLayoutEffect)(()=>{let t;let r=`ubq-${n}`,a=`ubq-${i}`,l=document.querySelector(`.${F2}`);return o&&(o.classList.remove("ubq-light"),o.classList.remove("ubq-dark"),o.classList.add(r),o.classList.add("ubq-static"),o.classList.remove("ubq-normal"),o.classList.remove("ubq-large"),o.classList.add(a),l instanceof HTMLElement&&(l.dataset.ubqTheme=n,l.dataset.ubqScale=i)),s&&(s.classList.add(F4),t=window.setTimeout(()=>{s.classList.remove(F4)},300)),()=>{clearTimeout(t)}},[n,i,o,s]),(0,DW.useEffect)(function(){if(l)return()=>{};let t=`${a}fonts/`,n=document.createElement("style");n.innerHTML=`
      @font-face {
        font-family: 'Inter';
        src: url('${t}Inter-Regular.woff2') format('woff2'),
          url('${t}Inter-Regular.woff') format('woff');
        font-weight: normal;
      }

      @font-face {
        font-family: 'Inter';
        src: url('${t}Inter-Medium.woff2') format('woff2'),
          url('${t}Inter-Medium.woff') format('woff');
        font-weight: 500;
      }

      @font-face {
        font-family: 'Inter';
        src: url('${t}Inter-Bold.woff2') format('woff2'),
          url('${t}Inter-Bold.woff') format('woff');
        font-weight: 600;
      }
    `;let i=document.querySelector("head");return i&&i.appendChild(n),function(){n.remove()}},[a,l]);let c=(0,DW.useMemo)(()=>({theme:n,scale:i,container:s}),[s,i,n]);return(0,F6.jsx)("div",{className:(0,Dq.default)("UBQ_Theme-module__block--sJF92",r),children:(0,F6.jsx)(F8.Provider,{value:c,children:t})})}(F7||(F7={})).Context=F8;var F9,Oe=F7,Ot=SV(SH()),On=SV(S$());function Oi({children:t,className:n,style:i}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__block--0R8Ut",n),style:i,children:t})}(F9=Oi||(Oi={})).TopLeft=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__topLeft--y36dM",n),children:t})},F9.MiddleLeft=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__middleLeft--OzPuo",n),children:t})},F9.BottomLeft=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__bottomLeft--HlLWO",n),children:t})},F9.TopCenter=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__topCenter--YjoWt",n),children:t})},F9.BottomCenter=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__bottomCenter--SB0o1",n),children:t})},F9.TopRight=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__topRight--iflYv",n),children:t})},F9.MiddleRight=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__middleRight--iZbpB",n),children:t})},F9.BottomRight=function({children:t,className:n}){return(0,On.jsx)("div",{className:(0,Ot.default)("UBQ_LayoutEdge-module__bottomRight--7-Jha",n),children:t})};var Or={Edge:Oi},Os=SV(S$()),Oo=function({children:t,asyncState:n,showCircularSpinner:i}){switch(n){case"waiting":return i?(0,Os.jsx)("div",{className:"UBQ_AsyncResult-module__progress--c4YGS",children:(0,Os.jsx)(DI,{})}):null;case"success":return(0,Os.jsx)(Os.Fragment,{children:"function"==typeof t?t():t});default:return null}},Oa=SV(SH()),Ol=SV(Sz()),Oc=SV(S$()),Ou=(0,Ol.forwardRef)(function({children:t,className:n,dataCy:i,equalWidth:r,orientation:s="horizontal"},o){return(0,Oc.jsx)("div",{ref:o,className:(0,Oa.default)("UBQ_SegmentedGroup-module__block--UUGgu",n,{"UBQ_SegmentedGroup-module__equalWidth--DahgE":r}),"aria-orientation":s,"data-cy":i,children:t})}),Od=SV(SH()),Op=SV(S$()),Oh=function({children:t,className:n}){return(0,Op.jsx)("div",{className:(0,Od.default)("UBQ_InputGroup-module__block--BLGPu",n),children:t})},Of=SV(SH()),Om=SV(S$()),Og=function({children:t,className:n}){return(0,Om.jsx)("div",{className:(0,Of.default)("UBQ_InputGrid-module__block--zRPAf",n),children:t})},Ox=SV(S0()),Oy=!("undefined"==typeof window||!window.document||!window.document.createElement),Ov=Oy&&!!document.body.attachShadow,Ob=SV(S$());function OA(t){let{focusTrapOptions:n={}}=t,i=document.querySelector(`.${F2}`);return(0,Ob.jsx)(Ox.default,{...t,focusTrapOptions:{trapStack:Ow,...n,document:Ov?i?.shadowRoot:window.document,onActivate:()=>{document.dispatchEvent(new Event("ubq-focustrap-activate")),n?.onActivate&&n?.onActivate()},onDeactivate:()=>{document.dispatchEvent(new Event("ubq-focustrap-deactivate")),n?.onDeactivate&&n?.onDeactivate()}}})}var Ow=[];(OA||(OA={})).isActive=function(){return Ow.some(t=>t.active&&!1===t.paused)};var OC=OA,O_=SV(SH()),OS=SV(S1()),Ok=SV(Sz()),OE=SV(S4()),OM=SV(Sz()),OI=function(t){return t.reduce(function(t,n){var i=n[0],r=n[1];return t[i]=r,t},{})},OT="undefined"!=typeof window&&window.document&&window.document.createElement?OM.useLayoutEffect:OM.useEffect,OB=SV(Sz()),OL="bottom",Oj="right",OP="left",OR="auto",OD=["top",OL,Oj,OP],OF="start",OO="viewport",ON="popper",OU=OD.reduce(function(t,n){return t.concat([n+"-"+OF,n+"-end"])},[]),OV=[].concat(OD,[OR]).reduce(function(t,n){return t.concat([n,n+"-"+OF,n+"-end"])},[]),OH=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function OQ(t){return t?(t.nodeName||"").toLowerCase():null}function Oz(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function OG(t){return t instanceof Oz(t).Element||t instanceof Element}function Oq(t){return t instanceof Oz(t).HTMLElement||t instanceof HTMLElement}function OW(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Oz(t).ShadowRoot||t instanceof ShadowRoot)}function O$(t){return t.split("-")[0]}var OZ=Math.max,OY=Math.min,OK=Math.round;function OX(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function OJ(){return!/^((?!chrome|android).)*safari/i.test(OX())}function O0(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=t.getBoundingClientRect(),s=1,o=1;n&&Oq(t)&&(s=t.offsetWidth>0&&OK(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&OK(r.height)/t.offsetHeight||1);var a=(OG(t)?Oz(t):window).visualViewport,l=!OJ()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/s,p=r.height/o;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function O1(t){var n=O0(t),i=t.offsetWidth,r=t.offsetHeight;return 1>=Math.abs(n.width-i)&&(i=n.width),1>=Math.abs(n.height-r)&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function O2(t,n){var i=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(i&&OW(i)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function O3(t){return Oz(t).getComputedStyle(t)}function O5(t){return((OG(t)?t.ownerDocument:t.document)||window.document).documentElement}function O4(t){return"html"===OQ(t)?t:t.assignedSlot||t.parentNode||(OW(t)?t.host:null)||O5(t)}function O6(t){return Oq(t)&&"fixed"!==O3(t).position?t.offsetParent:null}function O8(t){for(var n=Oz(t),i=O6(t);i&&["table","td","th"].indexOf(OQ(i))>=0&&"static"===O3(i).position;)i=O6(i);return i&&("html"===OQ(i)||"body"===OQ(i)&&"static"===O3(i).position)?n:i||function(t){var n=/firefox/i.test(OX());if(/Trident/i.test(OX())&&Oq(t)&&"fixed"===O3(t).position)return null;var i=O4(t);for(OW(i)&&(i=i.host);Oq(i)&&0>["html","body"].indexOf(OQ(i));){var r=O3(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||n&&"filter"===r.willChange||n&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(t)||n}function O7(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function O9(t,n,i){return OZ(t,OY(n,i))}function Ne(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Nt(t,n){return n.reduce(function(n,i){return n[i]=t,n},{})}function Nn(t){return t.split("-")[1]}var Ni={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nr(t){var n,i=t.popper,r=t.popperRect,s=t.placement,o=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,p=t.isFixed,h=a.x,f=void 0===h?0:h,m=a.y,g=void 0===m?0:m,x="function"==typeof d?d({x:f,y:g}):{x:f,y:g};f=x.x,g=x.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=OP,A="top",w=window;if(u){var C=O8(i),_="clientHeight",S="clientWidth";C===Oz(i)&&"static"!==O3(C=O5(i)).position&&"absolute"===l&&(_="scrollHeight",S="scrollWidth"),("top"===s||(s===OP||s===Oj)&&"end"===o)&&(A=OL,g-=(p&&C===w&&w.visualViewport?w.visualViewport.height:C[_])-r.height,g*=c?1:-1),(s===OP||("top"===s||s===OL)&&"end"===o)&&(b=Oj,f-=(p&&C===w&&w.visualViewport?w.visualViewport.width:C[S])-r.width,f*=c?1:-1)}var k,E,M,I,T,B,L=Object.assign({position:l},u&&Ni),j=!0===d?(k={x:f,y:g},E=Oz(i),M=k.x,I=k.y,{x:OK(M*(T=E.devicePixelRatio||1))/T||0,y:OK(I*T)/T||0}):{x:f,y:g};return f=j.x,g=j.y,c?Object.assign({},L,((B={})[A]=v?"0":"",B[b]=y?"0":"",B.transform=1>=(w.devicePixelRatio||1)?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",B)):Object.assign({},L,((n={})[A]=v?g+"px":"",n[b]=y?f+"px":"",n.transform="",n))}var Ns={passive:!0},No={left:"right",right:"left",bottom:"top",top:"bottom"};function Na(t){return t.replace(/left|right|bottom|top/g,function(t){return No[t]})}var Nl={start:"end",end:"start"};function Nc(t){return t.replace(/start|end/g,function(t){return Nl[t]})}function Nu(t){var n=Oz(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Nd(t){return O0(O5(t)).left+Nu(t).scrollLeft}function Np(t){var n=O3(t),i=n.overflow,r=n.overflowX,s=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function Nh(t,n){void 0===n&&(n=[]);var i,r=function t(n){return["html","body","#document"].indexOf(OQ(n))>=0?n.ownerDocument.body:Oq(n)&&Np(n)?n:t(O4(n))}(t),s=r===(null==(i=t.ownerDocument)?void 0:i.body),o=Oz(r),a=s?[o].concat(o.visualViewport||[],Np(r)?r:[]):r,l=n.concat(a);return s?l:l.concat(Nh(O4(a)))}function Nf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Nm(t,n,i){var r,s,o,a,l,c,u,d,p,h;return n===OO?Nf(function(t,n){var i=Oz(t),r=O5(t),s=i.visualViewport,o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;var u=OJ();(u||!u&&"fixed"===n)&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l+Nd(t),y:c}}(t,i)):OG(n)?((r=O0(n,!1,"fixed"===i)).top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r):Nf((s=O5(t),a=O5(s),l=Nu(s),c=null==(o=s.ownerDocument)?void 0:o.body,u=OZ(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=OZ(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),p=-l.scrollLeft+Nd(s),h=-l.scrollTop,"rtl"===O3(c||a).direction&&(p+=OZ(a.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:p,y:h}))}function Ng(t){var n,i=t.reference,r=t.element,s=t.placement,o=s?O$(s):null,a=s?Nn(s):null,l=i.x+i.width/2-r.width/2,c=i.y+i.height/2-r.height/2;switch(o){case"top":n={x:l,y:i.y-r.height};break;case OL:n={x:l,y:i.y+i.height};break;case Oj:n={x:i.x+i.width,y:c};break;case OP:n={x:i.x-r.width,y:c};break;default:n={x:i.x,y:i.y}}var u=o?O7(o):null;if(null!=u){var d="y"===u?"height":"width";switch(a){case OF:n[u]=n[u]-(i[d]/2-r[d]/2);break;case"end":n[u]=n[u]+(i[d]/2-r[d]/2)}}return n}function Nx(t,n){void 0===n&&(n={});var i,r,s,o,a,l,c,u,d=n,p=d.placement,h=void 0===p?t.placement:p,f=d.strategy,m=void 0===f?t.strategy:f,g=d.boundary,x=d.rootBoundary,y=d.elementContext,v=void 0===y?ON:y,b=d.altBoundary,A=d.padding,w=void 0===A?0:A,C=Ne("number"!=typeof w?w:Nt(w,OD)),_=t.rects.popper,S=t.elements[void 0!==b&&b?v===ON?"reference":ON:v],k=(i=OG(S)?S:S.contextElement||O5(t.elements.popper),r=void 0===g?"clippingParents":g,s=void 0===x?OO:x,c=(l=[].concat("clippingParents"===r?(o=Nh(O4(i)),OG(a=["absolute","fixed"].indexOf(O3(i).position)>=0&&Oq(i)?O8(i):i)?o.filter(function(t){return OG(t)&&O2(t,a)&&"body"!==OQ(t)}):[]):[].concat(r),[s]))[0],(u=l.reduce(function(t,n){var r=Nm(i,n,m);return t.top=OZ(r.top,t.top),t.right=OY(r.right,t.right),t.bottom=OY(r.bottom,t.bottom),t.left=OZ(r.left,t.left),t},Nm(i,c,m))).width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u),E=O0(t.elements.reference),M=Ng({reference:E,element:_,strategy:"absolute",placement:h}),I=Nf(Object.assign({},_,M)),T=v===ON?I:E,B={top:k.top-T.top+C.top,bottom:T.bottom-k.bottom+C.bottom,left:k.left-T.left+C.left,right:T.right-k.right+C.right},L=t.modifiersData.offset;if(v===ON&&L){var j=L[h];Object.keys(B).forEach(function(t){var n=[Oj,OL].indexOf(t)>=0?1:-1,i=["top",OL].indexOf(t)>=0?"y":"x";B[t]+=j[i]*n})}return B}function Ny(t,n,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-n.height-i.y,right:t.right-n.width+i.x,bottom:t.bottom-n.height+i.y,left:t.left-n.width-i.x}}function Nv(t){return["top",Oj,OL,OP].some(function(n){return t[n]>=0})}var Nb={placement:"bottom",modifiers:[],strategy:"absolute"};function NA(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var Nw=function(t){void 0===t&&(t={});var n=t,i=n.defaultModifiers,r=void 0===i?[]:i,s=n.defaultOptions,o=void 0===s?Nb:s;return function(t,n,i){void 0===i&&(i=o);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nb,o),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(i){var s="function"==typeof i?i(l.options):i;p(),l.options=Object.assign({},o,l.options,s),l.scrollParents={reference:OG(t)?Nh(t):t.contextElement?Nh(t.contextElement):[],popper:Nh(n)};var a,u,h,f,m,g=(a=Object.keys(m=[].concat(r,l.options.modifiers).reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{})).map(function(t){return m[t]}),u=new Map,h=new Set,f=[],a.forEach(function(t){u.set(t.name,t)}),a.forEach(function(t){h.has(t.name)||function t(n){h.add(n.name),[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!h.has(n)){var i=u.get(n);i&&t(i)}}),f.push(n)}(t)}),OH.reduce(function(t,n){return t.concat(f.filter(function(t){return t.phase===n}))},[]));return l.orderedModifiers=g.filter(function(t){return t.enabled}),l.orderedModifiers.forEach(function(t){var n=t.name,i=t.options,r=t.effect;if("function"==typeof r){var s=r({state:l,name:n,instance:d,options:void 0===i?{}:i});c.push(s||function(){})}}),d.update()},forceUpdate:function(){if(!u){var t=l.elements,n=t.reference,i=t.popper;if(NA(n,i)){l.rects={reference:(r=O8(i),s="fixed"===l.options.strategy,p=Oq(r),h=Oq(r)&&(a=OK((o=r.getBoundingClientRect()).width)/r.offsetWidth||1,c=OK(o.height)/r.offsetHeight||1,1!==a||1!==c),f=O5(r),m=O0(n,h,s),g={scrollLeft:0,scrollTop:0},x={x:0,y:0},(p||!p&&!s)&&(("body"!==OQ(r)||Np(f))&&(g=r!==Oz(r)&&Oq(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:Nu(r)),Oq(r)?((x=O0(r,!0)).x+=r.clientLeft,x.y+=r.clientTop):f&&(x.x=Nd(f))),{x:m.left+g.scrollLeft-x.x,y:m.top+g.scrollTop-x.y,width:m.width,height:m.height}),popper:O1(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(t){return l.modifiersData[t.name]=Object.assign({},t.data)});for(var r,s,o,a,c,p,h,f,m,g,x,y=0;y<l.orderedModifiers.length;y++)if(!0!==l.reset){var v=l.orderedModifiers[y],b=v.fn,A=v.options,w=void 0===A?{}:A,C=v.name;"function"==typeof b&&(l=b({state:l,options:w,name:C,instance:d})||l)}else l.reset=!1,y=-1}}},update:(s=function(){return new Promise(function(t){d.forceUpdate(),t(l)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(s())})})),a}),destroy:function(){p(),u=!0}};if(!NA(t,n))return d;function p(){c.forEach(function(t){return t()}),c=[]}return d.setOptions(i).then(function(t){!u&&i.onFirstUpdate&&i.onFirstUpdate(t)}),d}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,i=t.instance,r=t.options,s=r.scroll,o=void 0===s||s,a=r.resize,l=void 0===a||a,c=Oz(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&u.forEach(function(t){t.addEventListener("scroll",i.update,Ns)}),l&&c.addEventListener("resize",i.update,Ns),function(){o&&u.forEach(function(t){t.removeEventListener("scroll",i.update,Ns)}),l&&c.removeEventListener("resize",i.update,Ns)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,i=t.name;n.modifiersData[i]=Ng({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,i=t.options,r=i.gpuAcceleration,s=i.adaptive,o=i.roundOffsets,a=void 0===o||o,l={placement:O$(n.placement),variation:Nn(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,Nr(Object.assign({},l,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:void 0===s||s,roundOffsets:a})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,Nr(Object.assign({},l,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach(function(t){var i=n.styles[t]||{},r=n.attributes[t]||{},s=n.elements[t];Oq(s)&&OQ(s)&&(Object.assign(s.style,i),Object.keys(r).forEach(function(t){var n=r[t];!1===n?s.removeAttribute(t):s.setAttribute(t,!0===n?"":n)}))})},effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(t){var r=n.elements[t],s=n.attributes[t]||{},o=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:i[t]).reduce(function(t,n){return t[n]="",t},{});Oq(r)&&OQ(r)&&(Object.assign(r.style,o),Object.keys(s).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,i=t.options,r=t.name,s=i.offset,o=void 0===s?[0,0]:s,a=OV.reduce(function(t,i){var r,s,a,l,c,u;return t[i]=(r=n.rects,a=[OP,"top"].indexOf(s=O$(i))>=0?-1:1,c=(l="function"==typeof o?o(Object.assign({},r,{placement:i})):o)[0],u=l[1],c=c||0,u=(u||0)*a,[OP,Oj].indexOf(s)>=0?{x:u,y:c}:{x:c,y:u}),t},{}),l=a[n.placement],c=l.x,u=l.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=c,n.modifiersData.popperOffsets.y+=u),n.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,i=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var s=i.mainAxis,o=void 0===s||s,a=i.altAxis,l=void 0===a||a,c=i.fallbackPlacements,u=i.padding,d=i.boundary,p=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,m=void 0===f||f,g=i.allowedAutoPlacements,x=n.options.placement,y=O$(x),v=c||(y!==x&&m?function(t){if(O$(t)===OR)return[];var n=Na(t);return[Nc(t),n,Nc(n)]}(x):[Na(x)]),b=[x].concat(v).reduce(function(t,i){var r,s,o,a,l,c,h,f,x,y,v,b;return t.concat(O$(i)===OR?(s=(r={placement:i,boundary:d,rootBoundary:p,padding:u,flipVariations:m,allowedAutoPlacements:g}).placement,o=r.boundary,a=r.rootBoundary,l=r.padding,c=r.flipVariations,f=void 0===(h=r.allowedAutoPlacements)?OV:h,0===(v=(y=(x=Nn(s))?c?OU:OU.filter(function(t){return Nn(t)===x}):OD).filter(function(t){return f.indexOf(t)>=0})).length&&(v=y),Object.keys(b=v.reduce(function(t,i){return t[i]=Nx(n,{placement:i,boundary:o,rootBoundary:a,padding:l})[O$(i)],t},{})).sort(function(t,n){return b[t]-b[n]})):i)},[]),A=n.rects.reference,w=n.rects.popper,C=new Map,_=!0,S=b[0],k=0;k<b.length;k++){var E=b[k],M=O$(E),I=Nn(E)===OF,T=["top",OL].indexOf(M)>=0,B=T?"width":"height",L=Nx(n,{placement:E,boundary:d,rootBoundary:p,altBoundary:h,padding:u}),j=T?I?Oj:OP:I?OL:"top";A[B]>w[B]&&(j=Na(j));var P=Na(j),R=[];if(o&&R.push(L[M]<=0),l&&R.push(L[j]<=0,L[P]<=0),R.every(function(t){return t})){S=E,_=!1;break}C.set(E,R)}if(_)for(var D=function(t){var n=b.find(function(n){var i=C.get(n);if(i)return i.slice(0,t).every(function(t){return t})});if(n)return S=n,"break"},F=m?3:1;F>0&&"break"!==D(F);F--);n.placement!==S&&(n.modifiersData[r]._skip=!0,n.placement=S,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n=t.state,i=t.options,r=t.name,s=i.mainAxis,o=i.altAxis,a=i.boundary,l=i.rootBoundary,c=i.altBoundary,u=i.padding,d=i.tether,p=void 0===d||d,h=i.tetherOffset,f=void 0===h?0:h,m=Nx(n,{boundary:a,rootBoundary:l,padding:u,altBoundary:c}),g=O$(n.placement),x=Nn(n.placement),y=!x,v=O7(g),b="x"===v?"y":"x",A=n.modifiersData.popperOffsets,w=n.rects.reference,C=n.rects.popper,_="function"==typeof f?f(Object.assign({},n.rects,{placement:n.placement})):f,S="number"==typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),k=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,E={x:0,y:0};if(A){if(void 0===s||s){var M,I="y"===v?"top":OP,T="y"===v?OL:Oj,B="y"===v?"height":"width",L=A[v],j=L+m[I],P=L-m[T],R=p?-C[B]/2:0,D=x===OF?w[B]:C[B],F=x===OF?-C[B]:-w[B],O=n.elements.arrow,N=p&&O?O1(O):{width:0,height:0},U=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=U[I],H=U[T],Q=O9(0,w[B],N[B]),z=y?w[B]/2-R-Q-V-S.mainAxis:D-Q-V-S.mainAxis,G=y?-w[B]/2+R+Q+H+S.mainAxis:F+Q+H+S.mainAxis,q=n.elements.arrow&&O8(n.elements.arrow),W=q?"y"===v?q.clientTop||0:q.clientLeft||0:0,$=null!=(M=null==k?void 0:k[v])?M:0,Z=O9(p?OY(j,L+z-$-W):j,L,p?OZ(P,L+G-$):P);A[v]=Z,E[v]=Z-L}if(void 0!==o&&o){var Y,K,X="x"===v?"top":OP,J="x"===v?OL:Oj,ee=A[b],et="y"===b?"height":"width",en=ee+m[X],ei=ee-m[J],er=-1!==["top",OP].indexOf(g),es=null!=(K=null==k?void 0:k[b])?K:0,eo=er?en:ee-w[et]-C[et]-es+S.altAxis,ea=er?ee+w[et]+C[et]-es-S.altAxis:ei,el=p&&er?(Y=O9(eo,ee,ea))>ea?ea:Y:O9(p?eo:en,ee,p?ea:ei);A[b]=el,E[b]=el-ee}n.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,i=t.state,r=t.name,s=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,l=O$(i.placement),c=O7(l),u=[OP,Oj].indexOf(l)>=0?"height":"width";if(o&&a){var d,p=Ne("number"!=typeof(d="function"==typeof(d=s.padding)?d(Object.assign({},i.rects,{placement:i.placement})):d)?d:Nt(d,OD)),h=O1(o),f="y"===c?"top":OP,m="y"===c?OL:Oj,g=i.rects.reference[u]+i.rects.reference[c]-a[c]-i.rects.popper[u],x=a[c]-i.rects.reference[c],y=O8(o),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=p[f],A=v-h[u]-p[m],w=v/2-h[u]/2+(g/2-x/2),C=O9(b,w,A);i.modifiersData[r]=((n={})[c]=C,n.centerOffset=C-w,n)}},effect:function(t){var n=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=n.elements.popper.querySelector(r)))&&O2(n.elements.popper,r)&&(n.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,i=t.name,r=n.rects.reference,s=n.rects.popper,o=n.modifiersData.preventOverflow,a=Nx(n,{elementContext:"reference"}),l=Nx(n,{altBoundary:!0}),c=Ny(a,r),u=Ny(l,s,o),d=Nv(c),p=Nv(u);n.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}}]}),NC=SV(S6()),N_=[],NS=function(t,n,i){void 0===i&&(i={});var r=OB.useRef(null),s={onFirstUpdate:i.onFirstUpdate,placement:i.placement||"bottom",strategy:i.strategy||"absolute",modifiers:i.modifiers||N_},o=OB.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],c=OB.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var n=t.state,i=Object.keys(n.elements);l({styles:OI(i.map(function(t){return[t,n.styles[t]||{}]})),attributes:OI(i.map(function(t){return[t,n.attributes[t]]}))})},requires:["computeStyles"]}},[]),u=OB.useMemo(function(){var t={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[c,{name:"applyStyles",enabled:!1}])};return(0,NC.default)(r.current,t)?r.current||t:(r.current=t,t)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,c]),d=OB.useRef();return OT(function(){d.current&&d.current.setOptions(u)},[u]),OT(function(){if(null!=t&&null!=n){var r=(i.createPopper||Nw)(t,n,u);return d.current=r,function(){r.destroy(),d.current=null}}},[t,n,i.createPopper]),{state:d.current?d.current.state:null,styles:a.styles,attributes:a.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}},Nk=SV(S7()),NE=SV(Sz());!function(t){if(t){var n={},i=t.prototype.stopCallback;t.prototype.stopCallback=function(t,r,s,o){return!!this.paused||!n[s]&&!n[o]&&i.call(this,t,r,s)},t.prototype.bindGlobal=function(t,i,r){if(this.bind(t,i,r),t instanceof Array)for(var s=0;s<t.length;s++)n[t[s]]=!0;else n[t]=!0},t.init()}}("undefined"!=typeof Mousetrap?Mousetrap:void 0);var NM=t=>null!=t?t:()=>{},NI=(t,n,i={})=>{let r=(0,NE.useRef)(NM(n));(0,NE.useEffect)(()=>{r.current=NM(n)},[n]),(0,NE.useEffect)(()=>{let{elementRef:n,action:s}=i,o=null!=n?.current?(0,Nk.default)(n.current):Nk.default;return t&&(i.global&&"bindGlobal"in o?o.bindGlobal(t,r.current,s):o.bind(t,r.current,s)),()=>{t&&o.unbind(t)}},[t])};function NT(...t){return n=>{for(let i of t)"function"==typeof i?i(n):null!=i&&(i.current=n)}}var NB=SV(Sz()),NL=SV(Sz()),Nj=class t{#e=!1;get propagationStopped(){return this.#e}target;constructor(t){this.target=t}stopPropagation(){this.#e=!0}isOutside(...t){return t.every(t=>{var n;return n=this.target,!(t&&t.contains(n))})}clone(){return new t(this.target)}},NP=(0,NL.createContext)(()=>(console.warn("Adding ClickOutside handler to dummy context value. Did you forget to install the ClickOutsideManager at the top of your app?"),()=>{}));NP.displayName="ClickOutsideContext";var NR=SV(S$());function ND({onClickOutside:t,children:n}){let i=(0,NB.useRef)([]),r=(0,NB.useContext)(NP),s=(0,NB.useRef)(t);s.current=t;let o=(0,NB.useCallback)(t=>(i.current.push(t),()=>{let n=i.current.indexOf(t);n>=0&&i.current.splice(n,1)}),[]);return(0,NB.useEffect)(()=>r(t=>{if(i.current.length>0){let n=!0;if(i.current.forEach(i=>{let r=t.clone();i(r),r.propagationStopped||(n=!1)}),n)return void t.stopPropagation()}s.current?.(t)}),[r]),(0,NR.jsx)(NP.Provider,{value:o,children:n})}var NF,NN=SV(Sz()),NU=SV(S$()),NV=SV(Sz()),NH=SV(S4()),NQ=SV(Sz()),Nz=()=>{let t=(0,NQ.useRef)(!0);return(0,NQ.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),t},NG=SV(S$()),Nq=(0,NV.createContext)({portals:{},addPortal:()=>{throw Error("Not portal provider has been found")}});function NW({layer:t="default",children:n}){let{portals:i}=(0,NV.useContext)(Nq),r=i[t];return r?(0,NH.createPortal)(n,r):null}function N$({children:t}){return(0,NG.jsx)(NW,{children:t})}(N$||(N$={})).Container=function({children:t}){return(0,NG.jsx)(NW.Container,{children:t})},(NF=NW||(NW={})).Provider=function({children:t}){let[n,i]=(0,NV.useState)({}),r=Nz(),s=(0,NV.useCallback)((t,n)=>(i(i=>({...i,[t]:n})),()=>{r.current&&i(n=>{let{...i}=n;return delete i[t],i})}),[r]),o=(0,NV.useMemo)(()=>({portals:n,addPortal:s}),[s,n]);return(0,NG.jsx)(Nq.Provider,{value:o,children:t})},NF.Container=function({layer:t="default",children:n,className:i}){let r=(0,NV.useRef)(null),{addPortal:s}=(0,NV.useContext)(Nq);return(0,NV.useEffect)(()=>r.current?s(t,r.current):()=>null,[r.current]),(0,NG.jsxs)(NG.Fragment,{children:[n,(0,NG.jsx)("div",{id:`ubq-portal-container_${t}`,ref:r,className:i})]})};var NZ=NW,NY=0,NK=()=>`UBQ__popover-content-group-${NY+=1}`,NX=SV(S$()),NJ=(0,Ok.createContext)({closePopover:()=>{throw Error("No Context for Popover provided")},isOpen:!1}),N0=(0,Ok.forwardRef)(function({children:[t,n],disableFocusTrap:i,placement:r,popperContainerClassname:s,onClose:o,onOpen:a,defaultOpen:l=!1,closeOnWheel:c=!1,closeOnOutsideClick:u=!0,keyShortcutTrigger:d,keyShortcutTriggerOptions:{preventDefault:p,...h}={},doubleOffset:f=!1,className:m,returnFocus:g,boundary:x={}},y){let[v]=(0,Ok.useState)(NK),[b,A]=(0,Ok.useState)(l),w=(0,Ok.useRef)(null),C=(0,Ok.useCallback)(t=>{let n=null;(0,OE.flushSync)(()=>{A(i=>{let r="function"==typeof t?t(i):t;return i&&!r&&(n="closed"),!i&&r&&(n="opened"),r})}),"closed"===n?o?.():"opened"===n&&a?.({forceUpdate:w.current})},[a,o]),_=(0,Ok.useCallback)(()=>C(!1),[C]);NI(d,()=>(C(t=>!t),!p),h);let[S,k]=(0,Ok.useState)(null),[E,M]=(0,Ok.useState)(null),I=(0,Ok.useRef)(null),T=(0,Ok.useRef)(null),B=!i&&b;NI(["esc"],B?_:null,{elementRef:T});let{styles:L,attributes:j,forceUpdate:P}=NS(S,E,{placement:r,modifiers:(0,Ok.useMemo)(()=>[{name:"preventOverflow",options:{padding:x.padding??8,boundary:x.element}},{name:"offset",options:{offset:()=>[0,parseInt(F3("--ubq-scale-base",{fallback:"4px"}),10)*(f?2:1)]}},{name:"flip",options:{fallbackPlacements:["bottom-end","bottom-start","top","top-end","top-start","left","left-end","left-start","right","right-end","right-start"]}}],[x.element,x.padding,f])});w.current=P,(0,Ok.useEffect)(()=>{let t=({target:t})=>{t&&E&&!E.contains(t)&&b&&C(!1)};return c&&document.addEventListener("wheel",t,{passive:!0}),()=>{document.removeEventListener("wheel",t)}},[E,b]),(0,Ok.useEffect)(()=>{let t=t=>{t.stopPropagation()};return E?.addEventListener("wheel",t,{passive:!0}),()=>{E?.removeEventListener("wheel",t)}},[E]);let R=(0,Ok.useMemo)(()=>({isOpen:b,closePopover:_}),[_,b]);(0,Ok.useEffect)(()=>{if(S){let t=()=>C(t=>!t);return S.addEventListener("click",t),()=>{S.removeEventListener("click",t)}}return OS.default},[S,C]);let D={"aria-controls":v,"aria-haspopup":!0,"aria-expanded":b,ref:(0,Ok.useMemo)(()=>NT(I,k,y),[I,k,y])},[F,O]=(0,Ok.useState)(null),N=(0,Ok.useMemo)(()=>F?[F]:[],[F]);return(0,NX.jsxs)(NJ.Provider,{value:R,children:[t(D,R),(0,NX.jsx)(OC,{containerElements:N,active:B&&N.length>0,focusTrapOptions:{preventScroll:!0,escapeDeactivates:!1,clickOutsideDeactivates:!0,setReturnFocus:g}}),(0,NX.jsx)(Da,{children:b&&(0,NX.jsx)(N$,{children:(0,NX.jsx)(ND,{onClickOutside:t=>{b&&u&&(t.isOutside(E,S)?C(!1):t.stopPropagation())},children:(0,NX.jsx)(R1.div,{ref:t=>{T.current=t,M(t)},style:L.popper,...j.popper,className:(0,O_.default)("UBQ_Popover-module__popover--TDOA-",s,m),transition:{ease:"easeInOut",duration:.2},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,NX.jsx)("div",{id:v,ref:O,className:"UBQ_Popover-module__popoverContent--h-2aO",role:"menu","aria-hidden":!b,children:n(R)})})})})})]})}),N1=(SV(SH()),SV(SH())),N2=SV(Sz()),N3={heading:"UBQ_Heading-module__heading--DTBrP",singleline:"UBQ_Heading-module__singleline--2WkDS",multiline:"UBQ_Heading-module__multiline--3XdoA",largeTypography:"UBQ_Heading-module__largeTypography--fDsf7"};function N5({children:t,start:n=1,level:i,typographySize:r="medium",className:s,multiline:o,...a}){let l=`h${Math.min(n+i-1,6)}`;return(0,N2.createElement)(l,{className:(0,N1.default)(N3.heading,s,{[N3.largeTypography]:"large"===r,[N3.singleline]:!o,[N3.multiline]:o}),...a},t)}SV(S$()),SV(SH()),SV(S$());var N4=SV(SH()),N6=SV(S$()),N8=function({children:t,className:n,orientation:i,dataCy:r}){return(0,N6.jsx)(Ou,{className:(0,N4.default)("UBQ_ButtonGroup-module__block--S7piL",n),orientation:i,dataCy:r,children:t})},N7=(SV(Sz()),SV(S$())),N9=t=>(0,N7.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,N7.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9057 7.84363L11.281 16.1245C10.9436 16.5463 10.3322 16.6239 9.9001 16.2998L6.1001 13.4498L7.3001 11.8498L10.3247 14.1183L16.3439 6.59424L17.9057 7.84363Z",fill:"currentColor"})}),Ue=(SV(Sz()),SV(S$())),Ut=t=>(0,Ue.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,Ue.jsx)("path",{d:"M8 11H16V13H8V11Z",fill:"currentColor"})}),Un=SV(SH()),Ui=SV(Sz()),Ur=SV(SH()),Us=SV(S$()),Uo=function({className:t,children:n,labelFor:i,isDisabled:r=!1,...s}){return(0,Us.jsx)("label",{htmlFor:i,...s,className:(0,Ur.default)("UBQ_GenericLabel-module__block--G6QUP",{"UBQ_GenericLabel-module__disabled--qAKSc":r},t),children:n})},Ua=SV(S$()),Ul=SV(S$());function Uc({children:t}){return(0,Ul.jsx)("ul",{className:"UBQ_CheckboxList-module__block--5dpK8",children:t})}(Uc||(Uc={})).Item=function({children:t}){return(0,Ul.jsx)("li",{className:"UBQ_CheckboxList-module__item--ts8x2",children:t})};var Uu=Uc,Ud=function({name:t,label:n,ariaLabel:i,ariaControls:r,onChange:s,"data-cy":o,checked:a,isDisabled:l,labelPosition:c="left",icon:u,className:d,indeterminate:p,hideLabel:h=!1}){let f=(0,Ui.useRef)(null);return(0,Ui.useEffect)(()=>{f.current&&(f.current.indeterminate=p??!1)},[p]),(0,Ua.jsxs)("div",{className:(0,Un.default)("UBQ_Checkbox-module__block--cG5vg",d,{"UBQ_Checkbox-module__disabled--DamsY":l,"UBQ_Checkbox-module__labelPositionRight--cZ8bu":"right"===c}),"aria-label":i||n,children:[!h&&(0,Ua.jsxs)(Uo,{htmlFor:t,"data-checked":p?"mixed":a,children:[u&&("string"==typeof u?(0,Ua.jsx)(DL,{icon:u}):u),n]}),(0,Ua.jsxs)("div",{className:(0,Un.default)("UBQ_Checkbox-module__checkbox-container--K-R6D"),children:[(0,Ua.jsx)("input",{type:"checkbox",name:t,id:t,"data-cy":o||t,"aria-controls":r,"aria-label":h?n:void 0,checked:!0===a,onChange:()=>{s?.(!a)},tabIndex:0,disabled:l,ref:f}),(0,Ua.jsx)("div",{className:(0,Un.default)("UBQ_Checkbox-module__checkbox--sls9F"),"data-checked":p?"mixed":a,children:p?(0,Ua.jsx)(Ut,{}):(0,Ua.jsx)(N9,{})})]})]})},Up=SV(SH()),Uh=SV(Sz()),Uf={block:"UBQ_ColorField-module__block--Du2AZ"},Um=SV(S$());function Ug({children:t,color:n,className:i}){return(0,Um.jsx)("div",{className:(0,Up.default)(Uf.block,i),style:{background:n},children:t})}(0,Uh.forwardRef)(function({children:t,color:n,onClick:i,name:r,"aria-label":s,className:o,isDisabled:a=!1,"data-cy":l},c){return(0,Um.jsx)("button",{ref:c,name:r,type:"button",className:(0,Up.default)(Uf.block,o),style:{background:n},onClick:i,"aria-label":s,disabled:a,"data-cy":l,children:t})}).displayName="uikit/ColorFieldButton",SV(Sz());var Ux=SV(S$()),Uy=t=>(0,Ux.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,Ux.jsx)("path",{d:"M11.2473 16.1399L6.45103 10.6585C5.88527 10.0119 6.34445 9 7.20361 9H16.7961C17.6552 9 18.1144 10.0119 17.5486 10.6585L12.7524 16.1399C12.354 16.5952 11.6457 16.5952 11.2473 16.1399Z",fill:"currentColor"})}),Uv=(SV(Sz()),SV(S$())),Ub=t=>(0,Uv.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,Uv.jsx)("path",{d:"M11.2926 7.70697L6.207 12.7928C5.57705 13.4227 6.02322 14.4998 6.91411 14.4998H17.0857C17.9766 14.4998 18.4228 13.4227 17.7928 12.7927L12.7068 7.70695C12.3163 7.31643 11.6831 7.31644 11.2926 7.70697Z",fill:"currentColor"})}),UA=SV(SH()),Uw=SV(SH()),UC=RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"i"),U_=RegExp(/[A-Fa-f0-9]{1}/,"g"),US=RegExp(/[A-Fa-f0-9]{2}/,"g"),Uk=t=>{let n=t.match(/\((.+)\)/);if(!n)return{r:0,g:0,b:0,a:0};let[,i]=n,[r,s,o,a]=i.split(",");return{r:parseInt(r,10)/255,g:parseInt(s,10)/255,b:parseInt(o,10)/255,a:parseInt(a,10)/255}},UE=t=>{let{r:n,g:i,b:r,a:s}=t;return`rgba(${255*n}, ${255*i}, ${255*r}, ${s})`},UM=t=>`linear-gradient(to right, ${t.map(({r:t,g:n,b:i,a:r})=>`rgb(${255*t}, ${255*n}, ${255*i}, ${r})`).join(", ")})`,UI=(t,n=!1)=>{let{r:i,g:r,b:s,a:o}=t,a=t=>t.toString(16).padStart(2,"0");return`#${a(Math.round(255*i))}${a(Math.round(255*r))}${a(Math.round(255*s))}${n?a(Math.round(255*o)):""}`},UT=t=>{let n=(t,n,i,r,s)=>({r:parseInt(t,16)/s,g:parseInt(n,16)/s,b:parseInt(i,16)/s,a:void 0===r?1:parseInt(r,16)/s});if(t.startsWith("#")){if(4===t.length||5===t.length){let i=t.match(U_);if(i){let[t,r,s,o]=i;return n(t,r,s,o,15)}}if(7===t.length||8===t.length){let i=t.match(US);if(i){let[t,r,s,o]=i;return n(t,r,s,o,255)}}}throw Error('Invalid hex string! Allowed RGB formats are "#FFF" and "#FFFFFF". Allowed RGBA formats are "#FFFF" and "#FFFFFFFF')},UB=t=>(t=>{let{r:n,g:i,b:r}=t;return 255*n*.2126+255*i*.7152+255*r*.0722>128})(t)?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.9)",UL=SV(S$()),Uj=function({previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r}){let s=void 0===t||Array.isArray(t)?t:[t],o=s&&s.length>1;return(0,UL.jsx)("div",{className:"UBQ_ColorPreview-module__block--q-z28",children:s?.map(t=>{let s="string"!=typeof t,a=s?t:Uk(t),l=i??UI(a).toUpperCase(),c=n?"transparent":UB(s?t:Uk(t)),u=s?UE(t):t;return UL.jsx("div",{className:Uw.default("UBQ_ColorPreview-module__colorPreview--czdYI"),style:{background:u},children:!o&&UL.jsx("span",{className:Uw.default("UBQ_ColorPreview-module__colorPreviewLabel--ocYuK",{"UBQ_ColorPreview-module__inverted--7s4QG":r&&!n}),style:{color:r&&!n?void 0:c},children:l})},u)})})},UP=SV(Sz()),UR=SV(S$()),UD=(0,UP.forwardRef)(function({previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r,hideChevron:s,renderChevronIcon:o,isOpen:a,className:l,...c},u){let d=o||(()=>a?(0,UR.jsx)(Ub,{}):(0,UR.jsx)(Uy,{}));return(0,UR.jsx)(DR,{ref:u,...c,className:(0,UA.default)("UBQ_ColorPreviewButton-module__block--hIhrS",l,"UBQ_ColorPreviewButton-module__noBorder--dzVHO"),children:(0,UR.jsxs)("div",{className:(0,UA.default)("UBQ_ColorPreviewButton-module__colorPreviews--Nz2p7"),children:[(0,UR.jsx)("div",{className:(0,UA.default)({"UBQ_ColorPreviewButton-module__checkeredBackgroundOnly--FdIRE":t,"UBQ_ColorPreviewButton-module__checkeredRed--3TnGn":!t}),children:"\xa0"}),(0,UR.jsx)(Uj,{previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r}),(0,UR.jsx)("div",{className:"UBQ_ColorPreviewButton-module__insetBorderOverlay--pkEX2"}),!s&&(0,UR.jsx)("div",{className:"UBQ_ColorPreviewButton-module__iconContainer--z5c8Q",children:d({isOpen:!!a})})]})})}),UF=SV(SH()),UO=SV(Sz()),UN=SV(S$()),UU=(0,UO.forwardRef)(function({children:t,className:n,revealLastOnHover:i},r){return(0,UN.jsx)("div",{ref:r,className:(0,UF.default)("UBQ_ElementStack-module__block--D29tJ",n,{"UBQ_ElementStack-module__revealLastOnHover--Sf1Jp":i}),children:t})});UU.displayName="uikit/ElementStack";var UV=SV(SH()),UH=SV(Sz()),UQ=SV(S$()),Uz=function({className:t}){return(0,UQ.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:(0,UQ.jsx)("path",{d:"M1 1L15 15",stroke:"currentColor",strokeOpacity:"0.9",strokeWidth:"1.5"})})},UG=SV(S$()),Uq=(0,UH.forwardRef)(function({previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r,isDisabled:s,strikeThrough:o,donutHole:a},l){let c=void 0===t||Array.isArray(t)?t:[t],u="string"==typeof c?.[0]?Uk(c[0]):c?.[0];return(0,UG.jsxs)(UU,{ref:l,children:[(0,UG.jsx)(Ug,{className:(0,UV.default)("UBQ_ColorPreviewField-module__colorField--F3-EX",{"UBQ_ColorPreviewField-module__disabled--3BRSD":s}),children:(0,UG.jsxs)("span",{className:"UBQ_ColorPreviewField-module__colorFieldContent---PlQb",style:{color:u&&UB(u)},children:[(0,UG.jsxs)("div",{className:(0,UV.default)("UBQ_ColorPreviewField-module__colorPreviews--zGgXT","UBQ_ColorPreviewField-module__small--KO4ay"),children:[(0,UG.jsx)("div",{className:(0,UV.default)("UBQ_ColorPreviewField-module__minimal--c8faR",{"UBQ_ColorPreviewField-module__checkeredBackgroundOnly--2p94E":t,"UBQ_ColorPreviewField-module__checkeredRed--qOVND":!t}),children:"\xa0"}),(0,UG.jsx)("div",{className:"UBQ_ColorPreviewField-module__mappedPreviewColorsContainer--qugKf",children:(0,UG.jsx)(Uj,{previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r})}),(0,UG.jsx)("div",{className:"UBQ_ColorPreviewField-module__insetBorderOverlay--uXC5x"})]}),(0,UG.jsx)("div",{className:(0,UV.default)("UBQ_ColorPreviewField-module__donutHole--7Cedg",{"UBQ_ColorPreviewField-module__show--jCwEz":a})})]})}),o&&(0,UG.jsx)(Uz,{className:"UBQ_ColorPreviewField-module__strikeThrough--R2Rwt"})]})}),UW=SV(SH()),U$=SV(Sz()),UZ=SV(S$()),UY=(0,U$.forwardRef)(function({previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r,hideLabel:s=!1,isDisabled:o,strikeThrough:a,donutHole:l,children:c,...u},d){return(0,UZ.jsxs)(DR,{ref:d,variant:"plain",className:(0,UW.default)("UBQ_ColorPreviewFieldButton-module__block--v2ZlQ",u.className,{"UBQ_ColorPreviewFieldButton-module__colorPreviewOnly--DcIVO":s}),...u,children:[(0,UZ.jsx)(Uq,{previewColor:t,hidePreviewLabel:n,customPreviewLabel:i,invertedLabel:r,isDisabled:o,strikeThrough:a,donutHole:l}),!s&&(0,UZ.jsx)("span",{children:c})]})}),UK=SV(SH()),UX=SV(S1()),UJ=SV(kh()),U0=SV(Sz()),U1=!!("ontouchstart"in window||navigator.maxTouchPoints>0),U2={block:"UBQ_Tooltip-module__block--Y4hJv",warning:"UBQ_Tooltip-module__warning--3PMmf",error:"UBQ_Tooltip-module__error---gu4D"},U3=SV(S$());function U5({showTooltip:t=!1,...n}){return t?(0,U3.jsx)(U6,{...n}):n.children}var U4=[{name:"preventOverflow",options:{padding:8}},{name:"offset",options:{offset:()=>[0,parseInt(F3("--ubq-scale-base",{fallback:"4px"}),10)]}},{name:"flip",options:{fallbackPlacements:["bottom-end","bottom-start","top","top-end","top-start","left","left-end","left-start","right","right-end","right-start"]}}],U6=(0,U0.forwardRef)(function({children:t,label:n,placement:i,variant:r="regular","data-cy":s},o){let[a]=(0,U0.useState)(NK),[l,c]=(0,U0.useState)(null),[u,d]=(0,U0.useState)(null),[p,h]=(0,U0.useState)(!1),{styles:f,attributes:m}=NS(l,u,{placement:i,modifiers:U4});(0,U0.useEffect)(()=>{if(l){let t=(0,UJ.default)(()=>h(!0),1200,{leading:!1}),n=()=>{t.cancel(),h(!1)},i=n=>{n.target.matches(":focus-visible")&&t()};return l.addEventListener("pointerenter",t),l.addEventListener("pointerleave",n),U1||(l.addEventListener("focusin",i),l.addEventListener("focusout",n)),()=>{t.cancel(),l.removeEventListener("pointerenter",t),l.removeEventListener("pointerleave",n),U1||(l.removeEventListener("focusin",i),l.removeEventListener("focusout",n))}}return UX.default},[l]);let g=(0,U0.useMemo)(()=>NT(t.ref,c,o),[t.ref,o]);return(0,U3.jsxs)(U3.Fragment,{children:[(0,U0.cloneElement)(t,{ref:g,"aria-describedby":a}),(0,U3.jsx)(Da,{children:p&&(0,U3.jsx)(N$,{children:(0,U3.jsx)(R1.div,{id:a,ref:d,style:f.popper,...m.popper,transition:{ease:"easeInOut",duration:.2},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:(0,UK.default)(U2.block,U2[r]),role:"tooltip","aria-hidden":!p,"data-cy":s,children:n})})})]})}),U8=SV(S$()),U7=function({name:t,children:n,renderReference:i,previewColor:r,label:s,"aria-label":o,onClose:a,isDisabled:l,isPropertyEnabled:c,popoverOptions:u={},closeOnWheel:d,hidePreviewLabel:p=!1,customPreviewLabel:h,invertedLabel:f,hideChevron:m=!1,mode:g="default",donutHole:x=!1}){return"none"===g?(0,U8.jsx)(U8.Fragment,{children:n}):(0,U8.jsxs)(N0,{...u,onClose:a,closeOnWheel:d,children:[(n,{isOpen:a})=>i?i(n):"minimal"===g?(0,U8.jsx)(U6,{label:o,children:(0,U8.jsx)(UY,{name:t,"aria-label":o,previewColor:r,hidePreviewLabel:p,customPreviewLabel:h,invertedLabel:f,isDisabled:l||!c,strikeThrough:!c,donutHole:x,...n,children:s})}):(0,U8.jsx)(U6,{label:o,children:(0,U8.jsx)(UD,{name:t,"aria-label":o,previewColor:r,hidePreviewLabel:p,customPreviewLabel:h,invertedLabel:f,isOpen:a,...n,hideChevron:m,isDisabled:l||!c})}),()=>(0,U8.jsx)("div",{children:n})]})},U9=SV(SH()),Ve=SV(Sz()),Vt=SV(SH()),Vn=SV(Sz()),Vi="UBQ_BaseInput-module__block--VEaMq",Vr=SV(S$()),Vs=(0,Vn.forwardRef)(({className:t,...n},i)=>(0,Vr.jsx)("input",{...n,className:(0,Vt.default)(Vi,t),ref:i}));Vs.displayName="uikit/BaseInput";var Vo=SV(S$()),Va=(0,Ve.forwardRef)(({value:t,onChange:n,onRelease:i,isDisabled:r,className:s,innerLabel:o,...a},l)=>{let c=(0,Ve.useRef)(t);return(0,Vo.jsxs)("div",{className:(0,U9.default)("UBQ_TextInput-module__block--yRFnn",{"UBQ_TextInput-module__withInnerLabel--3C44J":!!o}),children:[(0,Vo.jsx)(Vs,{ref:l,type:"text",value:t,onChange:t=>{n&&n(t.currentTarget.value)},onBlur:t=>{let n=t.currentTarget.value;i&&n!==c.current&&(i(n),c.current=n)},disabled:r,className:(0,U9.default)("UBQ_TextInput-module__input--CpTXQ",s),...a}),o&&(0,Vo.jsx)("span",{className:"UBQ_TextInput-module__innerLabel--ObFao",children:o})]})});Va.displayName="uikit/TextInput";var Vl=SV(Sz()),Vc=SV(S$()),Vu=function({value:t,onChange:n,onRelease:i,"aria-label":r,innerLabel:s,...o}){let[a,l]=(0,Vl.useState)(UI(t).replace("#","")),c=(0,Vl.useRef)(a);return(0,Vl.useEffect)(()=>{a.match(/^([A-Fa-f0-9]{3})$/i)||l(UI(t).replace("#",""))},[t]),(0,Vc.jsx)(Va,{value:a.toUpperCase(),onChange:t=>{if(t.match(/^[A-Fa-f0-9]{0,6}$/i)){l(t);let i=`#${t}`;UC.test(i)&&n(UT(i))}},onBlur:function(){let t=a;a.match(/^([A-Fa-f0-9]{3})$/i)||a.match(/^([A-Fa-f0-9]{6})$/i)?a.match(/^([A-Fa-f0-9]{3})$/i)&&l(t=`${a}${a}`):l(t=c.current);let n=`#${t}`;i&&t!==c.current&&(i(UT(n)),c.current=t)},"aria-label":"function"==typeof r?r(a.replace("#","").split("").map(t=>`${t}.`).join("")):r,...o,innerLabel:s})},Vd=SV(kf()),Vp=SV(SH()),Vh=SV(Sz()),Vf=SV(kk()),Vm=SV(Sz()),Vg=SV(Sz());function Vx(t){let n=(0,Vg.useRef)(t);n.current=t;let i=(0,Vg.useCallback)((...t)=>n.current(...t),[]);return n.current?i:n.current}function Vy(t,n){let[i,r]=(0,Vm.useState)(()=>t?.getBoundingClientRect()),s=Vx(n);return(0,Vm.useLayoutEffect)(()=>t?function(t,n){let i=new Set;if(window.ResizeObserver){let r=new ResizeObserver(([t])=>{let r=setTimeout(function(){i.delete(r),n(t.target.getBoundingClientRect())},0);i.add(r)});return r.observe(t),()=>{for(let t of(r.disconnect(),i))clearTimeout(t);i.clear()}}{let i=()=>{n(t.getBoundingClientRect())};return window.addEventListener("resize",i),n(t.getBoundingClientRect()),()=>{window.removeEventListener("resize",i)}}}(t,t=>{r(t),s?.(t)}):()=>{},[t,s]),i}var Vv=SV(S$()),Vb=(t,n,i)=>({width:t.width-n,height:t.height-n,widthPlus:t.width-n+2*i,heightPlus:t.height-n+2*i}),VA=function({value:t,onChange:n,className:i,onRelease:r,"aria-label":s,isDisabled:o=!1}){let[a,l]=(0,Vh.useState)(null),[c,u]=(0,Vh.useState)(),[d,p]=(0,Vh.useState)(12);(0,Vh.useLayoutEffect)(()=>{c&&p(c.getBoundingClientRect().width)},[c]);let h=d/2,f=d/2,{h:m,s:g,v:x}=t,[y,v]=(0,Vh.useState)({x:0,y:0}),b=Vy(a,t=>{if(a){let{widthPlus:n,heightPlus:i}=Vb(t,d,h);v({x:g*n-h,y:i-x*i-h})}})??{width:0,height:0},A=(i,r)=>{if(!a)return;let{width:s,height:o,widthPlus:l,heightPlus:c}=Vb(b,d,h),u=Math.max(Math.min(i,s+h),-h),p=Math.max(Math.min(r,o+h),-h);v({x:u,y:p}),n({h:t.h,s:(u+h)/l,v:(c-(p+h))/c})},w=(0,Vh.useMemo)(()=>({current:a}),[a]);return NI(["up"],()=>(A(y.x,y.y-5),!1),{elementRef:w}),NI(["down"],()=>(A(y.x,y.y+5),!1),{elementRef:w}),NI(["left"],()=>(A(y.x-5,y.y),!1),{elementRef:w}),NI(["right"],()=>(A(y.x+5,y.y),!1),{elementRef:w}),(0,Vv.jsx)("div",{className:(0,Vp.default)("UBQ_SaturationBrightnessSelector-module__block--RHwQ8",i,{"UBQ_SaturationBrightnessSelector-module__isDisabled--HJanP":o}),"aria-live":"assertive","aria-label":s,children:(0,Vv.jsx)(Vf.DraggableCore,{"aria-live":"off",onStart:(t,n)=>{A(n.x-f,n.y-f)},onDrag:(t,n)=>{A(n.x-f,n.y-f)},onStop:r,children:(0,Vv.jsx)("div",{ref:l,className:"UBQ_SaturationBrightnessSelector-module__gradient--VMHwF",style:{"--ubq_internal-SaturationBrightnessSelector-current-hue":360*m},tabIndex:o?-1:0,"data-cy":"saturationBrightnessSelector",children:(0,Vv.jsx)("div",{"data-cy":"saturationBrightnessSelectorThumb",ref:u,className:"UBQ_SaturationBrightnessSelector-module__thumb--rRWCX",style:{transform:`translate(${y.x}px, ${y.y}px)`,backgroundColor:Vd.default.hsv(360*m,g,x).hex()}})})})})},Vw=(SV(Sz()),SV(S$())),VC=t=>(0,Vw.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,Vw.jsx)("g",{clipPath:"url(#clip0_14258_524738)",children:(0,Vw.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7678 6.00019L13.7678 12.0002L19.7678 18.0002L18 19.768L12 13.768L6 19.768L4.23223 18.0002L10.2322 12.0002L4.23223 6.00019L6 4.23242L12 10.2324L18 4.23242L19.7678 6.00019Z",fill:"currentColor"})}),(0,Vw.jsx)("defs",{children:(0,Vw.jsx)("clipPath",{id:"clip0_14258_524738",children:(0,Vw.jsx)("rect",{width:24,height:24,fill:"currentColor"})})})]}),V_=SV(SH()),VS=(SV(Sz()),SV(S1())),Vk=SV(Sz());function VE(t,n){let i=Vx(t),r=(0,Vk.useRef)(),s=(0,Vk.useRef)(!1),o=(0,Vk.useRef)(n),a=(0,Vk.useRef)(0),l=(0,Vk.useCallback)(()=>{s.current&&null!=o.current&&(clearTimeout(r.current),s.current=!1,o.current-=Date.now()-a.current,a.current=0)},[]),c=(0,Vk.useCallback)(()=>{s.current||null==o.current||(s.current=!0,a.current=Date.now(),r.current=setTimeout(()=>{i?.()},o.current))},[i]);return(0,Vk.useEffect)(()=>null!=n&&null!=i?(r.current=setTimeout(()=>{i()},n),s.current=!0,o.current=n,a.current=Date.now(),()=>{clearTimeout(r.current)}):VS.default,[n,i]),{pause:l,resume:c}}var VM={block:"UBQ_Notification-module__block--4Z2nM",wrapper:"UBQ_Notification-module__wrapper--TKM4E",info:"UBQ_Notification-module__info--0vbWO",warning:"UBQ_Notification-module__warning--L3tCn",success:"UBQ_Notification-module__success--nA06c",error:"UBQ_Notification-module__error--9aKAb",icon:"UBQ_Notification-module__icon--B9gKp",spinner:"UBQ_Notification-module__spinner--VdgnF",content:"UBQ_Notification-module__content--1fjU2",dismissButton:"UBQ_Notification-module__dismissButton--MdgFs",actionButton:"UBQ_Notification-module__actionButton--pmf8l",notificationContainer:"UBQ_Notification-module__notificationContainer--NKdiI"},VI=SV(S$()),VT={initial:{opacity:0,transform:"translate3d(-30%, 0px, 0px)"},enter:{opacity:1,transform:"translate3d(0%, 0px, 0px)"},exit:{opacity:0}},VB={Container:function({children:t}){return(0,VI.jsx)("div",{"aria-live":"polite",role:"region",className:VM.notificationContainer,children:(0,VI.jsx)(Da,{children:t})})},Item:function({children:t,onClick:n,"data-cy":i,type:r="info",loading:s=!1,action:o,name:a,ariaLabelCloseButton:l,timeoutAction:c,timeoutDelay:u}){let{pause:d,resume:p}=VE(c,u);return(0,VI.jsx)(R1.div,{layout:!0,layoutId:a,transition:{ease:[.2,0,0,1],duration:.3},variants:VT,initial:"initial",animate:"enter",exit:"exit",children:(0,VI.jsxs)("div",{className:(0,V_.default)(VM.block,VM[r]),"data-cy":i||a,onMouseEnter:d,onMouseLeave:p,children:[s&&(0,VI.jsx)("div",{className:VM.icon,children:(0,VI.jsx)(DI,{className:VM.spinner,strokeWidth:2})}),(0,VI.jsxs)("div",{className:VM.wrapper,children:[(0,VI.jsx)("div",{className:VM.content,children:t}),(0,VI.jsx)(DR,{className:VM.dismissButton,onClick:n,variant:"plain",name:"closeNotificationItem","aria-label":l,children:(0,VI.jsx)(VC,{})}),o&&(0,VI.jsx)(DR,{className:VM.actionButton,onClick:o.onClick,name:"closeNotificationItem","aria-label":l,children:o.label})]})]})})}},VL=SV(kB()),Vj=SV(S$()),VP=function({className:t,name:n,label:i,children:r,isDisabled:s=!1}){let o=(0,VL.default)(`UBQ_input-${n.replace(" ","-")}-`);return(0,Vj.jsxs)(Vj.Fragment,{children:[(0,Vj.jsx)(Uo,{className:t,labelFor:o,isDisabled:s,children:i}),(0,Vj.jsx)(Vj.Fragment,{children:r({id:o,name:n})})]})},VR=SV(SH()),VD=SV(Sz()),VF=SV(S$()),VO=(0,VD.forwardRef)(({value:t,onChange:n,onRelease:i,isDisabled:r,className:s,...o},a)=>{let l=(0,VD.useRef)(t);return(0,VF.jsx)("textarea",{ref:a,value:t,onChange:t=>{n&&n(t.currentTarget.value)},onBlur:t=>{let n=t.currentTarget.value;i&&n!==l.current&&(i(n),l.current=n)},disabled:r,className:(0,VR.default)("UBQ_TextArea-module__block--NSCA3"),...o})});VO.displayName="uikit/TextArea";var VN=SV(SH()),VU=SV(Sz()),VV=(t,n)=>null==t?"":(+t.toFixed(n)).toString(),VH={block:"UBQ_NumberInput-module__block--y1ECY",input:"UBQ_NumberInput-module__input--6EI9x",overlay:"UBQ_NumberInput-module__overlay--6SA7a",inputUnit:"UBQ_NumberInput-module__inputUnit--ZZ19t",withButtonSpace:"UBQ_NumberInput-module__withButtonSpace--7gj--",minimumWidth:"UBQ_NumberInput-module__minimumWidth--OHmtt",overlayUnit:"UBQ_NumberInput-module__overlayUnit--z5CDz",overlayValue:"UBQ_NumberInput-module__overlayValue--1B-lc",disabled:"UBQ_NumberInput-module__disabled--aPTGR"},VQ=SV(S$()),Vz=(0,VU.forwardRef)(function({value:t,onChange:n,onRelease:i,step:r=1,maxFractionDigits:s=2,stepFromZero:o=!0,isDisabled:a,className:l,tooltipLabel:c,unitLabel:u,unitLabelWithButtonSpace:d=!1,formatLabel:p,min:h,max:f,inlineIcon:m,dynamicWidth:g=!1,...x},y){var v;let b=(0,VU.useRef)(!1),A=(0,VU.useRef)(parseFloat(VV(t,s))),w=(0,VU.useRef)(null),[C,_]=(0,VU.useState)(VV(t,s)),S=(0,VU.useCallback)(t=>{let n=VV(t,s);_(t=>t!==n?n:t)},[s,_]);(0,VU.useEffect)(()=>{b.current||S(t)},[t,S]),(0,VU.useEffect)(()=>{C&&(A.current=parseFloat(C))},[C]);let k=n=>{if(n){let r=((t,n)=>{let i="string"==typeof n.min?parseInt(n.min,10):n.min,r="string"==typeof n.max?parseInt(n.max,10):n.max,s=t;return void 0!==i&&(s=Math.max(i,s)),void 0!==r&&(s=Math.min(r,s)),s})(parseFloat(n),{min:h,max:f});i&&w.current!==r&&(i(r),w.current=r),S(t)}else _(`${A.current}`),i&&w.current!==A.current&&(i(A.current),w.current=A.current);w.current=null},E=(0,VU.useRef)(void 0);(0,VU.useEffect)(()=>{if(g&&f){let t=parseFloat(f.toString());E.current=`${VV(t,s).length}ch`}else E.current=void 0},[]);let M={ref:y,type:"number",step:r,value:C,onChange:t=>{var i;i=t.currentTarget.value,n&&(i?(_(i),n(parseFloat(i))):(_(""),n(A.current)))},disabled:a,min:o?(v="any"===r?1:r,void 0===h||void 0===v?h:function(t,n){if(0===n)return t;let i=Math.abs(t%n),r=Math.abs(n)-i;return t+Math.sign(t)*(r<i?r:-i)}(parseFloat(h.toString()),parseFloat(v.toString()))):h,max:f,...x,style:{...x?.style,"--ubq_internal-numberInput-valueCharacterCount":E.current},onFocus:n=>{w.current=t,b.current=!0,x.onFocus&&x.onFocus(n)},onBlur:t=>{b.current=!1,x.onBlur&&x.onBlur(t),k(t.currentTarget.value)}},I={"--ubq_internal-NumberInput-unitLabel-length":`${u?.length}ch`??0},T=(0,VQ.jsxs)("div",{className:(0,VN.default)(VH.block,{[VH.disabled]:a,[VH.withInnerLabel]:!!u,[VH.withInnerLabelIncludingButton]:d}),style:I,children:[(0,VQ.jsx)(Vs,{...M,className:(0,VN.default)(VH.input,l,{[VH.withButtonSpace]:d,[VH.minimumWidth]:g})}),u&&(0,VQ.jsx)("span",{className:(0,VN.default)(VH.inputUnit,{[VH.withButtonSpace]:d}),children:u}),(0,VQ.jsxs)("span",{className:(0,VN.default)(VH.overlay),"aria-hidden":!0,children:[(0,VQ.jsx)("span",{className:VH.overlayValue,children:C}),(0,VQ.jsx)("span",{className:(0,VN.default)(VH.overlayUnit,{[VH.withButtonSpace]:d}),children:u})]})]});return c?(0,VQ.jsx)(U6,{label:c,children:T}):T}),VG=(SV(Sz()),SV(S$())),Vq=t=>(0,VG.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,VG.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12ZM6.39362 16.1922C5.5184 15.0236 5 13.5723 5 12C5 8.13401 8.13401 5 12 5C13.5723 5 15.0236 5.5184 16.1922 6.39362L6.39362 16.1922ZM7.80783 17.6064C8.97641 18.4816 10.4277 19 12 19C15.866 19 19 15.866 19 12C19 10.4277 18.4816 8.97641 17.6064 7.80783L7.80783 17.6064Z",fill:"currentColor"})}),VW=SV(SH()),V$=(SV(Sz()),SV(Sz())),VZ=SV(Sz()),VY=(SV(Sz()),SV(Sz())),VK=(SV(S8()),"undefined"!=typeof window&&window.document&&window.document.createElement?VY.useLayoutEffect:VY.useEffect);function VX(){}function VJ(){return(VJ=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function V0(t){var n=t.context,i=t.children,r=t.items,s=t.set,o=(0,VZ.useCallback)(function(t){var n=t.element,i=t.index,r=function(t,n){if(null==t)return{};var i,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)n.indexOf(i=o[r])>=0||(s[i]=t[i]);return s}(t,["element","index"]);n&&s(function(t){var s;if(null!=i)s=[].concat(t,[VJ({},r,{element:n,index:i})]);else if(0===t.length)s=[].concat(t,[VJ({},r,{element:n,index:0})]);else if(t.find(function(t){return t.element===n}))s=t;else{var o=t.findIndex(function(t){return!(!t.element||!n)&&!!(t.element.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING)}),a=VJ({},r,{element:n,index:o});s=-1===o?[].concat(t,[a]):[].concat(t.slice(0,o),[a],t.slice(o))}return s.map(function(t,n){return VJ({},t,{index:n})})})},[]),a=(0,VZ.useCallback)(function(t){t&&s(function(n){return n.filter(function(n){return t!==n.element})})},[]);return(0,VZ.createElement)(n.Provider,{value:(0,VZ.useMemo)(function(){return{descendants:r,registerDescendant:o,unregisterDescendant:a}},[r,o,a])},i)}"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;var V1,V2,V3=SV(SH()),V5=SV(EW()),V4=SV(Sz()),V6={options:"UBQ_ListBox-module__options--QXJ8g",option:"UBQ_ListBox-module__option--eAH8y",loading:"UBQ_ListBox-module__loading--9tdIb",loadingAnimation:"UBQ_ListBox-module__loadingAnimation--hrq-v"},V8=0,V7=()=>`UBQ__select-option-${V8+=1}`,V9=(t,n)=>`${n}-${t}`,He=SV(S$()),Ht=(void 0===V1&&(V1={}),function(t,n){var i=(0,VY.createContext)(n);return i.displayName=t,i}("DescendantContext",VJ({descendants:[],registerDescendant:VX,unregisterDescendant:VX},V1))),Hn=(0,V4.createContext)({value:"",select:()=>{throw Error("No Context for ListBox provided")},activeIndex:-1,setActiveIndex:()=>{throw Error("No Context for ListBox provided")},idPrefix:"",scrollTo:()=>{throw Error("No Context for scrollTo provided")}}),Hi={Container:function(t){let{value:n,onClose:i,onChange:r,children:s,className:o,"data-ubq-id":a,...l}=t,[c,u]=(0,VZ.useState)([]),[d,p]=(0,V4.useState)(-1),h=(0,V4.useRef)(null),f=(0,V4.useCallback)((t,n)=>{r(t),p(n),i&&i()},[r,i]);(0,V4.useEffect)(()=>{let t=c.findIndex(t=>"object"==typeof n?(0,V5.default)(t.value,n):t.value===n);t!==d&&p(t)},[n]);let m=(0,V4.useCallback)((t,n=!1)=>{if(h.current){let i=h.current,r=c[t]?.element;if(r&&h.current){let t=("static"!==getComputedStyle(i).position?r.offsetTop:r.offsetTop-i.offsetTop)-i.clientHeight/2+r.offsetHeight;h.current.scrollTo?h.current.scrollTo({behavior:n?"smooth":"auto",top:Math.max(t,0)}):h.current.scrollIntoView()}}},[c]);NI(["down"],()=>(p(t=>{let n=Math.min(t+1,c.length-1);return t!==n&&m(n,!0),n}),!1),{elementRef:h}),NI(["up"],()=>(p(t=>{let n=Math.max(t-1,0);return t!==n&&m(n,!0),n}),!1),{elementRef:h}),NI(["tab","shift+tab"],()=>{i&&i()},{elementRef:h}),NI(["space","enter"],()=>(f(c[d].value,d),!1),{elementRef:h});let g=(0,V4.useMemo)(V7,[]),x=(0,V4.useMemo)(()=>({value:n,select:f,activeIndex:d,setActiveIndex:p,idPrefix:g,scrollTo:m}),[d,g,m,f,n]);return(0,He.jsx)(V0,{context:Ht,items:c,set:u,children:(0,He.jsx)(Hn.Provider,{value:x,children:(0,He.jsx)("ul",{ref:h,role:"listbox",tabIndex:0,className:(0,V3.default)(V6.options,o),"data-ubq-id":a,"aria-activedescendant":d>-1?V9(d,g):void 0,...l,children:s})})})},Option:function({children:t,className:n,value:i,"data-value":r,isLoading:s,icon:o,...a}){var l,c,u,d,p,h,f,m,g,x;let y=(0,V4.useRef)(null),{activeIndex:v,setActiveIndex:b,value:A,select:w,idPrefix:C,scrollTo:_}=(0,V4.useContext)(Hn),S=(l={element:y.current,value:i},c=(0,VY.useState)(Object.create(null))[1],d=(0,VY.useCallback)(function(){c(Object.create(null))},[]),h=(p=(0,VZ.useContext)(Ht)).registerDescendant,f=p.unregisterDescendant,g=(m=p.descendants).findIndex(function(t){return t.element===l.element}),u=(0,VY.useRef)(null),(0,VY.useEffect)(function(){u.current=m},[m]),x=u.current,VK(function(){return l.element||d(),h(VJ({},l,{index:g})),function(){return f(l.element)}},[d,g,h,m.some(function(t,n){var i;return t.element!==(null==x||null===(i=x[n])||void 0===i?void 0:i.element)}),f].concat(Object.values(l))),g),k=V9(S,C),E=v===S,M=(0,V5.default)(A,i);return(0,V4.useEffect)(()=>{M&&b(t=>-1===t?(_(S),S):t)},[S]),(0,He.jsxs)("li",{id:k,ref:y,role:"option","aria-selected":M,"data-selected":M,"data-active":E,"data-value":r,onClick:()=>{w(i,S)},className:(0,V3.default)(V6.option,n,{[V6.loading]:s,[V6.selected]:M,[V6.active]:E}),...a,children:[o,(0,He.jsx)("span",{children:"function"==typeof t?t({isActive:E,isSelected:M}):t})]})}},Hr={block:"UBQ_Select-module__block--jJ2Mf",optionsContainer:"UBQ_Select-module__optionsContainer--ofxOA",empty:"UBQ_Select-module__empty--N2A4N"},Hs=SV(S$());function Ho({children:t,...n}){return(0,Hs.jsx)(N0,{...n,children:t})}(V2=Ho||(Ho={})).Options=function({children:t,className:n,...i}){let{closePopover:r}=(0,V$.useContext)(NJ);return(0,Hs.jsx)(Hi.Container,{...i,onClose:r,className:(0,VW.default)(Hr.block,n),children:t})},V2.Option=function({children:t,className:n,...i}){return(0,Hs.jsx)(Hi.Option,{...i,className:(0,VW.default)(Hr.selectOption,n),children:t})},V2.Async=function({children:t,fetchValues:n,...i}){let[r,s]=(0,V$.useState)([]),[o,a]=(0,V$.useState)("waiting"),[l,c]=t;return(0,Hs.jsxs)(N0,{...i,disableFocusTrap:"success"!==o||0===r.length,onOpen:({forceUpdate:t})=>{a("waiting"),n().then(n=>{s(n),a("success"),t?.()}).catch(()=>{a("error")})},children:[l,()=>(0,Hs.jsx)("div",{className:Hr.optionsContainer,children:(0,Hs.jsx)(Oo,{asyncState:o,showCircularSpinner:!0,children:r.length>0?c({values:r}):(0,Hs.jsx)("div",{className:Hr.empty,children:(0,Hs.jsx)(Vq,{})})})},"async-select")]})};var Ha=Ho,Hl=SV(SH()),Hc=SV(Sz()),Hu=SV(SH()),Hd=SV(S$()),Hp=function({className:t,orientation:n="horizontal",...i}){return(0,Hd.jsx)("hr",{className:(0,Hu.default)("UBQ_Separator-module__block--90X0b",t),"aria-orientation":n,...i})},Hh={block:"UBQ_NumberSelectInput-module__block--W6-1L",numberInput:"UBQ_NumberSelectInput-module__numberInput--hazaB",numberSelectInputReference:"UBQ_NumberSelectInput-module__numberSelectInputReference--Yy6Ao",numberSelectOption:"UBQ_NumberSelectInput-module__numberSelectOption--dN6Rv"},Hf=SV(S$());function Hm({children:t,tooltip:n}){return n?(0,Hf.jsx)(U6,{label:n,children:t}):(0,Hf.jsx)(Hf.Fragment,{children:t})}function Hg({value:t,onChange:n,onRelease:i,className:r,options:s,selectedOption:o,isDisabled:a,children:l,...c}){let u=(0,Hc.useRef)(t);return(0,Hf.jsxs)("div",{className:(0,Hl.default)(Hh.block,r),children:["number"!=typeof t||l?l?(0,Hf.jsx)(Hm,{tooltip:c["aria-label"],children:l}):null:(0,Hf.jsx)(Hm,{tooltip:c["aria-label"],children:(0,Hf.jsx)(Vz,{value:t,onChange:n,onRelease:i,className:(0,Hl.default)(Hh.numberInput),isDisabled:a,unitLabelWithButtonSpace:!0,...c})}),(0,Hf.jsxs)(Ha,{placement:"bottom",doubleOffset:!0,children:[(t,{isOpen:n})=>(0,Hf.jsx)(DR,{name:"numberSelectInputReference",className:Hh.numberSelectInputReference,isDisabled:a,"aria-label":c["aria-label"],"aria-labelledby":c["aria-labelledby"],...t,children:n?(0,Hf.jsx)(Ub,{}):(0,Hf.jsx)(Uy,{})}),()=>(0,Hf.jsx)(Ha.Options,{value:o,onChange:t=>{null!=t&&(n(t.value),i&&t.value!==u.current&&(i(t.value),u.current=t.value))},children:s.reduce((t,n)=>{let{value:i,label:r,separate:s}=n,o=t.concat((0,Hf.jsx)(Ha.Option,{value:n,children:(0,Hf.jsx)("div",{className:Hh.numberSelectOption,children:r||i})},i));return s&&o.push((0,Hf.jsx)(Hp,{className:Hh.separator},`separator-${i}`)),o},[])})]})]})}var Hx=function({value:t,onChange:n,onRelease:i,className:r,options:s,selectedOption:o,isDisabled:a,...l}){let c=(0,Hc.useRef)(t);return(0,Hf.jsxs)("div",{className:(0,Hl.default)(Hh.block,r),children:[(0,Hf.jsx)(Hm,{tooltip:l["aria-label"],children:(0,Hf.jsx)(Vz,{value:t,onChange:n,onRelease:i,className:(0,Hl.default)(Hh.numberInput),isDisabled:a,unitLabelWithButtonSpace:!0,...l})}),(0,Hf.jsxs)(Ha,{placement:"bottom",doubleOffset:!0,children:[(t,{isOpen:n})=>(0,Hf.jsx)(DR,{name:"numberSelectInputReference",className:Hh.numberSelectInputReference,isDisabled:a,"aria-label":l["aria-label"],"aria-labelledby":l["aria-labelledby"],...t,children:n?(0,Hf.jsx)(Ub,{}):(0,Hf.jsx)(Uy,{})}),()=>(0,Hf.jsx)(Ha.Options,{value:o,onChange:t=>{null!=t&&(n(t.value),i&&t.value!==c.current&&(i(t.value),c.current=t.value))},children:s.map(t=>{let{value:n,label:i}=t;return(0,Hf.jsx)(Ha.Option,{value:t,children:(0,Hf.jsx)("div",{className:Hh.numberSelectOption,children:i||n})},n)})})]})]})},Hy={block:"UBQ_Progress-module__block--wCo-k",indeterminateProgress:"UBQ_Progress-module__indeterminateProgress--jzouT",indeterminateProgressFill:"UBQ_Progress-module__indeterminateProgressFill---QtbY",indeterminate:"UBQ_Progress-module__indeterminate--wtGuM"},Hv=SV(S$());function Hb({variant:t=Hb.Variant.Determinate,max:n=100,value:i}){return(0,Hv.jsx)("div",{className:Hy.block,children:t===Hb.Variant.Indeterminate?(0,Hv.jsx)("div",{className:Hy.indeterminateProgress,children:(0,Hv.jsx)("div",{className:Hy.indeterminateProgressFill})}):(0,Hv.jsx)("progress",{className:Hy.determinate,max:n,value:i})})}(t=>{var n;(n=t.Variant||(t.Variant={})).Indeterminate="indeterminate",n.Determinate="determinate"})(Hb||(Hb={})),SV(Sz());var HA=SV(S$()),Hw=t=>(0,HA.jsxs)("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,HA.jsx)("path",{opacity:.5,d:"M13.376 5H26.624L36 14.376V27.624L26.624 37H13.376L4 27.624V14.376L13.376 5Z",fill:"#DC608E"}),(0,HA.jsx)("path",{d:"M13.376 5H26.624L36 14.376V27.624L26.624 37H13.376L4 27.624V14.376L13.376 5Z",stroke:"#DC608E",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HA.jsx)("path",{d:"M20 15V21.6667",stroke:"#DC608E",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HA.jsx)("path",{d:"M20 28.3334H20.015",stroke:"#DC608E",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})]}),HC=(SV(Sz()),SV(S$())),H_=t=>(0,HC.jsxs)("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,HC.jsx)("path",{opacity:.5,d:"M20 37C29.3888 37 37 29.3888 37 20C37 10.6112 29.3888 3 20 3C10.6112 3 3 10.6112 3 20C3 29.3888 10.6112 37 20 37Z",fill:"currentColor",fillOpacity:.9}),(0,HC.jsx)("path",{d:"M20 37C29.3888 37 37 29.3888 37 20C37 10.6112 29.3888 3 20 3C10.6112 3 3 10.6112 3 20C3 29.3888 10.6112 37 20 37Z",stroke:"currentColor",strokeOpacity:.9,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HC.jsx)("path",{d:"M20 26.6667V20",stroke:"currentColor",strokeOpacity:.9,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HC.jsx)("path",{d:"M20 13.3333H20.0167",stroke:"currentColor",strokeOpacity:.9,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})]}),HS=(SV(Sz()),SV(S$())),Hk=t=>(0,HS.jsxs)("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,HS.jsx)("path",{opacity:.5,d:"M20 37C29.3888 37 37 29.3888 37 20C37 10.6112 29.3888 3 20 3C10.6112 3 3 10.6112 3 20C3 29.3888 10.6112 37 20 37Z",fill:"#09B48B"}),(0,HS.jsx)("path",{d:"M13 22.4L17.6667 26L27 14",stroke:"#09B48B",strokeWidth:4,strokeLinecap:"round"}),(0,HS.jsx)("path",{d:"M20 37C29.3888 37 37 29.3888 37 20C37 10.6112 29.3888 3 20 3C10.6112 3 3 10.6112 3 20C3 29.3888 10.6112 37 20 37Z",stroke:"#09B48B",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}),HE=(SV(Sz()),SV(S$())),HM=t=>(0,HE.jsxs)("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,HE.jsx)("path",{opacity:.5,d:"M17.15 6.43334L3.03337 30C2.74231 30.504 2.58831 31.0755 2.58668 31.6575C2.58505 32.2396 2.73585 32.8119 3.02408 33.3176C3.31231 33.8232 3.72791 34.2446 4.22955 34.5398C4.73119 34.8349 5.30137 34.9936 5.88337 35H34.1167C34.6987 34.9936 35.2689 34.8349 35.7705 34.5398C36.2722 34.2446 36.6878 33.8232 36.976 33.3176C37.2642 32.8119 37.415 32.2396 37.4134 31.6575C37.4118 31.0755 37.2578 30.504 36.9667 30L22.85 6.43334C22.5529 5.94352 22.1346 5.53854 21.6354 5.25748C21.1362 4.97642 20.5729 4.82877 20 4.82877C19.4271 4.82877 18.8639 4.97642 18.3647 5.25748C17.8655 5.53854 17.4472 5.94352 17.15 6.43334Z",fill:"#FFBB33"}),(0,HE.jsx)("path",{d:"M17.15 6.43331L3.03337 30C2.74231 30.504 2.58831 31.0755 2.58668 31.6575C2.58505 32.2395 2.73585 32.8119 3.02408 33.3175C3.31231 33.8232 3.72791 34.2446 4.22955 34.5397C4.73118 34.8349 5.30137 34.9936 5.88337 35H34.1167C34.6987 34.9936 35.2689 34.8349 35.7705 34.5397C36.2722 34.2446 36.6878 33.8232 36.976 33.3175C37.2642 32.8119 37.415 32.2395 37.4134 31.6575C37.4118 31.0755 37.2578 30.504 36.9667 30L22.85 6.43331C22.5529 5.94349 22.1346 5.53851 21.6354 5.25745C21.1361 4.97639 20.5729 4.82874 20 4.82874C19.4271 4.82874 18.8639 4.97639 18.3647 5.25745C17.8655 5.53851 17.4472 5.94349 17.15 6.43331V6.43331Z",stroke:"#FFBB33",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HE.jsx)("path",{d:"M20 15V21.6667",stroke:"#FFBB33",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"}),(0,HE.jsx)("path",{d:"M20 28.3333H20.015",stroke:"#FFBB33",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})]}),HI=SV(SH()),HT=SV(Sz());function HB(t,n=100){return`${Math.round(t/n*100)}%`}var HL={block:"UBQ_Dialog-module__block--8gEdi",dialog:"UBQ_Dialog-module__dialog--WDrz1",body:"UBQ_Dialog-module__body--22mCq",icon:"UBQ_Dialog-module__icon--YAfsD",info:"UBQ_Dialog-module__info--caS5k",success:"UBQ_Dialog-module__success--atH2l",warning:"UBQ_Dialog-module__warning--Ney-j",error:"UBQ_Dialog-module__error--vCixT",content:"UBQ_Dialog-module__content--AKXLs",footer:"UBQ_Dialog-module__footer--0RwTK"},Hj=SV(S$());function HP({children:t}){return(0,Hj.jsx)("div",{className:(0,HI.default)(HL.content),children:t})}function HR({type:t,progress:n}){let i;switch(t){case"info":i=(0,Hj.jsx)(H_,{});break;case"success":i=(0,Hj.jsx)(Hk,{});break;case"warning":i=(0,Hj.jsx)(HM,{});break;case"error":i=(0,Hj.jsx)(Hw,{});break;case"loading":i=(0,Hj.jsx)(DI,{...null==n||"indeterminate"===n?{variant:"indeterminate"}:"number"==typeof n?{variant:"determinate",value:n,max:100,label:HB(n)}:{variant:"determinate",value:n.value,max:n.max,label:HB(n.value,n.max)}});break;default:return null}return(0,Hj.jsx)("div",{className:HL.icon,children:i})}function HD({children:t,show:n,"data-cy":i,onClose:r,type:s="regular",size:o="regular","aria-label":a,clickOutsideToClose:l=!0,footer:c,className:u,progress:d=0}){let p=(0,HT.useRef)(null);return NI(["esc"],r??null,{elementRef:p}),(0,Hj.jsx)(Da,{children:n&&(0,Hj.jsx)(ND,{onClickOutside:t=>{t.isOutside(p.current)&&l?r?.():t.stopPropagation()},children:(0,Hj.jsx)(R1.div,{transition:{type:"spring",duration:.3},variants:{exit:{opacity:0},enter:{opacity:1}},initial:"exit",animate:"enter",exit:"exit",className:(0,HI.default)(HL.block),"data-cy":i,onClick:t=>{t.stopPropagation()},children:(0,Hj.jsx)(OC,{focusTrapOptions:{escapeDeactivates:!1,fallbackFocus:`.${HL.dialog}`,allowOutsideClick:!0},children:(0,Hj.jsxs)("div",{ref:p,className:(0,HI.default)(HL.dialog,HL[s],u),role:"regular"!==s?"alertdialog":"dialog","aria-modal":"true","aria-label":a,"data-size":o,children:[(0,Hj.jsxs)("div",{className:HL.body,children:[(0,Hj.jsx)(HR,{type:s,progress:d}),(0,Hj.jsx)(HP,{children:t})]}),c?(0,Hj.jsxs)(Hj.Fragment,{children:[(0,Hj.jsx)(Hp,{}),c]}):null]})})})})})}(HD||(HD={})).Footer=function({children:t}){return(0,Hj.jsx)("footer",{className:HL.footer,children:t})};var HF=HD,HN=SV(S$()),HU=SV(SH()),HV={block:"UBQ_Card-module__block--Zs4rt",shortHeight:"UBQ_Card-module__shortHeight--0Hr9R",extraShortHeight:"UBQ_Card-module__extraShortHeight--xZVB-",stateRepresentation:"UBQ_Card-module__stateRepresentation--HIjTB",autoHeight:"UBQ_Card-module__autoHeight--yuOcz",backgroundImage:"UBQ_Card-module__backgroundImage--fXz-k",cover:"UBQ_Card-module__cover--I9azZ",contain:"UBQ_Card-module__contain--ToAWK",content:"UBQ_Card-module__content--9sQsw"},HH=SV(S$()),HQ=((x=HQ||{}).Default="defaultHeight",x.Short="shortHeight",x.ExtraShort="extraShortHeight",x.Auto="autoHeight",x);function Hz({children:t,isActive:n=!1,isDisabled:i=!1,backgroundImage:r,backgroundType:s="cover","aria-label":o,height:a="defaultHeight",className:l,"data-cy":c,style:u,...d}){return(0,HH.jsx)(U5,{showTooltip:!!o,label:o??"",children:(0,HH.jsxs)("button",{type:"button",className:(0,HU.default)(HV.block,HV[a],l,{[HV.contain]:"contain"===s,[HV.cover]:"cover"===s}),style:u||{},disabled:i,"data-active":n,"aria-label":o,"data-cy":c||d.name,...d,children:[r&&(0,HH.jsx)("img",{className:(0,HU.default)(HV.backgroundImage),src:r,alt:o}),(0,HH.jsx)("div",{className:HV.stateRepresentation}),t]})})}(Hz||(Hz={})).Height=HQ;var HG=Hz,Hq=SV(S$());function HW({children:t,...n}){return(0,Hq.jsx)(HG,{...n,className:"UBQ_BannerCard-module__block--0VwaV",children:t})}(HW||(HW={})).Label=function({children:t}){return(0,Hq.jsx)("span",{className:"UBQ_BannerCard-module__label--swokE",children:t})};var H$=HW,HZ=(SV(Sz()),SV(S$())),HY=t=>(0,HZ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,HZ.jsx)("path",{d:"M6 3H9V5H6C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V15H21V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34315 4.34315 3 6 3Z",fill:"currentColor"}),(0,HZ.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.707 2.29312C20.4881 1.07417 18.5118 1.07417 17.2928 2.29312L9.62591 9.96005L8.20937 14.2097C7.88364 15.1868 8.81331 16.1165 9.79051 15.7908L14.0401 14.3743L21.7071 6.70733C22.926 5.48838 22.926 3.51207 21.707 2.29312ZM18.7071 3.70733C19.145 3.26943 19.8549 3.26943 20.2928 3.70733C20.7307 4.14524 20.7307 4.85522 20.2928 5.29312L13.1678 12.4181L11.582 10.8323L18.7071 3.70733Z",fill:"currentColor"})]}),HK=SV(SH()),HX=SV(Sz()),HJ=class{static isPercentageSlider(t,n){return 1>=Math.abs(t)&&1>=Math.abs(n)&&t!==n}static isSymmetricalPercentageSlider(t,n){let i=0!==t&&0!==n,r=Math.abs(t)===Math.abs(n);return this.isPercentageSlider(t,n)&&i&&r}static valueToPercentage=(t,n,i)=>this.isSymmetricalPercentageSlider(n,i)?(t-n)/((i-n)/200)-100:(t-n)/((i-n)/100);static percentageToValue=(t,n,i)=>this.isSymmetricalPercentageSlider(n,i)?(i-n)/200*(t+100)+n:(i-n)/100*t+n;static stepFromMinMax=(t,n)=>this.isSymmetricalPercentageSlider(t,n)?(n-t)/200:(n-t)/100},H0=t=>{let n=(+t).toString();return -1===n.lastIndexOf(".")?0:n.slice(n.lastIndexOf(".")+1).length},H1=(t,n,i)=>Math.min(Math.max(t,n),i),H2="UBQ_Slider-module__hidden--80UTS",H3=SV(S$()),H5=function({name:t,min:n=0,max:i=100,step:r=1,value:s=0,defaultValue:o,centeredZeroPosition:a=!1,hideTrackBackground:l=!1,className:c,style:u,onNumberInputChange:d,toggleNumberInputAriaLabel:p,disabled:h,onRelease:f,maxFractionDigits:m=2,disableAutoPercentage:g=!1,...x}){let y=(0,HX.useRef)(null),v=(0,HX.useRef)(null),b=(0,HX.useRef)(null),A=(0,HX.useRef)(null),w=(n+i)/2,C=o===s,_=!g&&HJ.isPercentageSlider(n,i),[S,k]=(0,HX.useState)(!1),E=h||n===i;(0,HX.useEffect)(()=>{S&&v?.current?.focus()},[S]),NI(["enter"],()=>{k(!0),v?.current?.focus()},{elementRef:y}),NI(["enter"],()=>{k(!1),y?.current?.focus()},{elementRef:v});let M=(t,s)=>s?parseFloat(VV(HJ.valueToPercentage(t,n,i),0)):parseFloat(t.toFixed(Math.min(m,H0(r)))),I=()=>{A.current=s},T=()=>{A.current!==s&&(f?.(),A.current=s),A.current=null};function B(t,n){return i=>{t(),n?.(i)}}let L={...u,"--ubq_internal-Slider-min":n,"--ubq_internal-Slider-max":i,"--ubq_internal-Slider-value":0===H0(r)?M(s,!1):s};return(0,H3.jsxs)("div",{className:"UBQ_Slider-module__block--dDuSa",children:[(0,H3.jsxs)("div",{className:(0,HK.default)("UBQ_Slider-module__sliderWrapper--zNilx",{"UBQ_Slider-module__disabled--QgWzs":E,[H2]:S}),children:[(0,H3.jsx)("input",{ref:y,...x,className:(0,HK.default)("UBQ_Slider-module__inputRange--OTSiA",c,{"UBQ_Slider-module__active--kklFw":!C,"UBQ_Slider-module__centeredValueHigherThanSelectedValue--4cMIW":a&&w>=s,"UBQ_Slider-module__centeredValueLowerThanSelectedValue--a2b7y":a&&w<s,"UBQ_Slider-module__noTrackBackground--nwn1B":l}),name:t,type:"range",min:n,max:i,value:s,step:r,onMouseDown:B(I,x.onMouseDown),onTouchStart:B(I,x.onTouchStart),onKeyDown:B(I,x.onKeyDown),onMouseUp:B(T,x.onMouseUp),onTouchEnd:B(T,x.onTouchEnd),onKeyUp:B(T,x.onKeyUp),style:L,disabled:E}),(0,H3.jsx)("div",{className:"UBQ_Slider-module__wrapperNumberInput--4-s7W",children:(0,H3.jsx)("span",{className:"UBQ_Slider-module__numberValue--dW0ko","data-cy":"slider-number-value",children:M(s,_)})})]}),(0,H3.jsx)("div",{className:(0,HK.default)({[H2]:!S}),children:(0,H3.jsx)(Vz,{ref:v,className:c,name:"slider-number-input",min:M(n,_),max:M(i,_),value:M(s,_),onFocus:t=>{t.target.select(),I()},onChange:t=>{var r;d&&d(H1((r=t??0,_?HJ.percentageToValue(r,n,i):r),n,i))},onBlur:t=>{b.current!==t.relatedTarget&&k(!1)},onRelease:f,disabled:E})}),!E&&(0,H3.jsx)("div",{className:(0,HK.default)("UBQ_Slider-module__wrapperButtonToggleInput--3-QDP",{[H2]:S}),children:(0,H3.jsx)("div",{className:"UBQ_Slider-module__buttonSurface--dgwb1",children:(0,H3.jsx)(U6,{label:p,children:(0,H3.jsx)(DU,{ref:b,name:"toggle-number_input","aria-label":p,onClick:()=>{k(!S)},isActive:S,isDisabled:E,children:(0,H3.jsx)(HY,{})})})})})]})},H4=SV(SH()),H6=SV(S$()),H8=function({title:t,headingLevel:n,headingStart:i,headingAreaRight:r,className:s,classNameContent:o,children:a}){return(0,H6.jsxs)("section",{className:(0,H4.default)("UBQ_Section-module__block--Os9sI",s),children:[(0,H6.jsx)(Hp,{}),t&&(0,H6.jsxs)(N5,{className:"UBQ_Section-module__heading--UEekR",level:n||1,start:i,children:[(0,H6.jsx)("span",{className:"UBQ_Section-module__headingTitle--rGvh-",children:t}),r&&(0,H6.jsx)("span",{className:"UBQ_Section-module__headingArea--Nwq8r",children:r})]}),(0,H6.jsx)("div",{className:(0,H4.default)("UBQ_Section-module__content--K9n7C",o,{"UBQ_Section-module__titleless--uhLvj":!t}),children:a})]})},H7=SV(SH()),H9=SV(S$()),Qe=function({children:t,className:n,"data-cy":i}){return(0,H9.jsx)("div",{className:(0,H7.default)("UBQ_SectionRow-module__block--qnCVh",n),"data-cy":i,children:t})},Qt=SV(SH()),Qn=SV(S$()),Qi=function({children:t,className:n,"data-cy":i}){return(0,Qn.jsx)("div",{className:(0,Qt.default)("UBQ_SectionBlock-module__block--ESJkV",n),"data-cy":i,children:t})},Qr=SV(SH()),Qs=SV(Sz()),Qo={block:"UBQ_Panel-module__block--EaNC7",floating:"UBQ_Panel-module__floating--XYymS",left:"UBQ_Panel-module__left--dN7Uw",right:"UBQ_Panel-module__right--p4cWi",verticalLayout:"UBQ_Panel-module__verticalLayout--NmiHx",fixed:"UBQ_Panel-module__fixed--btzoD",fullHeight:"UBQ_Panel-module__fullHeight--QGYo4",borderLeft:"UBQ_Panel-module__borderLeft--53yW6",borderRight:"UBQ_Panel-module__borderRight---MlC9"},Qa=SV(S$()),Ql=function({children:t,show:n=!0,delayRenderAfterAnimation:i,floating:r,position:s="left","data-cy":o,className:a,borderLeft:l,borderRight:c,animationDirection:u="horizontal",style:d,fullHeight:p}){let h;let[f,m]=(0,Qs.useState)(!i),g=(0,Qs.useRef)(n);if((0,Qs.useEffect)(()=>{g.current=n},[n,r]),"vertical"===u)h={open:{x:0,y:(r?-100:0)+"%"},closed:{x:0,y:(r?0:100)+"%"}};else switch(s){case"left":h={open:{x:"0%",y:0},closed:{x:"-100%",y:0}};break;case"right":h={open:{x:"0%",y:0},closed:{x:"100%",y:0}};break;default:h={open:{x:"0%",y:"0%"},closed:{x:"0%",y:"0%"}}}return(0,Qa.jsx)(Da,{children:n&&(0,Qa.jsx)(R1.div,{className:(0,Qr.default)(Qo.block,a,Qo[s],{[Qo.floating]:r,[Qo.fixed]:!r,[Qo.borderLeft]:l,[Qo.borderRight]:c,[Qo.verticalLayout]:"vertical"===u,[Qo.fullHeight]:p}),transition:{type:"spring",bounce:0,duration:.3},variants:h,onAnimationComplete:()=>{i&&m(g.current)},initial:"closed",animate:"open",exit:"closed","data-cy":o,style:d,children:"function"==typeof t?t({animationComplete:f}):f&&t})})},Qc=SV(S$()),Qu=function({value:t,readOnly:n=!1}){return(0,Qc.jsx)("textarea",{className:"UBQ_CodeBlock-module__block--wxRVU",value:t,readOnly:n})},Qd=SV(SH()),Qp=SV(Sz()),Qh=SV(SX()),Qf=SV(S$());function Qm({children:t,...n}){return(0,Qf.jsx)("li",{role:"menuitem",...n,children:t})}var Qg,Qx={Container:function({children:t,className:n}){let i=(0,Qp.useRef)(null),r=null!==i.current?(0,Qh.tabbable)(i.current):[];return NI(["down"],({target:t})=>{if(r.length>0){let n=r.findIndex(n=>n===t);return -1===n||(r.length===n+1?r[0].focus():r[n+1].focus(),!1)}return!0},{elementRef:i}),NI(["up"],({target:t})=>{if(r.length>0){let n=r.findIndex(n=>n===t);return -1===n||(0===n?r[r.length-1].focus():n>0&&n<r.length&&r[n-1].focus(),!1)}return!0},{elementRef:i}),(0,Qf.jsx)("ul",{className:(0,Qd.default)("UBQ_Menu-module__block--VI7kM",n),ref:i,role:"menu",children:t})},Item:Qm,ItemCheckbox:function({children:t,checked:n,...i}){return(0,Qf.jsx)(Qm,{role:"menuitemcheckbox","aria-checked":n,...i,children:t})},Heading:function({children:t,level:n}){return(0,Qf.jsx)(N5,{level:n||2,className:"UBQ_Menu-module__heading--c2gVj",children:t})}},Qy=(SV(Sz()),SV(S$())),Qv=t=>(0,Qy.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,Qy.jsx)("path",{d:"M16 12.5V16H12.5L14.25 14.25L16 12.5Z",fill:"currentColor",fillOpacity:.9})}),Qb=(SV(Sz()),SV(S$())),QA=t=>(0,Qb.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,Qb.jsx)("path",{d:"M7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12Z",fill:"currentColor"}),(0,Qb.jsx)("path",{d:"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z",fill:"currentColor"}),(0,Qb.jsx)("path",{d:"M19 14C20.1046 14 21 13.1046 21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14Z",fill:"currentColor"})]}),Qw=SV(SH()),QC=SV(Sz()),Q_="UBQ_TreeView-module__header--5ji2j",QS="UBQ_TreeView-module__item--TrN5h",Qk="UBQ_TreeView-module__icon--tKUe8",QE="UBQ_TreeView-module__isActive--iHicT",QM="UBQ_TreeView-module__link--QrQWp",QI="UBQ_TreeView-module__button--rwhcS",QT=SV(S$());function QB({children:t,isActive:n,className:i}){return(0,QT.jsx)("ul",{className:(0,Qw.default)("UBQ_TreeView-module__block--7XX8G",i,{"UBQ_TreeView-module__isGroupActive--wqSYo":n}),children:t})}(Qg=QB||(QB={})).HeaderButton=(0,QC.forwardRef)(function({children:t,isActive:n,className:i,...r},s){return(0,QT.jsx)("li",{className:(0,Qw.default)(Q_,{[QE]:n}),children:(0,QT.jsx)("button",{ref:s,type:"button",...r,className:(0,Qw.default)(QI,i),children:t})})}),Qg.HeaderLink=(0,QC.forwardRef)(function({children:t,isActive:n,menu:i,className:r,...s},o){return(0,QT.jsxs)("li",{className:(0,Qw.default)(Q_,{[QE]:n}),children:[(0,QT.jsx)("a",{ref:o,...s,className:(0,Qw.default)(QM,r),children:t}),i]})}),Qg.HeaderIcon=function({children:t,className:n}){return(0,QT.jsx)("div",{className:(0,Qw.default)("UBQ_TreeView-module__headerIcon--awtzN",n),children:t})},Qg.ItemButton=(0,QC.forwardRef)(function({children:t,icon:n,isActive:i,menu:r,className:s,...o},a){return(0,QT.jsxs)("li",{className:QS,children:[(0,QT.jsxs)("button",{ref:a,type:"button",...o,className:(0,Qw.default)(QI,s,{[QE]:i}),children:[(0,QT.jsx)("div",{className:(0,Qw.default)(Qk),children:n})," ",t]}),r]})}),Qg.ItemLink=(0,QC.forwardRef)(function({icon:t,isActive:n,menu:i,children:r,className:s,...o},a){return(0,QT.jsxs)("li",{className:(0,Qw.default)(QS,{[QE]:n}),children:[(0,QT.jsxs)("a",{ref:a,...o,className:(0,Qw.default)(QM,s),children:[(0,QT.jsx)("div",{className:(0,Qw.default)(Qk),children:t})," ",r]}),i]})}),Qg.Menu=function({children:t,isDisabled:n}){return(0,QT.jsxs)(N0,{children:[t=>(0,QT.jsx)(DR,{name:"treeViewMenuMore","aria-label":"Open folder options",variant:"plain",className:"UBQ_TreeView-module__menuButton--UiL4z",isDisabled:n,...t,children:(0,QT.jsxs)(UU,{children:[(0,QT.jsx)(QA,{}),(0,QT.jsx)(Qv,{})]})}),({closePopover:n})=>(0,QT.jsx)(Qx.Container,{children:"function"==typeof t?t({onMenuClose:n}):t})]})},Qg.MenuItem=function({children:t}){return(0,QT.jsx)(Qx.Item,{children:t})};var QL=SV(SH()),Qj=SV(Sz()),QP=SV(S$()),QR=["#00D8A4","#2BD409","#335FFF","#33BBFF","#8A5A2D","#9933FF","#FF3333","#FF33DD","#FF7433","#FFD333"];function QD({url:t,alt:n,variant:i=QD.Variant.Circle,children:r,className:s}){let[o,a]=(0,Qj.useState)(!1),l=o||!t&&!r,c={className:(0,QL.default)("UBQ_Avatar-module__block--FA-ds",s,{"UBQ_Avatar-module__fallback--wJhFr":l,"UBQ_Avatar-module__background--xlJ3-":!!r,"UBQ_Avatar-module__circle--Zht7G":i===QD.Variant.Circle})};if(l){let t="";if(n){let i=n.split(" ").filter(Boolean);i.length>1?t=i[0][0]+i[1][0]:1===i.length&&(t=i[0].slice(0,2))}return(0,QP.jsx)("div",{...c,style:{backgroundColor:function(t){let n=parseInt(t.split("").map(t=>t.charCodeAt(0)).join(""),10)%QR.length;return QR[n]}(t)},children:t})}return r?(0,QP.jsx)("div",{...c,children:r}):(0,QP.jsx)("img",{alt:n,src:t,...c,className:(0,QL.default)(c.className,"UBQ_Avatar-module__img--TSynm"),onError:()=>{a(!0)}})}(t=>{var n;(n=t.Variant||(t.Variant={})).Rounded="rounded",n.Circle="circle"})(QD||(QD={}));var QF,QO=SV(Sz()),QN=(0,QO.createContext)(null),QU={didCatch:!1,error:null},QV=class extends QO.Component{constructor(t){super(t),this.state=QU,this.resetBoundary=this.resetBoundary.bind(this),this.showBoundary=this.showBoundary.bind(this)}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}componentDidCatch(t,n){this.props.onError?.(t,n)}resetBoundary=()=>{let{error:t}=this.state;null!==t&&(this.props.onReset?.(),this.setState(QU))};showBoundary=t=>{this.setState({didCatch:!0,error:t})};render(){let{children:t,fallback:n}=this.props,{didCatch:i,error:r}=this.state,s=t;return i&&(s=n?n(r):null),(0,QO.createElement)(QN.Provider,{value:{showBoundary:this.showBoundary,resetBoundary:this.resetBoundary}},s)}},QH=SV(SH()),QQ=SV(S$()),Qz=function({url:t,children:n,utm:i,className:r}){return(0,QQ.jsx)("a",{href:function(t,n){if(!n||!n.source&&!n.medium)return t;let i=t.split("?"),r=i[0],s=[];if(n?.source&&s.push(`utm_source=${encodeURIComponent(n.source)}`),n?.medium&&s.push(`utm_medium=${encodeURIComponent(n.medium)}`),0===s.length)return t;let o=i[1]?`&${i[1]}`:"";return`${r}?${s.join("&")}${o}`}(t,i),target:"_blank",rel:"noreferrer noopener",className:(0,QH.default)("UBQ_ExternalLink-module__block--7x4nV",r),children:n??t})},QG=SV(SH()),Qq=SV(Sz()),QW={block:"UBQ_Dock-module__block--yQhta",horizontal:"UBQ_Dock-module__horizontal--xFft-",hasSelected:"UBQ_Dock-module__hasSelected--qyxUE",button:"UBQ_Dock-module__button--zD3e8",small:"UBQ_Dock-module__small--sONUA",big:"UBQ_Dock-module__big--oyiIY",buttonLabel:"UBQ_Dock-module__buttonLabel--2qIS0",hideLabels:"UBQ_Dock-module__hideLabels--LxGYb"},Q$=SV(S$());function QZ({children:t,hasSelected:n,size:i="big","data-cy":r,horizontal:s=!1,hideLabels:o=!1,className:a}){return(0,Q$.jsx)("div",{"data-cy":r,className:(0,QG.default)(QW.block,a,QW[i],{[QW.hasSelected]:n,[QW.horizontal]:s,[QW.hideLabels]:o}),children:t})}(QF=QZ||(QZ={})).Panel=function({children:t}){return(0,Q$.jsx)("div",{children:t})},QF.Button=(0,Qq.forwardRef)(function({children:t,name:n,icon:i,variant:r="plain",...s},o){return(0,Q$.jsx)(DR,{ref:o,name:n,className:QW.button,variant:r,...s,children:(0,Q$.jsxs)("div",{className:QW.buttonLabel,children:[i,(0,Q$.jsx)("span",{children:t})]})})});var QY=QZ,QK=SV(SH()),QX=(SV(Sz()),{block:"UBQ_MasonryGrid-module__block--XrCtc"}),QJ=SV(S$());function Q0({children:t,width:n,columnCount:i,className:r}){let s=parseInt(F3("--ubq-margin-s",{fallback:"4px"}),10),o=(n-s*(i-1))/i,a=`repeat(${i}, ${o}px)`;return(0,QJ.jsx)("div",{className:(0,QK.default)(QX.block,r),style:{gridTemplateColumns:a},children:t({columnWidth:o,gap:s})})}(Q0||(Q0={})).Item=function({children:t,height:n,width:i,gap:r,style:s}){let o=Math.ceil(n/r)*r;return(0,QJ.jsx)("div",{className:QX.item,style:{...s,height:o,width:i,gridRowEnd:`span ${Math.round(o/r)+1}`},children:t})};var Q1,Q2=Q0,Q3=SV(SH()),Q5=SV(Sz()),Q4=SV(S$());function Q6({children:t,renderBackground:n,className:i,style:r,isSelected:s,...o}){return(0,Q4.jsxs)("div",{className:(0,Q3.default)("UBQ_MediaStrip-module__block--455Pu",i),style:r,...o,children:[n&&(0,Q4.jsx)("div",{className:"UBQ_MediaStrip-module__backgroundContainer--0Zfa8",children:n()}),s&&(0,Q4.jsx)("div",{className:"UBQ_MediaStrip-module__selected--b7i7i"}),(0,Q4.jsx)("div",{className:"UBQ_MediaStrip-module__contentContainer--XO6G6",children:t})]})}(Q1=Q6||(Q6={})).Content=function({children:t}){return(0,Q4.jsx)("div",{className:"UBQ_MediaStrip-module__content--i33G0",children:t})},Q1.Background={SingleFrame:function({frame:t,className:n}){return(0,Q4.jsx)("div",{className:(0,Q3.default)("UBQ_MediaStrip-module__singleFrame--vx6r6",n),style:{backgroundImage:`url(${t})`}})},SolidColor:function({color:t}){return(0,Q4.jsx)("div",{className:"UBQ_MediaStrip-module__solidColorFrame--HyMwG",style:{backgroundColor:t}})},MaskedSvg:function({frame:t,className:n}){return(0,Q4.jsx)("div",{className:(0,Q3.default)("UBQ_MediaStrip-module__maskedSvg--dpjvy",n),style:{maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`}})},Atlas:function({atlas:t,atlasColumns:n,atlasRows:i}){let r=(0,Q5.useRef)(null),s=(0,Q5.useRef)(document.createElement("img")),[o,a]=(0,Q5.useState)("");return(0,Q5.useEffect)(()=>{let t,o=0,a=0,l=()=>{if(r.current){let t=r.current.getBoundingClientRect();t.width===o&&a===window.devicePixelRatio||(o=t.width,a=window.devicePixelRatio,function(t,r,o){let a=Math.min(r.width*o,16384),l=r.height*o,c=s.current.naturalWidth,u=s.current.naturalHeight,d=t.getContext("2d");if(d&&l&&a){t.width===a&&t.height===l||(t.width=a,t.height=l);let r=c/n,o=u/i,p=r/o*l,h=Math.ceil(a/p),f=0;for(let t=0;t<a;t+=p){let a=Math.floor(f),c=a%n*r,u=Math.floor(a/n)*o;d.drawImage(s.current,c,u,r,o,t,0,p,l),f+=n*i/h}}}(r.current,t,a))}t=requestAnimationFrame(l)};return l(),()=>{cancelAnimationFrame(t)}},[o,n,i]),(0,Q5.useEffect)(()=>{let n=!0;return s.current.src=t,s.current.onload=()=>{n&&a(t)},()=>{n=!1}},[t]),(0,Q4.jsx)("canvas",{className:"UBQ_MediaStrip-module__atlas--7BwCJ",ref:r,style:{maxWidth:"16384px"}})}};var Q8=Q6,Q7=SV(SH()),Q9=SV(Sz()),ze=SV(S$()),zt=(0,Q9.forwardRef)(({orientation:t="horizontal",className:n,currentValue:i,minValue:r,maxValue:s,...o},a)=>(0,ze.jsx)("div",{ref:a,role:"separator",tabIndex:0,"aria-valuenow":i,"aria-valuemin":r,"aria-valuemax":s,className:(0,Q7.default)("UBQ_ResizeHandle-module__block--6TyxH",n,{"UBQ_ResizeHandle-module__vertical--tiRZ7":"vertical"===t}),...o}));zt.displayName="uikit/ResizeHandle";var zn=SV(SH()),zi=SV(S$()),zr=function({children:t,className:n}){return(0,zi.jsx)("div",{className:(0,zn.default)("UBQ_IndicatorLabel-module__block--eUmDw",n),children:t})},zs=SV(SH()),zo=SV(Sz()),za=SV(kk()),zl={block:"UBQ_MediaTrim-module__block--9efb5",containedWrapper:"UBQ_MediaTrim-module__containedWrapper--Z5q7z",contained:"UBQ_MediaTrim-module__contained--ccHap",containedChildren:"UBQ_MediaTrim-module__containedChildren--dJ9ui",outerMediaStrip:"UBQ_MediaTrim-module__outerMediaStrip--DJEIU",innerMediaStrip:"UBQ_MediaTrim-module__innerMediaStrip--zELqb",grabbing:"UBQ_MediaTrim-module__grabbing--hIiS5",handle:"UBQ_MediaTrim-module__handle--nvxx8"},zc=SV(S$());function zu({children:t,overlayWidth:n,style:i}){let r={...i,"--ubq_internal-MediaTrim-overlay-width":n};return(0,zc.jsxs)("div",{className:zl.containedWrapper,children:[(0,zc.jsx)("div",{className:zl.contained,style:r}),(0,zc.jsx)("div",{className:zl.containedChildren,children:t})]})}var zd=function({mediaDuration:t,trimOffset:n,setTrimOffset:i,trimLength:r,setTrimLength:s,onUpdateTrimProperties:o,postContainedDuration:a=0,renderBackground:l}){let[c,u]=(0,zo.useState)(null),d=(0,zo.useRef)(),p=(0,zo.useRef)(),h=(0,zo.useRef)(),f=(0,zo.useRef)(),m=(0,zo.useRef)(),[g,x]=(0,zo.useState)(!1),[y,v]=(0,zo.useState)(0),[b,A]=(0,zo.useState)(0),w=b*r,C=b*n;Vy(c,n=>{v(n.width),A(n.width/t)});let _=(0,zo.useCallback)(t=>{null!==t&&null===c&&u(t)},[c]);return(0,zc.jsx)("div",{className:zl.block,ref:_,children:(0,zc.jsx)(Q8,{className:zl.outerMediaStrip,renderBackground:l,children:(0,zc.jsx)(za.DraggableCore,{offsetParent:c,cancel:`.${zl.handle}`,onStart:(t,i)=>{let{x:r}=i;d.current=r,p.current=b*n,x(!0)},onDrag:(t,{x:n})=>{i(()=>{let t=n-(d.current??0),i=(p.current??0)+t;if(i<0)return 0;let r=y-w;return(i>=r?r:i)/b})},onStop:()=>{d.current=void 0,p.current=void 0,x(!1),o&&o()},children:(0,zc.jsx)(Q8,{"data-cy":"mediaTrimStrip",className:(0,zs.default)(zl.innerMediaStrip,{[zl.grabbing]:g}),style:{minWidth:"32px",width:100/y*w+"%",maxWidth:y-C+"px",transform:`translateX(${C}px)`},children:(0,zc.jsx)(Q8.Content,{children:(0,zc.jsx)(zu,{overlayWidth:b*a,children:(0,zc.jsxs)(Or.Edge,{children:[(0,zc.jsx)(Or.Edge.MiddleLeft,{children:(0,zc.jsx)(za.DraggableCore,{offsetParent:c,onStart:(t,i)=>{let{x:s}=i;d.current=s,p.current=b*n,h.current=b*r},onDrag:(t,{x:n})=>{let r=n-(d.current??0),o=(p.current??0)+r,a=(h.current??0)-r,l=(p.current??0)+(h.current??0)-32;o<0?o=0:o>=l&&(o=l);let c=(p.current??0)+(h.current??0);a<32?a=32:a>c&&(a=c),s(a/b),i(o/b)},onStop:()=>{d.current=void 0,p.current=void 0,h.current=void 0,o&&o()},children:(0,zc.jsx)("div",{className:zl.handle,children:(0,zc.jsx)(zt,{"data-cy":"mediaTrimHandleLeft",currentValue:C})})})}),(0,zc.jsx)(Or.Edge.MiddleRight,{children:(0,zc.jsx)(za.DraggableCore,{offsetParent:c,onStart:(i,{x:s})=>{d.current=s,h.current=b*r,f.current=b*(t-n),m.current=32/b*b},onDrag:(t,{x:n})=>{s(()=>{let t=n-(d.current??0),i=(h.current??0)+t,r=f.current,s=m.current;return(null!=r&&i>r?r:null!=s&&i<s?s:i)/b})},onStop:()=>{f.current=void 0,m.current=void 0,d.current=void 0,o&&o()},children:(0,zc.jsx)("div",{className:zl.handle,children:(0,zc.jsx)(zt,{"data-cy":"mediaTrimHandleRight",currentValue:w-C})})})})]})})})})})})})},zp=SV(SH()),zh=SV(Sz()),zf=SV(kk());function zm(t,n=!1){let i=Math.floor(t),r=Math.round(i%60),s=Math.round((i-r)/60%60),o=Math.round(i>=3600?(i/60-s)/60:0),a="";if(n)switch(a=VV(t-i,1)){case"1":r+=1,a=".0";break;case"0":a=".0";break;default:a=a.slice(1)}return{periodString:`PT${o}H${s}M${r}S`,timeString:`${o>0?`${o}:`:""}${s}:${r.toString().padStart(2,"0")}${a}`}}SV(Sz());var zg=SV(S$()),zx=t=>(0,zg.jsx)("svg",{width:8,height:12,viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,zg.jsx)("path",{d:"M0.5 1C0.5 0.723858 0.723858 0.5 1 0.5H7C7.27614 0.5 7.5 0.723858 7.5 1V8.25339C7.5 8.40336 7.43269 8.54541 7.31662 8.64037L4.31662 11.0949C4.13244 11.2456 3.86756 11.2456 3.68338 11.0949L0.683381 8.64037C0.567313 8.54541 0.5 8.40336 0.5 8.25339V1Z"})}),zy=SV(SH()),zv=SV(Sz()),zb=SV(S$()),zA=(0,zv.forwardRef)(({className:t,isGrabbing:n=!1,id:i,ariaLabeledBy:r,ariaValueNow:s=0,ariaValueMin:o,ariaValueMax:a},l)=>(0,zb.jsxs)("div",{className:(0,zy.default)("UBQ_Seeker-module__seeker--utxX8",t),ref:l,id:i,role:"slider",tabIndex:0,"aria-valuenow":s,"aria-labelledby":r,"aria-valuemin":o,"aria-valuemax":a,children:[(0,zb.jsx)("div",{className:"UBQ_Seeker-module__bar--H5eK0"}),(0,zb.jsx)("div",{className:(0,zy.default)("UBQ_Seeker-module__head--eUSLf",{"UBQ_Seeker-module__grabbing--YYwnH":n}),children:(0,zb.jsx)(zx,{})})]}));zA.displayName="uikit/Seeker";var zw={block:"UBQ_MediaSeeker-module__block--pLKtg",big:"UBQ_MediaSeeker-module__big--sjSWW",overlay:"UBQ_MediaSeeker-module__overlay--P2qaZ",flipLabel:"UBQ_MediaSeeker-module__flipLabel--Un1Zm"},zC=SV(S$()),z_=function({mediaDuration:t,offset:n,setOffset:i,min:r,max:s,showTime:o=!1,bigMode:a=!1,children:l,className:c,pixelTimeRatio:u,onStart:d,onStop:p}){let[h,f]=(0,zh.useState)(null),[m,g]=(0,zh.useState)(0),[x,y]=(0,zh.useState)(null),[v,b]=(0,zh.useState)(0),[A,w]=(0,zh.useState)(0),[C,_]=(0,zh.useState)(!1);Vy(h,n=>{(g(n.width),u)?w(u):w(n.width/t)}),Vy(x,t=>{b(t.width/A),x&&x.style.setProperty("--ubq_internal-seeker-width",`${t.width}px`)});let S=(0,zh.useCallback)(t=>{null!==t&&null===h&&f(t)},[h]),k=(0,zh.useCallback)(t=>{null!==t&&null===x&&y(t)},[x]),E=o&&t-n<v,M=r?(u??A)*r:0,I=s?(u??A)*s:m;return(0,zC.jsxs)("div",{className:(0,zp.default)(zw.block,c,{[zw.big]:a}),children:[(0,zC.jsx)("div",{ref:S,children:l}),(0,zC.jsx)(zf.default,{offsetParent:h??void 0,axis:"x",bounds:{left:M,right:I,top:0,bottom:0},position:{x:Math.round((u??A)*n),y:0},onDrag:(t,n)=>{i(Math.max(0,Math.min(m,n.x))/(u??A))},onStart:t=>{_(!0),d&&d(t)},onStop:t=>{_(!1),p&&p(t)},children:(0,zC.jsxs)("div",{className:(0,zp.default)(zw.overlay,{[zw.flipLabel]:E}),ref:k,children:[(0,zC.jsx)(zA,{className:zw.seeker,isGrabbing:C,id:"mediaseeker-element",ariaValueNow:n,ariaLabeledBy:"mediaseeker-time",ariaValueMin:0,ariaValueMax:t}),o&&(0,zC.jsx)("label",{id:"mediaseeker-time",htmlFor:"mediaseeker-element",children:(0,zC.jsx)("time",{children:zm(n,!0).timeString})})]})})]})},zS=SV(SH()),zk=SV(Sz()),zE={block:"UBQ_FloatingActionButton-module__block--b1Wco",button:"UBQ_FloatingActionButton-module__button--Gg7ZH","ubq-size_small":"UBQ_FloatingActionButton-module__ubq-size_small--dm2uu"},zM=SV(S$()),zI=(0,zk.forwardRef)(function({children:t,"aria-label":n,size:i="normal",...r},s){return(0,zM.jsx)("div",{className:(0,zS.default)(zE.block,zE[`ubq-size_${i}`]),children:(0,zM.jsx)("button",{type:"button",className:zE.button,"aria-label":n,...r,ref:s,children:(0,zM.jsx)("span",{children:zk.Children.only(t)})})})}),zT=SV(SH()),zB=SV(Sz()),zL=SV(kk()),zj="UBQ_TimelineVideoStrip-module__handle--fW4L4",zP="UBQ_TimelineVideoStrip-module__handleContainer--YjGt0",zR="UBQ_TimelineVideoStrip-module__hidden--hoPxc",zD=SV(S$());(0,zB.forwardRef)(({isSelected:t,isResizable:n=!0,duration:i,startTime:r,setDuration:s,label:o,width:a,onClick:l,pixelSecondRatio:c,offsetParent:u,setOverscrollOffset:d,children:p,onDurationUpdate:h,onLeftHandleDrag:f,onRightHandleDrag:m,className:g,renderBackground:x},y)=>{let v=(0,zB.useRef)(),b=(0,zB.useRef)(),A=(0,zB.useRef)(),w=(0,zB.useRef)(null),C=(0,zB.useRef)(null);function _(t=!1){let n=48/c,r=.1*(t?10:1);s(n<=i-r?i-r:n)}function S(t=!1){s(i+.1*(t?10:1))}return NI("left",()=>{S()},{elementRef:w}),NI("right",()=>{_()},{elementRef:w}),NI("left",()=>{_()},{elementRef:C}),NI("right",()=>{S()},{elementRef:C}),NI("shift+left",()=>{S(!0)},{elementRef:w}),NI("shift+right",()=>{_(!0)},{elementRef:w}),NI("shift+left",()=>{_(!0)},{elementRef:C}),NI("shift+right",()=>{S(!0)},{elementRef:C}),(0,zD.jsxs)("div",{ref:y,className:"UBQ_TimelineVideoStrip-module__block--Nwph7","data-cy":"timelineVideoStrip",style:{width:a},children:[(0,zD.jsx)(Q8,{className:(0,zT.default)("UBQ_TimelineVideoStrip-module__strip--acnTP",g,{"UBQ_TimelineVideoStrip-module__isSelected--WSRme":t}),style:{minWidth:"48"},renderBackground:x,onClick:l,onKeyPress:t=>{let{code:n}=t;"Space"!==n&&"Enter"!==n||l?.()},isSelected:t,tabIndex:0,children:(0,zD.jsx)(Q8.Content,{children:(0,zD.jsxs)(Or.Edge,{children:[(0,zD.jsx)(Or.Edge.MiddleLeft,{children:(0,zD.jsx)(zL.DraggableCore,{disabled:!n,offsetParent:u,onStart:(t,{x:n})=>{v.current=n,b.current=c*i,A.current=48},onDrag:(t,{x:n})=>{let i=n-(v.current??0),r=(b.current??0)-i;r<48&&(r=48),s(r/c),d&&d(i),f&&f()},onStop:t=>{A.current=void 0,v.current=void 0,d&&d(0),h&&h(),t.stopPropagation()},children:(0,zD.jsx)("div",{className:(0,zT.default)(zP,{[zR]:!n}),children:(0,zD.jsx)(zt,{"data-cy":"timelineVideoStripHandleLeft",ref:w,className:zj,currentValue:parseFloat(r.toFixed(1))})})})}),(0,zD.jsx)(Or.Edge.BottomLeft,{children:(0,zD.jsxs)(zr,{className:"UBQ_TimelineVideoStrip-module__indicator--W3YCQ",children:[i.toFixed(1),"s"]})}),(0,zD.jsx)(Or.Edge.MiddleRight,{children:(0,zD.jsx)(zL.DraggableCore,{disabled:!n,offsetParent:u,onStart:(t,{x:n})=>{v.current=n,b.current=c*i,A.current=48},onDrag:(t,{x:n})=>{let i=n-(v.current??0),r=(b.current??0)+i,o=A.current;s((null!=o&&r<o?o:r)/c),m&&m()},onStop:t=>{A.current=void 0,v.current=void 0,h&&h(),t.stopPropagation()},children:(0,zD.jsx)("div",{className:(0,zT.default)(zP,{[zR]:!n}),children:(0,zD.jsx)(zt,{"data-cy":"timelineVideoStripHandleRight",ref:C,className:zj,currentValue:parseFloat((r+i).toFixed(1))})})})}),p]})})}),(0,zD.jsx)("div",{className:"UBQ_TimelineVideoStrip-module__label--icYh4",children:o})]})}).displayName="uikit/TimelineVideoStrip",SV(SH()),SV(Sz()),SV(kk()),SV(S$());var zF,zO=SV(Sz()),zN='data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" opacity="0.1">%0A<rect width="16" height="16" fill="white"/>%0A<rect width="4" height="4" fill="black"/>%0A<rect x="8" width="4" height="4" fill="black"/>%0A<rect x="4" y="4" width="4" height="4" fill="black"/>%0A<rect x="12" y="4" width="4" height="4" fill="black"/>%0A<rect y="8" width="4" height="4" fill="black"/>%0A<rect x="8" y="8" width="4" height="4" fill="black"/>%0A<rect x="4" y="12" width="4" height="4" fill="black"/>%0A<rect x="12" y="12" width="4" height="4" fill="black"/>%0A</svg>%0A',zU=SV(SH()),zV={block:"UBQ_ContentBox-module__block--lEbIe",small:"UBQ_ContentBox-module__small--vZjGs",medium:"UBQ_ContentBox-module__medium--ruRrj",blockState:"UBQ_ContentBox-module__blockState--Ce-K-",solid:"UBQ_ContentBox-module__solid--X-HrJ",interactionElement:"UBQ_ContentBox-module__interactionElement--NedyS",background:"UBQ_ContentBox-module__background--rpCBH",checkered:"UBQ_ContentBox-module__checkered--t5zjt"},zH=SV(S$());function zQ({size:t="medium",children:n,className:i,...r}){return(0,zH.jsx)("div",{className:(0,zU.default)(zV.block,i,zV[t]),...r,children:n})}(zF=zQ||(zQ={})).InteractionElement=function({children:t,...n}){return(0,zH.jsx)("div",{className:zV.solid,children:(0,zH.jsx)(DR,{className:zV.interactionElement,...n,children:t})})},zF.Background={Color:function({color:t,className:n,checkered:i,style:r}){return(0,zH.jsx)("span",{className:(0,zU.default)(zV.background,n,{[zV.checkered]:i}),style:{backgroundColor:t,...r}})},Gradient:function({gradient:t}){return(0,zH.jsx)("span",{className:zV.background,style:{backgroundImage:t}})},Image:function({url:t,size:n,repeat:i,position:r,checkered:s,className:o}){return(0,zH.jsx)("span",{className:(0,zU.default)(zV.background,o),style:{backgroundImage:`url('${t}')${s?`, url('${zN}')`:""}`,backgroundSize:`${n}${s?", auto":""}`,backgroundRepeat:`${i?"repeat":"no-repeat"}${s?", repeat":""}}`,backgroundPosition:`${r}${s?", center center":""}`}})},Checkered:function({className:t,style:n}){return(0,zH.jsx)("span",{className:(0,zU.default)(zV.background,zV.checkered,t),style:n})}};var zz,zG=zQ,zq=SV(SH()),zW=SV(S$());function z$({className:t,...n}){return(0,zW.jsx)("div",{className:(0,zq.default)("UBQ_InteractiveBox-module__block--6VI4L",t),...n})}(zz=z$||(z$={})).Overlay=function({children:t}){return(0,zW.jsx)("span",{className:"UBQ_InteractiveBox-module__overlay--QpTUf",children:t})},zz.InteractiveElement=function({children:t}){return(0,zW.jsx)("span",{className:"UBQ_InteractiveBox-module__interactiveElement--g-ed9",children:t})};var zZ=z$,zY=SV(Sz()),zK=SV(S$()),zX=(0,zY.createContext)({default:{width:0,height:0}}),zJ=function({className:t,children:n,containerName:i}){let r=(0,zY.useRef)(null),[s,o]=(0,zY.useState)(0),[a,l]=(0,zY.useState)(0);(0,zY.useEffect)(()=>{if(r.current){let{width:t,height:n}=r.current.getBoundingClientRect();o(n),l(t)}},[]),Vy(r.current,t=>{let{width:n,height:i}=t;l(n),o(i)});let c=(0,zY.useContext)(zX),u=(0,zY.useMemo)(()=>({...c,[i??"default"]:{width:a,height:s}}),[a,s,i,c]),d={[`--ubq_internal-containerquery-${i?`${i}-`:""}width`]:`${a}px`,[`--ubq_internal-containerquery-${i?`${i}-`:""}height`]:`${s}px`};return(0,zK.jsx)(zX.Provider,{value:u,children:(0,zK.jsx)("div",{ref:r,className:t,style:d,children:n})})},z0=SV(SH()),z1=SV(S$()),z2=function({isDisabled:t,onClick:n,children:i,className:r,label:s}){return(0,z1.jsxs)("div",{className:(0,z0.default)("UBQ_DisabledOverlay-module__block--5uLIc",r),children:[(0,z1.jsx)("div",{className:(0,z0.default)({"UBQ_DisabledOverlay-module__content--wGtnh":t}),children:i}),t&&(0,z1.jsx)("div",{className:(0,z0.default)("UBQ_DisabledOverlay-module__overlay--FjJm-",{"UBQ_DisabledOverlay-module__interactive---6Xyu":null!=n}),role:"button","aria-disabled":"true","aria-hidden":"false",onClick:n,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||n?.()},"aria-label":s})]})},z3=SV(S1()),z5=SV(Sz()),z4={timeline:"UBQ_NewTimeline-module__timeline--elSOw",dragBounds:"UBQ_NewTimeline-module__dragBounds--jo9gX",droppableTrack:"UBQ_NewTimeline-module__droppableTrack--jMmwY",dropping:"UBQ_NewTimeline-module__dropping--yZe8u",timelineElement:"UBQ_NewTimeline-module__timelineElement--NJWfZ",fixed:"UBQ_NewTimeline-module__fixed--V0Mmk",blueGhost:"UBQ_NewTimeline-module__blueGhost--A9Fc1",timelineContent:"UBQ_NewTimeline-module__timelineContent--gCAaS",elementInsertBefore:"UBQ_NewTimeline-module__elementInsertBefore--fv0B8",timelineScale:"UBQ_NewTimeline-module__timelineScale--u0Yjr",timelineScaleStep:"UBQ_NewTimeline-module__timelineScaleStep--UG8xF",shadedBackground:"UBQ_NewTimeline-module__shadedBackground--rlXyd",handle:"UBQ_NewTimeline-module__handle--B4gWZ",handleLeft:"UBQ_NewTimeline-module__handleLeft--ylpXE UBQ_NewTimeline-module__handle--B4gWZ",handleRight:"UBQ_NewTimeline-module__handleRight--BuGUI UBQ_NewTimeline-module__handle--B4gWZ",ghost:"UBQ_NewTimeline-module__ghost--ZZlQ9"},z6=SV(SH()),z8=SV(Sz()),z7=SV(S$());function z9({index:t,element:n,originalElement:i,trackIndex:r,context:{elementHeight:s,dragState:o,updateState:a,renderContent:l,renderGhost:c,pxPerSec:u,packed:d},handlePointerUp:p}){let h;let f=(0,z8.useRef)(null),m=n.duration*u,g=n.start*u;if("trimming"===o.state&&o.elementId===n.id){let t=n.start+n.duration/2;if("start"===o.trimPosition&&o.deltaT>0){let n=i.start;h={left:n*u,width:(t-n)*u,content:c?.({element:i,position:"start",timeBegin:n,timeEnd:t,pxPerSec:u,height:s})}}else if("end"===o.trimPosition&&o.deltaT<0){let r=i.start+i.duration;h={left:t*u,width:(r-t)*u,content:c?.({element:n,position:"end",timeBegin:t,timeEnd:r,pxPerSec:u,height:s})}}}if("moving"===o.state&&o.elementId===n.id){let t=n.start,i=t+n.duration;h={left:g,width:m,content:c?.({element:n,position:"both",timeBegin:t,timeEnd:i,pxPerSec:u,height:s})}}let x=(0,z8.useMemo)(()=>{let i=i=>function(s){if(2===s.button)return;let o=s.currentTarget;o.hasPointerCapture(s.pointerId)&&o.releasePointerCapture(s.pointerId);let{x:l,y:c}=f.current.getBoundingClientRect();a({type:"pointerDown",initiator:i,trackIndex:r,elementId:n.id,elementIndex:t,clientX:s.clientX,clientY:s.clientY,elementX:l,elementY:c})};function s(t){let n;return i=>{i?(i.addEventListener("pointerdown",t),i.addEventListener("pointerup",p),n=()=>{i.removeEventListener("pointerdown",t),i.removeEventListener("pointerup",p)}):n?.()}}return{trimLeftRef:s(i("trimStart")),trimRightRef:s(i("trimEnd")),moveRef:s(i("move"))}},[n.id,t,r,a,p]),y=l?l({element:n,timeBegin:n.start,timeEnd:n.start+n.duration,pxPerSec:u,height:s,action:"idle"!==o.state&&o.elementId===n.id?o.state:"idle",...x}):`Element ${n.id}`,v="moving"===o.state&&o.toTrackIndex===r&&o.dropOverElementIndex===t&&o.toElementIndex!==o.elementIndex;return(0,z7.jsx)(Ge,{ref:f,left:g,width:m,height:s,content:y,hideClip:"moving"===o.state&&o.elementId===n.id&&(r!==o.toTrackIndex||d),clipGhost:h,insertBefore:v},n.id)}var Ge=(0,z8.forwardRef)(function({fixed:t,width:n,height:i,left:r,top:s=0,insertBefore:o=!1,clipGhost:a,content:l,hideClip:c},u){let d=a?{width:`${a.width}px`,height:`${i}px`,transform:`translate(${a.left}px,0)`}:{display:"none"};return(0,z7.jsxs)(z7.Fragment,{children:[(0,z7.jsx)("div",{className:z4.ghost,style:d,children:a?.content}),!c&&(0,z7.jsx)("div",{ref:u,className:(0,z6.default)(z4.timelineElement,{[z4.fixed]:t}),style:{width:`${n}px`,height:`${i}px`,transform:`translate(${r}px,${s}px)`},children:l}),o&&(0,z7.jsx)("div",{className:z4.elementInsertBefore,style:{height:`${i}px`,transform:`translate(${r-1}px,${s}px)`}})]})});function Gt({context:{dragState:t,pxPerSec:n,elementHeight:i,renderContent:r,packed:s},tracks:o}){if("moving"!==t.state)return null;let{elementId:a,trackIndex:l,toTrackIndex:c,initialMouseY:u,currentMouseY:d,initialElementX:p,initialElementY:h,deltaT:f}=t;if(l===c&&!s)return null;let m=o[l],g=m.elements.findIndex(t=>t.id===a),x=m.elements[g],y=x.duration*n,v=p+f*n,b=r?r({element:x,timeBegin:x.start,timeEnd:x.start+x.duration,pxPerSec:n,height:i,action:"moving"}):`Element ${x.id}`;return(0,z7.jsx)(Ge,{fixed:!0,width:y,height:i,left:v,top:h+d-u,content:b},x.id)}function Gn({context:{elementHeight:t,dragState:n,pxPerSec:i},track:r,trackIndex:s}){let o=r.elements[r.elements.length-1],a=o.start+o.duration;return"moving"===n.state&&n.dropOverTrackIndex===s&&n.dropOverElementIndex===r.elements.length?(0,z7.jsx)("div",{className:z4.elementInsertBefore,style:{transform:`translate(${a*i-1}px,0px)`,height:`${t}px`}}):null}var Gi=SV(SH());function Gr(t,n){if(t===n)return!0;for(let i in t)if(t[i]!==n[i])return!1;return!0}function Gs(t,n=[],i=[]){return Math.min(Math.max(t,...n),...i)}function Go(t,n,i,r,s=[]){let{start:o,duration:a}=t,l=o+a,c=[0];return s.forEach(function(t){"start"!==r&&"both"!==r||c.push(t-o),"end"!==r&&"both"!==r||c.push(t-l)}),function(t,n,i=.5){for(let r of n)if(Math.abs(t-r)<i)return r;return t}(n/i,c,5/i)}function Ga(t,n,i,r=0,s=1/0,o){if("trimming"!==n.state&&"moving"!==n.state)return t;let{elementIndex:a,deltaT:l,elementId:c}=n;if(t.elements[a].id!==c)return t;let u=t.elements[a],d=u.start+u.duration;if("trimming"===n.state){let{trimPosition:c}=n,p=t.elements.reduce((t,n)=>t-n.duration,s);if("end"===c){let n=Gs(l,[r-u.duration],[s-d,p,(u.maxDuration??1/0)-u.duration-(u.trimOffset??0)]),c=function(t,n){if(null!=n.trimOffset&&null!=n.maxDuration){let i=n.maxDuration-n.trimOffset-n.duration-t,r=Math.min(n.trimOffset,n.trimOffset+i);return{...n,trimOffset:r,duration:n.duration+t}}return{...n,duration:n.duration+t}}(n,u),h=Gc(t.elements,a,c);return"dragging"===i&&n<0?{...t,elements:h}:{...t,elements:Gl(h,o)}}if("start"===c){let n=o?-1/0:-u.start,s=u.duration-r,c=Gs(l,[n,-p,-(u.trimOffset??1/0)],[s]),d=null==u.trimOffset?{...u,start:u.start+c,duration:u.duration-c}:{...u,start:u.start+c,trimOffset:Math.max(0,u.trimOffset+c),duration:u.duration-c},h=Gc(t.elements,a,d);return"dragging"===i?{...t,elements:h}:{...t,elements:Gl(h,o)}}}else if("moving"===n.state){let{trackIndex:r,toTrackIndex:c,toElementIndex:p}=n;if("dragging"===i&&(c!==r||o))return t;if(o){let n=[...t.elements];return n.splice(p,0,n.splice(a,1)[0]),{...t,elements:Gl(n,o)}}{let n=Gs(l,[-u.start],[s-d]),i=Gc(t.elements,a,{...u,start:u.start+n});return{...t,elements:i}}}return t}function Gl(t,n,i=0){return t.map(t=>(i=(t=t.start<i||n?{...t,start:i}:t).start+t.duration,t))}function Gc(t,n,i){return Gr(t[n],i)||((t=[...t])[n]=i),t}var Gu=SV(S$());function Gd({track:t,index:n,context:{dragState:i,updateState:r,packed:s,maxTotalDuration:o,minElementDuration:a,elementHeight:l},context:c,handlePointerUp:u}){let d=Ga(t,i,"dragging",a,o,s);return(0,Gu.jsxs)("div",{style:{height:`${l}px`},className:(0,Gi.default)(z4.videotrack,z4.droppableTrack,"moving"===i.state&&{[z4.dropping]:i.trackIndex!==i.toTrackIndex&&n===i.dropOverTrackIndex}),onPointerMove:t=>{let[,i]=function({clientX:t,clientY:n},i){do t-=i.offsetLeft,n-=i.offsetTop;while(i=i.offsetParent);return[t,n]}(t,t.currentTarget);r({type:"videoTrackPointerMove",trackIndex:n,position:i<t.currentTarget.clientHeight/2?"top":"bottom"})},children:[d.elements.map((i,r)=>(0,Gu.jsx)(z9,{element:i,originalElement:t.elements[r],context:c,index:r,trackIndex:n,handlePointerUp:u},i.id)),(0,Gu.jsx)(Gn,{trackIndex:n,track:t,context:c})]})}function Gp({index:t,context:{dragState:n}}){return(0,Gu.jsx)("div",{className:(0,Gi.default)(z4.droppableTrack,{[z4.dropping]:"moving"===n.state&&t===n.dropOverTrackIndex})})}var Gh={state:"idle"},Gf=t=>function(n,i){return"pointerDown"===i.type&&"idle"===n.state?"move"===i.initiator?{state:"start-moving",trackIndex:i.trackIndex,toTrackIndex:i.trackIndex,deltaT:0,currentMouseX:i.clientX,currentMouseY:i.clientY,initialMouseX:i.clientX,initialMouseY:i.clientY,elementId:i.elementId,elementIndex:i.elementIndex,toElementIndex:i.elementIndex,initialElementX:i.elementX,initialElementY:i.elementY}:{state:"start-trimming",trimPosition:"trimStart"===i.initiator?"start":"end",trackIndex:i.trackIndex,deltaT:0,initialMouseX:i.clientX,elementId:i.elementId,elementIndex:i.elementIndex}:"pointerMove"===i.type&&"start-trimming"===n.state||"pointerMove"===i.type&&"trimming"===n.state?function(n,i){let r=i.clientX-n.initialMouseX,s=Go(t.tracks[n.trackIndex].elements[n.elementIndex],r,t.pxPerSec,n.trimPosition,t.snapTimes);return s===n.deltaT?n:{...n,state:"trimming",deltaT:s}}(n,i):"pointerMove"===i.type&&"start-moving"===n.state||"pointerMove"===i.type&&"moving"===n.state?function(n,i){let r=i.clientX-n.initialMouseX,s=Go(t.tracks[n.trackIndex].elements[n.elementIndex],r,t.pxPerSec,"both",t.snapTimes);if(s===n.deltaT)return n;let o=t.tracks[n.trackIndex],a=t.tracks[n.toTrackIndex],l=n.elementIndex,c=o.elements[l],u=c.start+c.duration/2+s,d,p=l;for(let t=0;t<a.elements.length;t++){let n=a.elements[t],i=u<n.start+n.duration/2;if(t<l&&i){p=t,d=t;break}t>l&&!i&&(p=t,d=t+1)}return{...n,state:"moving",deltaT:s,currentMouseX:i.clientX,currentMouseY:i.clientY,toElementIndex:p,dropOverElementIndex:d}}(n,i):"videoTrackPointerMove"===i.type&&"start-moving"===n.state||"videoTrackPointerMove"===i.type&&"moving"===n.state?function(t,n){let i="top"===n.position,r="bottom"===n.position,s=t.trackIndex,o=n.trackIndex,a=o===s+1&&i?o:o>s&&i?o-1:o===s-1&&r?o:o<s&&r?o+1:o,l=a>t.trackIndex?a+1:a;return a!==t.toTrackIndex||l!==t.dropOverTrackIndex?{...t,toTrackIndex:a,dropOverTrackIndex:l}:{...t}}(n,i):"tracksChanged"===i.type?{state:"idle"}:"pointerCancel"===i.type||"pointerUp"===i.type?{state:"idle"}:n},Gm=SV(S$());function Gg({packed:t=!1,maxTotalDuration:n,minElementDuration:i=0,tracks:r,pxPerSec:s,elementHeight:o,onChange:a,renderContent:l,renderGhost:c,snapTimes:u=n?[0,n]:[0],onActionChange:d}){let[p,h]=(0,z5.useReducer)(Gf({pxPerSec:s,tracks:r,snapTimes:u}),Gh),f={packed:t,maxTotalDuration:n,minElementDuration:i,pxPerSec:s,elementHeight:o,dragState:p,updateState:h,renderContent:l,renderGhost:c},m=Vx(function(t){if("pointermove"===t.type)h({type:"pointerMove",clientX:t.clientX,clientY:t.clientY});else if("pointerup"===t.type){if("moving"===p.state||"trimming"===p.state){let t=function(t,n,{minElementDuration:i,maxTotalDuration:r,packed:s}){let{trackIndex:o}=n,a="moving"===n.state?n.toTrackIndex:o,l=[...t],c=l.splice(o,1)[0];return l.splice(a,0,Ga(c,n,"submitting",i,r,s)),l}(r,p,f);(function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!function(t,n){if(t===n||t.elements===n.elements)return!0;if(t.elements.length!==n.elements.length)return!1;for(let i=0;i<t.elements.length;i++)if(!Gr(t.elements[i],n.elements[i]))return!1;return!0}(t[i],n[i]))return!1;return!0})(t,r)||a?.(t)}h({type:"pointerUp",clientX:t.clientX,clientY:t.clientY})}}),g="idle"===p.state;return(0,z5.useEffect)(()=>g?z3.default:(window.addEventListener("pointermove",m),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointermove",m)}),[m,g]),(0,z5.useEffect)(()=>{h({type:"tracksChanged",tracks:r})},[r]),(0,z5.useEffect)(()=>{d?.(p.state)},[p.state,d]),(0,Gm.jsxs)("div",{className:z4.dragBounds,onPointerOut:t=>{t.currentTarget===t.target&&f.updateState({type:"pointerCancel"})},onPointerCancel:()=>{f.updateState({type:"pointerCancel"})},onPointerUp:t=>{if("moving"===p.state||"trimming"===p.state){t.stopPropagation();let n=new PointerEvent("pointerup",{clientX:t.clientX,clientY:t.clientY});window.dispatchEvent(n)}},children:[r.map((t,n)=>(0,Gm.jsx)(Gd,{index:n,track:t,context:f,handlePointerUp:m},t.id)),(0,Gm.jsx)(Gp,{context:f,index:r.length}),(0,Gm.jsx)(Gt,{context:f,tracks:r})]})}SV(S$()),SV(S$()),SV(Sz()),SV(S$()),SV(S$());var Gx=SV(Sz()),Gy=SV(SH()),Gv="UBQ_TimelineRuler-module__tickOverlay--gaGr4",Gb=SV(S$()),GA=[{interval:40,tickIntervals:[40,20,10,5,2]},{interval:20,tickIntervals:[20,10,5,2]},{interval:15,tickIntervals:[15,5,10]},{interval:10,tickIntervals:[10,5,2]},{interval:4,tickIntervals:[8,4,2]},{interval:2,tickIntervals:[10,4,2]},{interval:1,tickIntervals:[10,5,2]}],Gw=function({className:t,pixelRatio:n,minDuration:i,maxDuration:r,totalDuration:s=r,zeroPointOffset:o=0,baseTickSpacing:a=30,baseSecondSpacing:l=200}){let c=(0,Gx.useRef)(null),[u,d]=(0,Gx.useState)(0);(0,Gx.useLayoutEffect)(()=>{let t=c.current;if(!t)return;d(t.clientWidth);let n=new ResizeObserver(([t])=>{d(t.contentRect.width)});return n.observe(t),()=>{n.disconnect()}},[]);let{interval:p,tickIntervals:h,totalSeconds:f}=(0,Gx.useMemo)(()=>{let t=Math.max(1,Math.floor(l/n));return{...GA.find(n=>n.interval<=t)??GA[0],totalSeconds:Math.ceil(u/n)}},[l,n,u]),m=(0,Gx.useMemo)(()=>{let t=h.find(t=>t<=Math.floor(p*n/a)),i=t?Array(t).fill(null).map((t,n)=>n):[];return Array(Math.ceil(f/p)).fill(null).map((t,r)=>{let s=r*p;return{value:s,width:p*n,offset:s*n+o,ticks:i}})},[a,p,n,h,f,o]),g=r??s;return(0,Gb.jsxs)("div",{className:(0,Gy.default)("UBQ_TimelineRuler-module__block--X0-ri",t),ref:c,children:[m.map(t=>(0,Gb.jsx)("span",{className:"UBQ_TimelineRuler-module__second--cW0FV","data-second":function(t){if(t<60)return`${t}s`;let n=t%60;return`${Math.floor(t/60)}:${n<10?`0${n}`:n}`}(t.value),style:{width:t.width,left:t.offset},children:t.ticks.map(t=>(0,Gb.jsx)("span",{className:"UBQ_TimelineRuler-module__tick--AT9Vn"},t))},t.value)),null!=i&&(0,Gb.jsx)("span",{className:"UBQ_TimelineRuler-module__minDuration--83TZp",style:{left:i*n+o}}),(0,Gb.jsx)("span",{className:Gv,style:{left:0,width:o}}),null!=g&&(0,Gb.jsx)("span",{className:Gv,style:{left:g*n+o,right:0}})]})},GC=SV(SH()),G_="UBQ_TimelineOverlay-module__overlay--Y1B9E",GS=SV(S$()),Gk=function({className:t,pixelRatio:n,maxDuration:i,totalDuration:r=i,zeroPointOffset:s=0}){let o=i??r;return(0,GS.jsxs)("div",{className:(0,GC.default)("UBQ_TimelineOverlay-module__block--y6c2V",t),children:[(0,GS.jsx)("span",{className:G_,style:{left:0,width:s}}),null!=o&&(0,GS.jsx)("span",{className:G_,style:{left:o*n+s,right:0}})]})},GE=SV(SH()),GM=(SV(Sz()),SV(S$()));function GI(){return(0,GM.jsx)("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,GM.jsx)("path",{d:"M2.28972 10.9414L2.70399 10.6652L2.28972 10.9414L5.91992 16.3867C6.6858 17.5355 8.23798 17.846 9.3868 17.0801C10.5356 16.3142 10.8461 14.762 10.0802 13.6132L7.00467 8.99997L10.0802 4.38672C10.8461 3.2379 10.5356 1.68572 9.3868 0.919843C8.23798 0.153962 6.6858 0.464396 5.91992 1.61322L2.28971 7.05853L2.70449 7.33504L2.28971 7.05853C1.50596 8.23418 1.50597 9.76578 2.28972 10.9414Z",strokeLinecap:"round"})})}function GT(){return(0,GM.jsx)("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,GM.jsx)("path",{d:"M9.71056 7.05879L9.71054 7.05876L6.08034 1.61346C5.31446 0.46464 3.76228 0.154206 2.61346 0.920087C1.46464 1.68597 1.15421 3.23814 1.92009 4.38696L4.99559 9.00021L1.92009 13.6135C1.15421 14.7623 1.46464 16.3145 2.61346 17.0803C3.76228 17.8462 5.31446 17.5358 6.08034 16.387L9.71062 10.9415L9.71063 10.9415C10.4943 9.76591 10.4941 8.23435 9.71056 7.05879Z",strokeLinecap:"round"})})}function GB(){return(0,GM.jsxs)("svg",{width:"6",height:"18",viewBox:"0 0 6 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,GM.jsx)("path",{d:"M3 3V15",strokeWidth:"6",strokeLinecap:"round"}),(0,GM.jsx)("path",{d:"M3 3V15",stroke:"white",strokeWidth:"4",strokeLinecap:"round"})]})}var GL,Gj={block:"UBQ_TimelineClip-module__block--8UprU",trimHandle:"UBQ_TimelineClip-module__trimHandle--hLClY",trimHandleLeft:"UBQ_TimelineClip-module__trimHandleLeft--CNiD0",trimHandleRight:"UBQ_TimelineClip-module__trimHandleRight--rvNtR",meta:"UBQ_TimelineClip-module__meta--ORIQi",metaLabel:"UBQ_TimelineClip-module__metaLabel--7d-oM",metaIcon:"UBQ_TimelineClip-module__metaIcon--UkWBV",description:"UBQ_TimelineClip-module__description--Wo1Cb",atlas:"UBQ_TimelineClip-module__atlas--lgDR4",contextMenu:"UBQ_TimelineClip-module__contextMenu--CODYE"},GP=SV(S$());function GR({className:t,children:n,isSelected:i=!1,moveRef:r,onPointerDown:s,onPointerUp:o,...a}){return(0,GP.jsx)("div",{onPointerDown:s,onPointerUp:o,"aria-selected":i,ref:r,className:(0,GE.default)(Gj.block,t,{[Gj.selected]:i}),...a,children:n})}(GL=GR||(GR={})).TrimHandles=function({show:t="always",trimLeftRef:n,trimRightRef:i,limitReachedLeft:r,limitReachedRight:s}){return(0,GP.jsxs)(GP.Fragment,{children:[(0,GP.jsx)("span",{ref:n,className:(0,GE.default)(Gj.trimHandle,Gj.trimHandleLeft),"data-show":t,children:r?(0,GP.jsx)(GB,{}):(0,GP.jsx)(GI,{})}),(0,GP.jsx)("span",{ref:i,className:(0,GE.default)(Gj.trimHandle,Gj.trimHandleRight),"data-show":t,children:s?(0,GP.jsx)(GB,{}):(0,GP.jsx)(GT,{})})]})},GL.Meta=function({className:t,children:n,show:i="always"}){return(0,GP.jsx)("span",{className:(0,GE.default)(Gj.meta,t),"data-show":i,children:n})},GL.MetaLabel=function({className:t,children:n,show:i="always"}){return(0,GP.jsx)("span",{className:(0,GE.default)(Gj.metaLabel,t),"data-show":i,children:n})},GL.MetaIcon=function({className:t,children:n,show:i="always"}){return(0,GP.jsx)("span",{className:(0,GE.default)(Gj.metaIcon,t),"data-show":i,children:n})},GL.Description=function({className:t,children:n,show:i="always"}){return(0,GP.jsx)("span",{className:(0,GE.default)(Gj.description,t),"data-show":i,children:n})},GL.Atlas=function({className:t,children:n}){return(0,GP.jsx)("div",{className:(0,GE.default)(Gj.atlas,t),children:n})},GL.ContextMenu=function({"aria-label":t,show:n,children:i,closeOnWheel:r,returnFocus:s,...o}){return(0,GP.jsxs)(N0,{returnFocus:s,closeOnWheel:r,children:[i=>{let r=(0,GP.jsx)(DR,{className:Gj.contextMenu,"aria-label":t,variant:"regular","data-show":n,...o,...i,children:(0,GP.jsx)(QA,{})});return t?(0,GP.jsx)(U6,{label:t,children:r}):r},t=>(0,GP.jsx)(Qx.Container,{children:i(t)})]})},GL.ContextMenuItem=function(t){return(0,GP.jsx)(Qx.Item,{...t})};var GD=GR,GF=SV(SH()),GO=SV(Sz()),GN=SV(S$()),GU=function({className:t,ariaLabeledBy:n,pixelRatio:i,zeroPointOffset:r=0,totalDuration:s,playbackTime:o,onDragEnd:a,onDragStart:l,onDrag:c}){let u=(0,GO.useRef)(null),d=Dc(o*i);(0,GO.useEffect)(()=>{d.set(o*i)},[i,o,d]);let p=t=>{let n=u.current?.getBoundingClientRect(),r=H1(0,(t instanceof TouchEvent?t.touches[0].clientX:t.clientX)-n.left,s*i);return d.set(r),r/i};return(0,GN.jsx)("div",{className:(0,GF.default)("UBQ_TimelinePlayHead-module__block--k-Sw0",t),role:"slider",tabIndex:-1,"aria-valuenow":o,"aria-labelledby":n,"aria-valuemin":0,"aria-valuemax":s,style:{left:r,width:s?s*i:0},ref:u,children:(0,GN.jsx)(R1.div,{className:"UBQ_TimelinePlayHead-module__playHead--KL3K0",initial:{cursor:"grab"},whileTap:{cursor:"grabbing"},tabIndex:-1,drag:"x",_dragX:d,dragConstraints:u,dragElastic:!1,dragMomentum:!1,onDragStart:l,onDrag:t=>{let n=p(t);c?.(n)},onDragEnd:t=>{let n=p(t);a?.(n)},style:{x:d},children:(0,GN.jsx)("div",{className:(0,GF.default)("UBQ_TimelinePlayHead-module__head--urxQ3"),children:(0,GN.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,GN.jsx)("path",{d:"M0.5 1C0.5 0.723858 0.723858 0.5 1 0.5H7C7.27614 0.5 7.5 0.723858 7.5 1V8.25339C7.5 8.40336 7.43269 8.54541 7.31662 8.64037L4.31662 11.0949C4.13244 11.2456 3.86756 11.2456 3.68338 11.0949L0.683381 8.64037C0.567313 8.54541 0.5 8.40336 0.5 8.25339V1Z"})})})})})};SV(S7());var GV=function({elementRef:t,copy:n,paste:i}){let r={elementRef:t,action:"keydown",global:!1};NI(["ctrl+c","command+c"],n,r),NI(["ctrl+v","command+v"],i,r)},GH=SV(Sz()),GQ=(t,{isEnabled:n=!0,onIntersecting:i,rootMargin:r}={})=>{let[s,o]=(0,GH.useState)(!1),a=(0,GH.useRef)(i);return(0,GH.useEffect)(()=>{a.current=i},[i]),(0,GH.useEffect)(()=>{if(!n)return()=>{};if(!window.IntersectionObserver)return o(!0),a.current&&a.current(),()=>{};let i=new IntersectionObserver(([t])=>{o(t.isIntersecting),a.current&&t.isIntersecting&&a.current()},{rootMargin:r??"0px"});return t.current&&i.observe(t.current),()=>{i.disconnect()}},[t.current,n]),s},Gz=SV(Sz()),GG=(t,n)=>{let i=(0,Gz.useRef)(null),[r,s]=(0,Gz.useState)(n);return(0,Gz.useEffect)(()=>{null!=i.current&&s(t(getComputedStyle(i.current),i.current))},[]),[i,r]},Gq=(SV(S7()),["up","shift+up"]),GW=["down","shift+down"],G$=["left","shift+left"],GZ=["right","shift+right"],GY=["enter","shift+enter"],GK=["escape"],GX=function({elementRef:t,up:n,down:i,left:r,right:s,enter:o,escape:a}){let l={elementRef:t,action:"keydown",global:!1};NI(Gq,n,l),NI(GW,i,l),NI(G$,r,l),NI(GZ,s,l),NI(GY,o,l),NI(GK,a,l)},GJ=(SV(Sz()),SV(Sz()),SV(Sz())),G0=SV(Sz()),G1=SV(Sz());function G2(t){let n=(0,G1.useContext)(zX),i=Object.keys(n);if(t&&i.includes(t)){let{width:i,height:r}=n[t];return{width:i,height:r}}{let{width:t,height:i}=n.default;return{width:t,height:i}}}var G3=SV(Sz()),G5=function({prop:t,defaultProp:n,onChange:i}){let[r,s]=function({defaultProp:t,onChange:n}){let i=(0,G3.useState)(t),[r]=i,s=(0,G3.useRef)(r),o=Vx(n);return(0,G3.useEffect)(()=>{s.current!==r&&(o?.(r),s.current=r)},[r,s,o]),i}({defaultProp:n,onChange:i}),o=void 0!==t,a=o?t:r,l=Vx(i);return[a,(0,G3.useCallback)(n=>{if(o){let i="function"==typeof n?n(t):n;i!==t&&l?.(i)}else s(n)},[o,t,s,l])]},G4=SV(Sz()),G6=SV(S$());function G8({onFileChanged:t,name:n,className:i,children:r,...s}){let o=(0,G4.useRef)(null),a=()=>o.current?.click();return(0,G6.jsxs)(G6.Fragment,{children:["function"==typeof r?r({onClick:a,id:n}):(0,G6.jsx)(DR,{className:i,name:n,id:n,onClick:a,children:r}),(0,G6.jsx)("input",{type:"file",name:n,"aria-labelledby":n,onChange:n=>{let i=Array.from(n.target.files||[]);i.length>0&&t&&t(i)},style:{display:"none"},...s,ref:o})]})}Object.defineProperty(G8,"displayName",{value:"FileUpload"}),SV(E$());var G7=SV(Sz(),1),G9=SV(Sz(),1),qe=SV(EZ()),qt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function qn(t){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=t.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(n.name=i[1],(qe.default[i[1]]||"/"===t.charAt(t.length-2))&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=t.indexOf("-->");return{type:"comment",comment:-1!==r?t.slice(4,r):""}}for(var s=new RegExp(qt),o=null;null!==(o=s.exec(t));)if(o[0].trim()){if(o[1]){var a=o[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),n.attrs[l[0]]=l[1],s.lastIndex--}else o[2]&&(n.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1))}return n}var qi,qr=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,qs=/^\s*$/,qo=Object.create(null),qa={parse:function(t,n){n||(n={}),n.components||(n.components=qo);var i,r=[],s=[],o=-1,a=!1;if(0!==t.indexOf("<")){var l=t.indexOf("<");r.push({type:"text",content:-1===l?t:t.substring(0,l)})}return t.replace(qr,function(l,c){if(a){if(l!=="</"+i.name+">")return;a=!1}var u,d="/"!==l.charAt(1),p=l.startsWith("<!--"),h=c+l.length,f=t.charAt(h);if(p){var m=qn(l);return o<0?r.push(m):(u=s[o]).children.push(m),r}if(d&&(o++,"tag"===(i=qn(l)).type&&n.components[i.name]&&(i.type="component",a=!0),i.voidElement||a||!f||"<"===f||i.children.push({type:"text",content:t.slice(h,t.indexOf("<",h))}),0===o&&r.push(i),(u=s[o-1])&&u.children.push(i),s[o]=i),(!d||i.voidElement)&&(o>-1&&(i.voidElement||i.name===l.slice(2,-1))&&(i=-1==--o?r:s[o]),!a&&"<"!==f&&f)){u=-1===o?r:s[o].children;var g=t.indexOf("<",h),x=t.slice(h,-1===g?void 0:g);qs.test(x)&&(x=" "),(g>-1&&o+u.length>=0||" "!==x)&&u.push({type:"text",content:x})}}),r}},ql=(...t)=>{console?.warn&&(qf(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},qc={},qu=(...t)=>{qf(t[0])&&qc[t[0]]||(qf(t[0])&&(qc[t[0]]=new Date),ql(...t))},qd=(t,n)=>()=>{if(t.isInitialized)n();else{let i=()=>{setTimeout(()=>{t.off("initialized",i)},0),n()};t.on("initialized",i)}},qp=(t,n,i)=>{t.loadNamespaces(n,qd(t,i))},qh=(t,n,i,r)=>{qf(i)&&(i=[i]),i.forEach(n=>{0>t.options.ns.indexOf(n)&&t.options.ns.push(n)}),t.loadLanguages(n,qd(t,r))},qf=t=>"string"==typeof t,qm=t=>"object"==typeof t&&null!==t,qg=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qx={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},qy=t=>qx[t],qv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t=>t.replace(qg,qy)},qb=()=>qv,qA=()=>qi,qw=(t,n)=>{if(!t)return!1;let i=t.props?.children??t.children;return n?i.length>0:!!i},qC=t=>{if(!t)return[];let n=t.props?.children??t.children;return t.props?.i18nIsDynamicList?q_(n):n},q_=t=>Array.isArray(t)?t:[t],qS=(t,n)=>{if(!t)return"";let i="",r=q_(t),s=n?.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((t,r)=>{if(qf(t))i+=`${t}`;else if((0,G9.isValidElement)(t)){let{props:o,type:a}=t,l=Object.keys(o).length,c=s.indexOf(a)>-1,u=o.children;if(u||!c||l){if(!u&&(!c||l)||o.i18nIsDynamicList)i+=`<${r}></${r}>`;else if(c&&1===l&&qf(u))i+=`<${a}>${u}</${a}>`;else{let t=qS(u,n);i+=`<${r}>${t}</${r}>`}}else i+=`<${a}/>`}else if(null===t)ql("Trans: the passed in value is invalid - seems you passed in a null child.");else if(qm(t)){let{format:n,...r}=t,s=Object.keys(r);if(1===s.length){let t=n?`${s[0]}, ${n}`:s[0];i+=`{{${t}}}`}else ql("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else ql("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),i},qk=(t,n,i,r,s,o)=>{if(""===n)return[];let a=r.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(a.map(t=>`<${t}`).join("|")).test(n);if(!t&&!l&&!o)return[n];let c={},u=t=>{q_(t).forEach(t=>{qf(t)||(qw(t)?u(qC(t)):qm(t)&&!(0,G9.isValidElement)(t)&&Object.assign(c,t))})};u(t);let d=qa.parse(`<0>${n}</0>`),p={...c,...s},h=(t,n,i)=>{let r=qC(t),s=m(r,n.children,i);return Array.isArray(r)&&r.every(G9.isValidElement)&&0===s.length||t.props?.i18nIsDynamicList?r:s},f=(t,n,i,r,s)=>{t.dummy?(t.children=n,i.push((0,G9.cloneElement)(t,{key:r},s?void 0:n))):i.push(...G9.Children.map([t],t=>{let i={...t.props};return delete i.i18nIsDynamicList,(0,G9.createElement)(t.type,{...i,key:r,ref:t.ref},s?null:n)}))},m=(n,s,c)=>{let u=q_(n);return q_(s).reduce((n,s,d)=>{let g=s.children?.[0]?.content&&i.services.interpolator.interpolate(s.children[0].content,p,i.language);if("tag"===s.type){let o=u[parseInt(s.name,10)];1!==c.length||o||(o=c[0][s.name]),o||(o={});let x=0!==Object.keys(s.attrs).length?((t,n)=>{let i={...n};return i.props=Object.assign(t.props,n.props),i})({props:s.attrs},o):o,y=(0,G9.isValidElement)(x),v=y&&qw(s,!0)&&!s.voidElement,b=l&&qm(x)&&x.dummy&&!y,A=qm(t)&&Object.hasOwnProperty.call(t,s.name);if(qf(x)){let t=i.services.interpolator.interpolate(x,p,i.language);n.push(t)}else if(qw(x)||v){let t=h(x,s,c);f(x,t,n,d)}else if(b)f(x,m(u,s.children,c),n,d);else if(Number.isNaN(parseFloat(s.name))){if(A){let t=h(x,s,c);f(x,t,n,d,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(s.name)>-1){if(s.voidElement)n.push((0,G9.createElement)(s.name,{key:`${s.name}-${d}`}));else{let t=m(u,s.children,c);n.push((0,G9.createElement)(s.name,{key:`${s.name}-${d}`},t))}}else if(s.voidElement)n.push(`<${s.name} />`);else{let t=m(u,s.children,c);n.push(`<${s.name}>${t}</${s.name}>`)}}else if(qm(x)&&!y){let t=s.children[0]?g:null;t&&n.push(t)}else f(x,g,n,d,1!==s.children.length||!g)}else if("text"===s.type){let t=r.transWrapTextNodes,a=o?r.unescape(i.services.interpolator.interpolate(s.content,p,i.language)):i.services.interpolator.interpolate(s.content,p,i.language);t?n.push((0,G9.createElement)(t,{key:`${s.name}-${d}`},a)):n.push(a)}return n},[])};return qC(m([{dummy:!0,children:t||[]}],d,q_(t||[]))[0])},qE=(0,SV(Sz(),1).createContext)(),qM=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(t=>{this.usedNamespaces[t]??=!0})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}};function qI({children:t,count:n,parent:i,i18nKey:r,context:s,tOptions:o={},values:a,defaults:l,components:c,ns:u,i18n:d,t:p,shouldUnescape:h,...f}){let{i18n:m,defaultNS:g}=(0,G7.useContext)(qE)||{},x=d||m||qA(),y=p||x?.t.bind(x);return function({children:t,count:n,parent:i,i18nKey:r,context:s,tOptions:o={},values:a,defaults:l,components:c,ns:u,i18n:d,t:p,shouldUnescape:h,...f}){let m=d||qA();if(!m)return qu("You will need to pass in an i18next instance by using i18nextReactModule"),t;let g=p||m.t.bind(m)||(t=>t),x={...qb(),...m.options?.react},y=u||g.ns||m.options?.defaultNS;y=qf(y)?[y]:y||["translation"];let v=qS(t,x),b=l||v||x.transEmptyNodeValue||r,{hashTransKey:A}=x,w=r||(A?A(v||b):v||b);m.options?.interpolation?.defaultVariables&&(a=a&&Object.keys(a).length>0?{...a,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});let C=a||void 0!==n||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},_={...o,context:s||o.context,count:n,...a,...C,defaultValue:b,ns:y},S=w?g(w,_):b;c&&Object.keys(c).forEach(t=>{let n=c[t];"function"==typeof n.type||!n.props||!n.props.children||0>S.indexOf(`${t}/>`)&&0>S.indexOf(`${t} />`)||(c[t]=(0,G9.createElement)(function(){return(0,G9.createElement)(G9.Fragment,null,n)}))});let k=qk(c||t,S,m,x,_,h),E=i??x.defaultTransParent;return E?(0,G9.createElement)(E,f,k):k}({children:t,count:n,parent:i,i18nKey:r,context:s,tOptions:o,values:a,defaults:l,components:c,ns:u||y?.ns||g||x?.options?.defaultNS,i18n:x,t:p,shouldUnescape:h,...f})}var qT=SV(Sz(),1),qB=(t,n,i,r)=>t.getFixedT(n,i,r),qL=(t,n={})=>{let i,r;let{i18n:s}=n,{i18n:o,defaultNS:a}=(0,qT.useContext)(qE)||{},l=s||o||qA();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new qM),!l){qu("You will need to pass in an i18next instance by using initReactI18next");let t=(t,n)=>qf(n)?n:qm(n)&&qf(n.defaultValue)?n.defaultValue:Array.isArray(t)?t[t.length-1]:t,n=[t,{},!1];return n.t=t,n.i18n={},n.ready=!1,n}l.options.react?.wait&&qu("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let c={...qb(),...l.options.react,...n},{useSuspense:u,keyPrefix:d}=c,p=t||a||l.options?.defaultNS;p=qf(p)?[p]:p||["translation"],l.reportNamespaces.addUsedNamespaces?.(p);let h=(l.isInitialized||l.initializedStoreOnce)&&p.every(t=>((t,n,i={})=>n.languages&&n.languages.length?n.hasLoadedNamespace(t,{lng:i.lng,precheck:(n,r)=>{if(i.bindI18n?.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}):(qu("i18n.languages were undefined or empty",n.languages),!0))(t,l,c)),f=(i=n.lng||null,r="fallback"===c.nsMode?p:p[0],(0,qT.useCallback)(qB(l,i,r,d),[l,i,r,d])),m=()=>f,g=()=>qB(l,n.lng||null,"fallback"===c.nsMode?p:p[0],d),[x,y]=(0,qT.useState)(m),v=p.join();n.lng&&(v=`${n.lng}${v}`);let b=((t,n)=>{let i=(0,qT.useRef)();return(0,qT.useEffect)(()=>{i.current=n?i.current:t},[t,n]),i.current})(v),A=(0,qT.useRef)(!0);(0,qT.useEffect)(()=>{let{bindI18n:t,bindI18nStore:i}=c;A.current=!0,h||u||(n.lng?qh(l,n.lng,p,()=>{A.current&&y(g)}):qp(l,p,()=>{A.current&&y(g)})),h&&b&&b!==v&&A.current&&y(g);let r=()=>{A.current&&y(g)};return t&&l?.on(t,r),i&&l?.store.on(i,r),()=>{A.current=!1,l&&t?.split(" ").forEach(t=>l.off(t,r)),i&&l&&i.split(" ").forEach(t=>l.store.off(t,r))}},[l,v]),(0,qT.useEffect)(()=>{A.current&&h&&y(m)},[l,d,h]);let w=[x,l,h];if(w.t=x,w.i18n=l,w.ready=h,h||!h&&!u)return w;throw new Promise(t=>{n.lng?qh(l,n.lng,p,()=>t()):qp(l,p,()=>t())})},qj=(SV(Sz(),1),SV(Sz(),1));function qP({i18n:t,defaultNS:n,children:i}){let r=(0,qj.useMemo)(()=>({i18n:t,defaultNS:n}),[t,n]);return(0,qj.createElement)(qE.Provider,{value:r},i)}function qR(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];throw Error("number"==typeof t?"[MobX] minified error nr: "+t+(i.length?" "+i.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}SV(Sz(),1),SV(Sz(),1);var qD={};function qF(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:qD}var qO=Object.assign,qN=Object.getOwnPropertyDescriptor,qU=Object.defineProperty,qV=Object.prototype,qH=[];Object.freeze(qH);var qQ={};Object.freeze(qQ);var qz="undefined"!=typeof Proxy,qG=Object.toString();function qq(){qz||qR("Proxy not available")}function qW(t){var n=!1;return function(){if(!n)return n=!0,t.apply(this,arguments)}}var q$=function(){};function qZ(t){return"function"==typeof t}function qY(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function qK(t){return null!==t&&"object"==typeof t}function qX(t){if(!qK(t))return!1;var n,i=Object.getPrototypeOf(t);return null==i||(null==(n=i.constructor)?void 0:n.toString())===qG}function qJ(t){var n=null==t?void 0:t.constructor;return!!n&&("GeneratorFunction"===n.name||"GeneratorFunction"===n.displayName)}function q0(t,n,i){qU(t,n,{enumerable:!1,writable:!0,configurable:!0,value:i})}function q1(t,n,i){qU(t,n,{enumerable:!1,writable:!1,configurable:!0,value:i})}function q2(t,n){var i="isMobX"+t;return n.prototype[i]=!0,function(t){return qK(t)&&!0===t[i]}}function q3(t){return t instanceof Map}function q5(t){return t instanceof Set}var q4=void 0!==Object.getOwnPropertySymbols,q6="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:q4?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function q8(t){return null===t?null:"object"==typeof t?""+t:t}function q7(t,n){return qV.hasOwnProperty.call(t,n)}var q9=Object.getOwnPropertyDescriptors||function(t){var n={};return q6(t).forEach(function(i){n[i]=qN(t,i)}),n};function We(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t,n,i){return n&&We(t.prototype,n),i&&We(t,i),t}function Wn(){return(Wn=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Wi(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Wr(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ws(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=Array(n);i<n;i++)r[i]=t[i];return r}function Wo(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return Ws(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ws(t,void 0):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}var Wa=Symbol("mobx-stored-annotations");function Wl(t){return Object.assign(function(n,i){Wc(n,i,t)},t)}function Wc(t,n,i){q7(t,Wa)||q0(t,Wa,Wn({},t[Wa])),i.annotationType_===Wx||(t[Wa][n]=i)}var Wu=Symbol("mobx administration"),Wd=function(){function t(t){void 0===t&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=W9.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var n=t.prototype;return n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.reportObserved=function(){return $_(this)},n.reportChanged=function(){$w(),$S(this),$C()},n.toString=function(){return this.name_},t}(),Wp=q2("Atom",Wd);function Wh(t,n,i){void 0===n&&(n=q$),void 0===i&&(i=q$);var r,s=new Wd(t);return n!==q$&&$G($Q,s,n,r),i!==q$&&$z(s,i),s}var Wf={structural:function(t,n){return ZV(t,n)},default:function(t,n){return Object.is(t,n)}};function Wm(t,n,i){return $1(t)?t:Array.isArray(t)?Wq.array(t,{name:i}):qX(t)?Wq.object(t,void 0,{name:i}):q3(t)?Wq.map(t,{name:i}):q5(t)?Wq.set(t,{name:i}):"function"!=typeof t||$V(t)||$0(t)?t:qJ(t)?$X(t):$N(i,t)}function Wg(t){return t}var Wx="override";function Wy(t,n){return{annotationType_:t,options_:n,make_:Wv,extend_:Wb}}function Wv(t,n,i,r){if(null==(s=this.options_)?void 0:s.bound)return null===this.extend_(t,n,i,!1)?0:1;if(r===t.target_)return null===this.extend_(t,n,i,!1)?0:2;if($V(i.value))return 1;var s,o=WA(t,this,n,i,!1);return qU(r,n,o),2}function Wb(t,n,i,r){var s=WA(t,this,n,i);return t.defineProperty_(n,s,r)}function WA(t,n,i,r,s){void 0===s&&(s=$v.safeDescriptors),n.annotationType_,r.value;var o,a,l,c,u,d,p=r.value;return(null==(o=n.options_)?void 0:o.bound)&&(p=p.bind(null!=(d=t.proxy_)?d:t.target_)),{value:W2(null!=(a=null==(l=n.options_)?void 0:l.name)?a:i.toString(),p,null!=(c=null==(u=n.options_)?void 0:u.autoAction)&&c),configurable:!s||t.isPlainObject_,enumerable:!1,writable:!s}}function Ww(t,n){return{annotationType_:t,options_:n,make_:WC,extend_:W_}}function WC(t,n,i,r){if(r===t.target_)return null===this.extend_(t,n,i,!1)?0:2;if((null==(s=this.options_)?void 0:s.bound)&&!$0(t.target_[n])&&null===this.extend_(t,n,i,!1))return 0;if($0(i.value))return 1;var s,o=WS(t,this,n,i,!1,!1);return qU(r,n,o),2}function W_(t,n,i,r){var s,o=WS(t,this,n,i,null==(s=this.options_)?void 0:s.bound);return t.defineProperty_(n,o,r)}function WS(t,n,i,r,s,o){void 0===o&&(o=$v.safeDescriptors),n.annotationType_,r.value;var a,l=r.value;return s&&(l=l.bind(null!=(a=t.proxy_)?a:t.target_)),{value:$X(l),configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function Wk(t,n){return{annotationType_:t,options_:n,make_:WE,extend_:WM}}function WE(t,n,i){return null===this.extend_(t,n,i,!1)?0:1}function WM(t,n,i,r){return this.annotationType_,i.get,t.defineComputedProperty_(n,Wn({},this.options_,{get:i.get,set:i.set}),r)}function WI(t,n){return{annotationType_:t,options_:n,make_:WT,extend_:WB}}function WT(t,n,i){return null===this.extend_(t,n,i,!1)?0:1}function WB(t,n,i,r){var s,o;return this.annotationType_,t.defineObservableProperty_(n,i.value,null!=(s=null==(o=this.options_)?void 0:o.enhancer)?s:Wm,r)}var WL=Wj();function Wj(t){return{annotationType_:"true",options_:t,make_:WP,extend_:WR}}function WP(t,n,i,r){if(i.get)return WY.make_(t,n,i,r);if(i.set){var s=W2(n.toString(),i.set);return r===t.target_?null===t.defineProperty_(n,{configurable:!$v.safeDescriptors||t.isPlainObject_,set:s})?0:2:(qU(r,n,{configurable:!0,set:s}),2)}if(r!==t.target_&&"function"==typeof i.value)return qJ(i.value)?((null==(c=this.options_)?void 0:c.autoBind)?$X.bound:$X).make_(t,n,i,r):((null==(l=this.options_)?void 0:l.autoBind)?$N.bound:$N).make_(t,n,i,r);var o,a,l,c,u,d=!1===(null==(o=this.options_)?void 0:o.deep)?Wq.ref:Wq;return"function"==typeof i.value&&(null==(a=this.options_)?void 0:a.autoBind)&&(i.value=i.value.bind(null!=(u=t.proxy_)?u:t.target_)),d.make_(t,n,i,r)}function WR(t,n,i,r){var s,o,a;return i.get?WY.extend_(t,n,i,r):i.set?t.defineProperty_(n,{configurable:!$v.safeDescriptors||t.isPlainObject_,set:W2(n.toString(),i.set)},r):("function"==typeof i.value&&(null==(s=this.options_)?void 0:s.autoBind)&&(i.value=i.value.bind(null!=(a=t.proxy_)?a:t.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?Wq.ref:Wq).extend_(t,n,i,r))}var WD={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(WD);var WF=WI("observable"),WO=WI("observable.ref",{enhancer:Wg}),WN=WI("observable.shallow",{enhancer:function(t,n,i){return null==t||ZB(t)||Zm(t)||ZA(t)||Z_(t)?t:Array.isArray(t)?Wq.array(t,{name:i,deep:!1}):qX(t)?Wq.object(t,void 0,{name:i,deep:!1}):q3(t)?Wq.map(t,{name:i,deep:!1}):q5(t)?Wq.set(t,{name:i,deep:!1}):void 0}}),WU=WI("observable.struct",{enhancer:function(t,n){return ZV(t,n)?n:t}}),WV=Wl(WF);function WH(t){var n,i,r;return!0===t.deep?Wm:!1===t.deep?Wg:(n=t.defaultDecorator)&&null!=(i=null==(r=n.options_)?void 0:r.enhancer)?i:Wm}function WQ(t,n,i){if(!qY(n))return $1(t)?t:qX(t)?Wq.object(t,n,i):Array.isArray(t)?Wq.array(t,n):q3(t)?Wq.map(t,n):q5(t)?Wq.set(t,n):"object"==typeof t&&null!==t?t:Wq.box(t,n);Wc(t,n,WF)}Object.assign(WQ,WV);var Wz,WG,Wq=qO(WQ,{box:function(t,n){var i=n||WD;return new W8(t,WH(i),i.name,!0,i.equals)},array:function(t,n){var i=n||WD;return(!1===$v.useProxies||!1===i.proxy?function(t,n,i){return new ZD(t,n,i)}:function(t,n,i,r){void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),qq();var s=new Zo(i,n,r,!1);q1(s.values_,Wu,s);var o=new Proxy(s.values_,Zs);if(s.proxy_=o,t&&t.length){var a=W5(!0);s.spliceWithArray_(0,0,t),W4(a)}return o})(t,WH(i),i.name)},map:function(t,n){var i=n||WD;return new Zb(t,WH(i),i.name)},set:function(t,n){var i=n||WD;return new ZC(t,WH(i),i.name)},object:function(t,n,i){var r,s,o;return $W(!1===$v.useProxies||!1===(null==i?void 0:i.proxy)?ZM({},i):(r={},qq(),null!=(o=(s=(r=ZM(r,i))[Wu]).proxy_)?o:s.proxy_=new Proxy(r,$5)),t,n)},ref:Wl(WO),shallow:Wl(WN),deep:WV,struct:Wl(WU)}),WW="computed",W$=Wk(WW),WZ=Wk("computed.struct",{equals:Wf.structural}),WY=function(t,n){if(qY(n))return Wc(t,n,W$);if(qX(t))return Wl(Wk(WW,t));var i=qX(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new $i(i)};Object.assign(WY,W$),WY.struct=Wl(WZ);var WK,WX=0,WJ=1,W0=null!=(Wz=null==(WG=qN(function(){},"name"))?void 0:WG.configurable)&&Wz,W1={value:"action",configurable:!0,writable:!1,enumerable:!1};function W2(t,n,i,r){function s(){return W3(t,i,n,r||this,arguments)}return void 0===i&&(i=!1),s.isMobxAction=!0,W0&&(W1.value=t,Object.defineProperty(s,"name",W1)),s}function W3(t,n,i,r,s){var o,a,l,c,u=(o=$v.trackingDerivation,a=!n||!o,$w(),l=$v.allowStateChanges,a&&($d(),l=W5(!0)),WX=(c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:$h(!0),notifySpy_:!1,startTime_:0,actionId_:WJ++,parentActionId_:WX}).actionId_,c);try{return i.apply(r,s)}catch(t){throw u.error_=t,t}finally{WX!==u.actionId_&&qR(30),WX=u.parentActionId_,void 0!==u.error_&&($v.suppressReactionErrors=!0),W4(u.prevAllowStateChanges_),$f(u.prevAllowStateReads_),$C(),u.runAsAction_&&$p(u.prevDerivation_),$v.suppressReactionErrors=!1}}function W5(t){var n=$v.allowStateChanges;return $v.allowStateChanges=t,n}function W4(t){$v.allowStateChanges=t}WK=Symbol.toPrimitive;var W6,W8=function(t){function n(n,i,r,s,o){var a;return void 0===r&&(r="ObservableValue"),void 0===s&&(s=!0),void 0===o&&(o=Wf.default),(a=t.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=i,a.name_=r,a.equals=o,a.value_=i(n,void 0,r),a}Wi(n,t);var i=n.prototype;return i.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.set=function(t){this.value_,(t=this.prepareNewValue_(t))!==$v.UNCHANGED&&this.setNewValue_(t)},i.prepareNewValue_=function(t){if($4(this)){var n=$8(this,{object:this,type:Zr,newValue:t});if(!n)return $v.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?$v.UNCHANGED:t},i.setNewValue_=function(t){var n=this.value_;this.value_=t,this.reportChanged(),$7(this)&&Ze(this,{type:Zr,object:this,newValue:t,oldValue:n})},i.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},i.intercept_=function(t){return $6(this,t)},i.observe_=function(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Zr,newValue:this.value_,oldValue:void 0}),$9(this,t)},i.raw=function(){return this.value_},i.toJSON=function(){return this.get()},i.toString=function(){return this.name_+"["+this.value_+"]"},i.valueOf=function(){return q8(this.get())},i[WK]=function(){return this.valueOf()},n}(Wd),W7=q2("ObservableValue",W8);W6=Symbol.toPrimitive;var W9,$e,$t,$n,$i=function(){function t(t){this.dependenciesState_=W9.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=W9.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new $s(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=$t.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||qR(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=W2("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Wf.structural:Wf.default),this.scope_=t.context,this.requiresReaction_=!!t.requiresReaction,this.keepAlive_=!!t.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){this.lowestObserverState_===W9.UP_TO_DATE_&&(this.lowestObserverState_=W9.POSSIBLY_STALE_,this.observers_.forEach(function(t){t.dependenciesState_===W9.UP_TO_DATE_&&(t.dependenciesState_=W9.POSSIBLY_STALE_,t.onBecomeStale_())}))},n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.get=function(){if(this.isComputing_&&qR(32,this.name_,this.derivation),0!==$v.inBatch||0!==this.observers_.size||this.keepAlive_){if($_(this),$a(this)){var t,n=$v.trackingContext;this.keepAlive_&&!n&&($v.trackingContext=this),this.trackAndCompute()&&(t=this,t.lowestObserverState_!==W9.STALE_&&(t.lowestObserverState_=W9.STALE_,t.observers_.forEach(function(n){n.dependenciesState_===W9.POSSIBLY_STALE_?n.dependenciesState_=W9.STALE_:n.dependenciesState_===W9.UP_TO_DATE_&&(t.lowestObserverState_=W9.UP_TO_DATE_)}))),$v.trackingContext=n}}else $a(this)&&(this.warnAboutUntrackedRead_(),$w(),this.value_=this.computeValue_(!1),$C());var i=this.value_;if($o(i))throw i.cause;return i},n.set=function(t){if(this.setter_){this.isRunningSetter_&&qR(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else qR(34,this.name_)},n.trackAndCompute=function(){var t=this.value_,n=this.dependenciesState_===W9.NOT_TRACKING_,i=this.computeValue_(!0),r=n||$o(t)||$o(i)||!this.equals_(t,i);return r&&(this.value_=i),r},n.computeValue_=function(t){this.isComputing_=!0;var n,i=W5(!1);if(t)n=$l(this,this.derivation,this.scope_);else if(!0===$v.disableErrorBoundaries)n=this.derivation.call(this.scope_);else try{n=this.derivation.call(this.scope_)}catch(t){n=new $s(t)}return W4(i),this.isComputing_=!1,n},n.suspend_=function(){this.keepAlive_||($c(this),this.value_=void 0)},n.observe_=function(t,n){var i=this,r=!0,s=void 0;return function(t,n){void 0===n&&(n=qQ);var i,r,s,o=null!=(i=null==(r=n)?void 0:r.name)?i:"Autorun";if(n.scheduler||n.delay){var a=function(t){return t.scheduler?t.scheduler:t.delay?function(n){return setTimeout(n,t.delay)}:$H}(n),l=!1;s=new $k(o,function(){l||(l=!0,a(function(){l=!1,s.isDisposed_||s.track(c)}))},n.onError,n.requiresObservable)}else s=new $k(o,function(){this.track(c)},n.onError,n.requiresObservable);function c(){t(s)}return s.schedule_(),s.getDisposer_()}(function(){var o=i.get();if(!r||n){var a=$d();t({observableKind:"computed",debugObjectName:i.name_,type:Zr,object:i,newValue:o,oldValue:s}),$p(a)}r=!1,s=o})},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return q8(this.get())},n[W6]=function(){return this.valueOf()},t}(),$r=q2("ComputedValue",$i);($e=W9||(W9={}))[$e.NOT_TRACKING_=-1]="NOT_TRACKING_",$e[$e.UP_TO_DATE_=0]="UP_TO_DATE_",$e[$e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",$e[$e.STALE_=2]="STALE_",($n=$t||($t={}))[$n.NONE=0]="NONE",$n[$n.LOG=1]="LOG",$n[$n.BREAK=2]="BREAK";var $s=function(t){this.cause=void 0,this.cause=t};function $o(t){return t instanceof $s}function $a(t){switch(t.dependenciesState_){case W9.UP_TO_DATE_:return!1;case W9.NOT_TRACKING_:case W9.STALE_:return!0;case W9.POSSIBLY_STALE_:for(var n=$h(!0),i=$d(),r=t.observing_,s=r.length,o=0;o<s;o++){var a=r[o];if($r(a)){if($v.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return $p(i),$f(n),!0}if(t.dependenciesState_===W9.STALE_)return $p(i),$f(n),!0}}return $m(t),$p(i),$f(n),!1}}function $l(t,n,i){var r=$h(!0);$m(t),t.newObserving_=Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++$v.runId;var s,o=$v.trackingDerivation;if($v.trackingDerivation=t,$v.inBatch++,!0===$v.disableErrorBoundaries)s=n.call(i);else try{s=n.call(i)}catch(t){s=new $s(t)}return $v.inBatch--,$v.trackingDerivation=o,function(t){for(var n=t.observing_,i=t.observing_=t.newObserving_,r=W9.UP_TO_DATE_,s=0,o=t.unboundDepsCount_,a=0;a<o;a++){var l=i[a];0===l.diffValue_&&(l.diffValue_=1,s!==a&&(i[s]=l),s++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(i.length=s,t.newObserving_=null,o=n.length;o--;){var c=n[o];0===c.diffValue_&&$b(c,t),c.diffValue_=0}for(;s--;){var u=i[s];1===u.diffValue_&&(u.diffValue_=0,u.observers_.add(t),u.lowestObserverState_>t.dependenciesState_&&(u.lowestObserverState_=t.dependenciesState_))}r!==W9.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}(t),$f(r),s}function $c(t){var n=t.observing_;t.observing_=[];for(var i=n.length;i--;)$b(n[i],t);t.dependenciesState_=W9.NOT_TRACKING_}function $u(t){var n=$d();try{return t()}finally{$p(n)}}function $d(){var t=$v.trackingDerivation;return $v.trackingDerivation=null,t}function $p(t){$v.trackingDerivation=t}function $h(t){var n=$v.allowStateReads;return $v.allowStateReads=t,n}function $f(t){$v.allowStateReads=t}function $m(t){if(t.dependenciesState_!==W9.UP_TO_DATE_){t.dependenciesState_=W9.UP_TO_DATE_;for(var n=t.observing_,i=n.length;i--;)n[i].lowestObserverState_=W9.UP_TO_DATE_}}var $g=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},$x=!0,$y=!1,$v=function(){var t=qF();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&($x=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new $g).version&&($x=!1),$x?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new $g):(setTimeout(function(){$y||qR(35)},1),new $g)}();function $b(t,n){t.observers_.delete(n),0===t.observers_.size&&$A(t)}function $A(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,$v.pendingUnobservations.push(t))}function $w(){$v.inBatch++}function $C(){if(0==--$v.inBatch){$M();for(var t=$v.pendingUnobservations,n=0;n<t.length;n++){var i=t[n];i.isPendingUnobservation_=!1,0===i.observers_.size&&(i.isBeingObserved_&&(i.isBeingObserved_=!1,i.onBUO()),i instanceof $i&&i.suspend_())}$v.pendingUnobservations=[]}}function $_(t){var n=$v.trackingDerivation;return null!==n?(n.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=n.runId_,n.newObserving_[n.unboundDepsCount_++]=t,!t.isBeingObserved_&&$v.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&$v.inBatch>0&&$A(t),!1)}function $S(t){t.lowestObserverState_!==W9.STALE_&&(t.lowestObserverState_=W9.STALE_,t.observers_.forEach(function(t){t.dependenciesState_===W9.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=W9.STALE_}))}var $k=function(){function t(t,n,i,r){void 0===t&&(t="Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=W9.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=$t.NONE,this.name_=t,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=r}var n=t.prototype;return n.onBecomeStale_=function(){this.schedule_()},n.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,$v.pendingReactions.push(this),$M())},n.isScheduled=function(){return this.isScheduled_},n.runReaction_=function(){if(!this.isDisposed_){$w(),this.isScheduled_=!1;var t=$v.trackingContext;if($v.trackingContext=this,$a(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}$v.trackingContext=t,$C()}},n.track=function(t){if(!this.isDisposed_){$w(),this.isRunning_=!0;var n=$v.trackingContext;$v.trackingContext=this;var i=$l(this,t,void 0);$v.trackingContext=n,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&$c(this),$o(i)&&this.reportExceptionInDerivation_(i.cause),$C()}},n.reportExceptionInDerivation_=function(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if($v.disableErrorBoundaries)throw t;$v.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",t),$v.globalReactionErrorHandlers.forEach(function(i){return i(t,n)})}},n.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||($w(),$c(this),$C()))},n.getDisposer_=function(){var t=this.dispose.bind(this);return t[Wu]=this,t},n.toString=function(){return"Reaction["+this.name_+"]"},n.trace=function(t){void 0===t&&(t=!1),function(){qR("trace() is not available in production builds");for(var t=!1,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];"boolean"==typeof i[i.length-1]&&(t=i.pop());var s=function(t){switch(t.length){case 0:return $v.trackingDerivation;case 1:return ZO(t[0]);case 2:return ZO(t[0],t[1])}}(i);if(!s)return qR("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");s.isTracing_===$t.NONE&&console.log("[mobx.trace] '"+s.name_+"' tracing enabled"),s.isTracing_=t?$t.BREAK:$t.LOG}(this,t)},t}(),$E=function(t){return t()};function $M(){$v.inBatch>0||$v.isRunningReactions||$E($I)}function $I(){$v.isRunningReactions=!0;for(var t=$v.pendingReactions,n=0;t.length>0;){100==++n&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var i=t.splice(0),r=0,s=i.length;r<s;r++)i[r].runReaction_()}$v.isRunningReactions=!1}var $T=q2("Reaction",$k),$B="action",$L="autoAction",$j=Wy($B),$P=Wy("action.bound",{bound:!0}),$R=Wy($L,{autoAction:!0}),$D=Wy("autoAction.bound",{autoAction:!0,bound:!0});function $F(t){return function(n,i){return qZ(n)?W2(n.name||"<unnamed action>",n,t):qZ(i)?W2(n,i,t):qY(i)?Wc(n,i,t?$R:$j):qY(n)?Wl(Wy(t?$L:$B,{name:n,autoAction:t})):void 0}}var $O=$F(!1);Object.assign($O,$j);var $N=$F(!0);function $U(t){return W3(t.name,!1,t,this,void 0)}function $V(t){return qZ(t)&&!0===t.isMobxAction}Object.assign($N,$R),$O.bound=Wl($P),$N.bound=Wl($D);var $H=function(t){return t()},$Q="onBO";function $z(t,n,i){return $G("onBUO",t,n,i)}function $G(t,n,i,r){var s="function"==typeof r?ZO(n,i):ZO(n),o=qZ(r)?r:i,a=t+"L";return s[a]?s[a].add(o):s[a]=new Set([o]),function(){var t=s[a];t&&(t.delete(o),0===t.size&&delete s[a])}}var $q="always";function $W(t,n,i,r){var s=q9(n),o=ZM(t,r)[Wu];$w();try{q6(s).forEach(function(t){o.extend_(t,s[t],!i||!(t in i)||i[t])})}finally{$C()}return t}var $$=0;function $Z(){this.message="FLOW_CANCELLED"}$Z.prototype=Object.create(Error.prototype);var $Y=Ww("flow"),$K=Ww("flow.bound",{bound:!0}),$X=Object.assign(function(t,n){if(qY(n))return Wc(t,n,$Y);var i=t.name||"<unnamed flow>",r=function(){var n,r=arguments,s=++$$,o=$O(i+" - runid: "+s+" - init",t).apply(this,r),a=void 0,l=new Promise(function(t,r){var l=0;function c(t){var n;a=void 0;try{n=$O(i+" - runid: "+s+" - yield "+l++,o.next).call(o,t)}catch(t){return r(t)}d(n)}function u(t){var n;a=void 0;try{n=$O(i+" - runid: "+s+" - yield "+l++,o.throw).call(o,t)}catch(t){return r(t)}d(n)}function d(n){if(!qZ(null==n?void 0:n.then))return n.done?t(n.value):(a=Promise.resolve(n.value)).then(c,u);n.then(d,r)}n=r,c(void 0)});return l.cancel=$O(i+" - runid: "+s+" - cancel",function(){try{a&&$J(a);var t=o.return(void 0),i=Promise.resolve(t.value);i.then(q$,q$),$J(i),n(new $Z)}catch(t){n(t)}}),l};return r.isMobXFlow=!0,r},$Y);function $J(t){qZ(t.cancel)&&t.cancel()}function $0(t){return!0===(null==t?void 0:t.isMobXFlow)}function $1(t){return!!t&&(ZB(t)||!!t[Wu]||Wp(t)||$T(t)||$r(t))}function $2(t,n,i){return t.set(n,i),i}function $3(t,n){void 0===n&&(n=void 0),$w();try{return t.apply(n)}finally{$C()}}$X.bound=Wl($K);var $5={has:function(t,n){return t[Wu].has_(n)},get:function(t,n){return t[Wu].get_(n)},set:function(t,n,i){var r;return!!qY(n)&&(null==(r=t[Wu].set_(n,i,!0))||r)},deleteProperty:function(t,n){var i;return!!qY(n)&&(null==(i=t[Wu].delete_(n,!0))||i)},defineProperty:function(t,n,i){var r;return null==(r=t[Wu].defineProperty_(n,i))||r},ownKeys:function(t){return t[Wu].ownKeys_()},preventExtensions:function(t){qR(13)}};function $4(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function $6(t,n){var i=t.interceptors_||(t.interceptors_=[]);return i.push(n),qW(function(){var t=i.indexOf(n);-1!==t&&i.splice(t,1)})}function $8(t,n){var i=$d();try{for(var r=[].concat(t.interceptors_||[]),s=0,o=r.length;s<o&&((n=r[s](n))&&!n.type&&qR(14),n);s++);return n}finally{$p(i)}}function $7(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function $9(t,n){var i=t.changeListeners_||(t.changeListeners_=[]);return i.push(n),qW(function(){var t=i.indexOf(n);-1!==t&&i.splice(t,1)})}function Ze(t,n){var i=$d(),r=t.changeListeners_;if(r){for(var s=0,o=(r=r.slice()).length;s<o;s++)r[s](n);$p(i)}}var Zt=Symbol("mobx-keys");function Zn(t,n,i){if(qX(t))return $W(t,t,n,i);var r=ZM(t,i)[Wu];if(!t[Zt]){var s=Object.getPrototypeOf(t),o=new Set([].concat(q6(t),q6(s)));o.delete("constructor"),o.delete(Wu),q0(s,Zt,o)}$w();try{t[Zt].forEach(function(t){return r.make_(t,!n||!(t in n)||n[t])})}finally{$C()}return t}var Zi="splice",Zr="update",Zs={get:function(t,n){var i=t[Wu];return n===Wu?i:"length"===n?i.getArrayLength_():"string"!=typeof n||isNaN(n)?q7(Za,n)?Za[n]:t[n]:i.get_(parseInt(n))},set:function(t,n,i){var r=t[Wu];return"length"===n&&r.setArrayLength_(i),"symbol"==typeof n||isNaN(n)?t[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){qR(15)}},Zo=function(){function t(t,n,i,r){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=r,this.atom_=new Wd(t),this.enhancer_=function(t,i){return n(t,i,"ObservableArray[..]")}}var n=t.prototype;return n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},n.intercept_=function(t){return $6(this,t)},n.observe_=function(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),$9(this,t)},n.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},n.setArrayLength_=function(t){("number"!=typeof t||t<0)&&qR("Out of range: "+t);var n=this.values_.length;if(t!==n){if(t>n){for(var i=Array(t-n),r=0;r<t-n;r++)i[r]=void 0;this.spliceWithArray_(n,0,i)}else this.spliceWithArray_(t,n-t)}},n.updateArrayLength_=function(t,n){t!==this.lastKnownLength_&&qR(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&ZF(t+n+1)},n.spliceWithArray_=function(t,n,i){var r=this;this.atom_;var s=this.values_.length;if(void 0===t?t=0:t>s?t=s:t<0&&(t=Math.max(0,s+t)),n=1==arguments.length?s-t:null==n?0:Math.max(0,Math.min(n,s-t)),void 0===i&&(i=qH),$4(this)){var o=$8(this,{object:this.proxy_,type:Zi,index:t,removedCount:n,added:i});if(!o)return qH;n=o.removedCount,i=o.added}if(i=0===i.length?i:i.map(function(t){return r.enhancer_(t,void 0)}),this.legacyMode_){var a=i.length-n;this.updateArrayLength_(s,a)}var l=this.spliceItemsIntoValues_(t,n,i);return 0===n&&0===i.length||this.notifyArraySplice_(t,i,l),this.dehanceValues_(l)},n.spliceItemsIntoValues_=function(t,n,i){if(i.length<1e4)return(r=this.values_).splice.apply(r,[t,n].concat(i));var r,s=this.values_.slice(t,t+n),o=this.values_.slice(t+n);this.values_.length=t+i.length-n;for(var a=0;a<i.length;a++)this.values_[t+a]=i[a];for(var l=0;l<o.length;l++)this.values_[t+i.length+l]=o[l];return s},n.notifyArrayChildUpdate_=function(t,n,i){var r=!this.owned_&&!1,s=$7(this),o=s||r?{observableKind:"array",object:this.proxy_,type:Zr,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:i}:null;this.atom_.reportChanged(),s&&Ze(this,o)},n.notifyArraySplice_=function(t,n,i){var r=!this.owned_&&!1,s=$7(this),o=s||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Zi,index:t,removed:i,added:n,removedCount:i.length,addedCount:n.length}:null;this.atom_.reportChanged(),s&&Ze(this,o)},n.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},n.set_=function(t,n){var i=this.values_;if(t<i.length){this.atom_;var r=i[t];if($4(this)){var s=$8(this,{type:Zr,object:this.proxy_,index:t,newValue:n});if(!s)return;n=s.newValue}(n=this.enhancer_(n,r))!==r&&(i[t]=n,this.notifyArrayChildUpdate_(t,n,r))}else t===i.length?this.spliceWithArray_(t,0,[n]):qR(17,t,i.length)},t}(),Za={clear:function(){return this.splice(0)},replace:function(t){var n=this[Wu];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];var o=this[Wu];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,r)},spliceWithArray:function(t,n,i){return this[Wu].spliceWithArray_(t,n,i)},push:function(){for(var t=this[Wu],n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[Wu].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Wu],n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return $v.trackingDerivation&&qR(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){$v.trackingDerivation&&qR(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Wu],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1&&(this.splice(i,1),!0)}};function Zl(t,n){"function"==typeof Array.prototype[t]&&(Za[t]=n(t))}function Zc(t){return function(){var n=this[Wu];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_);return i[t].apply(i,arguments)}}function Zu(t){return function(n,i){var r=this,s=this[Wu];return s.atom_.reportObserved(),s.dehanceValues_(s.values_)[t](function(t,s){return n.call(i,t,s,r)})}}function Zd(t){return function(){var n=this,i=this[Wu];i.atom_.reportObserved();var r=i.dehanceValues_(i.values_),s=arguments[0];return arguments[0]=function(t,i,r){return s(t,i,r,n)},r[t].apply(r,arguments)}}Zl("concat",Zc),Zl("flat",Zc),Zl("includes",Zc),Zl("indexOf",Zc),Zl("join",Zc),Zl("lastIndexOf",Zc),Zl("slice",Zc),Zl("toString",Zc),Zl("toLocaleString",Zc),Zl("every",Zu),Zl("filter",Zu),Zl("find",Zu),Zl("findIndex",Zu),Zl("flatMap",Zu),Zl("forEach",Zu),Zl("map",Zu),Zl("some",Zu),Zl("reduce",Zd),Zl("reduceRight",Zd);var Zp,Zh,Zf=q2("ObservableArrayAdministration",Zo);function Zm(t){return qK(t)&&Zf(t[Wu])}var Zg={},Zx="delete";Zp=Symbol.iterator,Zh=Symbol.toStringTag;var Zy,Zv,Zb=function(){function t(t,n,i){void 0===n&&(n=Wm),void 0===i&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Wu]=Zg,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,qZ(Map)||qR(18),this.keysAtom_=Wh("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(t)}var n=t.prototype;return n.has_=function(t){return this.data_.has(t)},n.has=function(t){var n=this;if(!$v.trackingDerivation)return this.has_(t);var i=this.hasMap_.get(t);if(!i){var r=i=new W8(this.has_(t),Wg,"ObservableMap.key?",!1);this.hasMap_.set(t,r),$z(r,function(){return n.hasMap_.delete(t)})}return i.get()},n.set=function(t,n){var i=this.has_(t);if($4(this)){var r=$8(this,{type:i?Zr:"add",object:this,newValue:n,name:t});if(!r)return this;n=r.newValue}return i?this.updateValue_(t,n):this.addValue_(t,n),this},n.delete=function(t){var n=this;if(this.keysAtom_,$4(this)&&!$8(this,{type:Zx,object:this,name:t}))return!1;if(this.has_(t)){var i=$7(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:Zx,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return $3(function(){n.keysAtom_.reportChanged(),n.updateHasMapEntry_(t,!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)}),i&&Ze(this,r),!0}return!1},n.updateHasMapEntry_=function(t,n){var i=this.hasMap_.get(t);i&&i.setNewValue_(n)},n.updateValue_=function(t,n){var i=this.data_.get(t);if((n=i.prepareNewValue_(n))!==$v.UNCHANGED){var r=$7(this),s=r?{observableKind:"map",debugObjectName:this.name_,type:Zr,object:this,oldValue:i.value_,name:t,newValue:n}:null;i.setNewValue_(n),r&&Ze(this,s)}},n.addValue_=function(t,n){var i=this;this.keysAtom_,$3(function(){var r=new W8(n,i.enhancer_,"ObservableMap.key",!1);i.data_.set(t,r),n=r.value_,i.updateHasMapEntry_(t,!0),i.keysAtom_.reportChanged()});var r=$7(this),s=r?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:t,newValue:n}:null;r&&Ze(this,s)},n.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},n.values=function(){var t=this,n=this.keys();return ZQ({next:function(){var i=n.next(),r=i.done,s=i.value;return{done:r,value:r?void 0:t.get(s)}}})},n.entries=function(){var t=this,n=this.keys();return ZQ({next:function(){var i=n.next(),r=i.done,s=i.value;return{done:r,value:r?void 0:[s,t.get(s)]}}})},n[Zp]=function(){return this.entries()},n.forEach=function(t,n){for(var i,r=Wo(this);!(i=r()).done;){var s=i.value,o=s[0],a=s[1];t.call(n,a,o,this)}},n.merge=function(t){var n=this;return ZA(t)&&(t=new Map(t)),$3(function(){qX(t)?(function(t){var n=Object.keys(t);if(!q4)return n;var i=Object.getOwnPropertySymbols(t);return i.length?[].concat(n,i.filter(function(n){return qV.propertyIsEnumerable.call(t,n)})):n})(t).forEach(function(i){return n.set(i,t[i])}):Array.isArray(t)?t.forEach(function(t){var i=t[0],r=t[1];return n.set(i,r)}):q3(t)?(t.constructor!==Map&&qR(19,t),t.forEach(function(t,i){return n.set(i,t)})):null!=t&&qR(20,t)}),this},n.clear=function(){var t=this;$3(function(){$u(function(){for(var n,i=Wo(t.keys());!(n=i()).done;){var r=n.value;t.delete(r)}})})},n.replace=function(t){var n=this;return $3(function(){for(var i,r=function(t){if(q3(t)||ZA(t))return t;if(Array.isArray(t))return new Map(t);if(qX(t)){var n=new Map;for(var i in t)n.set(i,t[i]);return n}return qR(21,t)}(t),s=new Map,o=!1,a=Wo(n.data_.keys());!(i=a()).done;){var l=i.value;if(!r.has(l)){if(n.delete(l))o=!0;else{var c=n.data_.get(l);s.set(l,c)}}}for(var u,d=Wo(r.entries());!(u=d()).done;){var p=u.value,h=p[0],f=p[1],m=n.data_.has(h);if(n.set(h,f),n.data_.has(h)){var g=n.data_.get(h);s.set(h,g),m||(o=!0)}}if(!o){if(n.data_.size!==s.size)n.keysAtom_.reportChanged();else for(var x=n.data_.keys(),y=s.keys(),v=x.next(),b=y.next();!v.done;){if(v.value!==b.value){n.keysAtom_.reportChanged();break}v=x.next(),b=y.next()}}n.data_=s}),this},n.toString=function(){return"[object ObservableMap]"},n.toJSON=function(){return Array.from(this)},n.observe_=function(t,n){return $9(this,t)},n.intercept_=function(t){return $6(this,t)},Wt(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Zh,get:function(){return"Map"}}]),t}(),ZA=q2("ObservableMap",Zb),Zw={};Zy=Symbol.iterator,Zv=Symbol.toStringTag;var ZC=function(){function t(t,n,i){void 0===n&&(n=Wm),void 0===i&&(i="ObservableSet"),this.name_=void 0,this[Wu]=Zw,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,qZ(Set)||qR(22),this.atom_=Wh(this.name_),this.enhancer_=function(t,r){return n(t,r,i)},t&&this.replace(t)}var n=t.prototype;return n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.clear=function(){var t=this;$3(function(){$u(function(){for(var n,i=Wo(t.data_.values());!(n=i()).done;){var r=n.value;t.delete(r)}})})},n.forEach=function(t,n){for(var i,r=Wo(this);!(i=r()).done;){var s=i.value;t.call(n,s,s,this)}},n.add=function(t){var n=this;if(this.atom_,$4(this)&&!$8(this,{type:"add",object:this,newValue:t}))return this;if(!this.has(t)){$3(function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()});var i=$7(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:t}:null;i&&Ze(this,r)}return this},n.delete=function(t){var n=this;if($4(this)&&!$8(this,{type:Zx,object:this,oldValue:t}))return!1;if(this.has(t)){var i=$7(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:Zx,object:this,oldValue:t}:null;return $3(function(){n.atom_.reportChanged(),n.data_.delete(t)}),i&&Ze(this,r),!0}return!1},n.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},n.entries=function(){var t=0,n=Array.from(this.keys()),i=Array.from(this.values());return ZQ({next:function(){var r=t;return t+=1,r<i.length?{value:[n[r],i[r]],done:!1}:{done:!0}}})},n.keys=function(){return this.values()},n.values=function(){this.atom_.reportObserved();var t=this,n=0,i=Array.from(this.data_.values());return ZQ({next:function(){return n<i.length?{value:t.dehanceValue_(i[n++]),done:!1}:{done:!0}}})},n.replace=function(t){var n=this;return Z_(t)&&(t=new Set(t)),$3(function(){Array.isArray(t)||q5(t)?(n.clear(),t.forEach(function(t){return n.add(t)})):null!=t&&qR("Cannot initialize set from "+t)}),this},n.observe_=function(t,n){return $9(this,t)},n.intercept_=function(t){return $6(this,t)},n.toJSON=function(){return Array.from(this)},n.toString=function(){return"[object ObservableSet]"},n[Zy]=function(){return this.values()},Wt(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Zv,get:function(){return"Set"}}]),t}(),Z_=q2("ObservableSet",ZC),ZS=Object.create(null),Zk="remove",ZE=function(){function t(t,n,i,r){void 0===n&&(n=new Map),void 0===r&&(r=WL),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=n,this.name_=i,this.defaultAnnotation_=r,this.keysAtom_=new Wd("ObservableObject.keys"),this.isPlainObject_=qX(this.target_)}var n=t.prototype;return n.getObservablePropValue_=function(t){return this.values_.get(t).get()},n.setObservablePropValue_=function(t,n){var i=this.values_.get(t);if(i instanceof $i)return i.set(n),!0;if($4(this)){var r=$8(this,{type:Zr,object:this.proxy_||this.target_,name:t,newValue:n});if(!r)return null;n=r.newValue}if((n=i.prepareNewValue_(n))!==$v.UNCHANGED){var s=$7(this),o=s?{type:Zr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:t,newValue:n}:null;i.setNewValue_(n),s&&Ze(this,o)}return!0},n.get_=function(t){return $v.trackingDerivation&&!q7(this.target_,t)&&this.has_(t),this.target_[t]},n.set_=function(t,n,i){return void 0===i&&(i=!1),q7(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):i?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},n.has_=function(t){if(!$v.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new W8(t in this.target_,Wg,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},n.make_=function(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(!(t in this.target_)){var i;if(null==(i=this.target_[Wa])?void 0:i[t])return;qR(1,n.annotationType_,this.name_+"."+t.toString())}for(var r=this.target_;r&&r!==qV;){var s=qN(r,t);if(s){var o=n.make_(this,t,s,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}ZL(this,n,t)}},n.extend_=function(t,n,i,r){if(void 0===r&&(r=!1),!0===i&&(i=this.defaultAnnotation_),!1===i)return this.defineProperty_(t,n,r);var s=i.extend_(this,t,n,r);return s&&ZL(this,i,t),s},n.defineProperty_=function(t,n,i){void 0===i&&(i=!1);try{$w();var r=this.delete_(t);if(!r)return r;if($4(this)){var s=$8(this,{object:this.proxy_||this.target_,name:t,type:"add",newValue:n.value});if(!s)return null;var o=s.newValue;n.value!==o&&(n=Wn({},n,{value:o}))}if(i){if(!Reflect.defineProperty(this.target_,t,n))return!1}else qU(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{$C()}return!0},n.defineObservableProperty_=function(t,n,i,r){void 0===r&&(r=!1);try{$w();var s=this.delete_(t);if(!s)return s;if($4(this)){var o=$8(this,{object:this.proxy_||this.target_,name:t,type:"add",newValue:n});if(!o)return null;n=o.newValue}var a=ZT(t),l={configurable:!$v.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,l))return!1}else qU(this.target_,t,l);var c=new W8(n,i,"ObservableObject.key",!1);this.values_.set(t,c),this.notifyPropertyAddition_(t,c.value_)}finally{$C()}return!0},n.defineComputedProperty_=function(t,n,i){void 0===i&&(i=!1);try{$w();var r=this.delete_(t);if(!r)return r;if($4(this)&&!$8(this,{object:this.proxy_||this.target_,name:t,type:"add",newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var s=ZT(t),o={configurable:!$v.safeDescriptors||this.isPlainObject_,enumerable:!1,get:s.get,set:s.set};if(i){if(!Reflect.defineProperty(this.target_,t,o))return!1}else qU(this.target_,t,o);this.values_.set(t,new $i(n)),this.notifyPropertyAddition_(t,void 0)}finally{$C()}return!0},n.delete_=function(t,n){if(void 0===n&&(n=!1),!q7(this.target_,t))return!0;if($4(this)&&!$8(this,{object:this.proxy_||this.target_,name:t,type:Zk}))return null;try{$w();var i,r,s,o=$7(this),a=this.values_.get(t),l=void 0;if(!a&&o&&(l=null==(s=qN(this.target_,t))?void 0:s.value),n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(a&&(this.values_.delete(t),a instanceof W8&&(l=a.value_),$S(a)),this.keysAtom_.reportChanged(),null==(i=this.pendingKeys_)||null==(r=i.get(t))||r.set(t in this.target_),o){var c={type:Zk,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};o&&Ze(this,c)}}finally{$C()}return!0},n.observe_=function(t,n){return $9(this,t)},n.intercept_=function(t){return $6(this,t)},n.notifyPropertyAddition_=function(t,n){var i,r,s=$7(this);if(s){var o=s?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;s&&Ze(this,o)}null==(i=this.pendingKeys_)||null==(r=i.get(t))||r.set(!0),this.keysAtom_.reportChanged()},n.ownKeys_=function(){return this.keysAtom_.reportObserved(),q6(this.target_)},n.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function ZM(t,n){if(q7(t,Wu))return t;var i,r,s=null!=(r=null==n?void 0:n.name)?r:"ObservableObject",o=new ZE(t,new Map,String(s),n?null!=(i=n.defaultDecorator)?i:Wj(n):void 0);return q0(t,Wu,o),t}var ZI=q2("ObservableObjectAdministration",ZE);function ZT(t){return ZS[t]||(ZS[t]={get:function(){return this[Wu].getObservablePropValue_(t)},set:function(n){return this[Wu].setObservablePropValue_(t,n)}})}function ZB(t){return!!qK(t)&&ZI(t[Wu])}function ZL(t,n,i){var r;null==(r=t.target_[Wa])||delete r[i]}var Zj,ZP=0,ZR=function(){};Zj=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ZR.prototype,Zj):void 0!==ZR.prototype.__proto__?ZR.prototype.__proto__=Zj:ZR.prototype=Zj;var ZD=function(t){function n(n,i,r,s){void 0===r&&(r="ObservableArray"),void 0===s&&(s=!1),o=t.call(this)||this;var o,a=new Zo(r,i,s,!0);if(a.proxy_=Wr(o),q1(Wr(o),Wu,a),n&&n.length){var l=W5(!0);o.spliceWithArray(0,0,n),W4(l)}return o}Wi(n,t);var i=n.prototype;return i.concat=function(){this[Wu].atom_.reportObserved();for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),n.map(function(t){return Zm(t)?t.slice():t}))},i[Symbol.iterator]=function(){var t=this,n=0;return ZQ({next:function(){return n<t.length?{value:t[n++],done:!1}:{done:!0,value:void 0}}})},Wt(n,[{key:"length",get:function(){return this[Wu].getArrayLength_()},set:function(t){this[Wu].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),n}(ZR);function ZF(t){if(t>ZP){for(var n=ZP;n<t+100;n++)!function(t){qU(ZD.prototype,""+t,{enumerable:!1,configurable:!0,get:function(){return this[Wu].get_(t)},set:function(n){this[Wu].set_(t,n)}})}(n);ZP=t}}function ZO(t,n){if("object"==typeof t&&null!==t){if(Zm(t))return void 0!==n&&qR(23),t[Wu].atom_;if(Z_(t))return t[Wu];if(ZA(t)){if(void 0===n)return t.keysAtom_;var i=t.data_.get(n)||t.hasMap_.get(n);return i||qR(25,n,ZN(t)),i}if(ZB(t)){if(!n)return qR(26);var r=t[Wu].values_.get(n);return r||qR(27,n,ZN(t)),r}if(Wp(t)||$r(t)||$T(t))return t}else if(qZ(t)&&$T(t[Wu]))return t[Wu];qR(28)}function ZN(t,n){var i;if(void 0!==n)i=ZO(t,n);else{if($V(t))return t.name;i=ZB(t)||ZA(t)||Z_(t)?function t(n,i){return n||qR(29),void 0!==i?t(ZO(n,i)):Wp(n)||$r(n)||$T(n)||ZA(n)||Z_(n)?n:n[Wu]?n[Wu]:void qR(24,n)}(t):ZO(t)}return i.name_}Object.entries(Za).forEach(function(t){var n=t[0],i=t[1];"concat"!==n&&q0(ZD.prototype,n,i)}),ZF(1e3);var ZU=qV.toString;function ZV(t,n,i){return void 0===i&&(i=-1),function t(n,i,r,s,o){if(n===i)return 0!==n||1/n==1/i;if(null==n||null==i)return!1;if(n!=n)return i!=i;var a=typeof n;if(!qZ(a)&&"object"!==a&&"object"!=typeof i)return!1;var l=ZU.call(n);if(l!==ZU.call(i))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+n==""+i;case"[object Number]":return+n!=+n?+i!=+i:0==+n?1/+n==1/i:+n==+i;case"[object Date]":case"[object Boolean]":return+n==+i;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(n)===Symbol.valueOf.call(i);case"[object Map]":case"[object Set]":r>=0&&r++}n=ZH(n),i=ZH(i);var c="[object Array]"===l;if(!c){if("object"!=typeof n||"object"!=typeof i)return!1;var u=n.constructor,d=i.constructor;if(u!==d&&!(qZ(u)&&u instanceof u&&qZ(d)&&d instanceof d)&&"constructor"in n&&"constructor"in i)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var p=(s=s||[]).length;p--;)if(s[p]===n)return o[p]===i;if(s.push(n),o.push(i),c){if((p=n.length)!==i.length)return!1;for(;p--;)if(!t(n[p],i[p],r-1,s,o))return!1}else{var h,f=Object.keys(n);if(p=f.length,Object.keys(i).length!==p)return!1;for(;p--;)if(!q7(i,h=f[p])||!t(n[h],i[h],r-1,s,o))return!1}return s.pop(),o.pop(),!0}(t,n,i)}function ZH(t){return Zm(t)?t.slice():q3(t)||ZA(t)||q5(t)||Z_(t)?Array.from(t.entries()):t}function ZQ(t){return t[Symbol.iterator]=Zz,t}function Zz(){return this}["Symbol","Map","Set","Symbol"].forEach(function(t){void 0===qF()[t]&&qR("MobX requires global '"+t+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:ZN},$mobx:Wu}),SV(EW()),SU({},{NavigationPosition:()=>Zq,PanelPosition:()=>ZG});var ZG=((y=ZG||{}).Left="left",y.Right="right",y),Zq=((v=Zq||{}).Top="top",v.Bottom="bottom",v),ZW=function t(n){if(Array.isArray(n))return n.reduce((n,i)=>n^t(i),0);let i=-559038737,r=1103547991;for(let t,s=0;s<n.length;s++)i=Math.imul(i^(t=n.charCodeAt(s)),2654435761),r=Math.imul(r^t,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&(r=Math.imul(r^r>>>16,2246822507)^Math.imul(i^i>>>13,3266489909)))+(i>>>0)},Z$=(SV(Mx()),SV(MF()),SV(MV()));SU({},{ViewStyle:()=>ZZ});var ZZ=((b=ZZ||{}).Advanced="advanced",b.Default="default",b),ZY={position:"left",floating:!1},ZK={position:"left"},ZX={position:"top"},ZJ={id:"ly.img.image",sourceIds:["ly.img.image.upload","ly.img.image"],canAdd:t=>"ly.img.image.upload"===t,canRemove:t=>"ly.img.image.upload"===t,gridColumns:2,gridItemHeight:"auto",previewLength:3,gridBackgroundType:"cover"},Z0={id:"ly.img.video",sourceIds:["ly.img.video.upload","ly.img.video"],sceneMode:"Video",canAdd:t=>"ly.img.video.upload"===t,canRemove:t=>"ly.img.video.upload"===t,gridColumns:2,gridItemHeight:"auto",gridBackgroundType:"cover"},Z1={id:"ly.img.audio",sourceIds:["ly.img.audio.upload","ly.img.audio"],sceneMode:"Video",canAdd:t=>"ly.img.audio.upload"===t,canRemove:t=>"ly.img.audio.upload"===t,previewLength:3,gridColumns:3,gridItemHeight:"square",previewBackgroundType:"cover",gridBackgroundType:"cover",cardLabel:t=>t.label},Z2=["ly.img.image.upload","ly.img.video.upload","ly.img.audio.upload"],Z3={dropdownOptions:[6,8,10,14,16,18,21,24,28,32,36,48,54,64,72,90]},Z5={dropdownOptions:[72,150,300,600,1200,2400]},Z4={dropdownOptions:[.5,1,1.5,2,3,4]},Z6={mm:{bleedMargin:{dropdownOptions:(0,Z$.default)(11),defaultBleedMargin:3}},px:{bleedMargin:{dropdownOptions:(0,Z$.default)(51),defaultBleedMargin:8}},in:{bleedMargin:{dropdownOptions:(0,Z$.default)(0,10).map(t=>parseFloat(`0.${t}`)).concat(1),defaultBleedMargin:.1181}}},Z8={colorLibraries:["ly.img.colors.documentColors","ly.img.colors.defaultPalette"]},Z7={"din-a0":{width:1189,height:841,unit:"Millimeter"},"din-a1":{width:841,height:594,unit:"Millimeter"},"din-a2":{width:594,height:420,unit:"Millimeter"},"din-a3":{width:420,height:297,unit:"Millimeter"},"din-a4":{width:297,height:210,unit:"Millimeter"},"din-a5":{width:210,height:148,unit:"Millimeter"},"din-a6":{default:!0,width:148,height:105,unit:"Millimeter"},"din-a65":{width:210,height:105,unit:"Millimeter"},"din-b5":{width:250,height:176,unit:"Millimeter"},square:{width:105,height:105,unit:"Millimeter"},"twitter-profile":{width:400,height:400,unit:"Pixel"},"twitter-image":{width:1024,height:512,unit:"Pixel",fixedOrientation:!0},"twitter-header":{width:1500,height:500,unit:"Pixel",fixedOrientation:!0},"instagram-profile":{width:180,height:180,unit:"Pixel"},"instagram-photo":{width:1080,height:1080,unit:"Pixel"},"instagram-story":{width:1080,height:1920,unit:"Pixel",fixedOrientation:!0},"american-letter":{width:8.5,height:11,unit:"Inch"},"american-legal":{width:8.5,height:14,unit:"Inch"},"16:10":{width:1600,height:1e3,unit:"Pixel",fixedOrientation:!0},"16:9":{width:1600,height:900,unit:"Pixel",fixedOrientation:!0},"16:10@2400p":{width:3840,height:2400,unit:"Pixel",fixedOrientation:!0},"16:9@2160p":{width:3840,height:2160,unit:"Pixel",fixedOrientation:!0},"business-card":{width:85,height:55,unit:"Millimeter"}},Z9={"social-feed":{width:1080,height:1080,unit:"Pixel"},"social-story":{width:1080,height:1920,unit:"Pixel",default:!0},hd:{width:1280,height:720,unit:"Pixel"},fullhd:{width:1920,height:1080,unit:"Pixel"},qhd:{width:2560,height:1440,unit:"Pixel"},format2k:{width:2048,height:1080,unit:"Pixel"},format4k:{width:3840,height:2160,unit:"Pixel"}},Ye=SV(kB()),Yt={width:256,height:256,backgroundColor:"transparent",waveformColor:"black",pixelsPerSecond:100},Yn=async function(t,n={}){let{width:i,height:r,backgroundColor:s,waveformColor:o,pixelsPerSecond:a}={...Yt,...n},l=new AudioContext,c=await t.arrayBuffer(),u=await l.decodeAudioData(c),d=u.duration,p=Math.max(i,Math.ceil(d*a)),h=u.sampleRate*d/p,f=document.createElement("canvas");f.width=i,f.height=r;let m=f.getContext("2d");m.fillStyle=s,m.fillRect(0,0,i,r);let g=u.getChannelData(0),x=r/2,y=u.length;m.strokeStyle=o,m.beginPath(),m.moveTo(0,x);for(let t=0;t<i;t++){let n=1,i=-1;for(let r=0;r<h;r++){let s=Math.floor(t*h+r);if(s<y){let t=g[s];t<n&&(n=t),t>i&&(i=t)}}let r=x-n*x,s=x-i*x;m.lineTo(t,s),m.lineTo(t,r)}return m.stroke(),new Promise((t,n)=>{f.toBlob(i=>{i?t(i):n(Error("Canvas to Blob conversion failed"))})})},Yi=async function(t){let n=document.createElement("canvas"),i=n.getContext("2d");if(null===i)throw Error("Could not create context");let r=new Image;r.src=window.URL.createObjectURL(t);let s=await new Promise((t,n)=>{r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=()=>{n(Error("Could not measure image width/height"))}}),o=function(t,n){let i=t.width,r=t.height,s=n.width,o=n.height;if(i<=s&&r<=o)return t;let a=i/s,l=r/o;return a<=l?{width:i/a,height:r/a}:{width:i/l,height:r/l}}(s,{width:250,height:250});return n.width=o.width,n.height=o.height,i.drawImage(r,0,0,s.width,s.height,0,0,o.width,o.height),await new Promise(t=>{n.toBlob(t)})},Yr=async function(t){return new Promise((n,i)=>{let r=document.createElement("video");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{let t=Math.min(256/r.videoWidth,256/r.videoHeight);r.ontimeupdate=()=>{let s=document.createElement("canvas");s.width=t*r.videoWidth,s.height=t*r.videoHeight;let o=s.getContext("2d");null!=o?(o.drawImage(r,0,0,s.width,s.height),s.toBlob(n)):i(Error("Could not create context"))},r.currentTime=.5},r.onerror=()=>{i(Error("video measure failed"))}})},Ys=async(t,n,i)=>{let r;let s=window.URL.createObjectURL(t);t.type.startsWith("image")&&(r=await Yi(t)),t.type.startsWith("video")&&(r=await Yr(t)),t.type.startsWith("audio")&&(r=await Yn(t));let o=r&&window.URL.createObjectURL(r);return{id:(0,Ye.default)(`${t.name}/`),label:{en:t.name,de:t.name},groups:i?.group?[i.group]:void 0,meta:{uri:s,thumbUri:o||"",filename:t.name}}},Yo=function(t){let{onUpload:n}=t.callbacks;return"local"===n?{callback:Ys,options:{}}:"function"==typeof n?{callback:n,options:{}}:null!=n&&"object"==typeof n&&"function"==typeof n.callback?{callback:n.callback,options:{supportedMimeTypes:n.supportedMimeTypes}}:{callback:void 0,options:{}}},Ya=SV(kf()),Yl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Yc(t,n,i=Number.EPSILON){return Math.abs(t-n)<i}function Yu(t){let{r:n,g:i,b:r}=t,s=Math.max(n,i,r),o=Math.min(n,i,r),a=0,l=s-o;if(s===o)a=0;else{switch(s){case n:a=(i-r)/l+(i<r?6:0);break;case i:a=(r-n)/l+2;break;case r:a=(n-i)/l+4}a/=6}return{h:a,s:0===s?0:l/s,v:s}}function Yd(t,n){return{h:parseFloat(t.h.toFixed(n)),s:parseFloat(t.s.toFixed(n)),v:parseFloat(t.v.toFixed(n))}}function Yp(t){let n=Object.entries(Yl),i=[],r,s=1/0,o={name:"",hex:UI(t),rgba:t};return n.forEach(t=>{let[n,r]=t;i.push({name:n,hex:r,rgba:UT(r)})}),i.forEach(n=>{let{rgba:i}=n;(r=(t.r-i.r)**2+(t.g-i.g)**2+(t.b-i.b)**2)<s&&(s=r,o=n)}),o}var Yh=(t,n="0")=>(0,Ya.default)(t).set("hsl.l",n),Yf=t=>.5>(0,Ya.default)(t).luminance()?(0,Ya.default)("white"):(0,Ya.default)("black"),Ym=(t,n,i)=>(0,Ya.default)(i).set(t,(0,Ya.default)(n).get(t)),Yg=(t,n)=>{let i=Ym("lch.l",t,n).toString();return Ym("lch.c",t,i)};function Yx(t){let n=`colorConfiguratorStyles-${t}`,i=document.getElementById(n);return i||((i=document.createElement("style")).id=n,document.head.appendChild(i)),i}var Yy=(t,n)=>{switch(n){case"Red":return t("color.red");case"Orange":return t("color.orange");case"Yellow":return t("color.yellow");case"Green":return t("color.green");case"Aqua":return t("color.aqua");case"Blue":return t("color.blue");case"Purple":return t("color.purple");case"Magenta":return t("color.magenta");default:return""}},Yv=(t,n)=>{switch(n){case"c":return t("color.cyan");case"m":return t("color.magenta");case"y":return t("color.yellow");case"k":return t("color.black");default:return""}},Yb=(t,n)=>{switch(n){case"r":return Yy(t,"Red");case"g":return Yy(t,"Green");case"b":return Yy(t,"Blue");default:return""}};function YA(t){let[n,i,r,s]=t;return{r:n,g:i,b:r,a:s}}function Yw(t,n){return Yc(t.r,n.r,1e-4)&&Yc(t.g,n.g,1e-4)&&Yc(t.b,n.b,1e-4)&&Yc(t.a,n.a,1e-4)}function YC(t){if(nm(t))return"sRGB";if(nx(t))return"CMYK";if(ng(t))return"SpotColor";throw Error("Unknown color space!")}function Y_(t,n){return Array.isArray(t)?t.map(t=>nm(t)?t:n.convertColorToColorSpace(t,"sRGB")):nm(t)?t:n.convertColorToColorSpace(t,"sRGB")}function YS(t,n){switch(t.colorSpace){case"sRGB":return{...t,a:1};case"CMYK":return n.editor.convertColorToColorSpace({...t,tint:1},"sRGB");case"SpotColor":return"sRGB"===t.representation.colorSpace?{...t.representation,a:1}:n.editor.convertColorToColorSpace({...t.representation,tint:1},"sRGB");default:throw Error("Error parsing color")}}function Yk(t){return`C ${Math.round(100*t.c)}\xa0\xa0M ${Math.round(100*t.m)}\xa0\xa0Y ${Math.round(100*t.y)}\xa0\xa0K ${Math.round(100*t.k)}`}var YE=SV(Sz()),YM=SV(S$()),YI=(0,YE.createContext)(null);function YT(){let t=(0,YE.useContext)(YI);if(null==t||null==t.cesdk)throw Error("Context with CE.SDK instance not initialized");return t.cesdk}function YB(){let t=(0,YE.useContext)(YI);if(null==t||null==t.facade)throw Error("Context with engine facade not initialized");return t.facade}SV(MZ());var YL=class{#s;constructor(t){this.#s=HO(t.onRoleChanged,()=>t.getRole(),n=>t.setRole(n)),this.#r=this.#s.subscribe(t=>{null===this.previewRole.value()?this.#n.update(t):this.#o.value()!==t&&(this.#n.update(t),this.#o.update(null))}),this.effectiveRole={subscribe:this.#s.subscribe,value:this.#s.value}}#r;dispose(){this.#r?.(),this.#r=void 0}#o=NO(()=>null);previewRole={...this.#o,update:t=>{let n=this.#n.value(),i=t??n;this.#o.update(t),this.#s.value()!==i&&this.#s.update(i)}};#n=NO(()=>this.#s.value());regularRole={...this.#n,update:t=>{this.#n.update(t),this.previewRole.update(null)}};effectiveRole},Yj={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,n){console&&console[t]&&console[t].apply(console,n)}},YP=new class t{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Yj,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(n){return new t(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return(n=n||this.options).prefix=n.prefix||this.prefix,new t(this.logger,n)}},YR=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(t=>{this.observers[t]||(this.observers[t]=new Map);let i=this.observers[t].get(n)||0;this.observers[t].set(n,i+1)}),this}off(t,n){this.observers[t]&&(n?this.observers[t].delete(n):delete this.observers[t])}emit(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(t=>{let[n,r]=t;for(let t=0;t<r;t++)n(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(n=>{let[r,s]=n;for(let n=0;n<s;n++)r.apply(r,[t,...i])})}},YD=()=>{let t,n;let i=new Promise((i,r)=>{t=i,n=r});return i.resolve=t,i.reject=n,i},YF=t=>null==t?"":""+t,YO=/###/g,YN=t=>t&&t.indexOf("###")>-1?t.replace(YO,"."):t,YU=t=>!t||"string"==typeof t,YV=(t,n,i)=>{let r="string"!=typeof n?n:n.split("."),s=0;for(;s<r.length-1;){if(YU(t))return{};let n=YN(r[s]);!t[n]&&i&&(t[n]=new i),t=Object.prototype.hasOwnProperty.call(t,n)?t[n]:{},++s}return YU(t)?{}:{obj:t,k:YN(r[s])}},YH=(t,n,i)=>{let{obj:r,k:s}=YV(t,n,Object);if(void 0!==r||1===n.length)return void(r[s]=i);let o=n[n.length-1],a=n.slice(0,n.length-1),l=YV(t,a,Object);for(;void 0===l.obj&&a.length;)o=`${a[a.length-1]}.${o}`,(l=YV(t,a=a.slice(0,a.length-1),Object))&&l.obj&&void 0!==l.obj[`${l.k}.${o}`]&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=i},YQ=(t,n)=>{let{obj:i,k:r}=YV(t,n);if(i)return i[r]},Yz=(t,n,i)=>{for(let r in n)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(t[r]=n[r]):Yz(t[r],n[r],i):t[r]=n[r]);return t},YG=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),Yq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},YW=t=>"string"==typeof t?t.replace(/[&<>"'\/]/g,t=>Yq[t]):t,Y$=[" ",",","?","!",";"],YZ=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){let n=this.regExpMap.get(t);if(void 0!==n)return n;let i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}(20),YY=function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t)return;if(t[n])return t[n];let r=n.split(i),s=t;for(let t=0;t<r.length;){if(!s||"object"!=typeof s)return;let n,o="";for(let a=t;a<r.length;++a)if(a!==t&&(o+=i),o+=r[a],void 0!==(n=s[o])){if(["string","number","boolean"].indexOf(typeof n)>-1&&a<r.length-1)continue;t+=a-t+1;break}s=n}return s},YK=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t,YX=class extends YR{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}removeNamespaces(t){let n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i){let r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;t.indexOf(".")>-1?r=t.split("."):(r=[t,n],i&&(Array.isArray(i)?r.push(...i):"string"==typeof i&&o?r.push(...i.split(o)):r.push(i)));let l=YQ(this.data,r);return!l&&!n&&!i&&t.indexOf(".")>-1&&(t=r[0],n=r[1],i=r.slice(2).join(".")),l||!a||"string"!=typeof i?l:YY(this.data&&this.data[t]&&this.data[t][n],i,o)}addResource(t,n,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=[t,n];i&&(a=a.concat(o?i.split(o):i)),t.indexOf(".")>-1&&(a=t.split("."),r=n,n=a[1]),this.addNamespaces(n),YH(this.data,a,r),s.silent||this.emit("added",t,n,i,r)}addResources(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let r in i)("string"==typeof i[r]||Array.isArray(i[r]))&&this.addResource(t,n,r,i[r],{silent:!0});r.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,r,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),r=i,i=n,n=a[1]),this.addNamespaces(n);let l=YQ(this.data,a)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?Yz(l,i,s):l={...l,...i},YH(this.data,a,l),o.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return void 0!==this.getResource(t,n)}getResourceBundle(t,n){return n||(n=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){let n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(t=>n[t]&&Object.keys(n[t]).length>0)}toJSON(){return this.data}},YJ={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,n,i,r,s){return t.forEach(t=>{this.processors[t]&&(n=this.processors[t].process(n,i,r,s))}),n}},Y0={},Y1=class t extends YR{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((t,n,i)=>{t.forEach(t=>{n[t]&&(i[t]=n[t])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=YP.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;let i=this.resolve(t,n);return i&&void 0!==i.res}extractFromKey(t,n){let i=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=n.ns||this.options.defaultNS||[],o=i&&t.indexOf(i)>-1,a=!(this.options.userDefinedKeySeparator||n.keySeparator||this.options.userDefinedNsSeparator||n.nsSeparator||((t,n,i)=>{n=n||"",i=i||"";let r=Y$.filter(t=>0>n.indexOf(t)&&0>i.indexOf(t));if(0===r.length)return!0;let s=YZ.getRegExp(`(${r.map(t=>"?"===t?"\\?":t).join("|")})`),o=!s.test(t);if(!o){let n=t.indexOf(i);n>0&&!s.test(t.substring(0,n))&&(o=!0)}return o})(t,i,r));if(o&&!a){let n=t.match(this.interpolator.nestingRegexp);if(n&&n.length>0)return{key:t,namespaces:s};let o=t.split(i);(i!==r||i===r&&this.options.ns.indexOf(o[0])>-1)&&(s=o.shift()),t=o.join(r)}return"string"==typeof s&&(s=[s]),{key:t,namespaces:s}}translate(n,i,r){if("object"!=typeof i&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof i&&(i={...i}),i||(i={}),null==n)return"";Array.isArray(n)||(n=[String(n)]);let s=void 0!==i.returnDetails?i.returnDetails:this.options.returnDetails,o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(n[n.length-1],i),c=l[l.length-1],u=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(d){let t=i.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${t}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${t}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a}let p=this.resolve(n,i),h=p&&p.res,f=p&&p.usedKey||a,m=p&&p.exactUsedKey||a,g=Object.prototype.toString.apply(h),x=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&h&&"string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(g)&&("string"!=typeof x||!Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,h,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=t,p.usedParams=this.getUsedParamsDetails(i),p):t}if(o){let t=Array.isArray(h),n=t?[]:{},r=t?m:f;for(let t in h)if(Object.prototype.hasOwnProperty.call(h,t)){let s=`${r}${o}${t}`;n[t]=this.translate(s,{...i,joinArrays:!1,ns:l}),n[t]===s&&(n[t]=h[t])}h=n}}else if(y&&"string"==typeof x&&Array.isArray(h))(h=h.join(x))&&(h=this.extendTranslation(h,n,i,r));else{let s=!1,l=!1,d=void 0!==i.count&&"string"!=typeof i.count,f=t.hasDefaultValue(i),m=d?this.pluralResolver.getSuffix(u,i.count,i):"",g=i.ordinal&&d?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",x=d&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),y=x&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${m}`]||i[`defaultValue${g}`]||i.defaultValue;!this.isValidLookup(h)&&f&&(s=!0,h=y),this.isValidLookup(h)||(l=!0,h=a);let v=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&l?void 0:h,b=f&&y!==h&&this.options.updateMissing;if(l||s||b){if(this.logger.log(b?"updateKey":"missingKey",u,c,a,b?y:h),o){let t=this.resolve(a,{...i,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let i=0;i<n.length;i++)t.push(n[i]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(i.lng||this.language):t.push(i.lng||this.language);let r=(t,n,r)=>{let s=f&&r!==h?r:v;this.options.missingKeyHandler?this.options.missingKeyHandler(t,c,n,s,b,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,c,n,s,b,i),this.emit("missingKey",t,c,n,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&d?t.forEach(t=>{let n=this.pluralResolver.getSuffixes(t,i);x&&i[`defaultValue${this.options.pluralSeparator}zero`]&&0>n.indexOf(`${this.options.pluralSeparator}zero`)&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{r([t],a+n,i[`defaultValue${n}`]||y)})}):r(t,a,y))}h=this.extendTranslation(h,n,i,p,r),l&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${a}`),(l||s)&&this.options.parseMissingKeyHandler&&(h="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,s?h:void 0):this.options.parseMissingKeyHandler(h))}return s?(p.res=h,p.usedParams=this.getUsedParamsDetails(i),p):h}extendTranslation(t,n,i,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){let a;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let l="string"==typeof t&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let n=t.match(this.interpolator.nestingRegexp);a=n&&n.length}let c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),t=this.interpolator.interpolate(t,c,i.lng||this.language||r.usedLng,i),l){let n=t.match(this.interpolator.nestingRegexp);a<(n&&n.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(i.lng=this.language||r.usedLng),!1!==i.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return s&&s[0]===r[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${n[0]}`),null):o.translate(...r,n)},i)),i.interpolation&&this.interpolator.reset()}let a=i.postProcess||this.options.postProcess,l="string"==typeof a?[a]:a;return null!=t&&l&&l.length&&!1!==i.applyPostProcessor&&(t=YJ.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t){let n,i,r,s,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach(t=>{if(this.isValidLookup(n))return;let l=this.extractFromKey(t,a),c=l.key;i=c;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));let d=void 0!==a.count&&"string"!=typeof a.count,p=d&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach(t=>{this.isValidLookup(n)||(o=t,!Y0[`${f[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Y0[`${f[0]}-${t}`]=!0,this.logger.warn(`key "${i}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(i=>{let o;if(this.isValidLookup(n))return;s=i;let l=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,c,i,t,a);else{let t;d&&(t=this.pluralResolver.getSuffix(i,a.count,a));let n=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(l.push(c+t),a.ordinal&&0===t.indexOf(r)&&l.push(c+t.replace(r,this.options.pluralSeparator)),p&&l.push(c+n)),h){let i=`${c}${this.options.contextSeparator}${a.context}`;l.push(i),d&&(l.push(i+t),a.ordinal&&0===t.indexOf(r)&&l.push(i+t.replace(r,this.options.pluralSeparator)),p&&l.push(i+n))}}for(;o=l.pop();)this.isValidLookup(n)||(r=o,n=this.getResource(i,t,o,a))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:s,usedNS:o}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,i,r):this.resourceStore.getResource(t,n,i,r)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.replace&&"string"!=typeof t.replace,i=n?t.replace:t;if(n&&void 0!==t.count&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n)for(let t of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[t];return i}static hasDefaultValue(t){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"defaultValue"===n.substring(0,12)&&void 0!==t[n])return!0;return!1}},Y2=t=>t.charAt(0).toUpperCase()+t.slice(1),Y3=class{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=YP.create("languageUtils")}getScriptPartFromCode(t){if(!(t=YK(t))||0>t.indexOf("-"))return null;let n=t.split("-");return 2===n.length?null:(n.pop(),"x"===n[n.length-1].toLowerCase()?null:this.formatLanguageCode(n.join("-")))}getLanguagePartFromCode(t){if(!(t=YK(t))||0>t.indexOf("-"))return t;let n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if("string"==typeof t&&t.indexOf("-")>-1){let n=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map(t=>t.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Y2(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Y2(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Y2(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){let n;return t?(t.forEach(t=>{if(n)return;let i=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(i)||(n=i)}),!n&&this.options.supportedLngs&&t.forEach(t=>{if(n)return;let i=this.getLanguagePartFromCode(t);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(t=>t===i?t:0>t.indexOf("-")&&0>i.indexOf("-")?void 0:t.indexOf("-")>0&&0>i.indexOf("-")&&t.substring(0,t.indexOf("-"))===i||0===t.indexOf(i)&&i.length>1?t:void 0)}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}getFallbackCodes(t,n){if(!t)return[];if("function"==typeof t&&(t=t(n)),"string"==typeof t&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){let i=this.getFallbackCodes(n||this.options.fallbackLng||[],t),r=[],s=t=>{t&&(this.isSupportedCode(t)?r.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return"string"==typeof t&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(t))):"string"==typeof t&&s(this.formatLanguageCode(t)),i.forEach(t=>{0>r.indexOf(t)&&s(this.formatLanguageCode(t))}),r}},Y5=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Y4={1:t=>Number(t>1),2:t=>Number(1!=t),3:t=>0,4:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),5:t=>Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5),6:t=>Number(1==t?0:t>=2&&t<=4?1:2),7:t=>Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),8:t=>Number(1==t?0:2==t?1:8!=t&&11!=t?2:3),9:t=>Number(t>=2),10:t=>Number(1==t?0:2==t?1:t<7?2:t<11?3:4),11:t=>Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3),12:t=>Number(t%10!=1||t%100==11),13:t=>Number(0!==t),14:t=>Number(1==t?0:2==t?1:3==t?2:3),15:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2),16:t=>Number(t%10==1&&t%100!=11?0:0!==t?1:2),17:t=>Number(1==t||t%10==1&&t%100!=11?0:1),18:t=>Number(0==t?0:1==t?1:2),19:t=>Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3),20:t=>Number(1==t?0:0==t||t%100>0&&t%100<20?1:2),21:t=>Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0),22:t=>Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)},Y6=["v1","v2","v3"],Y8=["v4"],Y7={zero:0,one:1,two:2,few:3,many:4,other:5},Y9=class{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=YP.create("pluralResolver"),this.options.compatibilityJSON&&!Y8.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{let t={};return Y5.forEach(n=>{n.lngs.forEach(i=>{t[i]={numbers:n.nr,plurals:Y4[n.fc]}})}),t})(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{let i=YK("dev"===t?"en":t),r=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o=new Intl.PluralRules(i,{type:r});return this.pluralRulesCache[s]=o,o}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,i).map(t=>`${n}${t}`)}getSuffixes(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((t,n)=>Y7[t]-Y7[n]).map(t=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${t}`):i.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:this.getSuffixRetroCompatible(r,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){let i=t.noAbs?t.plurals(n):t.plurals(Math.abs(n)),r=t.numbers[i];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===r?r="plural":1===r&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!Y6.includes(this.options.compatibilityJSON)}},Ke=function(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((t,n,i)=>{let r=YQ(t,i);return void 0!==r?r:YQ(n,i)})(t,n,i);return!o&&s&&"string"==typeof i&&void 0===(o=YY(t,i,r))&&(o=YY(n,i,r)),o},Kt=t=>t.replace(/\$/g,"$$$$"),Kn=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=YP.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});let{escape:n,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:f,nestingSuffixEscaped:m,nestingOptionsSeparator:g,maxReplaces:x,alwaysFormat:y}=t.interpolation;this.escape=void 0!==n?n:YW,this.escapeValue=void 0===i||i,this.useRawValueToEscape=void 0!==r&&r,this.prefix=s?YG(s):o||"{{",this.suffix=a?YG(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?YG(p):h||YG("$t("),this.nestingSuffix=f?YG(f):m||YG(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=x||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let t=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,i,r){let s,o,a;let l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=t=>{if(0>t.indexOf(this.formatSeparator)){let s=Ke(n,l,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,i,{...r,...n,interpolationkey:t}):s}let s=t.split(this.formatSeparator),o=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(Ke(n,l,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,i,{...r,...n,interpolationkey:o})};this.resetRegExp();let u=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t=>Kt(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?Kt(this.escape(t)):Kt(t)}].forEach(n=>{for(a=0;s=n.regex.exec(t);){let i=s[1].trim();if(void 0===(o=c(i))){if("function"==typeof u){let n=u(t,s,r);o="string"==typeof n?n:""}else if(r&&Object.prototype.hasOwnProperty.call(r,i))o="";else{if(d){o=s[0];continue}this.logger.warn(`missed to pass in variable ${i} for interpolating ${t}`),o=""}}else"string"==typeof o||this.useRawValueToEscape||(o=YF(o));let l=n.safeValue(o);if(t=t.replace(s[0],l),d?(n.regex.lastIndex+=o.length,n.regex.lastIndex-=s[0].length):n.regex.lastIndex=0,++a>=this.maxReplaces)break}}),t}nest(t,n){let i,r,s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(t,n)=>{let i=this.nestingOptionsSeparator;if(0>t.indexOf(i))return t;let r=t.split(RegExp(`${i}[ ]*{`)),o=`{${r[1]}`;t=r[0];let a=(o=this.interpolate(o,s)).match(/'/g),l=o.match(/"/g);(a&&a.length%2==0&&!l||l.length%2!=0)&&(o=o.replace(/'/g,'"'));try{s=JSON.parse(o),n&&(s={...n,...s})}catch(n){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,n),`${t}${i}${o}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,t};for(;i=this.nestingRegexp.exec(t);){let l=[];(s=(s={...o}).replace&&"string"!=typeof s.replace?s.replace:s).applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let t=i[1].split(this.formatSeparator).map(t=>t.trim());i[1]=t.shift(),l=t,c=!0}if((r=n(a.call(this,i[1].trim(),s),s))&&i[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=YF(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),r=""),c&&(r=l.reduce((t,n)=>this.format(t,n,o.lng,{...o,interpolationkey:i[1].trim()}),r.trim())),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}},Ki=t=>{let n={};return(i,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});let a=r+JSON.stringify(o),l=n[a];return l||(l=t(YK(r),s),n[a]=l),l(i)}},Kr=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=YP.create("formatter"),this.options=t,this.formats={number:Ki((t,n)=>{let i=new Intl.NumberFormat(t,{...n});return t=>i.format(t)}),currency:Ki((t,n)=>{let i=new Intl.NumberFormat(t,{...n,style:"currency"});return t=>i.format(t)}),datetime:Ki((t,n)=>{let i=new Intl.DateTimeFormat(t,{...n});return t=>i.format(t)}),relativetime:Ki((t,n)=>{let i=new Intl.RelativeTimeFormat(t,{...n});return t=>i.format(t,n.range||"day")}),list:Ki((t,n)=>{let i=new Intl.ListFormat(t,{...n});return t=>i.format(t)})},this.init(t)}init(t){let n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Ki(n)}format(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&0>s[0].indexOf(")")&&s.find(t=>t.indexOf(")")>-1)){let t=s.findIndex(t=>t.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,t)].join(this.formatSeparator)}return s.reduce((t,n)=>{let{formatName:s,formatOptions:o}=(t=>{let n=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let r=t.split("(");n=r[0].toLowerCase().trim();let s=r[1].substring(0,r[1].length-1);"currency"===n&&0>s.indexOf(":")?i.currency||(i.currency=s.trim()):"relativetime"===n&&0>s.indexOf(":")?i.range||(i.range=s.trim()):s.split(";").forEach(t=>{if(t){let[n,...r]=t.split(":"),s=r.join(":").trim().replace(/^'+|'+$/g,""),o=n.trim();i[o]||(i[o]=s),"false"===s&&(i[o]=!1),"true"===s&&(i[o]=!0),isNaN(s)||(i[o]=parseInt(s,10))}})}return{formatName:n,formatOptions:i}})(n);if(this.formats[s]){let n=t;try{let a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=a.locale||a.lng||r.locale||r.lng||i;n=this.formats[s](t,l,{...o,...r,...a})}catch(t){this.logger.warn(t)}return n}return this.logger.warn(`there was no format function for ${s}`),t},t)}},Ks=class extends YR{constructor(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=YP.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(t,n,i,r){let s={},o={},a={},l={};return t.forEach(t=>{let r=!0;n.forEach(n=>{let a=`${t}|${n}`;!i.reload&&this.store.hasResourceBundle(t,n)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,r=!1,void 0===o[a]&&(o[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===l[n]&&(l[n]=!0)))}),r||(a[t]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,i){let r=t.split("|"),s=r[0],o=r[1];n&&this.emit("failedLoading",s,o,n),!n&&i&&this.store.addResourceBundle(s,o,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);let a={};this.queue.forEach(i=>{((t,n,i,r)=>{let{obj:s,k:o}=YV(t,n,Object);s[o]=s[o]||[],s[o].push(i)})(i.loaded,[s],o),void 0!==i.pending[t]&&(delete i.pending[t],i.pendingCount--),n&&i.errors.push(n),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(t=>{a[t]||(a[t]={});let n=i.loaded[t];n.length&&n.forEach(n=>{void 0===a[t][n]&&(a[t][n]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(t=>!t.done)}read(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:n,fcName:i,tried:r,wait:s,callback:o});this.readingCalls++;let a=(a,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}a&&l&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,t,n,i,r+1,2*s,o)},s):o(a,l)},l=this.backend[i].bind(this.backend);if(2!==l.length)return l(t,n,a);try{let i=l(t,n);i&&"function"==typeof i.then?i.then(t=>a(null,t)).catch(a):a(null,i)}catch(t){a(t)}}prepareLoading(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof n&&(n=[n]);let s=this.queueLoad(t,n,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(t=>{this.loadOne(t)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${n}loading namespace ${s} for language ${r} failed`,i),!i&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${r}`,o),this.loaded(t,i,o)})}saveMissing(t,n,i,r,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n))this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=i&&""!==i){if(this.backend&&this.backend.create){let l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let s;(s=5===c.length?c(t,n,i,r,l):c(t,n,i,r))&&"function"==typeof s.then?s.then(t=>a(null,t)).catch(a):a(null,s)}catch(t){a(t)}else c(t,n,i,r,a,l)}t&&t[0]&&this.store.addResource(t[0],n,i,r)}}},Ko=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let n={};if("object"==typeof t[1]&&(n=t[1]),"string"==typeof t[1]&&(n.defaultValue=t[1]),"string"==typeof t[2]&&(n.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){let i=t[3]||t[2];Object.keys(i).forEach(t=>{n[t]=i[t]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ka=t=>("string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&0>t.supportedLngs.indexOf("cimode")&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Kl=()=>{},Kc=class t extends YR{constructor(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ka(n),this.services={},this.logger=YP,this.modules={external:[]},t=this,Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{"function"==typeof t[n]&&(t[n]=t[n].bind(t))}),i&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,i),this;setTimeout(()=>{this.init(n,i)},0)}}init(){var t=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof n&&(i=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:0>n.ns.indexOf("translation")&&(n.defaultNS=n.ns[0]));let r=Ko();this.options={...r,...this.options,...Ka(n)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator);let s=t=>t?"function"==typeof t?new t:t:null;if(!this.options.isClone){let n;this.modules.logger?YP.init(s(this.modules.logger),this.options):YP.init(null,this.options),this.modules.formatter?n=this.modules.formatter:"undefined"!=typeof Intl&&(n=Kr);let i=new Y3(this.options);this.store=new YX(this.options.resources,this.options);let o=this.services;o.logger=YP,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new Y9(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!n||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=s(n),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Kn(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Ks(s(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];t.emit(n,...r)}),this.modules.languageDetector&&(o.languageDetector=s(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=s(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Y1(this.services,this.options),this.translator.on("*",function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];t.emit(n,...r)}),this.modules.external.forEach(t=>{t.init&&t.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Kl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(n=>{this[n]=function(){return t.store[n](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(n=>{this[n]=function(){return t.store[n](...arguments),t}});let o=YD(),a=()=>{let t=(t,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(n),i(t,n)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kl,i="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let t=[],r=n=>{n&&"cimode"!==n&&this.services.languageUtils.toResolveHierarchy(n).forEach(n=>{"cimode"!==n&&0>t.indexOf(n)&&t.push(n)})};i?r(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(t=>r(t)),this.options.preload&&this.options.preload.forEach(t=>r(t)),this.services.backendConnector.load(t,this.options.ns,t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(t)})}else n(null)}reloadResources(t,n,i){let r=YD();return"function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=Kl),this.services.backendConnector.reload(t,n,t=>{r.resolve(),i(t)}),r}use(t){if(!t)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&YJ.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let t=0;t<this.languages.length;t++){let n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,n){var i=this;this.isLanguageChangingTo=t;let r=YD();this.emit("languageChanging",t);let s=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},o=(t,o)=>{o?(s(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),n&&n(t,function(){return i.t(...arguments)})},a=n=>{t||n||!this.services.languageDetector||(n=[]);let i="string"==typeof n?n:this.services.languageUtils.getBestMatchFromCodes(n);i&&(this.language||s(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,t=>{o(t,i)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t):a(this.services.languageDetector.detect()),r}getFixedT(t,n,i){var r=this;let s=function(t,n){let o,a;if("object"!=typeof n){for(var l=arguments.length,c=Array(l>2?l-2:0),u=2;u<l;u++)c[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,n].concat(c))}else o={...n};o.lng=o.lng||s.lng,o.lngs=o.lngs||s.lngs,o.ns=o.ns||s.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||i||s.keyPrefix);let d=r.options.keySeparator||".";return a=o.keyPrefix&&Array.isArray(t)?t.map(t=>`${o.keyPrefix}${d}${t}`):o.keyPrefix?`${o.keyPrefix}${d}${t}`:t,r.t(a,o)};return"string"==typeof t?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=n.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let o=(t,n)=>{let i=this.services.backendConnector.state[`${t}|${n}`];return -1===i||0===i||2===i};if(n.precheck){let t=n.precheck(this,o);if(void 0!==t)return t}return!!this.hasResourceBundle(i,t)||!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(i,t)||r&&!o(s,t))}loadNamespaces(t,n){let i=YD();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(t=>{0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}),this.loadResources(t=>{i.resolve(),n&&n(t)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){let i=YD();"string"==typeof t&&(t=[t]);let r=this.options.preload||[],s=t.filter(t=>0>r.indexOf(t)&&this.services.languageUtils.isSupportedCode(t));return s.length?(this.options.preload=r.concat(s),this.loadResources(t=>{i.resolve(),n&&n(t)}),i):(n&&n(),Promise.resolve())}dir(t){return(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new Y3(Ko())).getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kl,r=n.forkResourceStore;r&&delete n.forkResourceStore;let s={...this.options,...n,isClone:!0},o=new t(s);return void 0===n.debug&&void 0===n.prefix||(o.logger=o.logger.clone(n)),["store","services","language"].forEach(t=>{o[t]=this[t]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new YX(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Y1(o.services,s),o.translator.on("*",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];o.emit(t,...i)}),o.init(s,i),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Ku=Kc.createInstance();Ku.createInstance=Kc.createInstance,Ku.createInstance,Ku.dir,Ku.init,Ku.loadResources,Ku.reloadResources,Ku.use,Ku.changeLanguage,Ku.getFixedT,Ku.t,Ku.exists,Ku.setDefaultNamespace,Ku.hasLoadedNamespace,Ku.loadNamespaces,Ku.loadLanguages;var Kd={},Kp={};[{key:"action.align",en:"Align",de:"Ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.bottom",en:"Bottom",de:"Unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.bottom.description",en:"Align bottom",de:"Nach unten ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.elements",en:"Align Elements",de:"Elemente ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.horizontalCenter",en:"Centered",de:"Zentriert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.horizontalCenter.description",en:"Align center (horizontal)",de:"Horizontal mittig ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.left",en:"Left",de:"Links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.left.description",en:"Align left",de:"Nach links ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.right",en:"Right",de:"Rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.right.description",en:"Align right",de:"Nach rechts ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.top",en:"Top",de:"Oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.top.description",en:"Align top",de:"Nach oben ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.toPage",en:"Align to Page",de:"An Seite ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.verticalCenter",en:"Middle",de:"Mittig","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.align.verticalCenter.description",en:"Align center (vertical)",de:"Vertikal mittig ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.arrange",en:"Move",de:"Bewegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.arrange)","it-x-swisspost":"$t(common.arrange)"},{key:"action.arrange.bringForward",en:"Bring Forward",de:"Schrittweise vorw\xe4rts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"D\xe9placer plus en avant","it-x-swisspost":"Spostare pi\xf9 in avanti"},{key:"action.arrange.sendBackward",en:"Send Backward",de:"Schrittweise r\xfcckw\xe4rts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"D\xe9placer plus en arri\xe8re","it-x-swisspost":"Spostare pi\xf9 indietro"},{key:"action.arrange.toBack",en:"Send to Back",de:"In den Hintergrund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"En arri\xe8re-plan","it-x-swisspost":"Manda indrieto"},{key:"action.arrange.toFront",en:"Bring to Front",de:"In den Vordergrund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Au premier plan","it-x-swisspost":"In primo piano"},{key:"action.arrange.moveLeft",en:"Move Left",de:"Nach links schieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.arrange.moveRight",en:"Move Right",de:"Nach rechts schieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.audio.delete",en:"Delete Audio",de:"Audio l\xf6schen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.audio.duplicate",en:"Duplicate Audio",de:"Audio duplizieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.audio.replace",en:"Replace Audio",de:"Audio ersetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.backgroundClip.add",en:"Add Background Clip",de:"Hintergrundclip hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.block.add",en:"Add Element",de:"Element hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Ajouter un \xe9l\xe9ment","it-x-swisspost":"Aggiungere elemento"},{key:"action.block.copy",en:"Copy Element",de:"Element kopieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.block.delete",en:"$t(common.delete)",de:"$t(common.delete)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.delete)","it-x-swisspost":"$t(common.delete)"},{key:"action.block.delete_plural",en:"$t(common.delete) ({{count}})",de:"$t(common.delete) ({{count}})","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.delete) ({{count}})","it-x-swisspost":"$t(common.delete) ({{count}})"},{key:"action.block.duplicate",en:"$t(common.duplicate)",de:"$t(common.duplicate)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.duplicate)","it-x-swisspost":"$t(common.duplicate)"},{key:"action.block.duplicate",en:"$t(common.duplicate)",de:"$t(common.duplicate)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.duplicate)","it-x-swisspost":"$t(common.duplicate)"},{key:"action.block.flipX",en:"Flip Element (Horizontal)",de:"Element horizontal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Refl\xe9ter l’\xe9l\xe9ment horizontalement","it-x-swisspost":"Capovolgere elemento orizzontalmente"},{key:"action.block.flipY",en:"Flip Element (Vertical)",de:"Element vertikal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Refl\xe9ter l’\xe9l\xe9ment verticalement","it-x-swisspost":"Capovolgere elemento verticalmente"},{key:"action.block.lock",en:"$t(common.lock)",de:"$t(common.lock)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.lock)","it-x-swisspost":"$t(common.lock)"},{key:"action.block.lock.description",en:"Lock Element",de:"Element sperren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Verrouiller l’\xe9l\xe9ment","it-x-swisspost":"Bloccare elemento"},{key:"action.block.move",en:"Move Element",de:"Element verschieben","en-x-swisspost":"","de-x-swisspost":"Element bewegt","fr-x-swisspost":"D\xe9placer l’\xe9l\xe9ment","it-x-swisspost":"Elemento spostato"},{key:"action.block.paste",en:"Paste Element",de:"Element einf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.block.rename",en:"Rename Element",de:"Element umbenennen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.block.resize",en:"Resize Element",de:"Elementgr\xf6\xdfe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"Gr\xf6sse vom Element ge\xe4ndert","fr-x-swisspost":"Modifier la taille de l’\xe9l\xe9ment","it-x-swisspost":"Elemento ridimensionato"},{key:"action.block.rotate",en:"Rotate Element",de:"Element rotieren","en-x-swisspost":"","de-x-swisspost":"Element rotiert","fr-x-swisspost":"Pivoter l’\xe9l\xe9ment","it-x-swisspost":"Elemento ruotato"},{key:"action.block.toggleVisibility",en:"(Un)hide Element",de:"Element anzeigen/verstecken","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.block.unlock",en:"$t(common.unlock)",de:"$t(common.unlock)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.unlock)","it-x-swisspost":"$t(common.unlock)"},{key:"action.block.unlock.description",en:"Unlock Element",de:"Element entsperren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"D\xe9verrouiller l’\xe9l\xe9ment","it-x-swisspost":"Sbloccare elemento"},{key:"action.clip.add",en:"Add Clip",de:"Clip hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.continue",en:"Continue",de:"Fortsetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.exit",en:"Exit Crop Mode",de:"Crop-Modus verlassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.mirrorX",en:"Mirror Image horizontally",de:"Bild horizontal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.mirrorY",en:"Mirror the Image vertically",de:"Bild vertikal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.reset",en:"Reset Crop Settings",de:"Zuschnitt zur\xfccksetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.turn",en:"Turn the Image 90˚ Counterclockwise",de:"Bild 90˚ gegen den Uhrzeigersinn drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.crop.turnAndMirror",en:"Turn & Mirror",de:"Drehen & Spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.cutoutOffset.change",en:"Change $t(input.cutoutOffset)",de:"$t(input.cutoutOffset) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.cutoutSmoothing.change",en:"Change $t(input.cutoutSmoothing)",de:"$t(input.cutoutSmoothing) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.cutoutType.change",en:"Change $t(input.cutoutType)",de:"$t(input.cutoutType) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.distribute",en:"Distribute",de:"Verteilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.distribute.horizontally",en:"Horizontally",de:"Waagerecht","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.distribute.horizontally.description",en:"Distribute horizontally",de:"Waagerecht verteilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.distribute.vertically",en:"Vertically",de:"Senkrecht","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.distribute.vertically.description",en:"Distribute vertically",de:"Senkrecht verteilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.editText",en:"$t(common.edit)",de:"$t(common.edit)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.edit)","it-x-swisspost":"$t(common.edit)"},{key:"action.effect.add",en:"Apply Effect",de:"Effect anwenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.effect.remove",en:"Remove Effect",de:"Effect entfernen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.enterGroup",en:"Enter Group",de:"Gruppe \xf6ffnen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.fillType.change",en:"Change fill type",de:"F\xfcllung \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.filter.add",en:"Apply Filter",de:"Filter anwenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.filter.remove",en:"Remove Filter",de:"Filter entfernen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.gradient.addStop",en:"Add new stop at {{position}}%",de:"Farbmarker hinzuf\xfcgen bei {{position}}%","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.gradient.removeStop",en:"Delete Color",de:"Farbmarker l\xf6schen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.group",en:"Group",de:"Gruppieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.blur",en:"Apply Blur",de:"Weichzeichner anwenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.crop",en:"Crop Image",de:"Bild beschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Rogner l’image","it-x-swisspost":"Tagliare immagine"},{key:"action.image.effect",en:"Apply Effect",de:"Effect anwenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.filter",en:"Apply Filter",de:"Filter anwenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Utiliser un filtre","it-x-swisspost":"Utilizzare filtro"},{key:"action.image.inpainting",en:"Inpaint",de:"Auff\xfcllen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Remplissage","it-x-swisspost":"Riempire"},{key:"action.image.matting",en:"Remove Background",de:"Hintergrund entfernen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.matting.staging",en:"Remove Background (Staging)",de:"Hintergrund entfernen (Staging)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.replace",en:"Replace Image",de:"Bild ersetzt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.replace)","it-x-swisspost":"$t(common.replace)"},{key:"action.image.smartCrop",en:"Smart-Crop",de:"Smartes Zuschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Rognage intelligent","it-x-swisspost":"Ritaglio avanzato"},{key:"action.image.smartImage",en:"Smart Features",de:"Intelligente Funktionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.smartImage.description",en:"Smart Features Actions",de:"Aktionen f\xfcr intelligente Funktionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.image.superResolution",en:"Super-Resolution",de:"Hochskalieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Super-r\xe9solution","it-x-swisspost":"Ridimensionare"},{key:"action.loop.enable",en:"Enable Loop",de:"Loop aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.loop.disable",en:"Disable Loop",de:"Loop deaktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.mute",en:"Mute",de:"Ton aus","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.page.add",en:"Add Page",de:"Neue Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Ajouter une page","it-x-swisspost":"Aggiungere pagina"},{key:"action.page.changeFormat",en:"Change Page Format",de:"Seitenformat \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Modifier le format de la page","it-x-swisspost":"Modificare formato della pagina"},{key:"action.page.delete",en:"Delete Page",de:"Seite l\xf6schen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.down",en:"Move Down",de:"Runter schieben","en-x-swisspost":"","de-x-swisspost":"Hoch","fr-x-swisspost":"D\xe9placer vers le haut","it-x-swisspost":"Su"},{key:"action.pageMove.down.description",en:"Move page down",de:"Seite nach unten verschieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.left",en:"Move Left",de:"Nach links schieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.left.description",en:"Move page left",de:"Seite nach links verschieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.right",en:"Move Right",de:"Nach rechts schieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.right.description",en:"Move page right",de:"Seite nach recht verschieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.pageMove.up",en:"Move Up",de:"Hoch schieben","en-x-swisspost":"","de-x-swisspost":"Runter","fr-x-swisspost":"D\xe9placer vers le bas","it-x-swisspost":"Gi\xf9"},{key:"action.pageMove.up.description",en:"Move page up",de:"Seite nach oben verschieben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.placeholder.change",en:"Change $t(common.placeholder) constraints",de:"$t(common.placeholder) anpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.placeholder.create",en:"Create $t(common.placeholder)",de:"$t(common.placeholder) einrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.placeholder.remove",en:"Remove $t(common.placeholder)",de:"$t(common.placeholder) entfernen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.placeholder.remove",en:"Remove $t(common.placeholder)",de:"$t(common.placeholder) entfernen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.position",en:"$t(common.position)",de:"$t(common.position)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.property.reset",en:"Reset element properties to default",de:"Eigenschaften eines Elements zur\xfccksetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"R\xe9initialiser les propri\xe9t\xe9s d’un \xe9l\xe9ment","it-x-swisspost":"Ripristinare caratteristiche di un elemento"},{key:"action.property.update",en:"Update element property",de:"Eigenschaft eines Elements \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Modifier les propri\xe9t\xe9s d’un \xe9l\xe9ment","it-x-swisspost":"Modificare caratteristica di un elemento"},{key:"action.resize",en:"Resize",de:"Gr\xf6\xdfe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.scene.load",en:"Load Scene",de:"Szene geladen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.scene.new",en:"New Scene",de:"Neue Szene","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.selectGroup",en:"Select Group",de:"Gruppe ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.setAsClip",en:"Set as Clip",de:"Als Clip festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.setAsOverlay",en:"Set as Overlay",de:"Als Overlay festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.shadow.angle.change",en:"Change shadow angle",de:"Schattenwinkel \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.shadow.angle.rotate",en:"Rotate shadow 45 degrees clockwise",de:"Schatten um 45 Grad im Uhrzeigersinn drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.shadow.blur.change",en:"Change shadow blur",de:"Schattenunsch\xe4rfe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.shadow.color.change",en:"Change shadow color",de:"Schattenfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.shadow.distance.change",en:"Change shadow distance",de:"Schattenabstand \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.showInspector",en:"Show Inspector",de:"Inspector anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.splitClip",en:"Split Clip",de:"Clip teilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.splitClip.description",en:"Split clip at current time",de:"Clip an aktueller Position teilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.strokeCornerGeometry.change",en:"Change stroke joins",de:"Konturkanten \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.strokePosition.change",en:"Change stroke position",de:"Konturposition \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.strokeStyle.change",en:"$t(property.strokeStyle.description)",de:"$t(property.strokeStyle.description)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoHeight",en:"Enable automatic height",de:"Automatische H\xf6he aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoHeight.automatic",en:"Automatic frame height was enabled",de:"Automatische Rahmenh\xf6he wurde aktiviert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoHeight.notification",en:"Frame Behavior set to Auto Height",de:"Rahmenverhalten auf automatische H\xf6he eingestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoSize",en:"Enable automatic size",de:"Automatische Gr\xf6\xdfe aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoSize.automatic",en:"Automatic frame size was enabled",de:"Textrahmen auf automatische Gr\xf6\xdfe eingestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.autoSize.notification",en:"Frame Behavior set to Auto Size",de:"Rahmenverhalten auf automatische Gr\xf6\xdfe eingestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.change",en:"Change text",de:"Text \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Modifier le texte","it-x-swisspost":"Modificare testo"},{key:"action.text.changeCase",en:"Change text case",de:"Gro\xdf- und Kleinschreibung \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.fixedFrame",en:"Enable fixed frame",de:"Feste Gr\xf6\xdfe aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.fixedFrame.automatic",en:"Frame height was set to fixed",de:"Feste Rahmengr\xf6\xdfe wurde aktiviert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.text.fixedFrame.notification",en:"Frame Behavior set to Fixed Size",de:"Rahmenverhalten auf feste Gr\xf6\xdfe eingestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.ungroup",en:"Ungroup",de:"Gruppierung aufl\xf6sen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.unmute",en:"Unmute",de:"Ton an","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"action.video.replace",en:"Replace Video",de:"Video ersetzt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.audio",en:"Audio",de:"Audio","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.cutout",en:"Cutout",de:"Schnittlinien","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.ellipse",en:"Ellipse",de:"Ellipse","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.graphic",en:"Element",de:"Element","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.group",en:"Group",de:"Gruppe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.image",en:"Image",de:"Bild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Image","it-x-swisspost":"Immagine"},{key:"block.line",en:"Line",de:"Linie","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Ligne","it-x-swisspost":"Linea"},{key:"block.page",en:"Page",de:"Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.polygon",en:"Polygon",de:"Mehreck","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Polygone","it-x-swisspost":"Poligono"},{key:"block.rect",en:"Rectangle",de:"Rechteck","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Rectangle","it-x-swisspost":"Rettangolo"},{key:"block.scene",en:"Document",de:"Dokument","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.star",en:"Star",de:"Stern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"\xc9toile","it-x-swisspost":"Stella"},{key:"block.sticker",en:"Sticker",de:"Sticker","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Sticker","it-x-swisspost":"Sticker"},{key:"block.text",en:"Text",de:"Text","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Texte","it-x-swisspost":"Testo"},{key:"block.vector_path",en:"Path",de:"Pfad","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"block.video",en:"Video",de:"Video","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"color.aqua",en:"Aqua",de:"T\xfcrkis","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Turquoise","it-x-swisspost":"Azzurro"},{key:"color.black",en:"Black",de:"Schwarz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"color.blue",en:"Blue",de:"Blau","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"bleu","it-x-swisspost":"blu"},{key:"color.blue",en:"Blue",de:"Blau","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Bleu","it-x-swisspost":"Blu"},{key:"color.cyan",en:"Cyan",de:"Cyan","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"color.green",en:"Green",de:"Gr\xfcn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"vert","it-x-swisspost":"verde"},{key:"color.green",en:"Green",de:"Gr\xfcn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Vert","it-x-swisspost":"Verde"},{key:"color.magenta",en:"Magenta",de:"Magenta","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Magenta","it-x-swisspost":"Magenta"},{key:"color.orange",en:"Orange",de:"Orange","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Orange","it-x-swisspost":"Arancione"},{key:"color.purple",en:"Purple",de:"Lila","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Mauve","it-x-swisspost":"Lilla"},{key:"color.red",en:"Red",de:"Rot","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"rouge","it-x-swisspost":"rosso"},{key:"color.transparent",en:"Transparent",de:"Transparent","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"color.yellow",en:"Yellow",de:"Gelb","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Jaune","it-x-swisspost":"Giallo"},{key:"common.add",en:"Add",de:"Hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.advanced",en:"Advanced",de:"Erweitert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.arrange",en:"Arrange",de:"Anordnen","en-x-swisspost":"Layer","de-x-swisspost":"Ebene","fr-x-swisspost":"D\xe9placer","it-x-swisspost":"Livello"},{key:"common.axis.x",en:"X",de:"X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.axis.y",en:"Y",de:"Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.back",en:"Back",de:"Zur\xfcck","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Retour","it-x-swisspost":"Indietro"},{key:"common.cancel",en:"Cancel",de:"Abbrechen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.close",en:"Close",de:"Schlie\xdfen","en-x-swisspost":"","de-x-swisspost":"Schliessen","fr-x-swisspost":"Fermer","it-x-swisspost":"Chiudere"},{key:"common.cmyk",en:"CMYK",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.color",en:"Color",de:"Farbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.colorValue",en:"Color Value",de:"Farbwert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Valeur de couleur","it-x-swisspost":"Valore cromatico"},{key:"common.confirm",en:"Confirm",de:"OK","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.controlKey",en:"Ctrl",de:"Strg","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.custom",en:"Custom",de:"Eigene","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.defaultDuration",en:"Default Page Duration",de:"Seitendauer Standardwert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.defaultDuration.inUnit",en:"Default Page Duration in seconds",de:"Seitendauer Standardwert in Sekunden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.delete",en:"Delete",de:"L\xf6schen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Supprimer","it-x-swisspost":"Cancellare"},{key:"common.done",en:"Done",de:"Fertig","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.download",en:"Download",de:"Download","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"T\xe9l\xe9charger","it-x-swisspost":"Scaricare"},{key:"common.duplicate",en:"Duplicate",de:"Duplizieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Dupliquer","it-x-swisspost":"Duplicare"},{key:"common.edit",en:"Edit",de:"Editieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"\xc9diter","it-x-swisspost":"Modificare"},{key:"common.editColor",en:"Edit Color",de:"Farbe bearbeiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.export",en:"Export",de:"Export","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Exporter","it-x-swisspost":"Esportare"},{key:"common.fill",en:"Fill",de:"F\xfcllung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.formats",en:"Formats",de:"Formate","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Formats","it-x-swisspost":"Formati"},{key:"common.height",en:"Height",de:"H\xf6he","en-x-swisspost":"H","de-x-swisspost":"H","fr-x-swisspost":"H","it-x-swisspost":"H"},{key:"common.height.inUnit",en:"Height in {{unit}}",de:"H\xf6he in {{unit}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Hauteur en {{unit}}","it-x-swisspost":"Altezza in {{unit}}"},{key:"common.hue",en:"Hue",de:"Farbton","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Teinte","it-x-swisspost":"Ombra"},{key:"common.image",en:"Image",de:"Bild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.inch",en:"Inch",de:"Zoll","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.load",en:"Load",de:"Laden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Charger","it-x-swisspost":"Caricare"},{key:"common.lock",en:"Lock",de:"Sperren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Verrouiller","it-x-swisspost":"Bloccare"},{key:"common.millimeter",en:"Millimeter",de:"Millimeter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.mixed",en:"Mixed",de:"Verschiedene","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.mode.design",en:"Design",de:"Design","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.mode.preview",en:"Preview",de:"Vorschau","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.mode.template",en:"Template",de:"Vorlage","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.more",en:"More",de:"Mehr","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.nearestColorName",en:"Nearest color name",de:"\xc4hnlichste Farbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.off",en:"Off",de:"Aus","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.on",en:"On",de:"An","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.opacity",en:"Opacity",de:"Deckkraft","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Opacit\xe9","it-x-swisspost":"Opacit\xe0"},{key:"common.page",en:"Page",de:"Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Page","it-x-swisspost":"Pagina"},{key:"common.pause",en:"Pause",de:"Pausieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.pixel",en:"Pixel",de:"Pixel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.pixelScale",en:"Pixel Scale",de:"Pixelskalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.placeholder",en:"Placeholder",de:"Platzhalter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.play",en:"Play",de:"Abspielen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.position",en:"Position",de:"Position","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Position","it-x-swisspost":"Posizione"},{key:"common.presets",en:"Presets",de:"Presets","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.properties",en:"Properties",de:"Eigenschaften","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.property",en:"Property",de:"Eigenschaft","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.redo",en:"Redo",de:"Wiederherstellen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Restaurer","it-x-swisspost":"Ripristinare"},{key:"common.reloadPage",en:"Reload Page",de:"Seite neu laden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Recharger la page","it-x-swisspost":"Ricarica la pagina"},{key:"common.replace",en:"Replace",de:"Ersetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Remplacer","it-x-swisspost":"Sostituire"},{key:"common.reset",en:"Reset",de:"Zur\xfccksetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.resolution",en:"Resolution",de:"Aufl\xf6sung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.role",en:"Role",de:"Rolle","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.role.adopter",en:"Adopter",de:"Adopter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.role.creator",en:"Creator",de:"Creator","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.role.presenter",en:"Presenter",de:"Presenter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.role.viewer",en:"Viewer",de:"Viewer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.rotateAndFlip",en:"$t(common.rotation) & $t(property.flip)",de:"$t(common.rotation) & $t(property.flip)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.rotation",en:"Rotate",de:"Drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Rotation","it-x-swisspost":"Rotazione"},{key:"common.rotation.inUnit",en:"$t(common.rotation) in degrees",de:"$t(common.rotation) in Grad","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Rotation en degr\xe9s","it-x-swisspost":"Rotazione in gradi"},{key:"common.save",en:"Save",de:"Speichern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Sauvegarder","it-x-swisspost":"Salvare"},{key:"common.select",en:"Select",de:"Ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.size",en:"Size",de:"Gr\xf6\xdfe","en-x-swisspost":"","de-x-swisspost":"Gr\xf6sse","fr-x-swisspost":"Taille","it-x-swisspost":"Dimensione"},{key:"common.spotColor",en:"Spot Color",de:"Sonderfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.srgb",en:"RGB",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.style",en:"Style",de:"Style","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Style","it-x-swisspost":"Stile"},{key:"common.tint",en:"Tint",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.transform",en:"Transform",de:"Transformieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.trim",en:"Trim",de:"Schneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.undo",en:"Undo",de:"R\xfcckg\xe4ngig","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Annuler","it-x-swisspost":"Annullare"},{key:"common.unit",en:"Unit",de:"Einheit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.unit.description",en:"Unit of measurement",de:"Gr\xf6\xdfeneinheit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.unlock",en:"Unlock",de:"Entsperren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"D\xe9verrouiller","it-x-swisspost":"Sbloccare"},{key:"common.video",en:"Video",de:"Video","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"common.width",en:"Width",de:"Breite","en-x-swisspost":"W","de-x-swisspost":"B","fr-x-swisspost":"B","it-x-swisspost":"B"},{key:"common.width.inUnit",en:"Width in {{unit}}",de:"Breite in {{unit}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Largeur en {{unit}}","it-x-swisspost":"Larghezza in {{unit}}"},{key:"component.alignAndArrange",en:"Move & Align",de:"Bewegen & Ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelAutoCloseSettings",en:"After Insert",de:"Nach dem Hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelAutoCloseSettings.false",en:"Keep Open",de:"Offen lassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelAutoCloseSettings.false.description",en:"Keep the asset library panel open after an asset was inserted",de:"Die Bibliothek offen lassen nachdem ein Asset eingef\xfcgt wurde","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelAutoCloseSettings.true",en:"Close",de:"Schlie\xdfen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelAutoCloseSettings.true.description",en:"Close the asset library panel after an asset was inserted",de:"Die Bibliothek schlie\xdfen nachdem ein Asset eingef\xfcgt wurde","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelFloatingSettings",en:"Behavior",de:"Verhalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelFloatingSettings.fixed",en:"Fixed",de:"Fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelFloatingSettings.fixed.description",en:"The insert library is fixed side by side with the canvas",de:"Die Bibliothek beim Einf\xfcgen ist nebem der Arbeitsfl\xe4che fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelFloatingSettings.floating",en:"Floating",de:"Schwebend","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetPanelFloatingSettings.floating.description",en:"The insert library floats over the canvas",de:"Die Bibliothek beim Einf\xfcgen schwebt \xfcber der Arbeitsfl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings",en:"Assets",de:"Assets","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.adjustments",en:"Adjustments",de:"Farbkorrektur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.blur",en:"Blur",de:"Weichzeichner","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.crop",en:"Crop",de:"Zuschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.effects",en:"Effects",de:"Effekte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.filters",en:"Filters",de:"Filter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.opacity",en:"$t(common.opacity)",de:"$t(common.opacity)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.text.advanced",en:"Text Advanced",de:"Erweiterte Texteinstellung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.text.color",en:"Text Color",de:"Textfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.assetSettings.transform",en:"Transform",de:"Transformieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.properties",en:"Audio Properties",de:"Audio Eigenschaften","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.source",en:"Original",de:"Original","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim",en:"Trim Audio",de:"Audio schneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim.description",en:"Adjust Audio Trim",de:"Audio Schnittl\xe4nge festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim.duration",en:"Trim Duration",de:"Schnittl\xe4nge","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim.duration.description",en:"Set trimmed audio duration",de:"Schnittl\xe4nge festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim.play",en:"$t(common.play)",de:"$t(common.play)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.audio.trim.play.description",en:"$t(common.play) trimmed audio",de:"Zu k\xfcrzendes Audio $t(common.play)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.canvas",en:"Editor canvas",de:"Editor Leinwand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"\xc9diteur \xe9cran","it-x-swisspost":"Schermo editor"},{key:"component.canvas.openLibrary",en:"Add Elements",de:"Element hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.canvas.state.error",en:"Editor engine could not be loaded",de:"Engine des Editors konnte nicht geladen werden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.canvas.state.loading",en:"Loading Editor",de:"Editor wird geladen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.canvas.state.loading.description",en:"Just a few seconds...",de:"Nur ein paar Sekunden...","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.canvas.state.unsupported",en:"Browser is not supported",de:"Ihr Browser wird nicht unterst\xfctzt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Votre navigateur n’est pas pris en charge!","it-x-swisspost":"Il browser non \xe8 supportato"},{key:"component.colorPicker.colorItem",en:"Color item {{index}}",de:"Farbelement {{index}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"\xc9l\xe9ment de couleur {{index}}","it-x-swisspost":"Voce di colore {{index}}"},{key:"component.colorPicker.colorItem.description",en:"Click to use this color ({{color}})",de:"Klicken um diese Farbe zu verwenden ({{color}})","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorPicker.colorItem.hexInput",en:"Hex",de:"Hex","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Hex","it-x-swisspost":"Hex"},{key:"component.colorPicker.colorItem.transparent",en:"Color item {{index}}, Color name: transparent",de:"Farbelement {{index}}, Farbname: Transparent","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"\xc9l\xe9ment de couleur {{index}}, nom de la couleur: transparent","it-x-swisspost":"Voce di colore {{index}}, nome del colore: trasparente"},{key:"component.colorPicker.description",en:"Change color",de:"Farbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Changer la couleur","it-x-swisspost":"Cambiare colore"},{key:"component.colorPicker.hsl.description",en:"{{componentName}}, $t(common.nearestColorName): {{nearestColorName}}; $t(common.colorValue): hue: {{hue}}\xb0, saturation: {{saturation}}%, lightness: {{lightness}}% ",de:"{{componentName}}, $t(common.nearestColorName): {{nearestColorName}}; $t(common.colorValue): Farbwert: {{hue}}\xb0, Farbs\xe4ttigung: {{saturation}}%, Helligkeit: {{lightness}}%","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"{{componentName}}, $t(common.nearestColorName): {{nearestColorName}}","it-x-swisspost":"$t(common.colorValue): hue: {{hue}}\xb0, saturation: {{saturation}}%, lightness: {{lightness}}%"},{key:"component.colorPicker.hueGradient",en:"Hue Gradient Selection",de:"Farbverlaufston-Auswahl","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Gradient de teinte","it-x-swisspost":"Gradiente di tonalit\xe0"},{key:"component.colorSchemeSelect.accent",en:"Accent Color",de:"Akzentfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorSchemeSelect.accent.description",en:"Change accent color",de:"Akzentfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorSchemeSelect.active",en:"Active Color",de:"Aktivfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorSchemeSelect.active.description",en:"Change active color",de:"Aktivfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorSchemeSelect.background",en:"Background Color",de:"Hintergrundfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.colorSchemeSelect.background.description",en:"Change background color",de:"Hintergrundfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill",en:"$t(common.fill)",de:"$t(common.fill)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.color",en:"$t(common.color)",de:"$t(common.color)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.color.description",en:"Change Fill Color",de:"F\xfcllfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.image",en:"$t(common.image)",de:"$t(common.image)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.options",en:"Fill type options",de:"F\xfcllungstypoptionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.options.description",en:"Change Fill Type",de:"F\xfcllungstyp \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.contentFill.video",en:"$t(common.video)",de:"$t(common.video)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.cutout",en:"Settings",de:"Einstellungen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dnd.description",en:"The added files are stored in the library",de:"Die hochgeladenen Dateien werden in der Bibliothek gespeichert","en-x-swisspost":"","de-x-swisspost":"Die hochgeladenen Dateien werden unter '$t(component.topbar.image.label)' gespeichert","fr-x-swisspost":"Les fichiers charg\xe9s sont enregistr\xe9s sous '$t(component.topbar.image.label)'","it-x-swisspost":"I file caricati vengono salvati sotto '$t(component.topbar.image.label)'"},{key:"component.dnd.prompt",en:"Drag File Here",de:"Dateien hier hinziehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"D\xe9placer les fichiers ici","it-x-swisspost":"Trascinare i file qui"},{key:"component.dockIconSizeSelect",en:"Dock Icon Scaling",de:"Dock Icon Skalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockIconSizeSelect.large",en:"Large",de:"Gro\xdf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockIconSizeSelect.large.description",en:"Select large dock icon scaling",de:"Gro\xdfe Dock Icon Skalierung ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockIconSizeSelect.normal",en:"Normal",de:"Normal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockIconSizeSelect.normal.description",en:"Select normal dock icon scaling",de:"Normale Dock Icon Skalierung ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockLabelVisibilityToggle",en:"Dock Labels",de:"Dock Labels","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockLabelVisibilityToggle.hide",en:"Hide",de:"Ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockLabelVisibilityToggle.hide.description",en:"Hide labels for dock buttons",de:"Beschriftungen der Dock Buttons ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockLabelVisibilityToggle.show",en:"Show",de:"Anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.dockLabelVisibilityToggle.show.description",en:"Show labels for dock buttons",de:"Beschriftungen der Dock Buttons anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.archiveScene",en:"Export Archive",de:"Archiv Exportieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.exportImage",en:"Export Images",de:"Bild Exportieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.exportPDF",en:"Export PDF",de:"PDF Exportieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.exportScene",en:"Export Design",de:"Design Exportieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.exportVideo",en:"Export Video",de:"Video Exportieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.importScene",en:"Import Design",de:"Design Importieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.importArchive",en:"Import Archive",de:"Archiv Importieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.more",en:"Show more options",de:"Weitere Optionen anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.fileOperation.save",en:"$t(common.save)",de:"$t(common.save)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.save)","it-x-swisspost":"$t(common.save)"},{key:"component.fileOperation.share",en:"Share as Template",de:"Als Vorlage teilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorBar",en:"Inspector Bar",de:"Inspectorbalken","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPositionSelect",en:"$t(common.position)",de:"$t(common.position)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPositionSelect.left",en:"Left",de:"Links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPositionSelect.left.description",en:"Select the inspector to be on the left side",de:"Inspector auf der linken Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPositionSelect.right",en:"Right",de:"Rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPositionSelect.right.description",en:"Select the inspector to be on the right side",de:"Inspector auf der rechten Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPanelFloatingSettings",en:"Behavior",de:"Verhalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPanelFloatingSettings.fixed",en:"Fixed",de:"Fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPanelFloatingSettings.fixed.description",en:"The inspector is fixed side by side with the canvas",de:"Der Inspector ist nebem der Arbeitsfl\xe4che fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPanelFloatingSettings.floating",en:"Floating",de:"Schwebend","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.inspectorPanelFloatingSettings.floating.description",en:"The inspector floats over the canvas",de:"Der Inspector schwebt \xfcber der Arbeitsfl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.languageSelect",en:"Language",de:"Sprache","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.languageSelect.description",en:"Select language",de:"Sprache ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library",en:"Library",de:"Bibliothek","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.addFile",en:"Add File",de:"Hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.breadcrumbRoot",en:"All",de:"Alle","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.clearSearch",en:"Clear search",de:"Suchen leeren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.elements",en:"Elements",de:"Elemente","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.enterSection",en:"Enter section",de:"Bereich \xf6ffnen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.error",en:"Cannot connect to asset source",de:"Keine Verbindung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.loading",en:"Loading …",de:"Lade …","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.noItems",en:"No Elements",de:"Keine Elemente vorhanden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.noMoreItems",en:"No More Elements",de:"Keine weiteren Elemente","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.removeAssetConfirmation",en:"Do you want to permanently delete this Asset?",de:"Wollen Sie diese Datei permanent l\xf6schen?","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.removeAssetConfirmation.description",en:"This action cannot be undone.",de:"Dies kann nicht r\xfcckg\xe4ngig gemacht werden.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.library.searchPlaceholder",en:"Search …",de:"Suchen …","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings",en:"Libraries",de:"Bibliotheken","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings.elementLibrary",en:"Element Library",de:"Element-Bibliothek","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings.imageLibrary",en:"Image Library",de:"Bilder-Bibliothek","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings.templateLibrary",en:"$t(component.templateLibrary)",de:"$t(component.templateLibrary)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings.textLibrary",en:"Text Library",de:"Text-Bibliothek","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.librarySettings.uploadLibrary",en:"Upload Library",de:"Upload-Bibliothek","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageSettings",en:"Page",de:"Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageSettings.format",en:"Format Pages",de:"Seiten formatieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageSettings.manage",en:"Manage Pages",de:"Seiten verwalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleVisibilityToggle",en:"Label",de:"Beschriftung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleVisibilityToggle.hide",en:"Hide",de:"Ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleVisibilityToggle.hide.description",en:"Hide page label",de:"Label einer Seite ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleVisibilityToggle.show",en:"Show",de:"Anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleVisibilityToggle.show.description",en:"Show page label",de:"Label einer Seite anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleDefaultTitleVisibilityToggle",en:"Title",de:"Titel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleDefaultTitleVisibilityToggle.hide",en:"Hide",de:"Ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleDefaultTitleVisibilityToggle.hide.description",en:"Hide the page title",de:"Den Seitentitel ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleDefaultTitleVisibilityToggle.show",en:"Show",de:"Anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleDefaultTitleVisibilityToggle.show.description",en:"Show the page title",de:"Den Seitentitel anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleShowOnSinglePageToggle",en:"Label on Single Page",de:"Label auf einer einzelnen Seite anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleShowOnSinglePageToggle.hide",en:"No",de:"Nein","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleShowOnSinglePageToggle.hide.description",en:"Hide page title when only a single page is given",de:"Titel einer Seite ausblenden wenn nur eine Seite vorhanden ist","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleShowOnSinglePageToggle.show",en:"Yes",de:"Ja","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleShowOnSinglePageToggle.show.description",en:"Show page title when only a single page is given",de:"Titel einer Seite anzeigen wenn nur eine Seite vorhanden ist","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleAppendPageNameToggle",en:"Name",de:"Name","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleAppendPageNameToggle.hide",en:"Hide",de:"Ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleAppendPageNameToggle.hide.description",en:"Don't show the page name in the title",de:"Den Seitennamen im Titel einer Seite nicht anh\xe4ngen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleAppendPageNameToggle.show",en:"Show",de:"Anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.pageTitleAppendPageNameToggle.show.description",en:"Show the page name in the title",de:"Den Seitennamen im Titel einer Seite anh\xe4ngen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.appearance",en:"Appearance",de:"Aussehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.appearance.description",en:"Enable all appearance options",de:"Alle Aussehen-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.arrange",en:"$t(common.arrange)",de:"$t(common.arrange)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.arrange.description",en:"Enable all arrange options",de:"Alle Anordnen-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.create",en:"$t(common.placeholder)",de:"$t(common.placeholder)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.disableAll",en:"Disable All",de:"Alle Aus","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.enableAll",en:"Enable All",de:"Alle An","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.fill",en:"$t(common.fill)",de:"$t(common.fill)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.fill.description",en:"Enable all fill options",de:"Alle F\xfcllungs-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.general",en:"General",de:"Allgemein","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.general.description",en:"Enable all general options",de:"Alle allgemeinen Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.settings",en:"Change $t(common.placeholder) settings",de:"Platzhaltereinstellungen \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.settingsMenu",en:"$t(common.placeholder) settings menu",de:"Platzhaltereinstellungsmen\xfc","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.shape",en:"Shape",de:"Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.shape.description",en:"Enable all shape options",de:"Alle Form-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.stroke",en:"Stroke",de:"Kontur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.stroke.description",en:"Enable all stroke options",de:"Alle Kontur-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.text",en:"Text",de:"Text","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.placeholder.text.description",en:"Enable all text options",de:"Alle Text-Optionen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.propertyPopover.header",en:"Properties",de:"Eigenschaften","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelAutoCloseSettings",en:"After Replace",de:"Nach dem Ersetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelAutoCloseSettings.false",en:"Keep Open",de:"Offen lassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelAutoCloseSettings.false.description",en:"Keep the asset library panel open after an asset was replaced",de:"Die Bibliothek offen lassen nachdem ein Asset ersetzt wurde","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelAutoCloseSettings.true",en:"Close",de:"Schlie\xdfen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelAutoCloseSettings.true.description",en:"Close the asset library panel after an asset was replaced",de:"Die Bibliothek schlie\xdfen nachdem ein Asset ersetzt wurde","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelFloatingSettings",en:"Behavior",de:"Verhalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelFloatingSettings.fixed",en:"Fixed",de:"Fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelFloatingSettings.fixed.description",en:"The replace library is fixed side by side with the canvas",de:"Die Bibliothek beim Ersetzen ist nebem der Arbeitsfl\xe4che fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelFloatingSettings.floating",en:"Floating",de:"Schwebend","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.replacePanelFloatingSettings.floating.description",en:"The replace library floats over the canvas",de:"Die Bibliothek beim Ersetzen schwebt \xfcber der Arbeitsfl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.roleSelect",en:"$t(common.role)",de:"$t(common.role)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.roleSelect.description",en:"Select $t(common.role)",de:"$t(common.role) ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.scalingSelect",en:"UI Scaling",de:"UI Skalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.scalingSelect.large",en:"Large",de:"Gro\xdf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.scalingSelect.large.description",en:"Select large scaling",de:"Gro\xdfe Skalierung ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.scalingSelect.normal",en:"Normal",de:"Normal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.scalingSelect.normal.description",en:"Select normal scaling",de:"Normale Skalierung ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settings.toggle",en:"Customize Editor",de:"Editor anpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settings.toggle.description",en:"Open settings to customize editor",de:"Einstellungen \xf6ffnen um den Editor anzupassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.appearance",en:"Appearance",de:"Aussehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.pageLabel",en:"Page Label",de:"Seitenbeschriftung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.page",en:"Page",de:"Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.assetPanel",en:"Library Panel",de:"Bibliotheksleiste","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.dock",en:"Dock",de:"Dock","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.documentation",en:"Documentation",de:"Dokumentation","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.general",en:"General",de:"Generell","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.header",en:"Customize Editor",de:"Editor anpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.inspectorPanel",en:"Inspector Panel",de:"Inspektorleiste","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.replacePanel",en:"Replace Panel",de:"Ersetzungsleiste","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.singlePageMode",en:"Single Page Mode",de:"Einzelseitenmodus","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.settingsPanel.singlePageVisibilitySelect",en:"Active Page",de:"Aktuelle Seite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect",en:"Theme",de:"Farbschema","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.dark",en:"Dark",de:"Dunkel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.dark.description",en:"Select dark theme",de:"Dunkles Farbschema ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.dialog",en:"Generated CSS Custom Properties",de:"Generierte CSS Custom Properties","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.dialog.description",en:"$t(component.themeSelect.dialog)",de:"$t(component.themeSelect.dialog)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.generate",en:"Generate CSS",de:"Generiere CSS","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.light",en:"Light",de:"Hell","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.themeSelect.light.description",en:"Select light theme",de:"Helles Farbschema ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.expand",en:"Expand Timeline",de:"Zeitleiste ausklappen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.collapse",en:"Collapse Timeline",de:"Zeitleiste einklappen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.label",en:"Timeline",de:"Zeitleiste","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.audio.options.description",en:"Audio Element Options",de:"Audio-Element Optionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.pause.description",en:"$t(common.pause) complete video",de:"Gesamtes Video $t(common.pause)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.play.description",en:"$t(common.play) complete video",de:"Gesamtes Video $t(common.play)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.down",en:"Reduce",de:"Verkleinern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.down.description",en:"Reduce Timeline Scale",de:"Zeitleiste Ma\xdfstab verkleinern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.fit",en:"Fit View",de:"Ansicht einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.fit.description",en:"Fit Video to Timeline",de:"Zeitleiste an Video einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.label",en:"Timeline Scale",de:"Zeitleiste Ma\xdfstab","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.up",en:"Enlarge",de:"Vergr\xf6\xdfern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.scale.up.description",en:"Enlarge Timeline Scale",de:"Zeitleiste Ma\xdfstab vergr\xf6\xdfern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.timeline.video.options.description",en:"Video Element Options",de:"Video-Element Optionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.topbar.back",en:"$t(common.back)",de:"$t(common.back)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.back)","it-x-swisspost":"$t(common.back)"},{key:"component.topbar.close",en:"$t(common.close)",de:"$t(common.close)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.close)","it-x-swisspost":"$t(common.close)"},{key:"component.undo.redo",en:"$t(common.redo)",de:"$t(common.redo)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.undo.undo",en:"$t(common.undo)",de:"$t(common.undo)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.properties",en:"Video Properties",de:"Video Eigenschaften","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.source",en:"Original",de:"Original","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim",en:"Trim Video",de:"Video schneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim.description",en:"Adjust Video Trim",de:"Audio Schnittl\xe4nge festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim.duration",en:"Trim Duration",de:"Schnittl\xe4nge","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim.duration.description",en:"Set trimmed video duration",de:"Schnittl\xe4nge festlegen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim.play",en:"$t(common.play)",de:"$t(common.play)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.trim.play.description",en:"$t(common.play) trimmed video",de:"Zu k\xfcrzendes Video $t(common.play)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.unsupported",en:"Video Not Supported",de:"Video nicht unterst\xfctzt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.video.unsupported.description",en:"<p>We do not support video editing for your current browser right now.</p><p>While we are working to support every major browser, please use a supported browser like the latest Google Chrome, Microsoft Edge, or another Chromium-based browser.</p>",de:"<p>Wir unterst\xfctzen das Editieren von Videos nicht in diesem Browser.</p><p>W\xe4hrend wir daran arbeiten weitere Browser zu unterst\xfctzen, benutzen Sie bitte Google Chrome, Microsoft Edge oder andere Chromium-basierte Browser.</p>","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.viewSelect",en:"View",de:"Ansicht","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.viewSelect.advanced",en:"Advanced",de:"Advanced","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.viewSelect.advanced.description",en:"Always show the inspector",de:"Den Inspektor immer anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.viewSelect.default",en:"Default",de:"Default","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.viewSelect.default.description",en:"Hide the inspector if possible",de:"Den Inspektor m\xf6glichst verbergen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.welcome.text",en:"<p>Welcome to CE.SDK.</p><p>Get creative by adding an <strong>Image</strong>, <strong>Text</strong> or <strong>Element</strong> from the asset library.</p>",de:"<p>Willkommen bei CE.SDK.</p><p>Werde kreativ und f\xfcge ein <strong>Bild</strong>, <strong>Text</strong> oder <strong>Element</strong> aus der Asset Bibliothek.</p>","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.autoFit",en:"Auto-Fit Page",de:"Seite Auto-Einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.fitPage",en:"Fit Page",de:"Seite Einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.fitSelection",en:"Fit Selection",de:"Auswahl Einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.in",en:"Zoom In",de:"Einzoomen","en-x-swisspost":"","de-x-swisspost":"Rein zoomen","fr-x-swisspost":"Zoom avant","it-x-swisspost":"Avvicinare"},{key:"component.zoom.label.auto",en:"Auto",de:"Auto","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.options",en:"See more zoom options",de:"Weitere Zoom Optionen anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.out",en:"Zoom Out",de:"Auszoomen","en-x-swisspost":"","de-x-swisspost":"Raus zoomen","fr-x-swisspost":"Zoom arri\xe8re","it-x-swisspost":"Allontanare"},{key:"component.zoom.shortcut",en:"or press {{shortcut}}",de:"oder dr\xfccke {{shortcut}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"component.zoom.to",en:"{{percentage}}% Zoom",de:"{{percentage}}% Zoom","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.title",en:"Export in progress",de:"Export l\xe4uft","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.message",en:"In order for the export to succeed, please do not leave or close this browser tab.",de:"Bitte verlassen oder schlie\xdfen Sie den Browser-Tab nicht, um den Exprot erfolgreich abzuschlie\xdfen.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.action",en:"Cancel Export",de:"Export Abbrechen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.abort.title",en:"Do you want to cancel the export?",de:"M\xf6chten Sie den Export wirklich abbrechen?","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.abort.message",en:"You’ll have to restart the export again as it can’t run in the background.",de:"Der Export m\xfcsste neugestartet werden, da er nicht im Hintergrund ausgef\xfchrt werden kann.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.success.title",en:"Export complete",de:"Export abgeschlossen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.success.message",en:"You can close this dialog.",de:"Sie k\xf6nnen diesen Dialog schlie\xdfen.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.error.title",en:"Something Went Wrong",de:"Da ist etwas schiefgelaufen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.error.message.1",en:"We were unable to prepare your export due to insufficient resources.",de:"Der Export konnte auf Grund fehlender Resoursen nicht durchgef\xfchrt werden.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"dialog.export.error.message.2",en:"Please try again later or consider lowering the scene resolution.",de:"Bitte versuchen Sie es sp\xe4ter noch einmal oder reduzieren Sie die Aufl\xf6sung.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"editor.scope.global",en:"CE.SDK",de:"CE.SDK","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"editor.scope.canvas",en:"Canvas",de:"Arbeitsfl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"editor.scope.videoTimeline",en:"Video Timeline",de:"Video-Zeitleiste","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"element.transform.resize",en:"$t(action.block.resize)",de:"$t(action.block.resize)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(action.block.resize)","it-x-swisspost":"$t(action.block.resize)"},{key:"element.transform.rotate",en:"$t(action.block.rotate)",de:"$t(action.block.rotate)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(action.block.rotate)","it-x-swisspost":"$t(action.block.rotate)"},{key:"error.applyAsset",en:"Error Applying Asset",de:"Fehler beim Anwenden des Assets","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.applyAsset.description",en:"We encountered an error while trying to apply the asset",de:"Wir haben einen Fehler beim Anwenden des Assets festgestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.effectlessDifference",en:"Substract will result in an unchanged shape",de:"Differenz resultiert in unver\xe4nderter Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.effectlessDifference.description",en:"Make sure that all selected elements overlap or perform actions step by step with two elements at a time.",de:"Stellen Sie sicher das alle ausgew\xe4hlten Elemente \xfcberlappen oder f\xfchren Sie die Operation Schritt f\xfcr Schritt mit jeweils zwei Elementen durch.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.effectlessUnion",en:"Union will result in an unchanged shape",de:"Vereinigung resultiert in unver\xe4nderter Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.effectlessUnion.description",en:"Make sure that other elements are not totally within the bottom most shape.",de:"Stellen Sie sicher das die anderen Elemente sich nicht vollst\xe4ndig innerhalb der untersten Form befinden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.emptyShape",en:"Operation will result in an empty shape",de:"Operation resultiert in leerer Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.booleanOperation.emptyShape.description",en:"Make sure that all selected elements overlap or perform actions step by step with two elements at a time.",de:"Stellen Sie sicher das alle ausgew\xe4hlten Elemente \xfcberlappen oder f\xfchren Sie die Operation Schritt f\xfcr Schritt mit jeweils zwei Elementen durch.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.cta.generic",en:"Error",de:"Fehler","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.cta.generic.description",en:"The action has encountered an unknown error. Please try again.",de:"Ein unbekannter Fehler beim Ausf\xfchren dieser Aktion ist aufgetreten. Bitte versuchen Sie es erneut.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.generic",en:"Unknown Error",de:"Fehler aufgetreten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Erreur inconnue","it-x-swisspost":"Errore sconosciuto"},{key:"error.generic.description",en:"The application has encountered an unknown error. Please try to reload the page",de:"Ein unbekannter Fehler ist aufgetreten. Bitte versuchen Sie die Seite neu zu laden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Une erreur inconnue s’est produite. Veuillez essayer de red\xe9marrer la page.","it-x-swisspost":"Si \xe8 verificato un errore sconosciuto. Si prega di provare a riavviare la pagina."},{key:"error.replaceAsset",en:"Error Replacing Asset",de:"Fehler beim Ersetzen des Assets","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.replaceAsset.description",en:"We encountered an error while trying to replace the asset",de:"Wir haben einen Fehler beim Ersetzen des Assets festgestellt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"error.upload",en:"Cannot upload file",de:"Fehler beim Upload","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Impossible de t\xe9l\xe9charger une image","it-x-swisspost":"Impossibile caricare l'immagine"},{key:"error.upload.description",en:"The file could not be uploaded",de:"Das von Ihnen gew\xe4hlte Datei konnte nicht hochgeladen werden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"L’image que vous avez s\xe9lectionn\xe9e n’a pas pu \xeatre t\xe9l\xe9charg\xe9e. Veuillez r\xe9essayer.","it-x-swisspost":"L'immagine selezionata non pu\xf2 essere caricata. Si prega di riprovare."},{key:"error.upload.sizeExceeded",en:"File exceeds the maximum size of {{limit}}x{{limit}}",de:"Es \xfcberschreitet die maximale Gr\xf6\xdfe von {{limit}}x{{limit}} Pixeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"La taille maximale de {limit}}x{{limit}} pixels est d\xe9pass\xe9e.","it-x-swisspost":"L’immagine supera la dimensione massima di {{limit}}x{{limit}} pixel."},{key:"input.adjustments",en:"Adjustments",de:"Farbkorrektur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Corrections","it-x-swisspost":"Correzioni"},{key:"input.adjustments.basic",en:"Basic",de:"Grundlagen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Bases","it-x-swisspost":"Basi"},{key:"input.adjustments.refinements",en:"Refinements",de:"Feinheiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Finitions","it-x-swisspost":"Rifiniture"},{key:"input.adjustments.tooltip",en:"Change adjustments",de:"Farbkorrektur \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.alwaysOnBottom",en:"Fixed to Back",de:"Im Hintergrund fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Toujours au arri\xe8re-plan  Sempre sullo sfondo","it-x-swisspost":""},{key:"input.alwaysOnTop",en:"Fixed to Front",de:"Im Vordergrund fixiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Toujours au premier plan","it-x-swisspost":"Sempre in primo piano"},{key:"input.animations",en:"Animations",de:"Animationen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.animations.description",en:"Choose animations",de:"Animationen ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.appearance",en:"Appearance",de:"Aussehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.aspectLock",en:"Lock proportions",de:"Proportionen beibehalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.aspectLock.description",en:"Toggle proportion lock",de:"Proportionen beibehalten / frei","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.audio.duration.description",en:"Audio Duration",de:"Audio-Dauer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.audio.duration.reset",en:"Reset audio duration",de:"Audio-Dauer zur\xfccksetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.audio.mute",en:"Audio Mute",de:"Audio stummschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.bleedMargin.select",en:"Select bleed margins",de:"Anschnitt ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"S\xe9lectionner les bordures","it-x-swisspost":"Selezionare i margini al vivo"},{key:"input.blur",en:"Blur",de:"Weichzeichner","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.blur.tooltip",en:"Change blur",de:"Weichzeichner \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.booleanoperations",en:"Combine",de:"Kombinieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.booleanoperations.exclude",en:"Exclude",de:"Teilen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.booleanoperations.intersect",en:"Intersect",de:"Schnittmenge","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.booleanoperations.subtract",en:"Subtract",de:"Differenz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.booleanoperations.union",en:"Union",de:"Vereinigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.canvas",en:"Canvas",de:"Arbeitsfl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(block.scene)","it-x-swisspost":"$t(block.scene)"},{key:"input.character",en:"Character",de:"Schrift","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipContent",en:"Clip Content",de:"Inhalt beschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipContent.off.description",en:"Turn clip content off",de:"Inhalt beschneiden deaktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipContent.on.description",en:"Turn clip content on",de:"Inhalt beschneiden aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipLines",en:"Clipping",de:"Kappen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipLines.off.description",en:"Turn off clipping",de:"Kappen abschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.clipLines.on.description",en:"Turn on clipping",de:"Kappen einschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.colorMode",en:"Mode",de:"Farbraum","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.colorMode.description",en:"Choose color mode",de:"Farbraum ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.cutoutOffset",en:"Offset",de:"Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.cutoutSmoothing",en:"Smoothing",de:"Gl\xe4ttung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.cutoutType",en:"Type",de:"Typ","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.cutoutType.dashed",en:"Perforated",de:"Perforiert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.cutoutType.solid",en:"Cut",de:"Schnitt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.duration",en:"Duration",de:"Dauer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.duration.description",en:"Duration in seconds",de:"Dauer in Sekunden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.effect",en:"Effect",de:"Effekt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Effet","it-x-swisspost":"Effetto"},{key:"input.effect.tooltip",en:"Change effect",de:"Effekt \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.export",en:"Export",de:"Export","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Exportation","it-x-swisspost":"Esportazione"},{key:"input.filter",en:"Filter",de:"Filter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Filtre","it-x-swisspost":"Filtro"},{key:"input.filter.tooltip",en:"Change filter",de:"Filter \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.fontSelect",en:"Selected font style: {{font}}",de:"Ausgew\xe4hlter Schrifstil: {{font}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Police de caract\xe8res s\xe9lectionn\xe9e: {{font}}","it-x-swisspost":"Tipo di carattere selezionato: {{font}}"},{key:"input.fontSelect.fallback",en:"Standard",de:"Standard","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.fontSize.select",en:"Select font size",de:"Schriftgr\xf6\xdfe ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"Schriftgr\xf6sse ausw\xe4hlen","fr-x-swisspost":"Choisir la taille des caract\xe8res","it-x-swisspost":"Selezionare la dimensione del carattere"},{key:"input.fontSize.selectMax",en:"Select biggest font size",de:"Gr\xf6\xdfte Schriftgr\xf6\xdfe ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.fontSize.selectMin",en:"Select smallest font size",de:"Kleinste Schriftgr\xf6\xdfe ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.fontStyle.toggle",en:"Toggle {{style}} style",de:"{{style}} umschalten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.activateColorStop",en:"Press space to activate",de:"Leertaste dr\xfccken zum aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.colorPosition",en:"Color Position",de:"Farbposition","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.colorStop",en:"Color Stop",de:"Farbmarker","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.colorStop.active",en:"Active Color Stop",de:"Aktiver Farbmarker","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.colorStop.description",en:"{{stopType}} {{index}} of {{total}} at {{position}}%. $t(common.nearestColorName): {{colorName}}, $t(common.colorValue): {{colorValue}}.{{action}}",de:"{{stopType}} {{index}} von {{total}} bei {{position}}%. $t(common.nearestColorName): {{colorName}}, $t(common.colorValue): {{colorValue}}.{{action}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.flip",en:"Reverse gradient color stop order",de:"Farbmarkerreihenfolge umkehren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.gradientAngle",en:"Gradient Angle",de:"Verlaufswinkel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.gradient.rotate",en:"Rotate gradient 45 degrees clockwise",de:"Verlauf um 45 Grad im Uhrzeigersinn drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.hspSelectiveAdjustments",en:"Selective Adjustments",de:"Selektive Farbkorrektur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Param\xe8tres du document","it-x-swisspost":"Impostazioni del documento"},{key:"input.insertVariable",en:"Insert Variable",de:"Variable hinzuf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Ajouter la variable","it-x-swisspost":"Inserire variabile"},{key:"input.keyShortcut",en:"To open '{{input}}', press '{{keyShortcut}}'",de:"Um den '{{input}}' Dialog zu \xf6ffnen, bet\xe4tigen Sie '{{keyShortcut}}'","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Pour ouvrir '{{input}}' la bo\xeete de dialogue, appuyez sur '{{keyShortcut}}'","it-x-swisspost":"Per aprire '{{input}}' la finestra di dialogo, premere '{{keyShortcut}}'"},{key:"input.layer",en:"Layer",de:"Ebene","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.multiSelection.notice",en:"Editing multiple items at once\nis not supported yet",de:"Mehrere Elemente k\xf6nnen nicht\ngleichzeitig bearbeitet werden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.multiSelection.title",en:"Multiple Elements ({{count}})",de:"Mehrere Elemente ({{count}})","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.options",en:"Options",de:"Optionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.options.description",en:"More options",de:"Mehr Optionen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.page.titleTemplate",en:"$t(common.page) {{number}}",de:"$t(common.page) {{number}}","en-x-swisspost":" ","de-x-swisspost":" ","fr-x-swisspost":" ","it-x-swisspost":" "},{key:"input.pages",en:"Pages",de:"Seiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.preset",en:"Format",de:"Format","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.preset.description",en:"Page format preset",de:"Seitenvorlage","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.preset.tooltip",en:"Select $t(input.preset)",de:"$(input.preset) ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.propertyToggle.disable",en:"Disable {{property}}",de:"Deaktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.propertyToggle.enable",en:"Enable {{property}}",de:"Aktivieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.propertyToggle.hidden",en:"Hidden",de:"Versteckt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.propertyToggle.visible",en:"Visible",de:"Sichtbar","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.rename",en:"Rename {{designElementName}}",de:"{{designElementName}} umbenennen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.resolution.select",en:"Select {{which}}",de:"{{which}} ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.selection",en:"Selection",de:"Auswahl","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.angle",en:"Angle",de:"Winkel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.angle.description",en:"Shadow angle",de:"Schattenwinkel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.blur",en:"Blur",de:"Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.blur.description",en:"Shadow blur",de:"Schattenunsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.description",en:"Change shadow properties",de:"Schatten \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.distance",en:"Distance",de:"Abstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.distance.description",en:"Shadow distance",de:"Schattenabstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.label",en:"Shadow",de:"Schatten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shadow.valueLabel",en:"Drop Shadow",de:"Schlagschatten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shape",en:"Shape",de:"Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.shape.options",en:"Shape Options",de:"Form anpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.showInExport",en:"Show in Export",de:"Im Export anzeigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Afficher dans l’exportation","it-x-swisspost":"Visualizzare nell’esportazione"},{key:"input.sliderInput.toggleNumberInput",en:"Display direct value input",de:"Direkte Werteingabe einblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.stroke",en:"Stroke",de:"Kontur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.text.advanced",en:"$t(common.advanced)",de:"$t(common.advanced)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.text.advanced.description",en:"Line Height, Spacing, Alignment & Sizing",de:"Zeilenh\xf6he, Abst\xe4nde, Ausrichtung & Gr\xf6\xdfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.text.placeholder",en:"Write Something",de:"Etwas aufschreiben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.time.end",en:"Time End",de:"Zeit Ende","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.time.start",en:"Time Start",de:"Zeit Anfang","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.transform",en:"$t(common.position) & $t(common.size)",de:"$t(common.position) & $t(common.size)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.transform.description",en:"Adjust position and size",de:"$t(common.position) und $t(common.size) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.typefaceSelect.description",en:"Selected font typeface: {{fontFamily}}",de:"Ausgew\xe4hlte Schriftart: {{fontFamily}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.typefaceSelect.tooltip",en:"Change typeface",de:"Schriftart \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.unit.tooltip",en:"Select $t(common.unit)",de:"$t(common.unit) ausw\xe4hlen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.uploadAudio",en:"Uploading Audio...",de:"Audio wird hochgeladen...","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.uploadFiles",en:"Uploading Files...",de:"Dateien werden hochgeladen...","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.uploadImage",en:"Uploading Image...",de:"Bild wird hochgeladen...","en-x-swisspost":"","de-x-swisspost":"Lade Bild hoch...","fr-x-swisspost":"T\xe9l\xe9chargement de l’image...","it-x-swisspost":"Caricamento immagine..."},{key:"input.uploadVideo",en:"Uploading Video...",de:"Video wird hochgeladen...","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.video",en:"Video",de:"Video","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.video.duration.description",en:"Video Duration",de:"Video Dauer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"input.video.duration.reset",en:"Reset video duration",de:"Video Dauer zur\xfccksetzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.animations.ly.img.animations.label",en:"Animations",de:"Animationen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.animations.ly.img.animations.in.label",en:"In Animations",de:"Einblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.animations.ly.img.animations.out.label",en:"Out Animations",de:"Ausblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.animations.ly.img.animations.loop.label",en:"Loop Animations",de:"Loop","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.audio.label",en:"Audio",de:"Audio","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.audio.upload.label",en:"Audio Uploads",de:"Audio Uploads","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.colors.defaultPalette.label",en:"Default Colors",de:"Standardfarben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.colors.documentColors.label",en:"Document Colors",de:"Dokumentfarben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.image.label",en:"Images",de:"Bilder","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.image.upload.label",en:"Image Uploads",de:"Bilder Uploads","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.local.label",en:"Local",de:"Lokal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.sticker.doodle.label",en:"Doodle",de:"Doodle","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.sticker.emoji.label",en:"Emoji",de:"Emoji","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.sticker.emoticons.label",en:"Emoticons",de:"Emoticons","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.sticker.hand.label",en:"Hands",de:"Hands","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.sticker.label",en:"Stickers",de:"Sticker","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.template.confirmation.abort",en:"$t(common.cancel)",de:"$t(common.cancel)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.template.confirmation.body",en:"Your content, like images and text, can not be adopted and all content will be discarded.",de:"Inhalte wie Bilder und Text k\xf6nnen nicht \xfcbernommen werden und werden dementsprechend verworfen.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.template.confirmation.confirm",en:"Yes, discard changes",de:"Ja, \xc4nderungen verwerfen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.template.confirmation.headline",en:"Replace current design?",de:"Aktuelles Design ersetzen?","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.template.label",en:"Templates",de:"Vorlagen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.text.headline.label",en:"Headline",de:"\xdcberschrift","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.text.label",en:"Text",de:"Text","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.text.paragraph.label",en:"Paragraph",de:"Absatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.text.title.label",en:"Title",de:"Titel","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.upload.label",en:"Uploads",de:"Uploads","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.vectorpath.abstract.label",en:"Abstract",de:"Abstrakt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.vectorpath.label",en:"Shapes",de:"Formen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.vectorpath.vectorpaths.label",en:"Basic",de:"Basis","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.label",en:"Videos",de:"Videos","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.template.confirmation.abort",en:"$t(common.cancel)",de:"$t(common.cancel)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.template.confirmation.body",en:"Your content, like images and text, can not be adopted and all content will be discarded.",de:"Inhalte wie Bilder und Text k\xf6nnen nicht \xfcbernommen werden und werden dementsprechend verworfen.","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.template.confirmation.confirm",en:"Yes, discard changes",de:"Ja, \xc4nderungen verwerfen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.template.confirmation.headline",en:"Replace current design?",de:"Aktuelles Design ersetzen?","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.template.label",en:"Templates",de:"Vorlagen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.ly.img.video.upload.label",en:"Video Uploads",de:"Video Uploads","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"libraries.unsplash.label",en:"Unsplash",de:"Unsplash","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"meta.currentLanguage",en:"English",de:"Deutsch","en-x-swisspost":"English (Swiss Post)","de-x-swisspost":"Deutsch (Swiss Post)","fr-x-swisspost":"Fran\xe7ais (Swiss Post)","it-x-swisspost":"Italiano (Swiss Post)"},{key:"notification.redo",en:"$t(common.redo)",de:"$t(common.redo)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.redo)","it-x-swisspost":"$t(common.redo)"},{key:"notification.undo",en:"$t(common.undo)",de:"$t(common.undo)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"$t(common.undo)","it-x-swisspost":"$t(common.undo)"},{key:"preset.document.american-legal",en:"Legal",de:"US Legal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.american-letter",en:"Letter",de:"US Letter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.business-card",en:"Business Card",de:"Visitenkarte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.custom",en:"Custom",de:"Benutzerdefiniert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a0",en:"DIN A0",de:"DIN A0","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a1",en:"DIN A1",de:"DIN A1","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a2",en:"DIN A2",de:"DIN A2","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a3",en:"DIN A3",de:"DIN A3","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a4",en:"DIN A4",de:"DIN A4","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a5",en:"DIN A5",de:"DIN A5","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a6",en:"DIN A6",de:"DIN A6","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-a65",en:"DIN A6/5",de:"DIN A6/5","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.din-b5",en:"DIN B5",de:"DIN B5","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.format2k",en:"2k Video 1080P 1:1.77",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.format4k",en:"4K (Ultra HD) 4K / 2160p 16:9",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.fullhd",en:"Full HD (FHD) 1080p 16:9",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.hd",en:"HD (High Definition) 720p 16:9",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.instagram-photo",en:"Instagram Photo",de:"Instagram Foto","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.instagram-profile",en:"Instagram Profile",de:"Instagram Profilbild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.instagram-story",en:"Instagram Story",de:"Instagram Story","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.qhd",en:"QHD (Quad HD) 1440p 16:9",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.social-feed",en:"Social Feed",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.social-story",en:"Story / Reel",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.square",en:"Square",de:"Quadratisch","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.twitter-header",en:"Twitter Header",de:"Twitter Kopfzeilenbild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.twitter-image",en:"Twitter Image",de:"Twitter Bild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.document.twitter-profile",en:"Twitter Profile",de:"Twitter Profilbild","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.blank_1",en:"Blank",de:"Leer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.business_card_1",en:"Business Card",de:"Visitenkarte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.collage_1",en:"Collage",de:"Collage","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.instagram_photo_1",en:"Instagram Photo",de:"Instagram Photo","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.instagram_story_1",en:"Instagram Story",de:"Instagram Story","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.postcard_1",en:"Postcard 1",de:"Postkarte 1","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.postcard_2",en:"Postcard 2",de:"Postkarte 2","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.poster_1",en:"Poster",de:"Poster","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"preset.template.presentation_4",en:"Presentation",de:"Pr\xe4sentation","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.adjustments.blacks",en:"Blacks",de:"Schwarz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Noirs","it-x-swisspost":"Neri"},{key:"property.adjustments.brightness",en:"Brightness",de:"Helligkeit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Luminosit\xe9","it-x-swisspost":"Luminosit\xe0"},{key:"property.adjustments.clarity",en:"Clarity",de:"Klarheit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Clart\xe9","it-x-swisspost":"Chiarezza"},{key:"property.adjustments.contrast",en:"Contrast",de:"Kontrast","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Contraste","it-x-swisspost":"Contrasto"},{key:"property.adjustments.exposure",en:"Exposure",de:"Belichtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Exposition","it-x-swisspost":"Esposizione"},{key:"property.adjustments.gamma",en:"Gamma",de:"Gamma","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Gamma","it-x-swisspost":"Gamma"},{key:"property.adjustments.highlights",en:"Highlights",de:"Lichter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Luminosit\xe9","it-x-swisspost":"Luci"},{key:"property.adjustments.saturation",en:"Saturation",de:"S\xe4ttigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Saturation","it-x-swisspost":"Saturazione"},{key:"property.adjustments.shadows",en:"Shadows",de:"Tiefen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Profondeur","it-x-swisspost":"Profondo"},{key:"property.adjustments.sharpness",en:"Sharpness",de:"Sch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Nettet\xe9","it-x-swisspost":"Nitidezza"},{key:"property.adjustments.temperature",en:"Temperature",de:"Temperatur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Temp\xe9rature","it-x-swisspost":"Temperatura"},{key:"property.adjustments.whites",en:"Whites",de:"Wei\xdf","en-x-swisspost":"","de-x-swisspost":"Weiss","fr-x-swisspost":"Blancs","it-x-swisspost":"Bianchi"},{key:"property.animation.baseline",en:"Baseline",de:"Grundlinie","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.baseline.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.baseline.direction.Up",en:"Up",de:"Nach Oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.baseline.direction.Down",en:"Down",de:"Nach Unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.baseline.direction.Left",en:"Left",de:"Nach Links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.baseline.direction.Right",en:"Right",de:"Nach Rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text",en:"Block Swipe",de:"Block Wisch","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.direction.Up",en:"Up",de:"Nach oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.direction.Down",en:"Down",de:"Nach unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.block_swipe_text.useTextColor",en:"Use Text Color",de:"Textfarbe benutzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.blur",en:"Blur",de:"Verschwimmen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.blur.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.blur.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.blur_loop",en:"Blur",de:"Verschwimmen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.blur_loop.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.breathing_loop",en:"Breathing",de:"Atmen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.breathing_loop.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.crop_zoom",en:"Crop Zoom",de:"Zugeschnittener Zoom","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.crop_zoom.scale",en:"Scale",de:"Skalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.crop_zoom.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.fade_loop",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.grow",en:"Grow",de:"Wachsen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.grow.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.grow.direction.Horizontal",en:"Horizontal",de:"Horizontal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.grow.direction.Vertical",en:"Vertical",de:"Vertikal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.grow.direction.All",en:"All",de:"Alle","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop",en:"Jump",de:"Springen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.direction.Up",en:"Up",de:"Nach oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.direction.Down",en:"Down",de:"Nach unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.jump_loop.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.merge_text",en:"Merge",de:"Zusammenf\xfcgen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.merge_text.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.merge_text.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.merge_text.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.merge_text.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.none",en:"None",de:"Ohne","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan",en:"Pan",de:"Schwenken","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.direction.Up",en:"Up",de:"Nach oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.direction.Down",en:"Down",de:"Nach unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.distance",en:"Distance",de:"Abstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pan.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pop",en:"Pop",de:"Pop","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pulsating_loop",en:"Pulsating",de:"Pulsieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.pulsating_loop.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide",en:"Slide",de:"Gleiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.distance",en:"Distance",de:"Abstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.direction.Up",en:"Up",de:"Nach oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.direction.Down",en:"Down",de:"Nach unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.slide.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin",en:"Spin",de:"Drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin.direction.Clockwise",en:"Clockwise",de:"Im Uhrzeigersinn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin.direction.CounterClockwise",en:"Counter Clockwise",de:"Gegen den Uhrzeigersinn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin_loop",en:"Spin",de:"Drehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin_loop.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin_loop.direction.Clockwise",en:"Clockwise",de:"Im Uhrzeigersinn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spin_loop.direction.CounterClockwise",en:"Counter Clockwise",de:"Gegen den Uhrzeigersinn","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.squeeze_loop",en:"Squeeze",de:"Quetschen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spread_text",en:"Spread",de:"Ausbreiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spread_text.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.spread_text.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.sway_loop",en:"Sway",de:"Schwanken","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.sway_loop.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.typewriter_text",en:"Typewriter",de:"Schreibmaschine","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.typewriter_text.writingStyle",en:"Writing Style",de:"Schreibstil","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.typewriter_text.writingStyle.Character",en:"Character",de:"Zeichen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.typewriter_text.writingStyle.Word",en:"Word",de:"Wort","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe",en:"Wipe",de:"Wischen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe.direction",en:"Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe.direction.Up",en:"Up",de:"Nach oben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe.direction.Down",en:"Down",de:"Nach unten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe.direction.Left",en:"Left",de:"Nach links","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.wipe.direction.Right",en:"Right",de:"Nach rechts","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.zoom",en:"Zoom",de:"Zoom","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animation.zoom.fade",en:"Fade",de:"Verblassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing",en:"Easing",de:"Beschleunigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.Linear",en:"Linear",de:"Linear","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInQuint",en:"Smooth accelerate",de:"Sanft beschleunigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseOutQuint",en:"Smooth decelerate",de:"Sanft abbremsen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInOutQuint",en:"Smooth natural",de:"Sanft nat\xfcrlich","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInBack",en:"Bounce away",de:"Wegspringen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseOutBack",en:"Bounce in",de:"Einspringen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInOutBack",en:"Bounce double",de:"Doppelt springen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInSpring",en:"Wiggle away",de:"Weg wackeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseOutSpring",en:"Wiggle in",de:"Hineinwackeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.animationEasing.EaseInOutSpring",en:"Wiggle double",de:"Doppelt wackeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.autoSize",en:"Frame Behavior",de:"Textrahmen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.autoSize.autoHeight.description",en:"Automatically scale the text frame's height",de:"H\xf6he des Textfeldes automatisch skalieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.autoSize.fixedFrame.description",en:"Maintain the text's frame",de:"Feste Gr\xf6\xdfe des Textfeldes","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.autoSize.autoSize.description",en:"Automatically scale the text frame’s width and height",de:"H\xf6he und Breite des Textfelds automatisch skalieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.backgroundColor",en:"Background",de:"Hintergrund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Fond","it-x-swisspost":"Sfondo"},{key:"property.backgroundColor.description",en:"Change background color",de:"Hintergrundfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.bleedMargin",en:"Bleed Margin",de:"Beschnitt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Bord de d\xe9coupe","it-x-swisspost":"Sbordatura"},{key:"property.blendMode",en:"Blend Mode",de:"\xdcberblendmodi","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Color",en:"Color",de:"Farbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.ColorBurn",en:"Color Burn",de:"Farbig nachbelichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.ColorDodge",en:"Color Dodge",de:"Farbig abwedeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Darken",en:"Darken",de:"Verdunkeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.description",en:"Selected blend mode: {{mode}}",de:"Ausgew\xe4hlter \xdcberblendmodi: {{mode}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Difference",en:"Difference",de:"Differenz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Exclusion",en:"Exclusion",de:"Ausschluss","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.HardLight",en:"Hard Light",de:"Hartes Licht","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Hue",en:"Hue",de:"Farbton","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Lighten",en:"Lighten",de:"Aufhellen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Luminosity",en:"Luminosity",de:"Luminanz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Multiply",en:"Multiply",de:"Multiplizieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Normal",en:"Normal",de:"Normal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Overlay",en:"Overlay",de:"Ineinanderkopieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.PassThrough",en:"Pass Through",de:"Durchschleifen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Saturation",en:"Saturation",de:"S\xe4tigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.Screen",en:"Screen",de:"Negativ multiplizieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.SoftLight",en:"Soft Light",de:"Weiches Licht","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blendMode.tooltip",en:"Change blend mode",de:"\xdcberblendmodi \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.extrudeBlur",en:"Extrude Blur",de:"Zoom Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.extrudeBlur.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur",en:"Linear Blur",de:"Lineare Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur.blurRadius",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur.x1",en:"Point 1 - X",de:"Punkt 1 - X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur.x2",en:"Point 2 - X",de:"Punkt 2 - X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur.y1",en:"Point 1 - Y",de:"Punkt 1 - Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.linearBlur.y2",en:"Point 2 - Y",de:"Punkt 2 - Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur",en:"Mirrored Blur",de:"Gespiegelte Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.blurRadius",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.gradientSize",en:"Size of Gradient",de:"Weiche Kante","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.size",en:"Size of non-blurred Area",de:"Scharfe Fl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.x1",en:"Point 1 - X",de:"Punkt 1 - X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.x2",en:"Point 2 - X",de:"Punkt 2 - X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.y1",en:"Point 1 - Y",de:"Punkt 1 - Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.mirroredBlur.y2",en:"Point 2 - Y",de:"Punkt 2 - Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur",en:"Radial Blur",de:"Kreisf\xf6rmige Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur.blurRadius",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur.gradientRadius",en:"Size of Gradient",de:"Weiche Kante","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur.radius",en:"Size of non-blurred Area",de:"Scharfe Fl\xe4che","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur.x",en:"Point - X",de:"Punkt - X","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.radialBlur.y",en:"Point - Y",de:"Punkt - Y","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.uniformBlur",en:"Gaussian Blur",de:"Gau\xdfscher Weichzeichner","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.blur.uniformBlur.intensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.color",en:"Color",de:"Farbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Couleur","it-x-swisspost":"Colore"},{key:"property.color.description",en:"Change color",de:"Farbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop",en:"Crop",de:"Zuschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Ajuster","it-x-swisspost":"Tagliare a misura"},{key:"property.crop.offset",en:"{{axis}} Offset",de:"{{axis}} Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.offset.description",en:"Crop offset on the {{axis}}-axis in {{unit}}",de:"Versatz des Bildes auf der {{axis}}-Achse in {{unit}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.scale",en:"Scale",de:"Skalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.scale.description",en:"Proportionally scale image dimensions",de:"Bildabmessungen proportional skalieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.size",en:"Crop Area",de:"Schnittbereich","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.size.description",en:"{{dimension}} of the crop frame in {{unit}}",de:"{{dimension}} des Schnittbereichs in {{unit}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.straighten",en:"Straighten",de:"Begradigen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.tooltip",en:"Change crop properties",de:"Zuschnitt \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.transform",en:"$t(block.image)",de:"$t(block.image)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.contentFillMode",en:"Fill Mode",de:"F\xfcllmodus","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.contentFillMode.description",en:"Change Fill Mode",de:"F\xfcllmodus \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.contentFillMode.crop",en:"Crop",de:"Zuschneiden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.contentFillMode.contain",en:"Fit",de:"Einpassen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.crop.contentFillMode.cover",en:"Cover",de:"F\xfcllen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.breezy",en:"Breezy",de:"Breezy","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.clash",en:"Clash",de:"Clash","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.deepblue",en:"Deep Blue",de:"Deep Blue","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.desert",en:"Desert",de:"Desert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.frog",en:"Frog",de:"Frog","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.peach",en:"Peach",de:"Peach","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.plum",en:"Plum",de:"Plum","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duotoneFilter.sunset",en:"Sunset",de:"Sunset","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.duoToneFilterIntensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Intensit\xe9","it-x-swisspost":"Intensit\xe0"},{key:"property.effect.crossCut",en:"Cross Cut",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.crossCut.offset",en:"Horizontal Offset",de:"Horizontaler Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.crossCut.slices",en:"Horizontal Cuts",de:"Horizontale Schnitte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.crossCut.speedV",en:"Vertical Offset",de:"Vertikaler Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.crossCut.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.dotPattern",en:"Dot Pattern",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.dotPattern.blur",en:"Global Blur",de:"Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.dotPattern.dots",en:"Number of Dots",de:"Anzahl Punkte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.dotPattern.size",en:"Size of Dots",de:"Gr\xf6\xdfe Punkte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.extrudeBlur",en:"Extrude Blur",de:"Zoom Unsch\xe4rfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.extrudeBlur.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.glow",en:"Glow",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.glow.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"Brightness","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.glow.darkness",en:"Darkening",de:"Dunkelkeit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.glow.size",en:"Bloom",de:"Schimmer","en-x-swisspost":"Intensity","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen",en:"Green Screen",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen.colorMatch",en:"Color Match",de:"Farb\xfcbereinstimmung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen.fromColor",en:"Source Color",de:"Ausgangsfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen.fromColor.description",en:"Change $t(property.effect.greenScreen.fromColor)",de:"$t(property.effect.greenScreen.fromColor) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen.smoothness",en:"Smoothness",de:"Gl\xe4ttung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.greenScreen.spill",en:"Spill",de:"\xdcberf\xfcllen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.halfTone",en:"Half Tone",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.halfTone.angle",en:"Angle of Pattern",de:"Winkel des Musters","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.halfTone.scale",en:"Scale of Pattern",de:"Gr\xf6\xdfe des Musters","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.joggle.amount",en:"Severity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.joggle.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.linocut",en:"Linocut",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.linocut.scale",en:"Scale of Pattern",de:"Gr\xf6\xdfe des Musters","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.liquid",en:"Liquid",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.liquid.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.liquid.scale",en:"Scale",de:"Gr\xf6\xdfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.liquid.speed",en:"Sensitivity",de:"Sensitivit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.liquid.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.mirror",en:"Mirror",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.mirror.side",en:"Mirrored Side",de:"Gespiegelte Seite","en-x-swisspost":"Axis to Mirror","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.outliner",en:"Outliner",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.outliner.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.outliner.passthrough",en:"Blending",de:"\xdcberblenden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.pixelize",en:"Pixelize",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.pixelize.horizontalPixelSize",en:"Horizontal Count",de:"Anzahl Horizontal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.pixelize.verticalPixelSize",en:"Vertical Count",de:"Anzahl Vertikal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.posterize",en:"Posterize",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.posterize.levels",en:"Number of Levels",de:"Anzahl Farben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.psychedelic.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.psychedelic.offset",en:"Diagonal Offset",de:"Diagonaler Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.psychedelic.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radialPixel",en:"Radial Pixel",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radialPixel.radius",en:"Radius per Row",de:"Radius pro Reihe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radialPixel.segments",en:"Size per Row",de:"Gr\xf6\xdfe pro Reihe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radiate.centerBrightness",en:"Brightness in Center",de:"Helligkeit im Zentrum","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radiate.colorize",en:"Saturation",de:"S\xe4ttigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.radiate.powerCurve",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor",en:"Recolor",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.brightnessMatch",en:"Brightness Match",de:"Helligkeits\xfcbereinstimmung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.colorMatch",en:"Color Match",de:"Farb\xfcbereinstimmung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.fromColor",en:"Source Color",de:"Ausgangsfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.fromColor.description",en:"Change $t(property.effect.recolor.fromColor)",de:"$t(property.effect.recolor.fromColor) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.smoothness",en:"Smoothness",de:"Gl\xe4ttung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.toColor",en:"Target Color",de:"Zielfarbe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.recolor.toColor.description",en:"Change $t(property.effect.recolor.toColor)",de:"$t(property.effect.recolor.toColor) \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.scanlines.count",en:"Line Height",de:"Linienh\xf6he","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.scanlines.linesAmount",en:"Intensity of Lines",de:"Intensit\xe4t der Linien","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.scanlines.noiseAmount",en:"Applied Noise",de:"Rauschen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.scanlines.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.separate.amount",en:"Offset",de:"Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.separate.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.sharpie",en:"Sharpie",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.shifter",en:"Shifter",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.shifter.amount",en:"Distance",de:"Abstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.shifter.angle",en:"Shift Direction",de:"Richtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tiltShift",en:"Tiltshift",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tiltShift.amount",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tiltShift.position",en:"Position",de:"Position","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch",en:"TV Glitch",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch.distortion",en:"Rough Distortion",de:"Grobe Verzerrung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch.distortion2",en:"Fine Distortion",de:"Feine Verzerrung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch.rollSpeed",en:"Vertical Offset",de:"Vertikaler Versatz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch.speed",en:"Variance",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.tvGlitch.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.vignette",en:"Vignette",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.vignette.darkness",en:"Color",de:"Farbe","en-x-swisspost":"Brightness","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.vignette.offset",en:"Size",de:"Gr\xf6\xdfe","en-x-swisspost":"Radial Offset","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.waves.size",en:"Pattern Size",de:"Muster Gr\xf6\xdfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.waves.speed",en:"Sensitivity",de:"Sensitivit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.waves.strength",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.effect.waves.time",en:"Variation",de:"Varianz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fill",en:"Fill",de:"F\xfcllung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fill.description",en:"Change fill",de:"F\xfcllung \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fillType",en:"Fill Type",de:"F\xfcllung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fillType.gradient",en:"Gradient",de:"Verlauf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fillType.gradient.description",en:"Use a gradient fill",de:"Mit Verlauf f\xfcllen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fillType.solid",en:"Solid",de:"Einfarbig","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.fillType.solid.description",en:"Use a solid fill color",de:"Einfarbig f\xfcllen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.flip",en:"Flip",de:"Spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Refl\xe9ter","it-x-swisspost":"Capovolgere"},{key:"property.flip.x",en:"Flip horizontal",de:"Horizontal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Refl\xe9ter horizontalement","it-x-swisspost":"Capovolgere orizzontalmente"},{key:"property.flip.y",en:"Flip vertical",de:"Vertikal spiegeln","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Refl\xe9ter verticalement","it-x-swisspost":"Capovolgere verticalmente"},{key:"property.gradientType.conical",en:"Conical Gradient",de:"Kegelf\xf6rmiger Verlauf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.gradientType.linear",en:"Linear Gradient",de:"Linearer Verlauf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.gradientType.radial",en:"Radial Gradient",de:"Kreisf\xf6rmiger Verlauf","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.hspSelectiveAdjustments.hue",en:"Hue",de:"Farbton","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Teinte","it-x-swisspost":"Tonalit\xe0"},{key:"property.hspSelectiveAdjustments.perceivedBrightness",en:"Brightness",de:"Helligkeit","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Luminosit\xe9","it-x-swisspost":"Luminosit\xe0"},{key:"property.hspSelectiveAdjustments.saturation",en:"Saturation",de:"S\xe4ttigung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Saturation","it-x-swisspost":"Saturazione"},{key:"property.innerDiameter",en:"Inner Diameter",de:"Innendurchmesser","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Diam\xe8tre int\xe9rieur","it-x-swisspost":"Diametro interno"},{key:"property.layout",en:"Layout",de:"Anordnung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.layout.horizontal",en:"Arrange pages horizontally",de:"Seiten nebeneinander anordnen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.layout.vertical",en:"Arrange pages vertically",de:"Seiten untereinander anordnen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.letterSpacing",en:"Letter Spacing",de:"Laufweite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Espacement","it-x-swisspost":"Spaziatura tra le lettere"},{key:"property.lineHeight",en:"Line Height",de:"Zeilenh\xf6he","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Hauteur de ligne","it-x-swisspost":"Altezza della riga"},{key:"property.lineWidth",en:"Line Width",de:"Linienbreite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Largeur de ligne","it-x-swisspost":"Larghezza della linea"},{key:"property.lineWidth.description",en:"Change line width",de:"Linienbreite \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.ad1920",en:"1920 A.D.",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.ancient",en:"Ancient",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.bleached",en:"Kalmen",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.bleachedblue",en:"Joran",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.blues",en:"Polaroid",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.blueshadows",en:"Zephyr",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.breeze",en:"Levante",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.bw",en:"Greyed",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.celsius",en:"Inferno",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.chest",en:"Chestnut",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.classic",en:"Classic",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.colorful",en:"Colorful",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.cool",en:"Snappy",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.cottoncandy",en:"Candy",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.creamy",en:"Creamy",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.eighties",en:"Low Fire",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.elder",en:"Colla",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.evening",en:"Sunrise",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.fall",en:"Moss",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.fixie",en:"Fixie",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.food",en:"Food",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.fridge",en:"Fridge",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.front",en:"Sunny 70s",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.glam",en:"Glam",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.gobblin",en:"Gobblin",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.highcarb",en:"High Carb",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.highcontrast",en:"Hicon",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.k1",en:"K1",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.k2",en:"Flat Black",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.k6",en:"K6",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.kdynamic",en:"Pebble",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.keen",en:"Keen",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.lenin",en:"Lemon",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.litho",en:"Litho",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.lomo",en:"Lomo",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.lomo100",en:"Lomo 100",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.lucid",en:"Lucid",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.mellow",en:"Mellow",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.neat",en:"Neat",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.nogreen",en:"Pumpkin",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.orchid",en:"Solanus",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.pale",en:"Pale",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.pitched",en:"Pitched",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.plate",en:"Weathered",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.pola669",en:"Green Gap",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.polasx",en:"Pola SX",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.pro400",en:"Pro 400",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.quozi",en:"Quozi",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.sepiahigh",en:"Sepia",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.settled",en:"Settled",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.seventies",en:"Seventies",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.sin",en:"Hard Stuff",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.soft",en:"Soft",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.steel",en:"Steel",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.summer",en:"Summer",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.sunset",en:"Golden",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.tender",en:"Tender",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.texas",en:"Oldtimer",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.twilight",en:"Twilight",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.winter",en:"Softy",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilter.x400",en:"Dusty",de:"","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.lutFilterIntensity",en:"Intensity",de:"Intensit\xe4t","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Intensit\xe9","it-x-swisspost":"Intensit\xe0"},{key:"property.opacity",en:"Opacity",de:"Transparenz","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Transparence","it-x-swisspost":"Trasparenza"},{key:"property.orientation",en:"Orientation",de:"Ausrichtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.orientation.description",en:"Set page orientation to {{orientation}}",de:"Seite auf {{orientation}} \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.orientation.flip",en:"Flip orientation",de:"Seitenausrichtung umdrehen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.orientation.landscape",en:"Landscape",de:"Querformat","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.orientation.portrait",en:"Portrait",de:"Hochformat","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.orientation.square",en:"Square",de:"Quadratisch","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.outlineColor",en:"Outline",de:"Kontur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aper\xe7u","it-x-swisspost":"Contorno"},{key:"property.outlineWidth",en:"Outline Width",de:"Konturbreite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Largeur du trait de contour","it-x-swisspost":"Ampiezza del contorno"},{key:"property.paragraphSpacing",en:"Paragraph Spacing",de:"Absatzabstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.placeholderBehavior.description",en:"Act as Placeholder",de:"Als Platzhalter fungieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.playback.duration",en:"Duration",de:"Dauer","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.points",en:"Points",de:"Spitzen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Affiner","it-x-swisspost":"Punte"},{key:"property.position",en:"{{axis}} $t(common.position)",de:"{{axis}} $t(common.position)","en-x-swisspost":"{{axis}}","de-x-swisspost":"{{axis}}","fr-x-swisspost":"{{axis}}","it-x-swisspost":"{{axis}}"},{key:"property.position.description",en:"Position on the {{axis}}-axis in {{unit}}",de:"Position auf der {{axis}}-Achse in {{unit}}","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Position sur l’axe {{axis}} en {{unit}}","it-x-swisspost":"Posizione sull’asse {{axis}} in {{unit}}"},{key:"property.cornerRadius",en:"Round Corners",de:"Ecken abrunden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.sides",en:"Sides",de:"Seiten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Pages","it-x-swisspost":"Pagine"},{key:"property.strokeColor",en:"Stroke",de:"Kontur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeColor.description",en:"Change stroke color",de:"Konturfarbe \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeCornerGeometry",en:"Join",de:"Kanten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeCornerGeometry.bevel",en:"Bevel",de:"Hart","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeCornerGeometry.description",en:"Change stroke join style",de:"Konturkanten \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeCornerGeometry.miter",en:"Miter",de:"Abgeschr\xe4gt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeCornerGeometry.round",en:"Round",de:"Rund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePosition",en:"$t(common.position)",de:"$t(common.position)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePosition.center",en:"Center",de:"Zentriert","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePosition.description",en:"Change stroke position",de:"Konturposition \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePosition.inner",en:"Inside",de:"Innenliegend","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePosition.outer",en:"Outside",de:"Au\xdfenliegend","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePositionAndCornerGeometry",en:"$t(property.strokePosition) & $t(property.strokeCornerGeometry)",de:"$t(property.strokePosition) & $t(property.strokeCornerGeometry)","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokePositionAndCornerGeometry.description",en:"Change stroke position and join style",de:"Konturposition und -kanten \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle",en:"Style",de:"Stil","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.dashed",en:"Dashed",de:"Gestrichelt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.dashedRound",en:"Dashed Round",de:"Gestrichelt Rund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.description",en:"Change stroke style",de:"Konturstil \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.dotted",en:"Dotted",de:"Gepunktet","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.longDashed",en:"Long Dashed",de:"Lang Gestrichelt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.longDashedRound",en:"Long Dashed Round",de:"Lang Gestrichelt Rund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeStyle.solid",en:"Solid",de:"Durchg\xe4ngig","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeWidth",en:"Width",de:"Breite","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.strokeWidth.description",en:"Change stroke width",de:"Strichbreite \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textAlignment.horizontal",en:"Horizontal Alignment",de:"Horizontale Ausrichtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textAlignment.horizontal.center",en:"Align Text to the Center",de:"Text mittig ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte au centre","it-x-swisspost":"Allineare il testo al centro"},{key:"property.textAlignment.horizontal.description",en:"Change horizontal alignment",de:"Horizontale Ausrichtung \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textAlignment.horizontal.left",en:"Align Text to the Left",de:"Text links ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte \xe0 gauche","it-x-swisspost":"Allineare il testo a sinistra"},{key:"property.textAlignment.horizontal.right",en:"Align Text to the Right",de:"Text rechts ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte \xe0 droite","it-x-swisspost":"Allineare il testo a destra"},{key:"property.textAlignment.vertical",en:"Vertical Alignment",de:"Textausrichtung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textAlignment.vertical.bottom",en:"Align Text to the Bottom",de:"Text unten ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte en bas","it-x-swisspost":"Allineare il testo sotto"},{key:"property.textAlignment.vertical.center",en:"Align Text to the Center",de:"Text mittig ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte au milieu","it-x-swisspost":"Allineare il testo al centro"},{key:"property.textAlignment.vertical.top",en:"Align Text to the Top",de:"Text oben ausrichten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Aligner le texte en haut","it-x-swisspost":"Allineare il testo in alto"},{key:"property.textBackground",en:"Background",de:"Hintergrund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textBackground.cornerRadius",en:"Round Corners",de:"Ecken abrunden","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textBackground.description",en:"Change text background",de:"Texthintergrund \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textBackground.options.description",en:"More text background options",de:"Weitere Optionen f\xfcr Texthintergrund","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textBackground.padding",en:"Padding",de:"Abstand","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textBackground.padding.description",en:"Change padding",de:"Abstand \xe4ndern","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textCase",en:"Letter Case",de:"Gro\xdf- und Kleinschreibung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textCase.lowercase",en:"lower case",de:"alles klein","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textCase.normal",en:"As typed",de:"Wie eingegeben","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textCase.titlecase",en:"Capitalized Case",de:"Gro\xdfschreibung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textCase.uppercase",en:"UPPER CASE",de:"ALLES GROẞ","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textWritingStyle",en:"Writing Style",de:"Schreibstil","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textWritingStyle.Block",en:"Block",de:"Block","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textWritingStyle.Line",en:"Line",de:"Zeile","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textWritingStyle.Word",en:"Word",de:"Wort","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.textWritingStyle.Character",en:"Character",de:"Zeichen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"property.volume",en:"Volume",de:"Lautst\xe4rke","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.adjustments",en:"Allow to Change Adjustments",de:"Erlaube Adaption der Farbkorrektur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.animations",en:"Allow to Change Animations",de:"Erlaube Adaption der Animationen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.blur",en:"Allow to Change Blur",de:"Erlaube Adaption des Weichzeichners","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.effect",en:"Allow to Change Effect",de:"Erlaube Adaption der Effekte","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.filter",en:"Allow to Change Filter",de:"Erlaube Adaption des Filter","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.appearance.shadow",en:"Allow to Change Shadow",de:"Erlaube Adpation des Schatten","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.editor.select",en:"Allow to Select",de:"Erlaube Selektion","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.fill.change",en:"Allow to Change Fill",de:"Erlaube Adaption der F\xfcllung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.fill.changeType",en:"Allow to Change Fill Type",de:"Erlaube Adaption des F\xfclltyps","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.blendMode",en:"Allow to Change Blend Mode",de:"Erlaube Adaption der \xdcberblendmodi","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.crop",en:"Allow to Crop",de:"Erlaube Zuschnitt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.flip",en:"Allow to Flip",de:"Erlaube Spiegelung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.move",en:"Allow to Move",de:"Erlaube Verschiebung ","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.opacity",en:"Allow to Change Opacity",de:"Erlaube Adaption der Deckkraft","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.resize",en:"Allow to Scale",de:"Erlaube Skalierung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.layer.rotate",en:"Allow to Rotate",de:"Erlaube Drehung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.lifecycle.destroy",en:"Allow to Delete",de:"Erlaube L\xf6schen","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.lifecycle.duplicate",en:"Allow to Duplicate",de:"Erlaube Duplizieren","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.shape.change",en:"Allow to Change Shape",de:"Erlaube Adaption der Form","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.stroke.change",en:"Allow to Change Stroke",de:"Erlaube Adaption der Kontur","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.text.character",en:"Allow to Style Text",de:"Erlaube Adaption des Textstil","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"scope.text.edit",en:"Allow to Edit Text",de:"Erlaube Bearbeitung","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.autoSize",en:"Auto-Size",de:"Automatisch","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.autoSize.abbreviation",en:"Auto",de:"Auto","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.bold",en:"Bold",de:"Fett","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Gras","it-x-swisspost":"Grassetto"},{key:"typography.italic",en:"Italic",de:"Kursiv","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Cursif","it-x-swisspost":"Corsivo"},{key:"typography.normal",en:"Normal",de:"Normal","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Normal","it-x-swisspost":"Normale"},{key:"typography.size",en:"Size",de:"Schriftgr\xf6\xdfe","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.sizeRange",en:"Size Range",de:"Gr\xf6\xdfenbereich","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.style",en:"Style",de:"Schriftschnitt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.typeface",en:"Font",de:"Schriftart","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"typography.weight.100",en:"Thin",de:"Fein","en-x-swisspost":"Fine","de-x-swisspost":"","fr-x-swisspost":"Fine","it-x-swisspost":"Fine"},{key:"typography.weight.200",en:"Extra Light",de:"Extraleicht","en-x-swisspost":"Extra light","de-x-swisspost":"","fr-x-swisspost":"Extra l\xe9ger","it-x-swisspost":"Extra leggero"},{key:"typography.weight.300",en:"Light",de:"Leicht","en-x-swisspost":"Light","de-x-swisspost":"","fr-x-swisspost":"L\xe9ger","it-x-swisspost":"Leggero"},{key:"typography.weight.400",en:"Regular",de:"Normal","en-x-swisspost":"Normal","de-x-swisspost":"","fr-x-swisspost":"Normal","it-x-swisspost":"Normale"},{key:"typography.weight.500",en:"Medium",de:"Medium","en-x-swisspost":"Medium","de-x-swisspost":"","fr-x-swisspost":"Moyen","it-x-swisspost":"Medio"},{key:"typography.weight.600",en:"Semi Bold",de:"Halbfett","en-x-swisspost":"Semi-bold","de-x-swisspost":"","fr-x-swisspost":"Semi-gras","it-x-swisspost":"Semi-grassetto"},{key:"typography.weight.700",en:"Bold",de:"Fett","en-x-swisspost":"Bold","de-x-swisspost":"","fr-x-swisspost":"Gras","it-x-swisspost":"Grassetto"},{key:"typography.weight.800",en:"Extra Bold",de:"Extra fett","en-x-swisspost":"Extra bold","de-x-swisspost":"","fr-x-swisspost":"Extra-gras","it-x-swisspost":"Extra-grassetto"},{key:"typography.weight.900",en:"Black",de:"Schwarz","en-x-swisspost":"Blacks","de-x-swisspost":"","fr-x-swisspost":"Noir","it-x-swisspost":"Nero"},{key:"variables.address.label",en:"Address",de:"Adresse","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"variables.city.label",en:"City",de:"Stadt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"variables.company_name.label",en:"Company",de:"Firma","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"variables.first_name.label",en:"First name",de:"Vorname","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"variables.last_name.label",en:"Last name",de:"Nachname","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"","it-x-swisspost":""},{key:"warning.invalidType",en:"Invalid Type: File type is not allowed",de:"Invalider Typ: Dateityp nicht erlaubt","en-x-swisspost":"","de-x-swisspost":"","fr-x-swisspost":"Type invalide: Type de fichier non admis","it-x-swisspost":"Tipo non valido: Tipo di file non permesso"}].forEach(t=>{let{key:n,de:i,en:r}=t;i&&(Kd[n]=i),r&&(Kp[n]=r)});var Kh=SV(Sz()),Kf=SV(EW()),Km=t=>null!=t&&("boolean"==typeof t?t:null==t.show||t.show),Kg=SV(S$()),Kx=(0,Kh.createContext)({}),Ky=()=>(0,Kh.useContext)(Kx),Kv=()=>{let{engine:t}=Ky();if(!t)throw Error("No engine store found in context");return t},Kb=()=>{let{configuration:t}=Ky();if(!t)throw Error("No engine store found in context");return t},KA=()=>{let{userInterface:t}=Ky();if(!t)throw Error("No user interface store found in context");return t},Kw=SV(EW()),{fan:KC,merge:K_}=TH,KS=SV(EW()),Kk=()=>{},KE=class extends Map{getOrCreate(t,n){let i=this.get(t);if(void 0!==i)return i;{let i=n();return this.set(t,i),i}}},KM=class{#l;blockApi;stream;#d;#f;#h;#p;constructor(t,n){this.blockApi=t.block,this.stream=cc(n,t),this.#l=n,this.#d=new KE,this.#f=new KE,this.#h=new KE,this.#p=new KE}get id(){return this.#l}Int(t){return this.#d.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getInt(this.id,t),n=>{this.blockApi.setInt(this.id,t,n)}))}Float(t){return this.#f.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getFloat(this.id,t),n=>{this.blockApi.setFloat(this.id,t,n)}))}Bool(t){return this.#h.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getBool(this.id,t),n=>{this.blockApi.setBool(this.id,t,n)}))}String(t){return this.#p.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getString(this.id,t),n=>{this.blockApi.setString(this.id,t,n)}))}},KI=class extends KM{get isValid(){return this.blockApi.isValid(this.id)}get type(){return this.blockApi.getType(this.id)}get kind(){return this.blockApi.getKind(this.id)}get hasSoloPlaybackEnabledProperty(){return this.blockApi.findAllProperties(this.id).some(t=>"playback/soloPlaybackEnabled"===t)}get hasPlaceholderBehavior(){return this.blockApi.supportsPlaceholderBehavior(this.id)}effects;isVisibleAtCurrentPlaybackTime;playbackTime;positionX;positionY;width;height;widthMode;heightMode;dimensions;origin;flipHorizontal;flipVertical;includedInExport;hasStroke;isStrokeEnabled;strokeWidth;strokePosition;strokeCornerGeometry;strokeStyle;horizontalTextAlignment;verticalTextAlignment;alwaysOnTop;alwaysOnBottom;rotation;fontSize;dropShadowOffset;dropShadowBlurRadius;isFillEnabled;textFontWeights;textFontStyles;textColors;canToggleBoldFont;canToggleItalicFont;typeface;isVisible;isTransformLocked;textCase;automaticFontSizeEnabled;minAutomaticFontSize;maxAutomaticFontSize;cutoutType;cutoutSmoothing;clipLinesOutsideOfFrame;constructor(t,n){super(t,n),this.#m=new KE,this.#g=new KE,this.effects=cu(this.stream,()=>this.blockApi.getEffects(n),t=>{for(let t=this.blockApi.getEffects(n).length-1;t>=0;t--)this.blockApi.removeEffect(n,t);t.forEach(t=>{this.blockApi.appendEffect(n,t)})},{equals:(t,n)=>t===n||null!=t&&null!=n&&t.length===n.length&&t.every((t,i)=>t===n[i])}),this.isVisibleAtCurrentPlaybackTime=cu(this.stream,()=>this.blockApi.isVisibleAtCurrentPlaybackTime(n)),this.playbackTime=cu(this.stream,()=>this.blockApi.getPlaybackTime(n),t=>this.blockApi.setPlaybackTime(n,t)),this.positionX=cu(this.stream,()=>this.blockApi.getPositionX(n),t=>this.blockApi.setPositionX(n,t)),this.positionY=cu(this.stream,()=>this.blockApi.getPositionY(n),t=>this.blockApi.setPositionY(n,t)),this.width=cu(this.stream,()=>this.blockApi.getWidth(n),t=>this.blockApi.setWidth(n,t)),this.height=cu(this.stream,()=>this.blockApi.getHeight(n),t=>this.blockApi.setHeight(n,t)),this.widthMode=cu(this.stream,()=>this.blockApi.getWidthMode(n),t=>this.blockApi.setWidthMode(n,t)),this.heightMode=cu(this.stream,()=>this.blockApi.getHeightMode(n),t=>this.blockApi.setHeightMode(n,t)),this.dimensions=cu(this.stream,()=>({x:this.blockApi.getFrameWidth(n),y:this.blockApi.getFrameHeight(n)}),({x:t,y:i})=>{this.blockApi.setWidth(n,t),this.blockApi.setHeight(n,i)},{equals:(t,n)=>t.x===n?.x&&t.y===n?.y}),this.origin=cu(this.stream,()=>({x:this.blockApi.getFrameX(n),y:this.blockApi.getFrameY(n)})),this.flipHorizontal=cu(this.stream,()=>this.blockApi.getFlipHorizontal(n),t=>this.blockApi.setFlipHorizontal(n,t)),this.flipVertical=cu(this.stream,()=>this.blockApi.getFlipVertical(n),t=>this.blockApi.setFlipVertical(n,t)),this.includedInExport=cu(this.stream,()=>this.blockApi.isIncludedInExport(n),t=>{this.blockApi.setIncludedInExport(n,t)}),this.strokePosition=cu(this.stream,()=>this.blockApi.getStrokePosition(n),t=>{this.blockApi.setStrokePosition(n,t)}),this.strokeCornerGeometry=cu(this.stream,()=>this.blockApi.getStrokeCornerGeometry(n),t=>{this.blockApi.setStrokeCornerGeometry(n,t)}),this.textFontWeights=cu(this.stream,()=>this.blockApi.getTextFontWeights(n)),this.textFontStyles=cu(this.stream,()=>this.blockApi.getTextFontStyles(n)),this.textColors=cu(this.stream,()=>this.blockApi.getTextColors(n),void 0,{equals:KS.default}),this.canToggleBoldFont=cu(this.stream,()=>this.blockApi.canToggleBoldFont(n)),this.canToggleItalicFont=cu(this.stream,()=>this.blockApi.canToggleItalicFont(n)),this.typeface=cu(this.stream,()=>{try{return this.blockApi.getTypeface(n)}catch{return}},void 0,{equals:KS.default}),this.hasStroke=cu(this.stream,()=>this.blockApi.supportsStroke(n)),this.isStrokeEnabled=cu(this.stream,()=>this.blockApi.isStrokeEnabled(n),t=>{this.blockApi.setStrokeEnabled(n,t)}),this.strokeWidth=cu(this.stream,()=>this.blockApi.getStrokeWidth(n),t=>{this.blockApi.setStrokeWidth(n,t)}),this.strokePosition=cu(this.stream,()=>this.blockApi.getStrokePosition(n),t=>{this.blockApi.setStrokePosition(n,t)}),this.strokeCornerGeometry=cu(this.stream,()=>this.blockApi.getStrokeCornerGeometry(n),t=>{this.blockApi.setStrokeCornerGeometry(n,t)}),this.strokeStyle=cu(this.stream,()=>this.blockApi.getStrokeStyle(n),t=>{this.blockApi.setStrokeStyle(n,t)}),this.horizontalTextAlignment=cu(this.stream,()=>this.blockApi.getEnum(n,"text/horizontalAlignment"),t=>{this.blockApi.setEnum(n,"text/horizontalAlignment",t)}),this.verticalTextAlignment=cu(this.stream,()=>this.blockApi.getEnum(n,"text/verticalAlignment"),t=>{this.blockApi.setEnum(n,"text/verticalAlignment",t)}),this.alwaysOnTop=cu(this.stream,()=>this.blockApi.isAlwaysOnTop(n),t=>{this.blockApi.setAlwaysOnTop(n,t)}),this.alwaysOnBottom=cu(this.stream,()=>this.blockApi.isAlwaysOnBottom(n),t=>{this.blockApi.setAlwaysOnBottom(n,t)}),this.rotation=cu(this.stream,()=>this.blockApi.getRotation(n),t=>{this.blockApi.setRotation(n,t)}),this.fontSize=cu(this.stream,()=>this.blockApi.getFloat(n,"text/fontSize"),t=>{this.blockApi.setFloat(n,"text/fontSize",t)}),this.dropShadowOffset=cu(this.stream,()=>({x:this.blockApi.getDropShadowOffsetX(n),y:this.blockApi.getDropShadowOffsetY(n)}),t=>{this.blockApi.setDropShadowOffsetX(n,t.x),this.blockApi.setDropShadowOffsetY(n,t.y)}),this.dropShadowBlurRadius=cu(this.stream,()=>({x:this.blockApi.getDropShadowBlurRadiusX(n),y:this.blockApi.getDropShadowBlurRadiusY(n)}),t=>{this.blockApi.setDropShadowBlurRadiusX(n,t.x),this.blockApi.setDropShadowBlurRadiusY(n,t.y)}),this.isFillEnabled=cu(this.stream,()=>this.blockApi.isFillEnabled(n),t=>{this.blockApi.setFillEnabled(n,t)}),this.isVisible=cu(this.stream,()=>this.blockApi.isVisible(n),t=>this.blockApi.setVisible(n,t)),this.isTransformLocked=cu(this.stream,()=>this.blockApi.isTransformLocked(n),t=>this.blockApi.setTransformLocked(n,t)),this.textCase=cu(this.stream,()=>this.blockApi.getTextCases(n),t=>this.blockApi.setTextCase(n,t)),this.automaticFontSizeEnabled=cu(this.stream,()=>this.blockApi.getBool(n,"text/automaticFontSizeEnabled"),t=>this.blockApi.setBool(n,"text/automaticFontSizeEnabled",t)),this.minAutomaticFontSize=cu(this.stream,()=>this.blockApi.getFloat(n,"text/minAutomaticFontSize"),t=>this.blockApi.setFloat(n,"text/minAutomaticFontSize",t)),this.maxAutomaticFontSize=cu(this.stream,()=>this.blockApi.getFloat(n,"text/maxAutomaticFontSize"),t=>this.blockApi.setFloat(n,"text/maxAutomaticFontSize",t)),this.cutoutType=cu(this.stream,()=>this.blockApi.getEnum(n,"cutout/type"),t=>this.blockApi.setEnum(n,"cutout/type",t)),this.cutoutSmoothing=cu(this.stream,()=>this.blockApi.getFloat(n,"cutout/smoothing"),t=>this.blockApi.setFloat(n,"cutout/smoothing",t)),this.clipLinesOutsideOfFrame=cu(this.stream,()=>this.blockApi.getBool(n,"text/clipLinesOutsideOfFrame"),t=>this.blockApi.setBool(n,"text/clipLinesOutsideOfFrame",t))}#S=new Map;#m;#g;Color(t){return this.#m.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getColor(this.id,t),n=>{this.blockApi.setColor(this.id,t,n)},{equals:KS.default}))}GradientStops(t){return this.#g.getOrCreate(t,()=>cu(this.stream,()=>this.blockApi.getGradientColorStops(this.id,t),n=>{this.blockApi.setGradientColorStops(this.id,t,n)},{equals:KS.default}))}getPropertyChannel(t){if(!this.#S.has(t)){let n=this.blockApi.getPropertyType(t);if("Struct"===n)throw Error("Struct properties are not supported");let i=this.id,r=this.blockApi;if(!r.isPropertyReadable(t))throw Error(`Write-only property "${t}" is not supported`);if(!r.isPropertyWritable(t))throw Error(`Read-only property "${t}" is not supported`);let[s,o]="Bool"===n?[r.getBool.bind(r,i,t),r.setBool.bind(r,i,t)]:"Double"===n?[r.getDouble.bind(r,i,t),r.setDouble.bind(r,i,t)]:"Enum"===n?[r.getEnum.bind(r,i,t),r.setEnum.bind(r,i,t)]:"Float"===n?[r.getFloat.bind(r,i,t),r.setFloat.bind(r,i,t)]:"Int"===n?[r.getInt.bind(r,i,t),r.setInt.bind(r,i,t)]:"String"===n?[r.getString.bind(r,i,t),r.setString.bind(r,i,t)]:"Color"===n?[r.getColorRGBA.bind(r,i,t),n=>r.setColorRGBA(i,t,...n)]:[Kk,Kk],a=cu(this.stream,s,o);this.#S.set(t,a)}return this.#S.get(t)}};function KT(t,n,i,r){return i.getOrCreate(t,()=>{if(null==t||!n.block.isValid(t))throw Error(`Tried to get an object for an invalid id '${t}'`);return r()})}var KB=class extends KM{enabled;constructor(t,n){super(t,n),this.enabled=cu(this.stream,()=>this.blockApi.isEffectEnabled(n),t=>this.blockApi.setEffectEnabled(n,t))}},KL=SV(EW()),{map:Kj,merge:KP,pipe:KR,startWith:KD,switchAll:KF}=TH,KO=async function(t){if(t.type.startsWith("image"))return{...await new Promise((n,i)=>{let r=new FileReader;r.readAsDataURL(t),r.onload=r=>{let s=new Image;if(r&&r.target&&r.target.result&&"string"==typeof r.target.result){if("image/tiff"===t.type){let t=atob(r.target.result.replace("data:image/tiff;base64,","")),i=t.length,s=new Uint8Array(i);for(let n=0;n<i;n++)s[n]=t.charCodeAt(n);let{width:o,height:a}=function(t){let n=new DataView(t),i=18761===n.getUint16(0,!1),r=n.getUint32(4,i),s=n.getUint16(r,i),o=0,a=0,l=!1,c=!1;for(let t=0;t<s;t++){let s=r+2+12*t,u=n.getUint16(s,i),d=s+8;256===u?l?console.error("TIFF image header includes multiple width tags. Possibly corrupted image."):(o=n.getUint16(d,i),l=!0):257===u&&(c?console.error("TIFF image header includes multiple height tags. Possibly corrupted image."):(a=n.getUint16(d,i),c=!0))}return{width:o,height:a}}(s.buffer);n({height:a,width:o})}else{let t="image/svg+xml",o=`data:${t};base64,`,{result:a}=r.target;s.src=a,s.onload=()=>{let{height:i,width:r}=s;if(a.includes(o)&&(i<1||r<1)){let n=a.replace(o,""),s=(new DOMParser).parseFromString(atob(n),t).documentElement;i=s.height.baseVal.value,r=s.width.baseVal.value}n({height:i,width:r})},s.onerror=()=>{i(Error("Could not measure image width/height"))}}}else i(Error("Could not measure image width/height"))},r.onerror=i}),duration:0};if(t.type.startsWith("video"))return await new Promise((n,i)=>{try{let r=document.createElement("video");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{n({height:r.videoHeight,width:r.videoWidth,duration:r.duration})},r.onerror=()=>{i(Error("video measure failed"))}}catch{i(Error("video measure failed"))}});if(t.type.startsWith("audio"))return{width:0,height:0,duration:await new Promise((n,i)=>{try{let r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{n(r.duration)},r.onerror=()=>{i(Error("audio measure failed"))}}catch{i(Error("audio measure failed"))}})};throw Error(`Cannot measure assets width/height for the mime type ${t.type}`)},KN=SV(Sz()),KU=()=>{let t=YB().getUIEventEmitter();return(0,KN.useMemo)(()=>t?t.emit:Kk,[t])},KV=(t,n)=>{let i=(0,KN.useRef)(n);(0,KN.useEffect)(()=>{i.current=n},[n]);let r=YB().getUIEventEmitter();(0,KN.useEffect)(()=>{let n=()=>i.current();return r&&t&&r.on(t,n),()=>{r&&t&&r.off(t,n)}},[r,t])};function KH(t,n){let i=n.scene.getCurrentPage();if(null==i)return;let r=n.block.getChildren(i),s=r.reduce((i,s)=>s!==t&&"//ly.img.ubq/audio"===n.block.getType(s)?Math.max(i,r.indexOf(s)+1):i,0);n.block.insertChild(i,t,s)}function KQ(t,n){return t.block.getChildren(n).find(n=>"//ly.img.ubq/track"===t.block.getType(n)&&t.block.isAlwaysOnBottom(n))}function Kz(t,n){let i=t.block.create("//ly.img.ubq/track");return t.block.appendChild(n,i),t.block.setAlwaysOnBottom(i,!0),i}function KG(t,n){let i=t.block.getParent(n);if(null!=i){for(;"//ly.img.ubq/track"!==t.block.getType(i);){let n=t.block.getParent(i);if(null==n)return;i=n}return i}}function Kq(t){return null==t||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(document.getSelection()??"").toString().length>0}SV(EW());var KW=SV(Sz()),K$=()=>{let t=YB(),[n,i]=(0,KW.useState)([]);return(0,KW.useEffect)(()=>{let n=!0,r=!0,s=()=>{t.getAllDesignElements().then(n=>{r&&i(n.filter(n=>t.engine.block.isValid(n.id)))})};s();let o=t.getDesignElementLifecycleEmitter().addGlobalListener(t=>{let i=t.some(({options:t})=>{let{lifecycleEvent:n,componentType:i}=t;return("DesignBlockUpdatedEvent"===n||"DesignBlockRemovedEvent"===n)&&("ubq/scene/Parent"===i||"ubq/designblocks/DisableSelectionTag"===i||"DesignBlockRemovedEvent"===n)});if(n)return n=!1,void s();i&&s()}),a=t.getUIEventEmitter().on("element.group.change",s),l=t.channels.scene.ready.subscribe(s),c=t.settings.roles.effectiveRole.subscribe(s);return()=>{r=!1,o(),a(),l(),c()}},[t]),n},KZ=(SV(Sz()),SV(Sz())),KY=SV(Sz()),KK=function(){return YB().channels},KX=SV(Sz());function KJ(t){return t instanceof Function?t():t}function K0(t,n){if("channel"in n&&n.channel){if(!n.channel.value)return{value:void 0,stale:!0};if(n.channel.value()!==t.value)return{value:n.channel.value()}}else if("value"in n&&(t.stale||n.value!==t.value))return n;return t}var K1=function(t,n){let[i,r]=(0,KX.useReducer)(K0,{value:void 0},()=>({value:t&&t.value?t.value():KJ(n)})),s=(0,KX.useRef)(t),o=s.current!==t;return s.current=t,(0,KX.useEffect)(()=>(r({channel:t||void 0}),t?t.subscribe(function(t){r({value:t})}):Kk),[t]),t&&t?.value?[t.value(),t.update]:o||!t||i.stale?[KJ(n),t?t.update:void 0]:[i.value,t?.update]};function K2(){let{selection:t}=KK(),[n]=K1(t.allSelected),[i]=K1(t.selectedPage);return(0,KY.useMemo)(()=>{let t=n.map(t=>({id:t.id,type:t.type,selectable:!0})),r=t[0];return{selectedDesignElementsIds:t.map(t=>t.id),selectedDesignElements:t,selectedDesignElement:r,hasMultiSelection:t.length>1,blocks:n,block:n[0],selectedPageBlock:i}},[n,i])}var K3=SV(SH());if(!SV(Sz()).useState)throw Error("mobx-react-lite requires React with Hooks support");var K5=SV(S4()),K4=SV(Sz());function K6(t){return function t(n){var i={name:n.name_};return n.observing_&&n.observing_.length>0&&(i.dependencies=Array.from(new Set(n.observing_)).map(t)),i}(ZO(t,void 0))}var K8=function(){function t(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=1e4),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(r,s){i-r.registeredAt>=t&&(n.finalize(r.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),t}(),K7=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:K8)(function(t){var n;null===(n=t.reaction)||void 0===n||n.dispose(),t.reaction=null}),K9=SV(MK()),Xe=function(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,s,o=i.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){s={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}return a},Xt=function(){},Xn=$v,Xi=void 0!==Xn.stateVersion;function Xr(t){t.reaction=new $k("observer".concat(t.name),function(){var n;Xi||(t.stateVersion=Symbol()),null===(n=t.onStoreChange)||void 0===n||n.call(t)})}var Xs=SV(Sz()),Xo="function"==typeof Symbol&&Symbol.for,Xa=Xo?Symbol.for("react.forward_ref"):"function"==typeof Xs.forwardRef&&(0,Xs.forwardRef)(function(t){return null}).$$typeof,Xl=Xo?Symbol.for("react.memo"):"function"==typeof Xs.memo&&(0,Xs.memo)(function(t){return null}).$$typeof;function Xc(t,n){if(Xl&&t.$$typeof===Xl)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=null!==(o=null==n?void 0:n.forwardRef)&&void 0!==o&&o,r=t,s=t.displayName||t.name;if(Xa&&t.$$typeof===Xa&&(i=!0,"function"!=typeof(r=t.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,a,l=function(t,n){return function(t,n){void 0===n&&(n="observed");var i=K4.default.useRef(null),r=Xe(K4.default.useState(),2)[1];if(!i.current){var s={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:n,subscribe:function(t){return K7.unregister(s),s.onStoreChange=t,s.reaction||(Xr(s),r(Symbol())),function(){var t;s.onStoreChange=null,null===(t=s.reaction)||void 0===t||t.dispose(),s.reaction=null}},getSnapshot:function(){return Xi?Xn.stateVersion:s.stateVersion}};i.current=s}var o,a,l=i.current;if(l.reaction||(Xr(l),K7.register(i,l,l)),K4.default.useDebugValue(l.reaction,K6),(0,K9.useSyncExternalStore)(l.subscribe,l.getSnapshot,Xt),l.reaction.track(function(){try{o=t()}catch(t){a=t}}),a)throw a;return o}(function(){return r(t,n)},s)};return l.displayName=t.displayName,Object.defineProperty(l,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(l.contextTypes=t.contextTypes),i&&(l=(0,Xs.forwardRef)(l)),a=l=(0,Xs.memo)(l),Object.keys(t).forEach(function(n){Xu[n]||Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))}),l}var Xu={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Xd(t,n){return(Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Xp(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Xd(t,n)}SV(Sz()),SV(Sz()),SV(Sz()),(X9=K5.unstable_batchedUpdates)||(X9=function(t){t()}),function(t){!0===t.isolateGlobalState&&function(){if(($v.pendingReactions.length||$v.inBatch||$v.isRunningReactions)&&qR(36),$y=!0,$x){var t=qF();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),$v=new $g}}();var n,i,r=t.useProxies,s=t.enforceActions;if(void 0!==r&&($v.useProxies=r===$q||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&($v.verifyProxies=!0),void 0!==s){var o=s===$q?$q:"observed"===s;$v.enforceActions=o,$v.allowStateChanges=!0!==o&&o!==$q}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(n){n in t&&($v[n]=!!t[n])}),$v.allowStateReads=!$v.observableRequiresReaction,t.reactionScheduler&&(n=t.reactionScheduler,i=$E,$E=function(t){return n(function(){return i(t)})})}({reactionScheduler:X9}),K7.finalizeAllImmediately;var Xh=function(){function t(){this.listeners=[]}var n=t.prototype;return n.subscribe=function(t){var n=this,i=t||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(t){return t!==i}),n.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},t}();function Xf(){return(Xf=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Xm="undefined"==typeof window;function Xg(){}function Xx(t){return"number"==typeof t&&t>=0&&t!==1/0}function Xy(t){return Array.isArray(t)?t:[t]}function Xv(t,n){return t.filter(function(t){return -1===n.indexOf(t)})}function Xb(t,n){return Math.max(t+(n||0)-Date.now(),0)}function XA(t,n,i){return XB(t)?"function"==typeof n?Xf({},i,{queryKey:t,queryFn:n}):Xf({},n,{queryKey:t}):t}function Xw(t,n,i){return XB(t)?[Xf({},n,{queryKey:t}),i]:[t||{},n]}function XC(t,n){var i=t.active,r=t.exact,s=t.fetching,o=t.inactive,a=t.predicate,l=t.queryKey,c=t.stale;if(XB(l)){if(r){if(n.queryHash!==XS(l,n.options))return!1}else if(!XE(n.queryKey,l))return!1}var u=!0===i&&!0===o||null==i&&null==o?"all":!1===i&&!1===o?"none":(null!=i?i:!o)?"active":"inactive";if("none"===u)return!1;if("all"!==u){var d=n.isActive();if("active"===u&&!d||"inactive"===u&&d)return!1}return("boolean"!=typeof c||n.isStale()===c)&&("boolean"!=typeof s||n.isFetching()===s)&&!(a&&!a(n))}function X_(t,n){var i=t.exact,r=t.fetching,s=t.predicate,o=t.mutationKey;if(XB(o)){if(!n.options.mutationKey)return!1;if(i){if(Xk(n.options.mutationKey)!==Xk(o))return!1}else if(!XE(n.options.mutationKey,o))return!1}return("boolean"!=typeof r||"loading"===n.state.status===r)&&!(s&&!s(n))}function XS(t,n){return((null==n?void 0:n.queryKeyHashFn)||Xk)(t)}function Xk(t){return JSON.stringify(Xy(t),function(t,n){return XI(n)?Object.keys(n).sort().reduce(function(t,i){return t[i]=n[i],t},{}):n})}function XE(t,n){return function t(n,i){return n===i||typeof n==typeof i&&!(!n||!i||"object"!=typeof n||"object"!=typeof i)&&!Object.keys(i).some(function(r){return!t(n[r],i[r])})}(Xy(t),Xy(n))}function XM(t,n){if(t===n)return t;var i=Array.isArray(t)&&Array.isArray(n);if(i||XI(t)&&XI(n)){for(var r=i?t.length:Object.keys(t).length,s=i?n:Object.keys(n),o=s.length,a=i?[]:{},l=0,c=0;c<o;c++){var u=i?c:s[c];a[u]=XM(t[u],n[u]),a[u]===t[u]&&l++}return r===o&&l===r?t:a}return n}function XI(t){if(!XT(t))return!1;var n=t.constructor;if(void 0===n)return!0;var i=n.prototype;return!!XT(i)&&!!i.hasOwnProperty("isPrototypeOf")}function XT(t){return"[object Object]"===Object.prototype.toString.call(t)}function XB(t){return"string"==typeof t||Array.isArray(t)}function XL(t){Promise.resolve().then(t).catch(function(t){return setTimeout(function(){throw t})})}function Xj(){if("function"==typeof AbortController)return new AbortController}var XP=new(function(t){function n(){var n;return(n=t.call(this)||this).setup=function(t){var n;if(!Xm&&(null==(n=window)?void 0:n.addEventListener)){var i=function(){return t()};return window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",i,!1),function(){window.removeEventListener("visibilitychange",i),window.removeEventListener("focus",i)}}},n}Xp(n,t);var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},i.setEventListener=function(t){var n,i=this;this.setup=t,null==(n=this.cleanup)||n.call(this),this.cleanup=t(function(t){"boolean"==typeof t?i.setFocused(t):i.onFocus()})},i.setFocused=function(t){this.focused=t,t&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(t){t()})},i.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},n}(Xh)),XR=new(function(t){function n(){var n;return(n=t.call(this)||this).setup=function(t){var n;if(!Xm&&(null==(n=window)?void 0:n.addEventListener)){var i=function(){return t()};return window.addEventListener("online",i,!1),window.addEventListener("offline",i,!1),function(){window.removeEventListener("online",i),window.removeEventListener("offline",i)}}},n}Xp(n,t);var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},i.setEventListener=function(t){var n,i=this;this.setup=t,null==(n=this.cleanup)||n.call(this),this.cleanup=t(function(t){"boolean"==typeof t?i.setOnline(t):i.onOnline()})},i.setOnline=function(t){this.online=t,t&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(t){t()})},i.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},n}(Xh));function XD(t){return Math.min(1e3*Math.pow(2,t),3e4)}function XF(t){return"function"==typeof(null==t?void 0:t.cancel)}var XO=function(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent};function XN(t){return t instanceof XO}var XU=function(t){var n,i,r,s,o=this,a=!1;this.abort=t.abort,this.cancel=function(t){return null==n?void 0:n(t)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return null==i?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(t,n){r=t,s=n});var l=function(n){o.isResolved||(o.isResolved=!0,null==t.onSuccess||t.onSuccess(n),null==i||i(),r(n))},c=function(n){o.isResolved||(o.isResolved=!0,null==t.onError||t.onError(n),null==i||i(),s(n))};!function r(){if(!o.isResolved){var s;try{s=t.fn()}catch(t){s=Promise.reject(t)}n=function(t){if(!o.isResolved&&(c(new XO(t)),null==o.abort||o.abort(),XF(s)))try{s.cancel()}catch(t){}},o.isTransportCancelable=XF(s),Promise.resolve(s).then(l).catch(function(n){var s,l;if(!o.isResolved){var u=null!=(s=t.retry)?s:3,d=null!=(l=t.retryDelay)?l:XD,p="function"==typeof d?d(o.failureCount,n):d,h=!0===u||"number"==typeof u&&o.failureCount<u||"function"==typeof u&&u(o.failureCount,n);!a&&h?(o.failureCount++,null==t.onFail||t.onFail(o.failureCount,n),new Promise(function(t){setTimeout(t,p)}).then(function(){if(!XP.isFocused()||!XR.isOnline())return new Promise(function(n){i=n,o.isPaused=!0,null==t.onPause||t.onPause()}).then(function(){i=void 0,o.isPaused=!1,null==t.onContinue||t.onContinue()})}).then(function(){a?c(n):r()})):c(n)}})}}()},XV=new(function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var n=t.prototype;return n.batch=function(t){var n;this.transactions++;try{n=t()}finally{this.transactions--,this.transactions||this.flush()}return n},n.schedule=function(t){var n=this;this.transactions?this.queue.push(t):XL(function(){n.notifyFn(t)})},n.batchCalls=function(t){var n=this;return function(){for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];n.schedule(function(){t.apply(void 0,r)})}},n.flush=function(){var t=this,n=this.queue;this.queue=[],n.length&&XL(function(){t.batchNotifyFn(function(){n.forEach(function(n){t.notifyFn(n)})})})},n.setNotifyFunction=function(t){this.notifyFn=t},n.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},t}()),XH=console,XQ=function(){function t(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var n=t.prototype;return n.setOptions=function(t){var n;this.options=Xf({},this.defaultOptions,t),this.meta=null==t?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(n=this.options.cacheTime)?n:3e5)},n.setDefaultOptions=function(t){this.defaultOptions=t},n.scheduleGc=function(){var t=this;this.clearGcTimeout(),Xx(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},n.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},n.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},n.setData=function(t,n){var i,r,s=this.state.data,o="function"==typeof t?t(s):t;return(null==(i=(r=this.options).isDataEqual)?void 0:i.call(r,s,o))?o=s:!1!==this.options.structuralSharing&&(o=XM(s,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:null==n?void 0:n.updatedAt}),o},n.setState=function(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})},n.cancel=function(t){var n,i=this.promise;return null==(n=this.retryer)||n.cancel(t),i?i.then(Xg).catch(Xg):Promise.resolve()},n.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState(this.initialState)},n.isActive=function(){return this.observers.some(function(t){return!1!==t.options.enabled})},n.isFetching=function(){return this.state.isFetching},n.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},n.isStaleByTime=function(t){return void 0===t&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Xb(this.state.dataUpdatedAt,t)},n.onFocus=function(){var t,n=this.observers.find(function(t){return t.shouldFetchOnWindowFocus()});n&&n.refetch(),null==(t=this.retryer)||t.continue()},n.onOnline=function(){var t,n=this.observers.find(function(t){return t.shouldFetchOnReconnect()});n&&n.refetch(),null==(t=this.retryer)||t.continue()},n.addObserver=function(t){-1===this.observers.indexOf(t)&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},n.removeObserver=function(t){-1!==this.observers.indexOf(t)&&(this.observers=this.observers.filter(function(n){return n!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},n.fetch=function(t,n){var i,r,s,o=this;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(null==n?void 0:n.cancelRefetch))this.cancel({silent:!0});else if(this.promise)return null==(d=this.retryer)||d.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){var a=this.observers.find(function(t){return t.options.queryFn});a&&this.setOptions(a.options)}var l=Xy(this.queryKey),c=Xj(),u={queryKey:l,pageParam:void 0,meta:this.meta};Object.defineProperty(u,"signal",{enumerable:!0,get:function(){if(c)return o.abortSignalConsumed=!0,c.signal}});var d,p,h,f={fetchOptions:n,options:this.options,queryKey:l,state:this.state,fetchFn:function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(u)):Promise.reject("Missing queryFn")},meta:this.meta};return(null==(i=this.options.behavior)?void 0:i.onFetch)&&(null==(p=this.options.behavior)||p.onFetch(f)),this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=f.fetchOptions)?void 0:r.meta)||this.dispatch({type:"fetch",meta:null==(h=f.fetchOptions)?void 0:h.meta}),this.retryer=new XU({fn:f.fetchFn,abort:null==c||null==(s=c.abort)?void 0:s.bind(c),onSuccess:function(t){o.setData(t),null==o.cache.config.onSuccess||o.cache.config.onSuccess(t,o),0===o.cacheTime&&o.optionalRemove()},onError:function(t){XN(t)&&t.silent||o.dispatch({type:"error",error:t}),XN(t)||(null==o.cache.config.onError||o.cache.config.onError(t,o),XH.error(t)),0===o.cacheTime&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay}),this.promise=this.retryer.promise,this.promise},n.dispatch=function(t){var n=this;this.state=this.reducer(this.state,t),XV.batch(function(){n.observers.forEach(function(n){n.onQueryUpdate(t)}),n.cache.notify({query:n,type:"queryUpdated",action:t})})},n.getDefaultState=function(t){var n="function"==typeof t.initialData?t.initialData():t.initialData,i=void 0!==t.initialData?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,r=void 0!==n;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},n.reducer=function(t,n){var i,r;switch(n.type){case"failed":return Xf({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return Xf({},t,{isPaused:!0});case"continue":return Xf({},t,{isPaused:!1});case"fetch":return Xf({},t,{fetchFailureCount:0,fetchMeta:null!=(i=n.meta)?i:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Xf({},t,{data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=n.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=n.error;return XN(s)&&s.revert&&this.revertState?Xf({},this.revertState):Xf({},t,{error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Xf({},t,{isInvalidated:!0});case"setState":return Xf({},t,n.state);default:return t}},t}(),Xz=function(t){function n(n){var i;return(i=t.call(this)||this).config=n||{},i.queries=[],i.queriesMap={},i}Xp(n,t);var i=n.prototype;return i.build=function(t,n,i){var r,s=n.queryKey,o=null!=(r=n.queryHash)?r:XS(s,n),a=this.get(o);return a||(a=new XQ({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s),meta:n.meta}),this.add(a)),a},i.add=function(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"queryAdded",query:t}))},i.remove=function(t){var n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(function(n){return n!==t}),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"queryRemoved",query:t}))},i.clear=function(){var t=this;XV.batch(function(){t.queries.forEach(function(n){t.remove(n)})})},i.get=function(t){return this.queriesMap[t]},i.getAll=function(){return this.queries},i.find=function(t,n){var i=Xw(t,n)[0];return void 0===i.exact&&(i.exact=!0),this.queries.find(function(t){return XC(i,t)})},i.findAll=function(t,n){var i=Xw(t,n)[0];return Object.keys(i).length>0?this.queries.filter(function(t){return XC(i,t)}):this.queries},i.notify=function(t){var n=this;XV.batch(function(){n.listeners.forEach(function(n){n(t)})})},i.onFocus=function(){var t=this;XV.batch(function(){t.queries.forEach(function(t){t.onFocus()})})},i.onOnline=function(){var t=this;XV.batch(function(){t.queries.forEach(function(t){t.onOnline()})})},n}(Xh),XG=function(){function t(t){this.options=Xf({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=t.meta}var n=t.prototype;return n.setState=function(t){this.dispatch({type:"setState",state:t})},n.addObserver=function(t){-1===this.observers.indexOf(t)&&this.observers.push(t)},n.removeObserver=function(t){this.observers=this.observers.filter(function(n){return n!==t})},n.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Xg).catch(Xg)):Promise.resolve()},n.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},n.execute=function(){var t,n=this,i="loading"===this.state.status,r=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==n.mutationCache.config.onMutate||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return null==n.options.onMutate?void 0:n.options.onMutate(n.state.variables)}).then(function(t){t!==n.state.context&&n.dispatch({type:"loading",context:t,variables:n.state.variables})})),r.then(function(){return n.executeMutation()}).then(function(i){t=i,null==n.mutationCache.config.onSuccess||n.mutationCache.config.onSuccess(t,n.state.variables,n.state.context,n)}).then(function(){return null==n.options.onSuccess?void 0:n.options.onSuccess(t,n.state.variables,n.state.context)}).then(function(){return null==n.options.onSettled?void 0:n.options.onSettled(t,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:t}),t}).catch(function(t){return null==n.mutationCache.config.onError||n.mutationCache.config.onError(t,n.state.variables,n.state.context,n),XH.error(t),Promise.resolve().then(function(){return null==n.options.onError?void 0:n.options.onError(t,n.state.variables,n.state.context)}).then(function(){return null==n.options.onSettled?void 0:n.options.onSettled(void 0,t,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:t}),t})})},n.executeMutation=function(){var t,n=this;return this.retryer=new XU({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay}),this.retryer.promise},n.dispatch=function(t){var n=this;this.state=function(t,n){switch(n.type){case"failed":return Xf({},t,{failureCount:t.failureCount+1});case"pause":return Xf({},t,{isPaused:!0});case"continue":return Xf({},t,{isPaused:!1});case"loading":return Xf({},t,{context:n.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:n.variables});case"success":return Xf({},t,{data:n.data,error:null,status:"success",isPaused:!1});case"error":return Xf({},t,{data:void 0,error:n.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Xf({},t,n.state);default:return t}}(this.state,t),XV.batch(function(){n.observers.forEach(function(n){n.onMutationUpdate(t)}),n.mutationCache.notify(n)})},t}(),Xq=function(t){function n(n){var i;return(i=t.call(this)||this).config=n||{},i.mutations=[],i.mutationId=0,i}Xp(n,t);var i=n.prototype;return i.build=function(t,n,i){var r=new XG({mutationCache:this,mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:i,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0,meta:n.meta});return this.add(r),r},i.add=function(t){this.mutations.push(t),this.notify(t)},i.remove=function(t){this.mutations=this.mutations.filter(function(n){return n!==t}),t.cancel(),this.notify(t)},i.clear=function(){var t=this;XV.batch(function(){t.mutations.forEach(function(n){t.remove(n)})})},i.getAll=function(){return this.mutations},i.find=function(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(function(n){return X_(t,n)})},i.findAll=function(t){return this.mutations.filter(function(n){return X_(t,n)})},i.notify=function(t){var n=this;XV.batch(function(){n.listeners.forEach(function(n){n(t)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var t=this.mutations.filter(function(t){return t.state.isPaused});return XV.batch(function(){return t.reduce(function(t,n){return t.then(function(){return n.continue().catch(Xg)})},Promise.resolve())})},n}(Xh);function XW(){return{onFetch:function(t){t.fetchFn=function(){var n,i,r,s,o,a,l,c=null==(n=t.fetchOptions)||null==(i=n.meta)?void 0:i.refetchPage,u=null==(r=t.fetchOptions)||null==(s=r.meta)?void 0:s.fetchMore,d=null==u?void 0:u.pageParam,p="forward"===(null==u?void 0:u.direction),h="backward"===(null==u?void 0:u.direction),f=(null==(o=t.state.data)?void 0:o.pages)||[],m=(null==(a=t.state.data)?void 0:a.pageParams)||[],g=Xj(),x=null==g?void 0:g.signal,y=m,v=!1,b=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},A=function(t,n,i,r){return y=r?[n].concat(y):[].concat(y,[n]),r?[i].concat(t):[].concat(t,[i])},w=function(n,i,r,s){if(v)return Promise.reject("Cancelled");if(void 0===r&&!i&&n.length)return Promise.resolve(n);var o=b({queryKey:t.queryKey,signal:x,pageParam:r,meta:t.meta}),a=Promise.resolve(o).then(function(t){return A(n,r,t,s)});return XF(o)&&(a.cancel=o.cancel),a};if(f.length){if(p){var C=void 0!==d,_=C?d:X$(t.options,f);l=w(f,C,_)}else if(h){var S=void 0!==d,k=S?d:XZ(t.options,f);l=w(f,S,k,!0)}else!function(){y=[];var n=void 0===t.options.getNextPageParam;l=!c||!f[0]||c(f[0],0,f)?w([],n,m[0]):Promise.resolve(A([],m[0],f[0]));for(var i=function(i){l=l.then(function(r){if(!c||!f[i]||c(f[i],i,f)){var s=n?m[i]:X$(t.options,r);return w(r,n,s)}return Promise.resolve(A(r,m[i],f[i]))})},r=1;r<f.length;r++)i(r)}()}else l=w([]);var E=l.then(function(t){return{pages:t,pageParams:y}});return E.cancel=function(){v=!0,null==g||g.abort(),XF(l)&&l.cancel()},E}}}}function X$(t,n){return null==t.getNextPageParam?void 0:t.getNextPageParam(n[n.length-1],n)}function XZ(t,n){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(n[0],n)}var XY=function(){function t(t){void 0===t&&(t={}),this.queryCache=t.queryCache||new Xz,this.mutationCache=t.mutationCache||new Xq,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var n=t.prototype;return n.mount=function(){var t=this;this.unsubscribeFocus=XP.subscribe(function(){XP.isFocused()&&XR.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=XR.subscribe(function(){XP.isFocused()&&XR.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},n.unmount=function(){var t,n;null==(t=this.unsubscribeFocus)||t.call(this),null==(n=this.unsubscribeOnline)||n.call(this)},n.isFetching=function(t,n){var i=Xw(t,n)[0];return i.fetching=!0,this.queryCache.findAll(i).length},n.isMutating=function(t){return this.mutationCache.findAll(Xf({},t,{fetching:!0})).length},n.getQueryData=function(t,n){var i;return null==(i=this.queryCache.find(t,n))?void 0:i.state.data},n.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(t){return[t.queryKey,t.state.data]})},n.setQueryData=function(t,n,i){var r=XA(t),s=this.defaultQueryOptions(r);return this.queryCache.build(this,s).setData(n,i)},n.setQueriesData=function(t,n,i){var r=this;return XV.batch(function(){return r.getQueryCache().findAll(t).map(function(t){var s=t.queryKey;return[s,r.setQueryData(s,n,i)]})})},n.getQueryState=function(t,n){var i;return null==(i=this.queryCache.find(t,n))?void 0:i.state},n.removeQueries=function(t,n){var i=Xw(t,n)[0],r=this.queryCache;XV.batch(function(){r.findAll(i).forEach(function(t){r.remove(t)})})},n.resetQueries=function(t,n,i){var r=this,s=Xw(t,n,i),o=s[0],a=s[1],l=this.queryCache,c=Xf({},o,{active:!0});return XV.batch(function(){return l.findAll(o).forEach(function(t){t.reset()}),r.refetchQueries(c,a)})},n.cancelQueries=function(t,n,i){var r=this,s=Xw(t,n,i),o=s[0],a=s[1],l=void 0===a?{}:a;return void 0===l.revert&&(l.revert=!0),Promise.all(XV.batch(function(){return r.queryCache.findAll(o).map(function(t){return t.cancel(l)})})).then(Xg).catch(Xg)},n.invalidateQueries=function(t,n,i){var r,s,o,a=this,l=Xw(t,n,i),c=l[0],u=l[1],d=Xf({},c,{active:null==(r=null!=(s=c.refetchActive)?s:c.active)||r,inactive:null!=(o=c.refetchInactive)&&o});return XV.batch(function(){return a.queryCache.findAll(c).forEach(function(t){t.invalidate()}),a.refetchQueries(d,u)})},n.refetchQueries=function(t,n,i){var r=this,s=Xw(t,n,i),o=s[0],a=s[1],l=Promise.all(XV.batch(function(){return r.queryCache.findAll(o).map(function(t){return t.fetch(void 0,Xf({},a,{meta:{refetchPage:null==o?void 0:o.refetchPage}}))})})).then(Xg);return(null==a?void 0:a.throwOnError)||(l=l.catch(Xg)),l},n.fetchQuery=function(t,n,i){var r=XA(t,n,i),s=this.defaultQueryOptions(r);void 0===s.retry&&(s.retry=!1);var o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)},n.prefetchQuery=function(t,n,i){return this.fetchQuery(t,n,i).then(Xg).catch(Xg)},n.fetchInfiniteQuery=function(t,n,i){var r=XA(t,n,i);return r.behavior=XW(),this.fetchQuery(r)},n.prefetchInfiniteQuery=function(t,n,i){return this.fetchInfiniteQuery(t,n,i).then(Xg).catch(Xg)},n.cancelMutations=function(){var t=this;return Promise.all(XV.batch(function(){return t.mutationCache.getAll().map(function(t){return t.cancel()})})).then(Xg).catch(Xg)},n.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},n.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},n.getQueryCache=function(){return this.queryCache},n.getMutationCache=function(){return this.mutationCache},n.getDefaultOptions=function(){return this.defaultOptions},n.setDefaultOptions=function(t){this.defaultOptions=t},n.setQueryDefaults=function(t,n){var i=this.queryDefaults.find(function(n){return Xk(t)===Xk(n.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})},n.getQueryDefaults=function(t){var n;return t?null==(n=this.queryDefaults.find(function(n){return XE(t,n.queryKey)}))?void 0:n.defaultOptions:void 0},n.setMutationDefaults=function(t,n){var i=this.mutationDefaults.find(function(n){return Xk(t)===Xk(n.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})},n.getMutationDefaults=function(t){var n;return t?null==(n=this.mutationDefaults.find(function(n){return XE(t,n.mutationKey)}))?void 0:n.defaultOptions:void 0},n.defaultQueryOptions=function(t){if(null==t?void 0:t._defaulted)return t;var n=Xf({},this.defaultOptions.queries,this.getQueryDefaults(null==t?void 0:t.queryKey),t,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=XS(n.queryKey,n)),n},n.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},n.defaultMutationOptions=function(t){return(null==t?void 0:t._defaulted)?t:Xf({},this.defaultOptions.mutations,this.getMutationDefaults(null==t?void 0:t.mutationKey),t,{_defaulted:!0})},n.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),XK=function(t){function n(n,i){var r;return(r=t.call(this)||this).client=n,r.options=i,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(i),r}Xp(n,t);var i=n.prototype;return i.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},i.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),XX(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.shouldFetchOnReconnect=function(){return XJ(this.currentQuery,this.options,this.options.refetchOnReconnect)},i.shouldFetchOnWindowFocus=function(){return XJ(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},i.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},i.setOptions=function(t,n){var i=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();var s=this.hasListeners();s&&X0(this.currentQuery,r,this.options,i)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();var o=this.computeRefetchInterval();s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)},i.getOptimisticResult=function(t){var n=this.client.defaultQueryObserverOptions(t),i=this.client.getQueryCache().build(this.client,n);return this.createResult(i,n)},i.getCurrentResult=function(){return this.currentResult},i.trackResult=function(t,n){var i=this,r={},s=function(t){i.trackedProps.includes(t)||i.trackedProps.push(t)};return Object.keys(t).forEach(function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return s(n),t[n]}})}),(n.useErrorBoundary||n.suspense)&&s("error"),r},i.getNextResult=function(t){var n=this;return new Promise(function(i,r){var s=n.subscribe(function(n){n.isFetching||(s(),n.isError&&(null==t?void 0:t.throwOnError)?r(n.error):i(n))})})},i.getCurrentQuery=function(){return this.currentQuery},i.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},i.refetch=function(t){return this.fetch(Xf({},t,{meta:{refetchPage:null==t?void 0:t.refetchPage}}))},i.fetchOptimistic=function(t){var n=this,i=this.client.defaultQueryObserverOptions(t),r=this.client.getQueryCache().build(this.client,i);return r.fetch().then(function(){return n.createResult(r,i)})},i.fetch=function(t){var n=this;return this.executeFetch(t).then(function(){return n.updateResult(),n.currentResult})},i.executeFetch=function(t){this.updateQuery();var n=this.currentQuery.fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(n=n.catch(Xg)),n},i.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!Xm&&!this.currentResult.isStale&&Xx(this.options.staleTime)){var n=Xb(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},n)}},i.computeRefetchInterval=function(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t},i.updateRefetchInterval=function(t){var n=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!Xm&&!1!==this.options.enabled&&Xx(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(n.options.refetchIntervalInBackground||XP.isFocused())&&n.executeFetch()},this.currentRefetchInterval))},i.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},i.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},i.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},i.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},i.createResult=function(t,n){var i,r,s=this.currentQuery,o=this.options,a=this.currentResult,l=this.currentResultState,c=this.currentResultOptions,u=t!==s,d=u?t.state:this.currentQueryInitialState,p=u?this.currentResult:this.previousQueryResult,h=t.state,f=h.dataUpdatedAt,m=h.error,g=h.errorUpdatedAt,x=h.isFetching,y=h.status,v=!1,b=!1;if(n.optimisticResults){var A=this.hasListeners(),w=!A&&XX(t,n),C=A&&X0(t,s,n,o);(w||C)&&(x=!0,f||(y="loading"))}if(n.keepPreviousData&&!h.dataUpdateCount&&(null==p?void 0:p.isSuccess)&&"error"!==y)r=p.data,f=p.dataUpdatedAt,y=p.status,v=!0;else if(n.select&&void 0!==h.data){if(a&&h.data===(null==l?void 0:l.data)&&n.select===this.selectFn)r=this.selectResult;else try{this.selectFn=n.select,r=n.select(h.data),!1!==n.structuralSharing&&(r=XM(null==a?void 0:a.data,r)),this.selectResult=r,this.selectError=null}catch(t){XH.error(t),this.selectError=t}}else r=h.data;if(void 0!==n.placeholderData&&void 0===r&&("loading"===y||"idle"===y)){if((null==a?void 0:a.isPlaceholderData)&&n.placeholderData===(null==c?void 0:c.placeholderData))i=a.data;else if(i="function"==typeof n.placeholderData?n.placeholderData():n.placeholderData,n.select&&void 0!==i)try{i=n.select(i),!1!==n.structuralSharing&&(i=XM(null==a?void 0:a.data,i)),this.selectError=null}catch(t){XH.error(t),this.selectError=t}void 0!==i&&(y="success",r=i,b=!0)}return this.selectError&&(m=this.selectError,r=this.selectResult,g=Date.now(),y="error"),{status:y,isLoading:"loading"===y,isSuccess:"success"===y,isError:"error"===y,isIdle:"idle"===y,data:r,dataUpdatedAt:f,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&"loading"!==y,isLoadingError:"error"===y&&0===h.dataUpdatedAt,isPlaceholderData:b,isPreviousData:v,isRefetchError:"error"===y&&0!==h.dataUpdatedAt,isStale:X1(t,n),refetch:this.refetch,remove:this.remove}},i.shouldNotifyListeners=function(t,n){if(!n)return!0;var i=this.options,r=i.notifyOnChangeProps,s=i.notifyOnChangePropsExclusions;if(!r&&!s||"tracked"===r&&!this.trackedProps.length)return!0;var o="tracked"===r?this.trackedProps:r;return Object.keys(t).some(function(i){var r=t[i]!==n[i],a=null==o?void 0:o.some(function(t){return t===i}),l=null==s?void 0:s.some(function(t){return t===i});return r&&!l&&(!o||a)})},i.updateResult=function(t){var n=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!function(t,n){if(t&&!n||n&&!t)return!1;for(var i in t)if(t[i]!==n[i])return!1;return!0}(this.currentResult,n)){var i={cache:!0};!1!==(null==t?void 0:t.listeners)&&this.shouldNotifyListeners(this.currentResult,n)&&(i.listeners=!0),this.notify(Xf({},i,t))}},i.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==n||n.removeObserver(this),t.addObserver(this))}},i.onQueryUpdate=function(t){var n={};"success"===t.type?n.onSuccess=!0:"error"!==t.type||XN(t.error)||(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()},i.notify=function(t){var n=this;XV.batch(function(){t.onSuccess?(null==n.options.onSuccess||n.options.onSuccess(n.currentResult.data),null==n.options.onSettled||n.options.onSettled(n.currentResult.data,null)):t.onError&&(null==n.options.onError||n.options.onError(n.currentResult.error),null==n.options.onSettled||n.options.onSettled(void 0,n.currentResult.error)),t.listeners&&n.listeners.forEach(function(t){t(n.currentResult)}),t.cache&&n.client.getQueryCache().notify({query:n.currentQuery,type:"observerResultsUpdated"})})},n}(Xh);function XX(t,n){return!(!1===n.enabled||t.state.dataUpdatedAt||"error"===t.state.status&&!1===n.retryOnMount)||t.state.dataUpdatedAt>0&&XJ(t,n,n.refetchOnMount)}function XJ(t,n,i){if(!1!==n.enabled){var r="function"==typeof i?i(t):i;return"always"===r||!1!==r&&X1(t,n)}return!1}function X0(t,n,i,r){return!1!==i.enabled&&(t!==n||!1===r.enabled)&&(!i.suspense||"error"!==t.state.status)&&X1(t,i)}function X1(t,n){return t.isStaleByTime(n.staleTime)}var X2=function(t){function n(n,i){var r;return(r=t.call(this)||this).client=n,r.queries=[],r.result=[],r.observers=[],r.observersMap={},i&&r.setQueries(i),r}Xp(n,t);var i=n.prototype;return i.onSubscribe=function(){var t=this;1===this.listeners.length&&this.observers.forEach(function(n){n.subscribe(function(i){t.onUpdate(n,i)})})},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.destroy=function(){this.listeners=[],this.observers.forEach(function(t){t.destroy()})},i.setQueries=function(t,n){this.queries=t,this.updateObservers(n)},i.getCurrentResult=function(){return this.result},i.getOptimisticResult=function(t){return this.findMatchingObservers(t).map(function(t){return t.observer.getOptimisticResult(t.defaultedQueryOptions)})},i.findMatchingObservers=function(t){var n=this,i=this.observers,r=t.map(function(t){return n.client.defaultQueryObserverOptions(t)}),s=r.flatMap(function(t){var n=i.find(function(n){return n.options.queryHash===t.queryHash});return null!=n?[{defaultedQueryOptions:t,observer:n}]:[]}),o=s.map(function(t){return t.defaultedQueryOptions.queryHash}),a=r.filter(function(t){return!o.includes(t.queryHash)}),l=i.filter(function(t){return!s.some(function(n){return n.observer===t})}),c=a.map(function(t,i){if(t.keepPreviousData){var r=l[i];if(void 0!==r)return{defaultedQueryOptions:t,observer:r}}return{defaultedQueryOptions:t,observer:n.getObserver(t)}});return s.concat(c).sort(function(t,n){return r.indexOf(t.defaultedQueryOptions)-r.indexOf(n.defaultedQueryOptions)})},i.getObserver=function(t){var n=this.client.defaultQueryObserverOptions(t),i=this.observersMap[n.queryHash];return null!=i?i:new XK(this.client,n)},i.updateObservers=function(t){var n=this;XV.batch(function(){var i=n.observers,r=n.findMatchingObservers(n.queries);r.forEach(function(n){return n.observer.setOptions(n.defaultedQueryOptions,t)});var s=r.map(function(t){return t.observer}),o=Object.fromEntries(s.map(function(t){return[t.options.queryHash,t]})),a=s.map(function(t){return t.getCurrentResult()}),l=s.some(function(t,n){return t!==i[n]});(i.length!==s.length||l)&&(n.observers=s,n.observersMap=o,n.result=a,n.hasListeners()&&(Xv(i,s).forEach(function(t){t.destroy()}),Xv(s,i).forEach(function(t){t.subscribe(function(i){n.onUpdate(t,i)})}),n.notify()))})},i.onUpdate=function(t,n){var i,r=this.observers.indexOf(t);-1!==r&&(this.result=((i=this.result.slice(0))[r]=n,i),this.notify())},i.notify=function(){var t=this;XV.batch(function(){t.listeners.forEach(function(n){n(t.result)})})},n}(Xh),X3=function(t){function n(n,i){return t.call(this,n,i)||this}Xp(n,t);var i=n.prototype;return i.bindMethods=function(){t.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},i.setOptions=function(n,i){t.prototype.setOptions.call(this,Xf({},n,{behavior:XW()}),i)},i.getOptimisticResult=function(n){return n.behavior=XW(),t.prototype.getOptimisticResult.call(this,n)},i.fetchNextPage=function(t){var n;return this.fetch({cancelRefetch:null==(n=null==t?void 0:t.cancelRefetch)||n,throwOnError:null==t?void 0:t.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:null==t?void 0:t.pageParam}}})},i.fetchPreviousPage=function(t){var n;return this.fetch({cancelRefetch:null==(n=null==t?void 0:t.cancelRefetch)||n,throwOnError:null==t?void 0:t.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:null==t?void 0:t.pageParam}}})},i.createResult=function(n,i){var r,s,o,a,l,c,u=n.state;return Xf({},t.prototype.createResult.call(this,n,i),{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(t,n){if(t.getNextPageParam&&Array.isArray(n)){var i=X$(t,n);return null!=i&&!1!==i}}(i,null==(r=u.data)?void 0:r.pages),hasPreviousPage:function(t,n){if(t.getPreviousPageParam&&Array.isArray(n)){var i=XZ(t,n);return null!=i&&!1!==i}}(i,null==(s=u.data)?void 0:s.pages),isFetchingNextPage:u.isFetching&&"forward"===(null==(o=u.fetchMeta)||null==(a=o.fetchMore)?void 0:a.direction),isFetchingPreviousPage:u.isFetching&&"backward"===(null==(l=u.fetchMeta)||null==(c=l.fetchMore)?void 0:c.direction)})},n}(XK),X5=SV(S4()).default.unstable_batchedUpdates;XV.setBatchNotifyFunction(X5),XH=console;var X4=SV(Sz()),X6=X4.default.createContext(void 0),X8=X4.default.createContext(!1);function X7(t){return t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=X6),window.ReactQueryClientContext):X6}var X9,Je,Jt=function(){var t=X4.default.useContext(X7(X4.default.useContext(X8)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},Jn=SV(Sz()),Ji=Jn.default.createContext((Je=!1,{clearReset:function(){Je=!1},reset:function(){Je=!0},isReset:function(){return Je}})),Jr=SV(Sz());function Js(t,n){var i=Jr.default.useRef(!1),r=Jr.default.useState(0)[1],s=Jt(),o=Jn.default.useContext(Ji),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=XV.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=XV.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=XV.batchCalls(a.onSettled)),a.suspense&&("number"!=typeof a.staleTime&&(a.staleTime=1e3),0===a.cacheTime&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l,c,u,d=Jr.default.useState(function(){return new n(s,a)})[0],p=d.getOptimisticResult(a);if(Jr.default.useEffect(function(){i.current=!0,o.clearReset();var t=d.subscribe(XV.batchCalls(function(){i.current&&r(function(t){return t+1})}));return d.updateResult(),function(){i.current=!1,t()}},[o,d]),Jr.default.useEffect(function(){d.setOptions(a,{listeners:!1})},[a,d]),a.suspense&&p.isLoading)throw d.fetchOptimistic(a).then(function(t){var n=t.data;null==a.onSuccess||a.onSuccess(n),null==a.onSettled||a.onSettled(n,null)}).catch(function(t){o.clearReset(),null==a.onError||a.onError(t),null==a.onSettled||a.onSettled(void 0,t)});if(p.isError&&!o.isReset()&&!p.isFetching&&(l=a.suspense,c=a.useErrorBoundary,u=[p.error,d.getCurrentQuery()],"function"==typeof c?c.apply(void 0,u):"boolean"==typeof c?c:l))throw p.error;return"tracked"===a.notifyOnChangeProps&&(p=d.trackResult(p,a)),p}function Jo(t,n,i){return Js(XA(t,n,i),XK)}var Ja=SV(Sz()),Jl=(0,SV(Sz()).createContext)({});function Jc(){let t=YB(),[n,i]=K1(t.settings.roles.regularRole),[r,s]=K1(t.settings.roles.previewRole),[o]=K1(t.settings.roles.effectiveRole);return[o,{configuredRole:n,setConfiguredRole:i,previewRole:r,setPreviewRole:s}]}var Ju=function(){return YB().engine},Jd=SV(EW()),Jp=SV(Sz());function Jh(t,n,i={equals:Jd.default}){let{debugName:r,equals:s}=i,o=(0,Jp.useRef)(n);o.current=n;let a=(0,Jp.useRef)({reaction:Jm,engine:void 0}),[,l]=(0,Jp.useState)(0);if(a.current.engine!==t){if(t){let n=t.reactor.createReaction(r);a.current={reaction:n,engine:t}}else a.current={reaction:Jm,engine:t}}let c=a.current.reaction,u=(0,Jp.useMemo)(()=>{var n;let i;let r=()=>(0,o.current)(t);return n=()=>c.track(r),s?(...t)=>{let r=n(...t);return s(r,i)||(i=r),i}:n},[c,s,t])();return(0,Jp.useEffect)(()=>c.subscribe(function(){l(t=>t+1)}),[c]),u}var Jf=(t,n)=>t===n,Jm={track:t=>t(),subscribe:()=>function(){}},Jg=function(t,n){return function(t,n){let i=n?.debugName,r=n?.useEngine,s=0;function o(n,a,...l){let c=r?.()??n.engine,u=(0,Jp.useRef)();return void 0===u.current&&null!=i&&(u.current=i+s++),Jh(c,t.bind(void 0,{...n,engine:c},a,...l),{debugName:u.current,equals:Jf})??null}return o.displayName=`withEngine(${t.displayName||t.name})`,o}(t,{...n,useEngine:Ju})},Jx={"editor/inspect":["Creator","Adopter"],"editor/present":["Presenter"],"editor/managePages":["Creator"],"editor/zoom":["Creator","Adopter","Presenter"],"ui/placeholder":["Creator"],"ui/group":["Creator"],"ui/copyPasteScene":["Creator"],"ui/replaceAssetOnSelect":["Adopter"],"ui/manageExportable":["Creator"],"ui/fixLayers":["Creator"],"ui/inspectScene":["Creator"]};function Jy(t){let[n]=Jc();return Jx[t].includes(n)}function Jv(t,n){let i=Ju();return Jh(i,()=>null==n&&null==(n=i.block.findAllSelected()[0])?!!Array.isArray(t)&&Array(t.length).fill(!1):Array.isArray(t)?t.map(t=>i.block.isAllowedByScope(n,t)):i.block.isAllowedByScope(n,t))}SV(Sz()),(window.Cypress||window.IS_PLAYWRIGHT)&&Promise.resolve({state:"supported",supported:!0}),new XY({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});var Jb=SV(kp()),JA=SV(Sz()),Jw=$O((t,n)=>{t.requestFocusForDesignElementId=n}),JC=()=>{let t=YB(),n=Kv();return{clearFocusRequest:()=>{n.clearFocusRequest()},focusElement:t=>{n.requestFocus(t)},focusSelectedElement:()=>{let[i]=t.engine.block.findAllSelected();n.requestFocus(i)},focusSelectedElementOrDocument:()=>{let[i]=t.engine.block.findAllSelected();n.requestFocus(i??-1)},focusDocument:()=>{n.requestFocus(-1)}}},J_=SV(Sz()),JS=(0,J_.createContext)(null);function Jk(){let t=(0,J_.useContext)(JS);if(!t)throw Error("useShortcutScope must be used within a ShortcutScope");return t}var JE=SV(kB()),JM=SV(Sz()),JI=SV(S$()),JT=SV(SH()),JB=SV(Sz()),JL=SV(S$()),Jj=(0,JB.forwardRef)(function({scope:t,label:n,className:i,...r},s){let o=(0,JB.useRef)(null),{registerScope:a,unregisterScope:l,getScope:c}=Jk();return(0,JB.useEffect)(()=>{let n=o.current;if(!n)return;a(t,n);let i=document.getElementById("root-shadow"),r=Ov&&i?.shadowRoot?i.shadowRoot:document,s=!1,u=()=>{s=!0},d=()=>{s=!1},p=n=>{s&&c(t)?.callbacks.forEach(t=>{t(n,r.activeElement)})};return n.addEventListener("focus",u,!0),n.addEventListener("blur",d,!0),n.addEventListener("keydown",p),()=>{n.removeEventListener("focus",u,!0),n.removeEventListener("blur",d,!0),n.removeEventListener("keydown",p),l(t)}},[c,a,t,l]),(0,JL.jsx)("div",{tabIndex:-1,role:"region","aria-label":n,className:(0,JT.default)("UBQ_ShortcutScope-module__block---dZny",i),ref:NT(o,s),...r})}),JP="video-timeline",JR="editor",JD="UBQ_Canvas-module__block--Es62A",JF=SV(SH()),JO=SV(Sz()),JN=(SV(Sz()),SV(S$())),JU=t=>(0,JN.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,JN.jsx)("path",{d:"M12.7072 3.2929L17.2072 7.79293L15.793 9.20714L13.0001 6.41422V14H11.0001V6.41423L8.20719 9.20714L6.79297 7.79293L11.293 3.2929C11.4805 3.10536 11.7349 3 12.0001 3C12.2653 3 12.5197 3.10536 12.7072 3.2929Z",fill:"currentColor"}),(0,JN.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 17V14H5V17C5 17.5523 5.44772 18 6 18H18C18.5523 18 19 17.5523 19 17V14H21V17C21 18.6569 19.6569 20 18 20H6C4.34315 20 3 18.6569 3 17Z",fill:"currentColor"})]}),JV=SV(Sz()),JH=()=>(0,JV.useContext)(Jl),JQ=SV(S$());function Jz(t){let{a11y:n}=JH();return(0,JQ.jsx)(N5,{...t,start:n.headingsHierarchyStart})}SV(S$());var JG=SV(Sz()),Jq=(t,n)=>t.filter(t=>n.some(n=>t.type===n)),JW=((()=>{let t;Oy&&((t=document.createElement("input")).setAttribute("type","file"),t.style.display="none",document.body.appendChild(t))})(),SV(Sz())),J$=t=>{let{callback:n,options:i}=Yo(JH());return[n,{supportedMimeTypes:i.supportedMimeTypes?i.supportedMimeTypes.filter(n=>t?.includes(n)):t,...i}]},JZ=SV(Sz()),JY=SV(S$()),JK=(0,JZ.createContext)({setUpload:Kk,setUploadError:Kk,setUploadProgress:Kk}),JX=(0,JZ.createContext)({upload:[],uploadError:void 0,uploadProgress:0});function JJ(){return(0,JZ.useContext)(JK)}var J0=t=>{let n={};return(i,r)=>{let s=r.size/t;n[r.name]=i*s;let o=Object.values(n).reduce((t,n)=>t+n,0);return{progress:o,track:t=>t(o)}}},J1=t=>{let{setUpload:n,setUploadProgress:i,setUploadError:r}=JJ(),s=YB(),[o,a]=J$(t);return{uploadHandler:(0,JW.useCallback)(t=>async a=>{try{if(o&&a.length>0){t?.hideUploadModal||n(a.map(({file:t})=>t));let r=a.reduce((t,{file:n})=>t+n.size,0),l=J0(r),c=await Promise.all(a.map(({file:n,addToAssetSource:r,skipRegister:a,applyAssetAfterUpload:c,applyAssetTarget:u,size:d})=>s.uploadAsset(n,r=>{t?.hideUploadModal||l(r,n).track(i)},o,{size:d,addToAssetSource:r,skipRegister:a,applyAssetAfterUpload:c,applyAssetTarget:u})));return t?.hideUploadModal||(n(void 0),i(void 0)),c}}catch(n){t?.hideUploadModal||r(String(n))}return Promise.resolve([])},[o]),uploadEnabled:!!o,uploadOptions:{supportedMimeTypes:a.supportedMimeTypes}}},J2=()=>{let t=YT(),n=t.ui.findAllAssetLibraryEntries(),{uploadEnabled:i,uploadHandler:r,uploadOptions:s}=J1(),o=Ju(),a=(0,JG.useCallback)(()=>{let i={};return n.forEach(n=>{let r=t.ui.getAssetLibraryEntry(n);if(null==r)return;let s=o.asset.findAllSources();r.sourceIds.forEach(t=>{if(s.includes(t)&&null!=r.canAdd&&("function"==typeof r.canAdd?r.canAdd(t):r.canAdd)){let n=o.asset.getSupportedMimeTypes(t);i[t]=n}})}),{allSupportedMimeTypes:Array.from(new Set(Object.values(i).flat())),sourcesSupportedMimeTypes:i}},[o.asset,n,t.ui]);return(0,JG.useCallback)(n=>{if(i&&n.length>0){let{allSupportedMimeTypes:i,sourcesSupportedMimeTypes:o}=a(),l=s.supportedMimeTypes?Jq(Array.from(n),s.supportedMimeTypes.filter(t=>i.includes(t))):Jq(Array.from(n),i);l.length>0?r()(l.map(t=>{let n=Object.keys(o).find(n=>o[n].includes(t.type));return{file:t,addToAssetSource:n?{sourceId:n}:void 0,applyAssetAfterUpload:!0}})):t.ui.showNotification({type:"error",message:"warning.invalidType"})}return Kk},[t,r,i,s.supportedMimeTypes,a])},J3={block:"UBQ_CanvasDropLayer-module__block--jpUOe",isDragging:"UBQ_CanvasDropLayer-module__isDragging--ijDJs",isDraggingFile:"UBQ_CanvasDropLayer-module__isDraggingFile--GpNBc",dragOver:"UBQ_CanvasDropLayer-module__dragOver--QbKQM",message:"UBQ_CanvasDropLayer-module__message--XKdOW"},J5=SV(S$()),J4=function({editorContainer:t}){let{t:n}=qL(),{uploadEnabled:i}=J1(),r=J2(),[s,o]=(0,JO.useState)(0),[a,l]=(0,JO.useState)(!1),[c,u]=(0,JO.useState)(),d=s>0&&("Files"!==c||i);return(0,JO.useEffect)(()=>{let n=t=>{t.dataTransfer?.types.includes("Files")&&u("Files"),t.dataTransfer?.types.includes("//ly.img.asset")&&u("//ly.img.asset"),o(t=>t+1)},i=()=>{o(t=>t-1)},r=t=>{t.dataTransfer?.types.includes("Files")&&t.preventDefault()},s=t=>{t.preventDefault(),o(0),l(!1)};return t.addEventListener("dragenter",n,!1),t.addEventListener("dragleave",i,!1),t.addEventListener("dragover",r,!1),t.addEventListener("drop",s,!1),()=>{t.removeEventListener("dragenter",n,!1),t.removeEventListener("dragleave",i,!1),t.removeEventListener("dragover",r,!1),t.removeEventListener("drop",s,!1)}},[t]),(0,J5.jsx)(Da,{children:d&&(0,J5.jsx)(R1.div,{"data-cy":"canvas-drop-layer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:(0,JF.default)(J3.block,{[J3.isDragging]:d,[J3.isDraggingFile]:d&&"Files"===c,[J3.dragOver]:a}),onDragOver:t=>{t.dataTransfer.types.includes("//ly.img.asset")&&t.preventDefault(),t.dataTransfer.types.includes("Files")&&i&&t.preventDefault()},onDragEnter:()=>{l(!0)},onDragLeave:()=>{l(!1)},onDrop:t=>{t.dataTransfer.types.includes("//ly.img.asset")&&t.preventDefault(),t.dataTransfer.types.includes("Files")&&(t.preventDefault(),r(t.dataTransfer.files)),l(!1)},children:"Files"===c&&(0,J5.jsxs)("div",{className:J3.message,children:[(0,J5.jsx)(JU,{width:"32px",height:"32px"}),(0,J5.jsxs)("div",{children:[(0,J5.jsx)(Jz,{level:1,className:J3.heading,children:n("component.dnd.prompt")}),(0,J5.jsx)("p",{children:n("component.dnd.description")})]})]})})})},J6=SV(Sz()),J8=SV(Sz()),J7=SV(SX()),J9=(t,n)=>{switch(t){case"//ly.img.ubq/page":return n("block.page");case"//ly.img.ubq/text":return n("block.text");case"//ly.img.ubq/group":return n("block.group");case"//ly.img.ubq/scene":return n("block.scene");case"//ly.img.ubq/audio":return n("block.audio");case"//ly.img.ubq/graphic":return n("block.graphic");default:return t}},eee=(SV(S7()),SV(Sz())),eet=()=>{let t=YB(),{focusSelectedElement:n}=JC();return(0,eee.useMemo)(()=>{var i;let r=n=>i=>t.legacyApi.sendKey({key:n,altKey:i.altKey,ctrlKey:i.ctrlKey,metaKey:i.metaKey,shiftKey:i.shiftKey});return{up:r("arrowup"),down:r("arrowdown"),left:r("arrowleft"),right:r("arrowright"),enter:(i="enter",t=>r(i)(t).then(n))}},[t,n])},een=SV(Sz()),eei="layer/move",eer="layer/resize",ees="layer/rotate",eeo="layer/flip",eea="layer/crop",eel="layer/opacity",eec="layer/blendMode",eeu="appearance/adjustments",eed="appearance/filter",eep="appearance/effect",eeh="appearance/blur",eef="appearance/shadow",eem="appearance/animation",eeg="text/edit",eex="text/character",eey="fill/change",eev="fill/changeType",eeb="stroke/change",eeA="shape/change",eew="lifecycle/destroy",eeC="lifecycle/duplicate",ee_="editor/select",eeS=()=>{let t=Ju(),{focusElement:n,focusDocument:i}=JC();return(0,een.useMemo)(()=>({escape:async()=>{let[r]=t.block.findAllSelected();if(!r)return;let s=t.block.getParent(r);if(!s)return;let o="//ly.img.ubq/group"===t.block.getType(s),a=t.block.isAllowedByScope(s,ee_);o&&a?(t.block.select(s),n(s)):(t.block.findAllSelected().forEach(n=>t.block.setSelected(n,!1)),i())}}),[t.block,i,n])},eek="UBQ_Inspector-module__block--epBkD",eeE="canvas-action",eeM=`button[data-ubq-action=${eeE}]`,eeI=(t,n,i)=>{let r=n?.querySelector(eeM);r&&r.focus?r.focus():Jw(t,i||-1)},eeT=SV(S$()),eeB=Xc(({element:t,storeButtonRefCallback:n,clearFocusRequest:i,containerRef:r})=>{let s=YB(),o=Kv(),{requestFocusForDesignElementId:a}=o,{t:l}=qL(),[c]=K1(s.channels.editor.editMode),u=J9(t.type,l);return(0,eeT.jsx)("button",{ref:i=>n(t.id,i),type:"button",disabled:"Transform"!==c,onFocus:async()=>{let n="//ly.img.ubq/page"===t.type,r=t.id,o=s.engine.scene.getCurrentPage(),l=s.engine.block.findAllSelected().length>1;n&&r!==o&&null!=r&&s.engine.block.isValid(r)&&!l&&s.scrollToPage(r),l||(a?i():s.engine.block.select(t.id))},onClick:()=>{r&&r.current&&eeI(o,r.current,t.id)},"aria-label":`${l("common.edit")}: ${u}`,"data-ubq-canvas-layer-id":t.id.toString()})}),eeL=J6.memo(Xc(function({containerRef:t}){let{t:n}=qL(),i=YB(),r=Kv(),{requestFocusForDesignElementId:s}=r,{clearFocusRequest:o}=JC(),a=(0,J8.useRef)({}),l=K$(),c=l.filter(t=>"//ly.img.ubq/track"!==t.type&&(t.selectable||!1)),u=t=>{void 0!==a.current[t]&&(t=>{let n=a.current[t];n?.focus({preventScroll:!0})})(t)},d=(t,n)=>{null!==n&&(a.current[t]=n)};(0,J8.useEffect)(()=>{s&&u(s)},[s,l]);let p=(0,J8.useRef)(null);GX({elementRef:p,...eeS(),...eet()});let h=void 0===r.activeGroup;return(0,eeT.jsxs)("div",{className:"UBQ_CanvasLayers-module__block--YbYJt",ref:p,children:[h?(0,eeT.jsx)("button",{ref:t=>{d(-1,t)},type:"button",onFocus:()=>{s?o():i.engine.block.findAllSelected().forEach(t=>i.engine.block.setSelected(t,!1))},onClick:()=>{let t=document.getElementsByClassName(eek)[0];if(t){let n=(0,J7.tabbable)(t)[0];n&&n.focus&&n.focus()}},"aria-label":`${n("common.edit")}: ${J9("//ly.img.ubq/scene",n)}`,"data-ubq-canvas-layer-id":-1},-1):null,c.map(n=>(0,eeT.jsx)(eeB,{element:n,containerRef:t,clearFocusRequest:o,storeButtonRefCallback:d},n.id))]})})),eej={block:"UBQ_CanvasState-module__block--Ra7-d",container:"UBQ_CanvasState-module__container--WWE5C",message:"UBQ_CanvasState-module__message--XHJD6",loadingSpinner:"UBQ_CanvasState-module__loadingSpinner--L697s"},eeP=SV(S$());function eeR(){let{t:t}=qL(),n=t("component.canvas.state.loading"),i=t("component.canvas.state.loading.description");return(0,eeP.jsx)("div",{className:eej.block,children:(0,eeP.jsx)("div",{className:eej.container,"data-cy":"loading-engine",children:(0,eeP.jsxs)("div",{className:eej.message,children:[(0,eeP.jsx)(DI,{className:eej.loadingSpinner}),(0,eeP.jsxs)("div",{className:eej.info,children:[(0,eeP.jsx)(Jz,{level:1,children:n}),(0,eeP.jsx)("p",{children:i})]})]})})})}var eeD=SV(SH()),eeF=SV(Sz()),eeO=SV(kk()),eeN="UBQ_ScrollBar-module__block--on2Lf",eeU="UBQ_ScrollBar-module__show--drFy1",eeV="UBQ_ScrollBar-module__handle--dxO8i",eeH="UBQ_ScrollBar-module__horizontal--knmMS",eeQ="UBQ_ScrollBar-module__vertical--Cr-e1",eez="UBQ_ScrollBar-module__isDragging--D6cEm",eeG="UBQ_ScrollBar-module__isDisabled--ef7zz",eeq=SV(Sz());function eeW(t){let[n,i]=(0,eeq.useState)(!1),r=()=>i(!0),s=()=>i(!1),o=t.current;return(0,eeq.useEffect)(()=>o?(o.addEventListener("mouseover",r),o.addEventListener("mouseout",s),()=>{o.removeEventListener("mouseover",r),o.removeEventListener("mouseout",s)}):Kk,[o]),n}function ee$(t,n,i,r){let s=eeW(r),o=2*parseInt(F3("--ubq-scale-base"),10),a=KK(),[l]=K1(a.camera.scrollPercentage),[c]=K1(a.camera.sceneSize),u=l[i],d=c[i],p=n-o,h=d/p;if(Number.isNaN(u)||0===d)return{show:!1,disabled:!0,handleProps:{offset:0,size:20},scrollCoefficient:h};let f=Math.max(Math.round(p/d*p),20);return{show:p<d&&(t||s),disabled:!1,handleProps:{offset:u/100*(p-f),size:f},scrollCoefficient:h}}var eeZ=SV(S$()),eeY=Xc(function(t){let n=YB().channels.camera,{onDragEnd:i,onDragStart:r,isScrolling:s,bcr:o}=t,a=(0,eeF.useRef)(null),{show:l,disabled:c,handleProps:u,scrollCoefficient:d}=ee$(s,o?.width??0,"x",a),[p,h]=(0,eeF.useState)(!1),f=o?.x&&o?.width?o.x+o.width:0,m=o?.x??0;return(0,eeZ.jsx)("div",{ref:a,"data-cy":"scrollBarX","aria-hidden":!0,className:(0,eeD.default)(eeN,eeH,{[eeG]:c,[eeU]:l}),onClick:t=>{if(t.target!==t.currentTarget)return;let i=t.clientX-m-u.offset,r=i>0?i-u.size:i;n.scroll({x:r*d,y:0})},children:(0,eeZ.jsx)(eeO.DraggableCore,{onStart:()=>{r(),h(!0)},onStop:()=>{i(),h(!1)},onDrag:(t,i)=>{let r=t.clientX;return r<m?n.scroll({x:-u.offset*d,y:0}):r>f?n.scroll({x:u.offset*d,y:0}):n.scroll({x:i.deltaX*d,y:0})},children:(0,eeZ.jsx)("div",{className:(0,eeD.default)(eeV,eeH,{[eez]:p}),style:{transform:`translate3d(${u.offset}px, 0px, 0px)`,width:`${u.size}px`}})})})}),eeK=SV(SH()),eeX=SV(Sz()),eeJ=SV(kk()),ee0=SV(S$()),ee1=Xc(function(t){let n=YB().channels.camera,{onDragEnd:i,onDragStart:r,isScrolling:s,bcr:o}=t,a=(0,eeX.useRef)(null),{show:l,disabled:c,handleProps:u,scrollCoefficient:d}=ee$(s,o?.height??0,"y",a),[p,h]=(0,eeX.useState)(!1),f=o?.y&&o?.height?o.y+o.height:0,m=o?.y??0;return(0,ee0.jsx)("div",{ref:a,"data-cy":"scrollBarY","aria-hidden":!0,className:(0,eeK.default)(eeN,eeQ,{[eeG]:c,[eeU]:l}),onClick:t=>{if(t.target!==t.currentTarget)return;let i=t.clientY-m-u.offset,r=i>0?i-u.size:i;n.scroll({y:r*d,x:0})},children:(0,ee0.jsx)(eeJ.DraggableCore,{onStart:()=>{r(),h(!0)},onStop:()=>{i(),h(!1)},onDrag:(t,i)=>{let r=t.clientY;return r<m?n.scroll({y:-u.offset*d,x:0}):r>f?n.scroll({y:u.offset*d,x:0}):n.scroll({y:i.deltaY*d,x:0})},children:(0,ee0.jsx)("div",{className:(0,eeK.default)(eeV,eeQ,{[eez]:p}),style:{transform:`translate3d(0px, ${u.offset}px, 0px)`,height:`${u.size}px`}})})})}),ee2="bottom",ee3="right",ee5="left",ee4="auto",ee6=["top",ee2,ee3,ee5],ee8="start",ee7="viewport",ee9="popper",ete=ee6.reduce(function(t,n){return t.concat([n+"-"+ee8,n+"-end"])},[]),ett=[].concat(ee6,[ee4]).reduce(function(t,n){return t.concat([n,n+"-"+ee8,n+"-end"])},[]),etn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eti(t){return t?(t.nodeName||"").toLowerCase():null}function etr(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function ets(t){return t instanceof etr(t).Element||t instanceof Element}function eto(t){return t instanceof etr(t).HTMLElement||t instanceof HTMLElement}function eta(t){return"undefined"!=typeof ShadowRoot&&(t instanceof etr(t).ShadowRoot||t instanceof ShadowRoot)}var etl={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach(function(t){var i=n.styles[t]||{},r=n.attributes[t]||{},s=n.elements[t];eto(s)&&eti(s)&&(Object.assign(s.style,i),Object.keys(r).forEach(function(t){var n=r[t];!1===n?s.removeAttribute(t):s.setAttribute(t,!0===n?"":n)}))})},effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(t){var r=n.elements[t],s=n.attributes[t]||{},o=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:i[t]).reduce(function(t,n){return t[n]="",t},{});eto(r)&&eti(r)&&(Object.assign(r.style,o),Object.keys(s).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]};function etc(t){return t.split("-")[0]}var etu=Math.max,etd=Math.min,etp=Math.round;function eth(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function etf(){return!/^((?!chrome|android).)*safari/i.test(eth())}function etm(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=t.getBoundingClientRect(),s=1,o=1;n&&eto(t)&&(s=t.offsetWidth>0&&etp(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&etp(r.height)/t.offsetHeight||1);var a=(ets(t)?etr(t):window).visualViewport,l=!etf()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/s,p=r.height/o;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function etg(t){var n=etm(t),i=t.offsetWidth,r=t.offsetHeight;return 1>=Math.abs(n.width-i)&&(i=n.width),1>=Math.abs(n.height-r)&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function etx(t,n){var i=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(i&&eta(i)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ety(t){return etr(t).getComputedStyle(t)}function etv(t){return((ets(t)?t.ownerDocument:t.document)||window.document).documentElement}function etb(t){return"html"===eti(t)?t:t.assignedSlot||t.parentNode||(eta(t)?t.host:null)||etv(t)}function etA(t){return eto(t)&&"fixed"!==ety(t).position?t.offsetParent:null}function etw(t){for(var n=etr(t),i=etA(t);i&&["table","td","th"].indexOf(eti(i))>=0&&"static"===ety(i).position;)i=etA(i);return i&&("html"===eti(i)||"body"===eti(i)&&"static"===ety(i).position)?n:i||function(t){var n=/firefox/i.test(eth());if(/Trident/i.test(eth())&&eto(t)&&"fixed"===ety(t).position)return null;var i=etb(t);for(eta(i)&&(i=i.host);eto(i)&&0>["html","body"].indexOf(eti(i));){var r=ety(i);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||n&&"filter"===r.willChange||n&&r.filter&&"none"!==r.filter)return i;i=i.parentNode}return null}(t)||n}function etC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function et_(t,n,i){return etu(t,etd(n,i))}function etS(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function etk(t,n){return n.reduce(function(n,i){return n[i]=t,n},{})}function etE(t){return t.split("-")[1]}var etM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function etI(t){var n,i=t.popper,r=t.popperRect,s=t.placement,o=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,p=t.isFixed,h=a.x,f=void 0===h?0:h,m=a.y,g=void 0===m?0:m,x="function"==typeof d?d({x:f,y:g}):{x:f,y:g};f=x.x,g=x.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=ee5,A="top",w=window;if(u){var C=etw(i),_="clientHeight",S="clientWidth";C===etr(i)&&"static"!==ety(C=etv(i)).position&&"absolute"===l&&(_="scrollHeight",S="scrollWidth"),("top"===s||(s===ee5||s===ee3)&&"end"===o)&&(A=ee2,g-=(p&&C===w&&w.visualViewport?w.visualViewport.height:C[_])-r.height,g*=c?1:-1),(s===ee5||("top"===s||s===ee2)&&"end"===o)&&(b=ee3,f-=(p&&C===w&&w.visualViewport?w.visualViewport.width:C[S])-r.width,f*=c?1:-1)}var k,E,M,I,T,B=Object.assign({position:l},u&&etM),L=!0===d?(E=(k={x:f,y:g}).x,M=k.y,{x:etp(E*(I=window.devicePixelRatio||1))/I||0,y:etp(M*I)/I||0}):{x:f,y:g};return f=L.x,g=L.y,c?Object.assign({},B,((T={})[A]=v?"0":"",T[b]=y?"0":"",T.transform=1>=(w.devicePixelRatio||1)?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",T)):Object.assign({},B,((n={})[A]=v?g+"px":"",n[b]=y?f+"px":"",n.transform="",n))}var etT={passive:!0},etB={left:"right",right:"left",bottom:"top",top:"bottom"};function etL(t){return t.replace(/left|right|bottom|top/g,function(t){return etB[t]})}var etj={start:"end",end:"start"};function etP(t){return t.replace(/start|end/g,function(t){return etj[t]})}function etR(t){var n=etr(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function etD(t){return etm(etv(t)).left+etR(t).scrollLeft}function etF(t){var n=ety(t),i=n.overflow,r=n.overflowX,s=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function etO(t,n){void 0===n&&(n=[]);var i,r=function t(n){return["html","body","#document"].indexOf(eti(n))>=0?n.ownerDocument.body:eto(n)&&etF(n)?n:t(etb(n))}(t),s=r===(null==(i=t.ownerDocument)?void 0:i.body),o=etr(r),a=s?[o].concat(o.visualViewport||[],etF(r)?r:[]):r,l=n.concat(a);return s?l:l.concat(etO(etb(a)))}function etN(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function etU(t,n,i){var r,s,o,a,l,c,u,d,p,h;return n===ee7?etN(function(t,n){var i=etr(t),r=etv(t),s=i.visualViewport,o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;var u=etf();(u||!u&&"fixed"===n)&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l+etD(t),y:c}}(t,i)):ets(n)?((r=etm(n,!1,"fixed"===i)).top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r):etN((s=etv(t),a=etv(s),l=etR(s),c=null==(o=s.ownerDocument)?void 0:o.body,u=etu(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=etu(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),p=-l.scrollLeft+etD(s),h=-l.scrollTop,"rtl"===ety(c||a).direction&&(p+=etu(a.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:p,y:h}))}function etV(t){var n,i=t.reference,r=t.element,s=t.placement,o=s?etc(s):null,a=s?etE(s):null,l=i.x+i.width/2-r.width/2,c=i.y+i.height/2-r.height/2;switch(o){case"top":n={x:l,y:i.y-r.height};break;case ee2:n={x:l,y:i.y+i.height};break;case ee3:n={x:i.x+i.width,y:c};break;case ee5:n={x:i.x-r.width,y:c};break;default:n={x:i.x,y:i.y}}var u=o?etC(o):null;if(null!=u){var d="y"===u?"height":"width";switch(a){case ee8:n[u]=n[u]-(i[d]/2-r[d]/2);break;case"end":n[u]=n[u]+(i[d]/2-r[d]/2)}}return n}function etH(t,n){void 0===n&&(n={});var i,r,s,o,a,l,c,u,d=n,p=d.placement,h=void 0===p?t.placement:p,f=d.strategy,m=void 0===f?t.strategy:f,g=d.boundary,x=d.rootBoundary,y=d.elementContext,v=void 0===y?ee9:y,b=d.altBoundary,A=d.padding,w=void 0===A?0:A,C=etS("number"!=typeof w?w:etk(w,ee6)),_=t.rects.popper,S=t.elements[void 0!==b&&b?v===ee9?"reference":ee9:v],k=(i=ets(S)?S:S.contextElement||etv(t.elements.popper),r=void 0===g?"clippingParents":g,s=void 0===x?ee7:x,c=(l=[].concat("clippingParents"===r?(o=etO(etb(i)),ets(a=["absolute","fixed"].indexOf(ety(i).position)>=0&&eto(i)?etw(i):i)?o.filter(function(t){return ets(t)&&etx(t,a)&&"body"!==eti(t)}):[]):[].concat(r),[s]))[0],(u=l.reduce(function(t,n){var r=etU(i,n,m);return t.top=etu(r.top,t.top),t.right=etd(r.right,t.right),t.bottom=etd(r.bottom,t.bottom),t.left=etu(r.left,t.left),t},etU(i,c,m))).width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u),E=etm(t.elements.reference),M=etV({reference:E,element:_,strategy:"absolute",placement:h}),I=etN(Object.assign({},_,M)),T=v===ee9?I:E,B={top:k.top-T.top+C.top,bottom:T.bottom-k.bottom+C.bottom,left:k.left-T.left+C.left,right:T.right-k.right+C.right},L=t.modifiersData.offset;if(v===ee9&&L){var j=L[h];Object.keys(B).forEach(function(t){var n=[ee3,ee2].indexOf(t)>=0?1:-1,i=["top",ee2].indexOf(t)>=0?"y":"x";B[t]+=j[i]*n})}return B}function etQ(t,n,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-n.height-i.y,right:t.right-n.width+i.x,bottom:t.bottom-n.height+i.y,left:t.left-n.width-i.x}}function etz(t){return["top",ee3,ee2,ee5].some(function(n){return t[n]>=0})}var etG={placement:"bottom",modifiers:[],strategy:"absolute"};function etq(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var etW=function(t){void 0===t&&(t={});var n=t,i=n.defaultModifiers,r=void 0===i?[]:i,s=n.defaultOptions,o=void 0===s?etG:s;return function(t,n,i){void 0===i&&(i=o);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},etG,o),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(i){var s,a,u,h,f,m="function"==typeof i?i(l.options):i;p(),l.options=Object.assign({},o,l.options,m),l.scrollParents={reference:ets(t)?etO(t):t.contextElement?etO(t.contextElement):[],popper:etO(n)};var g=(a=Object.keys(s=[].concat(r,l.options.modifiers).reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{})).map(function(t){return s[t]}),u=new Map,h=new Set,f=[],a.forEach(function(t){u.set(t.name,t)}),a.forEach(function(t){h.has(t.name)||function t(n){h.add(n.name),[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!h.has(n)){var i=u.get(n);i&&t(i)}}),f.push(n)}(t)}),etn.reduce(function(t,n){return t.concat(f.filter(function(t){return t.phase===n}))},[]));return l.orderedModifiers=g.filter(function(t){return t.enabled}),l.orderedModifiers.forEach(function(t){var n=t.name,i=t.options,r=t.effect;if("function"==typeof r){var s=r({state:l,name:n,instance:d,options:void 0===i?{}:i});c.push(s||function(){})}}),d.update()},forceUpdate:function(){if(!u){var t=l.elements,n=t.reference,i=t.popper;if(etq(n,i)){l.rects={reference:(r=etw(i),s="fixed"===l.options.strategy,p=eto(r),h=eto(r)&&(a=etp((o=r.getBoundingClientRect()).width)/r.offsetWidth||1,c=etp(o.height)/r.offsetHeight||1,1!==a||1!==c),f=etv(r),m=etm(n,h,s),g={scrollLeft:0,scrollTop:0},x={x:0,y:0},(p||!p&&!s)&&(("body"!==eti(r)||etF(f))&&(g=r!==etr(r)&&eto(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:etR(r)),eto(r)?((x=etm(r,!0)).x+=r.clientLeft,x.y+=r.clientTop):f&&(x.x=etD(f))),{x:m.left+g.scrollLeft-x.x,y:m.top+g.scrollTop-x.y,width:m.width,height:m.height}),popper:etg(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(t){return l.modifiersData[t.name]=Object.assign({},t.data)});for(var r,s,o,a,c,p,h,f,m,g,x,y=0;y<l.orderedModifiers.length;y++)if(!0!==l.reset){var v=l.orderedModifiers[y],b=v.fn,A=v.options,w=void 0===A?{}:A,C=v.name;"function"==typeof b&&(l=b({state:l,options:w,name:C,instance:d})||l)}else l.reset=!1,y=-1}}},update:(s=function(){return new Promise(function(t){d.forceUpdate(),t(l)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(s())})})),a}),destroy:function(){p(),u=!0}};if(!etq(t,n))return d;function p(){c.forEach(function(t){return t()}),c=[]}return d.setOptions(i).then(function(t){!u&&i.onFirstUpdate&&i.onFirstUpdate(t)}),d}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,i=t.instance,r=t.options,s=r.scroll,o=void 0===s||s,a=r.resize,l=void 0===a||a,c=etr(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&u.forEach(function(t){t.addEventListener("scroll",i.update,etT)}),l&&c.addEventListener("resize",i.update,etT),function(){o&&u.forEach(function(t){t.removeEventListener("scroll",i.update,etT)}),l&&c.removeEventListener("resize",i.update,etT)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,i=t.name;n.modifiersData[i]=etV({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,i=t.options,r=i.gpuAcceleration,s=i.adaptive,o=i.roundOffsets,a=void 0===o||o,l={placement:etc(n.placement),variation:etE(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,etI(Object.assign({},l,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:void 0===s||s,roundOffsets:a})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,etI(Object.assign({},l,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},etl,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,i=t.options,r=t.name,s=i.offset,o=void 0===s?[0,0]:s,a=ett.reduce(function(t,i){var r,s,a,l,c,u;return t[i]=(r=n.rects,a=[ee5,"top"].indexOf(s=etc(i))>=0?-1:1,c=(l="function"==typeof o?o(Object.assign({},r,{placement:i})):o)[0],u=l[1],c=c||0,u=(u||0)*a,[ee5,ee3].indexOf(s)>=0?{x:u,y:c}:{x:c,y:u}),t},{}),l=a[n.placement],c=l.x,u=l.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=c,n.modifiersData.popperOffsets.y+=u),n.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,i=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var s=i.mainAxis,o=void 0===s||s,a=i.altAxis,l=void 0===a||a,c=i.fallbackPlacements,u=i.padding,d=i.boundary,p=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,m=void 0===f||f,g=i.allowedAutoPlacements,x=n.options.placement,y=etc(x),v=c||(y!==x&&m?function(t){if(etc(t)===ee4)return[];var n=etL(t);return[etP(t),n,etP(n)]}(x):[etL(x)]),b=[x].concat(v).reduce(function(t,i){var r,s,o,a,l,c,h,f,x,y,v,b;return t.concat(etc(i)===ee4?(s=(r={placement:i,boundary:d,rootBoundary:p,padding:u,flipVariations:m,allowedAutoPlacements:g}).placement,o=r.boundary,a=r.rootBoundary,l=r.padding,c=r.flipVariations,f=void 0===(h=r.allowedAutoPlacements)?ett:h,0===(v=(y=(x=etE(s))?c?ete:ete.filter(function(t){return etE(t)===x}):ee6).filter(function(t){return f.indexOf(t)>=0})).length&&(v=y),Object.keys(b=v.reduce(function(t,i){return t[i]=etH(n,{placement:i,boundary:o,rootBoundary:a,padding:l})[etc(i)],t},{})).sort(function(t,n){return b[t]-b[n]})):i)},[]),A=n.rects.reference,w=n.rects.popper,C=new Map,_=!0,S=b[0],k=0;k<b.length;k++){var E=b[k],M=etc(E),I=etE(E)===ee8,T=["top",ee2].indexOf(M)>=0,B=T?"width":"height",L=etH(n,{placement:E,boundary:d,rootBoundary:p,altBoundary:h,padding:u}),j=T?I?ee3:ee5:I?ee2:"top";A[B]>w[B]&&(j=etL(j));var P=etL(j),R=[];if(o&&R.push(L[M]<=0),l&&R.push(L[j]<=0,L[P]<=0),R.every(function(t){return t})){S=E,_=!1;break}C.set(E,R)}if(_)for(var D=function(t){var n=b.find(function(n){var i=C.get(n);if(i)return i.slice(0,t).every(function(t){return t})});if(n)return S=n,"break"},F=m?3:1;F>0&&"break"!==D(F);F--);n.placement!==S&&(n.modifiersData[r]._skip=!0,n.placement=S,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n=t.state,i=t.options,r=t.name,s=i.mainAxis,o=i.altAxis,a=i.boundary,l=i.rootBoundary,c=i.altBoundary,u=i.padding,d=i.tether,p=void 0===d||d,h=i.tetherOffset,f=void 0===h?0:h,m=etH(n,{boundary:a,rootBoundary:l,padding:u,altBoundary:c}),g=etc(n.placement),x=etE(n.placement),y=!x,v=etC(g),b="x"===v?"y":"x",A=n.modifiersData.popperOffsets,w=n.rects.reference,C=n.rects.popper,_="function"==typeof f?f(Object.assign({},n.rects,{placement:n.placement})):f,S="number"==typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),k=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,E={x:0,y:0};if(A){if(void 0===s||s){var M,I="y"===v?"top":ee5,T="y"===v?ee2:ee3,B="y"===v?"height":"width",L=A[v],j=L+m[I],P=L-m[T],R=p?-C[B]/2:0,D=x===ee8?w[B]:C[B],F=x===ee8?-C[B]:-w[B],O=n.elements.arrow,N=p&&O?etg(O):{width:0,height:0},U=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=U[I],H=U[T],Q=et_(0,w[B],N[B]),z=y?w[B]/2-R-Q-V-S.mainAxis:D-Q-V-S.mainAxis,G=y?-w[B]/2+R+Q+H+S.mainAxis:F+Q+H+S.mainAxis,q=n.elements.arrow&&etw(n.elements.arrow),W=q?"y"===v?q.clientTop||0:q.clientLeft||0:0,$=null!=(M=null==k?void 0:k[v])?M:0,Z=et_(p?etd(j,L+z-$-W):j,L,p?etu(P,L+G-$):P);A[v]=Z,E[v]=Z-L}if(void 0!==o&&o){var Y,K,X="x"===v?"top":ee5,J="x"===v?ee2:ee3,ee=A[b],et="y"===b?"height":"width",en=ee+m[X],ei=ee-m[J],er=-1!==["top",ee5].indexOf(g),es=null!=(K=null==k?void 0:k[b])?K:0,eo=er?en:ee-w[et]-C[et]-es+S.altAxis,ea=er?ee+w[et]+C[et]-es-S.altAxis:ei,el=p&&er?(Y=et_(eo,ee,ea))>ea?ea:Y:et_(p?eo:en,ee,p?ea:ei);A[b]=el,E[b]=el-ee}n.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,i=t.state,r=t.name,s=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,l=etc(i.placement),c=etC(l),u=[ee5,ee3].indexOf(l)>=0?"height":"width";if(o&&a){var d,p=etS("number"!=typeof(d="function"==typeof(d=s.padding)?d(Object.assign({},i.rects,{placement:i.placement})):d)?d:etk(d,ee6)),h=etg(o),f="y"===c?"top":ee5,m="y"===c?ee2:ee3,g=i.rects.reference[u]+i.rects.reference[c]-a[c]-i.rects.popper[u],x=a[c]-i.rects.reference[c],y=etw(o),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=p[f],A=v-h[u]-p[m],w=v/2-h[u]/2+(g/2-x/2),C=et_(b,w,A);i.modifiersData[r]=((n={})[c]=C,n.centerOffset=C-w,n)}},effect:function(t){var n=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=n.elements.popper.querySelector(r)))&&etx(n.elements.popper,r)&&(n.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,i=t.name,r=n.rects.reference,s=n.rects.popper,o=n.modifiersData.preventOverflow,a=etH(n,{elementContext:"reference"}),l=etH(n,{altBoundary:!0}),c=etQ(a,r),u=etQ(l,s,o),d=etz(c),p=etz(u);n.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}}]}),et$="tippy-content",etZ="tippy-arrow",etY="tippy-svg-arrow",etK={passive:!0,capture:!0},etX=function(){return document.body};function etJ(t,n,i){if(Array.isArray(t)){var r=t[n];return null==r?Array.isArray(i)?i[n]:i:r}return t}function et0(t,n){var i=({}).toString.call(t);return 0===i.indexOf("[object")&&i.indexOf(n+"]")>-1}function et1(t,n){return"function"==typeof t?t.apply(void 0,n):t}function et2(t,n){var i;return 0===n?t:function(r){clearTimeout(i),i=setTimeout(function(){t(r)},n)}}function et3(t){return[].concat(t)}function et5(t,n){-1===t.indexOf(n)&&t.push(n)}function et4(t){return[].slice.call(t)}function et6(t){return Object.keys(t).reduce(function(n,i){return void 0!==t[i]&&(n[i]=t[i]),n},{})}function et8(){return document.createElement("div")}function et7(t){return["Element","Fragment"].some(function(n){return et0(t,n)})}function et9(t,n){t.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function ene(t,n){t.forEach(function(t){t&&t.setAttribute("data-state",n)})}function ent(t,n,i){var r=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[r](n,i)})}function enn(t,n){for(var i,r=n;r;){if(t.contains(r))return!0;r=null==r.getRootNode||null==(i=r.getRootNode())?void 0:i.host}return!1}var eni={isTouch:!1},enr=0;function ens(){eni.isTouch||(eni.isTouch=!0,window.performance&&document.addEventListener("mousemove",eno))}function eno(){var t=performance.now();t-enr<20&&(eni.isTouch=!1,document.removeEventListener("mousemove",eno)),enr=t}function ena(){var t=document.activeElement;if(t&&t._tippy&&t._tippy.reference===t){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var enl=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,enc=Object.assign({appendTo:etX,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),enu=Object.keys(enc);function end(t){var n=(t.plugins||[]).reduce(function(n,i){var r,s=i.name,o=i.defaultValue;return s&&(n[s]=void 0!==t[s]?t[s]:null!=(r=enc[s])?r:o),n},{});return Object.assign({},t,n)}function enp(t,n){var i,r=Object.assign({},n,{content:et1(n.content,[t])},n.ignoreAttributes?{}:((i=n.plugins)?Object.keys(end(Object.assign({},enc,{plugins:i}))):enu).reduce(function(n,i){var r=(t.getAttribute("data-tippy-"+i)||"").trim();if(!r)return n;if("content"===i)n[i]=r;else try{n[i]=JSON.parse(r)}catch(t){n[i]=r}return n},{}));return r.aria=Object.assign({},enc.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?n.interactive:r.aria.expanded,content:"auto"===r.aria.content?n.interactive?null:"describedby":r.aria.content},r}function enh(t,n){t.innerHTML=n}function enf(t){var n=et8();return!0===t?n.className=etZ:(n.className=etY,et7(t)?n.appendChild(t):enh(n,t)),n}function enm(t,n){et7(n.content)?(enh(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(n.allowHTML?enh(t,n.content):t.textContent=n.content)}function eng(t){var n=t.firstElementChild,i=et4(n.children);return{box:n,content:i.find(function(t){return t.classList.contains(et$)}),arrow:i.find(function(t){return t.classList.contains(etZ)||t.classList.contains(etY)}),backdrop:i.find(function(t){return t.classList.contains("tippy-backdrop")})}}function enx(t){var n=et8(),i=et8();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=et8();function s(i,r){var s=eng(n),o=s.box,a=s.content,l=s.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),i.content===r.content&&i.allowHTML===r.allowHTML||enm(a,t.props),r.arrow?l?i.arrow!==r.arrow&&(o.removeChild(l),o.appendChild(enf(r.arrow))):o.appendChild(enf(r.arrow)):l&&o.removeChild(l)}return r.className=et$,r.setAttribute("data-state","hidden"),enm(r,t.props),n.appendChild(i),i.appendChild(r),s(t.props,t.props),{popper:n,onUpdate:s}}enx.$$tippy=!0;var eny=1,env=[],enb=[];function enA(t,n){void 0===n&&(n={});var i=enc.plugins.concat(n.plugins||[]);document.addEventListener("touchstart",ens,etK),window.addEventListener("blur",ena);var r=Object.assign({},n,{plugins:i}),s=(et7(t)?[t]:et0(t,"NodeList")?et4(t):Array.isArray(t)?t:et4(document.querySelectorAll(t))).reduce(function(t,n){var i=n&&function(t,n){var i,r,s,o,a,l,c,u,d=enp(t,Object.assign({},enc,end(et6(n)))),p=!1,h=!1,f=!1,m=!1,g=[],x=et2(q,d.interactiveDebounce),y=eny++,v=(u=d.plugins).filter(function(t,n){return u.indexOf(t)===n}),b={id:y,reference:t,popper:et8(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)},setProps:function(n){if(!b.state.isDestroyed){L("onBeforeUpdate",[b,n]),z();var i=b.props,r=enp(t,Object.assign({},i,et6(n),{ignoreAttributes:!0}));b.props=r,Q(),i.interactiveDebounce!==r.interactiveDebounce&&(R(),x=et2(q,r.interactiveDebounce)),i.triggerTarget&&!r.triggerTarget?et3(i.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&t.removeAttribute("aria-expanded"),P(),B(),C&&C(i,r),b.popperInstance&&(Y(),X().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[b,n])}},setContent:function(t){b.setProps({content:t})},show:function(){var n=b.state.isVisible,i=b.state.isDestroyed,r=!b.state.isEnabled,s=eni.isTouch&&!b.props.touch,o=etJ(b.props.duration,0,enc.duration);if(!(n||i||r||s||(c||t).hasAttribute("disabled"))&&(L("onShow",[b],!1),!1!==b.props.onShow(b))){if(b.state.isVisible=!0,M()&&(w.style.visibility="visible"),B(),N(),b.state.isMounted||(w.style.transition="none"),M()){var a,u,d,p=eng(w);et9([p.box,p.content],0)}l=function(){var t;if(b.state.isVisible&&!m){if(m=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,M()&&b.props.animation){var n=eng(w),i=n.box,r=n.content;et9([i,r],o),ene([i,r],"visible")}j(),P(),et5(enb,b),null==(t=b.popperInstance)||t.forceUpdate(),L("onMount",[b]),b.props.animation&&M()&&V(o,function(){b.state.isShown=!0,L("onShown",[b])})}},u=b.props.appendTo,d=c||t,(a=b.props.interactive&&u===etX||"parent"===u?d.parentNode:et1(u,[d])).contains(w)||a.appendChild(w),b.state.isMounted=!0,Y()}},hide:function(){var t=!b.state.isVisible,n=b.state.isDestroyed,i=!b.state.isEnabled,r=etJ(b.props.duration,1,enc.duration);if(!t&&!n&&!i&&(L("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,m=!1,p=!1,M()&&(w.style.visibility="hidden"),R(),U(),B(!0),M()){var s,o=eng(w),a=o.box,l=o.content;b.props.animation&&(et9([a,l],r),ene([a,l],"hidden"))}j(),P(),b.props.animation?M()&&(s=b.unmount,V(r,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&s()})):b.unmount()}},hideWithInteractivity:function(t){I().addEventListener("mousemove",x),et5(env,x),x(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(K(),X().forEach(function(t){t._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),enb=enb.filter(function(t){return t!==b}),b.state.isMounted=!1,L("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),z(),delete t._tippy,b.state.isDestroyed=!0,L("onDestroy",[b]))}};if(!d.render)return b;var A=d.render(b),w=A.popper,C=A.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,t._tippy=b,w._tippy=b;var _=v.map(function(t){return t.fn(b)}),S=t.hasAttribute("aria-expanded");return Q(),P(),B(),L("onCreate",[b]),d.showOnCreate&&J(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&I().addEventListener("mousemove",x)}),b;function k(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function E(){return"hold"===k()[0]}function M(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function I(){var n,i,r=(c||t).parentNode;return r&&null!=(i=et3(r)[0])&&null!=(n=i.ownerDocument)&&n.body?i.ownerDocument:document}function T(t){return b.state.isMounted&&!b.state.isVisible||eni.isTouch||o&&"focus"===o.type?0:etJ(b.props.delay,t?0:1,enc.delay)}function B(t){void 0===t&&(t=!1),w.style.pointerEvents=b.props.interactive&&!t?"":"none",w.style.zIndex=""+b.props.zIndex}function L(t,n,i){var r;void 0===i&&(i=!0),_.forEach(function(i){i[t]&&i[t].apply(i,n)}),i&&(r=b.props)[t].apply(r,n)}function j(){var n=b.props.aria;if(n.content){var i="aria-"+n.content,r=w.id;et3(b.props.triggerTarget||t).forEach(function(t){var n=t.getAttribute(i);if(b.state.isVisible)t.setAttribute(i,n?n+" "+r:r);else{var s=n&&n.replace(r,"").trim();s?t.setAttribute(i,s):t.removeAttribute(i)}})}}function P(){!S&&b.props.aria.expanded&&et3(b.props.triggerTarget||t).forEach(function(n){b.props.interactive?n.setAttribute("aria-expanded",b.state.isVisible&&n===(c||t)?"true":"false"):n.removeAttribute("aria-expanded")})}function R(){I().removeEventListener("mousemove",x),env=env.filter(function(t){return t!==x})}function D(n){if(!eni.isTouch||!f&&"mousedown"!==n.type){var i=n.composedPath&&n.composedPath()[0]||n.target;if(!b.props.interactive||!enn(w,i)){if(et3(b.props.triggerTarget||t).some(function(t){return enn(t,i)})){if(eni.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[b,n]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),h=!0,setTimeout(function(){h=!1}),b.state.isMounted||U())}}}function F(){f=!0}function O(){f=!1}function N(){var t=I();t.addEventListener("mousedown",D,!0),t.addEventListener("touchend",D,etK),t.addEventListener("touchstart",O,etK),t.addEventListener("touchmove",F,etK)}function U(){var t=I();t.removeEventListener("mousedown",D,!0),t.removeEventListener("touchend",D,etK),t.removeEventListener("touchstart",O,etK),t.removeEventListener("touchmove",F,etK)}function V(t,n){var i=eng(w).box;function r(t){t.target===i&&(ent(i,"remove",r),n())}if(0===t)return n();ent(i,"remove",a),ent(i,"add",r),a=r}function H(n,i,r){void 0===r&&(r=!1),et3(b.props.triggerTarget||t).forEach(function(t){t.addEventListener(n,i,r),g.push({node:t,eventType:n,handler:i,options:r})})}function Q(){E()&&(H("touchstart",G,{passive:!0}),H("touchend",W,{passive:!0})),b.props.trigger.split(/\s+/).filter(Boolean).forEach(function(t){if("manual"!==t)switch(H(t,G),t){case"mouseenter":H("mouseleave",W);break;case"focus":H(enl?"focusout":"blur",$);break;case"focusin":H("focusout",$)}})}function z(){g.forEach(function(t){var n=t.node,i=t.eventType,r=t.handler,s=t.options;n.removeEventListener(i,r,s)}),g=[]}function G(t){var n,i=!1;if(b.state.isEnabled&&!Z(t)&&!h){var r="focus"===(null==(n=o)?void 0:n.type);o=t,c=t.currentTarget,P(),!b.state.isVisible&&et0(t,"MouseEvent")&&env.forEach(function(n){return n(t)}),"click"===t.type&&(0>b.props.trigger.indexOf("mouseenter")||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?i=!0:J(t),"click"===t.type&&(p=!i),i&&!r&&ee(t)}}function q(n){var i,r,s,o=n.target,a=(c||t).contains(o)||w.contains(o);"mousemove"===n.type&&a||(i=X().concat(w).map(function(t){var n,i=null==(n=t._tippy.popperInstance)?void 0:n.state;return i?{popperRect:t.getBoundingClientRect(),popperState:i,props:d}:null}).filter(Boolean),r=n.clientX,s=n.clientY,i.every(function(t){var n=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=i.placement.split("-")[0],l=i.modifiersData.offset;if(!l)return!0;var c="bottom"===a?l.top.y:0,u="top"===a?l.bottom.y:0,d="right"===a?l.left.x:0,p="left"===a?l.right.x:0,h=n.top-s+c>o,f=s-n.bottom-u>o,m=n.left-r+d>o,g=r-n.right-p>o;return h||f||m||g})&&(R(),ee(n)))}function W(t){Z(t)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(t):ee(t))}function $(n){0>b.props.trigger.indexOf("focusin")&&n.target!==(c||t)||b.props.interactive&&n.relatedTarget&&w.contains(n.relatedTarget)||ee(n)}function Z(t){return!!eni.isTouch&&E()!==t.type.indexOf("touch")>=0}function Y(){K();var n=b.props,i=n.popperOptions,r=n.placement,s=n.offset,o=n.getReferenceClientRect,a=n.moveTransition,u=M()?eng(w).arrow:null,d=o?{getBoundingClientRect:o,contextElement:o.contextElement||c||t}:t,p=[{name:"offset",options:{offset:s}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var n=t.state;if(M()){var i=eng(w).box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?i.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+t]?i.setAttribute("data-"+t,""):i.removeAttribute("data-"+t)}),n.attributes.popper={}}}}];M()&&u&&p.push({name:"arrow",options:{element:u,padding:3}}),p.push.apply(p,(null==i?void 0:i.modifiers)||[]),b.popperInstance=etW(d,w,Object.assign({},i,{placement:r,onFirstUpdate:l,modifiers:p}))}function K(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function X(){return et4(w.querySelectorAll("[data-tippy-root]"))}function J(t){b.clearDelayTimeouts(),t&&L("onTrigger",[b,t]),N();var n=T(!0),r=k(),s=r[0],o=r[1];eni.isTouch&&"hold"===s&&o&&(n=o),n?i=setTimeout(function(){b.show()},n):b.show()}function ee(t){if(b.clearDelayTimeouts(),L("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var n=T(!1);n?r=setTimeout(function(){b.state.isVisible&&b.hide()},n):s=requestAnimationFrame(function(){b.hide()})}}else U()}}(n,r);return i&&t.push(i),t},[]);return et7(t)?s[0]:s}enA.defaultProps=enc,enA.setDefaultProps=function(t){Object.keys(t).forEach(function(n){enc[n]=t[n]})},enA.currentInput=eni,Object.assign({},etl,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});var enw={name:"sticky",defaultValue:!1,fn:function(t){var n=t.reference,i=t.popper;function r(n){return!0===t.props.sticky||t.props.sticky===n}var s=null,o=null;return{onMount:function(){t.props.sticky&&function a(){var l=r("reference")?(t.popperInstance?t.popperInstance.state.elements.reference:n).getBoundingClientRect():null,c=r("popper")?i.getBoundingClientRect():null;(l&&enC(s,l)||c&&enC(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}()}}}};function enC(t,n){return!t||!n||t.top!==n.top||t.right!==n.right||t.bottom!==n.bottom||t.left!==n.left}enA.setDefaultProps({render:enx});var en_=SV(Sz()),enS=SV(S4());function enk(t,n){if(null==t)return{};var i,r,s={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(s[i]=t[i]);return s}var enE="undefined"!=typeof window&&"undefined"!=typeof document;function enM(t,n){t&&("function"==typeof t&&t(n),({}).hasOwnProperty.call(t,"current")&&(t.current=n))}function enI(){return enE&&document.createElement("div")}var enT=enE?en_.useLayoutEffect:en_.useEffect;function enB(t,n,i){i.split(/\s+/).forEach(function(i){i&&t.classList[n](i)})}var enL={name:"className",defaultValue:"",fn:function(t){var n=t.popper.firstElementChild,i=function(){var n;return!!(null==(n=t.props.render)?void 0:n.$$tippy)};function r(){t.props.className&&!i()||enB(n,"add",t.props.className)}return{onCreate:r,onBeforeUpdate:function(){i()&&enB(n,"remove",t.props.className)},onAfterUpdate:r}}},enj=(eaC=function(t){var n,i,r,s=t.children,o=t.content,a=t.visible,l=t.singleton,c=t.render,u=t.reference,d=t.disabled,p=void 0!==d&&d,h=t.ignoreAttributes,f=(t.__source,t.__self,enk(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),m=void 0!==a,g=void 0!==l,x=(0,en_.useState)(!1),y=x[0],v=x[1],b=(0,en_.useState)({}),A=b[0],w=b[1],C=(0,en_.useState)(),_=C[0],S=C[1],k=(n=function(){return{container:enI(),renders:1}},(i=(0,en_.useRef)()).current||(i.current=n()),i.current),E=Object.assign({ignoreAttributes:void 0===h||h},f,{content:k.container});m&&(E.trigger="manual",E.hideOnClick=!1),g&&(p=!0);var M=E,I=E.plugins||[];c&&(M=Object.assign({},E,{plugins:g&&null!=l.data?[].concat(I,[{fn:function(){return{onTrigger:function(t,n){var i=l.data.children.find(function(t){return t.instance.reference===n.currentTarget});t.state.$$activeSingletonInstance=i.instance,S(i.content)}}}}]):I,render:function(){return{popper:k.container}}}));var T=[u].concat(s?[s.type]:[]);return enT(function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=enA(t||k.ref||enI(),Object.assign({},M,{plugins:[enL].concat(E.plugins||[])}));return k.instance=n,p&&n.disable(),a&&n.show(),g&&l.hook({instance:n,content:o,props:M,setSingletonContent:S}),v(!0),function(){n.destroy(),null==l||l.cleanup(n)}},T),enT(function(){var t;if(1!==k.renders){var n,i,r,s,c,u,d=k.instance;d.setProps((r=d.props,Object.assign({},s=M,{popperOptions:Object.assign({},r.popperOptions,s.popperOptions,{modifiers:(n=[].concat((null==(c=r.popperOptions)?void 0:c.modifiers)||[],(null==(u=s.popperOptions)?void 0:u.modifiers)||[]),i=[],n.forEach(function(t){i.find(function(n){return function t(n,i){if(n===i)return!0;if("object"==typeof n&&null!=n&&"object"==typeof i&&null!=i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(var r in n)if(!i.hasOwnProperty(r)||!t(n[r],i[r]))return!1;return!0}return!1}(t,n)})||i.push(t)}),i)})}))),null==(t=d.popperInstance)||t.forceUpdate(),p?d.disable():d.enable(),m&&(a?d.show():d.hide()),g&&l.hook({instance:d,content:o,props:M,setSingletonContent:S})}else k.renders++}),enT(function(){var t;if(c){var n=k.instance;n.setProps({popperOptions:Object.assign({},n.props.popperOptions,{modifiers:[].concat(((null==(t=n.props.popperOptions)?void 0:t.modifiers)||[]).filter(function(t){return"$$tippyReact"!==t.name}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var n,i=t.state,r=null==(n=i.modifiersData)?void 0:n.hide;A.placement===i.placement&&A.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&A.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:i.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),i.attributes.popper={}}}])})})}},[A.placement,A.referenceHidden,A.escaped].concat(T)),en_.default.createElement(en_.default.Fragment,null,s?(0,en_.cloneElement)(s,{ref:function(t){k.ref=t,enM(s.ref,t)}}):null,y&&(0,enS.createPortal)(c?c((r={"data-placement":A.placement},A.referenceHidden&&(r["data-reference-hidden"]=""),A.escaped&&(r["data-escaped"]=""),r),_,k.instance):o,k.container))},(0,en_.forwardRef)(function(t,n){var i=t.children,r=enk(t,["children"]);return en_.default.createElement(eaC,Object.assign({},void 0,r),i?(0,en_.cloneElement)(i,{ref:function(t){enM(n,t),enM(i.ref,t)}}):null)})),enP=SV(Sz()),enR=((A=enR||{})[A.Hidden=-1]="Hidden",A[A.Default=0]="Default",A[A.Canvas=1]="Canvas",A[A.Caret=1]="Caret",A[A.CanvasScrollLayer=4]="CanvasScrollLayer",A[A.CanvasActions=7]="CanvasActions",A[A.DropDownList=10]="DropDownList",A[A.Notification=12]="Notification",A[A.CanvasLockLayer=13]="CanvasLockLayer",A[A.Inspector=14]="Inspector",A[A.InspectorLockButton=20]="InspectorLockButton",A[A.SubInspector=30]="SubInspector",A[A.InspectorLockLayer=35]="InspectorLockLayer",A[A.BodyLockLayer=40]="BodyLockLayer",A[A.Library=50]="Library",A[A.SettingsPanel=55]="SettingsPanel",A[A.Modal=60]="Modal",A[A.DndLayer=65]="DndLayer",A[A.UploadModal=70]="UploadModal",A),enD=SV(Sz());function enF(){let{legacyNonResponsivePanelPosition:t}=Kb(),{width:n}=G2("embedViewport");return!t&&n<600}var enO=class{#b;constructor(t){this.#b=t}Button=(t,n)=>this.#b.Button(t,n);ButtonGroup=(t,n)=>this.#b.ButtonGroup(t,n);Checkbox=(t,n)=>this.#b.Checkbox(t,n);Dropdown=(t,n)=>{this.#b.Dropdown(t,n)};MediaPreview=(t,n)=>this.#b.MediaPreview(t,n);Section=(t,n)=>this.#b.Section(t,n);Separator=t=>this.#b.Separator(t);TextArea=(t,n)=>this.#b.TextArea(t,n);TextInput=(t,n)=>this.#b.TextInput(t,n);NumberInput=(t,n)=>this.#b.NumberInput(t,n);ColorInput=(t,n)=>this.#b.ColorInput(t,n);Slider=(t,n)=>this.#b.Slider(t,n);Library=(t,n)=>this.#b.Library(t,n);Heading=(t,n)=>this.#b.Heading(t,n);Text=(t,n)=>this.#b.Text(t,n);Select=(t,n)=>this.#b.Select(t,n)},enN=SV(S$()),enU=class{values=new Map;constructor(){Zn(this)}},enV=Xc(Jg(function({builderRenderFunction:t,createBuilder:n,engine:i,payload:r}){let s=enF(),[o]=(0,enD.useState)(()=>new enU),a=[];return t({builder:new enO(n(a)),state:function(t,n){return{get value(){return o.values.get(t)??n},setValue:n=>{$O(()=>o.values.set(t,n))()}}},engine:i,payload:r,renderOptimizedSmallViewport:s}),(0,enN.jsx)(enN.Fragment,{children:a.map(({id:t,node:n})=>(0,enN.jsx)(enD.default.Fragment,{children:n},t))})})),enH=SV(Sz()),enQ=SV(S$()),enz=(0,enH.forwardRef)(({onClick:t,children:n,withoutInput:i=!1,className:r,...s},o)=>{let a=(0,enH.useRef)(null),{width:l}=G2(),[c,u]=(0,enH.useState)(!0),{initialWidth:d,setInitialWidth:p}=(0,enH.useContext)(eio);(0,enH.useEffect)(()=>{let t=a.current?.parentElement,n=t?.offsetWidth;n&&n>d&&p(n),0!==d&&d>l&&u(!1),0!==d&&d<=l&&u(!0)},[d,l,p]);let h=document.querySelector(`.${F2}`),f=YB(),m=Kv();return NI(["esc"],()=>{let t=Ov?h?.shadowRoot?.activeElement:document.activeElement;if(t&&a.current&&Array.from(a.current.children).includes(t)){let t=f.engine.block.findAllSelected()[0];if(null==t)return;Jw(m,t)}},{elementRef:a}),(0,enQ.jsx)(enQ.Fragment,{children:i?"function"==typeof n?n({showLabel:c}):c&&n:(0,enQ.jsx)(DR,{ref:NT(o,a),className:r,onClick:n=>{t&&(n&&n.stopPropagation(),t(n))},...s,"data-ubq-action":eeE,variant:s.variant??"plain",children:"function"==typeof n?n({showLabel:c}):c&&n})})});enz.displayName="CanvasAction";var enG=SV(SH()),enq=SV(Sz()),enW=(SV(Sz()),SV(S$())),en$=(SV(Sz()),SV(S$())),enZ=(SV(Sz()),SV(S$())),enY=SV(Sz()),enK=SV(S$()),enX={16:{BGRemove:t=>(0,en$.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,en$.jsx)("path",{d:"M5.75 3H7.41417L3 7.41417V5.75C3 4.23122 4.23122 3 5.75 3Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M3 10.5861V13.4145L7.15512 9.25937C7.60563 7.49479 8.99479 6.10563 10.7594 5.65512L13.4145 3H10.5861L3 10.5861Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M5.44499 14.1411L3 16.5861V18.25C3 18.5965 3.06409 18.9281 3.18106 19.2334L5 17.4145V16.184C5 15.496 5.14704 14.7892 5.44499 14.1411Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M15.4925 6.92197C15.0035 6.44451 14.4169 6.0665 13.7655 5.82061L16.5861 3H18.25C18.5965 3 18.9281 3.06409 19.2334 3.18106L15.4925 6.92197Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M16.8963 11.5178C16.9642 11.1892 17 10.8488 17 10.5C17 9.92577 16.9032 9.37415 16.725 8.86057L20.819 4.76663C20.9359 5.07198 21 5.40351 21 5.75V7.41402L16.8963 11.5178Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M18.9469 15.4676C18.8412 14.7533 18.5773 14.0474 18.1507 13.4354L21 10.5861V13.4145L18.9469 15.4676Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M19 20.8965V18.5861L21 16.5861V18.25C21 19.5088 20.1543 20.57 19 20.8965Z",fill:"currentColor"}),(0,en$.jsx)("path",{d:"M13.445 13.1297C14.3719 12.6193 15 11.633 15 10.5C15 8.84315 13.6569 7.5 12 7.5C10.3431 7.5 9 8.84315 9 10.5C9 11.6327 9.62777 12.6188 10.5544 13.1293C9.80163 13.2785 9.09672 13.5182 8.51632 13.7555C7.54567 14.1523 7 15.1354 7 16.184V21.0005H17V16.1861C17 15.1391 16.456 14.1573 15.4874 13.7596C14.9061 13.521 14.1996 13.2797 13.445 13.1297Z",fill:"currentColor"})]}),Vectorize:t=>(0,enZ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,enZ.jsx)("rect",{x:11,y:2,width:2,height:20,fill:"currentColor"}),(0,enZ.jsx)("path",{d:"M13.6776 5.26764L19.9611 12L13.6776 18.7324L15.3224 20.2676L23.0389 12L15.3224 3.73242L13.6776 5.26764Z",fill:"currentColor"}),(0,enZ.jsx)("path",{d:"M4 10.5H1V13.5H4V16.5H7V19.5H10V16.5H7V13.5H4V10.5Z",fill:"currentColor"}),(0,enZ.jsx)("path",{d:"M4 10.5V7.50003H7V10.5H4Z",fill:"currentColor"}),(0,enZ.jsx)("path",{d:"M7 7.50003V4.50003H10V7.50003H7Z",fill:"currentColor"})]})},24:{AiImage:t=>(0,enW.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,enW.jsx)("path",{d:"M3 16.5V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3L17.999 5C18.5513 5 19 5.44772 19 6V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V16.5H3Z",fill:"currentColor"}),(0,enW.jsx)("path",{d:"M13.0987 0.884877C12.9739 0.568323 12.5259 0.568322 12.401 0.884876L11.749 2.53819C11.7108 2.63483 11.6343 2.71134 11.5377 2.74945L9.88439 3.40151C9.56783 3.52636 9.56783 3.97436 9.88439 4.09921L11.5377 4.75126C11.6343 4.78938 11.7108 4.86588 11.749 4.96253L12.401 6.61584C12.5259 6.93239 12.9739 6.9324 13.0987 6.61584L13.7508 4.96253C13.7889 4.86588 13.8654 4.78938 13.962 4.75126L15.6154 4.09921C15.9319 3.97436 15.9319 3.52636 15.6154 3.40151L13.962 2.74945C13.8654 2.71134 13.7889 2.63483 13.7508 2.53819L13.0987 0.884877Z",fill:"currentColor"}),(0,enW.jsx)("path",{d:"M6.40102 5.38488C6.52587 5.06832 6.97387 5.06832 7.09872 5.38488L8.17504 8.11392C8.21316 8.21057 8.28966 8.28707 8.3863 8.32519L11.1154 9.40151C11.4319 9.52636 11.4319 9.97436 11.1154 10.0992L8.3863 11.1755C8.28966 11.2136 8.21316 11.2901 8.17504 11.3868L7.09872 14.1158C6.97387 14.4324 6.52587 14.4324 6.40102 14.1158L5.3247 11.3868C5.28658 11.2901 5.21008 11.2136 5.11344 11.1755L2.38439 10.0992C2.06783 9.97436 2.06783 9.52636 2.38439 9.40151L5.11344 8.32519C5.21008 8.28707 5.28658 8.21057 5.3247 8.11392L6.40102 5.38488Z",fill:"currentColor"}),(0,enW.jsx)("path",{d:"M18.9999 16.5008V18.0004C18.9999 18.5526 18.5522 19.0004 17.9999 19.0004H9.33351L14.3758 11.4369C14.6727 10.9916 15.327 10.9916 15.6239 11.4369L18.9999 16.5008Z",fill:"currentColor"})]})}},enJ=function({icon:t,iconSize:n}){let i=(0,enY.useMemo)(()=>{let n=t.match(/@imgly\/icons\/(.+)/);if(null!=n)return n[1]},[t]);if(i){let t="normal"===n?16:24,r=enX[t][i]||enX[24][i]||enX[16][i];if(null!=r)return(0,enK.jsx)(r,{width:`${t}px`,height:`${t}px`})}return(0,enK.jsx)(DL,{icon:t,iconSize:n})},en0=SV(S$()),en1=Xc(function({iconSize:t,customIcon:n}){let{theme:i}=(0,enq.useContext)(Oe.Context),{scale:r}=Kb(),s=t??r;if(null==n)return null;if("string"==typeof n&&n.startsWith("@"))return(0,en0.jsx)(enJ,{icon:n,iconSize:s});let o="function"==typeof n?n({theme:i,iconSize:s}):n;return(0,en0.jsx)("div",{className:(0,enG.default)("UBQ_CustomIcon-module__customIconWrapper--oPj82",{"UBQ_CustomIcon-module__customIconWrapperLarge--H8K3c":"large"===s,"UBQ_CustomIcon-module__customIconWrapperNormal--CW7Rh":"normal"===s}),style:{backgroundImage:`url(${o})`,backgroundSize:"contain"}})}),en2=SV(Sz()),en3=SV(S$()),en5=new Set,en4=class{#k;#_=[];#E=[];_t;_nestingEnvironment=[];_engine;_context;constructor(t,n,i,r,s){this.#k=t,this.#E=n,this._context=r,this._engine=s,this._t=i}_push=t=>{-1===this.#_.indexOf(t.id)?(this.#E.push(t),this.#_.push(t.id)):console.warn(`Id '${t.id}' was already used in this builder. Skipping this element. Please use unique ids for every UI element in a component.`)};get _currentNesting(){return this._nestingEnvironment[this._nestingEnvironment.length-1]}get name(){return this.#k}_translateLabel=t=>null!=t?this._t(t,{defaultValue:t}):void 0;_printWarning=(t,n)=>{let i=`${this._context.componentId}/${this.#k}/${t}`;en5.has(i)||(en5.add(i),console.warn(n))};_printUnsupportedWarning=t=>{this._printWarning(t,`'${t}' is not supported in '${this.#k}' yet but is used in the registered component '${this._context.componentId}'. Please remove this call.`)};_pushChildren=(t,n)=>{let i=[];if(null!=n){let r=this.#E;this.#E=[],this._nestingEnvironment.push(t),n(),this._nestingEnvironment.pop(),i=this.#E,this.#E=r}return i};toString(){return this.#k}Button=(t,{label:n,tooltip:i,onClick:r,icon:s,...o})=>{let a=this._translateLabel(n),l=this._translateLabel(i),c="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Button",focusable:!o.isDisabled,node:(0,en3.jsx)(U5,{showTooltip:null!=l,label:l??"",children:(0,en3.jsx)(DR,{name:`${this.#k}-Button-${t}`,onClick:r,variant:o.variant??(c?"regular":"plain"),color:o.color,size:o.size,isActive:o.isActive,isSelected:o.isSelected,isDisabled:o.isDisabled,isLoading:o.isLoading,loadingProgress:o.loadingProgress,icon:null!=s?(0,en3.jsx)(en1,{iconSize:"normal",customIcon:s}):void 0,children:a})})})};ButtonGroup=(t,{children:n})=>{let i=this._pushChildren("ButtonGroup",n).filter(t=>!!["Button","Dropdown","Select"].includes(t.type)||(this._printWarning(`unsupportedChild/${t.type}`,`Unsupported child type '${t.type}' in ButtonGroup`),!1)),r=!i.some(({focusable:t})=>t);this._push({id:t,type:"ButtonGroup",focusable:r,node:(0,en3.jsx)(N8,{orientation:this._context.orientation,children:i.map(({id:t,node:n})=>(0,en3.jsx)(en2.Fragment,{children:n},t))})})};Checkbox=(t,n)=>{this._printUnsupportedWarning("Checkbox")};Dropdown=(t,{label:n,tooltip:i,icon:r,children:s,...o})=>{let a=this._translateLabel(n),l=this._translateLabel(i),c=()=>{},u={close:()=>{c()}},d=this._pushChildren("Dropdown",s?()=>s(u):void 0),p=!d.some(({focusable:t})=>t),h="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Dropdown",focusable:!o.isDisabled,node:(0,en3.jsxs)(N0,{placement:"bottom",disableFocusTrap:p,children:[(n,{isOpen:i})=>(0,en3.jsx)(U5,{showTooltip:null!=l,label:l??"",children:(0,en3.jsxs)(DR,{name:`${this.name}-Dropdown-${t}`,variant:o.variant??(h?"regular":"plain"),color:o.color,size:o.size,isLoading:o.isLoading,loadingProgress:o.loadingProgress,...n,isDisabled:0===d.length||o.isDisabled,icon:null!=r?(0,en3.jsx)(en1,{iconSize:"normal",customIcon:r}):void 0,children:[a,i?(0,en3.jsx)(Ub,{}):(0,en3.jsx)(Uy,{})]})}),({closePopover:n})=>(c=n,(0,en3.jsx)("ul",{className:"UBQ_AbstractBuilder-module__dropdownList--jybN-",children:d.map(({id:n,node:i,type:r})=>"Separator"===r?(0,en3.jsx)(en2.Fragment,{children:i},t):(0,en3.jsx)("li",{children:i},n))}))]})})};MediaPreview=(t,n)=>{this._printUnsupportedWarning("MediaPreview")};Section=(t,n)=>{this._printUnsupportedWarning("Section")};Separator=t=>{let n="Dropdown"===this._currentNesting?"horizontal":"vertical";this._push({id:t,type:"Separator",focusable:!1,node:(0,en3.jsx)(Hp,{orientation:n})})};TextArea=(t,n)=>{this._printUnsupportedWarning("TextArea")};TextInput=(t,n)=>{this._printUnsupportedWarning("TextInput")};NumberInput=(t,n)=>{this._printUnsupportedWarning("NumberInput")};ColorInput=(t,n)=>{this._printUnsupportedWarning("ColorInput")};Slider=(t,n)=>{this._printUnsupportedWarning("Slider")};Library=(t,n)=>{this._printUnsupportedWarning("Library")};Heading=(t,n)=>{this._printUnsupportedWarning("Heading")};Text=(t,n)=>{this._printUnsupportedWarning("Text")};Select=(t,n)=>{this._printUnsupportedWarning("Select")}},en6=SV(S$()),en8=class extends en4{constructor(t,n,i,r){super("CanvasMenuBuilder",t,n,i,r)}Button=(t,{label:n,tooltip:i,onClick:r,icon:s,...o})=>{let a=this._translateLabel(n),l=this._translateLabel(i),c="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Button",focusable:!o.isDisabled,node:(0,en6.jsx)(U5,{showTooltip:null!=l,label:l??"",children:(0,en6.jsx)(enz,{"aria-label":a,name:`${this.name}-Button-${t}`,onClick:r,variant:o.variant??(c?"regular":"plain"),color:o.color,size:o.size,isActive:o.isActive,isSelected:o.isSelected,isDisabled:o.isDisabled,isLoading:o.isLoading,loadingProgress:o.loadingProgress,icon:null!=s?(0,en6.jsx)(en1,{iconSize:"normal",customIcon:s}):void 0,children:a})})})}},en7=SV(S$()),en9=Xc(Jg(function({engine:t}){let{hideUserInterface:n}=Kb(),i=KA(),{t:r}=qL();if(n)return null;let s=t.editor.getEditMode(),[o,a]=i.getCanvasMenuOrder({editMode:s});return(0,en7.jsx)(en7.Fragment,{children:o.map((n,s)=>{let o=n.id,l=`${a}.${o}.${s}`,c=i.registeredComponents[o];if(null==c)return null;if("react"===c.type){let t=c.component;return(0,en7.jsx)(t,{},l)}let u={componentId:o};return(0,en7.jsx)(enV,{builderRenderFunction:c.render,createBuilder:n=>new en8(n,r,u,t)},l)})})}));function eie(t,n=0){let i=document.querySelector("#root-shadow"),r=i?.shadowRoot??document.documentElement,s=document.createElement("div");s.style.display="none",s.style.width=t,r.appendChild(s);try{let t=parseInt(getComputedStyle(s).getPropertyValue("width"),10);return r.removeChild(s),Number.isNaN(t)?n:t}catch(t){return r.removeChild(s),n}}var eit=SV(Sz()),ein=null,eii=new Set;function eir(t,n){let i=(0,eit.useRef)(document.querySelector(`.${F2}`)??document.documentElement),r=Vx(n),[s,o]=(0,eit.useState)(()=>{let r=getComputedStyle(i.current).getPropertyValue(t).trim();return n?.(r)??r});return(0,eit.useEffect)(()=>{let n=i.current,s=()=>{let i=getComputedStyle(n).getPropertyValue(t).trim();o(r?.(i)??i)};return eii.add(s),ein||(ein=new MutationObserver(()=>{eii.forEach(t=>t())})).observe(n,{attributes:!0,attributeOldValue:!0,childList:!1,characterData:!1}),()=>{eii.delete(s),0===eii.size&&(ein?.disconnect(),ein=null)}},[r,t]),s}var eis=SV(S$()),eio=(0,enP.createContext)({initialWidth:0,setInitialWidth:()=>{}}),eia=Jg(function({engine:t,children:n,boundaryElement:i}){let r=(0,enP.useRef)(null),[s,o]=(0,enP.useState)(0);(0,enP.useEffect)(()=>(o(r.current?.offsetWidth??0),()=>{o(0)}),[n]);let a=(0,enP.useMemo)(()=>({initialWidth:s,setInitialWidth:o}),[s]),l=eir("--ubq-scale-base",t=>eie(t,4)),c=t.block.findAllSelected(),[u]=c;if(null==u)return null;let d=c.length>1,p=t.block.getFlipVertical(u),h=t.block.getRotation(u),f=t.editor.unstable_isInteractionHappening(),m=t.block.isVisibleAtCurrentPlaybackTime(u),g=t.block.isVisible(u),x=Math.floor(180*Math.abs(h)/Math.PI),y=p?x<45:x>135&&x<225;return(0,eis.jsx)(QV,{children:(0,eis.jsx)(enj,{className:"UBQ_CanvasMenu-module__tippy--Y7c0P",animation:"shift-away",interactive:!0,zIndex:enR.CanvasActions,appendTo:"parent",sticky:!0,visible:!f&&m&&g,plugins:[enw],content:(0,eis.jsx)(eio.Provider,{value:a,children:(0,eis.jsx)("div",{ref:r,className:"UBQ_CanvasMenu-module__block--hk7CF","data-cy":"canvas-actions",children:(0,eis.jsx)(en9,{})})}),duration:[300,50],popperOptions:{placement:"top",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","auto"]}},{name:"preventOverflow",options:{mainAxis:!0,altAxis:!0,boundary:i,padding:2*l}},{name:"offset",options:{offset:({placement:t})=>("bottom"!==t||y)&&("top"!==t||!y)||d?[0,4*l]:[0,12*l]}}]},children:n})})}),eil=SV(Sz());function eic(){let[t]=K1(KK().selection.allSelected);return t[0]}var eiu=SV(SH()),eid=SV(Sz()),eip=SV(S$()),eih=eid.forwardRef(function({width:t,height:n,rotation:i,position:r={x:0,y:0},style:s={},children:o,isDisabled:a,isPage:l,draggingState:c,isDeleting:u,className:d,...p},h){let f=Math.floor(r.x-t/2),m=Math.ceil(r.x+t/2),g=Math.floor(r.y-n/2),x=m-f,y=Math.ceil(r.y+n/2)-g,v=x/2,b=y/2;return(0,eip.jsx)("div",{"data-cy":"canvas-frame",onClick:t=>{t.stopPropagation()},className:(0,eiu.default)("UBQ_box-module__block--n0qcC",d,{"UBQ_box-module__disabled--s2QQv":a,"UBQ_box-module__page--xsbUn":l,"UBQ_box-module__dragging--rKfnM":c,"UBQ_box-module__nonPageBoxShadow--LmEpP":!l,"UBQ_box-module__deletingBoxShadow--djaxf":!l&&u,"UBQ_box-module__disabledFrame--0FGdV":a||l}),ref:h,style:{width:x,height:y,...s,transform:`translate3d(${f+v}px, ${g+b}px, 0px) rotate(${180/Math.PI*i}deg) translate3d(${-v}px, ${-b}px, 0px)`},...p,children:o})}),eif=SV(S$()),eim=(0,eil.forwardRef)(function(t,n){let i=eic(),r=function(t,n){let i=YB(),[r,s]=(0,KZ.useState)(()=>n(i)),o=(0,KZ.useRef)({component:t,getEngineValue:n});return o.current={component:t,getEngineValue:n},(0,KZ.useEffect)(()=>i.getDesignElementLifecycleEmitter().addGlobalListener(t=>{let n=i.engine.block.findAllSelected()[0],r=i.engine.scene.get();t.some(({event:t,options:i})=>(t===n||t===r)&&i?.componentType===o.current.component&&"DesignBlockRemovedEvent"!==i?.lifecycleEvent)&&s(o.current.getEngineValue(i))}),[i]),(0,KZ.useEffect)(()=>{let t=i.engine.editor,n=i.engine.block,r=i.engine.block.findAllSelected()[0],a=void 0===r?"":n.getType(r);return t.onHistoryUpdated(()=>{let t=i.engine.block.findAllSelected()[0];void 0!==t&&n.isValid(t)&&a===n.getType(t)&&s(o.current.getEngineValue(i))})},[i]),r}("ubq/designblocks/DesignBlockFrame",({engine:t})=>{let n=t.block.findAllSelected();if(0===n.length)return{position:{x:0,y:0},width:0,height:0};let[i,r,s,o]=t.block.getScreenSpaceBoundingBoxXYWH(n);return{position:{x:i+s/2,y:r+o/2},width:s,height:o}}),s=i&&"//ly.img.ubq/page"===i.type;return i?(0,eif.jsx)(eih,{ref:n,style:{pointerEvents:"none"},position:r.position,width:r.width,height:r.height,rotation:0,isPage:s}):null}),eig=SV(S$()),eix=Xc(Jg(function({engine:t,block:n,...i}){let[r]=Jc(),{hideUserInterface:s}=Kb();return s?null:(0,eig.jsx)(eia,{...i,children:(0,eig.jsx)(eim,{})},r)})),eiy=SV(Sz()),eiv=SV(S$()),eib={x:0,y:0,width:0,height:0},eiA=Xc(Jg(function({canvasControls:t,editorContainer:n,engine:i}){let{t:r}=qL(),s=YB(),o=Kb(),{focusSelectedElementOrDocument:a}=JC(),l=i.element,c=(0,JA.useRef)(null),[u,d]=(0,JA.useState)(null);u!==c.current&&d(c.current);let p=Vy(u)??eib,[h,f]=(0,JA.useState)(!1);i.editor.setSettingBool("touch/dragStartCanSelect",!U1);let m=Jy("editor/present");NI(["down"],()=>{m&&s.getPageManager().selectNextPage()}),NI(["up"],()=>{m&&s.getPageManager().selectPreviousPage()});let[g]=K1(s.channels.scene.ready),{selectedBlock:x,fillType:y}=Jh(i,()=>{let t=i.block.findAllSelected()[0],n=null!=t&&i.block.hasFill(t)?i.block.getFill(t):void 0;return{selectedBlock:t,fillType:null!=n&&i.block.isValid(n)?i.block.getType(n):void 0}});!function({engine:{editor:t}}){(0,eiy.useEffect)(()=>{let n=()=>{t.setEditMode("Transform")},i=t=>{OC.isActive()&&t.preventDefault();let n=t?.detail;"INPUT"===n?.tagName&&t.preventDefault()};return document.addEventListener("cesdk-refocus",i),document.addEventListener("cesdk-blur",n),()=>{document.removeEventListener("cesdk-refocus",i),document.removeEventListener("cesdk-blur",n)}},[t])}(s);let[v]=K1(s.channels.editor.editMode);(0,JA.useEffect)(()=>{g?l.style.removeProperty("visibility"):l.style.visibility="hidden"},[g,l]);let b=(0,JA.useCallback)(t=>{t?(l.setAttribute("aria-label",r("component.canvas")),l.setAttribute("data-ubq-canvas","ubq-canvas"),t.parentElement.insertBefore(l,t)):l.remove()},[l,r]);if((0,JA.useEffect)(()=>{let t=(0,Jb.default)(f,900,{leading:!1,trailing:!0,maxWait:900}),n=s.channels.camera.scrollPercentage.subscribe(()=>{f(!0),t(!1)});return()=>{n(),t.cancel()}},[s.channels.camera.scrollPercentage]),(0,JA.useEffect)(()=>u?i.setWheelEventTarget(u):Kk,[u,i]),!g)return(0,eiv.jsxs)("div",{className:JD,"data-ubq-canvas":"ubq-canvas-container",ref:c,children:[(0,eiv.jsx)(eeR,{}),(0,eiv.jsx)("div",{id:"ubq-canvas-position",ref:b,style:{display:"none"}},"canvasPosition")]},"container");let A=!o.hideUserInterface&&!m,w="Crop"!==v&&null!=l&&null!=x;return(0,eiv.jsxs)(Jj,{scope:"canvas",label:r("editor.scope.canvas"),className:JD,"data-ubq-canvas":"ubq-canvas-container",ref:c,onMouseUp:t=>{t.target===l&&a()},children:[A&&(0,eiv.jsx)(eeL,{containerRef:c}),A&&t,A&&(0,eiv.jsx)(J4,{editorContainer:n}),A&&w&&(0,eiv.jsx)(eix,{block:x,boundaryElement:c.current??void 0},`${x}-${y}`),(0,eiv.jsx)("div",{id:"ubq-canvas-position",ref:b,style:{display:"none"}},"canvasPosition"),(0,eiv.jsx)(eeY,{bcr:p,isScrolling:h,onDragStart:()=>f(!0),onDragEnd:()=>f(!1)}),(0,eiv.jsx)(ee1,{bcr:p,isScrolling:h,onDragStart:()=>f(!0),onDragEnd:()=>f(!1)})]})})),eiw=SV(S$()),eiC=class extends null{};function ei_({error:t}){let{t:n}=qL(),i=!!t.message,r=n(t instanceof eiC?"component.canvas.state.unsupported":"component.canvas.state.error");return(0,eiw.jsxs)(HF,{show:!0,type:"error","aria-label":r,children:[(0,eiw.jsx)(N5,{level:1,children:r}),i&&(0,eiw.jsx)("p",{children:t.message})]})}var eiS=SV(SH()),eik=class extends en4{constructor(t,n,i,r){super("CanvasBarBuilder",t,n,i,r)}toString(){return"CanvasBarBuilder"}},eiE={block:"UBQ_CanvasBars-module__block--hQNKs",bar:"UBQ_CanvasBars-module__bar--cPGyA",renderOptimizedSmallViewport:"UBQ_CanvasBars-module__renderOptimizedSmallViewport--NSAIy",bottom:"UBQ_CanvasBars-module__bottom--AFs8k",top:"UBQ_CanvasBars-module__top--k8O0E"},eiM=SV(S$()),eiI=Xc(Jg(function({engine:t,position:n}){let{t:i}=qL(),r=KA(),s=t.editor.getEditMode(),[o,a]=r.getCanvasBarOrder(n,{editMode:s});return(0,eiM.jsx)("div",{className:(0,eiS.default)(eiE.bar,eiE[n]),"data-cy":`canvas-bar-${n}`,children:o.map((n,s)=>{let o=n.id,l=`${a}.${o}.${s}`,c=r.registeredComponents[o];if(null==c)return null;if("react"===c.type){let t=c.component;return(0,eiM.jsx)(t,{},l)}let u={componentId:o};return(0,eiM.jsx)(enV,{builderRenderFunction:c.render,createBuilder:n=>new eik(n,i,u,t)},l)})})})),eiT=Xc(function(){let{hideUserInterface:t}=Kb();return t?null:(0,eiM.jsxs)("div",{className:eiE.block,children:[(0,eiM.jsx)(eiI,{position:"top"}),(0,eiM.jsx)(eiI,{position:"bottom"})]})}),eiB=SV(S$()),eiL=Xc(function(){let t=YT(),{getCurrentDialog:n}=KA(),{t:i}=qL(),r=n(),s=r?.content??"",o=r?.type,a=r?.size,l=r?.progress,c=r?.cancel,{title:u,message:d}={title:"string"!=typeof s&&s.title?i(s.title,{defaultValue:s.title}):void 0,message:"string"==typeof s?[i(s,{defaultValue:s})]:Array.isArray(s.message)?s.message.map(t=>i(t,{defaultValue:t})):[i(s.message,{defaultValue:s.message})]},p=r?.actions??[];return p=Array.isArray(p)?p:[p],(0,eiB.jsx)(N$,{children:(0,eiB.jsxs)(HF,{clickOutsideToClose:r?.clickOutsideToClose,show:null!=r,"aria-label":"dialog",type:o,size:a,progress:l,onClose:()=>{r&&(t.ui.closeDialog(r.id),r.onClose?.())},footer:(0,eiB.jsxs)(HF.Footer,{children:[c?(0,eiB.jsx)(DR,{name:"close-modal",variant:c.variant,color:c.color,onClick:()=>{c.onClick({id:r.id})},children:i(c.label,{defaultValue:c.label})}):null,(0,eiB.jsx)("div",{className:"UBQ_Dialogs-module__buttonWrapper--OvWys",children:p.map(t=>(0,eiB.jsx)(DR,{name:"close-modal",variant:t.variant,color:t.color,onClick:()=>{r&&t.onClick({id:r.id})},children:i(t.label,{defaultValue:t.label})},t?.label))})]}),children:[u&&(0,eiB.jsx)(N5,{level:1,multiline:!0,children:u}),d.map(t=>(0,eiB.jsx)("p",{children:t},t))]})})}),eij=SV(S$()),eiP=function(){return(0,eij.jsx)("hr",{className:"UBQ_DockSeparator-module__block--8XSWX"})},eiR=(SV(Sz()),SV(S$())),eiD=t=>(0,eiR.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eiR.jsx)("path",{d:"M18 12.1707V5.96152L9 8.03837V17C9 18.6569 7.65685 20 6 20C4.34315 20 3 18.6569 3 17C3 15.3431 4.34315 14 6 14C6.35064 14 6.68722 14.0602 7 14.1707L6.99953 6L20 3V15C20 16.6569 18.6569 18 17 18C15.3431 18 14 16.6569 14 15C14 13.3431 15.3431 12 17 12C17.3506 12 17.6872 12.0602 18 12.1707Z",fill:"currentColor"})}),eiF=(SV(Sz()),SV(S$())),eiO=t=>(0,eiF.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C9.34315 2 8 3.34315 8 5V13C8 14.6569 9.34315 16 11 16H19C20.6569 16 22 14.6569 22 13V5C22 3.34315 20.6569 2 19 2H11ZM10 5C10 4.44772 10.4477 4 11 4H13.5V10.5L15.75 8.25L18 10.5V4H19C19.5523 4 20 4.44772 20 5V13C20 13.5523 19.5523 14 19 14H11C10.4477 14 10 13.5523 10 13V5Z",fill:"currentColor"}),(0,eiF.jsx)("path",{d:"M7.00001 8L5.00001 8.00013L5.00051 16.0002C5.00062 17.6569 6.34371 19 8.00047 19L16.0001 19.0001L16.0001 17.0001L8.0005 17C7.44824 17 7.00055 16.5523 7.00051 16L7.00001 8Z",fill:"currentColor"}),(0,eiF.jsx)("path",{d:"M4 13L2 13.0001L2.00045 19.0002C2.00057 20.657 3.34365 22 5.0004 22L11.0001 22.0001L11.0001 20.0001L5.00043 20C4.44818 20 4.00049 19.5523 4.00045 19.0001L4 13Z",fill:"currentColor"})]}),eiN=(SV(Sz()),SV(S$())),eiU=t=>(0,eiN.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiN.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6Z",fill:"currentColor"}),(0,eiN.jsx)("path",{d:"M11.5 9.25C11.5 10.4926 10.4926 11.5 9.25 11.5C8.00736 11.5 7 10.4926 7 9.25C7 8.00736 8.00736 7 9.25 7C10.4926 7 11.5 8.00736 11.5 9.25Z",fill:"currentColor"}),(0,eiN.jsx)("path",{d:"M19 18V16.5005L15.6237 11.436C15.3269 10.9907 14.6725 10.9907 14.3757 11.436L9.33301 19H18C18.5523 19 19 18.5523 19 18Z",fill:"currentColor"})]}),eiV=(SV(Sz()),SV(S$())),eiH=t=>(0,eiV.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiV.jsx)("path",{d:"M12 3.55638C12 3.03995 12.5098 2.67804 12.9973 2.84832L19.4973 5.11854C19.7984 5.22369 20 5.50771 20 5.8266V18.1734C20 18.4923 19.7984 18.7763 19.4973 18.8815L12.9973 21.1517C12.5098 21.322 12 20.9601 12 20.4436V3.55638Z",fill:"currentColor"}),(0,eiV.jsx)("path",{d:"M6 3H4V21H6V3Z",fill:"currentColor"}),(0,eiV.jsx)("path",{d:"M10 3H8V21H10V3Z",fill:"currentColor"})]}),eiQ=(SV(Sz()),SV(S$())),eiz=t=>(0,eiQ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiQ.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 19C16.9853 19 19 16.9853 19 14.5C19 12.0147 16.9853 10 14.5 10C12.0147 10 10 12.0147 10 14.5C10 16.9853 12.0147 19 14.5 19ZM14.5 21C18.0899 21 21 18.0899 21 14.5C21 10.9101 18.0899 8 14.5 8C10.9101 8 8 10.9101 8 14.5C8 18.0899 10.9101 21 14.5 21Z",fill:"currentColor"}),(0,eiQ.jsx)("path",{d:"M6 3C4.34315 3 3 4.34315 3 6V13C3 14.6569 4.34315 16 6 16H6.13193C6.04524 15.5131 6 15.0118 6 14.5C6 14.3322 6.00486 14.1654 6.01446 14H6C5.44772 14 5 13.5523 5 13V6C5 5.44772 5.44772 5 6 5H13C13.5523 5 14 5.44772 14 6V6.01446C14.1654 6.00486 14.3322 6 14.5 6C15.0118 6 15.5131 6.04524 16 6.13193V6C16 4.34315 14.6569 3 13 3H6Z",fill:"currentColor"})]}),eiG=(SV(Sz()),SV(S$())),eiq=t=>(0,eiG.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiG.jsx)("path",{d:"M14.5 10C13.6716 10 13 9.32845 13 8.50003C13 7.6716 13.6716 7.00003 14.5 7.00003C15.3284 7.00003 16 7.6716 16 8.50003C16 9.32845 15.3284 10 14.5 10Z",fill:"currentColor"}),(0,eiG.jsx)("path",{d:"M8 8.50003C8 9.32845 8.67157 10 9.5 10C10.3284 10 11 9.32845 11 8.50003C11 7.6716 10.3284 7.00003 9.5 7.00003C8.67157 7.00003 8 7.6716 8 8.50003Z",fill:"currentColor"}),(0,eiG.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8284 22H12C8.8892 22 6.17891 21.5073 4.33579 19.6642C2.49266 17.8211 2 15.1108 2 12C2 8.8892 2.49266 6.17891 4.33579 4.33579C6.17891 2.49266 8.8892 2 12 2C15.1108 2 17.8211 2.49266 19.6642 4.33579C21.5073 6.17891 22 8.8892 22 12V12.8284L12.8284 22ZM12.2566 17.622C12.0872 18.3533 12 19.1476 12 20C6 20 4 18 4 12C4 6 6 4 12 4C18 4 20 6 20 12C19.1476 12 18.3533 12.0872 17.622 12.2566C16.896 12.4249 16.2322 12.6742 15.6355 12.9997L14.9999 12.9996C14.9999 13.1523 14.9821 13.2955 14.9474 13.4297C14.4346 13.7951 13.9836 14.2269 13.5984 14.7211C13.1314 14.9001 12.5789 14.9999 12 14.9999C11.1484 14.9999 10.354 14.7839 9.80487 14.4178C9.28534 14.0715 9.00012 13.612 9.00005 12.9999L7.00005 13.0001C7.00021 14.3879 7.71504 15.4283 8.69547 16.0819C9.64627 16.7158 10.8517 16.9999 12 16.9999C12.1425 16.9999 12.2858 16.9955 12.4295 16.9866C12.3647 17.1928 12.307 17.4046 12.2566 17.622Z",fill:"currentColor"})]}),eiW=(SV(Sz()),SV(S$())),ei$=t=>(0,eiW.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiW.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6Z",fill:"currentColor"}),(0,eiW.jsx)("path",{d:"M12 5H10V19H12L12 11H19V9L12 9V5Z",fill:"currentColor"})]}),eiZ=(SV(Sz()),SV(S$())),eiY=t=>(0,eiZ.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eiZ.jsx)("path",{d:"M4 5C4 4.44772 4.44772 4 5 4H19C19.5523 4 20 4.44772 20 5V8.5H18V6H13.25C13.25 5.99967 13.25 6.00033 13.25 6V18H16V20H8V18H10.75V6.00098C10.75 6.00065 10.75 6.0013 10.75 6.00098L6 6V8.5H4V5Z",fill:"currentColor"})}),eiK=(SV(Sz()),SV(S$())),eiX=t=>(0,eiK.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eiK.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.34315 3.34315 3 5 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V6ZM5 5C4.44772 5 4 5.44772 4 6V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H5Z",fill:"currentColor"}),(0,eiK.jsx)("path",{d:"M15.9335 11.2C16.4668 11.6 16.4668 12.3999 15.9335 12.7999L10.6001 16.8003C9.94091 17.2948 9.00011 16.8244 9.00011 16.0004L9.00011 7.99923C9.00011 7.17515 9.94095 6.70478 10.6002 7.19929L15.9335 11.2Z",fill:"currentColor"})]}),eiJ="UBQ_AssetLibraryDockIcon-module__normal--HChuB",ei0="UBQ_AssetLibraryDockIcon-module__large--G7VaI",ei1=SV(S$()),ei2=function({id:t,iconSize:n,customIcon:i}){if(i)return(0,ei1.jsx)(en1,{iconSize:n,customIcon:i});switch(t){case"@imgly/Template":case"ly.img.video.template":case"ly.img.template":return"large"===n?(0,ei1.jsx)(ei$,{className:ei0}):(0,ei1.jsx)(ei$,{className:eiJ});case"@imgly/Image":case"ly.img.image":return"large"===n?(0,ei1.jsx)(eiU,{className:ei0}):(0,ei1.jsx)(eiU,{className:eiJ});case"@imgly/Video":case"ly.img.video":return"large"===n?(0,ei1.jsx)(eiX,{className:ei0}):(0,ei1.jsx)(eiX,{className:eiJ});case"@imgly/Audio":case"ly.img.audio":return"large"===n?(0,ei1.jsx)(eiD,{className:ei0}):(0,ei1.jsx)(eiD,{className:eiJ});case"@imgly/Text":case"ly.img.text":return"large"===n?(0,ei1.jsx)(eiY,{className:ei0}):(0,ei1.jsx)(eiY,{className:eiJ});case"@imgly/Shapes":case"ly.img.vectorpath":return"large"===n?(0,ei1.jsx)(eiz,{className:ei0}):(0,ei1.jsx)(eiz,{className:eiJ});case"@imgly/Sticker":case"ly.img.sticker":return"large"===n?(0,ei1.jsx)(eiq,{className:ei0}):(0,ei1.jsx)(eiq,{className:eiJ});case"@imgly/Upload":case"ly.img.upload":case"ly.img.image.upload":case"ly.img.audio.upload":case"ly.img.video.upload":return"large"===n?(0,ei1.jsx)(JU,{className:ei0}):(0,ei1.jsx)(JU,{className:eiJ});case"@imgly/Library":case"ly.img.dockGroupOverview":return"large"===n?(0,ei1.jsx)(eiH,{className:ei0}):(0,ei1.jsx)(eiH,{className:eiJ});default:return"large"===n?(0,ei1.jsx)(eiO,{className:ei0}):(0,ei1.jsx)(eiO,{className:eiJ})}},ei3=SV(S$()),ei5=class extends en4{constructor(t,n,i,r){super("DockBuilder",t,n,i,r)}Separator=t=>{this._push({id:t,type:"Separator",focusable:!1,node:(0,ei3.jsx)(eiP,{})})};Button=(t,{label:n,tooltip:i,onClick:r,icon:s,...o})=>{let a=this._translateLabel(n),l=this._translateLabel(i),c=null!=s&&"string"==typeof s&&["@imgly/Audio","@imgly/CustomLibrary","@imgly/Image","@imgly/Library","@imgly/Shapes","@imgly/Sticker","@imgly/Template","@imgly/Text","@imgly/Upload","@imgly/Video"].includes(s)?s:void 0,u="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Button",focusable:!o.isDisabled,node:(0,ei3.jsx)(U5,{showTooltip:null!=l,label:l??"",children:(0,ei3.jsx)(QY.Button,{"aria-label":this._context.hideLabels?a:void 0,name:`${this.name}-Button-${t}`,onClick:r,icon:(0,ei3.jsx)(ei2,{id:c,customIcon:null==c?s:void 0,iconSize:this._context.iconSize}),variant:o.variant??(u?"regular":"plain"),color:o.color,size:o.size,isActive:o.isActive,isSelected:o.isSelected,isDisabled:o.isDisabled,isLoading:o.isLoading,loadingProgress:o.loadingProgress,children:!this._context.hideLabels&&a})})})};Dropdown=()=>{this._printUnsupportedWarning("Dropdown")}},ei4=SV(S$()),ei6=Xc(Jg(function({engine:t,className:n}){let{t:i}=qL(),r=KA(),{dockIconSize:s,dockHideLabels:o}=Kb(),a=enF(),l=t.editor.getEditMode(),[c,u]=r.getDockOrder({editMode:l}),d=a?"horizontal":"vertical";return(0,ei4.jsx)(QY,{className:n,size:o?"small":"big","data-cy":"dock",hideLabels:o,horizontal:"horizontal"===d,children:c.map((n,a)=>{let l=n.id,c=`${u}.${l}.${a}`,p=r.registeredComponents[l];if(null==p)return null;if("react"===p.type){let t=p.component;return(0,ei4.jsx)(t,{},c)}let h={componentId:l,hideLabels:o,iconSize:s,orientation:d};return(0,ei4.jsx)(enV,{payload:{...n},builderRenderFunction:p.render,createBuilder:n=>new ei5(n,i,h,t)},c)})})})),ei8=(SV(Sz()),SV(S$())),ei7=t=>(0,ei8.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ei8.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5002 5.58594L16.2073 11.293C16.5978 11.6836 16.5978 12.3167 16.2073 12.7073L10.5002 18.4144L9.08594 17.0002L14.0859 12.0002L9.08594 7.00015L10.5002 5.58594Z",fill:"currentColor"})}),ei9=(SV(Sz()),SV(S$())),ere=t=>(0,ei9.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ei9.jsx)("path",{d:"M11.293 15.2071L6.29297 10.2071L7.70719 8.7929L11.0002 12.0859V3H13.0002V12.0857L16.293 8.7929L17.7072 10.2071L12.7072 15.2071C12.5196 15.3947 12.2653 15.5 12.0001 15.5C11.7349 15.5 11.4805 15.3947 11.293 15.2071Z",fill:"currentColor"}),(0,ei9.jsx)("rect",{x:5,y:17,width:14,height:2,fill:"currentColor"})]}),ert=(SV(Sz()),SV(S$())),ern=t=>(0,ert.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ert.jsx)("rect",{x:5,y:11,width:14,height:2,fill:"currentColor"}),(0,ert.jsx)("path",{d:"M12.7072 9.20721L17.7072 4.20718L16.293 2.79297L12.0001 7.08589L7.70719 2.79297L6.29297 4.20718L11.293 9.20721C11.4805 9.39475 11.7349 9.5001 12.0001 9.5001C12.2653 9.5001 12.5196 9.39475 12.7072 9.20721Z",fill:"currentColor"}),(0,ert.jsx)("path",{d:"M12.7072 14.7929L17.7072 19.793L16.293 21.2072L12.0001 16.9143L7.70719 21.2072L6.29297 19.793L11.293 14.7929C11.4805 14.6054 11.7349 14.5 12.0001 14.5C12.2653 14.5 12.5196 14.6054 12.7072 14.7929Z",fill:"currentColor"})]}),eri=(SV(Sz()),SV(S$())),err=t=>(0,eri.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eri.jsx)("path",{d:"M12.7072 8.7929L17.7072 13.7929L16.293 15.2071L13 11.9141V21H11V11.9143L7.70719 15.2071L6.29297 13.7929L11.293 8.7929C11.4805 8.60536 11.7349 8.5 12.0001 8.5C12.2653 8.5 12.5196 8.60536 12.7072 8.7929Z",fill:"currentColor"}),(0,eri.jsx)("rect",{x:5,y:5,width:14,height:2,fill:"currentColor"})]}),ers=(SV(Sz()),SV(S$())),ero=t=>(0,ers.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ers.jsx)("path",{d:"M9.70721 18.2069L5.70721 22.2071C5.51967 22.3947 5.26532 22.5001 5.00009 22.5001C4.73487 22.5001 4.48051 22.3947 4.29297 22.2072L0.292969 18.2071L1.70719 16.7929L4 19.0858V4.9143L1.70719 7.20713L0.292969 5.79292L4.29297 1.7929C4.48051 1.60536 4.73486 1.5 5.00008 1.5C5.2653 1.5 5.51965 1.60536 5.70719 1.7929L9.70719 5.79292L8.29297 7.20713L6 4.91415V19.0858L8.29295 16.7927L9.70721 18.2069Z",fill:"currentColor"}),(0,ers.jsx)("path",{d:"M21 9H10V11H21V9Z",fill:"currentColor"}),(0,ers.jsx)("path",{d:"M17 13H10V15H17V13Z",fill:"currentColor"})]}),era=(SV(Sz()),SV(S$())),erl=t=>(0,era.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,era.jsx)("path",{d:"M16.7071 9.20719L20.2071 5.70719C20.3947 5.51965 20.5 5.2653 20.5 5.00008C20.5 4.73486 20.3947 4.48051 20.2071 4.29297L16.7071 0.792969L15.2929 2.20719L17.0857 4H4V17.0857L2.20719 15.2929L0.792969 16.7071L4.29297 20.2071C4.48051 20.3947 4.73486 20.5 5.00008 20.5C5.2653 20.5 5.51965 20.3947 5.70719 20.2071L9.20719 16.7071L7.79297 15.2929L6 17.0859V6H17.0859L15.2929 7.79297L16.7071 9.20719Z",fill:"currentColor"}),(0,era.jsx)("path",{d:"M21 11H11V13H21V11Z",fill:"currentColor"}),(0,era.jsx)("path",{d:"M18 15H11V17H18V15Z",fill:"currentColor"})]}),erc=(SV(Sz()),SV(S$())),eru=t=>(0,erc.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,erc.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6Z",fill:"currentColor"}),(0,erc.jsx)("path",{d:"M17 9H7V11H17V9Z",fill:"currentColor"}),(0,erc.jsx)("path",{d:"M13 13H7V15H13V13Z",fill:"currentColor"})]}),erd=SV(Sz()),erp="UBQ_ClipLines-module__button--BZdAt",erh=SV(S$()),erf=function(){let{t:t}=qL(),n=KU(),i=eic(),[r,s]=K1(i?.clipLinesOutsideOfFrame,!1),[o]=K1(i?.heightMode,"Auto"),a=t=>{t!==r&&(s(t),n(t?"input.clipLines.on.description":"input.clipLines.off.description"))};return(0,erh.jsxs)(Qe,{children:[(0,erh.jsx)(Uo,{children:t("input.clipLines")}),(0,erh.jsxs)(Ou,{children:[(0,erh.jsx)(U6,{label:t("input.clipLines.on.description"),children:(0,erh.jsx)(DR,{name:"clipLinesOn",className:erp,onClick:()=>a(!0),isActive:r,"aria-label":t("input.clipLines.on.description"),isDisabled:"Absolute"!==o,children:t("common.on")})}),(0,erh.jsx)(U6,{label:t("input.clipLines.off.description"),children:(0,erh.jsx)(DR,{name:"clipLinesOff",className:erp,onClick:()=>a(!1),isActive:!r,"aria-label":t("input.clipLines.off.description"),isDisabled:"Absolute"!==o,children:t("common.off")})})]})]})},erm=(SV(Sz()),SV(S$())),erg=t=>(0,erm.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,erm.jsx)("rect",{x:7,y:11,width:10,height:2,fill:"currentColor"})}),erx=(SV(Sz()),SV(S$())),ery=t=>(0,erx.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,erx.jsx)("path",{d:"M8.49316 16.0928V11.5576C8.49316 11.2178 8.43164 10.9248 8.30859 10.6787C8.18555 10.4326 7.99805 10.2422 7.74609 10.1074C7.5 9.97266 7.18945 9.90527 6.81445 9.90527C6.46875 9.90527 6.16992 9.96387 5.91797 10.0811C5.66602 10.1982 5.46973 10.3564 5.3291 10.5557C5.18848 10.7549 5.11816 10.9805 5.11816 11.2324H3.00879C3.00879 10.8574 3.09961 10.4941 3.28125 10.1426C3.46289 9.79102 3.72656 9.47754 4.07227 9.20215C4.41797 8.92676 4.83105 8.70996 5.31152 8.55176C5.79199 8.39355 6.33105 8.31445 6.92871 8.31445C7.64355 8.31445 8.27637 8.43457 8.82715 8.6748C9.38379 8.91504 9.82031 9.27832 10.1367 9.76465C10.459 10.2451 10.6201 10.8486 10.6201 11.5752V15.8027C10.6201 16.2363 10.6494 16.626 10.708 16.9717C10.7725 17.3115 10.8633 17.6074 10.9805 17.8594V18H8.80957C8.70996 17.7715 8.63086 17.4814 8.57227 17.1299C8.51953 16.7725 8.49316 16.4268 8.49316 16.0928ZM8.80078 12.2168L8.81836 13.5264H7.29785C6.90527 13.5264 6.55957 13.5645 6.26074 13.6406C5.96191 13.7109 5.71289 13.8164 5.51367 13.957C5.31445 14.0977 5.16504 14.2676 5.06543 14.4668C4.96582 14.666 4.91602 14.8916 4.91602 15.1436C4.91602 15.3955 4.97461 15.627 5.0918 15.8379C5.20898 16.043 5.37891 16.2041 5.60156 16.3213C5.83008 16.4385 6.10547 16.4971 6.42773 16.4971C6.86133 16.4971 7.23926 16.4092 7.56152 16.2334C7.88965 16.0518 8.14746 15.832 8.33496 15.5742C8.52246 15.3105 8.62207 15.0615 8.63379 14.8271L9.31934 15.7676C9.24902 16.0078 9.12891 16.2656 8.95898 16.541C8.78906 16.8164 8.56641 17.0801 8.29102 17.332C8.02148 17.5781 7.69629 17.7803 7.31543 17.9385C6.94043 18.0967 6.50684 18.1758 6.01465 18.1758C5.39355 18.1758 4.83984 18.0527 4.35352 17.8066C3.86719 17.5547 3.48633 17.2178 3.21094 16.7959C2.93555 16.3682 2.79785 15.8848 2.79785 15.3457C2.79785 14.8418 2.8916 14.3965 3.0791 14.0098C3.27246 13.6172 3.55371 13.2891 3.92285 13.0254C4.29785 12.7617 4.75488 12.5625 5.29395 12.4277C5.83301 12.2871 6.44824 12.2168 7.13965 12.2168H8.80078Z",fill:"currentColor"}),(0,erx.jsx)("path",{d:"M18.9258 8.49023H20.8506V17.7363C20.8506 18.5918 20.6689 19.3184 20.3057 19.916C19.9424 20.5137 19.4355 20.9678 18.7852 21.2783C18.1348 21.5947 17.3818 21.7529 16.5264 21.7529C16.1631 21.7529 15.7588 21.7002 15.3135 21.5947C14.874 21.4893 14.4463 21.3193 14.0303 21.085C13.6201 20.8564 13.2773 20.5547 13.002 20.1797L13.9951 18.9316C14.335 19.3359 14.71 19.6318 15.1201 19.8193C15.5303 20.0068 15.9609 20.1006 16.4121 20.1006C16.8984 20.1006 17.3115 20.0098 17.6514 19.8281C17.9971 19.6523 18.2637 19.3916 18.4512 19.0459C18.6387 18.7002 18.7324 18.2783 18.7324 17.7803V10.6436L18.9258 8.49023ZM12.4658 13.3506V13.166C12.4658 12.4453 12.5537 11.7891 12.7295 11.1973C12.9053 10.5996 13.1572 10.0869 13.4854 9.65918C13.8135 9.22559 14.2119 8.89453 14.6807 8.66602C15.1494 8.43164 15.6797 8.31445 16.2715 8.31445C16.8867 8.31445 17.4111 8.42578 17.8447 8.64844C18.2842 8.87109 18.6504 9.19043 18.9434 9.60645C19.2363 10.0166 19.4648 10.5088 19.6289 11.083C19.7988 11.6514 19.9248 12.2842 20.0068 12.9814V13.5703C19.9307 14.25 19.8018 14.8711 19.6201 15.4336C19.4385 15.9961 19.1982 16.4824 18.8994 16.8926C18.6006 17.3027 18.2314 17.6191 17.792 17.8418C17.3584 18.0645 16.8457 18.1758 16.2539 18.1758C15.6738 18.1758 15.1494 18.0557 14.6807 17.8154C14.2178 17.5752 13.8193 17.2383 13.4854 16.8047C13.1572 16.3711 12.9053 15.8613 12.7295 15.2754C12.5537 14.6836 12.4658 14.042 12.4658 13.3506ZM14.584 13.166V13.3506C14.584 13.7842 14.625 14.1885 14.707 14.5635C14.7949 14.9385 14.9268 15.2695 15.1025 15.5566C15.2842 15.8379 15.5127 16.0605 15.7881 16.2246C16.0693 16.3828 16.4004 16.4619 16.7812 16.4619C17.2793 16.4619 17.6865 16.3564 18.0029 16.1455C18.3252 15.9346 18.5713 15.6504 18.7412 15.293C18.917 14.9297 19.04 14.5254 19.1104 14.0801V12.4893C19.0752 12.1436 19.002 11.8213 18.8906 11.5225C18.7852 11.2236 18.6416 10.9629 18.46 10.7402C18.2783 10.5117 18.0498 10.3359 17.7744 10.2129C17.499 10.084 17.1738 10.0195 16.7988 10.0195C16.418 10.0195 16.0869 10.1016 15.8057 10.2656C15.5244 10.4297 15.293 10.6553 15.1113 10.9424C14.9355 11.2295 14.8037 11.5635 14.7158 11.9443C14.6279 12.3252 14.584 12.7324 14.584 13.166Z",fill:"currentColor"})]}),erv=(SV(Sz()),SV(S$())),erb=t=>(0,erv.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,erv.jsx)("path",{d:"M7.20996 6.9082L3.38672 18H1.0752L5.8916 5.20312H7.36816L7.20996 6.9082ZM10.4092 18L6.57715 6.9082L6.41016 5.20312H7.89551L12.7295 18H10.4092ZM10.2246 13.2539V15.0029H3.26367V13.2539H10.2246Z",fill:"currentColor"}),(0,erv.jsx)("path",{d:"M20.042 8.49023H21.9668V17.7363C21.9668 18.5918 21.7852 19.3184 21.4219 19.916C21.0586 20.5137 20.5518 20.9678 19.9014 21.2783C19.251 21.5947 18.498 21.7529 17.6426 21.7529C17.2793 21.7529 16.875 21.7002 16.4297 21.5947C15.9902 21.4893 15.5625 21.3193 15.1465 21.085C14.7363 20.8564 14.3936 20.5547 14.1182 20.1797L15.1113 18.9316C15.4512 19.3359 15.8262 19.6318 16.2363 19.8193C16.6465 20.0068 17.0771 20.1006 17.5283 20.1006C18.0146 20.1006 18.4277 20.0098 18.7676 19.8281C19.1133 19.6523 19.3799 19.3916 19.5674 19.0459C19.7549 18.7002 19.8486 18.2783 19.8486 17.7803V10.6436L20.042 8.49023ZM13.582 13.3506V13.166C13.582 12.4453 13.6699 11.7891 13.8457 11.1973C14.0215 10.5996 14.2734 10.0869 14.6016 9.65918C14.9297 9.22559 15.3281 8.89453 15.7969 8.66602C16.2656 8.43164 16.7959 8.31445 17.3877 8.31445C18.0029 8.31445 18.5273 8.42578 18.9609 8.64844C19.4004 8.87109 19.7666 9.19043 20.0596 9.60645C20.3525 10.0166 20.5811 10.5088 20.7451 11.083C20.915 11.6514 21.041 12.2842 21.123 12.9814V13.5703C21.0469 14.25 20.918 14.8711 20.7363 15.4336C20.5547 15.9961 20.3145 16.4824 20.0156 16.8926C19.7168 17.3027 19.3477 17.6191 18.9082 17.8418C18.4746 18.0645 17.9619 18.1758 17.3701 18.1758C16.79 18.1758 16.2656 18.0557 15.7969 17.8154C15.334 17.5752 14.9355 17.2383 14.6016 16.8047C14.2734 16.3711 14.0215 15.8613 13.8457 15.2754C13.6699 14.6836 13.582 14.042 13.582 13.3506ZM15.7002 13.166V13.3506C15.7002 13.7842 15.7412 14.1885 15.8232 14.5635C15.9111 14.9385 16.043 15.2695 16.2188 15.5566C16.4004 15.8379 16.6289 16.0605 16.9043 16.2246C17.1855 16.3828 17.5166 16.4619 17.8975 16.4619C18.3955 16.4619 18.8027 16.3564 19.1191 16.1455C19.4414 15.9346 19.6875 15.6504 19.8574 15.293C20.0332 14.9297 20.1562 14.5254 20.2266 14.0801V12.4893C20.1914 12.1436 20.1182 11.8213 20.0068 11.5225C19.9014 11.2236 19.7578 10.9629 19.5762 10.7402C19.3945 10.5117 19.166 10.3359 18.8906 10.2129C18.6152 10.084 18.29 10.0195 17.915 10.0195C17.5342 10.0195 17.2031 10.1016 16.9219 10.2656C16.6406 10.4297 16.4092 10.6553 16.2275 10.9424C16.0518 11.2295 15.9199 11.5635 15.832 11.9443C15.7441 12.3252 15.7002 12.7324 15.7002 13.166Z",fill:"currentColor"})]}),erA=(SV(Sz()),SV(S$())),erw=t=>(0,erA.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,erA.jsx)("path",{d:"M6.43164 6.9082L2.6084 18H0.296875L5.11328 5.20312H6.58984L6.43164 6.9082ZM9.63086 18L5.79883 6.9082L5.63184 5.20312H7.11719L11.9512 18H9.63086ZM9.44629 13.2539V15.0029H2.48535V13.2539H9.44629Z",fill:"currentColor"}),(0,erA.jsx)("path",{d:"M22.7093 11.4609V16.3477C22.5277 16.5879 22.2435 16.8516 21.8568 17.1387C21.4759 17.4199 20.9691 17.6631 20.3363 17.8682C19.7035 18.0732 18.9154 18.1758 17.972 18.1758C17.1693 18.1758 16.4339 18.041 15.766 17.7715C15.098 17.4961 14.5209 17.0947 14.0345 16.5674C13.5541 16.04 13.182 15.3984 12.9183 14.6426C12.6546 13.8809 12.5228 13.0137 12.5228 12.041V11.1533C12.5228 10.1865 12.6429 9.3252 12.8832 8.56934C13.1293 7.80762 13.4808 7.16309 13.9379 6.63574C14.3949 6.1084 14.9457 5.70996 15.5902 5.44043C16.2406 5.16504 16.9759 5.02734 17.7962 5.02734C18.8451 5.02734 19.7123 5.20312 20.3978 5.55469C21.0892 5.90039 21.6224 6.38086 21.9974 6.99609C22.3724 7.61133 22.6097 8.31445 22.7093 9.10547H20.5472C20.4769 8.66016 20.3392 8.26172 20.1341 7.91016C19.9349 7.55859 19.6478 7.2832 19.2728 7.08398C18.9037 6.87891 18.4232 6.77637 17.8314 6.77637C17.3216 6.77637 16.8734 6.87305 16.4867 7.06641C16.1 7.25977 15.7777 7.54395 15.5199 7.91895C15.2679 8.29395 15.0775 8.75098 14.9486 9.29004C14.8197 9.8291 14.7552 10.4443 14.7552 11.1357V12.041C14.7552 12.7441 14.8285 13.3682 14.975 13.9131C15.1273 14.458 15.3441 14.918 15.6254 15.293C15.9125 15.668 16.2611 15.9521 16.6712 16.1455C17.0814 16.333 17.5443 16.4268 18.0599 16.4268C18.5638 16.4268 18.9769 16.3857 19.2992 16.3037C19.6214 16.2158 19.8763 16.1133 20.0638 15.9961C20.2572 15.873 20.4066 15.7559 20.5121 15.6445V13.1045H17.849V11.4609H22.7093Z",fill:"currentColor"})]}),erC=SV(S$()),er_=function(){let t=KU(),{t:n}=qL(),i=eic(),[r,s]=K1(i?.textCase,["Normal"]),o=n=>()=>{s(n),t("action.text.changeCase")},a=t=>1===r.length&&r[0]===t;return(0,erC.jsxs)(Qe,{children:[(0,erC.jsx)(Uo,{htmlFor:"textCase",children:n("property.textCase")}),(0,erC.jsxs)(Ou,{children:[(0,erC.jsx)(U6,{label:n("property.textCase.normal"),children:(0,erC.jsx)(DR,{name:"textCaseAsTyped","data-cy":"textCaseAsTyped",onClick:o("Normal"),isActive:a("Normal"),"aria-label":n("property.textCase.normal"),children:(0,erC.jsx)(erg,{})})}),(0,erC.jsx)(U6,{label:n("property.textCase.uppercase"),children:(0,erC.jsx)(DR,{name:"textCaseUppercase","data-cy":"textCaseUppercase",onClick:o("Uppercase"),isActive:a("Uppercase"),"aria-label":n("property.textCase.uppercase"),children:(0,erC.jsx)(erw,{})})}),(0,erC.jsx)(U6,{label:n("property.textCase.lowercase"),children:(0,erC.jsx)(DR,{name:"textCaseLowercase","data-cy":"textCaseLowercase",onClick:o("Lowercase"),isActive:a("Lowercase"),"aria-label":n("property.textCase.lowercase"),children:(0,erC.jsx)(ery,{})})}),(0,erC.jsx)(U6,{label:n("property.textCase.titlecase"),children:(0,erC.jsx)(DR,{name:"textCaseTitlecase","data-cy":"textCaseTitlecase",onClick:o("Titlecase"),isActive:a("Titlecase"),"aria-label":n("property.textCase.titlecase"),children:(0,erC.jsx)(erb,{})})})]})]})},erS=SV(SH()),erk=SV(Sz()),erE=(SV(Sz()),SV(S$())),erM=t=>(0,erE.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,erE.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.58594 10.5002L11.293 16.2073C11.4806 16.3948 11.7349 16.5002 12.0002 16.5002C12.2654 16.5002 12.5197 16.3948 12.7073 16.2073L18.4144 10.5002L17.0002 9.08594L12.0002 14.0859L7.00015 9.08594L5.58594 10.5002Z",fill:"currentColor"})}),erI=(SV(Sz()),SV(S$())),erT=t=>(0,erI.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,erI.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4999 5.58594L7.79275 11.2929C7.60521 11.4805 7.49985 11.7348 7.49985 12C7.49985 12.2653 7.6052 12.5196 7.79274 12.7072L13.4998 18.4144L14.9141 17.0002L9.91406 12.0001L14.9141 7.00016L13.4999 5.58594Z",fill:"currentColor"})}),erB=SV(SH()),erL=SV(Sz()),erj={block:"UBQ_PanelPortal-module__block--Zlqwp",fullWidth:"UBQ_PanelPortal-module__fullWidth--AJvKV",verticalPanel:"UBQ_PanelPortal-module__verticalPanel--gxFvi"},erP=SV(S$());function erR({children:t}){return(0,erP.jsx)(NZ,{layer:"panelLeft",children:t})}function erD({children:t}){return(0,erP.jsx)(NZ,{layer:"panelRight",children:t})}function erF({children:t,className:n}){return(0,erP.jsx)(NZ.Container,{layer:"panelLeft",className:(0,erB.default)(erj.block,n),children:t})}function erO({children:t,className:n}){return(0,erP.jsx)(NZ.Container,{layer:"panelRight",className:(0,erB.default)(erj.block,n),children:t})}function erN({panelPosition:t}){let n=enF(),{width:i}=G2(),r={[erj.fullWidth]:i<480||n,[erj.verticalPanel]:n};switch(t){case"left":return(0,erP.jsx)(erF,{className:(0,erB.default)(r)});case"right":return(0,erP.jsx)(erO,{className:(0,erB.default)(r)});default:return null}}function erU(t,n){let i=n.getPanelState(t)?.open??!1,r=(0,erL.useCallback)(r=>{let s="function"==typeof r?r(i):r;n.setPanelState(t,{open:s})},[t,i,n]);return[i,r]}var erV=Xc(({id:t,group:n,panelPosition:i,children:r})=>{let s=KA(),[o,a]=erU(t,s);switch((0,erL.useEffect)(()=>()=>{o&&a(!1)},[o,a]),(0,erL.useEffect)(()=>{s.getPanelState(t)?.group!==n&&s.setPanelState(t,{open:!1,group:n})},[t,n,s]),i){case"left":return(0,erP.jsx)(erR,{children:"function"==typeof r?r({isOpen:o,setIsOpen:a}):r});case"right":return(0,erP.jsx)(erD,{children:"function"==typeof r?r({isOpen:o,setIsOpen:a}):r});default:return null}}),erH="UBQ_Panel-module__header--qDeg3",erQ=function(t){return KA().getPanelFloating(t)},erz=function(t){return KA().getPanelPosition(t)},erG=SV(S$()),erq=(0,erk.createContext)({id:"",animationComplete:!0,panelPosition:"left",context:"close",closable:!0,isOpen:!1,setIsOpen:()=>{}});function erW({id:t,animationComplete:n,panelPosition:i,isOpen:r,setIsOpen:s,context:o,closable:a,onClose:l,children:c}){let u=(0,erk.useMemo)(()=>({id:t,animationComplete:n,panelPosition:i,isOpen:r,setIsOpen:s,context:o,closable:a,onClose:l}),[t,n,i,o,a,l,r,s]);return(0,erG.jsx)(erq.Provider,{value:u,children:c})}function er$({id:t,group:n,panelPosition:i,floating:r,onClose:s,closable:o=!0,context:a="close",show:l,children:c,focusTrapActive:u,...d}){let p=erz("//ly.img.panel/assetLibrary"),h=enF(),f=erz(t),m=erQ(t),g=KA(),x=g.getPanelState(t),[y,v]=erU(t,g),b=null!=x?.sessionOptions?.closableByUser?x?.sessionOptions?.closableByUser:o,A=h?"left":i||f,w=!!h||(null!=r?r:m);return(0,erG.jsx)(erV,{id:t,group:n,panelPosition:A,children:()=>(0,erG.jsx)(Ql,{show:null!=l?l:y,position:A,floating:w,borderLeft:"left"===A&&"left"===p,borderRight:"right"===A&&"right"===p,animationDirection:h?"vertical":"horizontal",...d,children:({animationComplete:n})=>(0,erG.jsx)(erW,{id:t,animationComplete:n,panelPosition:A,context:a,closable:b,onClose:s,isOpen:y,setIsOpen:v,children:(0,erG.jsx)(OC,{active:null!=u?u:n,focusTrapOptions:{preventScroll:!0,escapeDeactivates:!1,clickOutsideDeactivates:!0},children:(0,erG.jsx)("div",{className:"UBQ_Panel-module__block--ktFvC",children:"function"==typeof c?c({animationComplete:n,isOpen:y,setIsOpen:v}):n&&c})})})})})}function erZ({panelId:t,onClick:n}){let{t:i}=qL(),r=enF(),s=i("common.close"),o=r?(0,erG.jsx)(erM,{}):(0,erG.jsx)(VC,{});return(0,erG.jsx)(U6,{label:s,children:(0,erG.jsx)(DR,{"aria-label":s,name:`panel.close.${t}`,"data-cy":`panel.close.${t}`,variant:"regular",onClick:n,icon:o})})}function erY({panelId:t,onClick:n}){let{t:i}=qL(),r=i("common.back");return(0,erG.jsx)(U6,{label:r,children:(0,erG.jsx)(DR,{"aria-label":r,name:`panel.back.${t}`,"data-cy":`panel.back.${t}`,variant:"regular",onClick:n,icon:(0,erG.jsx)(erT,{})})})}er$.Header=Xc(function({overlay:t,children:n,action:i}){let{id:r,animationComplete:s,panelPosition:o,context:a,closable:l,onClose:c,isOpen:u,setIsOpen:d}=(0,erk.useContext)(erq),p="right";"back"===a?p="left":"close"===a&&("left"===o&&(p="right"),"right"===o&&(p="left"));let h=l&&"left"===p,f=l&&"right"===p,m="close"===a?(0,erG.jsx)(erZ,{panelId:r,onClick:()=>{c?.(),d(!1)}}):(0,erG.jsx)(erY,{panelId:r,onClick:()=>{c?.(),d(!1)}});return(0,erG.jsxs)(erG.Fragment,{children:[t&&(0,erG.jsx)("section",{className:erH,children:t}),(0,erG.jsxs)("section",{className:(0,erS.default)(erH,{"UBQ_Panel-module__hidden---Zatz":t}),children:[h&&(0,erG.jsx)("div",{className:"UBQ_Panel-module__headerLeft--yQHMF",children:h?m:void 0}),"function"==typeof n?n({animationComplete:s,isOpen:u,setIsOpen:d}):s&&n,(f||i)&&(0,erG.jsxs)("div",{className:"UBQ_Panel-module__headerRight--bn0er",children:[i,f?m:void 0]})]}),(0,erG.jsx)(Hp,{})]})}),er$.Title=function({children:t,action:n}){let{a11y:i}=JH();return(0,erG.jsxs)(erG.Fragment,{children:[(0,erG.jsx)(N5,{className:"UBQ_Panel-module__heading--pa7qn",level:1,start:i.headingsHierarchyStart,"data-cy":"panel-title",children:t}),(0,erG.jsx)("div",{className:"UBQ_Panel-module__headerCenter--DSLEc",children:n})]})},er$.Content=function({children:t}){let{animationComplete:n,isOpen:i,setIsOpen:r}=(0,erk.useContext)(erq);return(0,erG.jsx)("div",{className:"UBQ_Panel-module__panelContent--2-JT3",children:"function"==typeof t?t({animationComplete:n,isOpen:i,setIsOpen:r}):n&&t})};var erK=Xc(er$),erX=SV(Sz()),erJ={block:"UBQ_SliderInput-module__block--pFy3O"},er0=SV(S$());function er1({min:t,max:n,step:i,centeredZeroPosition:r=!0,snapOffset:s=n/20,onChange:o,onRelease:a,id:l,name:c,value:u,defaultValue:d,label:p,isDisabled:h=!1,...f}){let{t:m}=qL(),g=i??HJ.stepFromMinMax(t,n),[x]=(0,erX.useState)({enabled:!0,snapped:!1});function y(t){return parseFloat(t.toFixed(3))}return(0,er0.jsx)("div",{className:erJ.block,"data-cy":"slider-input",children:(0,er0.jsx)(H5,{value:u,id:l,name:c,defaultValue:y(d??0),min:y(t),max:y(n),step:y(g),"data-cy":c.replace(/\//g,"-"),onChange:t=>{if("change"===t.nativeEvent.type)return;let n=Math.fround(parseFloat(t.currentTarget.value));x.enabled&&void 0!==d&&Math.abs(n-d)<s?x.snapped?o?.(d):(d===n&&(x.snapped=!0),o?.(n)):(x.snapped=!1,o?.(n)),x.enabled||(x.enabled=!0)},onNumberInputChange:t=>{o?.(t)},onKeyDown:()=>{x.enabled=!1},onRelease:a,disabled:h,centeredZeroPosition:r,toggleNumberInputAriaLabel:m("input.sliderInput.toggleNumberInput"),...f})})}var er2=function({id:t,name:n,...i}){return(0,er0.jsx)(VP,{name:n,label:i.label,isDisabled:i.isDisabled,children:t=>(0,er0.jsx)(er1,{...t,...i})})},er3=SV(S$()),er5=Jg(function({block:t,property:n,engine:i,...r}){switch(i.block.getPropertyType(n)){case"Int":return(0,er3.jsx)(er4,{block:t,property:n,...r});case"Float":return(0,er3.jsx)(er6,{block:t,property:n,...r});default:return null}}),er4=Jg(function({property:t,block:n,engine:i,...r}){let s=KU();return i.block.isValid(n)?(0,er3.jsx)(er2,{name:t,value:i.block.getInt(n,t),onChange:r=>{i.block.setInt(n,t,r)},onRelease:()=>{s("action.property.update")},...r}):null}),er6=Jg(function({property:t,block:n,engine:i,...r}){let s=KU();return i.block.isValid(n)?(0,er3.jsx)(er2,{name:t,value:i.block.getFloat(n,t),onChange:r=>{i.block.setFloat(n,t,r)},onRelease:()=>{s("action.property.update")},...r}):null}),er8=SV(S$()),er7=Jg(function({engine:t,block:n,inBar:i=!1,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=t.block.isAllowedByScope(n,eer),a=t.block.isAllowedByScope(n,eex),l=YT();return o&&a||"hide"!==r?i?(0,er8.jsxs)(DR,{name:"advanced-text-inspector",isDisabled:!a&&!o,"data-cy":"advanced-text-properties-panel",onClick:()=>{l.ui.openPanel("//ly.img.panel/inspector/text/advanced")},children:[s("input.text.advanced.description"),(0,er8.jsx)(ei7,{})]}):(0,er8.jsx)(VP,{name:"advanced-text-inspector",label:s("input.text.advanced"),isDisabled:!a&&!o,children:t=>(0,er8.jsxs)(DR,{...t,isDisabled:!a&&!o,"data-cy":"advanced-text-properties-panel",onClick:()=>{l.ui.openPanel("//ly.img.panel/inspector/text/advanced")},children:[s("input.text.advanced.description"),(0,er8.jsx)(ei7,{})]})}):null}),er9=Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.text.advanced",{engine:t}),[r]=t.block.findAllSelected();return null==r?null:"//ly.img.ubq/text"===t.block.getType(r)&&i?n({block:r}):null});function ese({block:t}){let{t:n}=qL(),i=YT(),r=erQ("//ly.img.panel/inspector"),s=erz("//ly.img.panel/inspector"),o=enF(),{isTextAutoSizeActive:a,isTextAutoHeightActive:l,isTextFixedSizeActive:c}=function(t){let n=Ju(),{widthMode:i,heightMode:r}=Jh(n,()=>({widthMode:n.block.getWidthMode(t),heightMode:n.block.getHeightMode(t)}));return{isTextAutoSizeActive:"Auto"===i&&"Auto"===r,isTextAutoHeightActive:"Auto"!==i&&"Auto"===r,isTextFixedSizeActive:"Auto"!==i&&"Auto"!==r}}(t),u=(0,erd.useRef)(null),d=(0,erd.useRef)({autoSize:!1,autoHeight:!0,fixedSize:!1});return(0,erd.useEffect)(()=>{let r=i.ui.isPanelOpen("//ly.img.panel/inspector/text/advanced"),{autoSize:s,autoHeight:o,fixedSize:p}=d.current;r||t!==u.current||a===s&&l===o&&c===p||(a&&i.ui.showNotification(n("action.text.autoSize.notification")),l&&i.ui.showNotification(n("action.text.autoHeight.notification")),c&&i.ui.showNotification(n("action.text.fixedFrame.notification")),d.current={autoSize:a,autoHeight:l,fixedSize:c}),u.current=t},[a,l,c,i,n,t]),(0,er8.jsx)(erK,{id:"//ly.img.panel/inspector/text/advanced",group:"subInspector","data-cy":"subinspector-panel",floating:r,panelPosition:o?"left":s,children:(0,er8.jsx)(est,{block:t,textModeActiveStates:{isTextAutoSizeActive:a,isTextAutoHeightActive:l,isTextFixedSizeActive:c}})})}var est=Jg(function({engine:t,block:n,textModeActiveStates:i}){let{t:r}=qL(),s=YB(),{isTextAutoSizeActive:o,isTextAutoHeightActive:a,isTextFixedSizeActive:l}=i,{verticalAlignment:c}=Jh(t,()=>({verticalAlignment:t.block.getEnum(n,"text/verticalAlignment")}));return(0,er8.jsxs)(er8.Fragment,{children:[(0,er8.jsx)(erK.Header,{children:(0,er8.jsx)(erK.Title,{children:r("input.text.advanced")})}),(0,er8.jsx)(erK.Content,{children:(0,er8.jsxs)(H8,{children:[(0,er8.jsxs)(Qe,{children:[(0,er8.jsx)(Uo,{children:r("property.textAlignment.vertical")}),(0,er8.jsxs)(N8,{children:[(0,er8.jsx)(U6,{label:r("property.textAlignment.vertical.top"),children:(0,er8.jsx)(DR,{name:"alignTextTop",icon:(0,er8.jsx)(err,{}),isActive:"Top"===c,onClick:()=>{t.block.setEnum(n,"text/verticalAlignment","Top")}})}),(0,er8.jsx)(U6,{label:r("property.textAlignment.vertical.center"),children:(0,er8.jsx)(DR,{name:"alignTextVerticalCenter",icon:(0,er8.jsx)(ern,{}),isActive:"Center"===c,onClick:()=>{t.block.setEnum(n,"text/verticalAlignment","Center")}})}),(0,er8.jsx)(U6,{label:r("property.textAlignment.vertical.bottom"),children:(0,er8.jsx)(DR,{name:"alignTextBottom",icon:(0,er8.jsx)(ere,{}),isActive:"Bottom"===c,onClick:()=>{t.block.setEnum(n,"text/verticalAlignment","Bottom")}})})]})]}),(0,er8.jsxs)(Qe,{children:[(0,er8.jsx)(Uo,{children:r("property.autoSize")}),(0,er8.jsxs)(N8,{children:[(0,er8.jsx)(U6,{label:r("property.autoSize.autoSize.description"),children:(0,er8.jsx)(DR,{name:"autoSize",icon:(0,er8.jsx)(erl,{}),isActive:o,onClick:()=>{s.setTextFrameSizingAuto(n)}})}),(0,er8.jsx)(U6,{label:r("property.autoSize.autoHeight.description"),children:(0,er8.jsx)(DR,{name:"autoHeight",icon:(0,er8.jsx)(ero,{}),isActive:a,onClick:()=>{s.setTextFrameHeightAuto(n)}})}),(0,er8.jsx)(U6,{label:r("property.autoSize.fixedFrame.description"),children:(0,er8.jsx)(DR,{name:"fixedFrame",icon:(0,er8.jsx)(eru,{}),isActive:l,onClick:()=>{s.setTextFrameSizingFixed(n)}})})]})]}),(0,er8.jsx)(erf,{}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(Hp,{})}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(er5,{block:n,property:"text/lineHeight",label:r("property.lineHeight"),centeredZeroPosition:!1,min:.5,max:2.5})}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(er5,{block:n,property:"text/paragraphSpacing",label:r("property.paragraphSpacing"),centeredZeroPosition:!1,min:0,max:2.5})}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(Hp,{})}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(er_,{})}),(0,er8.jsx)(Qe,{children:(0,er8.jsx)(er5,{block:n,property:"text/letterSpacing",label:r("property.letterSpacing"),centeredZeroPosition:!1,min:-.15,max:1.4})})]})})]})});ese.SupportGuard=er9,ese.Control=function({inBar:t}){return(0,er8.jsx)(er9,{children:({block:n})=>(0,er8.jsx)(er7,{block:n,inBar:t})})};var esn=(SV(Sz()),SV(S$())),esi=t=>(0,esn.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,esn.jsx)("path",{d:"M16.766 7.44891C16.4864 6.97265 15.8736 6.81326 15.3973 7.09289C14.9211 7.37253 14.7617 7.9853 15.0413 8.46156C15.0564 8.48725 15.0713 8.51304 15.0861 8.53893C15.3596 9.01872 15.9703 9.18593 16.4501 8.91241C16.9299 8.63888 17.0971 8.0282 16.8236 7.5484C16.8046 7.5151 16.7854 7.48194 16.766 7.44891Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M17.9998 11.9424C17.9963 11.3901 17.5458 10.9452 16.9936 10.9487C16.4413 10.9521 15.9964 11.4027 15.9999 11.9549L16 12L15.9999 12.0451C15.9964 12.5973 16.4413 13.0479 16.9936 13.0513C17.5458 13.0548 17.9963 12.6099 17.9998 12.0576L18 12L17.9998 11.9424Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M16.8236 16.4516C17.0971 15.9718 16.9299 15.3611 16.4501 15.0876C15.9703 14.8141 15.3596 14.9813 15.0861 15.4611C15.0713 15.487 15.0564 15.5128 15.0413 15.5384C14.7617 16.0147 14.9211 16.6275 15.3973 16.9071C15.8736 17.1867 16.4864 17.0273 16.766 16.5511C16.7854 16.5181 16.8046 16.4849 16.8236 16.4516Z",fill:"currentColor"}),(0,esn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3L8.94237 3.00018C8.3901 3.00365 7.9452 3.45417 7.94867 4.00645C7.95215 4.55872 8.40267 5.00361 8.95494 5.00014L9 5L9.04506 5.00014C9.18568 5.00103 9.3197 4.97284 9.44143 4.92122C7.34586 6.56904 6 9.12735 6 12C6 14.8727 7.34586 17.431 9.44143 19.0788C9.3197 19.0272 9.18568 18.999 9.04506 18.9999L9 19L8.95494 18.9999C8.40267 18.9964 7.95215 19.4413 7.94868 19.9936C7.9452 20.5458 8.3901 20.9963 8.94237 20.9998L9 21L9.05763 20.9998C9.6099 20.9963 10.0548 20.5458 10.0513 19.9936C10.0498 19.7532 9.96366 19.5333 9.82131 19.3617C11.2858 20.3938 13.0721 21 15 21C19.9706 21 24 16.9706 24 12C24 7.02944 19.9706 3 15 3C13.0721 3 11.2858 3.60616 9.82131 4.6383C9.96366 4.46674 10.0498 4.24676 10.0513 4.00645C10.0548 3.45417 9.6099 3.00365 9.05763 3.00018L9 3ZM12.1325 5.61239C9.69633 6.70771 8 9.15576 8 12C8 14.8442 9.69633 17.2923 12.1325 18.3876C12.2152 18.2673 12.3257 18.1632 12.4611 18.0861C12.487 18.0713 12.5128 18.0564 12.5384 18.0413C13.0147 17.7617 13.6275 17.9211 13.9071 18.3973C14.0064 18.5665 14.0503 18.7528 14.0444 18.9353C14.3568 18.978 14.6758 19 15 19C18.866 19 22 15.866 22 12C22 8.13401 18.866 5 15 5C14.6758 5 14.3568 5.02203 14.0444 5.06469C14.0503 5.24721 14.0064 5.43355 13.9071 5.60267C13.6275 6.07893 13.0147 6.23832 12.5384 5.95869C12.5128 5.94361 12.487 5.92869 12.4611 5.91393C12.3257 5.83675 12.2152 5.73273 12.1325 5.61239Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M5.53893 5.91393C6.01872 5.6404 6.18593 5.02972 5.91241 4.54992C5.63888 4.07013 5.0282 3.90291 4.5484 4.17644C4.5151 4.19542 4.48194 4.21461 4.44891 4.234C3.97265 4.51364 3.81326 5.12641 4.09289 5.60267C4.37253 6.07893 4.9853 6.23832 5.46156 5.95869C5.48725 5.94361 5.51304 5.92869 5.53893 5.91393Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M2.95869 8.46156C3.23832 7.98531 3.07893 7.37253 2.60267 7.0929C2.12641 6.81326 1.51364 6.97265 1.234 7.44891C1.21461 7.48194 1.19542 7.51511 1.17644 7.5484C0.902912 8.0282 1.07013 8.63888 1.54992 8.91241C2.02971 9.18593 2.6404 9.01872 2.91393 8.53893C2.92869 8.51304 2.94361 8.48725 2.95869 8.46156Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M2.00014 11.9549C2.00361 11.4027 1.55872 10.9521 1.00645 10.9487C0.454172 10.9452 0.0036521 11.3901 0.000181079 11.9424L0 12L0.000181079 12.0576C0.00365216 12.6099 0.454172 13.0548 1.00645 13.0513C1.55872 13.0479 2.00361 12.5973 2.00014 12.0451L2 12L2.00014 11.9549Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M2.91393 15.4611C2.6404 14.9813 2.02972 14.8141 1.54992 15.0876C1.07013 15.3611 0.902913 15.9718 1.17644 16.4516C1.19542 16.4849 1.21461 16.5181 1.234 16.5511C1.51364 17.0273 2.12641 17.1867 2.60267 16.9071C3.07893 16.6275 3.23832 16.0147 2.95869 15.5384C2.94361 15.5128 2.92869 15.487 2.91393 15.4611Z",fill:"currentColor"}),(0,esn.jsx)("path",{d:"M5.46156 18.0413C4.98531 17.7617 4.37253 17.9211 4.0929 18.3973C3.81326 18.8736 3.97265 19.4864 4.44891 19.766C4.48194 19.7854 4.51511 19.8046 4.5484 19.8236C5.0282 20.0971 5.63888 19.9299 5.91241 19.4501C6.18593 18.9703 6.01872 18.3596 5.53893 18.0861C5.51304 18.0713 5.48725 18.0564 5.46156 18.0413Z",fill:"currentColor"})]}),esr=SV(Sz()),ess=SV(Sz()),eso=function(t,{entry:n,sourceId:i,group:r},s){let o=function({entry:t,sourceId:n,group:i}){if(null!=t.title){if("function"!=typeof t.title)return t.title;{let r=t.title({group:i,sourceId:n});if(null!=r)return r}}return i?n?[`libraries.${t.id}.${n}.${i}.label`,`libraries.${n}.${i}.label`,`libraries.${t.id}.${i}.label`]:`libraries.${t.id}.${i}.label`:n?[`libraries.${t.id}.${n}.label`,`libraries.${n}.label`,`libraries.${t.id}.label`]:`libraries.${t.id}.label`}({entry:n,sourceId:i,group:r});return t(o,{defaultValue:s??o})},esa="UBQ_AssetLibraryBreadcrumb-module__button--H9k1U",esl="UBQ_AssetLibraryBreadcrumb-module__divider--ZHdnp",esc=SV(S$()),esu=(t,n)=>{if(n.label)return n.label;switch(n.view){case"entriesOverview":return t("component.library.breadcrumbRoot");case"sourcesOverview":return eso(t,{entry:n.entry});case"groupsOverview":return eso(t,{entry:n.entry,sourceId:n.source.id});default:return eso(t,{entry:n.entry,sourceId:n.source.id,group:n.group})}},esd=function({locationStack:t,popLocation:n}){let{t:i}=qL();if(0===t.length)return null;let r=t[0],s=t[t.length-1],o=t[t.length-2];return(0,esc.jsxs)("div",{className:"UBQ_AssetLibraryBreadcrumb-module__breadcrumb--J7U53","data-cy":"asset-library-breadcrumb",children:[(0,esc.jsx)(DR,{"aria-label":i("common.back"),name:"backToLibrary","data-cy":"asset-library-breadcrumb--back",variant:"plain",onClick:n,className:esa,children:t.length>2?"...":esu(i,r)},"library"),(0,esc.jsx)("div",{className:esl,children:"/"}),o&&o!==r&&(0,esc.jsxs)(esc.Fragment,{children:[(0,esc.jsx)(DR,{"aria-label":i("common.back"),name:"backToLastSource","data-cy":"backToLastSource",variant:"plain",onClick:n,className:esa,children:esu(i,o)},"backToLastSource"),(0,esc.jsx)("div",{className:esl,children:"/"})]}),(0,esc.jsx)("div",{className:"UBQ_AssetLibraryBreadcrumb-module__label--oMzYm",children:esu(i,s)})]})},esp=SV(M0()),esh=SV(Ig()),esf=SV(Sz()),esm={block:"UBQ_AssetConfirmationDialog-module__block--V6elC"},esg=SV(S$()),esx=function({assetSourceId:t,show:n,onDialogAbort:i,onDialogConfirm:r}){let{t:s}=qL(),{headline:o,body:a,confirm:l,abort:c}={headline:s(`libraries.${t}.confirmation.headline`),body:s(`libraries.${t}.confirmation.body`),confirm:s(`libraries.${t}.confirmation.confirm`),abort:s(`libraries.${t}.confirmation.abort`)};return(0,esg.jsx)(N$,{children:(0,esg.jsxs)(HF,{className:esm.block,type:"warning",show:n,clickOutsideToClose:!1,"aria-label":`${o}. ${a}`,onClose:i,footer:(0,esg.jsxs)(HF.Footer,{children:[(0,esg.jsx)(DR,{name:"template-preset-dialog-button-abort",onClick:i,children:c}),(0,esg.jsx)(DR,{color:"accent",name:"template-preset-dialog-button-confirm",onClick:r,children:l})]}),children:[(0,esg.jsx)(Jz,{level:1,children:o}),(0,esg.jsx)("p",{className:esm.dialogContent,children:a})]})})},esy=SV(SH()),esv=SV(Ii()),esb=SV(Sz()),esA={wrapper:"UBQ_AssetLibraryCard-module__wrapper--stQdN",stack:"UBQ_AssetLibraryCard-module__stack--qnDzG",hasChildren:"UBQ_AssetLibraryCard-module__hasChildren--yUxxD",labelInside:"UBQ_AssetLibraryCard-module__labelInside--OMslE",block:"UBQ_AssetLibraryCard-module__block--z689o",label:"UBQ_AssetLibraryCard-module__label---NNY5",isPreview:"UBQ_AssetLibraryCard-module__isPreview--7ZqFG",labelBelow:"UBQ_AssetLibraryCard-module__labelBelow--sZi-b",singleLineLabel:"UBQ_AssetLibraryCard-module__singleLineLabel--cyXzB",containsLabel:"UBQ_AssetLibraryCard-module__containsLabel--tsqhH",hasBackground:"UBQ_AssetLibraryCard-module__hasBackground--XuHUW",dragPreview:"UBQ_AssetLibraryCard-module__dragPreview--OmKMq",below:"UBQ_AssetLibraryCard-module__below--ULAsZ",active:"UBQ_AssetLibraryCard-module__active--2-GY4",singleLineTruncation:"UBQ_AssetLibraryCard-module__singleLineTruncation--QqQ8w",multiLineTruncation:"UBQ_AssetLibraryCard-module__multiLineTruncation--yNIbR",border:"UBQ_AssetLibraryCard-module__border--QhSq0",spotColorIndicator:"UBQ_AssetLibraryCard-module__spotColorIndicator--7iifr"},esw=(SV(Sz()),SV(S$())),esC=t=>(0,esw.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,esw.jsx)("path",{d:"M3.29289 7.70719L7.79293 12.2072L9.20713 10.793L6.41424 8.00009H13C15.7614 8.00009 18 10.2387 18 13.0001C18 15.7615 15.7614 18.0001 13 18.0001C11.619 18.0001 10.3704 17.4415 9.46447 16.5356L8.05025 17.9498C9.31591 19.2155 11.0673 20.0001 13 20.0001C16.866 20.0001 20 16.8661 20 13.0001C20 9.1341 16.866 6.00009 13 6.00009H6.41421L9.20713 3.20719L7.79293 1.79297L3.29289 6.29297C3.10536 6.48051 3 6.73486 3 7.00008C3 7.2653 3.10536 7.51965 3.29289 7.70719Z",fill:"currentColor"})}),es_=(SV(Sz()),SV(S$())),esS=t=>(0,es_.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,es_.jsx)("path",{d:"M7 7L7 3L9 3V7H7Z",fill:"currentColor"}),(0,es_.jsx)("path",{d:"M9 11H7L7 21H9L9 11Z",fill:"currentColor"}),(0,es_.jsx)("path",{d:"M15 11L15 3L17 3L17 11H15Z",fill:"currentColor"}),(0,es_.jsx)("path",{d:"M17 15H15L15 21H17L17 15Z",fill:"currentColor"}),(0,es_.jsx)("path",{d:"M11 7L5 7L5 9H11V7Z",fill:"currentColor"}),(0,es_.jsx)("path",{d:"M19 11H13V13L19 13V11Z",fill:"currentColor"})]}),esk=SV(Sz()),esE=SV(S$()),esM=function({className:t,label:n,value:i,setValue:r}){let{t:s}=qL(),o=KU();return(0,esE.jsxs)(Qe,{className:t,children:[(0,esE.jsx)(Uo,{children:n}),(0,esE.jsxs)(Ou,{children:[(0,esE.jsx)(DR,{name:"property-toggle-on",activeStateStyle:"outline",isActive:i,onClick:()=>{r(!0),o("action.property.update")},children:s("common.on")}),(0,esE.jsx)(DR,{name:"property-toggle-off",activeStateStyle:"outline",isActive:!i,onClick:()=>{r(!1),o("action.property.update")},children:s("common.off")})]})]})};function esI(t){return`property.${t.replace(/\//g,".")}`}var esT=SV(S$()),esB=function({className:t,label:n,property:i,value:r,setValue:s,options:o}){let{t:a}=qL(),l=KU();function c(t){return a(`${esI(i)}.${t}`)}return(0,esT.jsxs)(Qe,{className:t,children:[(0,esT.jsx)(Uo,{children:n}),(0,esT.jsxs)(Ha,{children:[(t,{isOpen:n})=>(0,esT.jsxs)(DR,{name:"property-toggle-on",activeStateStyle:"outline",...t,children:[c(r),n?(0,esT.jsx)(Ub,{}):(0,esT.jsx)(Uy,{})]}),()=>(0,esT.jsx)(Ha.Options,{value:r,onChange:t=>{s(t),l("action.property.update")},children:o.map(t=>(0,esT.jsx)(Ha.Option,{value:t,children:c(t)},t))})]})]})},esL=SV(S$()),esj=Jg(function({className:t,label:n,min:i,max:r,step:s,defaultValue:o,value:a,setValue:l}){let c=KU();return(0,esL.jsx)(Qe,{className:t,children:(0,esL.jsx)(er2,{name:"asset-property-slider",label:n,min:i,max:r,defaultValue:o,step:s,value:a,centeredZeroPosition:!1,onChange:t=>{l(t)},onRelease:()=>{c("action.property.update")},disableAutoPercentage:!0})})}),esP=SV(S$()),esR=function({asset:t}){let{t:n}=qL(),{a11y:i}=JH(),r=Ju(),s=KU(),[o,a]=(0,esk.useState)();(0,esk.useEffect)(()=>{let t=document.querySelector("#root-shadow"),n=(t?.shadowRoot??document.documentElement).querySelector("#asset-library-content");n&&a(n)},[]);let{properties:l,isDirty:c}=(0,esk.useMemo)(()=>({properties:t.payload?.properties,isDirty:t.payload?.properties?.some(t=>t.value!==t.defaultValue)}),[t.payload?.properties]);return(0,esP.jsxs)(N0,{className:"UBQ_AssetLibraryPropertyPopover-module__block--A3c-n",disableFocusTrap:null==l||0===l.length,boundary:{element:o,padding:4},doubleOffset:!0,children:[t=>(0,esP.jsx)(DR,{name:"property-popover",className:"UBQ_AssetLibraryPropertyPopover-module__trigger--hC8J1",variant:"plain",...t,children:(0,esP.jsx)("div",{className:"UBQ_AssetLibraryPropertyPopover-module__iconBackground--2Z36A",children:(0,esP.jsx)(esS,{})})}),({closePopover:o})=>(0,esP.jsxs)(esP.Fragment,{children:[(0,esP.jsxs)("section",{className:"UBQ_AssetLibraryPropertyPopover-module__header--O30QG",children:[(0,esP.jsx)(N5,{className:"UBQ_AssetLibraryPropertyPopover-module__heading--ZMjsl",level:2,start:i.headingsHierarchyStart,children:n("component.propertyPopover.header")}),(0,esP.jsxs)("div",{className:"UBQ_AssetLibraryPropertyPopover-module__actions--8Udd3",children:[(0,esP.jsxs)(DR,{name:"reset-properties",onClick:()=>{l?.forEach(n=>{n.value!==n.defaultValue&&r.asset.unstable_applyProperty(t.context.sourceId,t,{...n,value:n.defaultValue})}),s("action.property.reset")},variant:"plain",isDisabled:!c,children:[n("common.reset"),(0,esP.jsx)(esC,{})]}),(0,esP.jsx)(U6,{label:n("common.close"),children:(0,esP.jsx)(DR,{"aria-label":n("common.close"),name:"close-property-popover",variant:"plain",onClick:o,icon:(0,esP.jsx)(VC,{})})})]})]}),l?.map(i=>{switch(i.type){case"Boolean":return esP.jsx(esM,{label:n(esI(i.property)),setValue:n=>{r.asset.unstable_applyProperty(t.context.sourceId,t,{...i,value:n})},...i},i.property);case"Int":case"Double":case"Float":return esP.jsx(esj,{label:n(esI(i.property)),setValue:n=>{r.asset.unstable_applyProperty(t.context.sourceId,t,{...i,value:n})},...i},i.property);case"Enum":return esP.jsx(esB,{label:n(esI(i.property)),setValue:n=>{r.asset.unstable_applyProperty(t.context.sourceId,t,{...i,value:n})},...i},i.property);default:return null}})]})]})},esD=SV(S$()),esF=function({entry:t,asset:n,isPreview:i,matchCardHeightToLabelLines:r="multi",children:s,onClick:o,...a}){let l=(0,esb.useRef)(null),c=Ju(),u=JH(),d=n.meta?n.meta.width:0,p=n.meta?n.meta.height:0,{cardBackgroundPreferences:h}=t,{background:f,backgroundType:m}=(0,esb.useMemo)(()=>{if("function"==typeof h){let t=h(n);if("image"===t.type)return{background:t.url,backgroundType:"image"};{let{viewBox:i,width:r="100%",height:s="100%",...o}=t;return{background:(0,esD.jsx)("svg",{width:d,style:{height:s,width:r},viewBox:i,xmlns:"http://www.w3.org/2000/svg","aria-label":n.label,className:esA.svg,fill:"currentColor",children:(0,esD.jsx)("path",{...o,style:{height:"100%"}})}),backgroundType:"svgVectorPath"}}}for(let t of h){let i=(0,esv.default)(n,t.path,void 0);if(null!=i)return"image"===t.type?{background:c.editor.getAbsoluteURI(i),backgroundType:"image"}:{background:(0,esD.jsx)("svg",{width:d,style:{height:"100%",width:"100%"},viewBox:`0 0 ${d} ${p}`,xmlns:"http://www.w3.org/2000/svg","aria-label":n.label,className:esA.svg,fill:"currentColor",children:(0,esD.jsx)("path",{d:i,style:{height:"100%"}})}),backgroundType:"svgVectorPath"}}return{background:void 0,backgroundType:void 0}},[n,p,d,h,c.editor]),g=t.cardLabel?.(n),x="inside"===(t.cardLabelPosition?.(n)??"inside"),y=t.cardLabelTruncateLines?.(n)??"multi",v=Math.random().toString().replace("0.",""),b=`assetLibraryCard-${t.id}-${v}`,A="SpotColor"===n.payload?.color?.colorSpace;return(0,esD.jsxs)("div",{ref:l,className:esA.wrapper,draggable:!0,onDragStart:t=>{if(t.dataTransfer.setData("//ly.img.asset",n.id),l?.current){l.current.classList.add(esA.dragPreview);let{x:n,y:i}=l.current.getBoundingClientRect();t.dataTransfer.setDragImage(l.current,t.clientX-n,t.clientY-i),requestAnimationFrame(()=>{l?.current?.classList.remove(esA.dragPreview)})}},onDragEnd:t=>{"none"===t.dataTransfer.dropEffect||n.active||o()},children:[(0,esD.jsxs)(UU,{className:(0,esy.default)(esA.stack,{[esA.labelBelow]:!x,[esA.labelInside]:x,[esA.singleLineLabel]:"single"===r||i,[esA.hasChildren]:s,[esA.isPreview]:i}),children:[(0,esD.jsxs)(HG,{...a,className:(0,esy.default)(esA.block,a.className,{[esA.containsLabel]:!!g,[esA.hasBackground]:"image"===m,[esA.border]:t.cardBorder}),style:{...a.style,...t.cardStyle?t.cardStyle(n):{}},backgroundImage:"image"===m?f:void 0,backgroundType:i?t.previewBackgroundType:t.gridBackgroundType,name:b,id:b,isActive:n.active,onClick:()=>{n.active||o()},children:[g&&x&&(0,esD.jsx)("span",{className:esA.label,style:t.cardLabelStyle?t.cardLabelStyle(n):{},children:(0,esD.jsx)("span",{className:"single"===y?esA.singleLineTruncation:esA.multiLineTruncation,children:g})}),"svgVectorPath"===m&&f]}),s,A&&(0,esD.jsx)("div",{className:esA.spotColorIndicator,style:{backgroundImage:`url(${u.ui.baseURL}spot-color-indicator-l.svg)`}}),n.payload?.properties&&n.active?(0,esD.jsx)(esR,{asset:n}):null]}),!x&&(0,esD.jsx)("label",{htmlFor:b,className:(0,esy.default)(esA.label,esA.below,{[esA.active]:n.active}),style:t.cardLabelStyle?t.cardLabelStyle(n):{},children:(0,esD.jsx)("span",{className:"single"===y?esA.singleLineTruncation:esA.multiLineTruncation,children:g})})]})},esO=(SV(Sz()),SV(S$())),esN=t=>(0,esO.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,esO.jsx)("path",{d:"M10 7C10 6.44772 9.55228 6 9 6H8C7.44772 6 7 6.44772 7 7V17C7 17.5523 7.44772 18 8 18H9C9.55228 18 10 17.5523 10 17V7Z",fill:"currentColor"}),(0,esO.jsx)("path",{d:"M17 7C17 6.44772 16.5523 6 16 6H15C14.4477 6 14 6.44772 14 7V17C14 17.5523 14.4477 18 15 18H16C16.5523 18 17 17.5523 17 17V7Z",fill:"currentColor"})]}),esU=(SV(Sz()),SV(S$())),esV=t=>(0,esU.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,esU.jsx)("path",{d:"M19.0372 10.7383C19.9557 11.3288 19.9557 12.6714 19.0372 13.2619L9.31114 19.5143C8.31287 20.1561 7 19.4393 7 18.2526L7 5.74757C7 4.56082 8.31287 3.84406 9.31114 4.4858L19.0372 10.7383Z",fill:"currentColor"})}),esH=SV(Sz()),esQ="UBQ_AssetMediaPlayer-module__sibling--KCgcZ",esz=SV(S$()),esG=function({asset:t,onClick:n}){let i=(0,esH.useRef)(null),[r,s]=(0,esH.useState)(null),[o,a]=(0,esH.useState)(!0),[l,c]=(0,esH.useState)(!1),[u,d]=(0,esH.useState)(""),[p,h]=(0,esH.useState)(""),f=t.meta?.duration,m=o?(0,esz.jsx)(esV,{}):(0,esz.jsx)(esN,{}),g=l?(0,esz.jsx)(DI,{className:"UBQ_AssetMediaPlayer-module__loadingIndicator--BVqs6"}):m;function x(){if(r&&f){let{currentTime:t}=r,{periodString:n,timeString:i}=zm(parseFloat(f)-t-1);n&&d(n),i&&h(`-${i}`)}}function y(t){let{periodString:n,timeString:i}=zm(parseFloat(t));n&&d(n),i&&h(i)}return(0,esH.useEffect)(()=>(r&&f&&y(f),()=>{r?.pause()}),[r,f]),(0,esz.jsx)("div",{className:"UBQ_AssetMediaPlayer-module__block--2enRm","data-expanded":!o||l,children:(0,esz.jsxs)("div",{className:"UBQ_AssetMediaPlayer-module__layout--nxR1x",children:[(0,esz.jsx)(DR,{name:"playPause",variant:"plain",className:"UBQ_AssetMediaPlayer-module__playButton--sRBJU",disabled:l,onClick:async i=>{if(i?.stopPropagation(),r){if(o){n(r);let i=t?.meta?.previewUri??t?.meta?.uri;if(0===r.children.length&&"string"==typeof i){let t=document.createElement("source");t.src=i,r.appendChild(t)}await r.play()}else r.pause()}},children:g}),u&&p&&(0,esz.jsx)("time",{dateTime:u,children:p}),(0,esz.jsx)("audio",{ref:s,preload:"metadata",style:{position:"absolute"},onLoadStart:()=>{c(!0)},onCanPlay:()=>{c(!1)},onPlay:()=>{a(!1),x(),i.current=setInterval(()=>{x()},1e3)},onPause:()=>{r&&f&&(a(!0),r.currentTime=0,clearInterval(i.current),y(f))}})]})})},esq=(SV(Sz()),SV(S$())),esW=t=>(0,esq.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,esq.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),(0,esq.jsx)("path",{d:"M12.0001 18C11.1716 18 10.5001 17.3284 10.5001 16.5V12C10.5001 11.1716 11.1716 10.5 12.0001 10.5C12.8285 10.5 13.5001 11.1716 13.5001 12V16.5C13.5001 17.3284 12.8285 18 12.0001 18Z",fill:"currentColor"}),(0,esq.jsx)("path",{d:"M12 9C11.1716 9 10.5 8.32843 10.5 7.5C10.5 6.67157 11.1716 6 12 6C12.8284 6 13.5 6.67157 13.5 7.5C13.5 8.32843 12.8284 9 12 9Z",fill:"currentColor"})]}),es$=(SV(Sz()),SV(S$())),esZ=t=>(0,es$.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,es$.jsx)("path",{d:"M11 10H9V17H11V10Z",fill:"currentColor"}),(0,es$.jsx)("path",{d:"M15 10V17H13V10H15Z",fill:"currentColor"}),(0,es$.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C9.34315 2 8 3.34315 8 5V6H3V8H5V19C5 20.6569 6.34315 22 8 22H16C17.6569 22 19 20.6569 19 19V8H21V6H16V5C16 3.34315 14.6569 2 13 2H11ZM14 6V5C14 4.44772 13.5523 4 13 4H11C10.4477 4 10 4.44772 10 5V6H14ZM7 8V19C7 19.5523 7.44772 20 8 20H16C16.5523 20 17 19.5523 17 19V8H7Z",fill:"currentColor"})]}),esY=SV(SH()),esK=SV(Sz()),esX={block:"UBQ_AssetContextPopover-module__block--mBBDc",button:"UBQ_AssetContextPopover-module__button--zAa38",content:"UBQ_AssetContextPopover-module__content--ZKSmX",heading:"UBQ_AssetContextPopover-module__heading--IoULF",license:"UBQ_AssetContextPopover-module__license--FjDkN",credits:"UBQ_AssetContextPopover-module__credits--lIm0T",tags:"UBQ_AssetContextPopover-module__tags--1JGaE",tag:"UBQ_AssetContextPopover-module__tag--Ao6oh",licenseUrl:"UBQ_AssetContextPopover-module__licenseUrl--XuFgL"},esJ=SV(S$());function es0({asset:t,sourceCredits:n}){return t.credits&&n?(0,esJ.jsxs)("div",{className:esX.credits,children:["By ",(0,esJ.jsx)(es2,{asset:t,...t.credits})," on"," ",(0,esJ.jsx)(es2,{asset:t,...n})]}):t.credits?(0,esJ.jsxs)("div",{className:esX.credits,children:["By ",(0,esJ.jsx)(es2,{asset:t,...t.credits})]}):n?(0,esJ.jsxs)("div",{className:esX.credits,children:["On ",(0,esJ.jsx)(es2,{asset:t,...n})]}):null}function es1({asset:t,license:n}){if(!n)return null;let{name:i,url:r}=n;return(0,esJ.jsxs)("div",{className:esX.license,children:[i,r&&(0,esJ.jsx)(Qz,{url:r,utm:t.utm,className:esX.licenseUrl,children:(0,esJ.jsx)(esW,{})})]})}function es2({asset:t,name:n,url:i}){return i?(0,esJ.jsx)(Qz,{url:i,utm:t.utm,children:n}):(0,esJ.jsx)(esJ.Fragment,{children:"name"})}var es3=function({asset:t,entry:n,sourceId:i,className:r}){let{t:s}=qL(),o=YT(),a=Ju(),{canRemove:l}=n,c=(0,esK.useMemo)(()=>null!=l&&("function"==typeof l?l(i):l),[l,i]),[u,d]=(0,esK.useState)(!1),p=a.asset.getLicense(i),h=a.asset.getCredits(i);if(!(c||t?.license||p))return null;let f=t.label||t.meta?.filename||t.id,m=t.credits?.url||t.license?.url||p?.url||c;return(0,esJ.jsx)("div",{className:(0,esY.default)(esX.block,r),"data-expanded":u,children:(0,esJ.jsxs)(N0,{disableFocusTrap:!m,onOpen:()=>{d(!0)},onClose:()=>{d(!1)},children:[t=>(0,esJ.jsx)(DR,{name:"credicts-screen",...t,variant:"plain",className:esX.button,children:(0,esJ.jsx)(QA,{})}),()=>(0,esJ.jsxs)(esJ.Fragment,{children:[(0,esJ.jsxs)("div",{className:esX.content,children:[f&&(0,esJ.jsx)(N5,{level:3,typographySize:"large",className:esX.heading,multiline:!0,children:f}),(0,esJ.jsx)(es0,{asset:t,sourceCredits:h}),t?.tags&&(0,esJ.jsxs)(esJ.Fragment,{children:[(0,esJ.jsx)(Hp,{}),(0,esJ.jsx)("div",{className:esX.tags,children:t.tags.map(t=>(0,esJ.jsx)("span",{className:esX.tag,children:t},t))})]}),(t.license||p)&&(0,esJ.jsxs)(esJ.Fragment,{children:[(0,esJ.jsx)(Hp,{}),(0,esJ.jsx)(es1,{asset:t,license:t.license||p})]})]}),c&&(0,esJ.jsxs)(esJ.Fragment,{children:[(0,esJ.jsx)(Hp,{}),(0,esJ.jsx)("footer",{children:(0,esJ.jsx)(DR,{name:"remove-asset-button",icon:(0,esJ.jsx)(esZ,{}),variant:"plain",color:"danger",onClick:()=>{o.ui.showDialog({type:"error",content:{title:s("component.library.removeAssetConfirmation"),message:s("component.library.removeAssetConfirmation.description")},actions:[{color:"danger",label:s("common.delete"),onClick:({id:n})=>{a.asset.removeAssetFromSource(i,t.id),a.asset.assetSourceContentsChanged(i),o.ui.closeDialog(n)}}],cancel:{variant:"plain",label:s("common.cancel"),onClick:({id:t})=>{o.ui.closeDialog(t)}}})},children:s("common.delete")})})]})]})]})})},es5=(SV(Sz()),SV(S$())),es4=t=>(0,es5.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,es5.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18H13V20H12C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12V13H18V12C18 8.68629 15.3137 6 12 6Z",fill:"currentColor"})}),es6=SV(S$()),es8=function({isLoading:t}){return t?(0,es6.jsx)("div",{className:"UBQ_AssetLoadingSpinner-module__block--sa-XM",children:(0,es6.jsx)(es4,{className:"UBQ_AssetLoadingSpinner-module__loadingSpinnerIcon--p8Z3l"})}):null},es7=SV(S$()),es9=function({children:t,isLoading:n,entry:i,asset:r,sourceId:s}){return(0,es7.jsxs)("div",{className:"UBQ_AssetResultContainer-module__block---28wZ",children:[t,(0,es7.jsx)(es8,{isLoading:n}),(0,es7.jsx)(es3,{asset:r,entry:i,sourceId:s,className:"UBQ_AssetResultContainer-module__creditsButton--t--Ce"})]})},eoe=(SV(Sz()),SV(S$())),eot=t=>(0,eoe.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eoe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13L11 19L13 19L13 13L19 13L19 11L13 11L13 5L11 5L11 11L5 11L5 13L11 13Z",fill:"currentColor"})}),eon=SV(SH()),eoi=SV(Sz()),eor=SV(SH()),eos=SV(Sz()),eoo={block:"UBQ_LocalSourceSectionHeaderUpload-module__block--MyifH"},eoa=SV(S$()),eol=function({sourceId:t,group:n,onUpload:i}){let r=Ju(),{t:s}=qL(),{uploadEnabled:o,uploadOptions:a}=J1((0,eos.useMemo)(()=>t?r.asset.getSupportedMimeTypes(t):[],[r.asset,t])),l=s("component.library.addFile");return o&&null!=t&&i?(0,eoa.jsxs)(G8,{name:"Upload",className:(0,eor.default)(eoo.block),onFileChanged:r=>{i(r,{sourceId:t,group:n})},accept:a.supportedMimeTypes?.join(","),multiple:!0,children:[(0,eoa.jsx)(eot,{className:eoo.icon}),l]}):null},eoc=SV(S$()),eou=function({sourceId:t,group:n,cardProps:i,masonryItemProps:r,onUpload:s}){let o=Ju(),{t:a}=qL(),{uploadEnabled:l,uploadOptions:c}=J1((0,eoi.useMemo)(()=>t?o.asset.getSupportedMimeTypes(t):[],[o.asset,t])),u=a("component.library.addFile");return!r&&l&&s?(0,eoc.jsx)(eol,{sourceId:t,onUpload:i=>{s(i,{sourceId:t,group:n})}}):r&&null!=t&&l&&s?(0,eoc.jsx)(Q2.Item,{height:r.height,width:r.width,gap:r.gap,children:(0,eoc.jsx)(G8,{name:"Upload",onFileChanged:i=>{s(i,{sourceId:t,group:n})},accept:c.supportedMimeTypes?.join(","),multiple:!0,children:t=>(0,eoc.jsx)(HG,{...i,"aria-label":u,className:(0,eon.default)(i.className,"UBQ_LocalSourceGridUpload-module__block--tOb8-"),...t,children:(0,eoc.jsxs)("div",{className:"UBQ_LocalSourceGridUpload-module__wrapper--zk1zi",children:[(0,eoc.jsx)(eot,{}),(0,eoc.jsx)("span",{children:u})]})})})},"prepend-item"):null},eod=SV(Sz()),eop=(0,eod.createContext)({currentPlayingElement:null,setCurrentPlayingElement:()=>Kk}),eoh=function(){let[t,n]=(0,eod.useState)(null);return{currentPlayingElement:t,setCurrentPlayingElement:n}},eof=SV(Sz()),eom=function({onSelect:t}){let n=Nz(),[i,r]=(0,eof.useState)({});return{isAdding:t=>i[t],handleSelect:i=>async()=>{t&&(r(t=>({...t,[i.id]:!0})),await t(i),n.current&&r(t=>({...t,[i.id]:!1})))}}},eog=SV(Sz()),eox=function(t,n){let i=Ju(),{canAdd:r}=t,s=1===n.length?n[0]:void 0;return(0,eog.useMemo)(()=>null!=s&&(!!i.asset.canManageAssets(s)||null!=r&&("function"==typeof r?r(s):r)),[i.asset,r,s])},eoy=SV(SH()),eov=SV(Sz()),eob=SV(S$()),eoA=function({onLoad:t,hasMoreToLoad:n,isLoading:i}){let{t:r}=qL(),s=(0,eov.useRef)(null),o=Vx(t),a=function(t,{root:n,margin:i,amount:r,once:s=!1}={}){let[o,a]=(0,D_.useState)(!1);return(0,D_.useEffect)(()=>{if(!t.current||s&&o)return;let l={root:n&&n.current||void 0,margin:i,amount:r};return function(t,n,{root:i,margin:r,amount:s="some"}={}){let o=Du(t),a=new WeakMap,l=new IntersectionObserver(t=>{t.forEach(t=>{let i=a.get(t.target);if(!!i!==t.isIntersecting){if(t.isIntersecting){let i=n(t);"function"==typeof i?a.set(t.target,i):l.unobserve(t.target)}else i&&(i(t),a.delete(t.target))}})},{root:i,rootMargin:r,threshold:"number"==typeof s?s:DS[s]});return o.forEach(t=>l.observe(t)),()=>l.disconnect()}(t.current,()=>(a(!0),s?void 0:()=>a(!1)),l)},[n,t,i,s,r]),o}(s);return(0,eov.useEffect)(()=>{a&&n&&!i&&o()},[n,a,i,o]),(0,eob.jsxs)("div",{className:(0,eoy.default)("UBQ_AssetLibraryGridLoadingAnchor-module__block--9RbWn",{"UBQ_AssetLibraryGridLoadingAnchor-module__noMoreItems--7JuDW":!n}),children:[(0,eob.jsx)("div",{ref:s,className:"UBQ_AssetLibraryGridLoadingAnchor-module__anchor--gytBf"}),a&&i?(0,eob.jsx)(DI,{}):r("component.library.noMoreItems")]})},eow=(SV(Sz()),SV(S$())),eoC=t=>(0,eow.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eow.jsx)("path",{d:"M16.8372 1.83691L13.8372 4.8369L12.0001 2.99974L9.91428 5.08557L18.9144 14.0857L21.0001 12L19.1629 10.1628L22.1629 7.16277L20.8371 5.83694L17.8371 8.83694L15.163 6.16275L18.163 3.16274L16.8372 1.83691Z",fill:"currentColor"}),(0,eow.jsx)("path",{d:"M6.56532 15.3136C5.23847 13.1414 5.33271 10.3459 6.84806 8.26235L15.7376 17.1519C13.6541 18.6671 10.8588 18.7614 8.68671 17.4348L5.56077 20.5608L3.43945 18.4394L6.56532 15.3136Z",fill:"currentColor"}),(0,eow.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.2914 21.7086L2.29135 3.70865L3.70557 2.29443L21.7056 20.2944L20.2914 21.7086Z",fill:"currentColor"})]}),eo_=SV(SH()),eoS={grid:"UBQ_AssetLibraryGridSkeleton-module__grid--G6I7Y",label:"UBQ_AssetLibraryGridSkeleton-module__label--gdSHY",gradient:"UBQ_AssetLibraryGridSkeleton-module__gradient--M3qR-",labelContainer:"UBQ_AssetLibraryGridSkeleton-module__labelContainer--saTFS",prependedSourceUIComponentContainer:"UBQ_AssetLibraryGridSkeleton-module__prependedSourceUIComponentContainer--D38b8",cardWrapper:"UBQ_AssetLibraryGridSkeleton-module__cardWrapper--1za-F",animatedBackground:"UBQ_AssetLibraryGridSkeleton-module__animatedBackground--zsW4c",placeHolderShimmer:"UBQ_AssetLibraryGridSkeleton-module__placeHolderShimmer--4-W5d",loadingSpinnerIcon:"UBQ_AssetLibraryGridSkeleton-module__loadingSpinnerIcon---60AY",loading:"UBQ_AssetLibraryGridSkeleton-module__loading--nAVXg"},eok=SV(S$());function eoE({children:t,isLoading:n,masonryGridWidth:i,masonryGridColumnCount:r}){return(0,eok.jsx)(Q2,{width:i,columnCount:r,className:eoS.grid,children:({columnWidth:i,gap:r})=>[...eoM.map((t,s)=>{let o={height:HG.Height.Auto,backgroundType:"contain",disabled:!0};return(0,eok.jsx)(Q2.Item,{height:t,width:i,gap:r,children:(0,eok.jsx)("div",{className:(0,eo_.default)(eoS.cardWrapper,{[eoS.animatedBackground]:n}),children:(0,eok.jsx)(HG,{...o})})},s)}),(0,eok.jsx)("div",{className:eoS.gradient},"gradient"),(0,eok.jsx)("div",{className:eoS.labelContainer,children:t},"label")]})}var eoM=[60,100,70,120,110,90,70],eoI=function({sourceId:t,group:n,isError:i,isLoading:r,masonryGridWidth:s,masonryGridColumnCount:o,prependedSourceUIComponent:a,onUpload:l}){let{t:c}=qL();return i&&!r?(0,eok.jsxs)(eoE,{masonryGridWidth:s,masonryGridColumnCount:o,children:[(0,eok.jsx)(eoC,{}),(0,eok.jsx)("span",{className:eoS.label,children:c("component.library.error")})]}):r?(0,eok.jsxs)(eoE,{isLoading:!0,masonryGridWidth:s,masonryGridColumnCount:o,children:[(0,eok.jsx)(es4,{className:eoS.loadingSpinnerIcon}),(0,eok.jsx)("span",{className:eoS.label,children:c("component.library.loading")})]}):(0,eok.jsxs)(eoE,{masonryGridWidth:s,masonryGridColumnCount:o,children:[(0,eok.jsx)("span",{className:eoS.label,children:c("component.library.noItems")}),a&&(0,eok.jsx)("div",{className:eoS.prependedSourceUIComponentContainer,children:(0,eok.jsx)(a,{sourceId:t,group:n,isPreview:!1,cardProps:{className:eoS.prependedSourceUIComponent,height:HG.Height.Auto},onUpload:l})})]})},eoT=SV(S$()),eoB=Xc(function({query:t,group:n,entry:i,source:r,onUpload:s,...o}){let{t:a}=qL(),l=Ju(),c=Kb(),[u,d]=(0,esf.useState)(1),p=(0,esf.useRef)(null),{currentPlayingElement:h,setCurrentPlayingElement:f}=(0,esf.useContext)(eop);(0,esf.useEffect)(()=>{let t=new Set,n=new ResizeObserver(()=>{let n=setTimeout(function(){if(p.current){t.delete(n);let i=getComputedStyle(p.current),r=parseFloat(i.paddingLeft),s=parseFloat(i.paddingRight);d(p.current.clientWidth-r-s)}},0);t.add(n)});return p.current&&n.observe(p.current),()=>{for(let i of(n.disconnect(),t))clearTimeout(i);t.clear()}},[p]);let m=[];i.includeGroups&&m.push(...i.includeGroups),n&&m.push(n);let{data:g,isFetching:x,isFetchingNextPage:y,fetchNextPage:v,hasNextPage:b,isError:A,refetch:w}=Js(XA(["ubq","assets",r.id,{query:t,perPage:i.previewLength,groups:m,excludeGroups:i.excludeGroups}],({pageParam:n=0})=>r.findAssets({query:t,groups:m,excludeGroups:i.excludeGroups,page:n,locale:c.language,perPage:30}),{retry:3,getNextPageParam:t=>t.nextPage}),X3);(0,esf.useEffect)(()=>l.asset.onAssetSourceUpdated(t=>{t===r.id&&w()}),[l.asset,w,r.id]);let{isAdding:C,handleSelect:_}=eom(o),S=x||y,k=(0,esh.default)((0,esp.default)(g?.pages?.map(t=>t.assets.map(n=>({...n,page:t.currentPage})))),"id")||[],E=eox(i,[r.id])?eou:void 0,M=(0,esf.useRef)(null),[I,T]=(0,esf.useState)(!1),B=YB(),[,{previewRole:L,setPreviewRole:j}]=Jc();return(0,eoT.jsxs)("div",{ref:p,className:"UBQ_AssetLibraryGrid-module__block--CAXT-",children:[0===k.length&&(0,eoT.jsx)(eoI,{sourceId:r.id,group:n,isError:A,isLoading:S,masonryGridWidth:u,masonryGridColumnCount:i.gridColumns,onUpload:s,prependedSourceUIComponent:E}),(0,eoT.jsx)(esx,{assetSourceId:r.id,show:I,onDialogAbort:()=>{T(!1)},onDialogConfirm:async()=>{if("ly.img.template"!==i.id&&"ly.img.video.template"!==i.id||null!==L&&$U(()=>{B.getUndoManager().deactivatePreviewUndoStack(),j(null)}),M.current){let t=_(M.current);await t(),T(!1)}}}),(0,eoT.jsx)(Q2,{width:u,columnCount:i.gridColumns,children:({columnWidth:t,gap:o})=>{let l={},c=parseInt(F3("--ubq-typography-label-s-line_height",{fallback:"14px"}),10),u=parseInt(F3("--ubq-margin-s",{fallback:"8px"}),10),{gridItemHeight:d,cardLabelPosition:p,gridBackgroundType:m}=i;switch(d){case"square":case"auto":l.height=HG.Height.Auto;break;default:l.height=HG.Height.Short}let g=1,x=k.length>0?i.cardLabelTruncateLines?.(k[0]):"multi",y="square"===d&&k.every(t=>"below"===p?.(t)),v=k.every(t=>i.cardLabelTruncateLines?.(t)===x)?x:"multi",b=c*("single"===v?1:2)+2*u,A=k.map((n,s)=>{let x=void 0!==n.payload?.color,A=n.meta?.width??(x?2.25:1),w=n.meta?.height??1,S=y?v:i.cardLabelTruncateLines?.(n)??"multi",k=y?b:"below"===p?.(n)?c*("single"===S?1:2)+2*u:0,E="contain"===m?2*u:0,I=("auto"===d?(t-E)/(A/w)+E:t)+k;0===s&&(g=I);let B=C(n.id),L=a(n.label??("function"==typeof i.cardLabel?i.cardLabel(n):i.cardLabel)??n.meta?.filename??""),j={...l,"data-cy":`assetLibraryCard-${n.id}`,disabled:B,"aria-label":L,matchCardHeightToLabelLines:S,onClick:async()=>{if("boolean"==typeof i.promptBeforeApply?i.promptBeforeApply:i.promptBeforeApply?.show&&(!i.promptBeforeApply.sourceIds||i.promptBeforeApply.sourceIds?.includes(r.id)))M.current=n,T(!0);else{let t=_(n);await t()}}},P=n.meta?.mimeType?.includes("audio");return(0,eoT.jsx)(Q2.Item,{height:I,width:t,gap:o,children:(0,eoT.jsx)(es9,{isLoading:B,entry:i,asset:n,sourceId:r.id,children:(0,eoT.jsx)(esF,{entry:i,asset:n,...j,className:esQ,children:P&&(0,eoT.jsx)(esG,{asset:n,onClick:t=>{h&&h.pause(),f(t)}})})})},`${n.id}-${n.page}`)});return[k.length>0&&E&&(0,eoT.jsx)(E,{sourceId:r.id,group:n,isPreview:!1,cardProps:l,masonryItemProps:{height:g,width:t,gap:o},onUpload:s},"prepend-item"),...A]}}),(0,eoT.jsx)(eoA,{isLoading:S,hasMoreToLoad:b,onLoad:async()=>{b&&await v()}},"loading-anchor")]})}),eoL=SV(Sz()),eoj=SV(S$()),eoP=function({isLoading:t}){let[n,i]=(0,eoL.useState)(!1);VE(()=>{i(!0)},200);let[r,s]=GG((t,n)=>{let i=parseFloat(t.paddingLeft),r=parseFloat(t.paddingRight);return n.clientWidth-i-r},1);return n?(0,eoj.jsx)("div",{ref:r,className:"UBQ_AssetLibraryLoading-module__block--stvVP",children:(0,eoj.jsx)(eoI,{sourceId:"",isLoading:t,masonryGridWidth:s,masonryGridColumnCount:3})}):null},eoR=SV(S$()),eoD=function(){let[t,n]=GG((t,n)=>{let i=parseFloat(t.paddingLeft),r=parseFloat(t.paddingRight);return n.clientWidth-i-r},1);return(0,eoR.jsx)("div",{ref:t,className:"UBQ_AssetLibraryEmpty-module__block--sQ81G",children:(0,eoR.jsx)(eoI,{sourceId:"",masonryGridWidth:n,masonryGridColumnCount:3})})},eoF=(SV(Sz()),SV(S$())),eoO=t=>(0,eoF.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eoF.jsx)("path",{d:"M19.2071 12.7072L12.7071 19.2072L11.2929 17.793L16.0858 13.0001H5V11.0001H16.0858L11.2929 6.20719L12.7071 4.79297L19.2071 11.293C19.3947 11.4805 19.5 11.7349 19.5 12.0001C19.5 12.2653 19.3947 12.5196 19.2071 12.7072Z",fill:"currentColor"})}),eoN=SV(SH()),eoU=SV(Sz()),eoV=SV(M0()),eoH=SV(Iy()),eoQ=function(t,n){let i=t.reduce((t,n)=>t+(n?.total??0),0),r=(0,eoH.default)(...t.map(t=>t?.assets??[]));return{assets:(0,eoV.default)(r).filter(Boolean).slice(0,n),total:i,currentPage:1,nextPage:void 0}},eoz={block:"UBQ_AssetLibrarySection-module__block--GjBKH",visible:"UBQ_AssetLibrarySection-module__visible--jDroU",header:"UBQ_AssetLibrarySection-module__header--zaDtl",heading:"UBQ_AssetLibrarySection-module__heading--wwrkD",moreButton:"UBQ_AssetLibrarySection-module__moreButton--evCHL",previews:"UBQ_AssetLibrarySection-module__previews--tS0xD",scrollContainer:"UBQ_AssetLibrarySection-module__scrollContainer--vz2MB",paginationContainer:"UBQ_AssetLibrarySection-module__paginationContainer--4-kTI",paginationButton:"UBQ_AssetLibrarySection-module__paginationButton--ZB0fn",paginationButtonLeft:"UBQ_AssetLibrarySection-module__paginationButtonLeft--Jzbym",paginationButtonRight:"UBQ_AssetLibrarySection-module__paginationButtonRight----DAi",moreIcon:"UBQ_AssetLibrarySection-module__moreIcon--dBquf",inlineMoreButtonContainer:"UBQ_AssetLibrarySection-module__inlineMoreButtonContainer--lv-sU",inlineMoreButton:"UBQ_AssetLibrarySection-module__inlineMoreButton--Zqp2y"},eoG=SV(SH()),eoq=SV(IA()),eoW="UBQ_AssetLibrarySectionSkeleton-module__label--9610J",eo$=SV(S$()),eoZ=function({min:t,cardProps:n,isLoading:i,isError:r,isEmpty:s}){let{t:o}=qL();return(0,eo$.jsxs)(eo$.Fragment,{children:[(0,eoq.default)(t).map((t,r)=>(0,eo$.jsx)("div",{className:(0,eoG.default)(n.className,{"UBQ_AssetLibrarySectionSkeleton-module__animatedBackground--PGO2X":i}),children:(0,eo$.jsx)(HG,{...n},r)},r)),(0,eo$.jsx)("div",{className:"UBQ_AssetLibrarySectionSkeleton-module__content--q4nH2",children:r?(0,eo$.jsxs)(eo$.Fragment,{children:[(0,eo$.jsx)(eoC,{}),(0,eo$.jsx)("span",{className:eoW,children:o("component.library.error")})]}):i?(0,eo$.jsxs)(eo$.Fragment,{children:[(0,eo$.jsx)(es4,{className:"UBQ_AssetLibrarySectionSkeleton-module__loadingSpinnerIcon---n0-v"}),(0,eo$.jsx)("span",{className:eoW,children:o("component.library.loading")})]}):s?o("component.library.noItems"):""})]})},eoY=SV(S$());function eoK({className:t,onClick:n,icon:i}){return(0,eoY.jsx)(R1.button,{type:"button",className:(0,eoN.default)(eoz.paginationButton,t),onClick:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.2},children:i})}var eoX=Xc(function({label:t,query:n,entry:i,sources:r,group:s,isDisabled:o,onEnter:a,"data-cy":l,onUpload:c,...u}){var d,p,h,f,m,g,x;let{t:y}=qL(),v=Ju(),b=Kb(),{currentPlayingElement:A,setCurrentPlayingElement:w}=(0,eoU.useContext)(eop),{id:C,previewLength:_}=i,S=eox(i,r.map(t=>t.id))?eol:void 0,k=[];i.includeGroups&&k.push(...i.includeGroups),s&&k.push(s);let E=(d=r.map(t=>({queryKey:["ubq","assets",t.id,{query:n,perPage:i.previewLength,groups:k,excludeGroups:i.excludeGroups}],queryFn:()=>t.findAssets({groups:k,excludeGroups:i.excludeGroups,query:n,perPage:10,page:0,locale:b.language})})),p=Ja.default.useRef(!1),h=Ja.default.useState(0)[1],f=Jt(),m=(0,Ja.useMemo)(function(){return d.map(function(t){var n=f.defaultQueryObserverOptions(t);return n.optimisticResults=!0,n})},[d,f]),x=(g=Ja.default.useState(function(){return new X2(f,m)})[0]).getOptimisticResult(m),Ja.default.useEffect(function(){p.current=!0;var t=g.subscribe(XV.batchCalls(function(){p.current&&h(function(t){return t+1})}));return function(){p.current=!1,t()}},[g]),Ja.default.useEffect(function(){g.setQueries(m,{listeners:!1})},[m,g]),x);(0,eoU.useEffect)(()=>v.asset.onAssetSourceUpdated(t=>{let n=r.findIndex(n=>n.id===t);-1!==n&&E[n].refetch()}),[v.asset,E,r]);let{data:M,isError:I,isLoading:T}=(0,eoU.useMemo)(()=>({data:eoQ(E.filter(t=>void 0!==t.data).map(t=>t.data),10),isError:E.some(t=>t.isError),isLoading:E.some(t=>t.isLoading)}),[E]),{isAdding:B,handleSelect:L}=eom(u),j=(0,eoU.useMemo)(()=>M?.assets||[],[M]),P=M?M.total:void 0,[R,{contentWidth:D,gridGap:F}]=GG((t,n)=>{let i=parseFloat(t.paddingLeft),r=parseFloat(t.paddingRight),s=parseFloat(t.gridColumnGap);return{contentWidth:n.clientWidth-i-r,gridGap:s}},{contentWidth:1,gridGap:1}),O=Math.max(_,Math.min(3,j.length)),N=(D-(O-1)*F)/O,U={className:eoz.card,height:HG.Height.ExtraShort,style:{height:`${N}px`},backgroundType:"contain"},V={...U,disabled:!0},H=0===j.length||I||T,[Q,z]=(0,eoU.useState)(!1),G=R.current?parseFloat(getComputedStyle(R.current).getPropertyValue("--ubq-margin-s")):8,q=`calc(${100/O}% - ${G/O*(O-1)+"px"})`,W=(0,eoU.useRef)(null),[$,Z]=(0,eoU.useState)(0),[Y,K]=(0,eoU.useState)(!1);function X(t){if(W.current&&R.current){let n=parseFloat(getComputedStyle(R.current).marginInline),i=W.current.clientWidth-n-G,r=$%(i/O);W.current.scrollBy({behavior:"smooth",left:"next"===t?i-r:-1*(i+r)})}}return(0,eoU.useEffect)(()=>{K(function(){if(W.current&&R.current){let t=W.current.scrollWidth,n=R.current.clientWidth;return $>=t-n-2*parseFloat(getComputedStyle(R.current).marginInline)-n/O/2}return!1}())},[R,$,j,O]),(0,eoY.jsxs)("div",{className:(0,eoN.default)(eoz.block,{[eoz.visible]:N>1}),"data-cy":l,children:[(0,eoY.jsxs)("div",{className:eoz.header,children:[(0,eoY.jsx)(Jz,{className:eoz.heading,level:2,children:t}),S&&(0,eoY.jsx)(S,{sourceId:1===r.length?r[0].id:void 0,group:s,onUpload:c}),(0,eoY.jsx)(U6,{label:y("component.library.enterSection"),children:(0,eoY.jsx)(DR,{name:`${l}--enter`,variant:"plain",onClick:a,className:eoz.moreButton,isDisabled:o,children:(0,eoY.jsx)("span",{children:null==P||null!=P&&P>999?y("common.more"):`${y("common.more")} (${P})`})})})]}),(0,eoY.jsxs)("div",{className:eoz.paginationContainer,children:[(0,eoY.jsxs)(Da,{children:[0!==$&&(0,eoY.jsx)(eoK,{className:eoz.paginationButtonLeft,onClick:()=>X("previous"),icon:(0,eoY.jsx)(erT,{})},"pagination-previous"),!Y&&(0,eoY.jsx)(eoK,{className:eoz.paginationButtonRight,onClick:()=>X("next"),icon:(0,eoY.jsx)(ei7,{})},"pagination-next")]}),(0,eoY.jsx)("div",{className:eoz.scrollContainer,ref:W,onScroll:t=>{Z(t.target.scrollLeft)},children:(0,eoY.jsxs)("div",{ref:R,className:eoz.previews,style:{gridTemplateColumns:`repeat(${O}, ${q})`,gridAutoColumns:q},children:[H?(0,eoY.jsx)(eoZ,{min:_,cardProps:V,isLoading:T,isError:I,isEmpty:0===j.length}):j.map(t=>{let n=`${C}-${t.id}`,r=B(t.id),s=y(t.label??("function"==typeof i.cardLabel?i.cardLabel(t):i.cardLabel)??t.meta?.filename??""),a={...U,style:{...U.style,...i.cardStyle?i.cardStyle(t):{}},name:`assetLibraryCard-${t.id}`,"data-cy":`assetLibraryCard-${t.id}`,disabled:o||r,"aria-label":s,onClick:async()=>{if("boolean"==typeof i.promptBeforeApply?i.promptBeforeApply:i.promptBeforeApply?.show&&(!i.promptBeforeApply.sourceIds||i.promptBeforeApply.sourceIds.includes(t.context.sourceId)))z(!0);else{let n=L(t);await n()}}},l=t.meta?.mimeType?.includes("audio");return(0,eoY.jsxs)(es9,{isLoading:r,entry:i,asset:t,sourceId:t.context.sourceId,children:[(0,eoY.jsx)(esx,{assetSourceId:t.context.sourceId,show:Q,onDialogAbort:()=>{z(!1)},onDialogConfirm:async()=>{let n=L(t);await n(),z(!1)}}),(0,eoY.jsx)(esF,{isPreview:!0,entry:i,asset:t,...a,className:esQ,children:l&&(0,eoY.jsx)(esG,{asset:t,onClick:t=>{A&&A.pause(),w(t)}})})]},n)}),!H&&P&&P>10&&(0,eoY.jsx)("div",{className:eoz.inlineMoreButtonContainer,children:(0,eoY.jsx)(DR,{name:"scrollable_section-action-more",className:eoz.inlineMoreButton,onClick:a,children:(0,eoY.jsx)(eoO,{})})})]})})]})]})}),eoJ="UBQ_AssetLibraryOverview-module__block--eHaxL",eo0=SV(S$()),eo1=function({query:t,sections:n,onEnter:i,onSelect:r,onUpload:s}){let{t:o}=qL();return 0===n.length?(0,eo0.jsx)("div",{className:eoJ,children:(0,eo0.jsx)(eoD,{})}):(0,eo0.jsx)("div",{className:eoJ,children:n.map((a,l)=>{let{entry:c}=a,u=a.label??eso(o,{entry:c,group:a.group});return(0,eo0.jsxs)("div",{children:[(0,eo0.jsx)(eoX,{query:t,label:u,entry:c,group:a.group,sources:a.sources,onSelect:r,onEnter:()=>{i?.(a)},"data-cy":a.dataCy||`asset-library-section-${c.id}`,onUpload:s}),l<n.length-1&&(0,eo0.jsx)(Hp,{})]},l)})})},eo2=async function(t,n){if(!t.getGroups)throw Error(`Expected source ${t.id} to have getGroups method`);let i=await t.getGroups(),r=n.excludeGroups||[];return i.filter(t=>!r.some(n=>n===t))},eo3=SV(S$()),eo5=(SV(Sz()),SV(S$())),eo4=t=>(0,eo5.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eo5.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C12.8487 19 14.551 18.3729 15.9056 17.3199L20 21.4142L21.4142 20L17.3199 15.9056C18.3729 14.551 19 12.8487 19 11C19 6.58172 15.4183 3 11 3ZM5 11C5 7.68629 7.68629 5 11 5C14.3137 5 17 7.68629 17 11C17 14.3137 14.3137 17 11 17C7.68629 17 5 14.3137 5 11Z",fill:"currentColor"})}),eo6=SV(SH()),eo8=SV(Sz()),eo7=SV(S$()),eo9=async function(t){if(1===t.length){let n=t[0],i=t[0].getSources();if(i.length>1)return{view:"sourcesOverview",entry:n,sources:i};if(1===i.length){let t=i[0],r=await eo2(t,n);return r.length>1&&n.showGroupOverview?{view:"groupsOverview",entry:n,source:t,groups:r}:{view:"grid",entry:n,source:t}}}return{view:"entriesOverview",entries:t??[]}},eae=SV(Sz()),eat=[],ean=function({assetPanelOpen:t,initialLocation:n=eat}){let i=(0,eae.useRef)(!0);(0,eae.useEffect)(()=>(i.current=!0,()=>{i.current=!1}),[]);let r=(0,eae.useCallback)(()=>"function"==typeof n?n():n,[n]),s=(0,eae.useCallback)(async()=>{let t=r();if(t instanceof Promise){a(t=>({...t,isLoading:!0}));let n=await t;i.current&&a({locationStack:n,isLoading:!1})}else a({locationStack:t,isLoading:!1})},[r]),[o,a]=(0,eae.useState)({isLoading:!1,locationStack:[]});(0,eae.useEffect)(()=>{s()},[s]),(0,eae.useEffect)(()=>{t||s()},[t,s]);let l=o.locationStack[o.locationStack.length-1];return{...o,currentLocation:l,pushLocation:t=>{a(n=>({...n,locationStack:[...n.locationStack,t]}))},popLocation:()=>{a(t=>({...t,locationStack:t.locationStack.slice(0,-1)}))},resetLocationStack:t=>{a(n=>({...n,locationStack:t}))},clearLocationStack:()=>{s()},assetPanelOpen:t}},eai=SV(S$()),ear=(0,esr.createContext)(null);function eas(){let t=(0,esr.useContext)(ear);if(!t)throw Error("useAssetLibrary must be used within an AssetLibrary component");return t}function eao({children:t,entries:n,assetPanelOpen:i}){let[r,s]=(0,esr.useState)(""),o=ean({initialLocation:(0,esr.useCallback)(async()=>n?[await eo9(n)]:[],[n]),assetPanelOpen:i}),a=(0,esr.useMemo)(()=>({query:r,setQuery:s,navigation:o}),[r,o]);return(0,eai.jsx)(ear.Provider,{value:a,children:t})}eao.Search=function({placeholder:t,defaultValue:n="",className:i}){let{t:r}=qL(),s=(0,eo8.useRef)(null),{setQuery:o,navigation:a}=eas(),[l,c]=(0,eo8.useState)(n),{isReady:u,clear:d,debounce:p}=function({minDelay:t=300,maxDelay:n=1e3,acceleration:i=.5}={}){let r=(0,G0.useRef)(null),{isReady:s,clear:o,debounce:a}=function(t=0){let n=(0,GJ.useRef)(!1),i=(0,GJ.useRef)(),r=(0,GJ.useCallback)(()=>n.current,[]),s=(0,GJ.useCallback)((r,s=t)=>{n.current=!1,i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{n.current=!0,r()},s)},[t]),o=(0,GJ.useCallback)(()=>{n.current=null,i.current&&window.clearTimeout(i.current)},[]);return(0,GJ.useEffect)(()=>o,[o,t]),{isReady:r,clear:o,debounce:s}}(),l=(0,G0.useCallback)(s=>{let l=Math.min(t+i*(Date.now()-(r.current||Date.now())),n);o(),a(s,l),r.current=Date.now()},[i,n,t,a,o]);return{isReady:s,clear:o,debounce:l}}(),h=(0,eo8.useMemo)(()=>{let t=a.locationStack[0];if(t)return"dockGroupId"in t?t.dockGroupId:"entry"in t?t.entry.id:void 0},[a.locationStack]);return(0,eo8.useEffect)(()=>{d(),o(n),c(n)},[h,d,n,o]),NI(["enter"],()=>{!1===u()&&(d(),o(l))},{global:!0,elementRef:s}),(0,eo7.jsx)("div",{className:(0,eo6.default)("UBQ_AssetLibrarySearch-module__block--mcAtt",i),children:(0,eo7.jsxs)("div",{className:"UBQ_AssetLibrarySearch-module__inputContainer--0-LjK",children:[(0,eo7.jsx)(Vs,{ref:s,className:"UBQ_AssetLibrarySearch-module__searchInput--GoKQU",value:l,onChange:t=>{let{value:n}=t.target;c(n),""===n?(d(),o("")):p(()=>o(n))},placeholder:t,"data-cy":"librarySearch"}),(0,eo7.jsx)("div",{className:"UBQ_AssetLibrarySearch-module__searchIconContainer--MQrw6",children:(0,eo7.jsx)(eo4,{className:"UBQ_AssetLibrarySearch-module__searchIcon--6Rq2Q"})}),(0,eo7.jsx)("div",{className:(0,eo6.default)("UBQ_AssetLibrarySearch-module__clearSearchIconContainer--pxocd",{"UBQ_AssetLibrarySearch-module__hasEmptySearchValue--c5Ttf":!l}),children:(0,eo7.jsx)(DR,{name:"clear-search","aria-label":r("component.library.clearSearch"),variant:"plain",isDisabled:!l,onClick:()=>{c(""),o("")},children:(0,eo7.jsx)(VC,{className:"UBQ_AssetLibrarySearch-module__clearSearchIcon--KOtYH"})})})]})})},eao.Content=function({onSelect:t,onUpload:n}){let{t:i}=qL(),{query:r,navigation:{isLoading:s,locationStack:o,currentLocation:a,pushLocation:l,popLocation:c,clearLocationStack:u}}=eas(),d={className:"UBQ_AssetLibraryContent-module__motionWrapper--Bxmsh",transition:{ease:"easeIn",duration:.2},initial:{opacity:.25},animate:{opacity:1}},{currentPlayingElement:p,setCurrentPlayingElement:h}=eoh(),f=(0,ess.useMemo)(()=>({currentPlayingElement:p,setCurrentPlayingElement:h}),[p,h]);return(0,eo3.jsx)(eop.Provider,{value:f,children:(0,eo3.jsx)("div",{id:"asset-library-content",className:"UBQ_AssetLibraryContent-module__block--SroUk",children:(0,eo3.jsx)(Da,{initial:!1,children:(()=>{if(s)return(0,eo3.jsx)(eoP,{isLoading:s});switch(a?.view){case"entriesOverview":return(0,eo3.jsx)(R1.div,{...d,children:(0,eo3.jsx)(eo1,{query:r,sections:a.entries.map(t=>{let n=t.getSources();return!(!n||0===n.length)&&{entry:t,sources:n}}).filter(Boolean),onEnter:async({entry:t,sources:n})=>{if(n.length>1)l({entry:t,view:"sourcesOverview",sources:n});else{if(1!==n.length)throw Error(`No source defined for ${t.id}`);{let i=n[0],r=await eo2(i,t);r.length>1&&t.showGroupOverview?l({entry:t,view:"groupsOverview",source:i,groups:r}):l({entry:t,view:"grid",source:i})}}},onSelect:t,onUpload:n})},"initial");case"groupsOverview":{let{entry:s,source:p,groups:h}=a;return(0,eo3.jsxs)(R1.div,{...d,children:[o.length>1&&(0,eo3.jsxs)(eo3.Fragment,{children:[(0,eo3.jsx)(esd,{locationStack:o,pushLocation:l,popLocation:c,clearLocationStack:u}),(0,eo3.jsx)(Hp,{})]}),(0,eo3.jsx)(eo1,{query:r,sections:h.map(t=>({entry:s,sources:[p],label:eso(i,{entry:s,group:t,sourceId:p.id}),group:t})),onEnter:({group:t})=>{l({view:"grid",entry:s,source:p,group:t})},onSelect:t,onUpload:n})]},`${a.entry.id}.${o.length}`)}case"sourcesOverview":{let{entry:s,sources:p}=a;return(0,eo3.jsxs)(R1.div,{...d,children:[o.length>1&&(0,eo3.jsxs)(eo3.Fragment,{children:[(0,eo3.jsx)(esd,{locationStack:o,pushLocation:l,popLocation:c,clearLocationStack:u}),(0,eo3.jsx)(Hp,{})]}),(0,eo3.jsx)(eo1,{query:r,sections:p.map(t=>({entry:s,sources:[t],label:eso(i,{entry:s,sourceId:t.id}),dataCy:`asset-library-section-${t.id}`})),onEnter:async t=>{let n=t.sources[0],i=await eo2(n,s);i.length>1&&s.showGroupOverview?l({entry:s,view:"groupsOverview",source:n,groups:i}):l({entry:s,view:"grid",source:n,label:t.label})},onSelect:t,onUpload:n})]},`${a.entry.id}.${o.length}`)}case"grid":return(0,eo3.jsxs)(R1.div,{...d,children:[o.length>1&&(0,eo3.jsxs)(eo3.Fragment,{children:[(0,eo3.jsx)(esd,{locationStack:o,pushLocation:l,popLocation:c,clearLocationStack:u}),(0,eo3.jsx)(Hp,{})]}),(0,eo3.jsx)(eoB,{query:r,entry:a.entry,source:a.source,group:a.group,onSelect:t,onUpload:n})]},`${a.entry.id}.${o.length}`);default:return null}})()})})})};var eaa=(SV(Sz()),SV(S$())),eal=t=>(0,eaa.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaa.jsx)("path",{d:"M13.2913 14.7089L20.291 21.7086L21.7052 20.2944L3.70523 2.29443L2.29102 3.70865L9.29138 10.709C9.10463 11.1001 9.00008 11.5379 9.00008 12.0002C9.00008 13.657 10.3432 15.0002 12.0001 15.0002C12.4623 15.0002 12.9002 14.8956 13.2913 14.7089Z",fill:"currentColor"}),(0,eaa.jsx)("path",{d:"M5.78422 7.19893C5.32465 7.55352 4.91094 7.9252 4.54323 8.29297C3.73611 9.1002 3.13309 9.90476 2.73106 10.5079C2.52948 10.8103 2.37689 11.0645 2.27308 11.2462C2.22114 11.3371 2.1813 11.4101 2.15353 11.4622C2.13964 11.4882 2.12877 11.509 2.1209 11.5243L2.11135 11.5429L2.10827 11.549L2.10715 11.5513L2.10669 11.5522C2.1065 11.5526 2.10631 11.5529 3.00079 12.0001L2.10669 11.5522L1.88281 12.0001L2.10631 12.4472L3.00079 12.0001C2.10631 12.4472 2.10611 12.4468 2.10631 12.4472L2.10715 12.4488L2.10827 12.4511L2.11136 12.4572L2.1209 12.4758C2.12877 12.4911 2.13965 12.5119 2.15353 12.5379C2.1813 12.59 2.22114 12.663 2.27308 12.7539C2.37689 12.9356 2.52948 13.1897 2.73106 13.4922C3.13308 14.0953 3.73611 14.8999 4.54322 15.7071C6.15203 17.3161 8.64119 19 12 19C13.7266 19 15.2235 18.555 16.4892 17.9039L14.985 16.3997C14.0998 16.7696 13.1051 17 12 17C9.35873 17 7.34831 15.6839 5.95753 14.293C5.26484 13.6002 4.74308 12.9048 4.39526 12.3829C4.30026 12.2404 4.21871 12.1115 4.15062 12C4.21871 11.8886 4.30027 11.7597 4.39527 11.6172C4.74309 11.0953 5.26486 10.3999 5.95754 9.70708C6.33099 9.33358 6.7491 8.96549 7.21212 8.62682L5.78422 7.19893Z",fill:"currentColor"}),(0,eaa.jsx)("path",{d:"M11.8302 7.00182L10.0287 5.20031C10.6486 5.07195 11.3057 5 12 5C15.3587 5 17.8482 6.6839 19.4574 8.29287C20.2647 9.10008 20.868 9.90461 21.2702 10.5078C21.4718 10.8102 21.6245 11.0643 21.7283 11.246C21.7803 11.3369 21.8201 11.4099 21.8479 11.462C21.8618 11.488 21.8727 11.5089 21.8806 11.5241L21.8901 11.5427L21.8932 11.5488L21.8948 11.552C21.895 11.5524 21.8952 11.5527 21.0008 12.0001C21.8952 12.4474 21.895 12.4477 21.8948 12.4481L21.8943 12.449L21.8932 12.4513L21.8901 12.4574L21.8806 12.476C21.8727 12.4912 21.8618 12.5121 21.8479 12.5381C21.8201 12.5902 21.7803 12.6632 21.7283 12.7541C21.6245 12.9358 21.4718 13.1899 21.2702 13.4923C20.9604 13.9568 20.5314 14.5408 19.9818 15.1534L18.5652 13.7368C19.0044 13.2386 19.3518 12.7643 19.6062 12.3828C19.7012 12.2403 19.7827 12.1115 19.8508 12C19.7827 11.8886 19.7011 11.7598 19.6062 11.6173C19.2582 11.0955 18.7362 10.4 18.0433 9.70718C16.6521 8.31613 14.6412 7 12 7C11.9431 7 11.8865 7.00061 11.8302 7.00182Z",fill:"currentColor"}),(0,eaa.jsx)("path",{d:"M21.0008 12.0001L21.8948 11.552L22.1189 12.0001L21.8948 12.4481L21.0008 12.0001Z",fill:"currentColor"})]}),eac=(SV(Sz()),SV(S$())),eau=t=>(0,eac.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eac.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}),(0,eac.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0008 12.0001C21.8952 11.5527 21.895 11.5524 21.8948 11.552L21.8932 11.5488L21.8901 11.5427L21.8806 11.5241C21.8727 11.5089 21.8618 11.488 21.8479 11.462C21.8201 11.4099 21.7803 11.3369 21.7283 11.246C21.6245 11.0643 21.4718 10.8102 21.2702 10.5078C20.868 9.90461 20.2647 9.10008 19.4574 8.29287C17.8482 6.6839 15.3587 5 12 5C8.6412 5 6.15204 6.68393 4.54323 8.29297C3.73611 9.1002 3.13309 9.90476 2.73106 10.5079C2.52948 10.8103 2.37689 11.0645 2.27308 11.2462C2.22114 11.3371 2.1813 11.4101 2.15353 11.4622C2.13964 11.4882 2.12877 11.509 2.1209 11.5243L2.11135 11.5429L2.10827 11.549L2.10715 11.5513L2.10669 11.5522C2.1065 11.5526 2.10631 11.5529 3.00079 12.0001L2.10669 11.5522L1.88281 12.0001L2.10631 12.4472L3.00079 12.0001C2.10631 12.4472 2.10611 12.4468 2.10631 12.4472L2.10715 12.4488L2.10827 12.4511L2.11136 12.4572L2.1209 12.4758C2.12877 12.4911 2.13965 12.5119 2.15353 12.5379C2.1813 12.59 2.22114 12.663 2.27308 12.7539C2.37689 12.9356 2.52948 13.1897 2.73106 13.4922C3.13308 14.0953 3.73611 14.8999 4.54322 15.7071C6.15203 17.3161 8.64119 19 12 19C15.3587 19 17.8482 17.3161 19.4574 15.7072C20.2647 14.9 20.868 14.0955 21.2702 13.4923C21.4718 13.1899 21.6245 12.9358 21.7283 12.7541C21.7803 12.6632 21.8201 12.5902 21.8479 12.5381C21.8618 12.5121 21.8727 12.4912 21.8806 12.476L21.8901 12.4574L21.8932 12.4513L21.8943 12.449L21.8948 12.4481C21.895 12.4477 21.8952 12.4474 21.0008 12.0001ZM4.15062 12C4.21871 12.1115 4.30026 12.2404 4.39526 12.3829C4.74308 12.9048 5.26484 13.6002 5.95753 14.293C7.34831 15.6839 9.35873 17 12 17C14.6412 17 16.6521 15.6839 18.0433 14.2929C18.7362 13.6001 19.2582 12.9046 19.6062 12.3828C19.7012 12.2403 19.7827 12.1115 19.8508 12C19.7827 11.8886 19.7011 11.7598 19.6062 11.6173C19.2582 11.0955 18.7362 10.4 18.0433 9.70718C16.6521 8.31613 14.6412 7 12 7C9.35876 7 7.34833 8.3161 5.95754 9.70708C5.26486 10.3999 4.74309 11.0953 4.39527 11.6172C4.30027 11.7597 4.21871 11.8886 4.15062 12Z",fill:"currentColor"}),(0,eac.jsx)("path",{d:"M21.0008 12.0001L21.8948 12.4481L22.1189 12.0001L21.8948 11.552L21.0008 12.0001Z",fill:"currentColor"})]}),ead="UBQ_PropertyToggle-module__block--1Putg",eap=SV(S$()),eah=function({label:t,children:n,isEnabled:i,toggleProperty:r,isVisible:s=!0,withButtonLabel:o=!1,enabledIcon:a,disabledIcon:l,enabledButtonLabel:c,disabledButtonLabel:u,...d}){let{t:p}=qL(),h=p(i?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:t}),f=p("input.propertyToggle.enable",{property:t}),m=KU(),g=a??eau,x=l??eal,y=c??p("input.propertyToggle.visible"),v=u??p("input.propertyToggle.hidden");return(0,eap.jsxs)(eap.Fragment,{children:[n,s?(0,eap.jsx)(U6,{label:h,"data-cy":`${h}-tooltip`,children:o?(0,eap.jsxs)(DR,{"aria-label":f,name:"toggleProperty",className:ead,variant:"plain",onClick:()=>{r(t=>!t),m("action.property.update")},isActive:i,activeStateStyle:"none",...d,children:[i?y:v,i?(0,eap.jsx)(g,{}):(0,eap.jsx)(x,{})]}):(0,eap.jsx)(DU,{"aria-label":f,name:"toggleProperty",className:ead,onClick:()=>{r(t=>!t),m("action.property.update")},"aria-pressed":i,"data-active":i,...d,children:i?(0,eap.jsx)(g,{}):(0,eap.jsx)(x,{})})}):null]})},eaf=SV(S$()),eam=function(){return(0,eaf.jsx)("div",{className:"UBQ_PropertyToggle-module__emptyGap--KNCCA"})},eag=SV(Sz()),eax=RegExp("//ly.img.ubq/(.*)"),eay=function(t){let n=t.match(eax);return n?n[1]:t};function eav(t){return!!t}function eab(t,n,i){return t.map(t=>null==t.id?(console.warn("Omitting entry without any id configured: ",t),null):eaA(t,n,i)).filter(eav)}function eaA(t,n,i){let r=i??n.asset.findAllSources();return{showGroupOverview:!0,previewLength:3,gridColumns:3,gridItemHeight:"square",previewBackgroundType:"contain",gridBackgroundType:"contain",cardBackgroundPreferences:[{path:"meta.vectorPath",type:"svgVectorPath"},{path:"meta.thumbUri",type:"image"}],cardLabelPosition:()=>"inside",cardLabelTruncateLines:()=>"multi",...t,getSources:()=>(t.sourceIds??[]).filter(t=>!!r.includes(t)).map(t=>{var i,r;return{id:i=t,credits:(r=n).asset.getCredits(i),license:r.asset.getLicense(i),findAssets:t=>r.asset.findAssets(i,t),applyAsset:t=>r.asset.apply(i,t),getGroups:()=>r.asset.getGroups(i),removeAsset:t=>r.asset.removeAssetFromSource(i,t),canManageAssets:r.asset.canManageAssets(i),addAsset:t=>r.asset.addAssetToSource(i,t),getSupportedMimeTypes:()=>r.asset.getSupportedMimeTypes(i)}})}}var eaw,eaC,ea_,eaS,eak=eaA,eaE=SV(S$()),eaM=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.animations",{engine:t}),[r]=t.block.findAllSelected();return null==r?null:t.block.supportsAnimation(r)&&i?n({block:r}):null})),eaI=Jg(function({engine:t}){let{t:n}=qL(),{ui:{baseURL:i}}=JH(),[r]=t.block.findAllSelected(),s=null!=r&&"//ly.img.ubq/text"===t.block.getType(r),o=n("libraries.ly.img.animations.ly.img.animations.label"),a=(0,eag.useMemo)(()=>[eak({id:"ly.img.animations",sourceIds:["ly.img.animations"],cardLabel:t=>{let i=t.id.split("/");return n(`property.animation.${i[i.length-1]}`)},cardLabelPosition:()=>"below",gridBackgroundType:"cover",previewBackgroundType:"cover",cardBackgroundPreferences:t=>{let n=t.id.split("/"),r=n[n.length-1];return"none"===r?{type:"svgVectorPath",viewBox:"0 0 24 24",width:40,height:40,d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0Zm3.394 4.192a7 7 0 0 1 9.799-9.799l-9.8 9.8Zm1.414 1.414a7 7 0 0 0 9.799-9.799l-9.8 9.8Z",fillRule:"evenodd",clipRule:"evenodd"}:{type:"image",url:s?`${i}animations/text/${r}.png`:`${i}animations/${r}.png`}}},t,t.asset.findAllSources())],[i,t,n,s]);return(0,eaE.jsxs)(eaE.Fragment,{children:[(0,eaE.jsx)(erK.Header,{children:(0,eaE.jsx)(erK.Title,{children:o})}),(0,eaE.jsx)(erK.Content,{children:({isOpen:n})=>(0,eaE.jsx)("div",{className:"UBQ_AnimationSubInspector-module__panelContent--kCSYF",children:(0,eaE.jsx)(eao,{entries:a,assetPanelOpen:n,children:(0,eaE.jsx)(eao.Content,{onSelect:async n=>{let i=n.context.sourceId;await t.asset.apply(i,n)}})})})})]})}),eaT=Xc(Jg(function({engine:t,block:n,inBar:i=!1,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),[a]=erU("//ly.img.panel/inspector/animation",KA());function l(){a?o.ui.closePanel("//ly.img.panel/inspector/animation"):o.ui.openPanel("//ly.img.panel/inspector/animation")}let c=t.block.isAllowedByScope(n,eem),u=t.block.getInAnimation(n),d=t.block.getOutAnimation(n),p=t.block.getLoopAnimation(n),h=t.block.isValid(u),f=t.block.isValid(d),m=t.block.isValid(p),g=h||f||m,x=s("input.animations"),y=(0,eag.useMemo)(()=>{if(!g)return s("common.select");let n=[];return h&&n.push(eaB(s,t.block.getType(u))),f&&n.push(eaB(s,t.block.getType(d))),m&&n.push(eaB(s,t.block.getType(p))),n.join(", ")},[t.block,g,h,m,f,u,p,d,s]);return c||"hide"!==r?i?(0,eaE.jsx)(U6,{label:s("input.animations.description"),children:(0,eaE.jsx)(DR,{name:x,variant:a?"regular":"plain",icon:(0,eaE.jsx)(esi,{}),isActive:g,activeStateStyle:"pill",onClick:l,isDisabled:!c,"data-cy":"animations",children:x})}):(0,eaE.jsxs)(Qe,{children:[(0,eaE.jsx)(Uo,{isDisabled:!c,children:s("common.presets")}),(0,eaE.jsx)(U6,{label:s("input.animations.description"),children:(0,eaE.jsxs)(DR,{name:x,variant:"regular",icon:(0,eaE.jsx)(esi,{}),isActive:g,activeStateStyle:"pill",onClick:l,isDisabled:!c,"data-cy":"animations",children:[y,(0,eaE.jsx)(ei7,{})]})}),(0,eaE.jsx)(eam,{})]}):null}));function eaB(t,n){return t(`property.${eay(n).replace(/\//g,".")}`)}(eaS=ea_||(ea_={})).SupportGuard=eaM,eaS.PanelContent=eaI,eaS.Control=function(t){return(0,eaE.jsx)(eaM,{children:({block:n})=>(0,eaE.jsx)(eaT,{block:n,...t})})};var eaL=ea_,eaj=(SV(Sz()),SV(S$())),eaP=t=>(0,eaj.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaj.jsx)("path",{d:"M12.0004 4.92882C13.953 2.9762 17.1188 2.9762 19.0714 4.92882C21.0241 6.88144 21.0241 10.0473 19.0714 11.9999L16.9501 14.1212C14.9975 16.0738 11.8317 16.0738 9.87906 14.1212C9.74869 13.9908 9.62703 13.8551 9.51407 13.7146L11.1247 12.5241C11.1779 12.5868 11.2341 12.6478 11.2933 12.707C12.4648 13.8786 14.3643 13.8786 15.5359 12.707L17.6572 10.5857C18.8288 9.4141 18.8288 7.51461 17.6572 6.34303C16.4857 5.17146 14.5862 5.17146 13.4146 6.34303L12.3267 7.43089L10.6949 6.23425L12.0004 4.92882Z",fill:"currentColor"}),(0,eaj.jsx)("path",{d:"M12.0004 19.071C10.0478 21.0236 6.88193 21.0236 4.92931 19.071C2.97669 17.1183 2.97669 13.9525 4.92931 11.9999L7.05063 9.87857C9.00325 7.92595 12.1691 7.92595 14.1217 9.87857C14.2521 10.0089 14.3737 10.1447 14.4867 10.2852L12.876 11.4757C12.8228 11.413 12.7666 11.3519 12.7075 11.2928C11.5359 10.1212 9.63642 10.1212 8.46484 11.2928L6.34352 13.4141C5.17195 14.5857 5.17195 16.4852 6.34352 17.6567C7.5151 18.8283 9.41459 18.8283 10.5862 17.6567L11.674 16.5689L13.3058 17.7655L12.0004 19.071Z",fill:"currentColor"})]}),eaR=SV(SH()),eaD=SV(EW()),eaF=SV(Sz());SV(Sz());var eaO=SV(S$()),eaN=t=>(0,eaO.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaO.jsx)("path",{d:"M7.5 5H4V7H7.5V5Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M13.5 7V5H20V7H13.5Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M11.5 11H4V13H11.5V11Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M17.5 13V11H20V13H17.5Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M5.5 17H4V19H5.5V17Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M11.5 19H20V17H11.5V19Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M10.5 3.5C9.67157 3.5 9 4.17157 9 5V7C9 7.82843 9.67157 8.5 10.5 8.5C11.3284 8.5 12 7.82843 12 7V5C12 4.17157 11.3284 3.5 10.5 3.5Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M13 11C13 10.1716 13.6716 9.5 14.5 9.5C15.3284 9.5 16 10.1716 16 11V13C16 13.8284 15.3284 14.5 14.5 14.5C13.6716 14.5 13 13.8284 13 13V11Z",fill:"currentColor"}),(0,eaO.jsx)("path",{d:"M7 17C7 16.1716 7.67157 15.5 8.5 15.5C9.32843 15.5 10 16.1716 10 17V19C10 19.8284 9.32843 20.5 8.5 20.5C7.67157 20.5 7 19.8284 7 19V17Z",fill:"currentColor"})]}),eaU=(SV(Sz()),SV(S$())),eaV=t=>(0,eaU.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaU.jsx)("path",{d:"M4 15.5C4 13.0147 6.01472 11 8.5 11H13V15.5C13 17.9853 10.9853 20 8.5 20C6.01472 20 4 17.9853 4 15.5Z",stroke:"currentColor",strokeWidth:2}),(0,eaU.jsx)("path",{d:"M16.0001 13.9775C18.8033 13.7248 21.0001 11.3687 21.0001 8.49962C21.0001 5.46205 18.5376 2.99951 15.5001 2.99951C12.6309 2.99951 10.2748 5.19652 10.0225 8H16.0001V13.9775Z",fill:"currentColor"})]}),eaH=(SV(Sz()),SV(S$())),eaQ=t=>(0,eaH.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaH.jsx)("path",{d:"M16.75 4.25C17.0952 4.25 17.375 3.97018 17.375 3.625C17.375 3.27982 17.0952 3 16.75 3C16.4048 3 16.125 3.27982 16.125 3.625C16.125 3.97018 16.4048 4.25 16.75 4.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M13.25 7.25C13.25 7.94036 12.6904 8.5 12 8.5C11.3096 8.5 10.75 7.94036 10.75 7.25C10.75 6.55964 11.3096 6 12 6C12.6904 6 13.25 6.55964 13.25 7.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M13.9999 12C13.9999 13.1046 13.1045 14 11.9999 14C10.8954 14 9.99995 13.1046 9.99995 12C9.99995 10.8954 10.8954 9.99999 11.9999 9.99999C13.1045 9.99999 13.9999 10.8954 13.9999 12Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M7.25 8.125C7.73325 8.125 8.125 7.73325 8.125 7.25C8.125 6.76675 7.73325 6.375 7.25 6.375C6.76675 6.375 6.375 6.76675 6.375 7.25C6.375 7.73325 6.76675 8.125 7.25 8.125Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M17.625 7.25C17.625 7.73325 17.2332 8.125 16.75 8.125C16.2668 8.125 15.875 7.73325 15.875 7.25C15.875 6.76675 16.2668 6.375 16.75 6.375C17.2332 6.375 17.625 6.76675 17.625 7.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M7.875 3.625C7.875 3.97018 7.59518 4.25 7.25 4.25C6.90482 4.25 6.625 3.97018 6.625 3.625C6.625 3.27982 6.90482 3 7.25 3C7.59518 3 7.875 3.27982 7.875 3.625Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M3.625 7.875C3.97018 7.875 4.25 7.59518 4.25 7.25C4.25 6.90482 3.97018 6.625 3.625 6.625C3.27982 6.625 3 6.90482 3 7.25C3 7.59518 3.27982 7.875 3.625 7.875Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M17.375 20.5C17.375 20.8452 17.0952 21.125 16.75 21.125C16.4048 21.125 16.125 20.8452 16.125 20.5C16.125 20.1548 16.4048 19.875 16.75 19.875C17.0952 19.875 17.375 20.1548 17.375 20.5Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M20.5 17.375C20.8452 17.375 21.125 17.0952 21.125 16.75C21.125 16.4048 20.8452 16.125 20.5 16.125C20.1548 16.125 19.875 16.4048 19.875 16.75C19.875 17.0952 20.1548 17.375 20.5 17.375Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M21.125 7.25C21.125 7.59518 20.8452 7.875 20.5 7.875C20.1548 7.875 19.875 7.59518 19.875 7.25C19.875 6.90482 20.1548 6.625 20.5 6.625C20.8452 6.625 21.125 6.90482 21.125 7.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M12 4.5C12.4142 4.5 12.75 4.16421 12.75 3.75C12.75 3.33579 12.4142 3 12 3C11.5858 3 11.25 3.33579 11.25 3.75C11.25 4.16421 11.5858 4.5 12 4.5Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M3.75 11.25C4.16421 11.25 4.5 11.5858 4.5 12C4.5 12.4142 4.16421 12.75 3.75 12.75C3.33579 12.75 3 12.4142 3 12C3 11.5858 3.33579 11.25 3.75 11.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M12 21C12.4142 21 12.75 20.6642 12.75 20.25C12.75 19.8358 12.4142 19.5 12 19.5C11.5858 19.5 11.25 19.8358 11.25 20.25C11.25 20.6642 11.5858 21 12 21Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M20.25 11.25C20.6642 11.25 21 11.5858 21 12C21 12.4142 20.6642 12.75 20.25 12.75C19.8358 12.75 19.5 12.4142 19.5 12C19.5 11.5858 19.8358 11.25 20.25 11.25Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M7.25 17.625C7.73325 17.625 8.125 17.2332 8.125 16.75C8.125 16.2668 7.73325 15.875 7.25 15.875C6.76675 15.875 6.375 16.2668 6.375 16.75C6.375 17.2332 6.76675 17.625 7.25 17.625Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M4.25 16.75C4.25 17.0952 3.97018 17.375 3.625 17.375C3.27982 17.375 3 17.0952 3 16.75C3 16.4048 3.27982 16.125 3.625 16.125C3.97018 16.125 4.25 16.4048 4.25 16.75Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M7.25 21.125C7.59518 21.125 7.875 20.8452 7.875 20.5C7.875 20.1548 7.59518 19.875 7.25 19.875C6.90482 19.875 6.625 20.1548 6.625 20.5C6.625 20.8452 6.90482 21.125 7.25 21.125Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M17.625 16.75C17.625 17.2332 17.2332 17.625 16.75 17.625C16.2668 17.625 15.875 17.2332 15.875 16.75C15.875 16.2668 16.2668 15.875 16.75 15.875C17.2332 15.875 17.625 16.2668 17.625 16.75Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M15.5 12C15.5 12.6904 16.0596 13.25 16.75 13.25C17.4404 13.25 18 12.6904 18 12C18 11.3096 17.4404 10.75 16.75 10.75C16.0596 10.75 15.5 11.3096 15.5 12Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M13.25 16.75C13.25 17.4404 12.6904 18 12 18C11.3096 18 10.75 17.4404 10.75 16.75C10.75 16.0596 11.3096 15.5 12 15.5C12.6904 15.5 13.25 16.0596 13.25 16.75Z",fill:"currentColor"}),(0,eaH.jsx)("path",{d:"M6 12C6 12.6904 6.55964 13.25 7.25 13.25C7.94036 13.25 8.5 12.6904 8.5 12C8.5 11.3096 7.94036 10.75 7.25 10.75C6.55964 10.75 6 11.3096 6 12Z",fill:"currentColor"})]}),eaz=(SV(Sz()),SV(S$())),eaG=t=>(0,eaz.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eaz.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00033 8.00011L8.00001 2L6.00001 2.00011L6.00022 6.00015L2.00002 6.00011L2 8.00011L6.00033 8.00015L6.0007 15.0001C6.00079 16.6569 7.34389 17.9999 9.00067 17.9999L15.9998 18L16 22.0002L18 22.0001L17.9998 18L22 18.0001L22 16.0001L16 16V14.0001H17.9996L17.9993 9.00008C17.9992 7.3433 16.6561 6.00026 14.9993 6.00024L10 6.00019V8.00011H8.00033ZM8.00033 8.00011L8.0007 15C8.00073 15.5522 8.44843 15.9999 9.00069 15.9999L16 16L15.9993 9.00019C15.9993 8.44793 15.5516 8.00025 14.9993 8.00024L8.00033 8.00011Z",fill:"currentColor"})}),eaq=(SV(Sz()),SV(S$())),eaW=t=>(0,eaq.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaq.jsx)("path",{opacity:.15,d:"M15.666 19.1125C17.133 17.1221 18 14.6623 18 12C18 9.33771 17.133 6.87792 15.666 4.88754C14.5678 4.32032 13.3213 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C13.3213 20 14.5678 19.6797 15.666 19.1125Z",fill:"currentColor"}),(0,eaq.jsx)("path",{opacity:.4,d:"M12.3079 19.9942C14.5672 18.0683 16 15.2015 16 12C16 8.79854 14.5672 5.93173 12.3079 4.00582C12.2057 4.00195 12.1031 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C12.1031 20 12.2057 19.998 12.3079 19.9942Z",fill:"currentColor"}),(0,eaq.jsx)("path",{opacity:.6,d:"M9.71337 19.6685C12.2854 18.0843 14 15.2423 14 11.9999C14 8.75764 12.2855 5.91579 9.71365 4.33154C6.40942 5.31523 4 8.37627 4 12.0001C4 15.6238 6.40928 18.6847 9.71337 19.6685Z",fill:"currentColor"}),(0,eaq.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C10.3314 20 8.7821 19.4891 7.49999 18.6153C9.61276 17.1753 11 14.7497 11 12C11 9.25032 9.61277 6.82465 7.5 5.38468C8.78211 4.51085 10.3314 4 12 4C16.4183 4 20 7.58172 20 12Z",fill:"currentColor"})]}),ea$=(SV(Sz()),SV(S$())),eaZ=t=>(0,ea$.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ea$.jsx)("path",{d:"M4.5 4H13.5C13.7761 4 14 4.22386 14 4.5V5H16V4.5C16 3.11929 14.8807 2 13.5 2H4.5C3.11929 2 2 3.11929 2 4.5V13.5C2 14.8807 3.11929 16 4.5 16H5V14H4.5C4.22386 14 4 13.7761 4 13.5V4.5C4 4.22386 4.22386 4 4.5 4Z",fill:"currentColor"}),(0,ea$.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 7C8.11929 7 7 8.11929 7 9.5V18.5C7 19.8807 8.11929 21 9.5 21H18.5C19.8807 21 21 19.8807 21 18.5V9.5C21 8.11929 19.8807 7 18.5 7H9.5ZM13 10V13H10V15H13V18H15V15H18V13H15V10H13Z",fill:"currentColor"})]}),eaY=(SV(Sz()),SV(S$())),eaK=t=>(0,eaY.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaY.jsx)("path",{d:"M11.5803 8.63645L11.2631 10.5257H5.13672L5.45384 8.63645H11.5803ZM5.25142 19.0001L7.14737 7.65811C7.25533 6.96091 7.49148 6.38065 7.85582 5.91735C8.22467 5.45404 8.67223 5.10769 9.19851 4.87829C9.72929 4.64888 10.2938 4.53418 10.892 4.53418C11.3194 4.53418 11.6905 4.56792 12.0053 4.63539C12.3202 4.70286 12.5496 4.76358 12.6935 4.81756L11.9041 6.70677C11.8007 6.67528 11.6747 6.64379 11.5263 6.6123C11.3823 6.57632 11.2137 6.55833 11.0202 6.55833C10.5659 6.55833 10.2263 6.66853 10.0014 6.88894C9.77652 7.10485 9.62808 7.41522 9.55611 7.82005L7.70064 19.0001H5.25142Z",fill:"currentColor"}),(0,eaY.jsx)("path",{d:"M13.222 8.63645L14.6794 12.4621L17.439 8.63645H20.0232L16.0356 13.8183L18.3499 19.0001H15.7792L14.2071 15.2689L11.4138 19.0001H8.82289L12.8442 13.8183L10.6311 8.63645H13.222Z",fill:"currentColor"})]}),eaX=(SV(Sz()),SV(S$())),eaJ=t=>(0,eaX.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eaX.jsx)("path",{d:"M8.64494 14H15.3551C15.4494 14.3169 15.5 14.6525 15.5 15C15.5 16.933 13.933 18.5 12 18.5C10.067 18.5 8.5 16.933 8.5 15C8.5 14.6525 8.55064 14.3169 8.64494 14Z",fill:"currentColor"}),(0,eaX.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 5H18V3H6V5H8V9.25469C6.18652 10.5196 5 12.6213 5 15C5 18.866 8.13401 22 12 22C15.866 22 19 18.866 19 15C19 12.6213 17.8135 10.5196 16 9.25469V5ZM14 5H10V10.416C8.2341 11.1876 7 12.9497 7 15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15C17 12.9497 15.7659 11.1876 14 10.416V5Z",fill:"currentColor"})]}),ea0=(SV(Sz()),SV(S$())),ea1=t=>(0,ea0.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ea0.jsx)("path",{d:"M22 20L13 20L13 4L17 4L22 20Z",fill:"currentColor"}),(0,ea0.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 20.0002L7.00013 4L11.0001 4V20.0002H2ZM4.72039 18.0002L8.4705 6H9.00013V18.0002H4.72039Z",fill:"currentColor"})]}),ea2=(SV(Sz()),SV(S$())),ea3=t=>(0,ea2.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ea2.jsx)("path",{d:"M16.2072 5.29292L12.7072 1.7929C12.5197 1.60536 12.2653 1.5 12.0001 1.5C11.7349 1.5 11.4805 1.60536 11.293 1.7929L7.79297 5.29292L9.20719 6.70713L11 4.91431L11 11H4.91431L6.70713 9.20719L5.29292 7.79297L1.7929 11.293C1.60536 11.4805 1.5 11.7349 1.5 12.0001C1.5 12.2653 1.60536 12.5197 1.7929 12.7072L5.29292 16.2072L6.70713 14.793L4.91415 13H11V19.0857L9.20719 17.2929L7.79297 18.7071L11.293 22.2071C11.4805 22.3946 11.7349 22.5 12.0001 22.5C12.2653 22.5 12.5197 22.3946 12.7072 22.2071L16.2072 18.7071L14.793 17.2929L13 19.0859V13L19.0859 13L17.2929 14.793L18.7071 16.2072L22.2071 12.7072C22.3947 12.5197 22.5 12.2653 22.5 12.0001C22.5 11.7349 22.3947 11.4805 22.2071 11.293L18.7071 7.793L17.2929 9.20722L19.0857 11L13 11L13 4.91415L14.793 6.70713L16.2072 5.29292Z",fill:"currentColor"})}),ea5=(SV(Sz()),SV(S$())),ea4=t=>(0,ea5.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ea5.jsx)("path",{d:"M9 6.80269C9.88252 6.29218 10.9071 6 12 6V9H9V6.80269Z",fill:"currentColor"}),(0,ea5.jsx)("path",{d:"M6.80269 9H9V12H6C6 10.9071 6.29218 9.88252 6.80269 9Z",fill:"currentColor"}),(0,ea5.jsx)("path",{d:"M9 17.1973C8.08912 16.6704 7.32961 15.9109 6.80269 15H9V17.1973Z",fill:"currentColor"}),(0,ea5.jsx)("path",{d:"M15 17.1973C14.1175 17.7078 13.0929 18 12 18V15H15V17.1973Z",fill:"currentColor"}),(0,ea5.jsx)("path",{d:"M17.1973 15H15V12H18C18 13.0929 17.7078 14.1175 17.1973 15Z",fill:"currentColor"}),(0,ea5.jsx)("path",{d:"M17.1973 9C16.6704 8.08912 15.9109 7.32961 15 6.80269V9H12V12H9V15H12V12H15V9H17.1973Z",fill:"currentColor"}),(0,ea5.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"})]}),ea6=(SV(Sz()),SV(S$())),ea8=t=>(0,ea6.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ea6.jsx)("path",{d:"M7.41417 3H5.75C4.23122 3 3 4.23122 3 5.75V7.41417L7.41417 3Z",fill:"black"}),(0,ea6.jsx)("path",{d:"M3 13.4145V10.5861L10.5861 3H13.4145L3 13.4145Z",fill:"black"}),(0,ea6.jsx)("path",{d:"M3.18106 19.2334C3.06409 18.9281 3 18.5965 3 18.25V16.5861L16.5861 3H18.25C18.5965 3 18.9281 3.06409 19.2334 3.18106L3.18106 19.2334Z",fill:"black"}),(0,ea6.jsx)("path",{d:"M7.41449 21H5.75C5.40364 21 5.07223 20.936 4.76697 20.8191L20.8191 4.76697C20.936 5.07223 21 5.40364 21 5.75V7.41449L7.41449 21Z",fill:"black"}),(0,ea6.jsx)("path",{d:"M13.4145 21H10.5861L21 10.5861V13.4145L13.4145 21Z",fill:"black"}),(0,ea6.jsx)("path",{d:"M21 16.5861V18.25C21 19.7688 19.7688 21 18.25 21H16.5861L21 16.5861Z",fill:"black"})]}),ea7=(SV(Sz()),SV(S$())),ea9=t=>(0,ea7.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ea7.jsx)("path",{d:"M6.79192 17.2928L10.7919 13.2928L12.2062 14.707L9.91333 16.9999H15.8774C17.8292 16.9999 19.2612 15.1657 18.7879 13.2723L18.0304 10.2424L19.9707 9.75732L20.7282 12.7872C21.5171 15.9429 19.1303 18.9999 15.8774 18.9999H9.91317L12.2062 21.2928L10.7919 22.707L6.79192 18.707C6.60438 18.5195 6.49902 18.2652 6.49902 17.9999C6.49902 17.7347 6.60438 17.4804 6.79192 17.2928Z",fill:"currentColor"}),(0,ea7.jsx)("path",{d:"M17.2062 6.7067L13.2062 10.7072L11.7919 9.29306L14.0845 7.00016H8.12258C6.17115 7.00016 4.73913 8.83383 5.21198 10.7271L5.96893 13.7579L4.02853 14.2425L3.27159 11.2117C2.48349 8.05627 4.87019 5.00016 8.12258 5.00016H14.0851L11.792 2.70727L13.2061 1.29297L17.2061 5.29248C17.3937 5.48001 17.499 5.73435 17.4991 5.99957C17.4991 6.26479 17.3937 6.51915 17.2062 6.7067Z",fill:"currentColor"})]}),ele=(SV(Sz()),SV(S$())),elt=t=>(0,ele.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ele.jsx)("path",{d:"M12 4C7.58172 4 4 7.58172 4 12H2C2 6.47715 6.47715 2 12 2C15.7234 2 18.9697 4.03455 20.691 7.05063L21.5423 4.21288L23.458 4.78758L21.701 10.6441L15.3212 9.48386L15.6791 7.51614L18.9979 8.11971C17.632 5.66179 15.0091 4 12 4Z",fill:"currentColor"}),(0,ele.jsx)("path",{d:"M11.9999 10C13.1045 10 13.9999 10.8954 13.9999 12C13.9999 13.1046 13.1045 14 11.9999 14C10.8953 14 9.99989 13.1046 9.99989 12C9.99989 10.8954 10.8953 10 11.9999 10Z",fill:"currentColor"}),(0,ele.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.19032 13.9505C2.06536 13.3189 2 12.6666 2 12H4C4 12.5356 4.05249 13.0579 4.15229 13.5624L2.19032 13.9505ZM21.4307 15.3332C21.2585 15.8206 21.0496 16.2905 20.8074 16.7397L19.047 15.7905C19.2406 15.4314 19.4075 15.0559 19.545 14.6668L21.4307 15.3332ZM6.44314 20.3151C5.35306 19.5853 4.41474 18.6469 3.68494 17.5569L5.34688 16.4442C5.93123 17.3171 6.68294 18.0688 7.55578 18.6531L6.44314 20.3151ZM18.9572 19.1832C18.2234 19.894 17.3805 20.4937 16.4557 20.9547L15.5635 19.1647C16.3028 18.7962 16.9776 18.3163 17.5656 17.7467L18.9572 19.1832ZM12 22C11.3334 22 10.6811 21.9346 10.0495 21.8097L10.4376 19.8477C10.9421 19.9475 11.4644 20 12 20C12.4181 20 12.8282 19.968 13.2279 19.9065L13.532 21.8832C13.032 21.9602 12.5203 22 12 22Z",fill:"black"})]}),eln=(SV(Sz()),SV(S$())),eli=t=>(0,eln.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eln.jsx)("path",{d:"M7 9V16C7 16.5523 7.44772 17 8 17H15V19H8C6.34315 19 5 17.6569 5 16V9H7Z",fill:"currentColor"}),(0,eln.jsx)("path",{d:"M4 15V19C4 19.5523 4.44772 20 5 20H9V22H5C3.34315 22 2 20.6569 2 19V15H4Z",fill:"currentColor"}),(0,eln.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5C8 3.34315 9.34315 2 11 2H19C20.6569 2 22 3.34315 22 5V13C22 14.6569 20.6569 16 19 16H11C9.34315 16 8 14.6569 8 13V5ZM11 4C10.4477 4 10 4.44772 10 5V13C10 13.5523 10.4477 14 11 14H19C19.5523 14 20 13.5523 20 13V5C20 4.44772 19.5523 4 19 4H11Z",fill:"currentColor"})]}),elr=(SV(Sz()),SV(S$())),els=t=>(0,elr.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,elr.jsx)("path",{d:"M11.2813 3.12136C11.4941 2.40681 12.506 2.40681 12.7189 3.12136L14.3101 8.46391C14.4048 8.78186 14.6971 8.99982 15.0289 8.99982H20.308C21.0186 8.99982 21.3308 9.89616 20.7738 10.3376L16.3939 13.8091C16.1536 13.9996 16.0534 14.3171 16.141 14.611L17.787 20.1375C17.9963 20.8401 17.1769 21.3947 16.6023 20.9393L12.4659 17.6609C12.193 17.4445 11.8071 17.4445 11.5342 17.6609L7.3978 20.9393C6.82325 21.3947 6.00387 20.8401 6.21314 20.1375L7.85918 14.611C7.9467 14.3171 7.84654 13.9996 7.60624 13.8091L3.22629 10.3376C2.66935 9.89616 2.98149 8.99982 3.69215 8.99982H8.97124C9.30299 8.99982 9.59533 8.78186 9.69003 8.46391L11.2813 3.12136Z",fill:"currentColor"})}),elo=(SV(Sz()),SV(S$())),ela=t=>(0,elo.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elo.jsx)("path",{d:"M3 15H21V19.5H3V15Z",fill:"currentColor"}),(0,elo.jsx)("path",{d:"M21 4.5H3V6H21V4.5Z",fill:"currentColor"}),(0,elo.jsx)("path",{d:"M21 9H3V12H21V9Z",fill:"currentColor"})]}),ell=(SV(Sz()),SV(S$())),elc=t=>(0,ell.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ell.jsx)("path",{d:"M12.2324 21.2959C12.5488 21.5771 12.9824 21.7178 13.5332 21.7178C14.9395 21.7178 16.0352 20.7949 16.8203 18.9492C17.316 17.7805 17.9302 15.464 18.6628 12H21V10.5H18.9665L19.0615 9.92285L19.3955 8.64844C19.624 7.76953 19.8701 7.10156 20.1338 6.64453C20.4033 6.1875 20.7021 5.95898 21.0303 5.95898C21.1475 5.95898 21.2295 5.98828 21.2764 6.04688C21.3174 6.11133 21.3379 6.16406 21.3379 6.20508C21.3379 6.23438 21.2881 6.33398 21.1885 6.50391C21.0947 6.66797 21.0478 6.8291 21.0478 6.9873C21.0478 7.21582 21.1357 7.41504 21.3115 7.58496C21.4873 7.75488 21.6953 7.83984 21.9355 7.83984C22.1816 7.83984 22.3926 7.75488 22.5684 7.58496C22.75 7.40918 22.8408 7.17773 22.8408 6.89062C22.8408 6.4043 22.665 6.03809 22.3135 5.79199C21.9678 5.5459 21.5225 5.42285 20.9775 5.42285C20.2978 5.42285 19.6357 5.70117 18.9912 6.25781C18.458 6.72656 18.0186 7.34473 17.6728 8.1123C17.333 8.87402 17.1103 9.47754 17.0049 9.92285L16.8759 10.5H15V12H16.5232L16.0996 13.79C15.3613 17.2588 14.875 19.3506 14.6406 20.0654C14.4062 20.7861 14.0635 21.1465 13.6123 21.1465C13.5244 21.1465 13.4512 21.1289 13.3926 21.0938C13.3281 21.0586 13.2959 21.0088 13.2959 20.9443C13.2959 20.8916 13.3457 20.792 13.4453 20.6455C13.5391 20.5049 13.5859 20.3613 13.5859 20.2148C13.5859 19.9395 13.4951 19.7197 13.3135 19.5557C13.126 19.3975 12.915 19.3184 12.6807 19.3184C12.4404 19.3184 12.2266 19.4062 12.0391 19.582C11.8457 19.7578 11.749 19.9893 11.749 20.2764C11.749 20.6748 11.9102 21.0146 12.2324 21.2959Z",fill:"currentColor"}),(0,ell.jsx)("path",{d:"M15 5H2V8H7V18H10V8H15V5Z",fill:"currentColor"})]}),elu=(SV(Sz()),["//ly.img.ubq/text","//ly.img.ubq/group","//ly.img.ubq/page","//ly.img.ubq/audio","//ly.img.ubq/graphic"]);function eld(t,n,i){return i.map(({name:i,get:r})=>[i,r(t,n)])}var elp=SV(S$()),elh=Xc(Jg(function({engine:t}){let[n]=t.block.findAllSelected(),{viewStyle:i}=Kb();return(0,elp.jsx)(erK,{id:"//ly.img.panel/inspector/placeholderSettings",group:"defaultUIInspectors",context:"advanced"===i?"back":"close",children:({setIsOpen:t})=>null==n?null:(0,elp.jsx)(elf,{block:n,setIsOpen:t},n)})})),elf=Xc(Jg(function({engine:t,block:n,setIsOpen:i}){let{t:r}=qL(),s=KU(),o=JH(),a=(0,eaF.useMemo)(()=>[{name:"layer-options",label:r("component.placeholder.general"),description:r("component.placeholder.general.description"),show:(t,n)=>!("Video"===t.scene.getMode()&&"//ly.img.ubq/page"===t.block.getType(n)),entries:[{scope:eel,label:r("scope.layer.opacity"),icon:ea4,show:(t,n)=>t.block.supportsOpacity(n)},{scope:eec,label:r("scope.layer.blendMode"),icon:eaV,show:(t,n)=>{let i=t.block.getType(n);return"//ly.img.ubq/audio"!==i&&"//ly.img.ubq/page"!==i&&t.block.supportsBlendMode(n)}},{scope:eeC,label:r("scope.lifecycle.duplicate"),icon:eaZ},{scope:eew,label:r("scope.lifecycle.destroy"),icon:esZ}]},{name:"arrange",label:r("component.placeholder.arrange"),description:r("component.placeholder.arrange.description"),show:(t,n)=>"//ly.img.ubq/page"!==t.block.getType(n),entries:[{scope:eei,label:r("scope.layer.move"),icon:ea3},{scope:eer,label:r("scope.layer.resize"),icon:eli},{scope:ees,label:r("scope.layer.rotate"),icon:elt,show:(t,n)=>"//ly.img.ubq/audio"!==t.block.getType(n)},{scope:eeo,label:r("scope.layer.flip"),icon:ea1,show:(t,n)=>"//ly.img.ubq/audio"!==t.block.getType(n)}]},{name:"fill",label:r("component.placeholder.fill"),description:r("component.placeholder.fill.description"),show:(t,n)=>"//ly.img.ubq/audio"===t.block.getType(n),entries:[{name:`scope-${eey}`,label:r("scope.fill.change"),icon:ea9,set:(t,n,i)=>{t.block.setScopeEnabled(n,eey,i)},get:(t,n)=>t.block.isScopeEnabled(n,eey)}]},{name:"fill",label:r("component.placeholder.fill"),description:r("component.placeholder.fill.description"),show:(t,n)=>t.block.supportsFill(n)&&"sticker"!==t.block.getKind(n),entries:[{name:`scope-${eey}`,label:r("scope.fill.change"),icon:ea9,set:(t,n,i)=>{if(t.block.setScopeEnabled(n,eey,i),!0===i)return;t.block.setScopeEnabled(n,eev,!1);let r=t.block.getFill(n);t.block.supportsPlaceholderBehavior(r)&&t.block.setPlaceholderBehaviorEnabled(r,!1),t.block.supportsPlaceholderControls(n)&&(t.block.setPlaceholderControlsButtonEnabled(n,!1),t.block.setPlaceholderControlsOverlayEnabled(n,!1))},get:(t,n)=>t.block.isScopeEnabled(n,eey)},{name:`scope-${eev}`,label:r("scope.fill.changeType"),icon:ea9,indentation:!0,show:(t,n)=>{let i=t.block.getType(n);return"//ly.img.ubq/graphic"===i||"//ly.img.ubq/page"===i},isDisabled:(t,n)=>!t.block.isScopeEnabled(n,"fill/change"),set:(t,n,i)=>{t.block.setScopeEnabled(n,eev,i)},get:(t,n)=>t.block.isScopeEnabled(n,eev)},{name:"act-as-placeholder",label:r("property.placeholderBehavior.description"),icon:ea8,indentation:!0,show:(t,n)=>{let i=t.block.getFill(n);return t.block.supportsPlaceholderBehavior(i)},isDisabled:(t,n)=>!t.block.isScopeEnabled(n,"fill/change"),get:(t,n)=>{let i=t.block.getFill(n);return t.block.supportsPlaceholderBehavior(i)&&t.block.isPlaceholderBehaviorEnabled(i)&&t.block.isPlaceholderControlsButtonEnabled(n)&&t.block.isPlaceholderControlsOverlayEnabled(n)},set:(t,n,i)=>{let r=t.block.getFill(n);t.block.supportsPlaceholderBehavior(r)&&(t.block.setPlaceholderBehaviorEnabled(r,i),t.block.setPlaceholderControlsButtonEnabled(n,i),t.block.setPlaceholderControlsOverlayEnabled(n,i))}},{scope:eea,label:r("scope.layer.crop"),icon:eaG,show:(t,n)=>t.block.supportsCrop(n)}]},{name:"shape",label:r("component.placeholder.shape"),description:r("component.placeholder.shape.description"),show:(t,n)=>{let i=t.block.supportsShape(n)?t.block.getShape(n):void 0,r=null!=i&&t.block.isValid(i)?t.block.getType(i):void 0;return!("sticker"===t.block.getKind(n)||"//ly.img.ubq/shape/line"!==r&&"//ly.img.ubq/shape/star"!==r&&"//ly.img.ubq/shape/polygon"!==r&&"//ly.img.ubq/shape/rect"!==r)},entries:[{scope:eeA,label:r("scope.shape.change"),icon:els}]},{name:"stroke",label:r("component.placeholder.stroke"),description:r("component.placeholder.stroke.description"),show:(t,n)=>{let i=t.block.supportsShape(n)?t.block.getShape(n):void 0,r=null!=i&&t.block.isValid(i)&&"//ly.img.ubq/shape/line"===t.block.getType(i);return t.block.supportsStroke(n)&&"sticker"!==t.block.getKind(n)&&!r},entries:[{scope:eeb,label:r("scope.stroke.change"),icon:ela}]},{name:"text",label:r("component.placeholder.text"),description:r("component.placeholder.text.description"),show:(t,n)=>"//ly.img.ubq/text"===t.block.getType(n),entries:[{name:eeg,label:r("scope.text.edit"),icon:HY,get:(t,n)=>t.block.isScopeEnabled(n,eeg),set:(t,n,i)=>{t.block.setScopeEnabled(n,eeg,i),!i&&t.block.supportsPlaceholderBehavior(n)&&t.block.setPlaceholderBehaviorEnabled(n,!1)}},{name:"act-as-placeholder",label:r("property.placeholderBehavior.description"),icon:ea8,indentation:!0,isDisabled:(t,n)=>!t.block.isScopeEnabled(n,"text/edit"),get:(t,n)=>t.block.supportsPlaceholderBehavior(n)&&t.block.isPlaceholderBehaviorEnabled(n),set:(t,n,i)=>{t.block.supportsPlaceholderBehavior(n)&&t.block.setPlaceholderBehaviorEnabled(n,i)}},{scope:eex,label:r("scope.text.character"),icon:elc}]},{name:"appearance",label:r("component.placeholder.appearance"),description:r("component.placeholder.appearance.description"),show:(t,n)=>t.block.supportsEffects(n)||t.block.supportsBlur(n)||t.block.supportsDropShadow(n),entries:[{scope:eeu,label:r("scope.appearance.adjustments"),icon:eaN,show:(t,n)=>t.block.supportsEffects(n)&&"sticker"!==t.block.getKind(n)},{scope:eed,label:r("scope.appearance.filter"),icon:eaJ,show:(t,n)=>t.block.supportsEffects(n)&&"sticker"!==t.block.getKind(n)},{scope:eep,label:r("scope.appearance.effect"),icon:eaK,show:(t,n)=>t.block.supportsEffects(n)&&"sticker"!==t.block.getKind(n)},{scope:eeh,label:r("scope.appearance.blur"),icon:eaQ,show:(t,n)=>t.block.supportsBlur(n)&&"sticker"!==t.block.getKind(n)},{scope:eef,label:r("scope.appearance.shadow"),icon:eaW,show:(t,n)=>"//ly.img.ubq/page"!==t.block.getType(n)&&t.block.supportsDropShadow(n)},{scope:eem,label:r("scope.appearance.animations"),icon:esi,show:(t,n)=>{let i=t.block.getType(n);return"Video"===t.scene.getMode()&&("//ly.img.ubq/graphic"===i||"//ly.img.ubq/text"===i)}}]}].filter(i=>!i.show||i.show?.(t,n,o)).map(i=>({...i,entries:i.entries.filter(i=>!i.show||i.show?.(t,n,o))})).map(t=>({...t,entries:t.entries.map(t=>{if("scope"in t){let{scope:n,...i}=t;return{...i,name:`scope-${n}`,set:(t,i,r)=>t.block.setScopeEnabled(i,n,r),get:(t,i)=>t.block.isScopeEnabled(i,n)}}return t})})),[n,o,t,r]),l=(0,eaF.useMemo)(()=>a.reduce((t,n)=>t.concat(n.entries),[]),[a]),c=t.block.isValid(n)&&l.every(({get:i})=>i(t,n)),u=(0,eaF.useCallback)(()=>l.map(({set:i})=>i(t,n,!c)),[l,c,n,t]),d=(0,eaF.useRef)(!1),p=(0,eaF.useCallback)(()=>{d.current=!0,function(t,n,i){let r=t.block.isPlaceholderEnabled(n),s=i.some(({get:i})=>i(t,n));!s||r?!s&&r&&t.block.setPlaceholderEnabled(n,!1):t.block.setPlaceholderEnabled(n,!0)}(t,n,l)},[l,n,t]);return(0,eaF.useEffect)(()=>{let i=t.block.isPlaceholderEnabled(n),r=eld(t,n,l);return()=>{if(!d.current||!t.block.isValid(n))return;let o=t.block.isPlaceholderEnabled(n);if(!i&&o)return void s("action.placeholder.create");if(i&&!o)return void s("action.placeholder.remove");let a=eld(t,n,l);(0,eaD.default)(r,a)||s("action.placeholder.change")}},[l,n,s,t]),(0,eaF.useEffect)(()=>t.block.onSelectionChanged(()=>{0===t.block.findAllSelected().length&&i(!1)}),[t.block,i]),(0,elp.jsxs)(elp.Fragment,{children:[(0,elp.jsx)(erK.Header,{action:(0,elp.jsx)(DR,{name:c?"disable-all":"enable-all",onClick:()=>{u(),p()},children:r(c?"component.placeholder.disableAll":"component.placeholder.enableAll")}),children:(0,elp.jsx)(erK.Title,{children:r("component.placeholder.create")})}),(0,elp.jsx)(erK.Content,{children:a.map(t=>(0,elp.jsx)(elm,{block:n,...t,onChange:p},t.name))})]})})),elm=Jg(({label:t,description:n,name:i,entries:r,block:s,onChange:o})=>{let a=Ju(),l=a.block.isValid(s)?r.map(t=>t.get(a,s)):void 0,c=l?.some(Boolean)??!1,u=l?.every(Boolean)??!1;return(0,elp.jsx)(H8,{title:t,headingAreaRight:(0,elp.jsx)(Ud,{name:`enable-all-${i}-checkbox`,label:n,onChange:t=>{r.forEach(n=>n.set(a,s,t)),o()},hideLabel:!0,checked:u,indeterminate:c&&!u}),children:(0,elp.jsx)(Uu,{children:r.map(t=>(0,elp.jsx)(elg,{entry:t,block:s,onChange:o},t.name))})})}),elg=Jg(({entry:t,block:n,onChange:i})=>{let r=Ju(),s=r.block.isValid(n),{name:o,label:a,icon:l,indentation:c}=t,u=`enable-${o}-checkbox`,d=s&&t.get(r,n),p=!("scope"in t)&&s&&!!t.isDisabled?.(r,n);return(0,elp.jsx)(Ud,{name:u,className:c?"UBQ_PlaceholderSettings-module__indentedCheckbox--j5RrA":"UBQ_PlaceholderSettings-module__checkbox--GACd3",label:a,icon:(0,elp.jsx)(l,{}),checked:d,onChange:s=>{t.set(r,n,s),i()},isDisabled:p},u)}),elx={Panel:elh,Button:Xc(Jg(function({engine:t,tooltip:n,children:i,...r}){let{t:s}=qL(),[o,a]=erU("//ly.img.panel/inspector/placeholderSettings",KA()),[l]=t.block.findAllSelected();if(!l)return null;let c=t.block.isPlaceholderEnabled(l),u=(0,elp.jsx)(DR,{className:(0,eaR.default)({"UBQ_PlaceholderSettings-module__placeholderPopoverButton--OBw2i":c}),icon:(0,elp.jsx)(eaP,{}),"aria-label":s("component.placeholder.settings"),name:"placeholdersettings-configure_placeholder",variant:"regular","data-cy":"placeholder-settings",onClick:()=>a(!o),...r,children:i});return n?(0,elp.jsx)(U6,{label:n,children:u}):u}))},ely=SV(SH());function elv(t){switch(t){case"Pixel":return"px";case"Millimeter":return"mm";case"Inch":return"in";default:throw Error(`Unknown unit: ${t}`)}}var elb=t=>t.map((t,n)=>({...t,position:t.stop,id:n.toString(),index:n})),elA=(t,n)=>{let i;if(t.length!==n.length)return elb(n);let r=t.slice(),s=n.slice(),o=[];if(s.forEach((t,n)=>{let s=r.findIndex(n=>n.stop===t.stop);-1!==s?(o.push({...t,index:n,id:r[s].id}),r.splice(s,1)):i=n}),void 0!==i){if(1!==r.length)return elb(n);o.push({...s[i],index:i,id:r[0].id})}return o},elw=({stop:t},{stop:n})=>t<n?-1:t>n?1:0,elC=(t,n,i)=>{let r=t;if(n>i||i<n||n===i)throw Error("Parameter `min` must be smaller than `max`");for(;r<=n;)r+=i-n;for(;r>i;)r-=i-n;return r},el_=(t,n)=>{let i=(t.end.x-t.start.x)*n;return elC(180*Math.atan2(t.end.y-t.start.y,i)/Math.PI-90,-180,180)},elS=t=>{let n=Math.max(Math.abs(t.x),Math.abs(t.y));return 0===n?{x:.5,y:.5}:{x:t.x/n*.5+.5,y:t.y/n*.5+.5}},elk=Math.sqrt(2),elE=(t,n)=>{let i=(t+90)/180*Math.PI;return{start:elS({x:Math.cos(i+Math.PI)/n*elk,y:Math.sin(i+Math.PI)*elk}),end:elS({x:Math.cos(i)/n*elk,y:Math.sin(i)*elk})}},elM=(SV(Sz()),SV(S$())),elI=t=>(0,elM.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elM.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7689 2.36057L12 3L11.2311 2.36057C11.4211 2.13213 11.7029 2 12 2C12.2971 2 12.5789 2.13213 12.7689 2.36057ZM12 4.56352C11.6124 5.02923 11.1118 5.63062 10.5781 6.27133C9.40318 7.68166 8.06546 9.28548 7.42142 10.0505C6.53464 11.1039 6 12.4657 6 13.9565C6 17.3001 8.69212 20 12 20C15.3079 20 18 17.3001 18 13.9565C18 12.4657 17.4654 11.1039 16.5786 10.0505C15.9345 9.28548 14.5968 7.68166 13.4219 6.27133C12.8882 5.63062 12.3876 5.02923 12 4.56352ZM12 3L11.2311 2.36057L10.577 3.14687C10.1764 3.62823 9.62894 4.28591 9.04139 4.99122C7.86547 6.40281 6.53141 8.00223 5.89142 8.76244C4.71161 10.1639 4 11.9783 4 13.9565C4 18.393 7.57589 22 12 22C16.4241 22 20 18.393 20 13.9565C20 11.9783 19.2884 10.1639 18.1086 8.76244C17.4686 8.00223 16.1345 6.40281 14.9586 4.99122C14.3711 4.28591 13.8236 3.62823 13.423 3.14687L12.7689 2.36057L12 3Z",fill:"currentColor"}),(0,elM.jsx)("path",{d:"M12.0221 4.59033L12.7817 7.62846C13.2334 9.43521 12.8047 11.3491 11.6253 12.7905C10.0502 14.7157 9.85318 17.4226 11.133 19.5556L11.3804 19.9679C11.584 19.9889 11.7905 19.9997 11.9996 19.9997C15.3075 19.9997 17.9996 17.2998 17.9996 13.9562C17.9996 12.4654 17.4649 11.1036 16.5782 10.0502C15.9341 9.28519 14.5964 7.68137 13.4215 6.27104C12.8981 5.64269 12.4065 5.05216 12.0221 4.59033Z",fill:"currentColor"})]}),elT=SV(Sz()),elB=SV(SH()),elL=SV(Sz()),elj=SV(S$());function elP({label:t,icon:n,isPropertyEnabled:i,active:r=!1,activeStateStyle:s="pill",buttonContent:o,renderButton:a,...l}){let{t:c}=qL();return(0,elj.jsx)(elD,{renderButton:a??function({isActive:a,...l}){return(0,elj.jsx)(DR,{variant:a?"regular":"plain",icon:(0,elj.jsxs)(UU,{className:(0,elB.default)("UBQ_SubInspector-module__iconStack--EjCg8",{"UBQ_SubInspector-module__disabled--ew-Kp":!i}),children:[n,!i&&(0,elj.jsx)(Uz,{})]}),isActive:r,activeStateStyle:s,...l,children:o??t})},label:t,closeButtonIcon:VC,closeButtonLabel:c("common.close"),isPropertyEnabled:i,...l})}function elR({onReset:t,isDisabled:n,dataCy:i}){let{t:r}=qL();return t?(0,elj.jsxs)(DR,{name:"reset",onClick:t,"aria-label":r("common.reset"),"data-cy":`reset-${i}-subInspector`,variant:"plain",isDisabled:n,children:[r("common.reset"),(0,elj.jsx)(esC,{})]}):null}var elD=Xc(function({panelId:t,groupId:n,isOpen:i,setIsOpen:r,onClose:s,onReset:o,resettable:a,label:l,ariaLabel:c,tooltip:u,children:d,"data-cy":p,isDisabled:h,headerActions:f,renderButton:m,onOpenStateChanged:g}){let x=Vx(s),y=Vx(g),v=erz("//ly.img.panel/inspector"),[b,A]=erU(t,KA()),w=Vx(r),C=enF(),_=erQ("//ly.img.panel/inspector"),S=i??b,k=w??A,[E,M]=(0,elL.useState)(!1),I=(0,elL.useCallback)(()=>{let t=!S;k(t),y?.(t),!1===t&&x?.()},[S,k,x,y]);VE(()=>{M(()=>S)},S?200:void 0);let T={name:l,"aria-label":c??l,"data-cy":p,onClick:I,isDisabled:h,isActive:S};return(0,elj.jsxs)(elj.Fragment,{children:[(0,elj.jsxs)(erK,{id:t,"data-cy":"subinspector-panel",group:n,panelPosition:C?"left":v,focusTrapActive:E,show:S,floating:_,onClose:()=>{w?.(!1),g?.(!1),x?.()},children:[(0,elj.jsx)(erK.Header,{action:(0,elj.jsxs)(elj.Fragment,{children:[(0,elj.jsx)(elR,{onReset:o,isDisabled:!a,dataCy:p}),f]}),children:(0,elj.jsx)(erK.Title,{children:l})}),(0,elj.jsx)(erK.Content,{children:d})]}),u?(0,elj.jsx)(U6,{label:u,children:m(T)}):m(T)]})}),elF=function({label:t,valueLabel:n,active:i=!1,activeStateStyle:r="pill",buttonContent:s,renderButton:o,...a}){let{t:l}=qL();return(0,elj.jsx)(elD,{renderButton:o??function({isActive:t,...o}){return(0,elj.jsxs)(DR,{variant:"regular",icon:(0,elj.jsx)(UU,{children:a.icon}),isActive:i,activeStateStyle:r,...o,children:[s??n,(0,elj.jsx)(ei7,{})]})},label:t,closeButtonLabel:l("common.back"),...a})};SV(Sz());var elO=SV(SH()),elN=SV(Sz()),elU=(SV(Sz()),SV(S$())),elV=(SV(Sz()),SV(S$())),elH=(SV(Sz()),SV(S$())),elQ=(SV(Sz()),SV(S$())),elz=t=>(0,elQ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elQ.jsx)("circle",{cx:12,cy:12,r:6,fill:"currentColor"}),(0,elQ.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"})]}),elG=SV(Sz()),elq={button:"UBQ_ColorModeSelect-module__button--8-8sX"},elW=SV(S$()),el$=["Linear"],elZ={Linear:(0,elW.jsx)(t=>(0,elV.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elV.jsx)("mask",{id:"mask0_14831_137531",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:6,width:12,height:12,children:(0,elV.jsx)("rect",{x:6,y:6,width:12,height:12,fill:"url(#paint0_linear_14831_137531)"})}),(0,elV.jsx)("g",{mask:"url(#mask0_14831_137531)",children:(0,elV.jsx)("circle",{cx:12,cy:12,r:6,fill:"currentColor"})}),(0,elV.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),(0,elV.jsx)("defs",{children:(0,elV.jsxs)("linearGradient",{id:"paint0_linear_14831_137531",x1:12,y1:6,x2:12,y2:18,gradientUnits:"userSpaceOnUse",children:[(0,elV.jsx)("stop",{}),(0,elV.jsx)("stop",{offset:1,stopOpacity:0})]})})]}),{},"ColorGradientLinearIcon"),Radial:(0,elW.jsx)(t=>(0,elH.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elH.jsx)("mask",{id:"mask0_17662_188295",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:6,width:12,height:12,children:(0,elH.jsx)("rect",{x:6,y:6,width:12,height:12,fill:"url(#paint0_radial_17662_188295)"})}),(0,elH.jsx)("g",{mask:"url(#mask0_17662_188295)",children:(0,elH.jsx)("circle",{cx:12,cy:12,r:6,fill:"currentColor"})}),(0,elH.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),(0,elH.jsx)("defs",{children:(0,elH.jsxs)("radialGradient",{id:"paint0_radial_17662_188295",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12 12) rotate(90) scale(6)",children:[(0,elH.jsx)("stop",{}),(0,elH.jsx)("stop",{offset:1,stopOpacity:0})]})})]}),{},"ColorGradientRadialIcon"),Conical:(0,elW.jsx)(t=>(0,elU.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,elU.jsx)("mask",{id:"mask0_14831_137532",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:6,width:12,height:12,children:(0,elU.jsx)("rect",{x:18,y:18,width:12,height:12,transform:"rotate(180 18 18)",fill:"url(#paint0_angular_14831_137532)"})}),(0,elU.jsx)("g",{mask:"url(#mask0_14831_137532)",children:(0,elU.jsx)("circle",{cx:12,cy:12,r:6,fill:"currentColor"})}),(0,elU.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"}),(0,elU.jsx)("defs",{children:(0,elU.jsxs)("radialGradient",{id:"paint0_angular_14831_137532",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(24 24) rotate(90) scale(6)",children:[(0,elU.jsx)("stop",{}),(0,elU.jsx)("stop",{offset:1,stopOpacity:0})]})})]}),{},"ColorGradientAngularIcon")},elY=t=>({Linear:t("property.fillType.gradient"),Radial:t("property.gradientType.radial"),Conical:t("property.gradientType.conical")}),elK=t=>({Linear:t("property.fillType.gradient.description"),Radial:t("property.gradientType.radial.description"),Conical:t("property.gradientType.conical.description")});function elX({mode:t,setMode:n,isDisabled:i=!1}){let{t:r}=qL(),s=KU(),o=(0,elG.useMemo)(()=>elY(r),[]),a=(0,elG.useMemo)(()=>elK(r),[]),l=r("property.fillType.solid.description"),c=r("property.fillType.solid");return(0,elW.jsx)(Qe,{children:(0,elW.jsxs)(Ou,{equalWidth:!0,children:[(0,elW.jsx)(DR,{icon:(0,elW.jsx)(elz,{},"ColorSolidIcon"),name:"fillType-solid",className:elq.button,"aria-label":l,isActive:"Solid"===t,isDisabled:i,onClick:()=>{n("Solid"),s("action.property.update")},children:(0,elW.jsx)("span",{children:c})}),el$.map(r=>(0,elW.jsx)(DR,{icon:elZ[r],name:r.toString(),className:elq.button,"aria-label":a[r],isActive:"Gradient"===t,isDisabled:i,onClick:()=>{n("Gradient"),s("action.property.update")},children:(0,elW.jsx)("span",{children:o[r]})},r))]})})}var elJ={block:"UBQ_ColorSelection-module__block--hQIfN",noPopover:"UBQ_ColorSelection-module__noPopover--K51bl",sectionRow:"UBQ_ColorSelection-module__sectionRow--R-VVL",multilineSectionRow:"UBQ_ColorSelection-module__multilineSectionRow--SB1m7",header:"UBQ_ColorSelection-module__header--59n9c",heading:"UBQ_ColorSelection-module__heading--3lEKT",section:"UBQ_ColorSelection-module__section--R1UZS",hueSlider:"UBQ_ColorSelection-module__hueSlider--WQXI2",opacitySlider:"UBQ_ColorSelection-module__opacitySlider--PI-Wu"},el0=SV(SH()),el1=SV(Sz()),el2=SV(kk()),el3="UBQ_GradientControls-module__active--2mERW",el5=SV(Sz()),el4=(t,n,i)=>{let{position:r}=n.payload,{internalGradientStops:s,dragTarget:o,activeStopIndex:a}=t,l=s.slice(),c=l.findIndex(({id:t})=>t===o);if(-1===c||(l[c]={...l[c],stop:H1(r,0,1)},l.map(({stop:t})=>t).sort().some((t,n,i)=>0!==n&&t-i[n-1]<.001)))return t;let u=l.slice().sort(elw).map((t,n)=>({...t,index:n})),d=a;return u.some(({id:t,index:n})=>t===o&&n!==a&&(d=n,!0)),i(u.map(t=>({stop:t.stop,color:t.color}))),{...t,internalGradientStops:u,activeStopIndex:d}},el6=t=>(n,i)=>{switch(i.type){case 0:return{...n,activeStopIndex:i.payload};case 3:return{...n,activeStopIndex:i.payload.index,dragTarget:i.payload.id};case 4:return{...n,dragTarget:""};case 5:return{...n,internalGradientStops:elA(n.internalGradientStops,i.payload)};case 1:return el4(n,i,t);case 2:return((t,n,i)=>{let{id:r,index:s,position:o}=n.payload;return{...el4({...t,activeStopIndex:s,dragTarget:r},{type:1,payload:{position:o}},i),dragTarget:""}})(n,i,t);default:return n}},el8=t=>({type:0,payload:t}),el7=(t,n,i)=>({type:2,payload:{id:t,index:n,position:i}}),el9=[],ece=()=>{},ect=({gradientStops:t=el9,setGradientStops:n=ece,initialState:i})=>{let[r,s]=(0,el5.useReducer)(el6(n),i);return(0,el5.useEffect)(()=>{""===r.dragTarget&&s({type:5,payload:t})},[t,r.dragTarget]),[r,s]},ecn=SV(S$()),eci=Jg(function({engine:t,gradientStops:n,controlPoints:i,setControlPoints:r,state:s,dispatch:o,aspectRatio:a,isDisabled:l}){let{t:c}=qL(),u=(0,el1.useMemo)(()=>Y_(n?.map(t=>t.color)??[],t.editor),[n,t.editor]),{activeStopIndex:d,dragTarget:p,internalGradientStops:h}=s,[f,m]=(0,el1.useState)(0),[g,x]=(0,el1.useState)(0),y=t=>{0===g&&null!==t&&x(t.offsetWidth)};return(0,ecn.jsxs)(ecn.Fragment,{children:[(0,ecn.jsxs)("div",{ref:t=>{null!==t&&m(t.offsetWidth-g)},className:(0,el0.default)("UBQ_GradientControls-module__gradientBar--8VRnB",{"UBQ_GradientControls-module__disabled--6bEIv":l}),children:[(0,ecn.jsx)("div",{className:"UBQ_GradientControls-module__gradientBackground--dM7wA",style:{background:UM(u)},children:"\xa0"}),0!==f&&h.sort(({id:t},{id:n})=>t.localeCompare(n)).map(n=>{let{id:i,index:r,stop:s,color:a}=n,u=r===d,m=Y_(a,t.editor),{name:x,hex:v}=Yp(m);return(0,ecn.jsx)(el2.default,{axis:"x",bounds:"parent",disabled:l,position:{x:s*f,y:0},onStart:()=>{o({type:3,payload:{id:i,index:r}})},onDrag:(t,n)=>{o({type:1,payload:{position:n.x/f}})},onStop:()=>{setTimeout(()=>{o({type:4})},20)},children:(0,ecn.jsx)("button",{type:"button",name:`color-stop-${i}`,"aria-label":c("input.gradient.colorStop.description",{stopType:c(u?"input.gradient.colorStop.active":"input.gradient.colorStop"),index:r+1,total:h.length,position:(100*s).toFixed(0),colorName:x,colorValue:v,action:u?"":` ${c("input.gradient.activateColorStop")}`}),ref:0===g?y:void 0,className:(0,el0.default)({"UBQ_GradientControls-module__grabbing--GE-pj":p===i,[el3]:r===d}),style:{background:UE(m)},disabled:l,onClick:()=>{""===p&&o(el8(r))},onKeyDown:t=>{"ArrowLeft"===t.key?o(el7(i,r,s-1/16)):"ArrowRight"===t.key&&o(el7(i,r,s+1/16))},children:(0,ecn.jsx)("div",{className:(0,el0.default)("UBQ_GradientControls-module__doubleBorder--QAqgA",{[el3]:u})})})},i)})]}),(0,ecn.jsxs)(Qe,{children:[(0,ecn.jsx)(Uo,{htmlFor:"gradient-angle",isDisabled:l,children:c("input.gradient.gradientAngle")}),(0,ecn.jsx)(Vz,{name:"gradient-angle",id:"gradient-angle",value:el_(i,a),isDisabled:l,onChange:t=>{void 0!==t&&r({...i,...elE(t,a)})},unitLabel:"\xb0",min:-360,max:360,step:1}),(0,ecn.jsx)(DR,{name:"rotate-angle","aria-label":c("input.gradient.rotate"),className:"UBQ_GradientControls-module__smallButton--YgOFv",isDisabled:l,onClick:()=>{r({...i,...elE(el_(i,a)+45,a)})},children:(0,ecn.jsx)(elt,{})})]})]})}),ecr=SV(S$());function ecs({colorSpace:t,color:n,setColor:i,hsvColor:r,setHSVColor:s,rgbaColor:o,isPropertyEnabled:a,includeAlpha:l=!0,onRelease:c}){let{t:u}=qL(),d=Ju();(0,elN.useEffect)(()=>{var t,n;let i=Yu(o);t=Yd(i,4),n=Yd(r,4),(t.h!==n.h||t.s!==n.s||t.v!==n.v)&&(0===i.s&&(i.h=r.h),0===i.v&&(i.s=r.s),(0===i.h&&1===r.h||1===i.h&&0===r.h)&&(i.h=r.h),s(i))},[n]);let p=(0,elN.useCallback)((n,r)=>{let a={...function(t){let{h:n,s:i,v:r}=t,s=Math.floor(6*n),o=6*n-s,a=r*(1-i),l=r*(1-o*i),c=r*(1-(1-o)*i),u=0,d=0,p=0;switch(s%6){case 0:u=r,d=c,p=a;break;case 1:u=l,d=r,p=a;break;case 2:u=a,d=r,p=c;break;case 3:u=a,d=l,p=r;break;case 4:u=c,d=a,p=r;break;case 5:u=r,d=a,p=l}return{r:u,g:d,b:p}}(n),a:r??o.a};"CMYK"===t?i(d.editor.convertColorToColorSpace(a,"CMYK")):i(a),s(n)},[t,d.editor,o.a,i,s]),h=function(t){let{r:n,g:i,b:r}=t,s=Math.max(n,i,r),o=Math.min(n,i,r),a=0,l=0,c=(s+o)/2;if(s===o)l=0,a=0;else{let t=s-o;switch(l=c>.5?t/(2-s-o):t/(s+o),s){case n:a=(i-r)/t+(i<r?6:0);break;case i:a=(r-n)/t+2;break;case r:a=(n-i)/t+4}a/=6}return{h:a,s:l,l:c}}(o),{name:f}=Yp(o),m=u("component.colorPicker.hsl.description",{componentName:u("component.colorPicker.hueGradient"),nearestColorName:f,hue:(360*h.h).toFixed(2),saturation:(100*h.s).toFixed(2),lightness:(100*h.l).toFixed(2)}),g=`${u("common.hue")}: ${Yd(r,2).h}`;return(0,ecr.jsxs)(ecr.Fragment,{children:[(0,ecr.jsx)(VA,{value:r,onChange:t=>{p(t,l&&0===o.a?1:o.a)},className:elJ.saturationBrightnessSelector,"aria-label":m,isDisabled:!a,onRelease:c}),(0,ecr.jsx)(Qe,{className:elJ.sectionRow,children:(0,ecr.jsx)(er2,{label:u("common.hue"),name:"hue",min:0,max:1,step:.01,value:r.h,onChange:t=>{p({...r,h:t??0})},hideTrackBackground:!0,"aria-label":g,className:elJ.hueSlider,isDisabled:!a,onRelease:c})})]})}function eco({color:t,rgbaColor:n,onOpacityChange:i,onTintChange:r,isDisabled:s=!1,includeAlpha:o=!0,onRelease:a}){let{t:l}=qL();return(0,ecr.jsxs)(ecr.Fragment,{children:[nm(t)&&o&&(0,ecr.jsx)(Qe,{className:elJ.sectionRow,children:(0,ecr.jsx)(er2,{label:l("common.opacity"),name:"opacity","data-cy":"opacitySlider",min:0,max:1,step:.01,value:t.a,onChange:t=>{i?.(t)},hideTrackBackground:!0,style:{backgroundImage:`linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(${255*t.r}, ${255*t.g}, ${255*t.b}, 1) 100%), url('${zN}')`},className:elJ.opacitySlider,"aria-label":`${l("common.opacity")}: ${t.a}`,isDisabled:s,onRelease:a})}),!nm(t)&&(0,ecr.jsx)(Qe,{className:elJ.sectionRow,children:(0,ecr.jsx)(er2,{label:l("common.tint"),name:"opacity","data-cy":"tintSlider",min:0,max:1,step:.01,value:t.tint,onChange:t=>{r?.(t)},hideTrackBackground:!0,style:{backgroundImage:`linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(${255*n.r}, ${255*n.g}, ${255*n.b}, 1) 100%)`},className:elJ.opacitySlider,"aria-label":`${l("common.tint")}: ${t.tint}`,isDisabled:s,onRelease:a})})]})}function eca({color:t,onColorChange:n,isDisabled:i=!1,onRelease:r}){let{t:s}=qL(),o=i=>r=>{if(void 0===r)return;let s=Math.min(255,Math.max(0,Number(r||0)));n({...t,[i]:s/255})};return(0,ecr.jsxs)(ecr.Fragment,{children:[(0,ecr.jsx)(Qe,{className:elJ.sectionRow,children:(0,ecr.jsx)(VP,{name:"hex",label:"Hex",inline:!1,bottom:!0,isDisabled:i,children:o=>(0,ecr.jsx)(Vu,{innerLabel:"#","data-cy":"hexInput",value:t,onChange:t=>{n(t)},...o,"aria-label":t=>`${s("component.colorPicker.colorItem.hexInput")}: ${t}`,isDisabled:i,onRelease:r})})}),(0,ecr.jsxs)(Qe,{className:elJ.sectionRow,children:[(0,ecr.jsx)(Uo,{isDisabled:i,children:"RGB"}),(0,ecr.jsx)(Oh,{children:["r","g","b"].map(n=>{let a=Yb(s,n);return(0,ecr.jsx)(Vz,{name:`rgb-${n}`,unitLabel:n.toUpperCase(),tooltipLabel:a,"data-cy":`rgb-${n}`,min:0,max:255,"aria-label":`${a} ${Math.round(255*t[n])}`,value:Math.round(255*t[n]),onChange:o(n),onRelease:r,isDisabled:i},n)})})]})]})}function ecl({color:t,onColorChange:n,isDisabled:i=!1,onRelease:r}){let{t:s}=qL(),o=i=>r=>{if(void 0===r)return;let s=Math.min(100,Math.max(0,Number(r||0)));n({...t,[i]:s/100})};return(0,ecr.jsxs)(Qe,{className:(0,elO.default)(elJ.sectionRow,elJ.multilineSectionRow),children:[(0,ecr.jsx)(Uo,{isDisabled:i,children:"CMYK"}),(0,ecr.jsx)(Og,{children:["c","m","y","k"].map(n=>{let a=Yv(s,n);return(0,ecr.jsx)(Vz,{name:`cmyk-${n}`,unitLabel:n.toUpperCase(),tooltipLabel:a,"data-cy":`cmyk-${n}`,min:0,max:100,"aria-label":`${a} ${Math.round(100*t[n])}`,value:Math.round(100*t[n]),onChange:o(n),onRelease:r,isDisabled:i},n)})})]})}var ecc=function({name:t,colorMode:n="Solid",setColorMode:i,color:r,setColor:s,includeAlpha:o,isDisabled:a=!1,isPropertyEnabled:l=!0,label:c,"aria-label":u,"aria-labelledby":d,renderReference:p,previewColor:h,popoverOptions:f,closeOnWheel:m=!1,hidePreviewLabel:g=!1,customPreviewLabel:x,hideChevron:y=!1,onRelease:v,mode:b="default",headingActionRight:A,donutHole:w,showHeader:C=!0,onContainerClick:_,showGradientControls:S=!1,gradientState:k,gradientDispatch:E,gradientStops:M,gradientControlPoints:I,setGradientControlPoints:T,gradientAspectRatio:B}){let{t:L}=qL(),j=Ju(),P=(0,elN.useMemo)(()=>YC(r),[r]),R=(0,elN.useMemo)(()=>Y_(r,j.editor),[r,j.editor]),[D,F]=(0,elN.useState)(()=>Yu(R)),O=(0,elN.useCallback)(t=>{s(t),F(Yu(Y_(r,j.editor)))},[r,j.editor,s]),N=h||0===R.a?h:R,U=p&&(t=>p({...t,previewColor:N})),V={gradientStops:M,gradientControlPoints:I,setGradientControlPoints:T,gradientState:k,gradientDispatch:E,gradientAspectRatio:B};return(0,ecr.jsx)(U7,{name:t,label:c,"aria-label":u,isDisabled:a,isPropertyEnabled:l,closeOnWheel:m,previewColor:N,popoverOptions:f,"aria-labelledby":d,hidePreviewLabel:g,customPreviewLabel:x,invertedLabel:S,hideChevron:y,renderReference:U,mode:b,donutHole:w,children:(0,ecr.jsx)(z2,{isDisabled:a,onClick:_,label:L(a?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:c}),children:(0,ecr.jsxs)("div",{className:(0,elO.default)(elJ.block,{[elJ.noPopover]:"none"===b}),children:[C&&(0,ecr.jsxs)("header",{className:elJ.header,children:[(0,ecr.jsx)(N5,{level:3,className:elJ.heading,children:c}),A]}),"SpotColor"!==P&&S&&i?(0,ecr.jsxs)(ecr.Fragment,{children:[(0,ecr.jsx)(elX,{mode:n,setMode:i,isDisabled:!l}),"Gradient"===n&&null!=V.gradientStops&&null!=V.gradientControlPoints&&null!=V.setGradientControlPoints&&null!=V.gradientState&&null!=V.gradientDispatch&&null!=V.gradientAspectRatio?(0,ecr.jsx)(eci,{gradientStops:V.gradientStops,controlPoints:V.gradientControlPoints,setControlPoints:V.setGradientControlPoints,state:V.gradientState,dispatch:V.gradientDispatch,aspectRatio:V.gradientAspectRatio,isDisabled:!l}):null]}):null,"SpotColor"!==P&&(0,ecr.jsx)("section",{className:elJ.section,children:(0,ecr.jsx)(ecs,{hsvColor:D,setHSVColor:F,color:r,setColor:s,rgbaColor:R,isPropertyEnabled:l,includeAlpha:o,colorSpace:P,onRelease:v})}),(0,ecr.jsx)(eco,{color:r,rgbaColor:R,onOpacityChange:t=>{nm(r)&&O({...r,a:t})},onTintChange:t=>{nm(r)||O({...r,tint:t})},isDisabled:!l,includeAlpha:o,onRelease:v}),"sRGB"===P&&(0,ecr.jsx)("section",{className:elJ.section,children:(0,ecr.jsx)(eca,{color:r,isDisabled:!l,onColorChange:O,onRelease:v})}),"CMYK"===P&&(0,ecr.jsx)("section",{className:elJ.section,children:(0,ecr.jsx)(ecl,{color:r,isDisabled:!l,onColorChange:O,onRelease:v})})]})})})},ecu=SV(S$()),ecd=SV(Sz()),ecp=SV(Sz());SV(Sz());var ech=SV(S$()),ecf=t=>(0,ech.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ech.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.58594 13.4998L11.293 7.79274C11.4806 7.6052 11.7349 7.49985 12.0002 7.49985C12.2654 7.49985 12.5197 7.6052 12.7073 7.79274L18.4144 13.4998L17.0002 14.9141L12.0002 9.91406L7.00015 14.9141L5.58594 13.4998Z",fill:"currentColor"})}),ecm=SV(Sz()),ecg=SV(S$());function ecx({title:t,children:n}){let{a11y:i}=JH();return(0,ecg.jsx)(H8,{title:t,headingLevel:2,headingStart:i.headingsHierarchyStart,children:n})}var ecy=SV(SH()),ecv=SV(Sz()),ecb={block:"UBQ_ColorBox-module__block--d1O8q",colorLabels:"UBQ_ColorBox-module__colorLabels--I4WDp",colorName:"UBQ_ColorBox-module__colorName--IuO5o",colorReference:"UBQ_ColorBox-module__colorReference--cRVjB",colorSpace:"UBQ_ColorBox-module__colorSpace--m4Ewv",noBorder:"UBQ_ColorBox-module__noBorder--nR6Te"},ecA=SV(S$());function ecw(t,n){return ng(t)?t.name:nx(t)?Yk(t):nm(t)?UI(n).toUpperCase():void 0}var ecC=function({color:t,gradientStops:n,onClick:i,isDisabled:r=!1}){let s=Ju(),{t:o}=qL(),a=JH(),{rgba:l,isSpot:c}=(0,ecv.useMemo)(()=>({rgba:Y_(t,s.editor),isSpot:ng(t)}),[t,s.editor]),u=(0,ecv.useMemo)(()=>n?Y_(n.map(t=>t.color),s.editor):[],[s.editor,n]);return(0,ecA.jsx)(zZ,{children:(0,ecA.jsxs)(zG,{size:"medium",className:ecb.block,children:[(0,ecA.jsx)(Or.Edge,{children:(0,ecA.jsxs)(zZ.Overlay,{children:[(0,ecA.jsxs)(Or.Edge.TopLeft,{className:ecb.colorLabels,children:[(0,ecA.jsx)("span",{className:ecb.colorName,children:u.length>0?o("property.fillType.gradient"):ecw(t,l)}),(0,ecA.jsx)("span",{className:ecb.colorReference,children:0===u.length?ng(t)?t.externalReference:nx(t)?"CMYK":nm(t)?"RGB":void 0:null})]}),(0,ecA.jsx)(Or.Edge.BottomLeft,{children:(0,ecA.jsx)("span",{className:ecb.colorSpace,children:function(t,n){if(ng(t))return n("common.spotColor")}(t,o)})}),(0,ecA.jsx)(Or.Edge.BottomRight,{children:(0,ecA.jsxs)(zG.InteractionElement,{name:"edit-color",onClick:i,isDisabled:r,children:[o("common.edit"),(0,ecA.jsx)(ei7,{})]})})]})}),(0,ecA.jsx)(zG.Background.Checkered,{className:(0,ecy.default)({[ecb.noBorder]:c})}),u.length>0?(0,ecA.jsx)(zG.Background.Gradient,{gradient:UM(u)}):(0,ecA.jsx)(zG.Background.Color,{color:UE(l),className:(0,ecy.default)({[ecb.noBorder]:c})}),c&&(0,ecA.jsx)(zG.Background.Image,{url:`${a.ui.baseURL}spot-color-indicator-xl.svg`,size:"24px",repeat:!1,position:"top right",className:ecb.spotColorIndicator})]})})},ec_=function({name:t,isPropertyEnabled:n,colorMode:i,setColorMode:r,color:s,setColor:o,isDisabled:a,includeAlpha:l=!1,hideTransparentSpotColor:c=!1,mode:u="default",headingActionRight:d,donutHole:p,i18nLabelString:h,i18nDescriptionString:f,showHeader:m=!0,onContainerClick:g,gradientStops:x,gradientState:y,gradientDispatch:v,gradientAspectRatio:b,gradientControlPoints:A,setGradientControlPoints:w,showGradientControls:C}){let _=KU(),{t:S}=qL(),k=S(h),E=S(f),M={name:t,includeAlpha:l,hideTransparentSpotColor:c,onContainerClick:g,isDisabled:a,onRelease:()=>_("action.property.update"),showHeader:m,label:k,"aria-label":E,description:E,isPropertyEnabled:n,colorMode:i,setColorMode:r,color:s,setColor:o,gradientStops:x,gradientControlPoints:A,setGradientControlPoints:w,gradientAspectRatio:b,gradientState:y,gradientDispatch:v,showGradientControls:C};switch(u){case"none":return(0,ecu.jsx)(ecc,{hidePreviewLabel:!0,hideChevron:!0,mode:"none",...M});case"minimal":return(0,ecu.jsx)(ecc,{hidePreviewLabel:!0,hideChevron:!0,mode:"minimal",headingActionRight:d,donutHole:p,...M});case"default":return(0,ecu.jsx)(VP,{name:t,label:k,isDisabled:a,children:t=>(0,ecu.jsx)(ecc,{...t,...M})});default:return null}},ecS=SV(Sz()),eck={libraries:"UBQ_ColorLibrary-module__libraries--V0DjZ",panelContent:"UBQ_ColorLibrary-module__panelContent--0-u3S"},ecE=SV(S$()),ecM=t=>n=>{let i=n.payload?.color&&YS(n.payload.color,t),r=i?UE(i):"";return{backgroundImage:`linear-gradient(0deg, ${r}, ${r})`}},ecI=t=>n=>{let i=n.payload?.color&&YS(n.payload.color,t),r=i?UE(i):"";return{backgroundImage:`linear-gradient(0deg, ${r}, ${r})`}},ecT=t=>({...t,cardLabelPosition:()=>"below",gridItemHeight:"auto"});function ecB({children:t,onColorSelect:n,isDisabled:i}){let r=enF(),{t:s}=qL(),o=YB(),a=Kb(),l=(0,ecS.useCallback)(t=>{let n=o.getAssetSource(t);return{id:t,getSources:()=>[n],canAdd:!1,canRemove:!1,sourceIds:[t],showGroupOverview:!1,previewLength:r?6:8,previewBackgroundType:"cover",gridBackgroundType:"cover",gridColumns:3,gridItemHeight:"square",cardBackgroundPreferences:[],promptBeforeApply:!1,cardBorder:!0,cardStyle:ecI(o.engine),cardLabel:t=>{let{label:n,payload:i}=t;if(n)return n;if(i?.color){if(ecP(i.color))return i.color.name;if(ecj(i.color))return Yk(i.color);if(ecL(i.color))return UI({...i.color,a:1}).toUpperCase()}return""}}},[o,r]),c=(0,ecS.useMemo)(()=>{let t=o.engine.asset.findAllSources();return a.colorLibraries.filter(n=>!!t.includes(n)||("ly.img.colors.defaultPalette"===n?o.log(`
Error: The asset source "${n}" is unavailable. Please check the following:
1. Ensure that "CESDK.addDefaultAssetSources" has been invoked.
2. Confirm that "${n}" hasn't been excluded.
3. If you don't wish to include it, remove it from the "ui.colorPalette" configuration option.
`,"Warning"):o.log(`
Error: The asset source "${n}" is unavailable. Please check the following.
1. Add the asset source using "CESDK.engine.asset.addSource" or "CESDK.engine.asset.addLocalSource".
2. If not needed, remove "${n}" from the "ui.colorPalette" configuration option.
`,"Warning"),!1)).map(t=>l(t))},[a.colorLibraries,l,o]),[u,d]=(0,ecS.useState)([]),p=(0,ecS.useCallback)(()=>{d([])},[]),[,h]=erU("//ly.img.panel/inspector/colorLibrary",KA());return(0,ecE.jsxs)("div",{className:eck.libraries,children:[c.map(t=>(0,ecE.jsxs)(ecS.Fragment,{children:[(0,ecE.jsx)(Hp,{}),(0,ecE.jsx)(eoX,{label:s(`libraries.${t.id}.label`),onEnter:()=>{h(!0),d([t])},onSelect:n,entry:{...t,cardBorder:!0,cardStyle:ecM(o.engine),cardLabel:void 0},sources:t.getSources(),isDisabled:i})]},t.id)),t({currentEntries:u,onClose:p})]})}function ecL(t){return"sRGB"===t.colorSpace&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}function ecj(t){return"CMYK"===t.colorSpace&&"number"==typeof t.c&&"number"==typeof t.m&&"number"==typeof t.y&&"number"==typeof t.k}function ecP(t){return"string"==typeof t.name&&"string"==typeof t.externalReference&&(ecL(t.representation)||ecj(t.representation))}var ecR=Xc(function({setColor:t,isDisabled:n}){let{t:i}=qL(),r=YB(),s=KU(),o=(0,ecS.useCallback)(n=>{switch(n.representation.colorSpace){case"sRGB":r.engine.editor.setSpotColorRGB(n.name,n.representation.r,n.representation.g,n.representation.b);break;case"CMYK":r.engine.editor.setSpotColorCMYK(n.name,n.representation.c,n.representation.m,n.representation.y,n.representation.k);break;default:throw Error("Error parsing spot color, please make sure the a correct Spot color representation is provided in the asset meta data")}t({name:n.name,tint:1,externalReference:n.externalReference}),s("action.property.update")},[s,r.engine.editor,t]),a=(0,ecS.useCallback)(n=>{switch(n.colorSpace){case"sRGB":t({...n,a:1}),s("action.property.update");break;case"CMYK":t({...n,tint:1}),s("action.property.update");break;case"SpotColor":o(n);break;default:throw Error("Error parsing color, please make sure the a correct color space is provided in the asset meta data")}},[s,t,o]),l=(0,ecS.useCallback)(async t=>{try{if(!0!==function(t){switch(t.colorSpace){case"sRGB":if(!ecL(t))throw Error("Error parsing RGB color, please make sure the correct color properties are provided in the asset payload");return!0;case"CMYK":if(!ecj(t))throw Error("Error parsing CMYK color, please make sure the correct color properties are provided in the asset payload");return!0;case"SpotColor":if(!ecP(t))throw Error("Error parsing Spot color, please make sure the correct color properties are provided in the asset payload");return!0;default:throw Error("Error parsing color, please make sure the correct color space is provided in the asset payload")}}(t.payload?.color))throw Error("Error parsing color, please make sure the a correct color space is provided in the asset meta data");a(t.payload?.color)}catch(t){t instanceof Error&&r.log(t.message,"Error")}},[r,a]);return(0,ecE.jsx)(ecB,{onColorSelect:l,isDisabled:n,children:({currentEntries:t,onClose:n})=>{let r=t[0]?i(`libraries.${t[0].id}.label`):void 0,s=t.map(ecT);return(0,ecE.jsxs)(erK,{id:"//ly.img.panel/inspector/colorLibrary",context:"back",onClose:()=>{n()},children:[(0,ecE.jsx)(erK.Header,{children:(0,ecE.jsx)(erK.Title,{children:r??i("component.library")})}),(0,ecE.jsx)(erK.Content,{children:({isOpen:t})=>(0,ecE.jsx)("div",{className:eck.panelContent,children:(0,ecE.jsxs)(eao,{entries:s,assetPanelOpen:t,children:[(0,ecE.jsx)(eao.Search,{placeholder:i("component.library.searchPlaceholder")}),(0,ecE.jsx)(eao.Content,{onSelect:l})]})})})]})}})}),ecD={panelContent:"UBQ_ColorPanel-module__panelContent--feMsI"},ecF=SV(S$());function ecO({children:t,...n}){let{t:i}=qL();return(0,ecF.jsxs)(erK,{id:"//ly.img.panel/inspector/editColor",context:"back",...n,children:[(0,ecF.jsx)(erK.Header,{children:(0,ecF.jsx)(erK.Title,{children:i("common.editColor")})}),(0,ecF.jsx)(erK.Content,{children:n=>(0,ecF.jsx)("div",{className:ecD.panelContent,children:t(n)})})]})}function ecN({isDisabled:t=!1,color:n,setColor:i}){let{t:r}=qL(),s=Ju(),o=r("input.colorMode"),a=r("input.colorMode.description"),l=(0,ecm.useMemo)(()=>YC(n),[n]);return"SpotColor"===l?null:(0,ecF.jsxs)(Qe,{children:[(0,ecF.jsx)(Uo,{isDisabled:t,"aria-label":o,children:o}),(0,ecF.jsxs)(Ha,{children:[(n,{isOpen:i})=>{let s=r(`common.${l.toLowerCase()}`);return(0,ecF.jsx)(U6,{label:a,children:(0,ecF.jsxs)(DR,{name:"color-mode-select",isDisabled:t,...n,children:[s,i?(0,ecF.jsx)(ecf,{}):(0,ecF.jsx)(erM,{})]})})},()=>(0,ecF.jsx)(Ha.Options,{value:l,onChange:t=>{i(s.editor.convertColorToColorSpace(n,t))},children:["sRGB","CMYK"].map(t=>{let n=r(`common.${t.toLowerCase()}`);return(0,ecF.jsx)(Ha.Option,{value:t,children:n},t)})})]})]})}var ecU=Xc(function({block:t,name:n,inBar:i,isPropertyEnabled:r,setIsPropertyEnabled:s,isDisabled:o,i18nLabelString:a,i18nDescriptionString:l,headerActions:c,donutHole:u,customButton:d,previewColor:p,colorMode:h,...f}){let m=Ju(),[,g]=erU("//ly.img.panel/inspector/editColor",KA());return(0,ecF.jsxs)(ecF.Fragment,{children:[(0,ecF.jsx)(ecC,{color:f.color,gradientStops:f.gradientStops,onClick:()=>g(!0),isDisabled:o||!r}),(0,ecF.jsx)(ecR,{setColor:n=>{if("Gradient"===h){let i=m.block.createFill("color");m.block.setColor(i,"fill/color/value",n),m.block.setFill(t,i)}else f.setColor(n)},isDisabled:o||!r}),(0,ecF.jsx)(ecO,{children:()=>(0,ecF.jsxs)(ecx,{children:[(0,ecF.jsx)(ecN,{color:f.color,setColor:f.setColor,isDisabled:o||!r}),(0,ecF.jsx)(ec_,{mode:"none",name:n,i18nLabelString:"property.color",i18nDescriptionString:"property.color.description",includeAlpha:!0,showHeader:!1,isDisabled:o,isPropertyEnabled:r,colorMode:h,...f})]})})]})});function ecV(t){let n=nx(t),i=nm(t);return n&&(t.tint=1),i&&(t.a=1),t}function ecH(t){let n="ly.img.colors.documentColors";t.asset.findAllSources().includes(n)||t.asset.addSource({id:n,findAssets:async({page:n,perPage:i})=>{let r=function(t){let n=t.block.findAll(),i=[],r=[],s=[],o=[];n.forEach(n=>{t.block.supportsFill(n)&&t.block.isValid(t.block.getFill(n))&&"//ly.img.ubq/fill/color"===t.block.getType(t.block.getFill(n))&&t.block.isFillEnabled(n)&&"//ly.img.ubq/text"!==t.block.getType(n)&&i.push(n),t.block.supportsStroke(n)&&t.block.isStrokeEnabled(n)&&r.push(n),t.block.supportsDropShadow(n)&&t.block.isDropShadowEnabled(n)&&s.push(n),"//ly.img.ubq/text"===t.block.getType(n)&&o.push(n)});let a=new Set;return i.forEach(n=>{let i=t.block.getFill(n),r=ecV(t.block.getColor(i,"fill/color/value"));a.add(JSON.stringify(r))}),r.forEach(n=>{let i=ecV(t.block.getStrokeColor(n));a.add(JSON.stringify(i))}),s.forEach(n=>{let i=ecV(t.block.getDropShadowColor(n));a.add(JSON.stringify(i))}),o.flatMap(n=>t.block.getTextColors(n)).forEach(t=>{let n=ecV(t);a.add(JSON.stringify(n))}),Array.from(a).map(n=>{let i=JSON.parse(n),r=nx(i);return{id:Object.values(i).toString(),label:ecw(i,r?Y_(i,t.editor):i),payload:{color:{colorSpace:r?"CMYK":"sRGB",...i}}}})}(t);return{assets:r.slice(n*i,(n+1)*i),total:r.length,currentPage:n}}})}var ecQ=SV(S$()),ecz=Xc(Jg(function({block:t,name:n,inBar:i,isPropertyEnabled:r,setIsPropertyEnabled:s,isDisabled:o,i18nLabelString:a,i18nDescriptionString:l,headerActions:c,panelId:u,groupId:d,donutHole:p,customButton:h,previewColor:f,"data-cy":m,hidePropertyToggle:g=!1,engine:x,colorMode:y,hideLabel:v,...b}){let{t:A}=qL(),w=i?elT.Fragment:Qe,C=A(a),_=A(l);return(0,elT.useEffect)(()=>{ecH(x)},[x]),(0,ecQ.jsxs)(w,{children:[!i&&(0,ecQ.jsx)(Uo,{isDisabled:o,children:C}),(0,ecQ.jsx)(i?elP:elF,{label:C,ariaLabel:_,tooltip:_,valueLabel:A("common.edit"),isDisabled:o||!r,renderButton:h??(({isActive:t,...n})=>i?(0,ecQ.jsx)(UY,{variant:t?"regular":"plain",previewColor:f,hidePreviewLabel:!0,donutHole:p,isDisabled:o||!r,strikeThrough:!r,hideLabel:v,...n,children:C}):(0,ecQ.jsx)(UD,{variant:"regular",renderChevronIcon:()=>(0,ecQ.jsx)(ei7,{}),previewColor:f,customPreviewLabel:"Gradient"===y?A("property.gradientType.linear"):void 0,invertedLabel:"Gradient"===y,...n})),panelId:u,groupId:d,icon:(0,ecQ.jsx)(elI,{}),isPropertyEnabled:r,headerActions:(0,ecQ.jsxs)(ecQ.Fragment,{children:[c,(0,ecQ.jsx)(eah,{isEnabled:r,isVisible:!g,toggleProperty:()=>{s(!r)},label:A("property.strokeColor")})]}),"data-cy":m,children:(0,ecQ.jsx)(z2,{isDisabled:!r,onClick:()=>{s(!0)},label:A(r?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:C}),children:(0,ecQ.jsx)(ecx,{children:(0,ecQ.jsx)(ecU,{block:t,name:n,i18nLabelString:a,i18nDescriptionString:l,isPropertyEnabled:r,setIsPropertyEnabled:s,isDisabled:o,colorMode:y,...b})})})}),!i&&!g&&(0,ecQ.jsx)(eah,{isDisabled:o,"data-cy":m?`propertyToggle-${m}`:void 0,label:C,isEnabled:r,toggleProperty:()=>{s(!r)}})]})}));function ecG(t){return(0,ecQ.jsx)(ecz,{...t})}function ecq({block:t,...n}){let i=function(t){let n=Ju(),{isPropertyEnabled:i,color:r}=Jh(n,()=>({isPropertyEnabled:n.block.isStrokeEnabled(t),color:n.block.getColor(t,"stroke/color")})),s=(0,ecp.useCallback)(i=>n.block.setStrokeEnabled(t,i),[t,n]),o=(0,ecp.useCallback)(i=>{n.block.setColor(t,"stroke/color",i)},[n,t]),a=(0,ecp.useMemo)(()=>Y_(r,n.editor),[r,n.editor]);return{color:r,setColor:o,isPropertyEnabled:i,setIsPropertyEnabled:s,previewColor:a}}(t);return(0,ecQ.jsx)(ecG,{block:t,...n,...i})}var ecW=Jg(function({engine:t,name:n="strokeColor",i18nLabelString:i="property.strokeColor",i18nDescriptionString:r="property.strokeColor.description",...s}){let o=YT(),[a]=t.block.findAllSelected(),l=o.feature.isEnabled("ly.img.stroke",{engine:t});if(!(null!=a&&t.block.supportsStroke(a))||!l)return null;let c=t.block.isAllowedByScope(a,eeb);return(0,ecQ.jsx)(ecq,{block:a,isDisabled:!c,"data-cy":"stroke",name:n,i18nLabelString:i,i18nDescriptionString:r,...s})}),ec$=Jg(function({engine:t,name:n="strokeColor",i18nLabelString:i="property.strokeColor",i18nDescriptionString:r="property.strokeColor.description",...s}){let[o]=t.block.findAllSelected(),a=null!=o&&t.block.hasStroke(o)&&t.block.isStrokeEnabled(o);return(0,ecQ.jsx)(ecW,{inBar:!0,includeAlpha:!0,donutHole:!0,name:n,i18nLabelString:i,i18nDescriptionString:r,onContainerClick:()=>{a||t.block.setStrokeEnabled(o,!0)},...s})});function ecZ({block:t,...n}){let i=function(t){let n=Ju(),{isPropertyEnabled:i,color:r}=Jh(n,()=>({isPropertyEnabled:n.block.isDropShadowEnabled(t),color:n.block.getColor(t,"dropShadow/color")})),s=(0,ecd.useCallback)(i=>n.block.setDropShadowEnabled(t,i),[t,n]),o=(0,ecd.useCallback)(i=>{n.block.setColor(t,"dropShadow/color",i)},[n,t]),a=(0,ecd.useMemo)(()=>Y_(r,n.editor),[r,n.editor]);return{color:r,setColor:o,isPropertyEnabled:i,setIsPropertyEnabled:s,previewColor:a}}(t);return(0,ecQ.jsx)(ecG,{block:t,...n,...i})}var ecY=Jg(function({engine:t,...n}){let[i]=t.block.findAllSelected();if(!(null!=i&&t.block.hasDropShadow(i)))return null;let r=t.block.isAllowedByScope(i,eef);return(0,ecQ.jsx)(ecZ,{block:i,isDisabled:!r,"data-cy":"shadow-color",...n})}),ecK=Jg(function({engine:t,...n}){return t.block.isValid(n.block)?(0,ecQ.jsx)(ecX,{...n}):null}),ecX=Jg(function({engine:t,property:n,block:i,...r}){let s=t.block.getColor(i,n),o=(0,elT.useMemo)(()=>Y_(s,t.editor),[s,t.editor]);return(0,ecQ.jsx)(ecG,{block:i,name:"effect-property-color-subinspector",i18nLabelString:r.label,i18nDescriptionString:r.description,isPropertyEnabled:!0,setIsPropertyEnabled:()=>{},color:s,previewColor:o,setColor:function(r){t.block.setColor(i,n,r)},hidePropertyToggle:!0,...r})});ecG.Stroke=ecW,ecG.StrokeInBar=ec$,ecG.DropShadow=ecY,ecG.Property=ecK;var ecJ,ec0,ec1=SV(S$()),ec2=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.shadow",{engine:t}),[r]=t.block.findAllSelected();return null!=r&&t.block.hasDropShadow(r)&&i?n({block:r}):null})),ec3=Xc(Jg(function({engine:t,block:n,inBar:i=!1,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),[a]=erU("//ly.img.panel/inspector/shadow",KA());function l(){a?o.ui.closePanel("//ly.img.panel/inspector/shadow"):o.ui.openPanel("//ly.img.panel/inspector/shadow")}let c=t.block.isAllowedByScope(n,eef);if(!c&&"hide"===r)return null;let u=t.block.isDropShadowEnabled(n),d=!u||!c,p=s("input.shadow.label"),h=s("input.shadow.valueLabel");return i?(0,ec1.jsx)(U6,{label:s("input.shadow.description"),children:(0,ec1.jsx)(DR,{name:p,variant:a?"regular":"plain",icon:(0,ec1.jsxs)(UU,{className:(0,ely.default)("UBQ_ShadowInspector-module__iconStack--DT-QL",{"UBQ_ShadowInspector-module__disabled--aEhvW":!u}),children:[(0,ec1.jsx)(eaW,{}),!u&&(0,ec1.jsx)(Uz,{})]}),isActive:u,activeStateStyle:"pill",onClick:l,isDisabled:!c,"data-cy":"shadow",children:p})}):(0,ec1.jsxs)(Qe,{children:[(0,ec1.jsx)(Uo,{isDisabled:d,children:p}),(0,ec1.jsx)(U6,{label:s("input.shadow.description"),children:(0,ec1.jsxs)(DR,{name:p,variant:"regular",icon:(0,ec1.jsx)(eaW,{}),isActive:u,activeStateStyle:"pill",onClick:l,isDisabled:d,"data-cy":"shadow",children:[h,(0,ec1.jsx)(ei7,{})]})}),(0,ec1.jsx)(eah,{label:p,isEnabled:u,toggleProperty:()=>{t.block.setDropShadowEnabled(n,!u)},isDisabled:!c,"data-cy":"propertyToggle-shadow"})]})})),ec5=Jg(function({engine:t,block:n}){let{t:i}=qL(),r=KU(),s=t.block.isAllowedByScope(n,eef),o=t.block.isDropShadowEnabled(n),a=t.block.getDropShadowOffsetX(n),l=t.block.getDropShadowOffsetY(n),c=t.block.getDropShadowBlurRadiusX(n),u=(({x:t,y:n})=>Math.sqrt(t*t+n*n))({x:a,y:l}),d=elC(180*Math.atan2(l,a)/Math.PI-90,-180,180),p=t.scene.getDesignUnit(),h=elv(p),f=i("input.shadow.label"),m=i=>{void 0===i||i<0||(t.block.setDropShadowBlurRadiusX(n,i),t.block.setDropShadowBlurRadiusY(n,i))},g=i=>{if(void 0===i||i<0)return;let r=(d+90)/180*Math.PI;t.block.setDropShadowOffsetX(n,Math.cos(r)*i),t.block.setDropShadowOffsetY(n,Math.sin(r)*i)},x=()=>{t.block.setDropShadowEnabled(n,!o)},y=i=>{if(void 0===i)return;let r=(i+90)/180*Math.PI;t.block.setDropShadowOffsetX(n,Math.cos(r)*u),t.block.setDropShadowOffsetY(n,Math.sin(r)*u)},v=(()=>{switch(p){case"Pixel":return 1;case"Millimeter":default:return .1;case"Inch":return .01}})();return(0,ec1.jsxs)(ec1.Fragment,{children:[(0,ec1.jsx)(erK.Header,{action:(0,ec1.jsx)(eah,{label:f,isEnabled:o,isDisabled:!s,toggleProperty:x,"data-cy":"propertyToggle-shadow"}),children:(0,ec1.jsx)(erK.Title,{children:f})}),(0,ec1.jsx)(erK.Content,{children:(0,ec1.jsx)(z2,{isDisabled:!o,onClick:x,label:i(o?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:f}),children:(0,ec1.jsxs)(H8,{children:[(0,ec1.jsx)(Qe,{children:(0,ec1.jsx)(ecG.DropShadow,{panelId:"//ly.img.panel/inspector/shadow/color",isDisabled:!o,name:"shadow-color",i18nLabelString:"property.color",i18nDescriptionString:"action.shadow.color.change",includeAlpha:!0,hidePropertyToggle:!0})}),(0,ec1.jsx)(Qe,{children:(0,ec1.jsx)(Hp,{})}),(0,ec1.jsxs)(Qe,{children:[(0,ec1.jsx)(Uo,{htmlFor:"shadow-angle",isDisabled:!o,children:i("input.shadow.angle")}),(0,ec1.jsx)(U6,{label:i("action.shadow.angle.change"),children:(0,ec1.jsx)(Vz,{name:"shadow-angle",id:"shadow-angle","aria-label":i("input.shadow.angle.description"),value:d,isDisabled:!o,onChange:y,onRelease:t=>{void 0!==t&&(y(t),r("action.shadow.angle.change"))},unitLabel:"\xb0",min:-360,max:360,step:1})}),(0,ec1.jsx)(U6,{label:i("action.shadow.angle.rotate"),children:(0,ec1.jsx)(DR,{name:"shadow-angle-rotate","aria-label":i("action.shadow.angle.rotate"),className:"UBQ_ShadowInspector-module__smallButton--X807o",isDisabled:!o,onClick:()=>{y(d+45),r("action.shadow.angle.rotate")},children:(0,ec1.jsx)(elt,{})})})]}),(0,ec1.jsxs)(Qe,{children:[(0,ec1.jsx)(Uo,{isDisabled:!o,children:i("input.shadow.distance")}),(0,ec1.jsx)(U6,{label:i("action.shadow.distance.change"),children:(0,ec1.jsx)(Vz,{name:"shadow-distance",id:"shadow-distance","aria-label":i("input.shadow.distance.description"),value:u,onChange:g,onRelease:t=>{void 0!==t&&(g(t),r("action.shadow.distance.change"))},min:0,step:v,maxFractionDigits:2,unitLabel:h,isDisabled:!o})})]}),(0,ec1.jsxs)(Qe,{children:[(0,ec1.jsx)(Uo,{isDisabled:!o,children:i("input.shadow.blur")}),(0,ec1.jsx)(U6,{label:i("action.shadow.blur.change"),children:(0,ec1.jsx)(Vz,{name:"shadow-blur",id:"shadow-blur","aria-label":i("input.shadow.blur.description"),value:c,onChange:m,onRelease:t=>{void 0!==t&&(m(t),r("action.shadow.blur.change"))},min:0,step:v,maxFractionDigits:2,unitLabel:h,isDisabled:!o})})]})]})})})]})});(ec0=ecJ||(ecJ={})).SupportGuard=ec2,ec0.PanelContent=ec5,ec0.Control=function(t){return(0,ec1.jsx)(ec2,{children:({block:n})=>(0,ec1.jsx)(ec3,{block:n,...t})})};var ec4=ecJ;SV(Sz());var ec6=SV(S$()),ec8=t=>(0,ec6.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ec6.jsx)("path",{d:"M4 22L4 13L20 13L20 17L4 22Z",fill:"currentColor"}),(0,ec6.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2L20.0002 7.00013V11.0001L4 11.0001L4 2ZM6 4.72039L18.0002 8.47051V9.00013L6 9.00013L6 4.72039Z",fill:"currentColor"})]}),ec7=(SV(Sz()),SV(S$())),ec9=t=>(0,ec7.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ec7.jsx)("path",{d:"M3 3V8.99994L9.00283 9.00052L9.00303 7.00052L6.34206 7.00027C7.88839 5.74864 9.85663 5.00004 11.9999 5.00004C14.9437 5.00004 17.5574 6.41235 19.201 8.60061L20.8002 7.39946C18.795 4.72993 15.5993 3.00004 11.9999 3.00004C9.34039 3.00004 6.90131 3.94442 5 5.51441V3H3Z",fill:"currentColor"}),(0,ec7.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0002 10L18.0002 16L11.999 22.0012L5.99902 16.0012L12.0002 10ZM8.82745 16.0012L11.999 19.1728L15.1718 16L12.0002 12.8284L8.82745 16.0012Z",fill:"currentColor"})]}),eue=SV(Sz()),eut=(SV(Sz()),SV(S$())),eun=t=>(0,eut.jsx)("svg",{width:12,height:8,viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eut.jsx)("path",{d:"M0 0.5H5.5C8.81371 0.5 11.5 3.18629 11.5 6.5V8",stroke:"currentColor",strokeOpacity:.5})}),eui=(SV(Sz()),SV(S$())),eur=t=>(0,eui.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eui.jsx)("path",{d:"M12 2C8.68629 2 6 4.68629 6 8V10H8V8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V10H18V8C18 4.68629 15.3137 2 12 2Z",fill:"currentColor"}),(0,eui.jsx)("path",{d:"M12 22C8.68629 22 6 19.3137 6 16V14H8V16C8 18.2091 9.79086 20 12 20C14.2091 20 16 18.2091 16 16V14H18V16C18 19.3137 15.3137 22 12 22Z",fill:"currentColor"}),(0,eui.jsx)("rect",{x:10,y:7,width:4,height:10,rx:2,fill:"currentColor"})]}),eus=(SV(Sz()),SV(S$())),euo=t=>(0,eus.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eus.jsx)("path",{d:"M12 2C8.68629 2 6 4.68629 6 8V10H8V8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V10H18V8C18 4.68629 15.3137 2 12 2Z",fill:"currentColor"}),(0,eus.jsx)("path",{d:"M12 22C8.68629 22 6 19.3137 6 16V14H8V16C8 18.2091 9.79086 20 12 20C14.2091 20 16 18.2091 16 16V14H18V16C18 19.3137 15.3137 22 12 22Z",fill:"currentColor"})]}),eua=SV(SH()),eul="UBQ_AspectLock-module__aspectLockVector--hfbR7",euc=SV(S$()),euu=function({isLocked:t,setIsLocked:n,isDisabled:i=!1}){let{t:r}=qL();return(0,euc.jsxs)("div",{className:(0,eua.default)("UBQ_AspectLock-module__aspectLock--nMzUZ",{"UBQ_AspectLock-module__aspectIsUnlocked--zF52P":!t}),children:[(0,euc.jsx)(eun,{className:eul}),(0,euc.jsx)(U6,{label:r("input.aspectLock.description"),children:(0,euc.jsx)(DU,{className:"UBQ_AspectLock-module__aspectLockButton--AbRfH","aria-label":r("input.aspectLock"),isDisabled:i,name:"toggleAspectLock",onClick:()=>{n?.(!t)},"aria-pressed":t,"data-active":t,children:t?(0,euc.jsx)(eur,{}):(0,euc.jsx)(euo,{})})}),(0,euc.jsx)(eun,{className:eul})]})},eud=SV(S$()),eup=Jg(function({engine:t,block:n}){let i=KU(),r=YB(),s=KK(),{t:o}=qL(),a=Jv(eer),l=t.block.getFrameWidth(n),c=t.block.getFrameHeight(n),u=(0,eue.useRef)({x:l,y:c}),[d,p]=(0,eue.useState)(!1),h=t.block.getContentFillMode(n),f=!a||"Contain"===h,m=t=>{r.legacyApi.execute("ubq/editor/setCropAreaSize",{size:t})},g=(t,n)=>{parseFloat(VV(u.current[n],1))!==t&&(i("action.image.crop"),u.current[n]=t),m({x:l,y:c,[n]:t})},[x]=K1(s.scene.designUnit),y=elv(x);return(0,eud.jsxs)(H8,{title:o("property.crop.size"),headingLevel:3,children:[(0,eud.jsxs)(Qe,{children:[(0,eud.jsx)(VP,{name:"width",label:o("common.width"),isDisabled:f,children:t=>(0,eud.jsx)(Vz,{min:.1,value:l,unitLabel:y,isDisabled:f,onChange:t=>{void 0!==t&&(d?m({x:t,y:t/(l/c)}):m({x:t,y:c}))},onRelease:t=>{void 0!==t&&g(t,"x")},...t,"aria-label":o("property.crop.size.description",{dimension:o("common.width"),unit:y})})}),(0,eud.jsx)(euu,{isLocked:d,setIsLocked:p,isDisabled:f})]}),(0,eud.jsxs)(Qe,{children:[(0,eud.jsx)(VP,{name:"height",label:o("common.height"),isDisabled:f,children:t=>(0,eud.jsx)(Vz,{min:.1,value:c,unitLabel:y,isDisabled:f,onChange:t=>{void 0!==t&&(d?m({x:l/c*t,y:t}):m({x:l,y:t}))},onRelease:t=>{void 0!==t&&g(t,"y")},...t,"aria-label":o("property.crop.size.description",{dimension:o("common.height"),unit:y})})}),(0,eud.jsx)(eam,{})]})]})}),euh=(SV(Sz()),SV(S$())),euf=t=>(0,euh.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,euh.jsxs)("g",{id:"CropCoverMode",children:[(0,euh.jsxs)("g",{id:"Surface",children:[(0,euh.jsx)("path",{d:"M5 2C4.44772 2 4 2.44772 4 3V5.12602C4.31962 5.04375 4.6547 5 5 5H19C19.3453 5 19.6804 5.04375 20 5.12602V3C20 2.44772 19.5523 2 19 2H5Z",fill:"currentColor"}),(0,euh.jsx)("path",{d:"M20 18.874C19.6804 18.9562 19.3453 19 19 19H5C4.6547 19 4.31962 18.9562 4 18.874V21C4 21.5523 4.44772 22 5 22H19C19.5523 22 20 21.5523 20 21V18.874Z",fill:"currentColor"}),(0,euh.jsx)("path",{d:"M5 9H19V15H5V9Z",fill:"currentColor"})]}),(0,euh.jsx)("path",{id:"Surface 2",fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 9C2.25 7.48122 3.48122 6.25 5 6.25H19C20.5188 6.25 21.75 7.48122 21.75 9V15C21.75 16.5188 20.5188 17.75 19 17.75H5C3.48122 17.75 2.25 16.5188 2.25 15V9ZM5 7.75C4.30964 7.75 3.75 8.30964 3.75 9V15C3.75 15.6904 4.30964 16.25 5 16.25H19C19.6904 16.25 20.25 15.6904 20.25 15V9C20.25 8.30964 19.6904 7.75 19 7.75H5Z",fill:"currentColor"})]})}),eum=(SV(Sz()),SV(S$())),eug=t=>(0,eum.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eum.jsxs)("g",{id:"CropCropMode",children:[(0,eum.jsxs)("g",{id:"Surface",children:[(0,eum.jsx)("path",{d:"M4 4C3.44772 4 3 4.44772 3 5V17C3 17.5523 3.44772 18 4 18H8.12602C8.04375 17.6804 8 17.3453 8 17V12C8 9.79086 9.79086 8 12 8H20C20.3453 8 20.6804 8.04375 21 8.12602V5C21 4.44772 20.5523 4 20 4H4Z",fill:"currentColor"}),(0,eum.jsx)("path",{d:"M12 12H20V17H12V12Z",fill:"currentColor"})]}),(0,eum.jsx)("path",{id:"Surface 2",fillRule:"evenodd",clipRule:"evenodd",d:"M9.25 12C9.25 10.4812 10.4812 9.25 12 9.25H20C21.5188 9.25 22.75 10.4812 22.75 12V17C22.75 18.5188 21.5188 19.75 20 19.75H12C10.4812 19.75 9.25 18.5188 9.25 17V12ZM12 10.75C11.3096 10.75 10.75 11.3096 10.75 12V17C10.75 17.6904 11.3096 18.25 12 18.25H20C20.6904 18.25 21.25 17.6904 21.25 17V12C21.25 11.3096 20.6904 10.75 20 10.75H12Z",fill:"currentColor"})]})}),eux=(SV(Sz()),SV(S$())),euy=t=>(0,eux.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eux.jsxs)("g",{id:"CropFitMode",children:[(0,eux.jsx)("path",{id:"Surface",d:"M7 8C7 7.44772 7.44772 7 8 7H16C16.5523 7 17 7.44772 17 8V16C17 16.5523 16.5523 17 16 17H8C7.44772 17 7 16.5523 7 16V8Z",fill:"currentColor"}),(0,eux.jsx)("path",{id:"Surface 2",fillRule:"evenodd",clipRule:"evenodd",d:"M1.25 7C1.25 5.48122 2.48122 4.25 4 4.25H20C21.5188 4.25 22.75 5.48122 22.75 7V17C22.75 18.5188 21.5188 19.75 20 19.75H4C2.48122 19.75 1.25 18.5188 1.25 17V7ZM4 5.75C3.30964 5.75 2.75 6.30964 2.75 7V17C2.75 17.6904 3.30964 18.25 4 18.25H20C20.6904 18.25 21.25 17.6904 21.25 17V7C21.25 6.30964 20.6904 5.75 20 5.75H4Z",fill:"currentColor"})]})}),euv=SV(Sz()),eub=SV(S$()),euA=Jg(({block:t,engine:n,inBar:i})=>{let{t:r}=qL(),s=r("property.crop.contentFillMode.description"),o={Crop:{icon:(0,eub.jsx)(eug,{}),label:r("property.crop.contentFillMode.crop")},Cover:{icon:(0,eub.jsx)(euf,{}),label:r("property.crop.contentFillMode.cover")},Contain:{icon:(0,eub.jsx)(euy,{}),label:r("property.crop.contentFillMode.contain")}},a=n.block.getContentFillMode(t);return(0,eub.jsxs)(Ha,{children:[(t,{isOpen:n})=>(0,eub.jsx)(U6,{label:s,children:(0,eub.jsxs)(DR,{name:"contentFillModeSelect","aria-label":s,icon:i?o[a].icon:void 0,variant:i?"plain":"regular",...t,children:[o[a].label,n?(0,eub.jsx)(Ub,{}):(0,eub.jsx)(Uy,{})]})}),()=>(0,eub.jsx)(Ha.Options,{className:"UBQ_CropFillModeSelect-module__options--r2Pr2",value:a,onChange:i=>{n.block.setContentFillMode(t,i)},"data-cy":"contentFillModeSelectOptions",children:Object.entries(o).map(t=>{let[n,r]=t,{label:s,icon:o}=r;return(0,eub.jsxs)(euv.Fragment,{children:["Contain"===n&&(0,eub.jsx)(Hp,{},"fillmode-separator"),(0,eub.jsx)(Ha.Option,{value:n,icon:i?o:void 0,children:s},n)]},`fragment-${n}`)})})]})}),euw=Jg(({block:t,inBar:n,isDisabled:i})=>{let r=JH(),{t:s}=qL();if(!r.featureFlags?.enableCropFillModeUi)return null;let o=s("property.crop.contentFillMode");return n?(0,eub.jsx)(euA,{block:t,inBar:!0}):(0,eub.jsxs)(eub.Fragment,{children:[(0,eub.jsxs)(Qe,{children:[(0,eub.jsx)(Uo,{isDisabled:i,children:o}),(0,eub.jsx)(euA,{block:t})]}),(0,eub.jsx)(Qe,{children:(0,eub.jsx)(Hp,{})})]})}),euC=SV(Sz()),eu_=SV(S$()),euS=Jg(function({engine:t,block:n}){let i=KU(),r=YB(),{t:s}=qL(),o=elv(t.scene.getDesignUnit()),a=t.block.getFrameWidth(n),l=t.block.getFrameHeight(n),c=t.block.getCropTranslationX(n),u=t.block.getCropTranslationY(n),d=t.block.getContentFillMode(n),p={x:c*a,y:u*l},h=t=>{r.legacyApi.execute("ubq/editor/setAbsoluteCropTranslation",{value:t})},f=(0,euC.useRef)(p),m=(t,n)=>{parseFloat(VV(f.current[n],1))!==t&&(i("action.image.crop"),f.current[n]=t),h({...p,[n]:t})};return(0,eu_.jsxs)(eu_.Fragment,{children:[(0,eu_.jsx)(Qe,{children:(0,eu_.jsx)(VP,{name:"xOffset",label:s("property.crop.offset",{axis:s("common.axis.x")}),isDisabled:"Contain"===d,children:t=>(0,eu_.jsx)(Vz,{value:p.x,unitLabel:o,onChange:t=>{void 0!==t&&h({x:t,y:p.y})},onRelease:t=>{void 0!==t&&m(t,"x")},...t,isDisabled:"Contain"===d,"aria-label":s("property.crop.offset.description",{unit:o,axis:s("common.axis.x")})})})}),(0,eu_.jsx)(Qe,{children:(0,eu_.jsx)(VP,{name:"yOffset",label:s("property.crop.offset",{axis:s("common.axis.y")}),isDisabled:"Contain"===d,children:t=>(0,eu_.jsx)(Vz,{value:p.y,unitLabel:o,onChange:t=>{void 0!==t&&h({x:p.x,y:t})},onRelease:t=>{void 0!==t&&m(t,"y")},...t,isDisabled:"Contain"===d,"aria-label":s("property.crop.offset.description",{unit:o,axis:s("common.axis.y")})})})})]})}),euk=SV(Sz()),euE={straighten:!0,turn:!0,mirror:!0};function euM(t){let n=Ju(),i=(0,euk.useRef)(euE),r=(0,euk.useRef)(1),{scaleRatio:s,rotation:o}=Jh(n,()=>({scaleRatio:n.block.getCropScaleRatio(t),rotation:n.block.getCropRotation(t)})),a=JH();(0,euk.useEffect)(()=>{i.current.straighten&&i.current.turn&&i.current.mirror&&(r.current=s)},[s]);let[l,c]=(0,euk.useState)(0),u=(0,euk.useMemo)(()=>{let t=o/Math.PI*180,n=t%90,i=t-n;return n>45&&(i+=90),c(i),t},[o]),d=i=>{let s=n.block.getContentFillMode(t);n.block.setCropRotation(t,i/180*Math.PI),"Crop"===s&&n.block.adjustCropToFillFrame(t,r.current)};return{cropScaleRatio:100*s,cropStraightenAngle:u-l,cropScaleOnChangeHandler:(i=100)=>{var s;s=i/100,r.current=s,n.block.adjustCropToFillFrame(t,s),n.block.setCropScaleRatio(t,s),n.block.adjustCropToFillFrame(t,s)},cropStraightenOnChangeHandler:r=>{if(void 0===r)return;let s=r;45===s&&(s=44.9999),-45===s&&(s=-44.9999),i.current.straighten=!1,a.featureFlags?.enableCropFillModeUi||n.block.setContentFillMode(t,"Crop"),d(s+l)},cropStraightenOnReleaseHandler:()=>{i.current.straighten=!0},cropTurnOnClickHandler:()=>{let r=(l+270)%360;i.current.turn=!1,a.featureFlags?.enableCropFillModeUi||n.block.setContentFillMode(t,"Crop"),d(u-l+r),c(r)},cropTurnOnBlurHandler:()=>{i.current.turn=!0},cropMirrorXOnClickHandler:()=>{i.current.mirror=!1,a.featureFlags?.enableCropFillModeUi||n.block.setContentFillMode(t,"Crop"),n.block.flipCropHorizontal(t)},cropMirrorYOnClickHandler:()=>{i.current.mirror=!1,a.featureFlags?.enableCropFillModeUi||n.block.setContentFillMode(t,"Crop"),n.block.flipCropVertical(t)},cropMirrorOnBlurHandler:()=>{i.current.mirror=!0}}}var euI=SV(Sz());function euT(t){let n=Ju(),{t:i}=qL(),r=Jv(eea),[s,o]=(0,euI.useState)(()=>n.editor.getEditMode());(0,euI.useEffect)(()=>{let t=!0,i=n.editor.onStateChanged(()=>{t&&o(n.editor.getEditMode())});return()=>{t=!1,i()}},[n.editor]);let{contentFillMode:a,height:l,width:c,isFillEnabled:u}=Jh(n,()=>({isFillEnabled:n.block.supportsFill(t)&&n.block.isFillEnabled(t),contentFillMode:n.block.getContentFillMode(t),width:n.block.getFrameWidth(t),height:n.block.getFrameHeight(t)})),d="Crop"===a;return{hasCrop:d,valueLabel:d?`${+c.toFixed(1)} \xd7 ${+l.toFixed(1)}`:i("common.select"),isOpen:"Crop"===s,openSubInspector:(0,euI.useCallback)(()=>{n.editor.setEditMode("Crop")},[n.editor]),closeSubInspector:(0,euI.useCallback)(()=>{n.editor.setEditMode("Transform")},[n.editor]),isDisabled:!u||!r,reset:()=>{n.block.resetCrop(t)}}}var euB,euL,euj=SV(S$()),euP=Jg(({block:t,engine:n})=>{let{t:i}=qL(),r=KU(),s="Contain"===n.block.getContentFillMode(t),{cropScaleRatio:o,cropStraightenAngle:a,cropScaleOnChangeHandler:l,cropStraightenOnChangeHandler:c,cropStraightenOnReleaseHandler:u,cropTurnOnClickHandler:d,cropTurnOnBlurHandler:p,cropMirrorXOnClickHandler:h,cropMirrorYOnClickHandler:f,cropMirrorOnBlurHandler:m}=euM(t),{isDisabled:g}=euT(t),x=n.block.getContentFillMode(t);return(0,euj.jsxs)(euj.Fragment,{children:["Contain"!==x&&(0,euj.jsx)(eup,{block:t}),(0,euj.jsxs)(H8,{title:i("property.crop.transform"),headingLevel:3,children:[(0,euj.jsx)(euw,{block:t,isDisabled:g}),(0,euj.jsx)(Qe,{children:(0,euj.jsx)(er2,{name:"crop/straighten",label:i("property.crop.straighten"),value:a,min:-45,max:45,step:1,maxFractionDigits:0,centeredZeroPosition:!0,isDisabled:g,onChange:c,onRelease:()=>{r("action.image.crop"),u()}})}),(0,euj.jsxs)(Qe,{children:[(0,euj.jsx)(Uo,{isDisabled:g,children:i("action.crop.turnAndMirror")}),(0,euj.jsx)(U6,{label:i("action.crop.turn"),children:(0,euj.jsx)(DR,{name:"crop/turn","aria-label":i("action.crop.turn"),isDisabled:g,onClick:()=>{d(),r("action.image.crop")},onBlur:p,children:(0,euj.jsx)(ec9,{})})}),(0,euj.jsx)(U6,{label:i("action.crop.mirrorX"),children:(0,euj.jsx)(DR,{name:"crop/mirrorX","aria-label":i("action.crop.mirrorX"),isDisabled:g,onClick:()=>{h(),r("action.image.crop")},onBlur:m,children:(0,euj.jsx)(ea1,{})})}),(0,euj.jsx)(U6,{label:i("action.crop.mirrorY"),children:(0,euj.jsx)(DR,{name:"crop/mirrorY","aria-label":i("action.crop.mirrorY"),isDisabled:g,onClick:()=>{f(),r("action.image.crop")},onBlur:m,children:(0,euj.jsx)(ec8,{})})})]}),"Contain"!==x&&(0,euj.jsxs)(euj.Fragment,{children:[(0,euj.jsx)(Qe,{children:(0,euj.jsx)(Hp,{})}),(0,euj.jsx)(Qe,{children:(0,euj.jsx)(VP,{name:"crop/scale",label:i("property.crop.scale"),isDisabled:g||s,children:t=>(0,euj.jsx)(Vz,{...t,min:1,maxFractionDigits:2,step:1,value:o,unitLabel:"%",id:"crop/scale",onChange:l,onRelease:()=>r("action.image.crop"),"aria-label":i("property.crop.scale.description"),isDisabled:g||s})})}),(0,euj.jsx)(euS,{block:t})]})]})]})}),euR=(SV(Sz()),SV(S$())),euD=t=>(0,euR.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,euR.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4057 6.84363L10.781 17.6245C10.4436 18.0463 9.8322 18.1239 9.4001 17.7998L4.6001 14.1998L5.8001 12.5998L9.82471 15.6183L17.8439 5.59424L19.4057 6.84363Z",fill:"currentColor"})}),euF="UBQ_InBarCropControls-module__areaGroup---usYN",euO=SV(S$()),euN=function({block:t}){let n=YB(),{t:i}=qL(),r=KU(),{cropStraightenAngle:s,cropStraightenOnChangeHandler:o,cropStraightenOnReleaseHandler:a,cropTurnOnClickHandler:l,cropTurnOnBlurHandler:c,cropMirrorXOnClickHandler:u,cropMirrorYOnClickHandler:d}=euM(t),{hasCrop:p,isDisabled:h,reset:f}=euT(t);return(0,euO.jsxs)(euO.Fragment,{children:[(0,euO.jsx)("span",{className:euF,children:(0,euO.jsx)(euw,{block:t,inBar:!0,isDisabled:h})}),(0,euO.jsxs)("span",{className:euF,children:[(0,euO.jsx)(VP,{name:"crop/straighten",label:i("property.crop.straighten"),children:t=>(0,euO.jsx)(H5,{...t,toggleNumberInputAriaLabel:i("property.crop.straighten"),value:s,min:-45,max:45,step:1,maxFractionDigits:0,centeredZeroPosition:!0,onChange:t=>o(Number.parseFloat(t.target.value)),onNumberInputChange:o,onRelease:()=>{a(),r("action.image.crop")}})}),(0,euO.jsx)(U6,{label:i("action.crop.turn"),children:(0,euO.jsx)(DR,{name:"crop/turn",variant:"plain","aria-label":i("action.crop.turn"),isDisabled:h,onClick:()=>{l(),r("action.image.crop")},onBlur:c,children:(0,euO.jsx)(ec9,{})})}),(0,euO.jsx)(U6,{label:i("action.crop.mirrorX"),children:(0,euO.jsx)(DR,{name:"crop/mirrorX",variant:"plain","aria-label":i("action.crop.mirrorX"),isDisabled:h,onClick:()=>{u(),r("action.image.crop")},children:(0,euO.jsx)(ea1,{})})}),(0,euO.jsx)(U6,{label:i("action.crop.mirrorY"),children:(0,euO.jsx)(DR,{name:"crop/mirrorY",variant:"plain","aria-label":i("action.crop.mirrorY"),isDisabled:h,onClick:()=>{d(),r("action.image.crop")},children:(0,euO.jsx)(ec8,{})})})]}),(0,euO.jsx)("span",{className:euF,children:(0,euO.jsx)(DR,{icon:(0,euO.jsx)(esC,{}),name:"crop-reset",variant:"plain","aria-label":i("action.crop.reset"),isDisabled:!p||h,onClick:()=>{f(),r("action.image.crop")},children:i("common.reset")})}),(0,euO.jsx)("span",{className:euF,children:(0,euO.jsx)(DR,{icon:(0,euO.jsx)(euD,{}),name:"crop-done","aria-label":i("action.crop.exit"),onClick:()=>{n.engine.editor.setEditMode("Transform")},color:"accent",children:i("common.done")})})]})},euU=SV(S$()),euV=Xc(Jg(function({engine:t,children:n}){let i=YT(),{blocks:r}=Kb();if(!i.feature.isEnabled("ly.img.crop",{engine:t}))return null;let s=t.block.findAllSelected()[0];if(!s)return null;let o=t.block.getType(s),a=t.block.supportsFill(s)?t.block.getFill(s):void 0,l=null!=a&&t.block.isValid(a)?t.block.getType(a):void 0,c=t.block.supportsCrop(s),u=r[o],d=!!(u&&"cropEnabled"in u&&u.cropEnabled)&&u.cropEnabled;return c&&c&&d&&("//ly.img.ubq/fill/image"===l||"//ly.img.ubq/fill/video"===l)?n({block:s}):null})),euH=Xc(function({block:t,inBar:n=!1,fillContainer:i,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),a=Jv(eea),{openSubInspector:l,isDisabled:c,hasCrop:u,valueLabel:d}=euT(t),[p]=erU("//ly.img.panel/inspector/crop",KA());if(!a&&"hide"===r)return null;let h=s("property.crop");return n?(0,euU.jsx)(U6,{label:s("property.crop.tooltip"),children:(0,euU.jsx)(DR,{icon:(0,euU.jsx)(eaG,{}),"data-cy":"crop",name:"inspectorbar-crop",onClick:l,variant:"plain","aria-label":s("property.crop"),isDisabled:c,children:s("property.crop")})}):(0,euU.jsxs)(Qe,{children:[(0,euU.jsx)(Uo,{isDisabled:c,children:h}),(0,euU.jsx)(U6,{label:s("property.crop.tooltip"),children:(0,euU.jsxs)(DR,{name:h,variant:"regular",icon:(0,euU.jsx)(eaG,{}),isActive:u,activeStateStyle:"outline",onClick:function(){p?o.ui.closePanel("//ly.img.panel/inspector/crop"):o.ui.openPanel("//ly.img.panel/inspector/crop")},isDisabled:c||!a,"data-cy":"crop",children:[d,(0,euU.jsx)(ei7,{})]})}),!i&&(0,euU.jsx)(eam,{})]})});(euL=euB||(euB={})).SupportGuard=euV,euL.PanelContent=function({block:t}){let{t:n}=qL(),i=KU(),{hasCrop:r,reset:s}=euT(t);return(0,euU.jsxs)(euU.Fragment,{children:[(0,euU.jsx)(erK.Header,{action:(0,euU.jsxs)(DR,{name:"reset",onClick:()=>{s(),i("action.image.crop")},"aria-label":n("common.reset"),"data-cy":"reset-crop-subInspector",variant:"plain",isDisabled:!r,children:[n("common.reset"),(0,euU.jsx)(esC,{})]}),children:(0,euU.jsx)(erK.Title,{children:n("property.crop")})}),(0,euU.jsx)(erK.Content,{children:(0,euU.jsx)(euP,{block:t})})]})},euL.Control=function({inBar:t,fillContainer:n,deniedByScopeBehavior:i}){return(0,euU.jsx)(euV,{children:r=>(0,euU.jsx)(euH,{inBar:t,fillContainer:n,deniedByScopeBehavior:i,...r})})},euL.InBarInspector=function(){return(0,euU.jsx)(euV,{children:t=>(0,euU.jsx)(euN,{...t})})};var euQ=euB,euz=SV(Sz()),euG=function(t){return t.toLowerCase().replace(/([-_][a-z])/g,t=>t.toUpperCase().replace("-","").replace("_",""))},euq=SV(SH()),euW=(SV(Sz()),"UBQ_InspectorLibrary-module__block--jzZCr"),eu$=SV(S$());function euZ({items:t,renderCollapsableContent:n,useBannerCards:i=!1,backgroundType:r,queryActiveSelection:s,isDisabled:o}){let a=i?H$:HG;return(0,eu$.jsx)("div",{className:(0,euq.default)(euW,{"UBQ_InspectorLibrary-module__singleColumn--ZzuED":i}),children:t.map((t,i)=>{let l=!!s&&s(t,i);return(0,eu$.jsxs)("div",{"data-id":t.id,children:[(0,eu$.jsx)(a,{backgroundImage:t.uri,backgroundType:r,onClick:t.onClick||Kk,"aria-label":t.ariaLabel,"data-cy":t["data-cy"]||t.id,isActive:l,isDisabled:o||t.isDisabled,children:t.label&&(0,eu$.jsx)(H$.Label,{children:t.label})}),(0,eu$.jsx)(Da,{children:l&&n&&n(t)},`${t.id}-collapsable`)]},t.id)})})}euZ.defaultProps={withBackground:!0};var euY=SV(Sz()),euK={effects:["//ly.img.ubq/effect/pixelize","//ly.img.ubq/effect/radial_pixel","//ly.img.ubq/effect/cross_cut","//ly.img.ubq/effect/liquid","//ly.img.ubq/effect/outliner","//ly.img.ubq/effect/dot_pattern","//ly.img.ubq/effect/posterize","//ly.img.ubq/effect/tv_glitch","//ly.img.ubq/effect/half_tone","//ly.img.ubq/effect/linocut","//ly.img.ubq/effect/shifter","//ly.img.ubq/effect/mirror","//ly.img.ubq/effect/glow","//ly.img.ubq/effect/vignette","//ly.img.ubq/effect/tilt_shift","//ly.img.ubq/effect/extrude_blur","//ly.img.ubq/effect/sharpie","//ly.img.ubq/effect/recolor","//ly.img.ubq/effect/green_screen"],filters:["//ly.img.ubq/effect/lut_filter","//ly.img.ubq/effect/duotone_filter"],adjustments:["//ly.img.ubq/effect/adjustments"]},euX=["filters","adjustments","effects"].reduce((t,n)=>(euK[n].forEach(i=>{t[i]=n}),t),{}),euJ={"effect/pixelize/horizontalPixelSize":{min:5,max:50,step:1,defaultValue:20},"effect/pixelize/verticalPixelSize":{min:5,max:50,step:1,defaultValue:20},"effect/radial_pixel/radius":{min:.05,max:1,step:.01,defaultValue:.1},"effect/radial_pixel/segments":{min:.01,max:1,step:.01,defaultValue:.01},"effect/cross_cut/slices":{min:1,max:10,step:1,defaultValue:5},"effect/cross_cut/offset":{min:0,max:1,step:.01,defaultValue:.07},"effect/cross_cut/speedV":{min:0,max:1,step:.01,defaultValue:.5},"effect/cross_cut/time":{min:0,max:1,step:.01,defaultValue:1},"effect/liquid/amount":{min:0,max:1,step:.01,defaultValue:.06},"effect/liquid/scale":{min:0,max:1,step:.01,defaultValue:.62},"effect/liquid/time":{min:0,max:1,step:.01,defaultValue:.5},"effect/outliner/amount":{min:0,max:1,step:.01,defaultValue:.5},"effect/outliner/passthrough":{min:0,max:1,step:.01,defaultValue:.5},"effect/dot_pattern/dots":{min:1,max:80,step:1,defaultValue:30},"effect/dot_pattern/size":{min:0,max:1,step:.01,defaultValue:.5},"effect/dot_pattern/blur":{min:0,max:1,step:.01,defaultValue:.3},"effect/posterize/levels":{min:1,max:15,step:1,defaultValue:3},"effect/tv_glitch/distortion":{min:0,max:10,step:.1,defaultValue:3},"effect/tv_glitch/distortion2":{min:0,max:5,step:.05,defaultValue:1},"effect/tv_glitch/speed":{min:0,max:5,step:.05,defaultValue:2},"effect/tv_glitch/rollSpeed":{min:0,max:3,step:.1,defaultValue:1},"effect/half_tone/angle":{min:0,max:1,step:.01,defaultValue:0},"effect/half_tone/scale":{min:0,max:1,step:.01,defaultValue:.5},"effect/linocut/scale":{min:0,max:1,step:.01,defaultValue:.5},"effect/shifter/amount":{min:0,max:1,step:.01,defaultValue:.05},"effect/shifter/angle":{min:0,max:6.3,step:.1,defaultValue:.3},"effect/mirror/side":{min:0,max:3,step:1,defaultValue:1},"effect/glow/size":{min:0,max:10,step:.1,defaultValue:4},"effect/glow/amount":{min:0,max:1,step:.01,defaultValue:.5},"effect/glow/darkness":{min:0,max:1,step:.01,defaultValue:.3},"effect/vignette/offset":{min:0,max:5,step:.05,defaultValue:1},"effect/vignette/darkness":{min:0,max:1,step:.01,defaultValue:1},"effect/tilt_shift/amount":{min:0,max:.02,step:.001,defaultValue:.016},"effect/tilt_shift/position":{min:0,max:1,step:.01,defaultValue:.4},"uniform_blur/intensity":{min:0,max:1,step:.01,defaultValue:.5},"effect/extrude_blur/amount":{min:0,max:1,step:.01,defaultValue:.2},"effect/adjustments/brightness":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/saturation":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/contrast":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/gamma":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/clarity":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/exposure":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/shadows":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/highlights":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/blacks":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/whites":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/temperature":{min:-1,max:1,step:.01,defaultValue:0},"effect/adjustments/sharpness":{min:-1,max:1,step:.01,defaultValue:0},"effect/duotone_filter/intensity":{min:-1,max:1,step:.01,defaultValue:0},"effect/lut_filter/intensity":{min:0,max:1,step:.01,defaultValue:1},"effect/recolor/fromColor":{min:0,max:1,step:.01,defaultValue:0,includeAlpha:!1},"effect/recolor/toColor":{min:0,max:1,step:.01,defaultValue:0,includeAlpha:!1},"effect/green_screen/fromColor":{min:0,max:1,step:.01,defaultValue:0,includeAlpha:!1},"blur/uniform/intensity":{min:0,max:1,step:.01,defaultValue:.5},"blur/linear/blurRadius":{min:0,max:50,step:.5,defaultValue:30},"blur/linear/x1":{min:0,max:1,step:.01,defaultValue:0},"blur/linear/y1":{min:0,max:1,step:.01,defaultValue:.5},"blur/linear/x2":{min:0,max:1,step:.01,defaultValue:1},"blur/linear/y2":{min:0,max:1,step:.01,defaultValue:.5},"blur/mirrored/blurRadius":{min:0,max:100,step:1,defaultValue:30},"blur/mirrored/gradientSize":{min:0,max:100,step:1,defaultValue:50},"blur/mirrored/size":{min:0,max:100,step:1,defaultValue:75},"blur/mirrored/x1":{min:0,max:1,step:.01,defaultValue:0},"blur/mirrored/y1":{min:0,max:1,step:.01,defaultValue:.5},"blur/mirrored/x2":{min:0,max:1,step:.01,defaultValue:1},"blur/mirrored/y2":{min:0,max:1,step:.01,defaultValue:.5},"blur/radial/blurRadius":{min:0,max:100,step:1,defaultValue:30},"blur/radial/gradientRadius":{min:0,max:100,step:1,defaultValue:50},"blur/radial/radius":{min:0,max:100,step:1,defaultValue:75},"blur/radial/x":{min:0,max:1,step:.01,defaultValue:.5},"blur/radial/y":{min:0,max:1,step:.01,defaultValue:.5}},eu0={min:0,max:1,step:.01};function eu1(t){return euJ[t]??eu0}var eu2=new Map([["//ly.img.ubq/effect/recolor",new Map(["effect/recolor/fromColor","effect/recolor/colorMatch","effect/recolor/brightnessMatch","effect/recolor/smoothness","effect/recolor/toColor"].map((t,n)=>[t,n]))],["//ly.img.ubq/effect/green_screen",new Map(["effect/green_screen/fromColor","effect/green_screen/colorMatch","effect/green_screen/smoothness","effect/green_screen/spill"].map((t,n)=>[t,n]))]]),eu3=RegExp("//ly.img.ubq/effect/(.*)"),eu5=RegExp("//ly.img.ubq/blur/(.*)"),eu4=t=>n=>{let i=n.match(t);return i?i[1]:n},eu6=eu4(eu3),eu8=eu4(eu5),eu7=SV(S$()),eu9={show:{height:"auto",opacity:1,marginTop:"var(--ubq-margin-m)",overflow:"visible"},hide:{height:0,opacity:0,marginTop:0,overflow:"hidden"}},ede=function({blurId:t,blurType:n}){let{t:i}=qL(),r=Ju(),s=(0,euY.useMemo)(()=>{let i=eay(n);return r.block.findAllProperties(t).filter(t=>t.startsWith(i))},[r.block,t,n]);return(0,eu7.jsx)(R1.div,{variants:eu9,initial:"hide",animate:"show",exit:"hide",children:s.map(r=>(0,eu7.jsx)(Qe,{"data-cy":"slider-input-row",children:(0,eu7.jsx)(er5,{label:i(`property.blur.${euG(eu8(n))}Blur.${r.split("/").pop()}`),property:r,block:t,centeredZeroPosition:!1,...eu1(r)})},r))})},edt=SV(S$());function edn(t,n){return t(`property.blur.${euG(eu8(n))}Blur`)}var edi,edr,eds=function({blurId:t,setBlur:n,removeBlur:i,blurType:r}){let{t:s}=qL(),o=Ju(),a=JH(),l=(0,euz.useRef)(null),c=Vx(n),u=Vx(i),[d]=K1(KK().assetSourceIdsChannel),{data:p}=Jo(["asset-sources","ly.img.blur"],()=>o.asset.findAssets("ly.img.blur",{page:0,perPage:1e3}),{enabled:d.includes("ly.img.blur")}),h=(0,euz.useMemo)(()=>p?.assets.filter(t=>t.meta?.blurType).map(t=>{let n=t.meta?.blurType;return{id:n,"data-cy":`blur-${n}`,label:edn(s,n),uri:`${a.ui.baseURL}blur/${eu8(n)}.jpeg`,onClick:()=>{r===n?u():c(o.block.createBlur(n))}}})??[],[r,a.ui.baseURL,p?.assets,o.block,u,c,s]);return(0,edt.jsx)("div",{ref:l,children:(0,edt.jsx)(euZ,{useBannerCards:!0,items:h,renderCollapsableContent:({id:n})=>t?(0,edt.jsx)(ede,{blurId:t,blurType:n}):null,queryActiveSelection:({id:t})=>t===r})})},edo=SV(SH()),eda="UBQ_Effects-module__container--l82pJ",edl="UBQ_Effects-module__iconStack--oMlPH",edc="UBQ_Effects-module__disabled--NCvNX",edu=SV(S$()),edd=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.blur",{engine:t}),{blocks:r}=Kb(),[s]=t.block.findAllSelected();if(null==s)return null;let o=t.block.getType(s),a=t.block.hasBlur(s),l=r[o];return!(!l||!("blurEnabled"in l))&&l.blurEnabled&&a&&i?n({block:s}):null})),edp=Jg(function({engine:t,block:n}){let{t:i}=qL(),r=KU(),s=t.block.isAllowedByScope(n,eeh),o=t.block.isValid(n)&&t.block.hasBlur(n)?t.block.getBlur(n):void 0,a=null!=o&&t.block.isValid(o),l=!!a&&t.block.isBlurEnabled(n),c=a?t.block.getType(o):void 0,u=c?edn(i,c):i("common.select"),d=()=>{o&&t.block.destroy(o)};return(0,edu.jsxs)(edu.Fragment,{children:[(0,edu.jsx)(erK.Header,{action:null!=n?(0,edu.jsxs)(edu.Fragment,{children:[(0,edu.jsxs)(DR,{name:"reset",onClick:()=>{d(),r("action.property.reset")},"aria-label":i("common.reset"),"data-cy":"reset-blur-subInspector",variant:"plain",isDisabled:!a||!s||!l,children:[i("common.reset"),(0,edu.jsx)(esC,{})]}),(0,edu.jsx)(eah,{label:u,isEnabled:l,toggleProperty:()=>{a&&t.block.setBlurEnabled(n,!l)},isDisabled:!s||!a,"data-cy":"propertyToggle-blur"})]}):null,children:(0,edu.jsx)(erK.Title,{children:i("input.blur")})}),(0,edu.jsx)(erK.Content,{children:(0,edu.jsx)("div",{className:eda,"data-cy":"subInspector_scroll_content_wrapper",children:(0,edu.jsx)(z2,{isDisabled:a&&!l,onClick:()=>{a&&t.block.setBlurEnabled(n,!l)},label:i(l?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:u}),children:(0,edu.jsx)(eds,{blurId:o,blurType:c,setBlur:i=>{t.block.setBlur(n,i),r("action.image.blur")},removeBlur:d})})})})]})}),edh=Xc(Jg(function({engine:t,block:n,inBar:i=!1,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),[a]=erU("//ly.img.panel/inspector/blur",KA());function l(){a?o.ui.closePanel("//ly.img.panel/inspector/blur"):o.ui.openPanel("//ly.img.panel/inspector/blur")}let c=t.block.isAllowedByScope(n,eeh);if(!c&&"hide"===r)return null;let u=t.block.getBlur(n),d=t.block.isValid(u),p=!!d&&t.block.isBlurEnabled(n),h=d?t.block.getType(u):void 0,f=h?edn(s,h):s("common.select"),m=!!d&&!p||!c,g=s("input.blur");return i?(0,edu.jsx)(U6,{label:s("input.blur.tooltip"),children:(0,edu.jsx)(DR,{name:g,variant:a?"regular":"plain",icon:(0,edu.jsxs)(UU,{className:(0,edo.default)(edl,{[edc]:d&&!p}),children:[(0,edu.jsx)(eaQ,{}),d&&!p&&(0,edu.jsx)(Uz,{})]}),isActive:d,activeStateStyle:"pill",onClick:l,isDisabled:!c,"data-cy":"blur",children:g})}):(0,edu.jsxs)(Qe,{children:[(0,edu.jsx)(Uo,{isDisabled:m,children:g}),(0,edu.jsx)(U6,{label:s("input.blur.tooltip"),children:(0,edu.jsxs)(DR,{name:g,variant:"regular",icon:(0,edu.jsx)(eaQ,{}),isActive:d,activeStateStyle:"pill",onClick:l,isDisabled:m,"data-cy":"blur",children:[f,(0,edu.jsx)(ei7,{})]})}),d?(0,edu.jsx)(eah,{label:f,isEnabled:p,toggleProperty:()=>{d&&t.block.setBlurEnabled(n,!p)},isDisabled:!c||!d,"data-cy":"propertyToggle-blur"}):(0,edu.jsx)(eam,{})]})}));(edr=edi||(edi={})).SupportGuard=edd,edr.PanelContent=edp,edr.Control=function(t){return(0,edu.jsx)(edd,{children:({block:n})=>(0,edu.jsx)(edh,{block:n,...t})})};var edf=edi,edm=SV(SH()),edg=SV(Sz()),edx=SV(S$()),edy=["effect/adjustments/brightness","effect/adjustments/saturation","effect/adjustments/contrast","effect/adjustments/gamma"],edv=["effect/adjustments/clarity","effect/adjustments/exposure","effect/adjustments/shadows","effect/adjustments/highlights","effect/adjustments/blacks","effect/adjustments/whites","effect/adjustments/temperature","effect/adjustments/sharpness"],edb=edy.concat(edv);function edA(t,n){return t(`property.adjustments.${n.split("/").pop()}`)}var edw=function({effectId:t}){let{t:n}=qL();return(0,edx.jsxs)(edx.Fragment,{children:[(0,edx.jsx)(ecx,{title:n("input.adjustments.basic"),children:edy.map(i=>(0,edx.jsx)(Qe,{"data-cy":"slider-input-row",children:(0,edx.jsx)(er5,{label:edA(n,i),block:t,property:i,...eu1(i)})},i))}),(0,edx.jsx)(ecx,{title:n("input.adjustments.refinements"),children:edv.map(i=>(0,edx.jsx)(Qe,{"data-cy":"slider-input-row",children:(0,edx.jsx)(er5,{label:edA(n,i),block:t,property:i,...eu1(i)})},i))})]})},edC=SV(Sz()),ed_=class t{constructor(t,n,i,r,s,o,a){this.id=t,this.slotIndex=n,this.effectStackIndex=i,this.effectGroup=r,this.effectId=s,this.effectType=o,this.isPlaceholder=a}static Slot(n,i,r,s,o){return new t(s.toString(),n,i,r,s,o,!1)}static Placeholder(n,i,r,s){return new t(s?.toString()??Math.random().toString(36).substring(2,9),n,i,r,void 0,void 0,!0)}};function edS(t){let n=Ju(),i=KU(),r=(0,edC.useRef)([]),s=Jh(n,()=>n.block.getEffects(t)),o=(0,edC.useMemo)(()=>{let t=function(t,n){let i={filters:[],adjustments:[],effects:[]};return n.forEach((n,r)=>{let s=t.block.getType(n),o=euX[s];if(!o)return;let a=ed_.Slot(i[o].length,r,o,n,s);i[o].push(a)}),i}(n,s);return r.current=r.current.filter(t=>s[t.effectStackIndex]?.toString()!==t.id),r.current.length&&r.current.forEach(n=>{t[n.effectGroup]=[...t[n.effectGroup].slice(0,n.slotIndex),n,...t[n.effectGroup].slice(n.slotIndex).map(t=>({...t,slotIndex:t.slotIndex+1}))]}),{filters:t.filters.length>0?t.filters:[ed_.Placeholder(0,s.length,"filters")],adjustments:t.adjustments.length>0?t.adjustments:[ed_.Placeholder(0,s.length,"adjustments")],effects:t.effects.length>0?t.effects:[ed_.Placeholder(0,s.length,"effects")]}},[n,s,r]),a=(0,edC.useCallback)((a,l)=>{if(l.isPlaceholder){r.current=r.current.filter(t=>t.id!==l.id);let i=Math.min(l.effectStackIndex,s.length);for(let t of o[l.effectGroup].slice(l.slotIndex))if(!t.isPlaceholder){i=t.effectStackIndex;break}n.block.insertEffect(t,a,i)}else n.block.removeEffect(t,l.effectStackIndex),n.block.insertEffect(t,a,l.effectStackIndex);"effects"===l.effectGroup&&i("action.effect.add"),"filters"===l.effectGroup&&i("action.filter.add")},[n.block,t,o,s.length,i]),l=(0,edC.useCallback)(s=>{if(!s.isPlaceholder){if(o[s.effectGroup].length>1){let t=ed_.Placeholder(s.slotIndex,s.effectStackIndex,s.effectGroup,s.effectId);r.current=[...r.current,t].sort((t,n)=>t.slotIndex-n.slotIndex)}n.block.removeEffect(t,s.effectStackIndex),"effects"===s.effectGroup&&i("action.effect.remove"),"filters"===s.effectGroup&&i("action.filter.remove")}},[n.block,t,o,i]);return{filters:o.filters,adjustments:o.adjustments,effects:o.effects,insertEffect:a,removeEffect:l}}var edk,edE,edM=SV(S$()),edI=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.adjustment",{engine:t}),{blocks:r}=Kb(),[s]=t.block.findAllSelected();if(null==s)return null;let o=t.block.getType(s),a=t.block.hasEffects(s),l=r[o];return!(!l||!("adjustmentsEnabled"in l))&&l.adjustmentsEnabled&&a&&i?n({block:s}):null})),edT=Xc(Jg(function({engine:t,block:n,effectId:i}){let{t:r}=qL(),s=KU(),o=YB(),{adjustments:a,insertEffect:l,removeEffect:c}=edS(n),u=t.block.isAllowedByScope(n,eeu),d=t.block.isAllowedByScope(n,eep),p=a.find(t=>t.effectId===i)??a[0],[h]=erU("//ly.img.panel/inspector/adjustments",KA());(0,edg.useEffect)(()=>{h&&null!=p&&null==p?.effectId?l(t.block.createEffect("//ly.img.ubq/effect/adjustments"),p):!h&&null!=p?.effectId&&(edb.some(n=>0!==t.block.getFloat(p.effectId,n))||c(p))},[p,t.block,l,h,c]);let[f,m]=(0,edg.useState)(!1),[g,x]=(0,edg.useState)(()=>edj(r,t,i)),y=(0,edg.useCallback)(()=>{m(null!=p?.effectId&&t.block.isValid(p.effectId)&&edb.some(n=>0!==t.block.getFloat(p.effectId,n)))},[p?.effectId,t.block]),v=(0,edg.useCallback)(()=>{x(edj(r,t,i))},[i,t,r]);KV("action.property.update",()=>{y(),v()}),KV("action.property.reset",()=>{y(),v()}),(0,edg.useEffect)(()=>(y(),o.getHistoryStateEmitter().addGlobalListener(t=>{t.some(({event:t})=>"undo"===t||"redo"===t)&&(y(),v())})),[o,y,v]);let b=null!=p?.effectId&&t.block.isValid(p.effectId),A=b&&t.block.isEffectEnabled(p.effectId);return(0,edM.jsxs)(edM.Fragment,{children:[(0,edM.jsx)(erK.Header,{action:null!=n?(0,edM.jsxs)(edM.Fragment,{children:[(0,edM.jsxs)(DR,{name:"reset",onClick:()=>{p?.effectId&&(edb.forEach(n=>{t.block.setFloat(p.effectId,n,0)}),s("action.property.reset"))},"aria-label":r("common.reset"),"data-cy":"reset-adjustments-subInspector",variant:"plain",isDisabled:!(f&&u&&d&&A),children:[r("common.reset"),(0,edM.jsx)(esC,{})]}),(0,edM.jsx)(eah,{label:g,isEnabled:A,toggleProperty:()=>{b&&t.block.setEffectEnabled(p.effectId,!A)},isDisabled:!u||!d||!f,"data-cy":"propertyToggle-adjustments"})]}):null,children:(0,edM.jsx)(erK.Title,{children:r("input.adjustments")})}),(0,edM.jsx)(erK.Content,{children:(0,edM.jsx)(z2,{isDisabled:!A,onClick:()=>{b&&t.block.setEffectEnabled(p.effectId,!0)},label:r(A?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:g}),children:b?(0,edM.jsx)(edw,{effectId:p.effectId}):null})})]})})),edB=Xc(Jg(function({engine:t,effectId:n,block:i,inBar:r=!1,deniedByScopeBehavior:s="disable"}){let{t:o}=qL(),a=YT(),l=YB(),[c]=erU("//ly.img.panel/inspector/adjustments",KA());function u(){c?a.ui.closePanel("//ly.img.panel/inspector/adjustments"):a.ui.openPanel("//ly.img.panel/inspector/adjustments",{payload:{effectId:n}})}let d=t.block.isAllowedByScope(i,eeu),p=t.block.isAllowedByScope(i,eep),[h,f]=(0,edg.useState)(!1),[m,g]=(0,edg.useState)(()=>edj(o,t,n)),x=(0,edg.useCallback)(()=>{f(null!=n&&t.block.isValid(n)&&edb.some(i=>0!==t.block.getFloat(n,i)))},[n,t.block]),y=(0,edg.useCallback)(()=>{g(edj(o,t,n))},[n,t,o]);if(KV("action.property.update",()=>{x(),y()}),KV("action.property.reset",()=>{x(),y()}),(0,edg.useEffect)(()=>(g(edj(o,t,n)),x(),l.getHistoryStateEmitter().addGlobalListener(t=>{t.some(({event:t})=>"undo"===t||"redo"===t)&&(x(),y())})),[n,t,l,o,x,y]),!(d&&p||"hide"!==s))return null;let v=null!=n&&t.block.isValid(n),b=v&&t.block.isEffectEnabled(n),A=!!n&&!b||!d||!p,w=o("input.adjustments");return r?(0,edM.jsx)(U6,{label:o("input.adjustments.tooltip"),children:(0,edM.jsx)(DR,{name:w,variant:c?"regular":"plain",icon:(0,edM.jsxs)(UU,{className:(0,edm.default)(edl,{[edc]:v&&!b}),children:[(0,edM.jsx)(eaN,{}),v&&!b&&(0,edM.jsx)(Uz,{})]}),isActive:h,activeStateStyle:"pill",onClick:u,isDisabled:!d||!p,"data-cy":"adjustments",children:w})}):(0,edM.jsxs)(Qe,{children:[(0,edM.jsx)(Uo,{isDisabled:A,children:w}),(0,edM.jsx)(U6,{label:o("input.adjustments.tooltip"),children:(0,edM.jsxs)(DR,{name:w,variant:"regular",icon:(0,edM.jsx)(eaN,{}),isActive:v,activeStateStyle:"pill",onClick:u,isDisabled:A,"data-cy":"adjustments",children:[m,(0,edM.jsx)(ei7,{})]})}),null!=n?(0,edM.jsx)(eah,{label:m,isEnabled:b,toggleProperty:()=>{v&&t.block.setEffectEnabled(n,!b)},isDisabled:!d||!p||!h,"data-cy":"propertyToggle-adjustments"}):(0,edM.jsx)(eam,{})]})}));function edL({block:t,...n}){let{adjustments:i}=edS(t);return(0,edM.jsx)(edM.Fragment,{children:i.map(i=>(0,edM.jsx)(edB,{effectId:i.effectId,block:t,...n},i.slotIndex))})}function edj(t,n,i){if(null==i||!n.block.isValid(i))return t("common.select");let r=edb.filter(t=>0!==n.block.getFloat(i,t));switch(r.length){case 0:return t("common.select");case 1:return edA(t,r[0]);default:return t("common.mixed")}}(edE=edk||(edk={})).SupportGuard=edI,edE.PanelContent=edT,edE.ControlStack=function(t){return(0,edM.jsx)(edI,{children:({block:n})=>(0,edM.jsx)(edL,{block:n,...t})})};var edP=edk,edR=SV(Sz()),edD=SV(Sz()),edF=SV(S$()),edO={show:{height:"auto",opacity:1,marginTop:"var(--ubq-margin-m)",overflow:"visible"},hide:{height:0,opacity:0,marginTop:0,overflow:"hidden"}},edN=function({effectId:t,property:n}){let{t:i}=qL();return(0,edF.jsx)(R1.div,{variants:edO,initial:"hide",animate:"show",exit:"hide",children:(0,edF.jsx)(Qe,{"data-cy":"slider-input-row",children:(0,edF.jsx)(er5,{label:i("property.duoToneFilterIntensity"),block:t,property:n,centeredZeroPosition:!1,...eu1(n)})})})},edU=SV(S$());function edV({insertEffect:t,removeEffect:n,currentDuotoneFilter:i,assets:r}){let{t:s}=qL(),o=Ju(),a=(0,edD.useMemo)(()=>r.map(r=>{let a=r.meta?r.meta.thumbUri:"",l=o.editor.getAbsoluteURI(a);return{id:`${r.context.sourceId}.${r.id}`,"data-cy":`filter-${r.id}`,label:edQ(s,r.id),uri:l,onClick(){if(r.id===i?.asset.id)n();else{let n=o.block.createEffect("//ly.img.ubq/effect/duotone_filter"),i=UT(r.meta?.darkColor);o.block.setColorRGBA(n,"effect/duotone_filter/darkColor",i.r,i.g,i.b,i.a);let s=UT(r.meta?.lightColor);o.block.setColorRGBA(n,"effect/duotone_filter/lightColor",s.r,s.g,s.b,s.a),t(n)}}}}),[o.block,o.editor,r,i?.asset.id,t,n,s]);return(0,edU.jsx)(euZ,{useBannerCards:!0,items:a,renderCollapsableContent:()=>i?.effectId?(0,edU.jsx)(edN,{effectId:i.effectId,property:"effect/duotone_filter/intensity"}):null,queryActiveSelection:({id:t})=>t===`${i?.asset.context.sourceId}.${i?.asset.id}`})}function edH({insertEffect:t,removeEffect:n,currentLutFilter:i,assets:r}){let{t:s}=qL(),o=Ju(),a=(0,edD.useMemo)(()=>r.map(r=>{let a=r.meta?r.meta.thumbUri:"",l=o.editor.getAbsoluteURI(a);return{id:`${r.context.sourceId}.${r.id}`,"data-cy":`filter-${r.id}`,label:edQ(s,r.id),uri:l,onClick(){if(r.id===i?.asset.id)n();else{let n=o.block.createEffect("//ly.img.ubq/effect/lut_filter");o.block.setString(n,"effect/lut_filter/lutFileURI",r.meta?.uri),o.block.setInt(n,"effect/lut_filter/horizontalTileCount",parseInt(r.meta?.horizontalTileCount,10)),o.block.setInt(n,"effect/lut_filter/verticalTileCount",parseInt(r.meta?.verticalTileCount,10)),t(n)}}}}),[o.block,o.editor,r,i?.asset.id,t,n,s]);return(0,edU.jsx)(euZ,{useBannerCards:!0,items:a,renderCollapsableContent:()=>i?.effectId?(0,edU.jsx)(edN,{effectId:i.effectId,property:"effect/lut_filter/intensity"}):null,queryActiveSelection:({id:t})=>t===`${i?.asset.context.sourceId}.${i?.asset.id}`})}function edQ(t,n){return t(`property.${function(t){let[n,i]=t.slice(t.lastIndexOf(".")+1).split("/");return`${n}Filter.${i}`}(n)}`)}var edz,edG,edq=function({filter:t,duotoneAssets:n,lutAssets:i,insertEffect:r,removeEffect:s}){let o=(0,edD.useRef)(!!t),a=(0,edD.useRef)(null),l=Vx(r),c=Vx(s),u="//ly.img.ubq/effect/duotone_filter"===t?.effectType?t:void 0,d="//ly.img.ubq/effect/lut_filter"===t?.effectType?t:void 0;return(0,edD.useEffect)(()=>{if(!t?.effectId||!a.current||!o.current)return;let n=a.current.querySelector(`[data-id="${t.asset.context.sourceId}.${t.asset.id}"]`),i=n?.closest('[data-cy="subInspector_scroll_container"]');n&&i&&(i.scrollTop=n.offsetTop-n.scrollHeight,o.current=!1)},[t?.asset.context.sourceId,t?.asset.id,t?.effectId]),(0,edU.jsxs)("div",{ref:a,children:[(0,edU.jsx)(edV,{currentDuotoneFilter:u,assets:n,insertEffect:l,removeEffect:c}),(0,edU.jsx)(edH,{currentLutFilter:d,assets:i,insertEffect:l,removeEffect:c})]})},edW=SV(SH()),ed$=SV(Sz()),edZ=function(){let t=Ju(),[n,i]=(0,ed$.useState)(()=>t.asset.findAllSources());return(0,ed$.useEffect)(()=>{function n(){i(t.asset.findAllSources())}let r=t.asset.onAssetSourceAdded(n),s=t.asset.onAssetSourceRemoved(n);return()=>{r(),s()}},[t.asset]),n},edY=SV(S$()),edK=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.filter",{engine:t}),{blocks:r}=Kb(),[s]=t.block.findAllSelected();if(null==s)return null;let o=t.block.getType(s),a=t.block.hasEffects(s),l=r[o];return!(!l||!("filtersEnabled"in l))&&l.filtersEnabled&&a&&i?n({block:s}):null})),edX=Jg(function({engine:t,effectId:n,block:i}){let{t:r}=qL(),s=KU(),{filters:o,insertEffect:a,removeEffect:l}=edS(i),c=o.find(t=>t.effectId===n)??o[0],u=t.block.isAllowedByScope(i,eed),d=t.block.isAllowedByScope(i,eep),{duotoneAssetQuery:p,lutAssetQuery:h,currentFilter:f}=ed0(c?.effectId),m=f?.asset.id?edQ(r,f.asset.id):r("common.select"),g=!!c?.effectId&&t.block.isEffectEnabled(c.effectId);return(0,edY.jsxs)(edY.Fragment,{children:[(0,edY.jsx)(erK.Header,{action:null!=i?(0,edY.jsxs)(edY.Fragment,{children:[(0,edY.jsxs)(DR,{name:"reset",onClick:()=>{c&&(l(c),s("action.property.reset"))},"aria-label":r("common.reset"),"data-cy":"reset-filter-subInspector",variant:"plain",isDisabled:null==c?.effectId||!u||!d||!g,children:[r("common.reset"),(0,edY.jsx)(esC,{})]}),(0,edY.jsx)(eah,{label:m,isEnabled:g,toggleProperty:()=>{c?.effectId&&t.block.setEffectEnabled(c.effectId,!g)},isDisabled:null==c?.effectId||!u||!d,"data-cy":"propertyToggle-filter"})]}):null,children:(0,edY.jsx)(erK.Title,{children:r("input.filter")})}),(0,edY.jsx)(erK.Content,{children:(0,edY.jsx)("div",{className:eda,"data-cy":"subInspector_scroll_content_wrapper",children:(0,edY.jsx)(z2,{isDisabled:!!c?.effectId&&!g,onClick:()=>{c?.effectId&&t.block.setEffectEnabled(c.effectId,!0)},label:r(g?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:m}),children:p.isSuccess&&h.isSuccess?(0,edY.jsx)(edq,{filter:f,duotoneAssets:p.data.assets,lutAssets:h.data.assets,insertEffect:t=>{c&&a(t,c)},removeEffect:()=>{c&&l(c)}}):(0,edY.jsx)("div",{className:"UBQ_Effects-module__loadingSpinner--9tto5",children:(0,edY.jsx)(DI,{})})})})})]})}),edJ=Xc(Jg(function({engine:t,effectId:n,block:i,inBar:r=!1,deniedByScopeBehavior:s="disable"}){let{t:o}=qL(),a=YT(),{currentFilter:l}=ed0(n),c=null!=n&&t.block.isValid(n),u=l?.asset.id?edQ(o,l.asset.id):o("common.select"),d=null!=n&&t.block.isEffectEnabled(n),[p]=erU("//ly.img.panel/inspector/filters",KA());function h(){p?a.ui.closePanel("//ly.img.panel/inspector/filters"):a.ui.openPanel("//ly.img.panel/inspector/filters",{payload:{effectId:n}})}let f=t.block.isAllowedByScope(i,eed),m=t.block.isAllowedByScope(i,eep);if(!(f&&m||"hide"!==s))return null;let g=!!n&&!d||!f||!m,x=o("input.filter");return r?(0,edY.jsx)(U6,{label:o("input.filter.tooltip"),children:(0,edY.jsx)(DR,{name:x,variant:p?"regular":"plain",icon:(0,edY.jsxs)(UU,{className:(0,edW.default)(edl,{[edc]:c&&!d}),children:[(0,edY.jsx)(eaJ,{}),c&&!d&&(0,edY.jsx)(Uz,{})]}),isActive:c,activeStateStyle:"pill",onClick:h,isDisabled:!f||!m,"data-cy":"filter",children:x})}):(0,edY.jsxs)(Qe,{children:[(0,edY.jsx)(Uo,{isDisabled:g,children:x}),(0,edY.jsx)(U6,{label:o("input.filter.tooltip"),children:(0,edY.jsxs)(DR,{name:x,variant:"regular",icon:(0,edY.jsx)(eaJ,{}),isActive:c,activeStateStyle:"pill",onClick:h,isDisabled:g,"data-cy":"filter",children:[u,(0,edY.jsx)(ei7,{})]})}),null!=n?(0,edY.jsx)(eah,{label:u,isEnabled:d,toggleProperty:()=>{t.block.setEffectEnabled(n,!d)},isDisabled:null==n||!f||!m,"data-cy":"propertyToggle-filter"}):(0,edY.jsx)(eam,{})]})}));function ed0(t){let n=Ju(),i=edZ(),r=Jo(["asset-sources","ly.img.filter.duotone"],()=>n.asset.findAssets("ly.img.filter.duotone",{page:0,perPage:1e3}),{enabled:i.includes("ly.img.filter.duotone")}),s=Jo(["asset-sources","ly.img.filter.lut"],()=>n.asset.findAssets("ly.img.filter.lut",{page:0,perPage:1e3}),{enabled:i.includes("ly.img.filter.lut")}),o=(0,edR.useMemo)(()=>{if(!t)return;let i=n.block.getType(t);if("//ly.img.ubq/effect/duotone_filter"===i){let s=YA(n.block.getColorRGBA(t,"effect/duotone_filter/lightColor")),o=YA(n.block.getColorRGBA(t,"effect/duotone_filter/darkColor")),a=r?.data?.assets.find(t=>{let n=UT(t.meta?.lightColor),i=UT(t.meta?.darkColor);return Yw(n,s)&&Yw(i,o)});return a&&{effectId:t,effectType:i,asset:a}}if("//ly.img.ubq/effect/lut_filter"===i){let r=n.block.getString(t,"effect/lut_filter/lutFileURI"),o=n.block.getInt(t,"effect/lut_filter/horizontalTileCount"),a=n.block.getInt(t,"effect/lut_filter/verticalTileCount"),l=s?.data?.assets.find(t=>t.meta?.uri===r&&parseInt(t.meta?.horizontalTileCount,10)===o&&parseInt(t.meta?.verticalTileCount,10)===a);return l&&{effectId:t,effectType:i,asset:l}}},[n.block,r,t,s]);return{duotoneAssetQuery:r,lutAssetQuery:s,currentFilter:o}}function ed1({block:t,...n}){let{filters:i}=edS(t);return(0,edY.jsx)(edY.Fragment,{children:i.map(i=>(0,edY.jsx)(edJ,{effectId:i.effectId,block:t,...n},i.slotIndex))})}(edG=edz||(edz={})).SupportGuard=edK,edG.PanelContent=edX,edG.ControlStack=function(t){return(0,edY.jsx)(edK,{children:({block:n})=>(0,edY.jsx)(ed1,{block:n,...t})})};var ed2=edz,ed3=SV(Sz()),ed5=SV(Sz()),ed4=SV(S$()),ed6={show:{height:"auto",opacity:1,marginTop:"var(--ubq-margin-m)",overflow:"visible"},hide:{height:0,opacity:0,marginTop:0,overflow:"hidden"}},ed8=function({effectId:t,effectType:n}){let{t:i}=qL(),r=Ju(),s=(0,ed5.useMemo)(()=>{let i=eay(n);return function(t,n){if(!eu2.has(t))return n;let i=eu2.get(t);return n.sort((t,n)=>(i.has(t)?i.get(t):1/0)-(i.has(n)?i.get(n):1/0))}(n,r.block.findAllProperties(t).filter(t=>t.startsWith(i)))},[r,t,n]);return(0,ed4.jsx)(R1.div,{variants:ed6,initial:"hide",animate:"show",exit:"hide",children:s.map(s=>{let o=r.block.getPropertyType(s),a=eu1(s),[l,c]=function(t,n,i){let r=euG(eu6(n)),s=i.split("/").pop(),o=`property.effect.${r}.${s}`,a=`${o}.description`;return[t(o),t(a)]}(i,n,s);return"Color"===o?(0,ed4.jsx)(ecG.Property,{panelId:`//ly.img.panel/inspector/editColor/${s}`,label:l,description:c,property:s,block:t,...a},s):(0,ed4.jsx)(Qe,{"data-cy":"slider-input-row",children:(0,ed4.jsx)(er5,{label:l,property:s,block:t,centeredZeroPosition:!1,...a})},s)})})},ed7=SV(S$());function ed9(t,n){return t(`property.effect.${euG(eu6(n))}`)}var epe,ept,epn=Xc(Jg(function({engine:t,effectId:n,insertEffect:i,removeEffect:r}){let{t:s}=qL(),o=JH(),a=(0,ed3.useRef)(null),l=(0,ed3.useRef)(!!n),c=Vx(i),u=Vx(r),d=edZ(),p=n&&t.block.isValid(n)?t.block.getType(n):void 0,{data:h}=Jo(["asset-sources","ly.img.effect"],()=>t.asset.findAssets("ly.img.effect",{page:0,perPage:1e3}),{enabled:d.includes("ly.img.effect")}),f=(0,ed3.useMemo)(()=>h?.assets.filter(t=>t.meta?.effectType).map(n=>{let i=n.meta?.effectType;return{id:i,"data-cy":`effect-${i}`,label:ed9(s,i),uri:`${o.ui.baseURL}effects/${eu6(i)}.jpeg`,onClick:()=>{p===i?u():c(t.block.createEffect(i))}}})??[],[o.ui.baseURL,p,h?.assets,t.block,c,u,s]);return(0,ed3.useEffect)(()=>{if(!n||!a.current||!l.current)return;let i=t.block.getType(n),r=a.current.querySelector(`[data-id="${i}`),s=r?.closest('[data-cy="subInspector_scroll_container"]');r&&s&&(s.scrollTop=r.offsetTop-r.scrollHeight,l.current=!1)},[t.block,n]),(0,ed7.jsx)("div",{ref:a,children:(0,ed7.jsx)(euZ,{useBannerCards:!0,items:f,renderCollapsableContent:({id:t})=>null==n?null:(0,ed7.jsx)(ed8,{effectId:n,effectType:t}),queryActiveSelection:({id:t})=>t===p})})})),epi=SV(SH()),epr=SV(S$()),eps=Xc(Jg(function({engine:t,children:n}){let i=YT().feature.isEnabled("ly.img.effect",{engine:t}),{blocks:r}=Kb(),[s]=t.block.findAllSelected();if(null==s)return null;let o=t.block.getType(s),a=t.block.hasEffects(s),l=r[o];return!(!l||!("effectsEnabled"in l))&&l.effectsEnabled&&a&&i?n({block:s}):null})),epo=Jg(function({engine:t,block:n,effectId:i}){let{t:r}=qL(),s=KU(),{effects:o,insertEffect:a,removeEffect:l}=edS(n),c=t.block.isAllowedByScope(n,eep),u=o.find(t=>t.effectId===i)??o[0],d=u?.effectId?ed9(r,t.block.getType(u.effectId)):r("common.select"),p=!!u?.effectId&&t.block.isEffectEnabled(u.effectId);return(0,epr.jsxs)(epr.Fragment,{children:[(0,epr.jsx)(erK.Header,{action:null!=n?(0,epr.jsxs)(epr.Fragment,{children:[(0,epr.jsxs)(DR,{name:"reset",onClick:()=>{u&&(l(u),s("action.property.reset"))},"aria-label":r("common.reset"),"data-cy":"reset-effect-subInspector",variant:"plain",isDisabled:null==u?.effectId||!c||!p,children:[r("common.reset"),(0,epr.jsx)(esC,{})]}),(0,epr.jsx)(eah,{label:d,isEnabled:p,toggleProperty:()=>{u?.effectId&&t.block.setEffectEnabled(u.effectId,!p)},isDisabled:null==u?.effectId||!c,"data-cy":"propertyToggle-effect"})]}):null,children:(0,epr.jsx)(erK.Title,{children:r("input.effect")})}),(0,epr.jsx)(erK.Content,{children:(0,epr.jsx)("div",{className:eda,"data-cy":"subInspector_scroll_content_wrapper",children:(0,epr.jsx)(z2,{isDisabled:!!u?.effectId&&!p,onClick:()=>{u?.effectId&&t.block.setEffectEnabled(u.effectId,!0)},label:r(p?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:d}),children:(0,epr.jsx)(epn,{effectId:u?.effectId,insertEffect:t=>{u&&a(t,u)},removeEffect:()=>{u&&l(u)}})})})})]})}),epa=Xc(Jg(function({engine:t,effectId:n,block:i,inBar:r=!1,deniedByScopeBehavior:s="disable"}){let{t:o}=qL(),a=YT(),l=null!=n&&t.block.isValid(n),c=n?ed9(o,t.block.getType(n)):o("common.select"),u=null!=n&&t.block.isEffectEnabled(n),[d]=erU("//ly.img.panel/inspector/effects",KA());function p(){d?a.ui.closePanel("//ly.img.panel/inspector/effects"):a.ui.openPanel("//ly.img.panel/inspector/effects",{payload:{effectId:n}})}let h=t.block.isAllowedByScope(i,eep);if(!h&&"hide"===s)return null;let f=!!n&&!u||!h,m=o("input.effect");return r?(0,epr.jsx)(U6,{label:o("input.effect.tooltip"),children:(0,epr.jsx)(DR,{name:m,variant:d?"regular":"plain",icon:(0,epr.jsxs)(UU,{className:(0,epi.default)(edl,{[edc]:l&&!u}),children:[(0,epr.jsx)(eaK,{}),l&&!u&&(0,epr.jsx)(Uz,{})]}),isActive:l,activeStateStyle:"pill",onClick:p,disabled:!h,"data-cy":"effect",children:m})}):(0,epr.jsxs)(Qe,{children:[(0,epr.jsx)(Uo,{isDisabled:f,children:m}),(0,epr.jsx)(U6,{label:o("input.effect.tooltip"),children:(0,epr.jsxs)(DR,{name:m,variant:"regular",icon:(0,epr.jsx)(eaK,{}),isActive:l,activeStateStyle:"pill",onClick:p,isDisabled:f,"data-cy":"effect",children:[c,(0,epr.jsx)(ei7,{})]})}),null!=n?(0,epr.jsx)(eah,{label:c,isEnabled:u,toggleProperty:()=>{t.block.setEffectEnabled(n,!u)},isDisabled:null==n||!h,"data-cy":"propertyToggle-effect"}):(0,epr.jsx)(eam,{})]})}));function epl({block:t,...n}){let{effects:i}=edS(t);return(0,epr.jsx)(epr.Fragment,{children:i.map(i=>(0,epr.jsx)(epa,{effectId:i.effectId,block:t,...n},i.slotIndex))})}(ept=epe||(epe={})).SupportGuard=eps,ept.PanelContent=epo,ept.ControlStack=function(t){return(0,epr.jsx)(eps,{children:({block:n})=>(0,epr.jsx)(epl,{block:n,...t})})};var epc=epe,epu=SV(Sz()),epd=SV(Sz()),epp=(SV(Sz()),SV(S$())),eph=t=>(0,epp.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,epp.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5C12 6.01666 11.4943 6.9152 10.7207 7.4578L13.4996 19.5L13.5 21H10.5V19.6365C10.4069 19.3987 10.3436 19.1472 10.3136 18.8874L9.61572 12.8393L6.9736 13.3997C6.77817 14.8676 5.52133 16 4 16C2.34315 16 1 14.6569 1 13C1 11.3431 2.34315 10 4 10C5.21963 10 6.26927 10.7278 6.73832 11.7728L9.39822 10.9544L9.05725 7.99946C9.03821 7.99982 9.01913 8 9 8C7.34315 8 6 6.65685 6 5C6 3.34315 7.34315 2 9 2C10.6569 2 12 3.34315 12 5ZM10 5C10 5.55228 9.55228 6 9 6C8.44772 6 8 5.55228 8 5C8 4.44772 8.44772 4 9 4C9.55228 4 10 4.44772 10 5ZM5 13C5 13.5523 4.55228 14 4 14C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12C4.55228 12 5 12.4477 5 13Z",fill:"currentColor"}),(0,epp.jsx)("path",{d:"M13.7598 11.9602L22.9997 10.0003L20.0746 8.53777C19.3846 8.19276 18.5882 8.12685 17.8508 8.35372L13.2539 9.76807L13.7598 11.9602Z",fill:"currentColor"}),(0,epp.jsx)("path",{d:"M4.5 21V19.5H1.5V21H4.5Z",fill:"currentColor"}),(0,epp.jsx)("path",{d:"M9 19.5H6V21H9V19.5Z",fill:"currentColor"}),(0,epp.jsx)("path",{d:"M18 19.5H15V21H18V19.5Z",fill:"currentColor"}),(0,epp.jsx)("path",{d:"M19.5 19.5H22.5V21H19.5V19.5Z",fill:"currentColor"})]}),epf=SV(Sz()),epm=SV(Sz()),epg=function(t){let n=Ju(),{trimLength:i,trimOffset:r,totalDuration:s}=Jh(n,()=>{let i=n.block.unstable_isAVResourceLoaded(t);return{totalDuration:i?n.block.getAVResourceTotalDuration(t):0,trimLength:i?n.block.getTrimLength(t):0,trimOffset:i?n.block.getTrimOffset(t):0}}),o=r+Jh(n,()=>n.block.getPlaybackTime(t)),a=(0,epm.useCallback)(i=>{n.block.unstable_isAVResourceLoaded(t)&&(n.block.setTrimLength(t,i),n.block.setPlaybackTime(t,i))},[t,n.block]),l=(0,epm.useCallback)(i=>{n.block.unstable_isAVResourceLoaded(t)&&(n.block.setTrimOffset(t,i),n.block.setPlaybackTime(t,0))},[t,n.block]),c=(0,epm.useCallback)(s=>{let o=Math.max(0,Math.min(i,s-r));n.block.setPlaybackTime(t,o)},[t,n.block,i,r]);return{totalDuration:s,trimLength:i,setTrimLength:a,trimOffset:r,setTrimOffset:l,seekerOffset:o,setSeekerOffset:c}},epx=SV(SH()),epy=SV(S$());function epv(t,n){return t(n.join("."))}var epb,epA,epw=function({block:t,selectedBlock:n,blockType:i}){let r=Ju(),{t:s}=qL(),o=KU(),{trimLength:a,setTrimLength:l,trimOffset:c,setTrimOffset:u,totalDuration:d}=epg(t),p=d?.toFixed(2);function h(){o("action.property.update")}let f=d-c;return(0,epy.jsxs)(H8,{title:epv(s,["component",i,"properties"]),children:[(0,epy.jsxs)(Qe,{children:[(0,epy.jsx)(Uo,{children:epv(s,["component",i,"source"])}),(0,epy.jsx)(Uo,{children:p})]}),(0,epy.jsxs)(Qe,{children:[(0,epy.jsx)(VP,{name:`${i}-duration`,label:s("input.duration"),children:t=>(0,epy.jsx)(Vz,{...t,"data-cy":"trimDuration",value:a,min:.1,max:f,step:.1,onChange:t=>{if(null==t)return;let i=H1(t,.1,f);l(i),null!=n&&r.block.setDuration(n,i)},onRelease:h,"aria-label":epv(s,["input",i,"duration.description"]),tooltipLabel:s("input.duration"),unitLabel:"s"})}),(0,epy.jsx)(U6,{label:epv(s,["input",i,"duration.reset"]),children:(0,epy.jsx)(DR,{name:`${i}-duration-reset`,className:"UBQ_TrimSubInspector-module__resetButton--h-S3L",variant:"plain","aria-label":epv(s,["input",i,"duration.reset"]),onClick:()=>{u(0),l(d),null!=n&&r.block.setDuration(n,d),o("action.property.update")},children:(0,epy.jsx)(esC,{})})})]}),(0,epy.jsx)(Qe,{children:(0,epy.jsx)(Hp,{})}),(0,epy.jsxs)(Qe,{children:[(0,epy.jsx)(VP,{name:`${i}-trim-start`,label:s("input.time.start"),children:t=>(0,epy.jsx)(Vz,{...t,"data-cy":"trimStart",value:c,min:0,max:VV(d,1),step:.1,onChange:t=>{if(void 0!==t){let i=H1(t,0,c+a-.1),s=H1(a-(i-c),.1,d-i);l(s),u(i),null!=n&&r.block.setDuration(n,s)}},onRelease:h,tooltipLabel:s("input.time.start"),unitLabel:"s"})}),(0,epy.jsx)(eam,{})]}),(0,epy.jsxs)(Qe,{children:[(0,epy.jsx)(VP,{name:`${i}-trim-end`,label:s("input.time.end"),children:t=>(0,epy.jsx)(Vz,{...t,"data-cy":"trimEnd",value:c+a,min:0,max:VV(d,1),step:.1,onChange:t=>{if(void 0!==t){let i=H1(t,c+.1,d),s=i-c;l(s),u(Math.min(c,i)),null!=n&&r.block.setDuration(n,s)}},onRelease:h,tooltipLabel:s("input.time.end"),unitLabel:"s"})}),(0,epy.jsx)(eam,{})]})]})},epC=SV(Sz()),ep_=function(t){let n=Ju(),{isLoaded:i,trimTarget:r}=Jh(n,()=>{let i=n.block.getType(t),r="//ly.img.ubq/audio"===i||"//ly.img.ubq/fill/video"===i?t:void 0;if(!r&&n.block.supportsFill(t)){let i=n.block.getFill(t);null!=i&&n.block.isValid(i)&&"//ly.img.ubq/fill/video"===n.block.getType(i)&&(r=i)}return{isLoaded:null!=r&&n.block.unstable_isAVResourceLoaded(r),trimTarget:r}}),s=Jh(n,()=>i&&null!=r?n.block.getTrimLength(r):0);return{avResourceLoaded:i,isOpen:Jh(n,()=>"Trim"===n.editor.getEditMode()),setOpen:(0,epC.useCallback)(t=>{n.editor.setEditMode(t?"Trim":"Transform")},[n.editor]),valueLabel:`${zm(s,!0).timeString}`}},epS=SV(S$()),epk=function({block:t,selectedBlock:n,i18nBlockType:i}){let{t:r}=qL(),s=Ju(),o=KU(),a=JH(),{setOpen:l}=ep_(t);(0,epf.useEffect)(()=>(s.block.setSoloPlaybackEnabled(t,!0),()=>{s.block.isValid(t)&&s.block.setSoloPlaybackEnabled(t,!1)}),[t,s.block]),(0,epf.useEffect)(()=>()=>{"Trim"===s.editor.getEditMode()&&s.editor.setEditMode("Transform")},[s.editor]);let{totalDuration:c,trimLength:u,setTrimLength:d,trimOffset:p,setTrimOffset:h,seekerOffset:f,setSeekerOffset:m}=epg(t),g=Jh(s,()=>{let t=s.scene.getCurrentPage(),i=t?s.block.getDuration(t):0;return null==n||0===i?0:Math.max(0,s.block.getTimeOffset(n)+s.block.getDuration(n)-i)}),x=Jh(s,()=>s.block.isPlaying(t)),y=(0,epf.useCallback)(n=>{s.block.setPlaying(t,n)},[t,s.block]),v=(0,epf.useCallback)(()=>{y(!1),l(!1),o("action.property.update")},[o,l,y]),[b,A]=(0,epf.useState)(""),w=Math.ceil(24*function(){let[t,n]=(0,zO.useState)(window.devicePixelRatio);return(0,zO.useEffect)(()=>{let i=()=>{n(window.devicePixelRatio)},r=matchMedia(`(resolution: ${t}dppx)`);return r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[t]),t}());(0,epf.useEffect)(()=>{if("video"!==i)return Kk;let n,r=!0;return s.block.getVideoFillThumbnailAtlas(t,8,8,w).then(t=>{n=URL.createObjectURL(t),r&&A(n)}).catch(()=>{}),()=>{r=!1,n&&URL.revokeObjectURL(n)}},[w,t,i,s.block]);let C=(0,epf.useRef)(!1),_=c-p;return(0,epS.jsxs)("span",{className:(0,epx.default)("UBQ_TrimSubInspector-module__areaGroup--8IXNI","UBQ_TrimSubInspector-module__containerTrimModeInterface--YVMh4"),children:[(0,epS.jsx)(U6,{label:epv(r,["component",i,"trim.play.description"]),children:(0,epS.jsx)(DR,{name:"trimPlay","aria-label":epv(r,["component",i,"trim.play"]),className:"UBQ_TrimSubInspector-module__buttonTrimPlay--gvaOL",variant:"plain",onClick:()=>{y(!x)},children:x?(0,epS.jsx)(esN,{}):(0,epS.jsx)(esV,{})})}),(0,epS.jsx)("div",{className:"UBQ_TrimSubInspector-module__numberInputTrimDuration--IFSKe",children:(0,epS.jsx)(U6,{label:epv(r,["component",i,"trim.duration.description"]),children:(0,epS.jsx)(Vz,{name:"trimDuration","data-cy":"inBarTrimDuration","aria-label":epv(r,["component",i,"trim.duration"]),maxFractionDigits:1,value:u,min:.1,max:_,onChange:t=>{if(null==t)return;let i=H1(t,.1,_);d(i),n&&s.block.setDuration(n,i)},onRelease:()=>{o("action.property.update")},unitLabel:"s",dynamicWidth:!0})})}),(0,epS.jsx)("div",{className:"UBQ_TrimSubInspector-module__containerMediaTrim--SQCGA",children:(0,epS.jsx)(z_,{mediaDuration:c,offset:f,setOffset:m,min:p,max:p+u,onStart:t=>{t.stopPropagation(),x?(y(!1),C.current=!0):C.current=!1},onStop:t=>{t.stopPropagation(),C.current&&y(!0)},children:(0,epS.jsx)(zd,{mediaDuration:c,trimOffset:p,setTrimOffset:t=>{x&&y(!1),h("function"==typeof t?t():t)},trimLength:u,setTrimLength:t=>{x&&y(!1);let i="function"==typeof t?t():t;d(i),n&&s.block.setDuration(n,i)},onUpdateTrimProperties:()=>{o("action.property.update")},postContainedDuration:g,renderBackground:()=>{switch(i){case"video":return""!==b?(0,epS.jsx)(Q8.Background.Atlas,{atlas:b,atlasRows:8,atlasColumns:8}):null;case"audio":return(0,epS.jsx)(Q8.Background.MaskedSvg,{frame:`${a.ui.baseURL}audio-wave.svg`});default:return null}}})})}),(0,epS.jsx)(DR,{color:"accent",name:"trimConfirmation",className:"UBQ_TrimSubInspector-module__buttonTrimDone--Duafg",onClick:v,children:r("common.done")})]})},epE=SV(S$()),epM=Xc(Jg(function({engine:t,children:n}){let i=YT(),r=Jv(eey);if(!i.feature.isEnabled("ly.img.trim",{engine:t}))return null;let s=t.block.findAllSelected()[0];if(!s)return null;let o=t.block.getType(s),a=t.block.supportsFill(s)?t.block.getFill(s):void 0,l=null!=a&&t.block.isValid(a)?t.block.getType(a):void 0,c=null!=a&&t.block.isFillEnabled(s),u="//ly.img.ubq/fill/video"===l?a:s,d="//ly.img.ubq/fill/video"===l?"video":eay(o);return t.block.supportsTrim(u)?n({block:u,selectedBlock:s,i18nBlockType:d,isDisabled:!r||null!=a&&!c}):null})),epI=Xc(function({block:t,i18nBlockType:n,isDisabled:i,inBar:r=!1,deniedByScopeBehavior:s="disable"}){let{t:o}=qL(),a=YT(),{avResourceLoaded:l,valueLabel:c,isOpen:u,setOpen:d}=ep_(t),p=Jv(eey),[h]=erU("//ly.img.panel/inspector/trim",KA());if(!p&&"hide"===s)return null;let f=o("common.trim"),m=epv(o,["component",n,"trim.description"]);return r?(0,epE.jsx)(U6,{label:m,children:(0,epE.jsx)(DR,{icon:(0,epE.jsx)(eph,{}),"data-cy":"trim",name:"inspectorbar-trim",onClick:()=>{d(!u)},variant:"plain","aria-label":m,isDisabled:!l||i,children:f})}):(0,epE.jsxs)(Qe,{children:[(0,epE.jsx)(Uo,{isDisabled:!l||i,children:f}),(0,epE.jsx)(U6,{label:m,children:(0,epE.jsxs)(DR,{name:f,variant:"regular",icon:(0,epE.jsx)(eph,{}),activeStateStyle:"outline",onClick:function(){h?a.ui.closePanel("//ly.img.panel/inspector/trim"):a.ui.openPanel("//ly.img.panel/inspector/trim")},isDisabled:i||!p||!l,"data-cy":"trim",children:[c,(0,epE.jsx)(ei7,{})]})}),(0,epE.jsx)(eam,{})]})});(epA=epb||(epb={})).SupportGuard=epM,epA.PanelContent=function({block:t,i18nBlockType:n,selectedBlock:i}){let{t:r}=qL();return(0,epE.jsxs)(epE.Fragment,{children:[(0,epE.jsx)(erK.Header,{children:(0,epE.jsx)(erK.Title,{children:r("common.trim")})}),(0,epE.jsx)(erK.Content,{children:(0,epE.jsx)(epw,{block:t,selectedBlock:i,blockType:n})})]})},epA.Control=function({inBar:t,deniedByScopeBehavior:n}){return(0,epE.jsx)(epM,{children:i=>(0,epE.jsx)(epI,{inBar:t,deniedByScopeBehavior:n,...i})})},epA.InBarInspector=function(){return(0,epE.jsx)(epM,{children:t=>(0,epE.jsx)(epk,{...t})})};var epT=epb;SV(Sz());var epB=SV(S$()),epL=t=>(0,epB.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,epB.jsx)("path",{d:"M3 13.4999V10.4999C3 9.67147 3.6716 8.9999 4.50004 8.99992L7.5 9L12.1464 4.35355C12.4614 4.03857 13 4.26165 13 4.70711V19.2929C13 19.7383 12.4614 19.9614 12.1464 19.6464L7.5 14.9999H4.5C3.67157 14.9999 3 14.3283 3 13.4999Z",fill:"currentColor"}),(0,epB.jsx)("path",{d:"M21 12.0006C21 15.9192 18.4956 19.253 15 20.4885V18.3269C17.3649 17.2035 19 14.793 19 12.0006C19 9.20818 17.3649 6.79767 15 5.67421V3.5127C18.4956 4.7482 21 8.08192 21 12.0006Z",fill:"currentColor"}),(0,epB.jsx)("path",{d:"M15 15.3547V8.64642C15.9206 9.4704 16.5 10.6678 16.5 12.0006C16.5 13.3333 15.9206 14.5308 15 15.3547Z",fill:"currentColor"})]}),epj=(SV(Sz()),SV(S$())),epP=t=>(0,epj.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,epj.jsx)("path",{d:"M17.6181 19.0323L20.293 21.7072L21.7072 20.293L3.70718 2.29297L2.29297 3.70718L7.54303 8.95724L7.50008 9.0002L4.50012 9.00012C3.67167 9.00009 3.00008 9.67167 3.00008 10.5001V13.5001C3.00008 14.3285 3.67165 15.0001 4.50008 15.0001H7.50008L12.1465 19.6466C12.4615 19.9616 13.0001 19.7385 13.0001 19.2931V14.4143L16.1926 17.6068C15.8218 17.8845 15.4226 18.1263 15.0001 18.327V20.4885C15.9575 20.1502 16.8405 19.6544 17.6181 19.0323Z",fill:"currentColor"}),(0,epj.jsx)("path",{d:"M20.3045 15.4762C20.7525 14.4068 21.0001 13.2326 21.0001 12.0007C21.0001 8.082 18.4957 4.74828 15.0001 3.51277V5.67428C17.365 6.79775 19.0001 9.20826 19.0001 12.0007C19.0001 12.6621 18.9083 13.3021 18.7369 13.9086L20.3045 15.4762Z",fill:"currentColor"}),(0,epj.jsx)("path",{d:"M13.0001 8.17177V4.70731C13.0001 4.26185 12.4615 4.03877 12.1465 4.35375L10.6643 5.83599L13.0001 8.17177Z",fill:"currentColor"})]}),epR=SV(S$()),epD=Jg(function({block:t,isDisabled:n,engine:i}){let{t:r}=qL(),s=KU(),o=i.block.getBool(t,"playback/muted"),a=i.block.getFloat(t,"playback/volume");return(0,epR.jsxs)(Qe,{children:[(0,epR.jsx)(er2,{name:"playback/volume",label:r("property.volume"),min:0,max:1,value:a,onChange:n=>{i.block.setFloat(t,"playback/volume",n)},onRelease:()=>{s("action.property.update")},centeredZeroPosition:!1,isDisabled:o||n}),(0,epR.jsx)(eah,{toggleProperty:()=>{var n;return n=!o,void i.block.setBool(t,"playback/muted",n)},label:r("input.audio.mute"),isEnabled:o,isDisabled:n,enabledIcon:epP,disabledIcon:epL,"data-cy":"propertyToggle-volume"})]})}),epF=SV(S$());function epO({deniedByScopeBehavior:t}){return(0,epF.jsx)(epN,{children:n=>(0,epF.jsx)(epU,{deniedByScopeBehavior:t,...n})})}epO.InBar=function({deniedByScopeBehavior:t}){return(0,epF.jsx)(epN,{children:n=>(0,epF.jsx)(epV,{deniedByScopeBehavior:t,...n})})};var epN=Xc(Jg(function({engine:t,children:n}){if(!YT().feature.isEnabled("ly.img.volume",{engine:t}))return null;let[i]=t.block.findAllSelected();if(!i||"//ly.img.ubq/page"===t.block.getType(i))return null;let r=t.block.isAllowedByScope(i,eey),s=t.block.supportsFill(i),o=s?t.block.getFill(i):void 0,a=void 0!==o&&t.block.isValid(o)?t.block.getType(o):void 0,l=s&&t.block.isFillEnabled(i);if(void 0!==o&&"//ly.img.ubq/fill/video"===a)return n({selectedBlock:i,block:o,isDisabled:!r||null!=o&&!l});let c=t.block.findAllProperties(i);return c.includes("playback/volume")&&c.includes("playback/muted")?n({selectedBlock:i,block:i,isDisabled:!r||null!=o&&!l}):null})),epU=Jg(function({engine:t,block:n,selectedBlock:i,isDisabled:r,deniedByScopeBehavior:s}){let o=t.block.isAllowedByScope(i,eey);return o||"hide"!==s?(0,epF.jsx)(epD,{block:n,isDisabled:r||!o}):null}),epV=Jg(function({engine:t,isDisabled:n,selectedBlock:i,block:r,deniedByScopeBehavior:s="disable"}){let{t:o}=qL(),a=t.block.isAllowedByScope(i,eey);if(!a&&"hide"===s)return null;let l=t.block.getBool(r,"playback/muted");return(0,epF.jsxs)(N0,{placement:"bottom",children:[t=>(0,epF.jsx)(DR,{icon:l?(0,epF.jsx)(epP,{}):(0,epF.jsx)(epL,{}),name:"volume",...t,variant:"plain",isDisabled:n||!a,children:o("property.volume")}),()=>(0,epF.jsx)("div",{className:"UBQ_VolumeControls-module__volumeOptions--ksBDa",children:(0,epF.jsx)(epD,{block:r})})]})}),epH=SV(Sz()),epQ={r:0,g:0,b:0,a:0};function epz(t){let{t:n}=qL(),i=Ju(),{isPropertyEnabled:r,fill:s,fillType:o,colorMode:a,color:l,gradientStops:c,gradientControlPoints:u}=Jh(i,()=>{let n=i.block.isFillEnabled(t),r=i.block.getFill(t),s=i.block.isValid(r)?i.block.getType(r):void 0,o="//ly.img.ubq/fill/gradient/linear"===s||"//ly.img.ubq/fill/gradient/radial"===s||"//ly.img.ubq/fill/gradient/conical"===s;return{isPropertyEnabled:n,fill:r,fillType:s,colorMode:o?"Gradient":"Solid",color:"//ly.img.ubq/fill/color"===s?i.block.getColor(r,"fill/color/value"):epQ,gradientStops:o?i.block.getGradientColorStops(r,"fill/gradient/colors"):void 0,gradientControlPoints:{start:{x:o?i.block.getFloat(r,"fill/gradient/linear/startPointX"):0,y:o?i.block.getFloat(r,"fill/gradient/linear/startPointY"):0},center:{x:0,y:0},end:{x:o?i.block.getFloat(r,"fill/gradient/linear/endPointX"):1,y:o?i.block.getFloat(r,"fill/gradient/linear/endPointY"):1}}}}),d=(0,epH.useCallback)(n=>{if(n===a||null==t)return;let r="Gradient"===n?i.block.createFill("gradient/linear"):i.block.createFill("color");i.block.setFill(t,r)},[t,a,i.block]),p=(0,epH.useCallback)(n=>i.block.setFillEnabled(t,n),[t,i]),h=(0,epH.useCallback)(t=>{i.block.setColor(s,"fill/color/value",t)},[i,s]),f=(0,epH.useCallback)(t=>i.block.setGradientColorStops(s,"fill/gradient/colors",t),[i,s]),[m,g]=ect({gradientStops:c,setGradientStops:f,initialState:{activeStopIndex:0,dragTarget:"",internalGradientStops:elb(c??[])}}),{activeStopIndex:x}=m;(0,epH.useEffect)(()=>{"Gradient"===a&&0!==x&&g(el8(0))},[o]);let y=(0,epH.useCallback)(t=>{if(!c||!f)return;let n=c.slice();n[x]={...n[x],color:t},f(n)},[x,c,f]),v=(0,epH.useCallback)(t=>{null!=s&&"Gradient"===a&&(i.block.setFloat(s,"fill/gradient/linear/startPointX",t.start.x),i.block.setFloat(s,"fill/gradient/linear/startPointY",t.start.y),i.block.setFloat(s,"fill/gradient/linear/endPointX",t.end.x),i.block.setFloat(s,"fill/gradient/linear/endPointY",t.end.y))},[i.block,s,a]),[b,A]=(0,epH.useMemo)(()=>"Gradient"===a&&c?[c[x].color,y]:[l,h],[x,l,c,a,h,y]),w=i.block.getFrameWidth(t)/i.block.getFrameHeight(t),{customPreviewLabel:C,previewColor:_}=(0,epH.useMemo)(()=>({customPreviewLabel:"Gradient"===a?n("property.gradientType.linear"):void 0,previewColor:c?UM(Y_(c.map(t=>t.color),i.editor)):Y_(l,i.editor)}),[l,i.editor,c,a,n]);return{colorMode:a,setColorMode:d,color:b,setColor:A,isPropertyEnabled:r,setIsPropertyEnabled:p,customPreviewLabel:C,previewColor:_,gradientState:m,gradientDispatch:g,gradientStops:c,setGradientStops:f,gradientAspectRatio:w,gradientControlPoints:u,setGradientControlPoints:v,showGradientControls:!0}}var epG="UBQ_FillInspectorControls-module__contentBox--KoUDx",epq=SV(S$()),epW=Xc(Jg(({engine:t,fillBlock:n,isDisabled:i=!1})=>{let r=YT(),{t:s}=qL(),[,o]=erU("//ly.img.panel/assetLibrary.replace",KA()),a=enF(),l=t.block.getString(n,"fill/image/imageFileURI"),c=t.block.getString(n,"fill/image/previewFileURI"),u=t.block.getSourceSet(n,"fill/image/sourceSet"),d=(0,epd.useMemo)(()=>0===u.length?c||l:function(t,n){return t.reduce((t,i)=>Math.abs(i.width-n)<Math.abs(t.width-n)?i:t)}(u,a?.95*window.innerWidth:256).uri,[l,c,a,u]),p=s("common.replace"),h=r.feature.isEnabled("ly.img.replace",{engine:t});return(0,epq.jsxs)(ecx,{children:[(0,epq.jsx)(z2,{label:p,isDisabled:i,children:(0,epq.jsx)(zZ,{children:(0,epq.jsxs)(zG,{className:epG,children:[h&&(0,epq.jsx)(Or.Edge,{children:(0,epq.jsx)(zZ.Overlay,{children:(0,epq.jsx)(Or.Edge.BottomRight,{children:(0,epq.jsx)(zG.InteractionElement,{name:"replace-image",icon:(0,epq.jsx)(ea9,{}),onClick:()=>o(!0),"aria-label":s("action.image.replace"),children:p})})})}),(0,epq.jsx)(zG.Background.Image,{url:d,checkered:!0})]})})}),(0,epq.jsx)(euQ.Control,{fillContainer:!0})]})})),ep$=Xc(Jg(({engine:t,fillBlock:n,isDisabled:i=!1})=>{let r=YT(),{t:s}=qL(),[,o]=erU("//ly.img.panel/assetLibrary.replace",KA()),a=t.block.getString(n,"fill/video/fileURI"),[l,c]=(0,epd.useState)("");(0,epd.useEffect)(()=>{let i=!0;return a&&t.block.getVideoFillThumbnail(n,200).then(t=>{i&&c(URL.createObjectURL(t))}).catch(()=>{}),()=>{i=!1}},[t,a,n]);let u=s("common.replace"),d=r.feature.isEnabled("ly.img.replace",{engine:t});return(0,epq.jsxs)(epq.Fragment,{children:[(0,epq.jsxs)(ecx,{children:[(0,epq.jsx)(z2,{label:u,isDisabled:i,children:(0,epq.jsx)(zZ,{children:(0,epq.jsxs)(zG,{size:"medium",className:epG,children:[d&&(0,epq.jsx)(Or.Edge,{children:(0,epq.jsx)(zZ.Overlay,{children:(0,epq.jsx)(Or.Edge.BottomRight,{children:(0,epq.jsx)(zG.InteractionElement,{name:"replace-video",icon:(0,epq.jsx)(ea9,{}),onClick:()=>o(!0),"aria-label":s("action.video.replace"),children:u})})})}),(0,epq.jsx)(zG.Background.Image,{url:l,checkered:!0})]})})}),(0,epq.jsx)(euQ.Control,{}),(0,epq.jsx)(epT.Control,{})]}),(0,epq.jsx)(ecx,{children:(0,epq.jsx)(epO,{})})]})}));function epZ({block:t,isDisabled:n}){let i=epz(t);return(0,epq.jsx)(ecx,{children:(0,epq.jsx)(ecU,{block:t,name:"fillColor",i18nLabelString:"property.fill",i18nDescriptionString:"property.fill.description",isDisabled:n,"data-cy":"fill",...i})})}var epY,epK,epX=Jg(function({block:t,engine:n}){let i=n.block.isAllowedByScope(t,eey),r=n.block.isFillEnabled(t),s=n.block.getFill(t);if(!n.block.isValid(s))return null;let o=!i||!r;switch(n.block.getType(s)){case"//ly.img.ubq/fill/image":return(0,epq.jsx)(epW,{fillBlock:s,isDisabled:o});case"//ly.img.ubq/fill/video":return(0,epq.jsx)(ep$,{fillBlock:s,isDisabled:o});case"//ly.img.ubq/fill/gradient/linear":case"//ly.img.ubq/fill/gradient/radial":case"//ly.img.ubq/fill/gradient/conical":case"//ly.img.ubq/fill/color":return(0,epq.jsx)(epZ,{block:t,isDisabled:o});default:return null}}),epJ=SV(SH()),ep0=SV(S$()),ep1=Xc(Jg(function({engine:t,children:n}){let i=YT(),[r]=t.block.findAllSelected();if(null==r)return null;let s=t.block.supportsFill(r)&&t.block.isValid(t.block.getFill(r)),o=i.feature.isEnabled("ly.img.fill",{engine:t});return s&&o&&"//ly.img.ubq/text"!==t.block.getType(r)?n({block:r}):null})),ep2=Jg(function({engine:t,block:n}){let{t:i}=qL(),r=KU(),s=t.block.isAllowedByScope(n,eey),o=t.block.isAllowedByScope(n,eev),a=t.block.isAllowedByScope(n,eea),l=t.scene.getMode(),c=t.block.isFillEnabled(n),u=t.block.getFill(n),d=t.block.isValid(u)?t.block.getType(u):void 0,p=(0,epu.useMemo)(()=>"//ly.img.ubq/fill/image"===d||"//ly.img.ubq/fill/video"===d?!c||!a&&!s:!c||!s,[s,a,d,c]),{icon:h,label:f}=(0,epu.useMemo)(()=>{switch(d){case"//ly.img.ubq/fill/image":return{icon:(0,ep0.jsx)(eiU,{}),label:i("component.contentFill.image")};case"//ly.img.ubq/fill/video":return{icon:(0,ep0.jsx)(eiX,{}),label:i("component.contentFill.video")};case"//ly.img.ubq/fill/gradient/conical":case"//ly.img.ubq/fill/gradient/linear":case"//ly.img.ubq/fill/gradient/radial":case"//ly.img.ubq/fill/color":return{icon:(0,ep0.jsx)(elI,{}),label:i("component.contentFill.color")};default:return{icon:void 0,label:""}}},[d,i]);return(0,ep0.jsxs)(ep0.Fragment,{children:[(0,ep0.jsx)(erK.Header,{action:(0,ep0.jsxs)(ep0.Fragment,{children:[(0,ep0.jsxs)(N0,{children:[(t,{isOpen:n})=>(0,ep0.jsx)(U6,{label:i("component.contentFill.options.description"),children:(0,ep0.jsxs)(DR,{variant:"plain",name:"change-fill-type",icon:h,...t,isDisabled:p||!o,children:[f,n?(0,ep0.jsx)(Ub,{}):(0,ep0.jsx)(Uy,{})]})}),({closePopover:s})=>(0,ep0.jsxs)(Qx.Container,{"aria-label":i("component.contentFill.options"),children:["Video"===l&&(0,ep0.jsx)(Qx.Item,{children:(0,ep0.jsx)(DR,{variant:"plain",icon:(0,ep0.jsx)(eiX,{}),name:"video-fill",onClick:()=>{"//ly.img.ubq/fill/video"!==d&&t.block.isValid(u)&&(t.block.setFill(n,t.block.createFill("video")),t.block.setKind(n,"video"),t.block.destroy(u),r("action.fillType.change")),s()},children:i("component.contentFill.video")})}),(0,ep0.jsx)(Qx.Item,{children:(0,ep0.jsx)(DR,{variant:"plain",icon:(0,ep0.jsx)(eiU,{}),name:"image-fill",onClick:()=>{"//ly.img.ubq/fill/image"!==d&&t.block.isValid(u)&&(t.block.setFill(n,t.block.createFill("image")),t.block.setKind(n,"image"),t.block.destroy(u),r("action.fillType.change")),s()},children:i("component.contentFill.image")})}),(0,ep0.jsx)(Qx.Item,{children:(0,ep0.jsx)(DR,{variant:"plain",icon:(0,ep0.jsx)(elI,{}),name:"color-fill",onClick:()=>{if("//ly.img.ubq/fill/color"!==d&&"//ly.img.ubq/fill/gradient/conical"!==d&&"//ly.img.ubq/fill/gradient/linear"!==d&&"//ly.img.ubq/fill/gradient/radial"!==d&&t.block.isValid(u)){switch(t.block.setFill(n,t.block.createFill("color")),t.block.getType(n)){case"//ly.img.ubq/page":t.block.setKind(n,"page");break;case"//ly.img.ubq/graphic":t.block.setKind(n,"shape");break;default:t.block.setKind(n,"")}t.block.destroy(u),r("action.fillType.change")}s()},children:i("component.contentFill.color")})})]})]}),(0,ep0.jsx)(eah,{isEnabled:c,toggleProperty:()=>{t.block.setFillEnabled(n,!c)},label:i("property.fill"),isDisabled:!s,"data-cy":"propertyToggle-fill"})]}),children:(0,ep0.jsx)(erK.Title,{children:i("component.contentFill")})}),(0,ep0.jsx)(erK.Content,{children:(0,ep0.jsx)(z2,{isDisabled:!c,onClick:()=>t.block.setFillEnabled(n,!0),label:i(c?"input.propertyToggle.disable":"input.propertyToggle.enable",{property:f}),children:(0,ep0.jsx)(epX,{block:n})})})]})}),ep3=Xc(Jg(function({engine:t,block:n,inBar:i=!1,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),[a]=erU("//ly.img.panel/inspector/fill",KA()),l=(0,epu.useCallback)(()=>{a?o.ui.closePanel("//ly.img.panel/inspector/fill"):o.ui.openPanel("//ly.img.panel/inspector/fill")},[o.ui,a]),c=t.block.isAllowedByScope(n,eey),u=t.block.isAllowedByScope(n,eea),d=t.block.isFillEnabled(n),p=t.block.getFill(n),h=t.block.isValid(p)?t.block.getType(p):void 0,f="//ly.img.ubq/fill/gradient/linear"===h||"//ly.img.ubq/fill/gradient/radial"===h||"//ly.img.ubq/fill/gradient/conical"===h,m=(0,epu.useMemo)(()=>"//ly.img.ubq/fill/image"===h||"//ly.img.ubq/fill/video"===h?!d||!u&&!c:!d||!c,[c,u,h,d]),g="//ly.img.ubq/fill/color"===h?t.block.getColor(p,"fill/color/value"):void 0,x=f?t.block.getGradientColorStops(p,"fill/gradient/colors"):void 0,y=s("component.contentFill"),{icon:v,valueLabel:b,button:A}=(0,epu.useMemo)(()=>{switch(h){case"//ly.img.ubq/fill/image":return{icon:(0,ep0.jsx)(eiU,{}),valueLabel:s("component.contentFill.image")};case"//ly.img.ubq/fill/video":return{icon:(0,ep0.jsx)(eiX,{}),valueLabel:s("component.contentFill.video")};case"//ly.img.ubq/fill/gradient/conical":case"//ly.img.ubq/fill/gradient/linear":case"//ly.img.ubq/fill/gradient/radial":case"//ly.img.ubq/fill/color":{let n="";return g&&(n=Y_(g,t.editor)),x&&(n=UM(Y_(x.map(t=>t.color),t.editor))),{icon:(0,ep0.jsx)(elI,{}),valueLabel:s("component.contentFill.color"),button:i?(0,ep0.jsx)(UY,{name:y,"data-cy":"fill",variant:a?"regular":"plain",previewColor:n,strikeThrough:!d,hidePreviewLabel:!0,onClick:l,children:s("component.contentFill.color")}):(0,ep0.jsx)(UD,{name:y,"data-cy":"fill",variant:"regular",renderChevronIcon:()=>(0,ep0.jsx)(ei7,{}),previewColor:n,customPreviewLabel:f?s("property.gradientType.linear"):void 0,invertedLabel:f,isDisabled:m,onClick:l})}}default:return{icon:void 0,label:""}}},[t.editor,g,h,x,i,m,d,f,a,y,s,l]);return c||u||"hide"!==r?i?(0,ep0.jsx)(U6,{label:y,children:A??(0,ep0.jsx)(DR,{name:y,variant:a?"regular":"plain",icon:(0,ep0.jsxs)(UU,{className:(0,epJ.default)("UBQ_FillInspector-module__iconStack--YwvAg",{"UBQ_FillInspector-module__disabled--ugVp5":!d}),children:[v,!d&&(0,ep0.jsx)(Uz,{})]}),onClick:l,disabled:!c&&!u,"data-cy":"fill",children:b})}):(0,ep0.jsxs)(Qe,{children:[(0,ep0.jsx)(Uo,{isDisabled:m,children:b}),(0,ep0.jsx)(U6,{label:s("input.effect.tooltip"),children:A??(0,ep0.jsxs)(DR,{name:y,variant:"regular",icon:v,onClick:l,isDisabled:m,"data-cy":"fill",children:[b,(0,ep0.jsx)(ei7,{})]})}),(0,ep0.jsx)(eah,{isEnabled:d,toggleProperty:()=>{t.block.setFillEnabled(n,!d)},label:s("property.fill"),isDisabled:!c,"data-cy":"propertyToggle-fill"})]}):null}));(epK=epY||(epY={})).SupportGuard=ep1,epK.PanelContent=ep2,epK.Control=function(t){return(0,ep0.jsx)(ep1,{children:({block:n})=>(0,ep0.jsx)(ep3,{block:n,...t})})};var ep5=epY,ep4=SV(SH()),ep6=class extends en4{constructor(t,n,i,r){super("InspectorBarBuilder",t,n,i,r)}},ep8=SV(S$()),ep7=Xc(Jg(function({engine:t,className:n}){let{t:i}=qL(),r=KA(),s=t.editor.getEditMode(),[o,a]=r.getInspectorBarOrder({editMode:s});return(0,ep8.jsx)("div",{className:(0,ep4.default)("UBQ_InspectorBar-module__block--5q45J",n),role:"region","aria-label":i("component.inspectorBar"),children:(0,ep8.jsx)("div",{className:"UBQ_InspectorBar-module__scrollableContent--J0TUj",children:o.map((n,s)=>{let o=n.id,l=`${a}.${o}.${s}`,c=r.registeredComponents[o];if(null==c)return null;if("react"===c.type){let t=c.component;return(0,ep8.jsx)(t,{},l)}let u={componentId:o};return(0,ep8.jsx)(enV,{builderRenderFunction:c.render,createBuilder:n=>new ep6(n,i,u,t)},l)})})})})),ep9=SV(SH()),ehe=SV(S$()),eht=class extends en4{constructor(t,n,i,r){super("NavigationBarBuilder",t,n,i,r)}Heading=(t,{content:n})=>{let i=this._t(n,{defaultValue:n});this._push({id:t,type:"Heading",focusable:!1,node:(0,ehe.jsx)(Jz,{level:1,className:"UBQ_NavigationBarBuilder-module__heading--6hOzh",children:i})})}},ehn=SV(S$()),ehi=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=KA(),r=enF(),s=t.editor.getEditMode(),[o,a]=i.getNavigationBarOrder({editMode:s});return(0,ehn.jsx)("div",{className:"UBQ_NavigationBar-module__block--arCer","data-cy":"navigation-bar",children:(0,ehn.jsx)("div",{className:(0,ep9.default)("UBQ_NavigationBar-module__scrollableContent--pnGsm",{"UBQ_NavigationBar-module__renderOptimizedSmallViewport--3XGiN":r}),children:o.map((r,s)=>{let o=r.id,l=`${a}.${o}.${s}`,c=i.registeredComponents[o];if(null==c)return null;if("react"===c.type){let t=c.component;return(0,ehn.jsx)(t,{},l)}let u={componentId:o};return(0,ehn.jsx)(enV,{payload:r,builderRenderFunction:c.render,createBuilder:i=>new eht(i,n,u,t)},l)})})})})),ehr=SV(Sz()),ehs=SV(S$()),eho={short:2e3,medium:6e3,long:12e3,infinite:void 0},eha=/^(?:(?<action>undo|redo)\.)?(?<key>.*)/,ehl=Xc(function(){let t=YB(),n=YT(),i=KA(),{t:r}=qL();(0,ehr.useEffect)(()=>t.addNotificationHandler(t=>{!function(t,n,i){let{i18n:r}=n,[,s,o]=r.match(eha),a=[];"undo"===s&&a.push(i("notification.undo")),"redo"===s&&a.push(i("notification.redo"));let l=i([`${o}.description`,o],{defaultValue:""});if(l&&a.push(l),0===a.length)return;let c=a.join(": ");t.ui.showNotification({message:c,duration:"short"})}(n,t,r)}),[n,t,r]);let s=t=>{i.removeNotification(t.id),t.onDismiss?.()};return(0,ehs.jsx)(VB.Container,{children:i.notifications.map(t=>{var n;let i=null==(n=t.duration)?eho.medium:"string"==typeof n?Object.keys(eho).includes(n)?eho[n]:eho.medium:n,o=r(t.message,{defaultValue:t.message});return(0,ehs.jsx)(VB.Item,{"data-cy":"notification",name:t.id,type:"loading"===t.type?"info":t.type,loading:"loading"===t.type,timeoutAction:()=>{s(t)},timeoutDelay:i,onClick:()=>{s(t)},action:t.action?{label:r(t.action?.label,{defaultValue:t.action?.label}),onClick:()=>{t.action?.onClick({id:t.id})}}:void 0,ariaLabelCloseButton:r("common.close"),children:o},t.id)})})}),ehc=SV(S$()),ehu=Jg(function({children:t,engine:n,condition:i}){return("function"==typeof i?i(n):i)?(0,ehc.jsx)(ehc.Fragment,{children:t}):null}),ehd=SV(Sz()),ehp=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ehh=t=>t.toLocaleString("en"),ehf="UBQ_UploadModal-module__content--bWxul",ehm=SV(S$()),ehg=(t,n)=>{let i="";return n&&(i=`${(t=>{let n=t;if(!Number.isFinite(n))throw TypeError(`Expected a finite number, got ${typeof n}: ${n}`);if(0===n)return" 0 B";if(n<1)return`${ehh(n)} B`;let i=Math.min(Math.floor(Math.log10(n)/3),ehp.length-1);return n=Number((n/1e3**i).toPrecision(3)),`${ehh(n)} ${ehp[i]}`})(n.reduce((t,n)=>t+n.size,0))}`),(0,ehm.jsxs)(ehm.Fragment,{children:[(0,ehm.jsx)(Jz,{level:1,children:t}),(0,ehm.jsx)("p",{children:i})]})},ehx=function(){let{t:t}=qL(),{upload:n,uploadProgress:i,uploadError:r}=(0,JZ.useContext)(JX),s=JJ(),o=()=>{s.setUpload(void 0),s.setUploadError(void 0),s.setUploadProgress(void 0)},a=(0,ehd.useMemo)(()=>{if(!n)return"";switch(!0){case n.every(t=>t.type.startsWith("image")):return t("input.uploadImage");case n.every(t=>t.type.startsWith("video")):return t("input.uploadVideo");case n.every(t=>t.type.startsWith("audio")):return t("input.uploadAudio");default:return t("input.uploadFiles")}},[n,t]);if(r){let n=t("common.back"),i=t("error.upload"),s=t("error.upload.description");return(0,ehm.jsx)(HF,{show:!0,onClose:o,type:"error","aria-label":s,clickOutsideToClose:!1,footer:(0,ehm.jsx)(HF.Footer,{children:(0,ehm.jsx)(DR,{name:"upload-error-button-close",onClick:o,"aria-label":n,children:n})}),children:(0,ehm.jsxs)("div",{className:ehf,children:[(0,ehm.jsx)(Jz,{level:1,children:i}),(0,ehm.jsx)("p",{children:s}),(0,ehm.jsx)("p",{children:r})]})})}return(0,ehm.jsx)(HF,{type:"loading",progress:i??"indeterminate",show:!!n,"aria-label":a,clickOutsideToClose:!1,"data-cy":"uploadingFile",children:(0,ehm.jsx)("div",{className:ehf,children:ehg(a,n)})})},ehy=SV(SH()),ehv=SV(Sz()),ehb=SV(Sz()),ehA=(SV(Sz()),SV(S$())),ehw=t=>(0,ehA.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ehA.jsx)("path",{d:"M4.79289 12.7072L11.2929 19.2072L12.7071 17.793L7.91414 13H19V11H7.9143L12.7071 6.20718L11.2929 4.79297L4.79289 11.293C4.60536 11.4805 4.5 11.7349 4.5 12.0001C4.5 12.2653 4.60536 12.5196 4.79289 12.7072Z",fill:"currentColor"})}),ehC=(SV(Sz()),SV(S$())),eh_=t=>(0,ehC.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ehC.jsx)("path",{d:"M21 5C21 3.34315 19.6569 2 18 2H6C4.34315 2 3 3.34315 3 5V13C3 14.6569 4.34315 16 6 16H9V14H6C5.44772 14 5 13.5523 5 13L5 5C5 4.44771 5.44772 4 6 4L18 4C18.5523 4 19 4.44772 19 5V13C19 13.5523 18.5523 14 18 14H15V16H18C19.6569 16 21 14.6569 21 13V5Z",fill:"currentColor"}),(0,ehC.jsx)("path",{d:"M16.2071 18.7071L12.7071 22.2071C12.5196 22.3947 12.2652 22.5 12 22.5C11.7348 22.5 11.4804 22.3947 11.2929 22.2071L7.79289 18.7071L9.20711 17.2929L11 19.0858V11H13V19.0858L14.7929 17.2929L16.2071 18.7071Z",fill:"currentColor"}),(0,ehC.jsx)("path",{d:"M19 19H22V21H19C18.4477 21 18 21.4477 18 22H16C16 20.3431 17.3431 19 19 19Z",fill:"currentColor"}),(0,ehC.jsx)("path",{d:"M2 21H5C5.55228 21 6 21.4477 6 22H8C8 20.3431 6.65685 19 5 19H2V21Z",fill:"currentColor"})]}),ehS=(SV(Sz()),SV(S$())),ehk=t=>(0,ehS.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ehS.jsx)("path",{d:"M8 19C9.65685 19 11 20.3431 11 22L9 22C9 21.4477 8.55228 21 8 21L5 21C4.44772 21 4 21.4477 4 22H2C2 20.3431 3.34315 19 5 19H8Z",fill:"currentColor"}),(0,ehS.jsx)("path",{d:"M22 22C22 20.3431 20.6569 19 19 19H16C14.3431 19 13 20.3431 13 22H15C15 21.4477 15.4477 21 16 21L19 21C19.5523 21 20 21.4477 20 22L22 22Z",fill:"currentColor"}),(0,ehS.jsx)("path",{d:"M18 2C19.6569 2 21 3.34315 21 5V13C21 14.6569 19.6569 16 18 16H15V14H18C18.5523 14 19 13.5523 19 13V5C19 4.44771 18.5523 4 18 4L6 4C5.44772 4 5 4.44771 5 5L5 13C5 13.5523 5.44772 14 6 14H9V16H6C4.34315 16 3 14.6569 3 13V5C3 3.34315 4.34315 2 6 2H18Z",fill:"currentColor"}),(0,ehS.jsx)("path",{d:"M16.2071 11.2929L12.7071 7.79287C12.5196 7.60533 12.2652 7.49997 12 7.49997C11.7348 7.49997 11.4804 7.60533 11.2929 7.79287L7.79289 11.2929L9.20711 12.7071L11 10.9142V19H13V10.9142L14.7929 12.7071L16.2071 11.2929Z",fill:"currentColor"})]}),ehE=(SV(Sz()),SV(S$())),ehM=t=>(0,ehE.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ehE.jsx)("path",{d:"M13.2623 19.0108L12.0003 19.7119L7.11854 16.9998L9.55912 15.644L7.5 14.5L3.59035 16.672C3.33317 16.8149 3.33317 17.1848 3.59034 17.3276L11.2718 21.5951C11.7249 21.8468 12.2757 21.8468 12.7288 21.5951L14.6821 20.51C14.1383 20.0833 13.6593 19.5778 13.2623 19.0108Z",fill:"currentColor"}),(0,ehE.jsx)("path",{d:"M3.59035 6.67207L11.2718 2.40458C11.7249 2.1529 12.2757 2.1529 12.7288 2.40458L20.4102 6.67207C20.6674 6.81495 20.6674 7.18481 20.4102 7.32769L19.1953 8.00267C19.1304 8.00089 19.0653 8 19 8C16.4214 8 14.1684 9.3943 12.9539 11.4701L12.7288 11.5952C12.2757 11.8469 11.7249 11.8469 11.2718 11.5952L3.59034 7.32769C3.33317 7.18481 3.33317 6.81495 3.59035 6.67207Z",fill:"currentColor"}),(0,ehE.jsx)("path",{d:"M22.7072 14.7929L18.7072 10.7929C18.5197 10.6054 18.2653 10.5 18.0001 10.5C17.7349 10.5 17.4805 10.6054 17.293 10.7929L13.293 14.7929L14.7072 16.2071L17 13.9143V20H19V13.9141L21.293 16.2071L22.7072 14.7929Z",fill:"currentColor"})]}),ehI=(SV(Sz()),SV(S$())),ehT=t=>(0,ehI.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ehI.jsx)("path",{d:"M12.0339 9.69329L12.0003 9.71196L7.11854 6.99988L12.0003 4.2878L13.2624 4.98897C13.6595 4.42198 14.1385 3.91655 14.6823 3.48987L12.7288 2.40458C12.2757 2.1529 11.7249 2.1529 11.2718 2.40458L3.59035 6.67207C3.33317 6.81495 3.33317 7.18481 3.59034 7.32769L11.2718 11.5952C11.6616 11.8117 12.1238 11.842 12.5338 11.6859C12.2744 11.0622 12.1027 10.3928 12.0339 9.69329Z",fill:"currentColor"}),(0,ehI.jsx)("path",{d:"M22.7072 9.20708L18.7072 13.2071C18.5197 13.3946 18.2653 13.5 18.0001 13.5C17.7349 13.5 17.4805 13.3946 17.293 13.2071L13.293 9.20708L14.7072 7.79287L17 10.0857V4H19V10.0859L21.293 7.79287L22.7072 9.20708Z",fill:"currentColor"}),(0,ehI.jsx)("path",{d:"M12.7286 16.5954L15.4931 15.0595C16.5242 15.6576 17.7221 16 19 16C19.0655 16 19.1307 15.9991 19.1958 15.9973L20.4102 16.672C20.6674 16.8149 20.6674 17.1848 20.4102 17.3276L12.7288 21.5951C12.2757 21.8468 11.7249 21.8468 11.2718 21.5951L3.59034 17.3276C3.33317 17.1848 3.33317 16.8149 3.59035 16.672L7.49999 14.5L11.2716 16.5954C11.7247 16.847 12.2755 16.847 12.7286 16.5954Z",fill:"currentColor"})]}),ehB=SV(Sz()),ehL=SV(Sz()),ehj=SV(Mx()),ehP=function(t,n,i,r){let s=n.scene.getMode(),o=(0,ehj.default)((t=>{if(1!==t.selectedBlocks.length)return[];let[n]=t.selectedBlocks;return"//ly.img.ubq/fill/image"===n.fillType?[ZJ.id]:"//ly.img.ubq/fill/video"===n.fillType?[Z0.id]:"//ly.img.ubq/audio"===n.blockType?[Z1.id]:[]})(r)),a=o=o.filter(n=>{let i=t.ui.getAssetLibraryEntry(n);return null!=i&&(null==i.sceneMode||i.sceneMode===s)});return null!=i.replaceAssetLibraryEntries&&(a=i.replaceAssetLibraryEntries({selectedBlocks:r.selectedBlocks,defaultEntryIds:o})),a.map(n=>t.ui.getAssetLibraryEntry(n)).filter(eav)},ehR=function(){let t=YT(),n=KA(),[i,r]=Jh(t.engine,i=>{let r=i.block.findAllSelected().map(t=>{if(!i.block.isValid(t))return;let n=i.block.supportsFill(t)?i.block.getFill(t):void 0,r=null!=n&&i.block.isValid(n)?i.block.getType(n):void 0;return{id:t,blockType:i.block.getType(t),fillType:r}}).filter(eav);return[ehP(t,i,n,{selectedBlocks:r}),i.asset.findAllSources()]});return eab(i,t.engine,r)},ehD=SV(S$()),ehF=Xc(Jg(function({engine:t,children:n}){let i=KA(),[r,s]=erU("//ly.img.panel/assetLibrary.replace",i),[o]=erU("//ly.img.panel/assetLibrary",i),a=Jv(eey),l=ehR(),c=null!=l&&l.length>0,u=Jy("ui/replaceAssetOnSelect"),d=t.block.findAllSelected(),p=(0,ehL.useMemo)(()=>d.some(n=>{let i=t.block.hasFill(n)?t.block.getFill(n):void 0,r=t.block.hasPlaceholderBehavior(n)&&t.block.isPlaceholderBehaviorEnabled(n),s=void 0!==i&&t.block.isValid(i)&&t.block.hasPlaceholderBehavior(i)&&t.block.isPlaceholderBehaviorEnabled(i);return t.block.isValid(n)&&t.block.isPlaceholderEnabled(n)&&(r||s)}),[t.block,d]),h=Vx(n=>{let i=n&&u&&c&&!o;i&&s(!0);let r=t.block.onClicked(t=>{i&&!o&&d.includes(t)&&s(!0)});return()=>{s(!1),r()}});return(0,ehL.useEffect)(()=>h(a&&p),[a,p,h]),(0,ehD.jsx)(ehD.Fragment,{children:n({canReplace:a&&c,replaceAssetLibraryPanelOpen:r,setReplaceAssetLibraryPanelOpen:s})})})),ehO={audioTitle:"UBQ_Clip-module__audioTitle--WdlTU",ghost:"UBQ_Clip-module__ghost--tCq5-"},ehN=SV(Sz()),ehU=SV(S$()),ehV=Jg(function({engine:t,block:n,height:i,timeBegin:r,timeEnd:s,pixelRatio:o,action:a}){let l=(0,ehN.useRef)(null),[c,u]=ehq(),[d,p]=(0,ehN.useState)(!0),h=(0,ehN.useCallback)((t,n,i,r)=>{t.fillStyle="hsla(338, 64%, 51%, 1)",t.fillRect(n,0,i,r)},[]),f=Vx(()=>{let r=l.current;if(!t.block.isValid(n)||!r||"//ly.img.ubq/graphic"!==t.block.getType(n))return;let s=t.block.getDuration(n),a=Math.floor(t.block.getFrameWidth(n)/(t.block.getFrameHeight(n)/i)),d=Math.ceil(s*o/a),f=r.getContext("2d"),m=document.createElement("canvas"),g=m.getContext("2d");m.width=d*a,m.height=i,u(),c(()=>t.block.generateVideoThumbnailSequence(n,i,0,s,d,(t,n)=>{let s=t*a;n instanceof Error?g&&h(g,s,a,i):(g?.putImageData(n,s,0),t===d-1&&(r.width=m.width,r.height=m.height,f?.drawImage(m,0,0),p(!1)))}))});(0,ehN.useEffect)(()=>{p(!0),f()},[f,o,i]);let m=(0,ehN.useRef)(r),g=(0,ehN.useRef)(s);(0,ehN.useEffect)(()=>{"start-trimming"!==a&&"idle"!==a||(m.current=r,g.current=s);let t=r!==m.current||s!==g.current;"trimming"===a&&t&&p(!0)},[a,r,s]),(0,ehN.useEffect)(()=>t.editor.onHistoryUpdated(f),[t.editor,f]);let x=(m.current,(m.current-r)*o);return(0,ehU.jsxs)(ehU.Fragment,{children:[(0,ehU.jsx)(ehG,{isLoading:d}),(0,ehU.jsx)("canvas",{className:"UBQ_ClipAtlas-module__videoAtlas--vAotA",ref:l,style:{left:"trimming"===a||d?x:0}})]})}),ehH=Jg(function({engine:t,block:n,height:i,pixelRatio:r}){let s=(0,ehN.useRef)(null),[o,a]=ehq(),[l,c]=(0,ehN.useState)(!0),u=(0,ehN.useCallback)((t,n,i,r)=>{let o=t.getContext("2d");if(!o||!s.current)return;o.fillStyle="hsla(338, 64%, 51%, 1)",o.fillRect(n,0,i,r);let a=t.toDataURL();s.current.style.backgroundImage=`url(${a})`,s.current.style.backgroundSize=`${i}px ${r}px`},[]),d=Vx(()=>{if(!t.block.isValid(n))return;let l=t.block.getType(n);if("//ly.img.ubq/text"!==l&&"//ly.img.ubq/graphic"!==l)return;let d=document.createElement("canvas"),p=d.getContext("2d"),h=Math.floor(t.block.getFrameWidth(n)/(t.block.getFrameHeight(n)/i));d.width=h,d.height=i,a(),o(()=>t.block.generateVideoThumbnailSequence(n,i,0,h/r,1,(t,n)=>{let r=t*h;if(n instanceof Error)return void u(d,r,h,i);if(!s.current)return;p?.putImageData(n,r,0);let o=d.toDataURL();s.current.style.backgroundImage=`url(${o})`,s.current.style.backgroundSize=`${h}px ${i}px`,c(!1)}))});return(0,ehN.useEffect)(()=>{c(!0),d()},[d,i]),(0,ehN.useEffect)(()=>t.editor.onHistoryUpdated(d),[t.editor,d]),(0,ehU.jsxs)(ehU.Fragment,{children:[(0,ehU.jsx)(ehG,{isLoading:l}),(0,ehU.jsx)("span",{className:"UBQ_ClipAtlas-module__staticAtlas--gs2HR",ref:s})]})});function ehQ(){let t=`${JH().ui.baseURL}audio-wave.svg`;return(0,ehU.jsx)("span",{className:"UBQ_ClipAtlas-module__audioAtlas--FJKNv",style:{maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`}})}var ehz={idle:{x:"-100%",opacity:0},loading:{opacity:1,x:["-100%","100%"],transition:{duration:1.8,repeat:1/0,repeatDelay:.3,ease:L_}}};function ehG({isLoading:t}){return(0,ehU.jsx)(R1.span,{className:"UBQ_ClipAtlas-module__animatedBackground--iH96z",variants:ehz,initial:"idle",animate:t?"loading":"idle"})}function ehq(){let t=(0,ehN.useRef)([]),n=(0,ehN.useCallback)(n=>{let i=!1,r=n();return t.current.push(()=>{i||(i=!0,r())}),r},[]),i=(0,ehN.useCallback)(()=>{t.current.forEach(t=>t()),t.current=[]},[]);return(0,ehN.useEffect)(()=>()=>i(),[i]),[n,i]}var ehW=SV(S$()),eh$=Jg(function({engine:t,block:n,maxDuration:i,trimOffset:r,clipType:s="foreGround",...o}){if(!t.block.isValid(n))return null;let a=t.block.getType(n),l=!1,c=!1;switch(null!=r&&null!=i&&(l=0===r,c=Yc(o.timeEnd,o.timeBegin+(i-r),1e-4)),a){case"//ly.img.ubq/graphic":case"//ly.img.ubq/text":return(0,ehW.jsx)(ehZ,{block:n,limitReachedLeft:l,limitReachedRight:c,maxDuration:i,trimOffset:r,clipType:s,...o});case"//ly.img.ubq/audio":return(0,ehW.jsx)(ehY,{block:n,limitReachedLeft:l,limitReachedRight:c,maxDuration:i,trimOffset:r,clipType:s,...o});default:return null}}),ehZ=Jg(function({engine:t,clips:n,block:i,moveRef:r,trimLeftRef:s,trimRightRef:o,pixelRatio:a,timeBegin:l,timeEnd:c,limitReachedLeft:u,limitReachedRight:d,clipType:p,height:h,action:f}){let{t:m}=qL(),g=t.block.isAllowedByScope(i,ee_),x=c-l,y=t.block.supportsFill(i)?t.block.getFill(i):void 0,v=null!=y&&t.block.isValid(y)&&"//ly.img.ubq/fill/video"===t.block.getType(y),b=!!v&&t.block.isMuted(y),A=t.block.supportsAnimation(i),w=A?t.block.getInAnimation(i):void 0,C=A?t.block.getOutAnimation(i):void 0,_=A?t.block.getLoopAnimation(i):void 0,S=null!=w&&t.block.isValid(w),k=null!=C&&t.block.isValid(C),E=null!=_&&t.block.isValid(_),{timeString:M}=zm(x,!0);return(0,ehW.jsxs)(GD,{id:`clip-${i}`,className:ehO.block,isSelected:t.block.isSelected(i),moveRef:g?r:void 0,onPointerDown:n=>{if(!g)return;let r=t.block.isSelected(i),s=t.block.findAllSelected().length>1;n.shiftKey?t.block.setSelected(i,!r):r&&!s||t.block.select(i)},children:[g&&(0,ehW.jsx)(GD.TrimHandles,{show:"both",trimLeftRef:s,trimRightRef:o,limitReachedLeft:u,limitReachedRight:d}),(0,ehW.jsxs)(GD.Meta,{children:[(0,ehW.jsx)(GD.MetaLabel,{show:"selected",children:M}),(S||k||E)&&(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(esi,{})}),b&&(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(epP,{})}),(()=>{let n=t.block.getType(i),r=null!=y&&t.block.isValid(y)?t.block.getType(y):null,s=t.block.hasShape(i)?t.block.getShape(i):null,o=null!=s&&t.block.isValid(s)?t.block.getType(s):null;switch(!0){case"//ly.img.ubq/text"===n:return(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiY,{})});case"//ly.img.ubq/fill/video"===r:return(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiX,{})});case"//ly.img.ubq/fill/image"===r&&"sticker"===t.block.getKind(i):return(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiq,{})});case"//ly.img.ubq/fill/image"===r:return(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiU,{})});case null!=o:return(0,ehW.jsxs)(ehW.Fragment,{children:[(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiz,{})}),(0,ehW.jsx)(GD.MetaLabel,{children:m(`block.${o.replace("//ly.img.ubq/shape/","")}`)})]});default:return null}})()]}),(0,ehW.jsx)(GD.Atlas,{children:v?(0,ehW.jsx)(ehV,{block:i,height:h,pixelRatio:a,timeBegin:l,timeEnd:c,action:f}):(0,ehW.jsx)(ehH,{block:i,height:h,pixelRatio:a,timeBegin:l,timeEnd:c,action:f})}),(0,ehW.jsx)(ehK,{clips:n,block:i,clipType:p})]})}),ehY=Jg(function({engine:t,clips:n,block:i,moveRef:r,trimLeftRef:s,trimRightRef:o,timeBegin:a,timeEnd:l,limitReachedLeft:c,limitReachedRight:u,clipType:d}){let p=t.block.isAllowedByScope(i,ee_),h=t.block.isMuted(i),{timeString:f}=zm(l-a,!0),m=t.block.getName(i),g=t.block.getString(i,"audio/fileURI"),x=(0,ehB.useMemo)(()=>m||function(t){let[n]=t.match(ehJ)??[];return n}(g),[m,g]);return(0,ehW.jsxs)(GD,{id:`clip-${i}`,isSelected:t.block.isSelected(i),moveRef:p?r:void 0,onPointerDown:n=>{if(!p)return;let r=t.block.isSelected(i),s=t.block.findAllSelected().length>1;n.shiftKey?t.block.setSelected(i,!r):r&&!s||t.block.select(i)},children:[p&&(0,ehW.jsx)(GD.TrimHandles,{show:"both",trimLeftRef:s,trimRightRef:o,limitReachedLeft:c,limitReachedRight:u}),(0,ehW.jsxs)(GD.Meta,{children:[(0,ehW.jsx)(GD.MetaLabel,{show:"selected",children:f}),h&&(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(epP,{})}),(0,ehW.jsx)(GD.MetaIcon,{children:(0,ehW.jsx)(eiD,{})}),(0,ehW.jsxs)(GD.MetaLabel,{children:[(0,ehW.jsx)("span",{children:"Title"}),(0,ehW.jsx)("span",{children:" \xb7 "}),(0,ehW.jsx)("span",{className:ehO.audioTitle,children:x})]})]}),(0,ehW.jsx)(GD.Atlas,{children:(0,ehW.jsx)(ehQ,{})}),(0,ehW.jsx)(ehK,{clips:n,block:i,clipType:d})]})}),ehK=Xc(Jg(function({engine:t,block:n,clips:i,clipType:r}){let s=YT(),o=YB(),{focusSelectedElement:a}=JC(),{getScope:l}=Jk(),{t:c}=qL(),u=KU(),d=s.feature.isEnabled("ly.img.duplicate",{engine:t}),p=t.block.isAllowedByScope(n,eeC),h=s.feature.isEnabled("ly.img.delete",{engine:t}),f=t.block.isAllowedByScope(n,eew),m=s.feature.isEnabled("ly.img.replace",{engine:t}),g=t.block.isAllowedByScope(n,eey),x=s.feature.isEnabled("ly.img.placeholder",{engine:t}),y=Jy("ui/placeholder"),v=t.block.getType(n),b=t.block.supportsFill(n)?t.block.getFill(n):void 0,A=null!=b&&t.block.isValid(b)?t.block.getType(b):void 0,w="sticker"===t.block.getKind(n),C="//ly.img.ubq/graphic"===v&&("//ly.img.ubq/fill/image"===A||"//ly.img.ubq/fill/video"===A)&&!w,_=t.block.hasPlaybackControl(n),S=null!=b&&t.block.hasPlaybackControl(b),k=_&&t.block.isMuted(n)||S&&t.block.isMuted(b),E=t.block.hasTrim(n),M=null!=b&&t.block.hasTrim(b),I=i.indexOf(n),T=0===I,B=I===i.length-1,L=(!d||!p)&&(!h||!f)&&(!m||!g)&&(!x||!y)&&T&&B;return(0,ehW.jsx)(ehF,{children:({replaceAssetLibraryPanelOpen:i,setReplaceAssetLibraryPanelOpen:s,canReplace:v})=>(0,ehW.jsx)(GD.ContextMenu,{name:"clip-options",show:"hover",onPointerUp:t=>{t.stopPropagation();let n=new PointerEvent("pointerup",{clientX:t.clientX,clientY:t.clientY});window.dispatchEvent(n)},isDisabled:L,closeOnWheel:!0,returnFocus:l(JP)?.element,children:({closePopover:l})=>(0,ehW.jsxs)(ehW.Fragment,{children:["background"===r?(0,ehW.jsxs)(ehW.Fragment,{children:[(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"move-clip-left",variant:"plain",icon:(0,ehW.jsx)(ehw,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=KG(t,n);if(null==i)return;let r=t.block.getChildren(i).indexOf(n);t.block.insertChild(i,n,r-1),u("action.property.update"),l()},isDisabled:T,children:c("action.arrange.moveLeft")})}),(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"move-clip-right",variant:"plain",icon:(0,ehW.jsx)(eoO,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=KG(t,n);if(null==i)return;let r=t.block.getChildren(i).indexOf(n);t.block.insertChild(i,n,r+1),u("action.property.update"),l()},isDisabled:B,children:c("action.arrange.moveRight")})})]}):(0,ehW.jsxs)(ehW.Fragment,{children:[(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"bring-clip-forward",variant:"plain",icon:(0,ehW.jsx)(ehM,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=t.scene.getCurrentPage();if(!i)return;let r=t.block.getChildren(i).indexOf(n);t.block.insertChild(i,n,r+1),u("action.property.update"),l()},isDisabled:T,children:c("action.arrange.bringForward")})}),(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"send-clip-backward",variant:"plain",icon:(0,ehW.jsx)(ehT,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=t.scene.getCurrentPage();if(!i)return;let r=t.block.getChildren(i).indexOf(n);t.block.insertChild(i,n,r-1),u("action.property.update"),l()},isDisabled:B,children:c("action.arrange.sendBackward")})})]}),"background"===r?(0,ehW.jsxs)(ehW.Fragment,{children:[(0,ehW.jsx)(Hp,{}),(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"set-as-overlay",variant:"plain",icon:(0,ehW.jsx)(ehk,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=t.scene.getCurrentPage();null!=i&&(t.block.appendChild(i,n),t.block.setTimeOffset(n,t.block.getPlaybackTime(i)),u("action.property.update"),l())},children:c("action.setAsOverlay")})})]}):null,"foreGround"===r&&C?(0,ehW.jsxs)(ehW.Fragment,{children:[(0,ehW.jsx)(Hp,{}),(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"set-as-clip",variant:"plain",icon:(0,ehW.jsx)(eh_,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=t.scene.getCurrentPage();if(null==i)return;let r=KQ(t,i)??Kz(t,i);t.block.fillParent(n),t.block.appendChild(r,n),u("action.property.update"),l()},children:c("action.setAsClip")})})]}):null,_||S?(0,ehW.jsx)(Hp,{}):null,_||S?(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"mute-clip-volume",variant:"plain",icon:k?(0,ehW.jsx)(epP,{}):(0,ehW.jsx)(epL,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{_?t.block.setMuted(n,!k):S&&t.block.setMuted(b,!k),l()},children:c(k?"action.unmute":"action.mute")})}):null,E||M?(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"trim-clip",variant:"plain",icon:(0,ehW.jsx)(eph,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{t.editor.setEditMode("Trim"),l()},children:c("common.trim")})}):null,(0,ehW.jsx)(Hp,{}),m&&v&&!w&&(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"replace-clip",variant:"plain",icon:(0,ehW.jsx)(ea9,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{t.editor.setEditMode("Transform"),l(),s(!0)},disabled:i||!g,children:c("common.replace")})}),x&&(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(elx.Button,{variant:"plain",isDisabled:!y,children:c("component.placeholder.create")})}),d&&(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"duplicate-clip",variant:"plain",icon:(0,ehW.jsx)(eaZ,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{let i=t.block.duplicate(n);"background"!==r&&o.addOffsetToDesignElement(i),t.block.select(i),a(),u("action.block.duplicate"),l()},disabled:!p,children:c("action.block.duplicate")})}),h&&(0,ehW.jsx)(GD.ContextMenuItem,{children:(0,ehW.jsx)(DR,{name:"delete-clip",variant:"plain",icon:(0,ehW.jsx)(esZ,{}),onPointerUp:t=>t.stopPropagation(),onClick:()=>{t.block.destroy(n),u("action.block.delete"),l()},disabled:!f,children:c("common.delete")})})]})})})}));function ehX(){return(0,ehW.jsx)("span",{className:ehO.ghost})}var ehJ=RegExp("[^/]*$");function eh0(){let t=eir("--ubq-scale-base",t=>eie(t,4));return{scaleBase:t,marginBase:eir("--ubq-margin-base",t=>eie(t,4)),basePixelRatio:10*t,minZoomLevel:.25,maxZoomLevel:30,clipMinDuration:.1,zeroPointOffset:10*t,clipHeight:8*t,audioClipHeight:6*t}}var eh1=SV(S$()),eh2=function({className:t,pixelRatio:n,totalDuration:i,clipMinDuration:r=0,snapTimes:s}){let o=eh0(),a=Ju(),l=KU(),{tracks:c,clips:u}=Jh(a,()=>{let t=a.scene.getCurrentPage(),n=t?a.block.getChildren(t).filter(t=>"//ly.img.ubq/audio"===a.block.getType(t)):[],i=[];for(let t of n.reverse()){let n=a.block.unstable_isAVResourceLoaded(t);i.push({id:t,elements:[{id:t,start:a.block.getTimeOffset(t),duration:a.block.getDuration(t),...n&&{maxDuration:a.block.getAVResourceTotalDuration(t),trimOffset:a.block.getTrimOffset(t)}}]})}return{tracks:i,clips:n}}),[d,p]=(0,ehb.useState)(null);return(0,ehb.useEffect)(()=>{p(null)},[c]),(0,eh1.jsx)("div",{className:t,style:{width:i?i*n:0},children:(0,eh1.jsx)(Gg,{pxPerSec:n,elementHeight:o.audioClipHeight,minElementDuration:r,tracks:d??c,onChange:t=>{let n=a.scene.getCurrentPage();if(null!=n){for(let[i,r]of(p(t),t.concat().reverse().entries())){let t=r.elements[0];a.block.insertChild(n,t.id,i),a.block.setTimeOffset(t.id,t.start),a.block.setDuration(t.id,t.duration),a.block.unstable_isAVResourceLoaded(t.id)&&null!=t.trimOffset&&(a.block.setTrimOffset(t.id,t.trimOffset),a.block.setTrimLength(t.id,t.duration))}l("action.property.update")}},renderGhost:ehX,snapTimes:s,onActionChange:t=>{if("start-moving"===t||"start-trimming"===t){let t=a.scene.getCurrentPage();null!=t&&a.block.isPlaying(t)&&a.block.setPlaying(t,!1)}},renderContent:({element:t,timeBegin:n,timeEnd:i,pxPerSec:r,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,action:c})=>(0,eh1.jsx)(eh$,{clips:u,block:t.id,pixelRatio:r,timeBegin:n,timeEnd:i,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,maxDuration:t.maxDuration,trimOffset:t.trimOffset,action:c})})})},eh3=SV(Sz()),eh5=SV(S$()),eh4=function({scrollContainerRef:t,zeroPointOffset:n,onDrag:i,onDragStart:r,pixelRatio:s,totalDuration:o}){let a=Ju(),{currentPage:l,playbackTime:c,isPlaying:u}=Jh(a,()=>{let t=a.scene.getCurrentPage();return{currentPage:t,playbackTime:t?a.block.getPlaybackTime(t):0,isPlaying:!!t&&a.block.isPlaying(t)}});return(0,eh3.useEffect)(()=>{let i=t.current;if(!i||!u||null==l)return;let r=(i.clientWidth-n)/s;c>r+i.scrollLeft/s-.08*r&&(i.scrollLeft=c*s),c<i.scrollLeft/s&&(i.scrollLeft=c*s)},[l,u,s,c,t,n]),(0,eh5.jsx)(GU,{className:"UBQ_PlayHead-module__block--L6eKu",pixelRatio:s,totalDuration:o,zeroPointOffset:n,playbackTime:c,onDragStart:r,onDrag:i})},eh6=SV(S$()),eh8=function({className:t,pixelRatio:n,totalDuration:i,clipMinDuration:r=0,snapTimes:s}){let o=eh0(),a=Ju(),l=KU(),{tracks:c,clips:u}=Jh(a,()=>{let t=a.scene.getCurrentPage(),n=null!=t?KQ(a,t):void 0,i=null!=n?a.block.getChildren(n):[];if(null==n||0===i.length)return{tracks:[],clips:[]};let r={id:n,elements:[]};for(let t of i){let n=a.block.getFill(t),i="//ly.img.ubq/fill/video"===(a.block.isValid(n)?a.block.getType(n):void 0)&&a.block.unstable_isAVResourceLoaded(n);r.elements.push({id:t,start:a.block.getTimeOffset(t),duration:a.block.getDuration(t),...i&&{maxDuration:a.block.getAVResourceTotalDuration(n),trimOffset:a.block.getTrimOffset(n)}})}return{tracks:[r],clips:i}});return 0===c.length?null:(0,eh6.jsx)("div",{className:t,style:{width:i?i*n:0},children:(0,eh6.jsx)(Gg,{pxPerSec:n,elementHeight:o.clipHeight,minElementDuration:r,tracks:c,packed:!0,onChange:t=>{let n=a.scene.getCurrentPage(),i=null!=n?KQ(a,n):void 0;if(null!=i){for(let[n,r]of t[0].elements.entries()){a.block.insertChild(i,r.id,n),a.block.setTimeOffset(r.id,r.start),a.block.setDuration(r.id,r.duration);let t=a.block.getFill(r.id);a.block.isValid(t)&&a.block.hasTrim(t)&&a.block.unstable_isAVResourceLoaded(t)&&null!=r.trimOffset&&(a.block.setTrimOffset(t,r.trimOffset),a.block.setTrimLength(t,r.duration))}l("action.property.update")}},renderGhost:ehX,snapTimes:s,onActionChange:t=>{if("start-moving"===t||"start-trimming"===t){let t=a.scene.getCurrentPage();null!=t&&a.block.isPlaying(t)&&a.block.setPlaying(t,!1)}},renderContent:({element:t,timeBegin:n,timeEnd:i,pxPerSec:r,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,action:c})=>(0,eh6.jsx)(eh$,{clips:u,block:t.id,pixelRatio:r,timeBegin:n,timeEnd:i,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,maxDuration:t.maxDuration,trimOffset:t.trimOffset,clipType:"background",action:c})})})},eh7=SV(Sz()),eh9=SV(S$()),efe=function({className:t,pixelRatio:n,totalDuration:i,clipMinDuration:r=0,snapTimes:s}){let o=eh0(),a=Ju(),l=KU(),{tracks:c,clips:u}=Jh(a,()=>{let t=a.scene.getCurrentPage(),n=t?a.block.getChildren(t).filter(t=>{let n=a.block.getType(t);return"//ly.img.ubq/graphic"===n||"//ly.img.ubq/text"===n}):[],i=[];for(let t of n.reverse()){let n=a.block.getFill(t),r="//ly.img.ubq/fill/video"===(a.block.isValid(n)?a.block.getType(n):void 0)&&a.block.unstable_isAVResourceLoaded(n);i.push({id:t,elements:[{id:t,start:a.block.getTimeOffset(t),duration:a.block.getDuration(t),...r&&{maxDuration:a.block.getAVResourceTotalDuration(n),trimOffset:a.block.getTrimOffset(n)}}]})}return{tracks:i,clips:n}}),[d,p]=(0,eh7.useState)(null);return(0,eh7.useEffect)(()=>{p(null)},[c]),(0,eh9.jsx)("div",{className:t,style:{width:i?i*n:0},children:(0,eh9.jsx)(Gg,{pxPerSec:n,elementHeight:o.clipHeight,minElementDuration:r,tracks:d||c,onChange:t=>{p(t);let n=a.scene.getCurrentPage();if(null!=n){for(let[i,r]of t.concat().reverse().entries()){let t=r.elements[0];a.block.insertChild(n,t.id,i),a.block.setTimeOffset(t.id,t.start),a.block.setDuration(t.id,t.duration);let s=a.block.getFill(t.id);a.block.isValid(s)&&a.block.hasTrim(s)&&a.block.unstable_isAVResourceLoaded(s)&&null!=t.trimOffset&&(a.block.setTrimOffset(s,t.trimOffset),a.block.setTrimLength(s,t.duration))}l("action.property.update")}},renderGhost:ehX,snapTimes:s,onActionChange:t=>{if("start-moving"===t||"start-trimming"===t){let t=a.scene.getCurrentPage();null!=t&&a.block.isPlaying(t)&&a.block.setPlaying(t,!1)}},renderContent:({element:t,timeBegin:n,timeEnd:i,pxPerSec:r,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,action:c})=>(0,eh9.jsx)(eh$,{clips:u,block:t.id,pixelRatio:r,timeBegin:n,timeEnd:i,height:s,moveRef:o,trimLeftRef:a,trimRightRef:l,maxDuration:t.maxDuration,trimOffset:t.trimOffset,action:c})})})},eft=(SV(Sz()),SV(S$())),efn=t=>(0,eft.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eft.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 13L5 13L5 11L19 11L19 13Z",fill:"currentColor"})}),efi=(SV(Sz()),SV(S$())),efr=t=>(0,efi.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,efi.jsx)("path",{d:"M6 6C3.79086 6 2 7.79086 2 10V14C2 16.2091 3.79088 18 5.99999 18L6.00001 16C4.89544 16 4 15.1045 4 14V10C4 8.89543 4.89543 8 6 8H18C19.1046 8 20 8.89543 20 10V14C20 15.1046 19.1046 16 18 16H12.9144L15.2071 13.7073L13.7929 12.293L9.79287 16.293C9.60533 16.4806 9.49997 16.7349 9.49997 17.0002C9.49997 17.2654 9.60533 17.5197 9.79287 17.7073L13.7929 21.7073L15.2071 20.293L12.914 18H18C20.2091 18 22 16.2091 22 14V10C22 7.79086 20.2091 6 18 6H6Z",fill:"currentColor"})}),efs=(SV(Sz()),SV(S$())),efo=t=>(0,efs.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,efs.jsx)("path",{d:"M21.2123 16.3839C21.7072 15.7182 22 14.8933 22 14V10C22 7.79086 20.2091 6 18 6H10.8283L12.8283 8H18C19.1046 8 20 8.89543 20 10V14C20 14.3391 19.9156 14.6585 19.7667 14.9383L21.2123 16.3839Z",fill:"currentColor"}),(0,efs.jsx)("path",{d:"M12.9142 16L13.7498 15.1645L12.3355 13.7502L9.79287 16.2929C9.60533 16.4804 9.49997 16.7348 9.49997 17C9.49997 17.2652 9.60533 17.5196 9.79287 17.7071L13.7929 21.7071L15.2071 20.2929L12.9142 18H16.5853L14.5853 16H12.9142Z",fill:"currentColor"}),(0,efs.jsx)("path",{d:"M4.77603 6.19073L6.5853 8H6C4.89543 8 4 8.89543 4 10V14C4 15.1046 4.89542 16 5.99998 16L6.37501 16L6.37499 18L5.99997 18C3.79084 18 2 16.2091 2 14V10C2 8.21777 3.16558 6.70778 4.77603 6.19073Z",fill:"currentColor"}),(0,efs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.291 21.7086L2.29102 3.70865L3.70523 2.29443L21.7052 20.2944L20.291 21.7086Z",fill:"currentColor"})]}),efa=(SV(Sz()),SV(S$())),efl=t=>(0,efa.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,efa.jsx)("path",{d:"M11 1H13V5H11V1Z",fill:"currentColor"}),(0,efa.jsx)("path",{d:"M11 7H13V11H11V7Z",fill:"currentColor"}),(0,efa.jsx)("path",{d:"M11 13H13V17H11V13Z",fill:"currentColor"}),(0,efa.jsx)("path",{d:"M13 19H11V23H13V19Z",fill:"currentColor"}),(0,efa.jsx)("path",{d:"M5 4H9V6H5C4.44772 6 4 6.44772 4 7V17C4 17.5523 4.44772 18 5 18H9V20H5C3.34315 20 2 18.6569 2 17V7C2 5.34315 3.34315 4 5 4Z",fill:"currentColor"}),(0,efa.jsx)("path",{d:"M19 18H15V20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H15V6H19C19.5523 6 20 6.44772 20 7V17C20 17.5523 19.5523 18 19 18Z",fill:"currentColor"})]}),efc=(SV(Sz()),SV(S$())),efu=t=>(0,efc.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,efc.jsx)("path",{d:"M18 1H13V4L15.5 5L18 4V1Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M2 7V10H12V7H2Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M5 17V20H13.5V17H5Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M15 6H16V22H15V6Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M17.5 17H20V20H17.5V17Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M8 12V15H13.5V12H8Z",fill:"currentColor"}),(0,efc.jsx)("path",{d:"M17.5 12H22V15H17.5V12Z",fill:"currentColor"})]}),efd=SV(SH()),efp=SV(Sz()),efh={block:"UBQ_VideoTimelineControls-module__block--51LSm",group:"UBQ_VideoTimelineControls-module__group--O98jr",playbackControls:"UBQ_VideoTimelineControls-module__playbackControls--tTdue",playbackControlsSmall:"UBQ_VideoTimelineControls-module__playbackControlsSmall--bt51V",playbackInfo:"UBQ_VideoTimelineControls-module__playbackInfo--qBo24",zoomControls:"UBQ_VideoTimelineControls-module__zoomControls--sMM4p",expandButton:"UBQ_VideoTimelineControls-module__expandButton--MRale"};function eff(){let{width:t}=G2("timelineControlsViewport");return t>0&&t<700}var efm=SV(S$()),efg=Jg(function({engine:t,page:n}){let i=epz(n),r=eff();return t.block.isValid(t.block.getFill(n))?(0,efm.jsx)(ecG,{block:n,name:"background-color",panelId:"//ly.img.panel/inspector/background/color",i18nLabelString:"property.backgroundColor",i18nDescriptionString:"property.backgroundColor.description",hideLabel:r,inBar:!0,...i}):null}),efx=Jg(function({engine:t,page:n}){let i=eh0(),{t:r}=qL(),s=KU(),o=eff(),a=t.block.findAllSelected()[0],l=null!=a?t.block.getType(a):void 0,c="//ly.img.ubq/graphic"===l||"//ly.img.ubq/text"===l||"//ly.img.ubq/audio"===l,u=null!=a&&t.block.hasTrim(a),d=u&&t.block.unstable_isAVResourceLoaded(a),p=null!=a&&t.block.hasFill(a)?t.block.getFill(a):void 0,h=null!=p&&t.block.isValid(p)&&t.block.hasTrim(p),f=h&&t.block.unstable_isAVResourceLoaded(p),m=c?t.block.getTimeOffset(a):0,g=c?t.block.getDuration(a):0,x=t.block.getPlaybackTime(n),y=x>m+i.clipMinDuration&&x<m+g-i.clipMinDuration;return(0,efm.jsx)(U6,{label:r("action.splitClip.description"),children:(0,efm.jsx)(DR,{name:"split-clip",variant:"plain",icon:(0,efm.jsx)(efl,{}),"aria-label":o?r("action.splitClip"):void 0,onClick:async function(){if(!y||!a)return;let i=KG(t,a)??n,r=t.block.getPlaybackTime(n),o=t.block.getChildren(i).indexOf(a);if(-1===o)return;let l=r-m,c=t.block.duplicate(a);if(t.block.setTimeOffset(c,r),t.block.setDuration(c,g-l),t.block.setDuration(a,l),t.block.insertChild(i,c,o+1),t.block.select(c),u){t.block.setTrimLength(a,l);let n=t.block.getTrimOffset(a);t.block.setTrimOffset(c,n+l),t.block.setTrimLength(c,g-l)}if(h){t.block.setTrimLength(p,l);let n=t.block.getTrimOffset(p);t.block.setTrimOffset(t.block.getFill(c),n+l),t.block.setTrimLength(t.block.getFill(c),g-l)}s("action.splitClip")},disabled:!y||u&&!d||h&&!f,children:!o&&r("action.splitClip")})})}),efy=Jg(function({engine:t,page:n}){let i=t.block.getDuration(n),r=zm(t.block.getPlaybackTime(n),!0),s=zm(i,!0);return(0,efm.jsxs)("span",{className:efh.playbackInfo,children:[(0,efm.jsx)("time",{dateTime:r.periodString,"data-cy":"timelinePlaybackInfo-playbackTime",children:r.timeString}),(0,efm.jsx)("span",{children:" / "}),(0,efm.jsx)("time",{dateTime:s.periodString,"data-cy":"timelinePlaybackInfo-totalDuration",children:s.timeString})]})}),efv=Jg(function({engine:t,page:n}){let{t:i}=qL(),r=t.block.isPlaying(n),s=t.block.getDuration(n),o=(0,efp.useCallback)(()=>{r||t.block.isLooping(n)||t.block.getPlaybackTime(n)!==t.block.getDuration(n)||t.block.setPlaybackTime(n,0),t.block.setPlaying(n,!r)},[t,r,n]);return function(t,n){let i=Vx(n),{registerShortcut:r,unregisterShortcut:s}=Jk();(0,J_.useEffect)(()=>{let n=r(t,i);return()=>{s(t,n)}},[r,t,i,s])}(JR,(t,n)=>{let i=n instanceof HTMLInputElement,r=n instanceof HTMLTextAreaElement,a=n instanceof HTMLElement&&n.isContentEditable,l=n instanceof HTMLButtonElement,c=l&&"-1"===n.getAttribute("data-ubq-canvas-layer-id");" "===t.key&&s>0&&!(i||r||a||l&&!c)&&o()}),(0,efp.useEffect)(()=>t.editor.onHistoryUpdated(()=>{r&&t.block.setPlaying(n,!1)}),[t.block,t.editor,r,n]),(0,efm.jsx)(U6,{label:i(r?"component.timeline.pause.description":"component.timeline.play.description"),children:(0,efm.jsx)(zI,{name:"play-button","data-cy":"timelinePlayButton",size:"small","aria-label":i(r?"component.timeline.pause.description":"component.timeline.play.description"),onClick:o,disabled:0===s,children:r?(0,efm.jsx)(esN,{}):(0,efm.jsx)(esV,{})})})}),efb=Jg(function({engine:t,page:n}){let{t:i}=qL(),r=t.block.isLooping(n);return(0,efm.jsx)(U6,{label:i(r?"action.loop.disable":"action.loop.enable"),children:(0,efm.jsx)(DR,{name:"loop-toggle",variant:"plain",icon:r?(0,efm.jsx)(efr,{}):(0,efm.jsx)(efo,{}),"aria-label":i(r?"action.loop.disable":"action.loop.enable"),isActive:r,activeStateStyle:"none",onClick:()=>{t.block.setLooping(n,!r)}})})});function efA({zoomIn:t,zoomOut:n,zoomToFit:i}){let{t:r}=qL(),s=eff();return(0,efm.jsxs)("div",{className:efh.zoomControls,children:[!s&&(0,efm.jsx)(Uo,{children:r("component.timeline.scale.label")}),(0,efm.jsxs)(N8,{children:[(0,efm.jsx)(U6,{label:r("component.timeline.scale.down"),children:(0,efm.jsx)(DR,{name:"timeline-scale-down","aria-label":r("component.timeline.scale.down.description"),onClick:n,children:(0,efm.jsx)(efn,{})})}),(0,efm.jsx)(U6,{label:r("component.timeline.scale.up"),children:(0,efm.jsx)(DR,{name:"timeline-scale-up","aria-label":r("component.timeline.scale.up.description"),onClick:t,children:(0,efm.jsx)(eot,{})})})]}),(0,efm.jsx)(DR,{name:"timeline-scale-fit","aria-label":r("component.timeline.scale.fit.description"),onClick:i,children:r("component.timeline.scale.fit")})]})}var efw=Jg(function({engine:t,isExpanded:n,toggleExpanded:i,zoomIn:r,zoomOut:s,zoomToFit:o}){let{t:a}=qL(),l=t.scene.getCurrentPage(),c=eff();return(0,efm.jsxs)("div",{className:efh.block,children:[(0,efm.jsx)("div",{className:(0,efd.default)(efh.group,efh.left),children:null!=l&&(0,efm.jsxs)(efm.Fragment,{children:[(0,efm.jsx)(efg,{page:l}),(0,efm.jsx)(efx,{page:l})]})}),(0,efm.jsx)("div",{className:(0,efd.default)(efh.group,efh.playbackControls,{[efh.playbackControlsSmall]:c}),children:null!=l&&(0,efm.jsxs)(efm.Fragment,{children:[(0,efm.jsx)(efy,{page:l}),(0,efm.jsx)(efv,{page:l}),(0,efm.jsx)(efb,{page:l})]})}),(0,efm.jsxs)("div",{className:(0,efd.default)(efh.group,efh.right),children:[n&&(0,efm.jsx)(efA,{zoomIn:r,zoomOut:s,zoomToFit:o}),(0,efm.jsx)(U6,{label:a(n?"component.timeline.collapse":"component.timeline.expand"),children:(0,efm.jsxs)(DR,{className:efh.expandButton,name:"expand-timeline","aria-label":a(n?"component.timeline.collapse":"component.timeline.expand"),variant:n?"plain":"regular",icon:n?void 0:(0,efm.jsx)(efu,{}),onClick:i,children:[n?null:a("component.timeline.label"),n?(0,efm.jsx)(erM,{}):(0,efm.jsx)(ecf,{})]})})]})]})}),efC=SV(SH()),ef_=SV(Sz()),efS=SV(S$()),efk=Xc(function({scrollContainerRef:t}){let n=(0,ef_.useRef)(null),{t:i}=qL(),r=YT(),{backgroundTrackLibraryEntries:s}=KA(),[o,a]=(0,ef_.useState)(!1);return(0,ef_.useEffect)(()=>{if(!n.current)return;let i=new IntersectionObserver(([t])=>{a(!t.isIntersecting)},{root:t.current,threshold:.95});return i.observe(n.current),()=>{i.disconnect()}},[t]),0===s.length?null:(0,efS.jsxs)(efS.Fragment,{children:[(0,efS.jsxs)("div",{id:"add-clip-button-sentinel",className:"UBQ_BackgroundTrackAddButton-module__addClipStickySentinel--Wcwxd","aria-hidden":!0,ref:n,children:[(0,efS.jsx)(eot,{}),i("action.clip.add")]}),(0,efS.jsx)(R1.div,{className:"UBQ_BackgroundTrackAddButton-module__block--zazTm",variants:{initial:{width:"100%"},sticky:{width:"calc(var(--ubq-scale-base) * 8)"}},initial:o?"sticky":"initial",animate:o?"sticky":"initial",transition:{duration:.3,ease:[.2,0,0,1]},children:(0,efS.jsx)(U6,{label:i("action.backgroundClip.add"),children:(0,efS.jsxs)(DR,{className:(0,efC.default)("UBQ_BackgroundTrackAddButton-module__addClipButton--JCuyI",{"UBQ_BackgroundTrackAddButton-module__sticky--mgPon":o}),variant:"plain",color:"accent",centered:!0,name:"add-background-clips",onPointerUp:t=>{t.stopPropagation();let n=new PointerEvent("pointerup",{clientX:t.clientX,clientY:t.clientY});window.dispatchEvent(n)},onClick:()=>{r.ui.openPanel("//ly.img.panel/assetLibrary",{payload:{entries:s}})},children:[(0,efS.jsx)(eot,{}),(0,efS.jsx)(R1.span,{initial:{opacity:o?0:1},animate:{opacity:o?0:1},children:i("action.clip.add")})]})})})]})}),efE={block:"UBQ_VideoTimeline-module__block--7jS2p",resizeHandle:"UBQ_VideoTimeline-module__resizeHandle--BwFFh",expandable:"UBQ_VideoTimeline-module__expandable--qztys",scrollContainer:"UBQ_VideoTimeline-module__scrollContainer--ZSu2E",timelineWrapper:"UBQ_VideoTimeline-module__timelineWrapper--3GAM9",foregroundTracks:"UBQ_VideoTimeline-module__foregroundTracks--NrHt-",backgroundTracks:"UBQ_VideoTimeline-module__backgroundTracks--KH3zZ",timeRuler:"UBQ_VideoTimeline-module__timeRuler--jUJdX"},efM=SV(S$());function efI({className:t,children:n,isExpanded:i,setExpanded:r,header:s}){let{t:o}=qL(),a=BQ(DE),l=(0,ehv.useRef)(null),c=G2("embedViewport"),u=(0,ehv.useRef)(.3*c.height),d=.8*c.height,p=BQ(()=>new Dd("auto")),h=Dc(i?u.current:0);return(0,ehv.useEffect)(()=>{DC(h,i?u.current:0,{duration:.1})},[h,i]),(0,efM.jsxs)(Jj,{className:(0,ehy.default)(efE.expandable,t),scope:JP,label:o("editor.scope.videoTimeline"),children:[(0,efM.jsx)(R1.div,{drag:"y",dragSnapToOrigin:!0,onDragStart:()=>{l.current?.setAttribute("data-resizing","true")},onDrag:(t,{offset:n})=>{let i=H1(0,u.current-n.y,d);h.set(i)},onDragEnd:(t,{offset:n})=>{if(0===h.get())r?.(!1);else{let t=H1(0,u.current-n.y,d);u.current=t,h.set(t)}l.current?.setAttribute("data-resizing","false")},dragMomentum:!1,dragControls:a}),(0,efM.jsx)("div",{role:"button","aria-label":o("action.resize"),"aria-disabled":!i,className:efE.resizeHandle,onPointerDown:t=>{i&&a.start(t)},ref:l}),s,(0,efM.jsx)(R1.div,{custom:i,style:{willChange:p,height:h},children:n})]})}var efT=Xc(function({className:t}){let n=YB(),i=YT(),r=Ju(),s=(0,ehv.useRef)(null),o=eh0(),{requestFocusForDesignElementId:a}=Kv(),[l,c]=(0,ehv.useState)(1),[u,d]=(0,ehv.useState)(!0),p=o.basePixelRatio*l,{backgroundTrackLibraryEntries:h,assetLibraryEntries:f}=KA();(0,ehv.useEffect)(()=>r.asset.unstable_registerApplyAssetMiddleware(async(t,n,s)=>{let o=await s(t,n);if(null!=o&&"Video"===r.scene.getMode()&&r.block.supportsDuration(o)&&r.block.supportsTimeOffset(o)){let s=r.scene.getCurrentPage();if(null==s)return;let a=null!=o&&r.block.supportsFill(o)?r.block.getFill(o):void 0;r.block.isPlaying(s)&&r.block.setPlaying(s,!1);let l=r.block.getDuration(s),c=r.block.getPlaybackTime(s),u=l-c,d=r.block.supportsTrim(o),p=null!=a&&r.block.supportsTrim(a),m=Math.max(Math.min(1,l),Math.min(u,r.block.getDuration(o))),g=h.some(n=>{let i=f[n];return i?.sourceIds.includes(t)}),x=0===l||i.ui.isPanelOpen("//ly.img.panel/assetLibrary",{payload:{entries:h}});if(g&&x){let t=KQ(r,s)??Kz(r,s);r.block.fillParent(o),r.block.appendChild(t,o)}if(x||(r.block.setTimeOffset(o,m>u?c-(m-u):c),r.block.setDuration(o,m)),d||p){let t=p?a:o;r.block.forceLoadAVResource(t).then(()=>{r.block.setTrimLength(t,r.block.getDuration(o))})}"//ly.img.ubq/audio"===r.block.getType(o)&&(KH(o,r),n.label&&r.block.setName(o,n.label))}return o}),[f,h,i.ui,r]),(0,ehv.useEffect)(()=>r.asset.unstable_registerApplyAssetToBlockMiddleware(async(t,n,i,s)=>{if(await s(t,n,i),"Video"===r.scene.getMode()){let t=n.meta?.duration?parseFloat(n.meta.duration):void 0,s=r.block.supportsFill(i)?r.block.getFill(i):void 0,o=r.block.getDuration(i);null!=t&&t<o&&(r.block.setDuration(i,t),o=t),r.block.supportsTrim(i)?r.block.forceLoadAVResource(i).then(()=>{r.block.setTrimOffset(i,0),r.block.setTrimLength(i,o)}):null!=s&&r.block.supportsTrim(s)&&r.block.forceLoadAVResource(s).then(()=>{r.block.setTrimOffset(s,0),r.block.setTrimLength(s,o)})}"//ly.img.ubq/audio"===r.block.getType(i)&&n.label&&r.block.setName(i,n.label)}),[r]);let{currentPage:m,pageChildren:g,isPlaying:x,backgroundTotalDuration:y,foregroundTotalDuration:v,totalDuration:b}=Jh(r,()=>{let t=r.scene.getCurrentPage(),n=null!=t?r.block.getChildren(t):void 0,i=null!=t?KQ(r,t):void 0,s=i&&r.block.getDuration(i),o=n?.reduce((t,n)=>Math.max(t,r.block.getTimeOffset(n)+r.block.getDuration(n)),0);return{currentPage:t,pageChildren:n,backgroundTotalDuration:s,foregroundTotalDuration:o,totalDuration:null!=t?r.block.getDuration(t):0,isPlaying:!!t&&r.block.isPlaying(t)}}),A=(0,ehv.useMemo)(()=>g?.filter(t=>{let n=r.block.getType(t);return"//ly.img.ubq/audio"===n||"//ly.img.ubq/graphic"===n||"//ly.img.ubq/text"===n||"//ly.img.ubq/track"===n}).flatMap(t=>"//ly.img.ubq/track"===r.block.getType(t)?r.block.getChildren(t):t).flatMap(t=>{let n=r.block.getTimeOffset(t);return[n,n+r.block.getDuration(t)]})??[],[r.block,g]),w=(0,ehv.useMemo)(()=>{let t=r.scene.getCurrentPage();return Array.from(new Set([0,b,t?r.block.getPlaybackTime(t):0,...A]))},[A,r.block,r.scene,b]),C=(0,ehv.useCallback)(()=>{if(!m)return;let t=y||v||0;r.block.setDuration(m,t),r.block.getPlaybackTime(m)>t&&r.block.setPlaybackTime(m,t)},[y,m,r.block,v]);function _(){s.current?.scrollTo({top:0,left:0})}(0,ehv.useEffect)(()=>(C(),n.getHistoryStateEmitter().addGlobalListener(t=>{t.some(({event:t})=>"undo"===t||"redo"===t)&&C()})),[n,C]),KV("action.scene.load",_),KV("action.scene.new",_),(0,ehv.useEffect)(()=>{let t=s.current,n=t?.querySelector(`#clip-${a}`);n&&t&&function(t,n,i){let r=i?.top??0,s=i?.right??0,o=i?.bottom??0,a=i?.left??0,l=t.getBoundingClientRect(),c=n.getBoundingClientRect(),u=l.top-c.top+n.scrollTop,d=l.bottom-c.top+n.scrollTop,p=l.left-c.left+n.scrollLeft,h=l.right-c.left+n.scrollLeft,f=u<n.scrollTop+r,m=d>n.scrollTop+n.clientHeight-o,g=p<n.scrollLeft+a,x=h>n.scrollLeft+n.clientWidth-s;f?n.scrollTop=u-r:m&&(n.scrollTop=d-n.clientHeight+o),g||!g&&x&&l.width>c.width?n.scrollLeft=p-a:x&&(n.scrollLeft=h-n.clientWidth+s)}(n,t,{top:28,bottom:70,left:24,right:24})},[r.block,a]);let S=(0,ehv.useCallback)(()=>{c(t=>Math.min(1.25*t,o.maxZoomLevel))},[o.maxZoomLevel]),k=(0,ehv.useCallback)(()=>{c(t=>Math.max(t/1.25,o.minZoomLevel))},[o.minZoomLevel]),E=(0,ehv.useCallback)(()=>{let t=s.current,n=null!==m?r.block.getDuration(m):0;if(!t||0===n)return;let i=o.zeroPointOffset+4*o.marginBase;y&&(i+=(t.querySelector("#add-clip-button-sentinel")?.clientWidth??0)+3*o.marginBase),c((t.clientWidth-i)/o.basePixelRatio/n)},[y,o.basePixelRatio,o.marginBase,o.zeroPointOffset,m,r.block]),M=(0,ehv.useCallback)(()=>{d(t=>!t)},[]),I=(0,ehv.useCallback)(()=>{null!=m&&(x&&r.block.setPlaying(m,!1),r.block.setPlaying(m,!1))},[m,r,x]),T=(0,ehv.useCallback)(t=>{if(null==m||(r.block.setPlaybackTime(m,t),!s.current))return;let n=o.zeroPointOffset/p,i=s.current.clientWidth/p,a=s.current.scrollLeft/p,l=i+a;if(t>l-n-.1){let i=Math.abs(t-l+n);s.current.scrollLeft+=3+10*i}if(t<a-n+.05){let i=Math.abs(a-n-t);s.current.scrollLeft-=3+10*i}},[o.zeroPointOffset,m,r.block,p]);return(0,efM.jsx)(efI,{className:(0,ehy.default)(efE.block,t),isExpanded:u,setExpanded:d,header:(0,efM.jsx)(zJ,{containerName:"timelineControlsViewport",children:(0,efM.jsx)(efw,{isExpanded:u,toggleExpanded:M,zoomIn:S,zoomOut:k,zoomToFit:E})}),children:(0,efM.jsx)("div",{id:"timeline-scroll-container",className:efE.scrollContainer,ref:s,children:(0,efM.jsxs)("div",{className:efE.timelineWrapper,onPointerUp:t=>{let n=t.currentTarget.getBoundingClientRect(),i=(t.clientX-n.left-o.zeroPointOffset)/p;!m||i<0||i>b||(r.block.setPlaying(m,!1),r.block.setPlaybackTime(m,i))},children:[(0,efM.jsx)(Gw,{className:efE.timeRuler,pixelRatio:p,zeroPointOffset:o.zeroPointOffset,totalDuration:b,baseTickSpacing:7.5*o.scaleBase,baseSecondSpacing:50*o.scaleBase}),(0,efM.jsxs)("div",{className:efE.foregroundTracks,style:{marginLeft:o.zeroPointOffset},children:[(0,efM.jsx)(efe,{pixelRatio:p,totalDuration:v,clipMinDuration:o.clipMinDuration,snapTimes:w}),(0,efM.jsx)(eh2,{pixelRatio:p,totalDuration:v,clipMinDuration:o.clipMinDuration,snapTimes:w})]}),(0,efM.jsxs)("div",{className:efE.backgroundTracks,style:{paddingLeft:o.zeroPointOffset},children:[(0,efM.jsx)(eh8,{className:efE.backgroundTrack,pixelRatio:p,totalDuration:y,clipMinDuration:o.clipMinDuration,snapTimes:w}),(0,efM.jsx)(efk,{scrollContainerRef:s})]}),(0,efM.jsx)(eh4,{onDragStart:I,onDrag:T,pixelRatio:p,totalDuration:b,scrollContainerRef:s,zeroPointOffset:o.zeroPointOffset}),(0,efM.jsx)(Gk,{pixelRatio:p,zeroPointOffset:o.zeroPointOffset,totalDuration:b})]})})})}),efB=function(t){let n=KA().getPanelState(t);return n?.payload??{}},efL=SV(S$()),efj=Xc(function({block:t}){let n=efB("//ly.img.panel/inspector/adjustments"),i=erQ("//ly.img.panel/inspector"),r=erz("//ly.img.panel/inspector"),s=enF(),o="number"==typeof n.effectId?n.effectId:void 0;return(0,efL.jsx)(erK,{id:"//ly.img.panel/inspector/adjustments",group:"subInspector","data-cy":"adjustments-subinspector-panel",floating:i,panelPosition:s?"left":r,children:(0,efL.jsx)(edP.PanelContent,{effectId:o,block:t})})}),efP=SV(S$()),efR=Xc(function(){let t="//ly.img.panel/inspector/animation",n=erQ(t),i=erz(t),r=enF();return(0,efP.jsx)(erK,{id:t,group:"subInspector",delayRenderAfterAnimation:!1,"data-cy":"asset-library-panel",fullHeight:!0,focusTrapActive:!1,floating:n,panelPosition:r?"left":i,children:(0,efP.jsx)(eaL.PanelContent,{})})}),efD=SV(Sz()),efF=SV(S$()),efO=function({error:t,onClose:n}){let{t:i}=qL();return(0,efF.jsx)(HF,{show:null!==t,onClose:n,type:"error","aria-label":t?.description||"",footer:(0,efF.jsx)(HF.Footer,{children:(0,efF.jsx)(DR,{name:"applyAsset-error-close",onClick:n,children:i("common.back")})}),children:(0,efF.jsxs)("div",{className:"UBQ_ErrorDialog-module__errorDialog--KnjHV",children:[(0,efF.jsx)(Jz,{level:1,children:t?.heading}),(0,efF.jsx)("p",{children:t?.description})]})})},efN=SV(S$()),efU=function({panelId:t,group:n,position:i,title:r,onClose:s,children:o,...a}){let{t:l}=qL();return(0,efN.jsxs)(erK,{id:t,group:n,delayRenderAfterAnimation:!1,"data-cy":"asset-library-panel",onClose:s,fullHeight:!0,focusTrapActive:!1,...a,children:[(0,efN.jsx)(erK.Header,{children:(0,efN.jsx)(erK.Title,{children:r??l("component.library")})}),(0,efN.jsx)(erK.Content,{children:t=>(0,efN.jsx)("div",{className:"UBQ_LibraryPanel-module__panelContent--rmasN",children:o(t)})})]})},efV=SV(Sz());function efH(t){let n=Ju(),[i,r]=(0,efV.useState)([]),{uploadHandler:s}=J1(i);return[(0,efV.useCallback)((i,o)=>{let{sourceId:a,group:l}=o||{};r(a?n.asset.getSupportedMimeTypes(a):[]),s()(i.map(n=>({file:n,addToAssetSource:a?{sourceId:a,group:l}:void 0,applyAssetAfterUpload:"//ly.img.panel/assetLibrary.replace"===t,applyAssetTarget:"//ly.img.panel/assetLibrary.replace"===t?"replace":"insert"})))},[t,n.asset,s])]}var efQ=SV(S$()),efz=Xc(function(){let t=YB(),{engine:n}=t,{t:i}=qL(),{focusSelectedElement:r,focusSelectedElementOrDocument:s}=JC(),o="//ly.img.panel/assetLibrary",[a]=efH(o),{assetLibraryEntries:l}=KA(),{assetLibraryPanelInsertAutoClose:c,assetLibraryPanelEnabled:u}=Kb(),{title:d,entries:p=[]}=efB(o),h=p.map(t=>{let i=l[t];if(i)return eak(i,n,n.asset.findAllSources())}).filter(t=>null!=t),[f,m]=(0,efD.useState)(null),g=erQ(o),x=erz(o),y=enF();if(!u)return null;let v=null!=d?i(d):void 0;return null==v&&1===h.length&&(v=eso(i,{entry:h[0]})),(0,efQ.jsxs)(efQ.Fragment,{children:[(0,efQ.jsx)(efU,{title:v,panelId:o,group:"assetLibrary",onClose:()=>{s()},floating:g,position:y?"left":x,children:({isOpen:s,setIsOpen:o})=>(0,efQ.jsxs)(eao,{entries:h,assetPanelOpen:s,children:[(0,efQ.jsx)(eao.Search,{placeholder:i("component.library.searchPlaceholder")}),(0,efQ.jsx)(eao.Content,{onSelect:async s=>{let a=s.context.sourceId;try{await n.asset.apply(a,s)}catch(n){n instanceof Error&&t.log(n.message,"Error"),m({heading:i("error.applyAsset"),description:i("error.applyAsset.description")})}await n.reactor.nextReaction,c()&&o(!1),r()},onUpload:a})]})}),(0,efQ.jsx)(efO,{error:f,onClose:()=>{m(null)}})]})}),efG=SV(S$()),efq=Xc(Jg(function({block:t}){let n=erQ("//ly.img.panel/inspector"),i=erz("//ly.img.panel/inspector"),r=enF();return(0,efG.jsx)(erK,{id:"//ly.img.panel/inspector/blur",group:"subInspector","data-cy":"blur-subinspector-panel",floating:n,panelPosition:r?"left":i,children:(0,efG.jsx)(edf.PanelContent,{block:t})})})),efW=SV(Sz()),ef$=SV(S$()),efZ=Xc(function({block:t}){let n=Ju(),i=YT(),r=erQ("//ly.img.panel/inspector"),s=erz("//ly.img.panel/inspector"),o=enF(),a=KA(),[l]=erU("//ly.img.panel/inspector/crop",a),c="advanced"===a.viewStyle,{isOpen:u}=euT(t);return(0,efW.useEffect)(()=>{l&&"Crop"!==n.editor.getEditMode()&&n.editor.setEditMode("Crop"),l||"Crop"!==n.editor.getEditMode()||n.editor.setEditMode("Transform")},[n.editor,l]),(0,efW.useEffect)(()=>{u&&!i.ui.isPanelOpen("//ly.img.panel/inspector/crop")&&c&&i.ui.openPanel("//ly.img.panel/inspector/crop"),!u&&i.ui.isPanelOpen("//ly.img.panel/inspector/crop")&&i.ui.closePanel("//ly.img.panel/inspector/crop");let r=n.scene.getCurrentPage();if(!u||"Video"!==n.scene.getMode()||null==r)return;let s=n.block.getPlaybackTime(r),o=n.block.getTimeOffset(t),a=n.block.getDuration(t);(s<o||s>o+a)&&n.block.setPlaybackTime(r,o)},[t,i.ui,n.block,n.scene,c,u]),(0,ef$.jsx)(erK,{id:"//ly.img.panel/inspector/crop","data-cy":"crop-subinspector-panel",floating:r,panelPosition:o?"left":s,children:(0,ef$.jsx)(euQ.PanelContent,{block:t})})}),efY=SV(Sz()),efK=function(t,n){let i=document.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",`${n}stylesheets/${t}`),i},efX=SV(S$()),efJ=function({error:t}){let{t:n}=qL();return(0,efX.jsxs)("div",{className:"UBQ_CustomPanelError-module__block--k98jX",children:[(0,efX.jsx)(Hw,{}),(0,efX.jsx)(Jz,{level:2,className:"UBQ_CustomPanelError-module__heading--lmAVM",children:t?.toString()||n("error.generic")})]})},ef0=SV(S$()),ef1=Xc(function({customPanel:t}){let{t:n}=qL(),i=(0,efY.useRef)(),r=JH(),s=n(`panel.${t.id}`),o=r.ui.baseURL,a=!r.ui.stylesheets?.disableShadowDOM,l=!r.ui.stylesheets?.disableTagInsertion;return(0,ef0.jsxs)(erK,{id:t.id,children:[(0,ef0.jsx)(erK.Header,{children:(0,ef0.jsx)(erK.Title,{children:s})}),(0,ef0.jsx)(erK.Content,{children:(0,ef0.jsx)(QV,{fallback:t=>(0,ef0.jsx)(efJ,{error:t}),children:(0,ef0.jsx)("div",{ref:n=>{if(null!=n){let r=n;Ov&&a&&(r=function(t,n){let i=t.attachShadow({mode:"open"}),r=t.getRootNode();if(r instanceof ShadowRoot){let t=function(t){for(let n=0;n<t.length;n++){let i=t[n];if(i.href?.endsWith("cesdk.css"))return i}}(r.styleSheets);null==t?n.enableTagInsertion&&i.appendChild(efK("cesdk.css",n.baseURL??"")):function(t,n){if("adoptedStyleSheets"in t){let i=new CSSStyleSheet;Array.from(n.cssRules).map(t=>t.cssText).forEach((t,n)=>i.insertRule(t,n)),t.adoptedStyleSheets=[i]}else{let i=document.createElement("style");i.textContent=Array.from(n.cssRules).map(t=>t.cssText).join("\n"),t.appendChild(i)}}(i,t);let s=document.createElement("div");return i.appendChild(s),s}return t}(n,{baseURL:o,enableTagInsertion:l})),i.current=t.onMount(r)}else null!=i.current&&i.current()}})})})]},t.id)}),ef2=Xc(function(){let t=KA();return(0,ef0.jsx)(ef0.Fragment,{children:t.customPanels.map(t=>(0,ef0.jsx)(ef1,{customPanel:t},t.id))})}),ef3=SV(S$()),ef5=Xc(function({block:t}){let n=efB("//ly.img.panel/inspector/effects"),i=erQ("//ly.img.panel/inspector"),r=erz("//ly.img.panel/inspector"),s=enF(),o="number"==typeof n.effectId?n.effectId:void 0;return(0,ef3.jsx)(erK,{id:"//ly.img.panel/inspector/effects",group:"subInspector","data-cy":"effects-subinspector-panel",floating:i,panelPosition:s?"left":r,children:(0,ef3.jsx)(epc.PanelContent,{block:t,effectId:o})})}),ef4=SV(Sz()),ef6=SV(S$()),ef8=Xc(function({block:t}){let n=Ju(),i=erQ("//ly.img.panel/inspector"),r=erz("//ly.img.panel/inspector"),s=enF();return(0,ef4.useEffect)(()=>{ecH(n)},[n]),(0,ef6.jsx)(erK,{id:"//ly.img.panel/inspector/fill",group:"subInspector","data-cy":"fill-subinspector-panel",floating:i,panelPosition:s?"left":r,children:(0,ef6.jsx)(ep5.PanelContent,{block:t})})}),ef7=SV(S$()),ef9=Xc(function({block:t}){let n=efB("//ly.img.panel/inspector/filters"),i=erQ("//ly.img.panel/inspector"),r=erz("//ly.img.panel/inspector"),s=enF(),o="number"==typeof n.effectId?n.effectId:void 0;return(0,ef7.jsx)(erK,{id:"//ly.img.panel/inspector/filters",group:"subInspector","data-cy":"filters-subinspector-panel",floating:i,panelPosition:s?"left":r,children:(0,ef7.jsx)(ed2.PanelContent,{effectId:o,block:t})})}),eme=(SV(Sz()),SV(S$())),emt=t=>(0,eme.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eme.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.707 5.29312C16.4881 4.07417 14.5118 4.07417 13.2928 5.29312L5.62591 12.96L4.20937 17.2097C3.88364 18.1868 4.81331 19.1165 5.79051 18.7908L10.0401 17.3743L17.7071 9.70733C18.926 8.48838 18.926 6.51207 17.707 5.29312ZM14.7071 6.70733C15.145 6.26943 15.8549 6.26943 16.2928 6.70733C16.7307 7.14524 16.7307 7.85522 16.2928 8.29312L9.168 15.418L7.58221 13.8322L14.7071 6.70733Z",fill:"currentColor"}),(0,eme.jsx)("rect",{x:11,y:18,width:8,height:2,fill:"currentColor"})]}),emn=SV(Sz()),emi=SV(Sz()),emr=SV(S$()),ems=Xc(Jg(function({engine:t}){var n;let{t:i}=qL(),r=YT(),s=t.block.findAllSelected()[0];if(null==s)return null;let o=t.block.supportsAnimation(s);return(n="ly.img.animations",r.feature.isEnabled(n,{engine:t})&&o)?(0,emr.jsx)(ecx,{title:i("input.animations"),children:(0,emr.jsx)(eaL.Control,{})}):null})),emo=SV(S$()),ema=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),r=n=>i.feature.isEnabled(n,{engine:t}),s=t.block.findAllSelected()[0];if(null==s)return null;let o=t.block.supportsEffects(s),a=t.block.supportsDropShadow(s),l=["ly.img.adjustment","ly.img.filter","ly.img.effect","ly.img.blur"].some(r),c=r("ly.img.shadow");return(l||c)&&(o||a)?(0,emo.jsxs)(ecx,{title:n("input.appearance"),children:[(0,emo.jsx)(edP.ControlStack,{}),(0,emo.jsx)(ed2.ControlStack,{}),(0,emo.jsx)(epc.ControlStack,{}),(0,emo.jsx)(edf.Control,{}),o&&l&&a&&c&&(0,emo.jsx)(Hp,{}),(0,emo.jsx)(ec4.Control,{})]}):null})),eml=SV(Sz()),emc=SV(S$()),emu=Jg(function({engine:t,children:n}){let i=YT(),[r]=t.block.findAllSelected(),s=null!=r&&"//ly.img.ubq/text"===t.block.getType(r),o=null!=r&&t.block.supportsFill(r)&&t.block.isValid(t.block.getFill(r)),a=i.feature.isEnabled("ly.img.fill",{engine:t});return s&&o&&a?n({block:r}):null});function emd(t){let{shouldNotRender:n,...i}=function({block:t,isDisabled:n,inBar:i,deniedByScopeBehavior:r="disable"}){let s=Ju(),o=Jv(eey),{isPropertyEnabled:a,allTextColors:l}=Jh(s,()=>({isPropertyEnabled:s.block.isFillEnabled(t),allTextColors:s.block.getTextColors(t)})),c=(0,eml.useCallback)(n=>{s.block.setFillEnabled(t,n)},[t,s]),u=(0,eml.useCallback)(n=>{s.block.setTextColor(t,n)},[t,s]),d=(0,eml.useMemo)(()=>Y_(l,s.editor),[l,s.editor]);return{block:t,isPropertyEnabled:a,setIsPropertyEnabled:c,name:"color",color:l[0],setColor:u,previewColor:d,isDisabled:n||!o,includeAlpha:!0,i18nLabelString:"component.contentFill.color",i18nDescriptionString:"component.contentFill.color.description",panelId:"//ly.img.panel/inspector/fill/color","data-cy":"fill",inBar:i,shouldNotRender:!o&&"hide"===r}}(t);return n?null:(0,emc.jsx)(ecG,{...i})}function emp(t){return(0,emc.jsx)(emu,{children:n=>(0,emc.jsx)(emd,{...n,...t})})}emp.InBar=function(t){return(0,emc.jsx)(emu,{children:n=>(0,emc.jsx)(emd,{...n,...t,inBar:!0})})};var emh=SV(S$()),emf=Xc(Jg(function({engine:t}){var n;let{t:i}=qL(),r=YT(),s=Kb(),o=t.block.findAllSelected()[0];if(null==o)return null;let a=t.block.supportsFill(o);if(n="ly.img.fill",!r.feature.isEnabled(n,{engine:t})||!a)return null;let l="//ly.img.ubq/text"===t.block.getType(o),c=s.blocks["//ly.img.ubq/text"].colorEnabled;return l||c?(0,emh.jsx)(ecx,{title:i("component.contentFill"),children:l&&c?(0,emh.jsx)(emp,{}):(0,emh.jsx)(ep5.Control,{})}):null})),emm=SV(S$()),emg=Jg(function({engine:t}){let{t:n}=qL(),i=KU(),[r]=t.block.findAllSelected();if(!r||!t.block.supportsShape(r))return null;let s=t.block.getShape(r);if(!t.block.isValid(s))return null;let o=t.block.getType(s),a="//ly.img.ubq/shape/rect"===o,l="//ly.img.ubq/shape/polygon"===o,c=l?t.block.getInt(s,"shape/polygon/sides"):4;if(!a&&!l)return null;let u=t.block.isAllowedByScope(r,eeA),d=t.block.getWidth(r),p=t.block.getHeight(r);return(0,emm.jsx)(Qe,{children:(0,emm.jsx)(er2,{name:"rounded-corners",value:(()=>{if(l)return t.block.getFloat(s,"shape/polygon/cornerRadius");if(a){let n=t.block.getFloat(s,"shape/rect/cornerRadiusTL");return Math.max(n,t.block.getFloat(s,"shape/rect/cornerRadiusTR"),t.block.getFloat(s,"shape/rect/cornerRadiusBL"),t.block.getFloat(s,"shape/rect/cornerRadiusBR"))}return 0})(),onChange:n=>{l&&t.block.setFloat(s,"shape/polygon/cornerRadius",n),a&&(t.block.setFloat(s,"shape/rect/cornerRadiusTL",n),t.block.setFloat(s,"shape/rect/cornerRadiusTR",n),t.block.setFloat(s,"shape/rect/cornerRadiusBL",n),t.block.setFloat(s,"shape/rect/cornerRadiusBR",n))},onRelease:()=>{i("action.property.update")},label:n("property.cornerRadius"),min:0,max:l?Math.floor(Math.min(d,p)/c/2*Math.PI):Math.floor(Math.min(d,p)/2),step:1,centeredZeroPosition:!1,disabled:!u})})}),emx=SV(S$()),emy="shape/star/innerDiameter",emv=Jg(function({engine:t}){let{t:n}=qL(),i=t.block.findAllSelected()[0];if(!i)return null;let r=t.block.getShape(i);if(!(t.block.isValid(r)&&t.block.findAllProperties(r).includes(emy)))return null;let s=t.block.isAllowedByScope(i,eeA);return(0,emx.jsx)(Qe,{children:(0,emx.jsx)(er5,{block:r,property:emy,label:n("property.innerDiameter"),min:.1,max:1,centeredZeroPosition:!1,disabled:!s})})}),emb=SV(S$()),emA=Jg(function({engine:t}){let{t:n}=qL(),i=KU(),r=t.block.findAllSelected()[0];if(!r)return null;let s=t.block.getShape(r);if(!(t.block.isValid(s)&&"//ly.img.ubq/shape/line"===t.block.getType(s)))return null;let o=t.block.isAllowedByScope(r,eeA),a=t.block.getFrameHeight(r);return(0,emb.jsx)(Qe,{children:(0,emb.jsx)(er2,{name:"lineWidth",label:n("property.lineWidth"),value:a,onChange:n=>{t.block.setHeight(r,n)},min:.1,max:30,isDisabled:!o,centeredZeroPosition:!1,onRelease:()=>{i("action.property.update")}})})}),emw=SV(S$()),emC="shape/star/points",em_=Jg(function({engine:t}){let{t:n}=qL(),i=t.block.findAllSelected()[0];if(!i)return null;let r=t.block.getShape(i);if(!(t.block.isValid(r)&&t.block.findAllProperties(r).includes(emC)))return null;let s=t.block.isAllowedByScope(i,eeA);return(0,emw.jsx)(Qe,{children:(0,emw.jsx)(er5,{block:r,property:emC,label:n("property.points"),min:3,max:12,step:1,centeredZeroPosition:!1,disabled:!s})})}),emS=SV(S$()),emk="shape/polygon/sides",emE=Jg(function({engine:t}){let{t:n}=qL(),i=t.block.findAllSelected()[0];if(!i)return null;let r=t.block.getShape(i);if(!(t.block.isValid(r)&&t.block.findAllProperties(r).includes(emk)))return null;let s=t.block.isAllowedByScope(i,eeA);return(0,emS.jsx)(Qe,{children:(0,emS.jsx)(er5,{block:r,property:emk,label:n("property.sides"),min:3,max:12,step:1,centeredZeroPosition:!1,disabled:!s})})}),emM=SV(S$()),emI=Xc(Jg(function({engine:t}){var n;let{t:i}=qL(),r=YT(),s=t.block.findAllSelected()[0];if(null==s)return null;let o=t.block.supportsShape(s)?t.block.getShape(s):void 0,a=null!=o&&t.block.isValid(o)?t.block.getType(o):void 0,l=null!=o?t.block.findAllProperties(o):[],c=l.includes("shape/polygon/sides")||l.includes("shape/star/points")||l.includes("shape/star/innerDiameter")||"//ly.img.ubq/shape/line"===a||"//ly.img.ubq/shape/rect"===a;return(n="ly.img.shape.options",r.feature.isEnabled(n,{engine:t})&&c)?(0,emM.jsxs)(ecx,{title:i("input.shape"),children:[(0,emM.jsx)(em_,{}),(0,emM.jsx)(emv,{}),(0,emM.jsx)(emE,{}),(0,emM.jsx)(emA,{}),(0,emM.jsx)(emg,{})]}):null})),emT=(SV(Sz()),SV(S$())),emB=(SV(Sz()),SV(S$())),emL=(SV(Sz()),SV(S$())),emj=t=>(0,emL.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emL.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 13H21V15H15V21H13V13Z",fill:"currentColor"}),(0,emL.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 15V21H7V15C7 10.5817 10.5817 7 15 7H21V3H15C8.37258 3 3 8.37258 3 15Z",fill:"currentColor"})]}),emP=(SV(Sz()),SV(S$())),emR=(SV(Sz()),SV(S$())),emD=(SV(Sz()),SV(S$())),emF={popoverContent:"UBQ_StrokeProperties-module__popoverContent--79gSa"},emO=()=>{let t=Ju(),n=eic(),[i]=K1(n?.hasStroke,!1),[r]=K1(i&&n?.isStrokeEnabled,!1),[s]=K1(i&&n?.Color("stroke/color")),o=s&&Y_(s,t.editor);return!!(o&&r&&o.a>0)},emN=SV(S$()),emU=["Inner","Center","Outer"],emV={Center:(0,emN.jsx)(t=>(0,emP.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emP.jsx)("path",{d:"M3 3V21H21V19H5V3H3Z",fill:"currentColor"}),(0,emP.jsx)("path",{d:"M13 3V11H21V9H15V3H13Z",fill:"currentColor"}),(0,emP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 13.5V3H11V13H21V17H10.5C8.567 17 7 15.433 7 13.5Z",fill:"currentColor"})]}),{}),Inner:(0,emN.jsx)(t=>(0,emR.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emR.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3H6V18H21V20H4V3Z",fill:"currentColor"}),(0,emR.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12.5V3H12V12H21V16H11.5C9.567 16 8 14.433 8 12.5Z",fill:"currentColor"})]}),{}),Outer:(0,emN.jsx)(t=>(0,emD.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3H12V12H21V14H10V3Z",fill:"currentColor"}),(0,emD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 16.5V3H8V16H21V20H7.5C5.567 20 4 18.433 4 16.5Z",fill:"currentColor"})]}),{})},emH=["Miter","Bevel","Round"],emQ={Bevel:(0,emN.jsx)(t=>(0,emT.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emT.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 13H21V15H15V21H13V13Z",fill:"currentColor"}),(0,emT.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 21H7V14.8284L14.8284 7H21V3H13.1716L3 13.1716V21Z",fill:"currentColor"})]}),{}),Miter:(0,emN.jsx)(t=>(0,emB.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emB.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 13H21V15H15V21H13V13Z",fill:"currentColor"}),(0,emB.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 21H7V7H21V3H3V21Z",fill:"currentColor"})]}),{}),Round:(0,emN.jsx)(emj,{})};function emz({disablePositionControls:t=!1}){let{t:n}=qL(),i=KU(),r=eic(),[s]=K1(r?.hasStroke),[o,a]=K1(s&&r?.strokePosition),[l,c]=K1(s&&r?.strokeCornerGeometry),u={Center:n("property.strokePosition.center"),Inner:n("property.strokePosition.inner"),Outer:n("property.strokePosition.outer")},d={Bevel:n("property.strokeCornerGeometry.bevel"),Miter:n("property.strokeCornerGeometry.miter"),Round:n("property.strokeCornerGeometry.round")};return(0,emN.jsxs)(emN.Fragment,{children:[(0,emN.jsx)(Qe,{children:(0,emN.jsxs)(Ha,{children:[(i,{isOpen:r})=>(0,emN.jsx)(VP,{name:"StrokePositionSelect",label:n("property.strokePosition"),isDisabled:t,children:s=>(0,emN.jsx)(U6,{label:n("property.strokePosition.description"),children:(0,emN.jsxs)(DR,{isDisabled:t,...s,...i,icon:o&&emV[o],children:[o&&u[o],r?(0,emN.jsx)(ecf,{}):(0,emN.jsx)(erM,{})]})})}),()=>(0,emN.jsx)(Ha.Options,{className:emF.options,value:o,onChange:t=>{t&&(a(t),i("action.property.update"))},children:emU.map(t=>(0,emN.jsx)(Ha.Option,{value:t,className:emF.option,icon:emV[t],"data-cy":t,children:o&&u[t]},t))})]})}),(0,emN.jsx)(Qe,{children:(0,emN.jsxs)(Ha,{children:[(t,{isOpen:i})=>(0,emN.jsx)(VP,{name:"StrokeCornerGeometrySelect",label:n("property.strokeCornerGeometry"),children:r=>(0,emN.jsx)(U6,{label:n("property.strokeCornerGeometry.description"),children:(0,emN.jsxs)(DR,{...t,...r,icon:l&&emQ[l],children:[l&&d[l],i?(0,emN.jsx)(ecf,{}):(0,emN.jsx)(erM,{})]})})}),()=>(0,emN.jsx)(Ha.Options,{className:emF.options,value:l,onChange:t=>{t&&(c(t),i("action.property.update"))},children:emH.map(t=>(0,emN.jsx)(Ha.Option,{value:t,className:emF.option,icon:emQ[t],"data-cy":t,children:d[t]},t))})]})})]})}function emG({isDisabled:t=!1,disablePositionControls:n=!1}){let{t:i}=qL(),r=Jv(eeb),s=emO(),o=i("property.strokePositionAndCornerGeometry.description");return s?(0,emN.jsxs)(N0,{children:[n=>(0,emN.jsx)(U6,{label:o,children:(0,emN.jsx)(DR,{name:"stroke-properties","aria-label":o,variant:"plain",isDisabled:!r||!s||t,...n,children:(0,emN.jsxs)(UU,{children:[(0,emN.jsx)(QA,{}),(0,emN.jsx)(Qv,{})]})})}),()=>(0,emN.jsx)("div",{className:emF.popoverContent,children:(0,emN.jsx)(emz,{disablePositionControls:n})})]}):null}function emq({children:t}){let{t:n}=qL(),i=Jv(eeb);return(0,emN.jsxs)(Qe,{children:[(0,emN.jsx)(Uo,{isDisabled:!i,children:n("common.advanced")}),(0,emN.jsx)(elF,{panelId:"//ly.img.panel/inspector/stroke/properties",groupId:"subInspector",label:n("common.advanced"),valueLabel:n("property.strokePositionAndCornerGeometry"),ariaLabel:n("property.strokePositionAndCornerGeometry.description"),tooltip:n("property.strokePositionAndCornerGeometry.description"),isDisabled:!i,"data-cy":"stroke-properties-subInspector",children:(0,emN.jsx)(H8,{children:t})}),(0,emN.jsx)(eam,{})]})}function emW(){return(0,emN.jsx)(emq,{children:(0,emN.jsx)(emz,{})})}function em$(){return(0,emN.jsx)(emq,{children:(0,emN.jsx)(emz,{disablePositionControls:!0})})}SV(Sz());var emZ=SV(S$()),emY=t=>(0,emZ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emZ.jsx)("path",{d:"M6 13.5H2V10.5H6V13.5Z",fill:"currentColor"}),(0,emZ.jsx)("path",{d:"M15 13.5H9V10.5H15V13.5Z",fill:"currentColor"}),(0,emZ.jsx)("path",{d:"M18 13.5H22V10.5H18V13.5Z",fill:"currentColor"})]}),emK=(SV(Sz()),SV(S$())),emX=t=>(0,emK.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,emK.jsx)("path",{d:"M2 13.5H4V10.5H2V13.5Z",fill:"currentColor"}),(0,emK.jsx)("path",{d:"M7 13.5H10V10.5H7V13.5Z",fill:"currentColor"}),(0,emK.jsx)("path",{d:"M17 13.5H14V10.5H17V13.5Z",fill:"currentColor"}),(0,emK.jsx)("path",{d:"M20 13.5H22V10.5H20V13.5Z",fill:"currentColor"})]}),emJ=(SV(Sz()),SV(S$())),em0=t=>(0,emJ.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,emJ.jsx)("path",{d:"M2 12H22",stroke:"currentColor",strokeWidth:3})}),em1=SV(Sz()),em2={button:"UBQ_StrokeStyleSelect-module__button--NBL3i",option:"UBQ_StrokeStyleSelect-module__option--CpdmR"},em3=SV(S$()),em5=["Solid","Dashed","DashedRound","LongDashed","LongDashedRound","Dotted"],em4=t=>({Dashed:{name:"Dashed",label:t("property.strokeStyle.dashed"),icon:(0,em3.jsx)(emY,{})},DashedRound:{name:"DashedRound",label:t("property.strokeStyle.dashedRound"),icon:(0,em3.jsx)(emY,{})},Dotted:{name:"Dotted",label:t("property.strokeStyle.dotted"),icon:(0,em3.jsx)(emX,{})},LongDashed:{name:"LongDashed",label:t("property.strokeStyle.longDashed"),icon:(0,em3.jsx)(emY,{})},LongDashedRound:{name:"LongDashedRound",label:t("property.strokeStyle.longDashedRound"),icon:(0,em3.jsx)(emY,{})},Solid:{name:"Solid",label:t("property.strokeStyle.solid"),icon:(0,em3.jsx)(em0,{})}});function em6({plain:t=!1,isDisabled:n=!1}){let{t:i,i18n:r}=qL(),s=KU(),o=(0,em1.useMemo)(()=>em4(i),[r.language]),a=eic(),[l]=K1(a?.hasStroke,!1),[c,u]=K1(l&&a?.strokeStyle,"Solid"),d=i("property.strokeStyle.description");return(0,em3.jsxs)(Ha,{children:[(i,{isOpen:r})=>(0,em3.jsx)(U6,{label:d,children:(0,em3.jsxs)(DR,{name:"select-stroke-style","aria-label":d,variant:t?"plain":void 0,className:em2.button,isDisabled:n,icon:o[c].icon,...i,children:[o[c].label,r?(0,em3.jsx)(Ub,{}):(0,em3.jsx)(Uy,{})]})}),()=>(0,em3.jsx)(Ha.Options,{value:c,onChange:t=>{u(t),s("action.strokeStyle.change")},children:em5.map(t=>{let{name:n,icon:i,label:r}=o[t];return(0,em3.jsx)(Ha.Option,{value:n,className:em2.option,icon:i,children:r},n)})})]})}function em8(){let{t:t}=qL(),n=Jv(eeb);return(0,em3.jsxs)(Qe,{children:[(0,em3.jsx)(Uo,{isDisabled:!n,children:t("property.strokeStyle")}),(0,em3.jsx)(em6,{isDisabled:!n}),(0,em3.jsx)(eam,{})]})}var em7=function({isDisabled:t}){let n=Jv(eeb),i=emO();return i?(0,em3.jsx)(em6,{plain:!0,isDisabled:!n||!i||t}):null};function em9(){let t=Jh(Ju(),t=>t.scene.getDesignUnit());return(()=>{switch(t){case"Pixel":return 1;case"Millimeter":default:return .1;case"Inch":return .01}})()}var ege=SV(S$());function egt({isDisabled:t}){let{t:n}=qL(),i=eic(),[r,s]=K1(i?.strokeWidth,0),o=n("property.strokeWidth.description"),[a]=K1(KK().scene.designUnit),l=elv(a),c=KU(),u=em9();return(0,ege.jsxs)(ege.Fragment,{children:[(0,ege.jsx)(Uo,{isDisabled:t,children:n("property.strokeWidth")}),(0,ege.jsx)(U6,{label:o,children:(0,ege.jsx)(Vz,{name:"strokeWidthInput","aria-label":o,value:r,onChange:t=>{void 0!==t&&s(t)},onRelease:t=>{void 0!==t&&(s(t),c("action.property.update"))},min:0,maxFractionDigits:2,step:u,unitLabel:l,isDisabled:t})})]})}var egn={DefaultUI:function(){return(0,ege.jsx)(egt,{isDisabled:!1})},AdvancedUI:function(){let t=Jv(eeb);return(0,ege.jsx)(egt,{isDisabled:!t})}},egi=SV(S$());function egr({forText:t=!1}){return emO()?(0,egi.jsxs)(egi.Fragment,{children:[(0,egi.jsxs)(Qe,{children:[(0,egi.jsx)(egn.AdvancedUI,{}),(0,egi.jsx)(eam,{})]}),(0,egi.jsx)(em8,{}),t?(0,egi.jsx)(em$,{}):(0,egi.jsx)(emW,{})]}):null}var egs=SV(S$()),ego=Xc(Jg(function({engine:t}){var n;let{t:i}=qL(),r=YT(),s=t.block.findAllSelected()[0];if(null==s)return null;let o=t.block.supportsStroke(s);if(n="ly.img.stroke",!r.feature.isEnabled(n,{engine:t})||!o)return null;let a=t.block.supportsShape(s)?t.block.getShape(s):void 0;return"//ly.img.ubq/shape/line"===(null!=a&&t.block.isValid(a)?t.block.getType(a):void 0)?null:(0,egs.jsxs)(ecx,{title:i("input.stroke"),children:[(0,egs.jsx)(ecG.Stroke,{panelId:"//ly.img.panel/inspector/stroke/color",groupId:"subInspector",includeAlpha:!0,name:"strokeColor",i18nLabelString:"property.strokeColor",i18nDescriptionString:"property.strokeColor.description",donutHole:!0}),(0,egs.jsx)(egr,{forText:"//ly.img.ubq/text"===t.block.getType(s)})]})})),ega=(SV(Sz()),SV(S$())),egl=t=>(0,ega.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ega.jsx)("path",{d:"M12.006 14.7078C12.002 14.8047 12 14.9021 12 15C12 15.6102 12.0781 16.2022 12.2248 16.7665C11.9013 16.8156 11.5654 16.7584 11.2708 16.5947L3.58937 12.3273C3.33219 12.1844 3.33219 11.8145 3.58937 11.6716L5.69831 10.5L7.75743 11.644L7.11756 11.9994L11.9993 14.7115L12.006 14.7078Z",fill:"currentColor"}),(0,ega.jsx)("path",{d:"M13.2617 19.0101C13.6587 19.5771 14.1377 20.0826 14.6813 20.5094L12.7278 21.5947C12.2747 21.8463 11.7239 21.8463 11.2708 21.5947L3.58937 17.3272C3.33219 17.1843 3.33219 16.8144 3.58937 16.6715L5.69843 15.4998L7.75756 16.6438L7.11756 16.9994L11.9993 19.7114L13.2617 19.0101Z",fill:"currentColor"}),(0,ega.jsx)("path",{d:"M3.59035 6.67207L11.2718 2.40458C11.7249 2.1529 12.2757 2.1529 12.7288 2.40458L20.4102 6.67207C20.6674 6.81495 20.6674 7.18481 20.4102 7.32769L19.1953 8.00267C19.1304 8.00089 19.0653 8 19 8C16.4214 8 14.1684 9.3943 12.9539 11.4701L12.7288 11.5952C12.2757 11.8469 11.7249 11.8469 11.2718 11.5952L3.59034 7.32769C3.33317 7.18481 3.33317 6.81495 3.59035 6.67207Z",fill:"currentColor"}),(0,ega.jsx)("path",{d:"M18.7072 10.7929L22.7072 14.7929L21.293 16.2071L19.0001 13.9142V20H17.0001V13.9142L14.7072 16.2071L13.293 14.7929L17.293 10.7929C17.4805 10.6053 17.7349 10.5 18.0001 10.5C18.2653 10.5 18.5197 10.6053 18.7072 10.7929Z",fill:"currentColor"}),(0,ega.jsx)("path",{d:"M17.0001 21V23H19.0001V21H17.0001Z",fill:"currentColor"})]}),egc=(SV(Sz()),SV(S$())),egu=t=>(0,egc.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t}),egd=(SV(Sz()),SV(S$())),egp=t=>(0,egd.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egd.jsx)("path",{d:"M7 2L7 17H11L11 2L7 2Z",fill:"currentColor"}),(0,egd.jsx)("path",{d:"M13 8L13 17H17V8H13Z",fill:"currentColor"}),(0,egd.jsx)("rect",{x:2,y:21,width:2,height:20,transform:"rotate(-90 2 21)",fill:"currentColor"})]}),egh=(SV(Sz()),SV(S$())),egf=t=>(0,egh.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egh.jsx)("rect",{x:10,y:19,width:14,height:4,transform:"rotate(-90 10 19)",fill:"currentColor"}),(0,egh.jsx)("path",{d:"M5 2H3V22H5V2Z",fill:"currentColor"}),(0,egh.jsx)("path",{d:"M21 2H19V22H21V2Z",fill:"currentColor"})]}),egm=(SV(Sz()),SV(S$())),egg=t=>(0,egm.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egm.jsx)("rect",{x:5,y:10,width:14,height:4,fill:"currentColor"}),(0,egm.jsx)("path",{d:"M22 5V3L2 3L2 5L22 5Z",fill:"currentColor"}),(0,egm.jsx)("path",{d:"M22 21V19H2L2 21H22Z",fill:"currentColor"})]}),egx=(SV(Sz()),SV(S$())),egy=t=>(0,egx.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egx.jsx)("path",{d:"M20 7H4V11H20V7Z",fill:"currentColor"}),(0,egx.jsx)("path",{d:"M17 13H7V17H17V13Z",fill:"currentColor"}),(0,egx.jsx)("path",{d:"M13 2H11V7H13V2Z",fill:"currentColor"}),(0,egx.jsx)("path",{d:"M13 11H11V13H13V11Z",fill:"currentColor"}),(0,egx.jsx)("path",{d:"M13 17H11V22H13V17Z",fill:"currentColor"})]}),egv=(SV(Sz()),SV(S$())),egb=t=>(0,egv.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egv.jsx)("path",{d:"M22 7H7V11H22V7Z",fill:"currentColor"}),(0,egv.jsx)("path",{d:"M16 13H7V17H16V13Z",fill:"currentColor"}),(0,egv.jsx)("rect",{x:3,y:2,width:2,height:20,fill:"currentColor"})]}),egA=(SV(Sz()),SV(S$())),egw=t=>(0,egA.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egA.jsx)("path",{d:"M2 7H17V11H2V7Z",fill:"currentColor"}),(0,egA.jsx)("path",{d:"M8 13H17V17H8V13Z",fill:"currentColor"}),(0,egA.jsx)("rect",{width:2,height:20,transform:"matrix(-1 0 0 1 21 2)",fill:"currentColor"})]}),egC=(SV(Sz()),SV(S$())),eg_=t=>(0,egC.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egC.jsx)("path",{d:"M7 22L7 7L11 7L11 22H7Z",fill:"currentColor"}),(0,egC.jsx)("path",{d:"M13 16L13 7L17 7V16H13Z",fill:"currentColor"}),(0,egC.jsx)("rect",{width:2,height:20,transform:"matrix(4.37114e-08 1 1 -4.37114e-08 2 3)",fill:"currentColor"})]}),egS=(SV(Sz()),SV(S$())),egk=t=>(0,egS.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egS.jsx)("path",{d:"M7 4V20H11V4H7Z",fill:"currentColor"}),(0,egS.jsx)("path",{d:"M13 7V17H17V7H13Z",fill:"currentColor"}),(0,egS.jsx)("path",{d:"M2 11V13H7V11H2Z",fill:"currentColor"}),(0,egS.jsx)("path",{d:"M11 11V13H13V11H11Z",fill:"currentColor"}),(0,egS.jsx)("path",{d:"M17 11V13H22V11H17Z",fill:"currentColor"})]}),egE=(SV(Sz()),SV(S$())),egM=t=>(0,egE.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egE.jsx)("path",{d:"M17 5V3H18C19.6569 3 21 4.34315 21 6V7H19V6C19 5.44772 18.5523 5 18 5H17Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M14 5V3H10L10 5H14Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M7 5V3H6C4.34315 3 3 4.34315 3 6V7H5V6C5 5.44772 5.44772 5 6 5H7Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M3 14V10H5V14H3Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M3 17H5V18C5 18.5523 5.44772 19 6 19H7V21H6C4.34315 21 3 19.6569 3 18V17Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M10 21V19H14V21H10Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M17 21V19H18C18.5523 19 19 18.5523 19 18V17H21V18C21 19.6569 19.6569 21 18 21H17Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M21 14H19V10H21V14Z",fill:"currentColor"}),(0,egE.jsx)("path",{d:"M12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10Z",fill:"currentColor"})]}),egI=(SV(Sz()),SV(S$())),egT=t=>(0,egI.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,egI.jsx)("path",{d:"M12.0339 9.69314L12 9.71196L7.11825 6.99988L12 4.2878L13.2623 4.98909C13.6594 4.42209 14.1384 3.91666 14.6822 3.48997L12.7285 2.40458C12.2754 2.1529 11.7246 2.1529 11.2715 2.40458L3.59006 6.67207C3.33288 6.81495 3.33288 7.18481 3.59006 7.32769L11.2715 11.5952C11.6614 11.8118 12.1237 11.842 12.5338 11.6858C12.2744 11.062 12.1026 10.3927 12.0339 9.69314Z",fill:"currentColor"}),(0,egI.jsx)("path",{d:"M13.8151 13.7029L11.9993 14.7117L7.11756 11.9996L7.75743 11.6441L5.69831 10.5002L3.58937 11.6718C3.33219 11.8147 3.33219 12.1845 3.58937 12.3274L11.2708 16.5949C11.7239 16.8466 12.2747 16.8466 12.7278 16.5949L15.4923 15.0591C14.865 14.6951 14.2994 14.2366 13.8151 13.7029Z",fill:"currentColor"}),(0,egI.jsx)("path",{d:"M18.7072 13.2071L22.7072 9.20708L21.293 7.79287L19 10.0859V4H17V10.0857L14.7072 7.79287L13.293 9.20708L17.293 13.2071C17.4805 13.3946 17.7349 13.5 18.0001 13.5C18.2653 13.5 18.5197 13.3946 18.7072 13.2071Z",fill:"currentColor"}),(0,egI.jsx)("path",{d:"M17 1V3H19V1H17Z",fill:"currentColor"}),(0,egI.jsx)("path",{d:"M12.7275 18.5951L17.6373 15.8674C18.0781 15.9544 18.5337 16 19 16C19.065 16 19.1299 15.9991 19.1945 15.9973L20.4093 16.6722C20.6664 16.8151 20.6664 17.185 20.4093 17.3278L12.7278 21.5953C12.2747 21.847 11.7239 21.847 11.2708 21.5953L3.58937 17.3278C3.33219 17.185 3.33219 16.8151 3.58937 16.6722L5.69936 15.5L11.2706 18.5951C11.7236 18.8468 12.2745 18.8468 12.7275 18.5951Z",fill:"currentColor"})]}),egB=SV(S$());function egL({tooltip:t,onClick:n,i18nKey:i,...r}){let{t:s}=qL();if(t){let t=r["aria-label"]||s(i);return(0,egB.jsx)(U6,{label:t,"data-cy":`${r["data-cy"]}-tooltip`,children:(0,egB.jsx)(DR,{...r,"aria-label":t,onClick:n})})}return(0,egB.jsx)(DR,{...r,onClick:n})}function egj({name:t,actionName:n,actionMethod:i,...r}){let s=YB();return(0,egB.jsx)(egL,{...r,name:t,onClick:()=>{if(i)i(s);else{let i=n||t;if(!(i in s)||"function"!=typeof s[i])throw Error(`Method ${i} not found on EngineFacade`);s[i]()}}})}var egP="UBQ_AlignAndArrangeSectionRow-module__buttonGroup--BY3xO",egR=SV(S$()),egD=function(){let{t:t}=qL(),n=Ju(),i=KU(),{blocks:r,selectedDesignElement:s}=K2(),o=r.map(t=>t.id),a=n.block.isAlignable(o),l=n.block.isDistributable(o),c=Jv(eei),u=Jy("ui/fixLayers"),d=1===r?.length,p=r?.length>2,[h,f]=K1(d?r[0].alwaysOnTop:void 0,!1),[m,g]=K1(d?r[0].alwaysOnBottom:void 0,!1),x=!c||!a,y=!c||!d,v=!c||!l||!p,b=!u||!d,A=!u||!d,w=n=>({name:n,"data-cy":n,variant:"plain",scope:eei,label:t(`action.${n}`),i18nKey:`action.${n}`}),C=n=>({...w(n),tooltip:!0,"aria-label":t(`action.${n}.description`),isDisabled:x}),_=t=>{let{label:n,...i}=w(t);return{...i,isDisabled:y,children:n}},S=t=>{let{label:n,...i}=w(t);return{...i,isDisabled:v,children:n}};function k(){s&&(n.block.bringForward(s.id),i("action.arrange.bringForward"))}function E(){s&&(n.block.bringToFront(s.id),i("action.arrange.toFront"))}function M(){s&&(n.block.sendBackward(s.id),i("action.arrange.sendBackward"))}function I(){s&&(n.block.sendToBack(s.id),i("action.arrange.toBack"))}return(0,egR.jsxs)(Qe,{className:"UBQ_AlignAndArrangeSectionRow-module__sectionRow--YCPJ7",children:[(0,egR.jsxs)("span",{className:egP,children:[(0,egR.jsx)(egL,{...C("align.left"),icon:(0,egR.jsx)(egb,{}),onClick:()=>{n.block.alignHorizontally(o,"Left"),i("action.align.left")}}),(0,egR.jsx)(egL,{...C("align.horizontalCenter"),icon:(0,egR.jsx)(egy,{}),onClick:()=>{n.block.alignHorizontally(o,"Center"),i("action.align.horizontalCenter")}}),(0,egR.jsx)(egL,{...C("align.right"),icon:(0,egR.jsx)(egw,{}),onClick:()=>{n.block.alignHorizontally(o,"Right"),i("action.align.right")}})]}),(0,egR.jsxs)("span",{className:egP,children:[(0,egR.jsx)(egL,{...C("align.top"),icon:(0,egR.jsx)(eg_,{}),onClick:()=>{n.block.alignVertically(o,"Top"),i("action.align.top")}}),(0,egR.jsx)(egL,{...C("align.verticalCenter"),icon:(0,egR.jsx)(egk,{}),onClick:()=>{n.block.alignVertically(o,"Center"),i("action.align.verticalCenter")}}),(0,egR.jsx)(egL,{...C("align.bottom"),icon:(0,egR.jsx)(egp,{}),onClick:()=>{n.block.alignVertically(o,"Bottom"),i("action.align.bottom")}})]}),(0,egR.jsx)("span",{className:egP,children:(0,egR.jsxs)(N0,{children:[n=>(0,egR.jsx)(U6,{label:t("action.position"),children:(0,egR.jsx)(DR,{name:"action.position","aria-label":t("action.position"),variant:"plain",isDisabled:y&&v&&b&&A,"data-cy":"action.position",...n,children:(0,egR.jsx)(egM,{})})}),()=>(0,egR.jsxs)(Qx.Container,{children:[(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{...S("distribute.vertically"),icon:(0,egR.jsx)(egg,{}),onClick:()=>{n.block.distributeVertically(o),i("action.distribute.vertically")}})}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{...S("distribute.horizontally"),icon:(0,egR.jsx)(egf,{}),onClick:()=>{n.block.distributeHorizontally(o),i("action.distribute.horizontally")}})}),(0,egR.jsx)(Hp,{}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{..._("arrange.toFront"),icon:(0,egR.jsx)(egl,{}),onClick:E})}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{..._("arrange.bringForward"),icon:(0,egR.jsx)(ehM,{}),onClick:k})}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{..._("arrange.sendBackward"),icon:(0,egR.jsx)(ehT,{}),onClick:M})}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{..._("arrange.toBack"),icon:(0,egR.jsx)(egT,{}),onClick:I})}),(0,egR.jsx)(Hp,{}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{name:"toggle-always_on_top",icon:h?(0,egR.jsx)(euD,{}):(0,egR.jsx)(egu,{}),i18nKey:"input.alwaysOnTop",variant:"plain",isDisabled:b||!c,onClick:()=>{f(!h)},children:t("input.alwaysOnTop")})}),(0,egR.jsx)(Qx.Item,{children:(0,egR.jsx)(egL,{name:"toggle-always_on_bottom",icon:m?(0,egR.jsx)(euD,{}):(0,egR.jsx)(egu,{}),i18nKey:"input.alwaysOnBottom",variant:"plain",isDisabled:A||!c,onClick:()=>{g(!m)},children:t("input.alwaysOnBottom")})})]})]})})]})},egF=SV(S$()),egO=Jg(function({engine:t}){let{t:n}=qL(),[i]=t.block.findAllSelected();if(!i||!t.block.hasOpacity(i))return null;let r=t.block.isAllowedByScope(i,eel);return(0,egF.jsx)(er5,{block:i,label:n("common.opacity"),property:"opacity",min:0,max:1,step:.01,isDisabled:!r,centeredZeroPosition:!1})}),egN=SV(SH()),egU=SV(Sz()),egV=SV(S$()),egH=[["PassThrough","Normal"],["Darken","Multiply","ColorBurn"],["Lighten","Screen","ColorDodge"],["Overlay","SoftLight","HardLight"],["Difference","Exclusion"],["Hue","Saturation","Color","Luminosity"]],egQ=Jg(function({engine:t}){let{t:n}=qL(),i={PassThrough:n("property.blendMode.PassThrough"),Normal:n("property.blendMode.Normal"),Darken:n("property.blendMode.Darken"),Multiply:n("property.blendMode.Multiply"),ColorBurn:n("property.blendMode.ColorBurn"),Lighten:n("property.blendMode.Lighten"),Screen:n("property.blendMode.Screen"),ColorDodge:n("property.blendMode.ColorDodge"),Overlay:n("property.blendMode.Overlay"),SoftLight:n("property.blendMode.SoftLight"),HardLight:n("property.blendMode.HardLight"),Difference:n("property.blendMode.Difference"),Exclusion:n("property.blendMode.Exclusion"),Hue:n("property.blendMode.Hue"),Saturation:n("property.blendMode.Saturation"),Color:n("property.blendMode.Color"),Luminosity:n("property.blendMode.Luminosity")},r=KU(),s=enF(),o=t.block.findAllSelected();if(1!==o.length)return null;let[a]=o;if(!t.block.hasBlendMode(a))return null;let l=t.block.isAllowedByScope(a,eec),c=t.block.getBlendMode(a)??"Normal";return(0,egV.jsxs)(egV.Fragment,{children:[(0,egV.jsx)(Uo,{isDisabled:!l,children:n("property.blendMode")}),(0,egV.jsxs)(Ha,{children:[(t,{isOpen:r})=>(0,egV.jsx)(U6,{label:n("property.blendMode.tooltip"),children:(0,egV.jsxs)(DR,{name:"BlendModeSelect",isDisabled:!l,...t,"aria-label":n("property.blendMode.description",{mode:i[c]}),children:[i[c],r?(0,egV.jsx)(Ub,{}):(0,egV.jsx)(Uy,{})]})}),()=>(0,egV.jsx)(Ha.Options,{className:(0,egN.default)("UBQ_BlendModeSelect-module__options--0kM7e",{"UBQ_BlendModeSelect-module__smallViewport--F0RsT":s}),value:c,onChange:n=>{t.block.setBlendMode(a,n),r("action.property.update")},children:egH.map((t,n)=>(0,egV.jsxs)(egU.Fragment,{children:[n>0&&(0,egV.jsx)(Hp,{}),t.map(t=>{let n=i[t];return(0,egV.jsx)(Ha.Option,{value:t,className:"UBQ_BlendModeSelect-module__option--2ynjg",children:n},t)})]},n))})]})]})}),egz=SV(S$()),egG=function({isDisabled:t}){let n=KU(),{t:i}=qL(),r=eic(),[s,o]=K1(r?.rotation,0),a=s/Math.PI*180%360;a>180?a-=360:a<=-180&&(a+=360);let l=i("common.rotation.inUnit");return(0,egz.jsx)(Vz,{unitLabel:"\xb0",id:"transform-rotation",name:"transform-rotation","aria-label":l,tooltipLabel:l,value:a,onChange:t=>{null!=t&&o(t/180*Math.PI)},onRelease:t=>{null!=t&&n("action.block.rotate")},isDisabled:t,maxFractionDigits:0})},egq=SV(S$()),egW=Xc(function({children:t}){let{t:n}=qL(),i=YT(),r=KU(),s=eic(),[o,a]=K1(s?.flipHorizontal,!1),[l,c]=K1(s?.flipVertical,!1),[u]=K1(s?.isTransformLocked,!1),[d,p,h,f]=Jv([eei,eeo,ees,eer]),m=u||!d,g=u||!p,x=u||!h,y=u||!f,{blocksTransformEnabled:v}=Kb();return s?(0,egq.jsxs)(egq.Fragment,{children:[(0,egq.jsxs)(Qe,{children:[(0,egq.jsx)(Uo,{isDisabled:x&&g,children:n("common.rotateAndFlip")}),(0,egq.jsx)(egG,{isDisabled:x}),(0,egq.jsxs)("div",{className:"UBQ_Transform-module__rotationGroup--z2I6N",children:[(0,egq.jsx)(U6,{label:n("property.flip.x"),children:(0,egq.jsx)(DR,{name:"flipX","aria-label":n("property.flip.x"),disabled:g,"data-cy":"flipX",onClick:()=>{a(!o),r("action.property.update")},isActive:o,children:(0,egq.jsx)(ea1,{})})}),(0,egq.jsx)(U6,{label:n("property.flip.y"),children:(0,egq.jsx)(DR,{name:"flipY","aria-label":n("property.flip.y"),disabled:g,"data-cy":"flipY",onClick:()=>{c(!l),r("action.property.update")},isActive:l,children:(0,egq.jsx)(ec8,{})})})]})]}),t,v&&(0,egq.jsxs)(egq.Fragment,{children:[(0,egq.jsx)(Qe,{children:(0,egq.jsx)(Hp,{})}),(0,egq.jsxs)(Qe,{children:[(0,egq.jsx)(Uo,{isDisabled:m&&y,children:n("common.transform")}),(0,egq.jsx)(U6,{label:n("input.transform.description"),children:(0,egq.jsxs)(DR,{name:"transform-inspector",variant:"regular",onClick:()=>{i.ui.openPanel("//ly.img.panel/inspector/transform")},isDisabled:m&&y,"data-cy":"transform",children:[n("input.transform"),(0,egq.jsx)(ei7,{})]})})]})]})]}):null}),eg$=SV(S$()),egZ=Xc(function(){let{t:t}=qL(),n=Kb(),i=YT(),r=i.feature.isEnabled("ly.img.position",{engine:i.engine}),s=n.blocksOpacityEnabled;return(0,eg$.jsxs)(ecx,{title:t("input.layer"),children:[r&&(0,eg$.jsxs)(eg$.Fragment,{children:[(0,eg$.jsx)(egD,{}),(0,eg$.jsx)(Qe,{children:(0,eg$.jsx)(Hp,{})})]}),(0,eg$.jsxs)(egW,{children:[s&&(0,eg$.jsx)(Qe,{children:(0,eg$.jsx)(egO,{})},"opacity"),(0,eg$.jsx)(Qe,{children:(0,eg$.jsx)(egQ,{})},"blendMode")]})]})}),egY=SV(S$());function egK(){let{t:t}=qL(),n=eic(),[i,r]=K1(n?.includedInExport,!1);return(0,egY.jsx)(Ud,{name:"exportable",checked:i,onChange:r,label:t("input.showInExport"),icon:(0,egY.jsx)(eau,{})},"exportable")}var egX=function(){return eic()?(0,egY.jsx)(egK,{}):null},egJ=SV(S$());function eg0(){let{t:t}=qL();return Jy("ui/manageExportable")?(0,egJ.jsx)(ecx,{title:t("input.export"),children:(0,egJ.jsx)(egX,{})}):null}var eg1=SV(S$()),eg2=function(){return(0,eg1.jsxs)(eg1.Fragment,{children:[(0,eg1.jsx)(egZ,{}),(0,eg1.jsx)(emI,{}),(0,eg1.jsx)(emf,{}),(0,eg1.jsx)(ego,{}),(0,eg1.jsx)(ems,{}),(0,eg1.jsx)(ema,{}),(0,eg1.jsx)(eg0,{})]})},eg3=(SV(Sz()),SV(S$())),eg5=t=>(0,eg3.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eg3.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.625C4.5 6.34683 6.34683 4.5 8.625 4.5C10.9032 4.5 12.75 6.34683 12.75 8.625C12.75 10.9032 10.9032 12.75 8.625 12.75C6.34683 12.75 4.5 10.9032 4.5 8.625ZM8.625 11.25C7.17525 11.25 6 10.0747 6 8.625C6 7.17525 7.17525 6 8.625 6C10.0747 6 11.25 7.17525 11.25 8.625C11.25 10.0747 10.0747 11.25 8.625 11.25Z",fill:"currentColor"}),(0,eg3.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4258 10.3101C15.5703 10.0608 15.9303 10.0608 16.0748 10.3102L20.2024 17.4371C20.3472 17.6871 20.1668 18 19.8779 18H11.6209C11.332 18 11.1516 17.687 11.2964 17.437L15.4258 10.3101ZM13.5729 16.5L15.75 12.7425L17.9263 16.5H13.5729Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M1.5 3C1.5 3.82843 2.17157 4.5 3 4.5C3.82843 4.5 4.5 3.82843 4.5 3C4.5 2.17157 3.82843 1.5 3 1.5C2.17157 1.5 1.5 2.17157 1.5 3Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M9 21C9 21.8284 9.67157 22.5 10.5 22.5C11.3284 22.5 12 21.8284 12 21C12 20.1716 11.3284 19.5 10.5 19.5C9.67157 19.5 9 20.1716 9 21Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M13.5 4.5C12.6716 4.5 12 3.82843 12 3C12 2.17157 12.6716 1.5 13.5 1.5C14.3284 1.5 15 2.17157 15 3C15 3.82843 14.3284 4.5 13.5 4.5Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M1.5 13.5C1.5 14.3284 2.17157 15 3 15C3.82843 15 4.5 14.3284 4.5 13.5C4.5 12.6716 3.82843 12 3 12C2.17157 12 1.5 12.6716 1.5 13.5Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M21 22.5C20.1716 22.5 19.5 21.8284 19.5 21C19.5 20.1716 20.1716 19.5 21 19.5C21.8284 19.5 22.5 20.1716 22.5 21C22.5 21.8284 21.8284 22.5 21 22.5Z",fill:"currentColor"}),(0,eg3.jsx)("path",{d:"M19.5 10.5C19.5 11.3284 20.1716 12 21 12C21.8284 12 22.5 11.3284 22.5 10.5C22.5 9.67157 21.8284 9 21 9C20.1716 9 19.5 9.67157 19.5 10.5Z",fill:"currentColor"})]}),eg4=SV(S$()),eg6=Xc(Jg(function({engine:t,isDisabled:n,className:i,asCanvasAction:r=!1,variant:s="plain",name:o="ungroup",centered:a}){let l=Jy("ui/group"),c=KU(),[u]=t.block.findAllSelected(),d=YB(),{t:p}=qL(),h=p("action.ungroup"),f=YT().feature.isEnabled("ly.img.group",{engine:t});return null!=u&&"//ly.img.ubq/group"===t.block.getType(u)&&l&&f?(0,eg4.jsx)(DR,{className:i,icon:(0,eg4.jsx)(eg5,{}),name:o,"aria-label":h,isDisabled:n,variant:s,onClick:()=>{let n=t.block.getChildren(u);if(t.block.ungroup(u),n.forEach(n=>{t.block.setSelected(n,!0)}),n.length>0){let[i]=n;!function n(i){let r=t.block.getParent(i);r&&("//ly.img.ubq/page"===t.block.getType(r)?d.scrollToPage(r):n(r))}(i)}c("action.ungroup")},"data-ubq-action":r?eeE:void 0,centered:a,children:h}):null})),eg8=SV(S$());function eg7(){let{t:t}=qL(),n=YT(),i=n.feature.isEnabled("ly.img.group",{engine:n.engine});return(0,eg8.jsxs)(eg8.Fragment,{children:[(0,eg8.jsx)(egZ,{}),i&&(0,eg8.jsx)(ecx,{title:t("input.selection"),children:(0,eg8.jsx)(Qe,{children:(0,eg8.jsx)(eg6,{variant:"regular",centered:!0})})}),(0,eg8.jsx)(eg0,{})]})}var eg9=SV(S$()),exe=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),r=n=>i.feature.isEnabled(n,{engine:t}),s=r("ly.img.trim"),o=r("ly.img.volume");return(0,eg9.jsxs)(H8,{title:n("component.audio.properties"),children:[(0,eg9.jsx)(epT.Control,{}),s&&o&&(0,eg9.jsx)(Hp,{}),(0,eg9.jsx)(epO,{})]})})),ext=(SV(Sz()),SV(S$())),exn=t=>(0,ext.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ext.jsx)("path",{d:"M17.7072 16.2071L12.7072 21.2072C12.5196 21.3947 12.2653 21.5001 12.0001 21.5001C11.7349 21.5001 11.4805 21.3947 11.293 21.2072L6.29297 16.2071L7.70719 14.7929L11 18.0858V5.9143L7.70719 9.20713L6.29297 7.79292L11.293 2.7929C11.4805 2.60536 11.7349 2.5 12.0001 2.5C12.2653 2.5 12.5196 2.60536 12.7072 2.7929L17.7072 7.79292L16.293 9.20713L13 5.91414V18.0859L16.293 14.7929L17.7072 16.2071Z",fill:"currentColor"})}),exi=SV(S$()),exr=Jg(function({engine:t}){let{t:n}=qL(),i=KU(),r=n("input.cutoutOffset"),s=t.block.findAllSelected();if(1!==s.length)return null;let o=s[0],a=elv(t.scene.getDesignUnit()),l=t.block.getFloat(o,"cutout/offset");return(0,exi.jsx)(VP,{name:"cutoutOffsetValue",label:r,children:n=>(0,exi.jsx)(Vz,{...n,value:l,onChange:n=>{t.block.setFloat(o,"cutout/offset",n??0),i("action.cutoutOffset.change")},unitLabel:a})})}),exs=SV(S$());Xc(Jg(function({engine:t}){let{t:n}=qL(),i=n("input.cutoutOffset");return YT().feature.isEnabled("ly.img.cutout",{engine:t})?(0,exs.jsxs)(N0,{children:[t=>(0,exs.jsx)(U6,{label:i,children:(0,exs.jsx)(DR,{name:"cutoutOffsetButton",variant:"plain",icon:(0,exs.jsx)(exn,{}),...t,children:i})}),()=>(0,exs.jsx)(Qe,{children:(0,exs.jsx)(exr,{})})]}):null}));var exo=SV(S$()),exa=Xc(Jg(function({engine:t,inBar:n=!1,...i}){let{t:r}=qL(),s=KU(),o=YT().feature.isEnabled("ly.img.cutout",{engine:t}),[a]=t.block.findAllSelected();if(null==a||!o)return null;let l=t.block.getEnum(a,"cutout/type"),c=[{name:"solid",label:r("input.cutoutType.solid"),icon:(0,exo.jsx)(em0,{}),value:"Solid"},{name:"dashed",label:r("input.cutoutType.dashed"),icon:(0,exo.jsx)(emX,{}),value:"Dashed"}],u=c.filter(t=>t.name===l?.toLowerCase())[0],d=r("input.cutoutType");return(0,exo.jsxs)(Ha,{children:[(t,{isOpen:r})=>(0,exo.jsx)(U6,{label:d,children:(0,exo.jsxs)(DR,{name:"cutoutTypeMenu","aria-label":d,icon:u.icon,value:u.label,...i,variant:n?"plain":i.variant,...t,children:[u.label,r?(0,exo.jsx)(Ub,{}):(0,exo.jsx)(Uy,{})]})}),()=>(0,exo.jsx)(Ha.Options,{value:l,onChange:n=>{t.block.setEnum(a,"cutout/type",n),s("action.cutoutType.change")},children:c.map(({name:t,label:n,icon:i,value:r})=>(0,exo.jsx)(Ha.Option,{value:r,children:(0,exo.jsxs)("div",{className:"UBQ_CutoutType-module__option--1kzfV",children:[i,(0,exo.jsx)("span",{children:n})]})},t))})]})})),exl=SV(S$()),exc=Xc(function(){let{t:t}=qL(),n=YT(),i=n.feature.isEnabled("ly.img.cutout",{engine:n.engine});return(0,exl.jsxs)(exl.Fragment,{children:[(0,exl.jsx)(egZ,{}),i&&(0,exl.jsxs)(ecx,{title:t("component.cutout"),children:[(0,exl.jsx)(Qe,{children:(0,exl.jsx)(VP,{name:"inspectorCutoutType",label:t("input.cutoutType"),children:t=>(0,exl.jsx)(exa,{...t})})}),(0,exl.jsx)(eg0,{})]})]})}),exu=SV(S$()),exd=Jg(function({engine:t}){let n="Design"===t.scene.getMode();return(0,exu.jsxs)(exu.Fragment,{children:[(0,exu.jsx)(emf,{}),(0,exu.jsx)(ego,{}),(0,exu.jsx)(ema,{}),n&&(0,exu.jsx)(eg0,{})]})}),exp=t=>{let n;let[i]=K1(KK().scene.designUnit),r=function(t,n){switch(n){case"Millimeter":return t.mm.bleedMargin;case"Pixel":return t.px.bleedMargin;case"Inch":return t.in.bleedMargin;default:return function(t){throw Error(t)}(n)}}(Z6,i),s=elv(i),o=t=>`${(Math.round(100*t)/100).toString()} ${s}`;return{options:r.dropdownOptions.map(i=>{let r={label:o(i),value:i};return t.left===r.value&&(n=r),r}),selectedOption:n}},exh=SV(S$()),exf=function(){let t=YB(),n=KK(),i=KU(),{t:r}=qL(),s=t.getPageManager(),[o,a]=K1(s.channels.bleedMargin),[l,c]=K1(s.channels.bleedMarginEnabled),[u]=K1(n.scene.designUnit),d=elv(u),{selectedOption:p,options:h}=exp(o),f=(t,n)=>{null!=t&&(a(t<0?{left:0,top:0,right:0,bottom:0}:{left:t,top:t,right:t,bottom:t}),n&&i("action.property.update"))},m=r("property.bleedMargin"),g=r("input.bleedMargin.select");return(0,exh.jsx)(eah,{isEnabled:l,label:m,toggleProperty:t=>{let n="boolean"==typeof t?t:t(l);c(n),s.setBleedMarginEnabled(n)},"data-cy":"togglePropertyBleedMargin",children:(0,exh.jsx)(VP,{name:"margin",isDisabled:!l,label:m,children:t=>(0,exh.jsx)(Hx,{min:0,value:o?.left,onChange:f,onRelease:t=>{f(t,!0)},isDisabled:!l,options:h,selectedOption:p,unitLabel:d,...t,"aria-label":g})})})},exm=SV(Sz()),exg="UBQ_ClipContent-module__button--QWEwL",exx=SV(S$()),exy=function(){let{t:t}=qL(),n=YB().getPageManager(),[i,r]=(0,exm.useState)(n.getClipContent()),s=t=>()=>{n.setClipContent(t),r(t)};return(0,exx.jsxs)(exx.Fragment,{children:[(0,exx.jsx)(Uo,{children:t("input.clipContent")}),(0,exx.jsxs)(N8,{children:[(0,exx.jsx)(DR,{name:"enableClipContent",isActive:i,onClick:s(!0),className:exg,"aria-label":t("input.clipContent.on.description"),children:t("common.on")}),(0,exx.jsx)(DR,{name:"disableClipContent",isActive:!i,onClick:s(!1),className:exg,"aria-label":t("input.clipContent.off.description"),children:t("common.off")})]}),(0,exx.jsx)(eam,{})]})},exv=SV(EW());function exb(t){return{...t,width:t.height,height:t.width}}function exA(t,n){let i;let r=function(t,n=1){let i=10**n;return{...t,width:Math.round(t.width*i)/i,height:Math.round(t.height*i)/i}}(n);return Object.entries(t).some(([t,n])=>{let s={unit:n.unit,width:n.width,height:n.height},o=exb(s);return(0,exv.default)(s,r)?(i={id:t,preset:n},!0):!(!(0,exv.default)(o,r)||n.fixedOrientation)&&(i={id:t,preset:exb(n)},!0)}),void 0!==i?i:{id:"custom",preset:n}}var exw=SV(S$()),exC=Xc(function(){let{t:t}=qL(),n=YB(),i=KU(),r=KK(),[s]=K1(n.settings.pageFormats),[o]=K1(r.scene.pageDimensions),[a]=K1(r.scene.designUnit),[l]=K1(r.scene.dpi),[c,u]=K1(r.scene.aspectRatioLock),d={unit:a,width:o.width,height:o.height},p=({width:t,height:i})=>{let r=1;switch(a){case"Millimeter":r=1/l*25.4;break;case"Inch":r=1/l}let o={...d,width:H1(t??d.width,r,Number.MAX_SAFE_INTEGER),height:H1(i??d.height,r,Number.MAX_SAFE_INTEGER)};if(c){let n,s,a,l;let c=d.width/d.height;c<1?(n=r,s=r/c,a=Number.MAX_SAFE_INTEGER*c,l=Number.MAX_SAFE_INTEGER):(n=r*c,s=r,a=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER/c),o.width=H1(t??i*c,n,a),o.height=H1(i??t/c,s,l)}n.updatePageFormat(exA(s,o))},h=()=>{i("action.page.changeFormat",{resyncCameraFromSnapshot:!0})},f=n=>t("x"===n?"common.width.inUnit":"common.height.inUnit",{unit:a});return(0,exw.jsxs)(exw.Fragment,{children:[(0,exw.jsxs)(Qe,{children:[(0,exw.jsx)(Uo,{htmlFor:"pages-width",children:t("common.width")}),(0,exw.jsx)(Vz,{id:"pages-width",name:"pages-width",value:o.width,onChange:t=>{void 0!==t&&p({width:t,height:void 0})},unitLabel:elv(a),onRelease:h,"aria-label":f("x"),tooltipLabel:f("x"),min:0,max:Number.MAX_SAFE_INTEGER}),(0,exw.jsx)(euu,{isLocked:c,setIsLocked:u})]}),(0,exw.jsxs)(Qe,{children:[(0,exw.jsx)(Uo,{htmlFor:"pages-height",children:t("common.height")}),(0,exw.jsx)(Vz,{id:"pages-height",name:"pages-height",value:o.height,onChange:t=>{void 0!==t&&p({width:void 0,height:t})},unitLabel:elv(a),onRelease:h,"aria-label":f("y"),tooltipLabel:f("y"),min:0,max:Number.MAX_SAFE_INTEGER}),(0,exw.jsx)(eam,{})]})]})}),ex_=SV(S$());function exS(){let t=YB(),n=KU(),[i]=K1(t.settings.pageFormats),{t:r}=qL(),[s,o]=K1(KK().scene.designUnit),a=r=>{o(r);let s=exA(i,{...t.getPageDimensions(),unit:r});t.updatePageFormat(s),n("action.page.changeFormat",{resyncCameraFromSnapshot:!0})},l=t=>{switch(t){case"Inch":return r("common.inch");case"Millimeter":return r("common.millimeter");case"Pixel":return r("common.pixel");default:return t}},c=["Inch","Millimeter","Pixel"];return(0,ex_.jsxs)(ex_.Fragment,{children:[(0,ex_.jsx)(Uo,{children:r("common.unit")}),(0,ex_.jsxs)(Ha,{children:[(t,{isOpen:n})=>(0,ex_.jsx)(U6,{label:r("input.unit.tooltip"),children:(0,ex_.jsxs)(DR,{name:"DesignUnitSelect","aria-label":r("common.unit.description"),...t,children:[l(s),n?(0,ex_.jsx)(Ub,{}):(0,ex_.jsx)(Uy,{})]})}),()=>(0,ex_.jsx)(Ha.Options,{value:s,onChange:a,children:c.map(t=>(0,ex_.jsx)(Ha.Option,{value:t,children:l(t)},t))})]}),(0,ex_.jsx)(eam,{})]})}var exk=SV(S$()),exE=Jg(function({engine:t}){let n=KU(),{t:i}=qL(),r=t.scene.get();if(null===r)return null;let s=t.block.getFloat(r,"scene/dpi"),o=Z5.dropdownOptions.map(t=>({value:t,label:`${t} dpi`})),a=o.find(t=>t.value===s),l=i("common.resolution"),c=i("input.resolution.select",{which:l}),u=t.scene.getDesignUnit(),d=t.block.getFloat(r,"scene/pageDimensions/width"),p=t.block.getFloat(r,"scene/pageDimensions/height"),h="Millimeter"===u?H1(Math.ceil(1/(Math.min(d,p)/25.4)),1,Number.MAX_SAFE_INTEGER):"Inch"===u?H1(Math.ceil(1/Math.min(d,p)),1,Number.MAX_SAFE_INTEGER):1;return(0,exk.jsxs)(exk.Fragment,{children:[(0,exk.jsx)(Uo,{htmlFor:"pages-dpi",children:l}),(0,exk.jsx)(Hx,{id:"pages-dpi",name:"dpi",value:s,min:h,step:1,selectedOption:a,options:o,onChange:n=>{void 0!==n&&t.block.setFloat(r,"scene/dpi",H1(n,h,Number.MAX_SAFE_INTEGER))},onRelease:()=>{n("action.property.update")},unitLabel:"dpi","aria-label":c}),(0,exk.jsx)(eam,{})]})}),exM=(SV(Sz()),SV(S$())),exI=t=>(0,exM.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exM.jsx)("path",{d:"M14 10V6C14 4.34315 12.6569 3 11 3L7 3C5.34315 3 4 4.34315 4 6L4 10H6V6C6 5.44772 6.44772 5 7 5L11 5C11.5523 5 12 5.44772 12 6V10L14 10Z",fill:"currentColor"}),(0,exM.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12C18.6569 12 20 13.3431 20 15V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19L4 15C4 13.3431 5.34315 12 7 12L17 12Z",fill:"currentColor"})]}),exT=(SV(Sz()),SV(S$())),exB=t=>(0,exT.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exT.jsx)("path",{d:"M14 20H18C19.6569 20 21 18.6569 21 17L21 13C21 11.3431 19.6569 10 18 10H14V12L18 12C18.5523 12 19 12.4477 19 13L19 17C19 17.5523 18.5523 18 18 18H14V20Z",fill:"currentColor"}),(0,exT.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 5.34315 3.34315 4 5 4H9C10.6569 4 12 5.34315 12 7V17C12 18.6569 10.6569 20 9 20H5C3.34315 20 2 18.6569 2 17V7ZM5 6C4.44772 6 4 6.44772 4 7V17C4 17.5523 4.44772 18 5 18H9C9.55228 18 10 17.5523 10 17V7C10 6.44772 9.55228 6 9 6H5Z",fill:"currentColor"}),(0,exT.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 5.34315 3.34315 4 5 4H9C10.6569 4 12 5.34315 12 7V17C12 18.6569 10.6569 20 9 20H5C3.34315 20 2 18.6569 2 17V7Z",fill:"currentColor"})]}),exL=SV(Sz()),exj=SV(S$()),exP=Xc(function(){let{t:t}=qL(),n=YB(),[i]=K1(n.settings.pageFormats),r=KU(),s=()=>{r("action.page.changeFormat",{resyncCameraFromSnapshot:!0})},o=KK(),[a]=K1(o.scene.designUnit),[l]=K1(o.scene.pageFormatId),[c]=K1(o.scene.pageDimensions),u=function({width:t,height:n}){return t===n?2:t>n?1:0}(c),d=(0,exL.useRef)(1);2!==u&&(d.current=u);let p=!i[l]?.fixedOrientation,h=t=>{let r=i[t];n.updatePageFormat({id:t,preset:r}),s()};return(0,exj.jsxs)(exj.Fragment,{children:[(0,exj.jsx)(Uo,{children:t("input.preset")}),(0,exj.jsxs)(Ha,{children:[(n,{isOpen:i})=>(0,exj.jsx)(U6,{label:t("input.preset.tooltip"),children:(0,exj.jsxs)(DR,{name:"FormatSelect","data-cy":"FormatSelect","aria-label":t(["input.preset.description","input.preset"]),...n,children:[t(`preset.document.${l}`,{defaultValue:l}),i?(0,exj.jsx)(Ub,{}):(0,exj.jsx)(Uy,{})]})}),()=>(0,exj.jsx)(Ha.Options,{value:l,onChange:h,children:Object.keys(i).map(n=>(0,exj.jsx)(Ha.Option,{value:n,"data-value":n,children:(0,exj.jsx)("span",{className:"UBQ_Formats-module__option--o1dnF",children:t(`preset.document.${n}`,{defaultValue:n})})},n))})]}),(0,exj.jsx)(U6,{label:t("property.orientation.flip"),children:(0,exj.jsx)(DR,{variant:"plain","aria-label":t("property.orientation.description",{orientation:t(1===u?"property.orientation.portrait":"property.orientation.landscape")}),name:"toggleOrientation",className:"UBQ_Formats-module__button--9GoDR",onClick:()=>{let t=exA(i,{unit:a,width:c.height,height:c.width});n.updatePageFormat(t),s()},disabled:!p||2===u,children:1===d.current?(0,exj.jsx)(exI,{}):(0,exj.jsx)(exB,{})})})]})}),exR=(SV(Sz()),SV(S$())),exD=t=>(0,exR.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exR.jsx)("path",{d:"M21 8L22 8V6L21 6C19.3431 6 18 7.34315 18 9V15C18 16.6569 19.3431 18 21 18H22V16H21C20.4477 16 20 15.5523 20 15V9C20 8.44772 20.4477 8 21 8Z",fill:"currentColor"}),(0,exR.jsx)("path",{d:"M3 8H2L2 6L3 6C4.65686 6 6 7.34315 6 9L6 15C6 16.6569 4.65685 18 3 18H2L2 16H3C3.55228 16 4 15.5523 4 15L4 9C4 8.44772 3.55229 8 3 8Z",fill:"currentColor"}),(0,exR.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 4C15.6569 4 17 5.34315 17 7L17 17C17 18.6569 15.6569 20 14 20L10 20C8.34314 20 7 18.6569 7 17L7 7C7 5.34315 8.34315 4 10 4L14 4ZM15 7C15 6.44772 14.5523 6 14 6L10 6C9.44772 6 9 6.44771 9 7L9 17C9 17.5523 9.44771 18 10 18L14 18C14.5523 18 15 17.5523 15 17L15 7Z",fill:"currentColor"})]}),exF=(SV(Sz()),SV(S$())),exO=t=>(0,exF.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exF.jsx)("path",{d:"M8 3V2H6V3C6 4.65685 7.34315 6 9 6H15C16.6569 6 18 4.65685 18 3V2H16V3C16 3.55228 15.5523 4 15 4H9C8.44772 4 8 3.55228 8 3Z",fill:"currentColor"}),(0,exF.jsx)("path",{d:"M8 21V22H6V21C6 19.3431 7.34315 18 9 18H15C16.6569 18 18 19.3431 18 21V22H16V21C16 20.4477 15.5523 20 15 20H9C8.44772 20 8 20.4477 8 21Z",fill:"currentColor"}),(0,exF.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 10C4 8.34315 5.34315 7 7 7H17C18.6569 7 20 8.34315 20 10V14C20 15.6569 18.6569 17 17 17H7C5.34315 17 4 15.6569 4 14V10ZM7 9C6.44772 9 6 9.44772 6 10V14C6 14.5523 6.44772 15 7 15H17C17.5523 15 18 14.5523 18 14V10C18 9.44772 17.5523 9 17 9H7Z",fill:"currentColor"})]}),exN=SV(S$()),exU=function(){let t=YB(),{t:n}=qL(),i=KU(),[r]=K1(KK().scene.layout);return(0,exN.jsxs)(Qe,{children:[(0,exN.jsx)(Uo,{children:n("property.layout")}),(0,exN.jsxs)(N8,{children:[(0,exN.jsx)(U6,{label:n("property.layout.horizontal"),children:(0,exN.jsx)(DR,{name:"horizontalLayout","aria-label":n("property.layout.horizontal"),isActive:"HorizontalStack"===r,onClick:()=>{t.legacyApi.changeSceneLayout(t.getScene(),"HorizontalStack",35,!0).then(()=>{i("property.layout.horizontal")})},children:(0,exN.jsx)(exD,{})})}),(0,exN.jsx)(U6,{label:n("property.layout.vertical"),children:(0,exN.jsx)(DR,{name:"verticalLayout","aria-label":n("property.layout.vertical"),isActive:"VerticalStack"===r,onClick:()=>{t.legacyApi.changeSceneLayout(t.getScene(),"VerticalStack",35,!0).then(()=>{i("property.layout.vertical")})},children:(0,exN.jsx)(exO,{})})})]})]})},exV=SV(S$()),exH=Jg(function({engine:t}){let n=KU(),{t:i}=qL(),r=t.scene.get();if(null===r||"Pixel"!==t.scene.getDesignUnit())return null;let s=t.block.getFloat(r,"scene/pixelScaleFactor"),o=Z4.dropdownOptions.map(t=>({value:t,label:`${t} x`})),a=o.find(t=>t.value===s),l=i("common.pixelScale"),c=i("input.resolution.select",{which:l});return(0,exV.jsxs)(exV.Fragment,{children:[(0,exV.jsx)(Uo,{htmlFor:"pages-pixel-scale",children:l}),(0,exV.jsx)(Hx,{id:"pages-pixel-scale",name:"pixelscale",value:s,min:.1,step:.1,selectedOption:a,options:o,onChange:n=>{n&&t.block.setFloat(r,"scene/pixelScaleFactor",n)},onRelease:()=>{n("action.property.update")},unitLabel:"x","aria-label":c}),(0,exV.jsx)(eam,{})]})}),exQ=SV(S$()),exz=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=Kb(),r=JH(),s=t.scene.getMode(),o=t.block.getEnum(t.scene.get(),"scene/layout"),a=i.blocks["//ly.img.ubq/page"].format,l=!r.featureFlags?.differentPageFormats,c="Design"===s;return(0,exQ.jsxs)(exQ.Fragment,{children:["Video"!==s&&"Free"!==o&&(0,exQ.jsx)(ecx,{title:n("input.canvas"),children:(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exU,{})})}),a&&(0,exQ.jsxs)(ecx,{title:n("input.pages"),children:[l&&(0,exQ.jsxs)(exQ.Fragment,{children:[(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exP,{})}),(0,exQ.jsx)(Hp,{}),(0,exQ.jsx)(exC,{}),(0,exQ.jsx)(Hp,{})]}),c&&(0,exQ.jsxs)(exQ.Fragment,{children:[(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exS,{})}),(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exH,{})}),(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exE,{})})]}),c&&l&&(0,exQ.jsx)(Hp,{}),c&&l&&(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exf,{})}),c&&l&&(0,exQ.jsx)(Hp,{}),(0,exQ.jsx)(Qe,{children:(0,exQ.jsx)(exy,{})})]})]})})),exG=(SV(Sz()),SV(S$())),exq=t=>(0,exG.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exG.jsx)("path",{d:"M4 5H20V7H4V5Z",fill:"currentColor"}),(0,exG.jsx)("path",{d:"M6 17H18V19H6V17Z",fill:"currentColor"}),(0,exG.jsx)("path",{d:"M15 11H9V13H15V11Z",fill:"currentColor"})]}),exW=(SV(Sz()),SV(S$())),ex$=t=>(0,exW.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exW.jsx)("path",{d:"M4 5H20V7H4V5Z",fill:"currentColor"}),(0,exW.jsx)("path",{d:"M4 17H16V19H4V17Z",fill:"currentColor"}),(0,exW.jsx)("path",{d:"M12 11H4V13H12V11Z",fill:"currentColor"})]}),exZ=(SV(Sz()),SV(S$())),exY=t=>(0,exZ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,exZ.jsx)("path",{d:"M20 5H4V7H20V5Z",fill:"currentColor"}),(0,exZ.jsx)("path",{d:"M20 17H8V19H20V17Z",fill:"currentColor"}),(0,exZ.jsx)("path",{d:"M12 11H20V13H12V11Z",fill:"currentColor"})]}),exK=SV(SH()),exX=SV(Sz());function exJ(t){return null!=t?Math.round(100*t)/100:t}var ex0=t=>{let{t:n}=qL(),i=(0,exX.useMemo)(()=>({label:n("typography.autoSize"),value:"auto",separate:!0}),[n]),r=t=>`${t.toString()} pt`,s="number"==typeof t?exJ(t):t,[o,a]=(0,exX.useMemo)(()=>{let t;return s===i.value&&(t=i),[[i,...Z3.dropdownOptions.map(n=>{let i=exJ(n),o={label:r(i),value:n};return s===i&&(t=o),o})],t]},[i,Z3.dropdownOptions,s]);return{options:o,selectedOption:a}},ex1=SV(S$()),ex2=Jg(function({engine:t,block:n,isDisabled:i,inBar:r=!1,className:s,deniedByScopeBehavior:o="disable",...a}){let l=YT(),c=YB(),u=KU(),{t:d}=qL(),p=Jv(eex),h=t.block.getFloat(n,"text/fontSize"),f=i=>t.block.setFloat(n,"text/fontSize",i),m=t.block.getBool(n,"text/automaticFontSizeEnabled"),g=i=>t.block.setBool(n,"text/automaticFontSizeEnabled",i),{options:x,selectedOption:y}=ex0(m?"auto":h),v=i=>{let r=t=>{void 0!==t&&(f(t<.1?.1:t),i&&u("action.property.update"))};return s=>{var o;"number"==typeof s?(m&&(c.setTextFrameHeightAuto(n),i||l.ui.showNotification("action.text.autoHeight.automatic"),g(!1)),r(s)):"auto"===s&&(c.setTextFrameSizingFixed(n),g(!0),o=exJ(.5*h),t.block.setFloat(n,"text/minAutomaticFontSize",o),t.block.setFloat(n,"text/maxAutomaticFontSize",h),i?u("action.property.update"):l.ui.showNotification("action.text.fixedFrame.automatic"))}};return p||"hide"!==o?(0,ex1.jsx)(VP,{className:"UBQ_FontSize-module__inputLabel--volPX",isDisabled:!p,name:"fontSize",label:d("typography.size"),children:t=>(0,ex1.jsx)(Hg,{min:.1,value:m?"auto":exJ(h),onChange:v(),onRelease:v(!0),selectedOption:y,options:x,isDisabled:!p||i,unitLabel:"pt","aria-label":d("input.fontSize.select"),"data-cy":"fontSizeSelect",className:(0,exK.default)(s,{"UBQ_FontSize-module__inBar--0otIU":r}),...a,...t,children:m?(0,ex1.jsx)("div",{className:(0,exK.default)(Vi,"UBQ_FontSize-module__autoBox--EoODi"),children:(0,ex1.jsx)("span",{children:d("typography.autoSize.abbreviation")})}):null})}):null}),ex3=Xc(Jg(function({engine:t,...n}){let i=YT(),[r]=t.block.findAllSelected(),s=i.feature.isEnabled("ly.img.text.fontSize",{engine:t});return null!=r&&"//ly.img.ubq/text"===t.block.getType(r)&&s?(0,ex1.jsx)(ex2,{block:r,...n}):null})),ex5=SV(S$()),ex4=function(){let t=KU(),{t:n}=qL(),i=eic(),r=Jv(eex),[s]=K1(i?.automaticFontSizeEnabled,!1),[o,a]=K1(i?.minAutomaticFontSize,0),[l,c]=K1(i?.maxAutomaticFontSize,0),u=t=>{t<l&&a(t)},d=t=>{t>o&&c(t)},p=(n,i)=>r=>{void 0!==r&&(n(r<.1?.1:r),i&&t("action.property.update"))};return s?(0,ex5.jsxs)(Qe,{children:[(0,ex5.jsx)(Uo,{isDisabled:!r,children:n("typography.sizeRange")}),(0,ex5.jsxs)(Ou,{className:"UBQ_FontSizeRange-module__segmentedGroup--N2N-B",children:[(0,ex5.jsx)(U6,{label:n("input.fontSize.selectMin"),children:(0,ex5.jsx)(Vz,{name:"minAutomaticFontSize",value:o,min:.1,max:l,maxFractionDigits:1,onChange:p(u),onRelease:p(u,!0),unitLabel:"pt","aria-label":n("input.fontSize.selectMin"),isDisabled:!r})}),(0,ex5.jsx)(U6,{label:n("input.fontSize.selectMax"),children:(0,ex5.jsx)(Vz,{name:"maxAutomaticFontSize",value:l,min:Math.max(.1,o),maxFractionDigits:1,onChange:p(d),onRelease:p(d,!0),unitLabel:"pt","aria-label":n("input.fontSize.selectMax"),isDisabled:!r})})]})]}):null},ex6=SV(Sz()),ex8=(t,n)=>t?t.subFamily:n("typography.weight.400"),ex7=SV(S$()),ex9=function({font:t}){let{t:n}=qL();return(0,ex7.jsx)("div",{className:"UBQ_FontStyleSelectItem-module__block--O1xQO",children:ex8(t,n)})},eye=SV(S$());function eyt(t){if(!t)return 400;switch(t){case"thin":return 100;case"extraLight":return 200;case"light":return 300;case"normal":default:return 400;case"medium":return 500;case"semiBold":return 600;case"bold":return 700;case"extraBold":return 800;case"heavy":return 900}}function eyn(t){return t.sort((t,n)=>eyt(t.weight)-eyt(n.weight))}var eyi=function({selectedFont:t}){let n=Ju(),i=eic(),r=KU(),{t:s}=qL(),o=Jv(eex);return(0,eye.jsxs)(Ha.Async,{fetchValues:async()=>{if(!i||!n.block.isValid(i.id))return[];let t=n.block.getTypeface(i.id);return[...eyn(t.fonts.filter(t=>"italic"!==t.style)),...eyn(t.fonts.filter(t=>"italic"===t.style))]},children:[(n,{isOpen:i})=>{let r=s("input.fontSelect",{font:t?.style??"Regular"});return(0,eye.jsx)(U6,{label:r,children:(0,eye.jsxs)(DR,{name:"FontSelect","data-cy":"FontSelect","aria-label":r,isDisabled:!t||!o,...n,children:[ex8(t,s),i?(0,eye.jsx)(Ub,{}):(0,eye.jsx)(Uy,{})]})})},({values:s})=>{let o;return(0,eye.jsx)(Ha.Options,{value:t,onChange:t=>{if(!t||!i||!n.block.isValid(i.id))return;let s=n.block.getTypeface(i.id);n.block.setFont(i.id,t.uri,s),r("action.property.update")},children:(o=!1,s.map(t=>{let n=!o&&"italic"===t.style;return n&&(o=!0),(0,eye.jsxs)(ex6.Fragment,{children:[n&&(0,eye.jsx)("hr",{className:"UBQ_FontStyleSelect-module__separator--Cv1QZ"}),(0,eye.jsx)(Ha.Option,{value:t,"data-value":t.uri,children:(0,eye.jsx)(ex9,{font:t})},t.uri)]},t.uri)}))})}]})},eyr=(SV(Sz()),SV(S$())),eys=t=>(0,eyr.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eyr.jsx)("path",{d:"M6 20H13.1797C16.7188 20 18.75 18.1094 18.75 15.5234C18.75 13.2109 17.0703 11.7578 15.1328 11.6719V11.5156C16.8906 11.1484 18.125 9.875 18.125 8.04688C18.125 5.63281 16.2656 4 12.6719 4H6V20ZM9.86719 16.8828V13.0703H12.3281C13.8047 13.0703 14.7109 13.8516 14.7109 15.0781C14.7109 16.2109 13.9297 16.8828 12.2578 16.8828H9.86719ZM9.86719 10.5781V7.07031H12.0703C13.3594 7.07031 14.1797 7.73438 14.1797 8.79688C14.1797 9.92188 13.2734 10.5781 12.0078 10.5781H9.86719Z",fill:"currentColor"})}),eyo=(SV(Sz()),SV(S$())),eya=t=>(0,eyo.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eyo.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9691 7H10V4H18V7H15.1079L12.0309 17H14V20H6V17H8.89214L11.9691 7Z",fill:"currentColor"})}),eyl=SV(S$()),eyc={bold:(0,eyl.jsx)(eys,{}),italic:(0,eyl.jsx)(eya,{})},eyu=Xc(Jg(function({engine:t,type:n,buttonProps:i,deniedByScopeBehavior:r="disable"}){let{t:s}=qL(),o=YT(),a=Jv(eex),l=o.feature.isEnabled("ly.img.text.fontStyle",{engine:t}),[c]=t.block.findAllSelected();if(null==c||"//ly.img.ubq/text"!==t.block.getType(c)||!l||!a&&"hide"===r)return null;let u=t.block.getTextFontStyles(c),d=t.block.getTextFontWeights(c),p=t.block.canToggleBoldFont(c),h=t.block.canToggleItalicFont(c),f=eyc[n],m=void 0!==d&&"bold"===d[0],g=void 0!==u&&"italic"===u[0],x=!p&&"bold"===n||!h&&"italic"===n,y=!1,v=n;switch(n){case"bold":y=m,v=s("typography.bold");break;case"italic":y=g,v=s("typography.italic");break;default:y=!1,v=n}let b=s("input.fontStyle.toggle",{style:v});return(0,eyl.jsx)(U6,{label:b,children:(0,eyl.jsx)(DR,{"aria-label":v,name:`font-style-toggle-${n}`,onClick:()=>{"bold"===n?t.block.toggleBoldFont(c):"italic"===n&&t.block.toggleItalicFont(c)},isActive:y,isDisabled:i?.isDisabled||!a||x,variant:i?.variant,children:f})})})),eyd=SV(Sz()),eyp=t=>{let n=Ju(),i=Jh(n,n=>{if(null!=t)try{return n.block.getTypeface(t)}catch{return}}),r=Jh(n,n=>{if(null!=t)try{return n.block.getString(t,"text/fontFileUri")}catch{return}}),s=(0,eyd.useMemo)(()=>{if(i){for(let t of i.fonts)if(t.uri===r)return t}},[i,r]);return i?{typeface:i,font:s}:void 0},eyh=SV(SH()),eyf=SV(Sz()),eym={},eyg=async({fontFamily:t,fontFileUri:n})=>{if(!eym[t]){if(FontFace){let i=new FontFace(t,`url(${n})`);await i.load(),document.fonts.add(i)}else{let i=document.createElement("style");i.appendChild(document.createTextNode(`
        @font-face {
          font-family: "${t}";
          src: url("${n}");
        }
        `)),document.head.appendChild(i)}eym[t]=!0}},eyx={block:"UBQ_TypefaceSelectItem-module__block--pzqad",text:"UBQ_TypefaceSelectItem-module__text--B3knY"},eyy=SV(S$()),eyv=function({typeface:t,font:n,label:i}){let r=(0,eyf.useRef)(null),s=GQ(r),[o,a]=(0,eyf.useState)(0);(0,eyf.useEffect)(()=>{let i=!0;return s&&0===o&&(a(1),eyg({fontFamily:t.name,fontFileUri:n.uri}).then(()=>{i&&a(2)}).catch(()=>{i&&a(0)})),()=>{i=!1}},[t.name,n.uri,s]);let l=2===o?{fontFamily:`"${t.name}"`}:{};return(0,eyy.jsx)(Ha.Option,{value:{typeface:t,font:n},"data-value":t.name,isLoading:1===o,className:eyx.option,children:(0,eyy.jsx)("div",{ref:r,className:(0,eyh.default)(eyx.block),children:(0,eyy.jsx)("div",{className:eyx.text,style:l,children:i||t.name})})})},eyb=SV(S$()),eyA=Xc(Jg(function({engine:t,buttonVariant:n,showIcon:i,isDisabled:r,deniedByScopeBehavior:s="disable"}){let o=JH(),a=KU(),{t:l}=qL(),c=Jv(eex),u=YT().feature.isEnabled("ly.img.text.typeface",{engine:t}),[d]=t.block.findAllSelected(),p=eyp(d);if(null==d||"//ly.img.ubq/text"!==t.block.getType(d)||!u||!c&&"hide"===s)return null;let h=p?.font,f=p?.typeface;return(0,eyb.jsxs)(Ha.Async,{className:"UBQ_TypefaceSelect-module__block---i9F3",fetchValues:async()=>{let n=(await Promise.all((o.ui.typefaceLibraries??[]).map(async n=>(await t.asset.findAssets(n,{page:0,perPage:1e3})).assets.filter(t=>t.payload?.typeface&&t.payload.typeface.fonts.length>0)))).flat(),i=[];for(let t of n){let n=t.payload.typeface,r=n.fonts[0];for(let t of n.fonts)if((void 0===t.weight||"normal"===t.weight)&&(r=t,void 0===t.style||"normal"===t.style))break;i.push({typeface:n,font:r})}return i.sort((t,n)=>t.typeface.name.localeCompare(n.typeface.name))},children:[(t,{isOpen:s})=>(0,eyb.jsx)(U6,{label:l("input.typefaceSelect.tooltip"),children:(0,eyb.jsxs)(DR,{icon:i?(0,eyb.jsx)(elc,{}):void 0,name:"TypefaceSelect","data-cy":"TypefaceSelect","aria-label":l("input.typefaceSelect.description",{fontFamily:f?.name}),isDisabled:!c||r,...t,variant:n,children:[f?f.name:l("input.fontSelect.fallback"),s?(0,eyb.jsx)(Ub,{}):(0,eyb.jsx)(Uy,{})]})}),({values:n})=>(0,eyb.jsx)(Ha.Options,{value:{typeface:f,font:h},onChange:n=>{n.font&&n.typeface&&d&&(t.block.setTypeface(d,n.font.uri,n.typeface),a("action.property.update"))},children:n.map(t=>(0,eyb.jsx)(eyv,{typeface:t.typeface,font:t.font},t.typeface.name))})]})})),eyw=SV(S$()),eyC=Xc(Jg(function({engine:t,block:n}){let{t:i}=qL(),r=YT(),s=r.feature.isEnabled("ly.img.text.typeface",{engine:t}),o=r.feature.isEnabled("ly.img.text.fontSize",{engine:t}),a=r.feature.isEnabled("ly.img.text.fontStyle",{engine:t}),l=t.block.isAllowedByScope(n,eex),c=eyp(n);return(0,eyw.jsxs)(eyw.Fragment,{children:[s&&(0,eyw.jsxs)(Qe,{children:[(0,eyw.jsx)(Uo,{isDisabled:!l,children:i("typography.typeface")}),(0,eyw.jsx)(eyA,{})]}),a&&(0,eyw.jsxs)(Qe,{children:[(0,eyw.jsx)(Uo,{isDisabled:!l,children:i("typography.style")}),(0,eyw.jsx)(eyi,{selectedFont:c?.font}),(0,eyw.jsxs)("div",{className:"UBQ_FontInput-module__fontStyleToggles--XOeir",children:[(0,eyw.jsx)(eyu,{type:"bold"}),(0,eyw.jsx)(eyu,{type:"italic"})]})]}),o&&(0,eyw.jsxs)(eyw.Fragment,{children:[(0,eyw.jsx)(Qe,{children:(0,eyw.jsx)(ex3,{})}),(0,eyw.jsx)(ex4,{})]})]})})),ey_=Jg(function({engine:t}){let[n]=t.block.findAllSelected();return null==n||"//ly.img.ubq/text"!==t.block.getType(n)?null:(0,eyw.jsx)(eyC,{block:n})}),eyS=SV(Sz()),eyk=SV(S$()),eyE=Jg(function({engine:t,children:n}){let[i]=t.block.findAllSelected();if(void 0===i)return null;let r="//ly.img.ubq/text"===t.block.getType(i),s=t.block.supportsBackgroundColor(i);return r&&s?n({selectedBlock:i}):null}),eyM=Jg(function({selectedBlock:t,inBar:n=!1,isDisabled:i=!1,engine:r}){let{t:s}=qL(),o=r.block.isBackgroundColorEnabled(t),a=(0,eyS.useCallback)(n=>r.block.setBackgroundColorEnabled(t,n),[t,r]),l=r.block.getColor(t,"backgroundColor/color"),c=(0,eyS.useMemo)(()=>Y_(l,r.editor),[l,r.editor]),u=(0,eyS.useCallback)(n=>r.block.setColor(t,"backgroundColor/color",n),[t,r]);return(0,eyk.jsx)(ecG,{name:"text-background-color","data-cy":"text-background-color",panelId:"//ly.img.panel/inspector/text/background/color",block:t,i18nLabelString:s("property.textBackground"),i18nDescriptionString:s("property.textBackground.description"),isPropertyEnabled:o,setIsPropertyEnabled:a,previewColor:c,color:l,setColor:u,inBar:n,isDisabled:i})}),eyI=Jg(function({selectedBlock:t,inBar:n=!1,isDisabled:i=!1,engine:r}){let s=KU(),{t:o}=qL(),a=Math.min(r.block.getFloat(t,"backgroundColor/paddingTop"),r.block.getFloat(t,"backgroundColor/paddingBottom"),r.block.getFloat(t,"backgroundColor/paddingLeft"),r.block.getFloat(t,"backgroundColor/paddingRight")),l=(0,eyS.useCallback)(n=>{r.block.setFloat(t,"backgroundColor/paddingTop",n),r.block.setFloat(t,"backgroundColor/paddingBottom",n),r.block.setFloat(t,"backgroundColor/paddingLeft",n),r.block.setFloat(t,"backgroundColor/paddingRight",n)},[t,r]),c=em9(),u=elv(r.scene.getDesignUnit()),d=r.block.getFloat(t,"backgroundColor/cornerRadius"),p=(0,eyS.useCallback)(n=>r.block.setFloat(t,"backgroundColor/cornerRadius",n),[t,r]),h=r.block.getFrameWidth(t),f=r.block.getFrameHeight(t);return(0,eyk.jsxs)(eyk.Fragment,{children:[(0,eyk.jsxs)(Qe,{children:[(0,eyk.jsx)(VP,{name:"text-background-padding-input",isDisabled:i,label:o("property.textBackground.padding"),children:t=>(0,eyk.jsx)(U6,{label:o("property.textBackground.padding.description"),children:(0,eyk.jsx)(Vz,{value:a,onChange:t=>{void 0!==t&&l(t)},onRelease:t=>{void 0!==t&&(l(t),s("action.property.update"))},min:0,maxFractionDigits:2,step:c,unitLabel:u,isDisabled:i,...t})})}),!n&&(0,eyk.jsx)(eam,{})]}),(0,eyk.jsxs)(Qe,{children:[(0,eyk.jsx)(er2,{name:"text-background-corner-radius",label:o("property.textBackground.cornerRadius"),value:d,onChange:t=>{p(t)},onRelease:()=>{s("action.property.update")},min:0,max:Math.min(h,f)/2+a,step:c,centeredZeroPosition:!1,isDisabled:i}),!n&&(0,eyk.jsx)(eam,{})]})]})}),eyT=Xc(Jg(({selectedBlock:t,inBar:n=!1,deniedByScopeBehavior:i="disable",engine:r})=>{let s=YT(),{t:o}=qL(),a=r.block.isBackgroundColorEnabled(t),l=s.feature.isEnabled("ly.img.text.background",{engine:r}),c=r.block.isAllowedByScope(t,eex),u=!c&&"disable"===i;return l&&(c||"hide"!==i)?(0,eyk.jsxs)(eyk.Fragment,{children:[(0,eyk.jsx)(eyM,{selectedBlock:t,inBar:n,isDisabled:u}),a&&(n?(0,eyk.jsxs)(N0,{children:[t=>(0,eyk.jsx)(U6,{label:o("property.textBackground.options.description"),children:(0,eyk.jsx)(DR,{name:"text-background-options","aria-label":o("property.textBackground.options.description"),variant:"plain",...t,children:(0,eyk.jsxs)(UU,{children:[(0,eyk.jsx)(QA,{}),(0,eyk.jsx)(Qv,{})]})})}),()=>(0,eyk.jsx)("div",{className:"UBQ_TextBackgroundControls-module__popoverContent--v-ouD",children:(0,eyk.jsx)(eyI,{selectedBlock:t,isDisabled:u})})]}):(0,eyk.jsx)(eyI,{selectedBlock:t,isDisabled:u}))]}):null})),eyB=Xc(function(){let{t:t}=qL(),n=YT();return n.feature.isEnabled("ly.img.text.background",{engine:n.engine})?(0,eyk.jsx)(ecx,{title:t("property.textBackground"),children:(0,eyk.jsx)(eyL,{inBar:!1,deniedByScopeBehavior:"disable"})}):null});function eyL(t){return(0,eyk.jsx)(eyE,{children:({selectedBlock:n})=>(0,eyk.jsx)(eyT,{selectedBlock:n,...t})})}var eyj=SV(S$()),eyP=Xc(function(){let{t:t}=qL(),n=Kb(),i=YT(),r=t=>i.feature.isEnabled(t,{engine:i.engine}),s=eic(),[o]=K1(s?.horizontalTextAlignment),a=["ly.img.text.typeface","ly.img.text.fontSize","ly.img.text.fontStyle","ly.img.text.alignment","ly.img.text.advanced"].some(r),l=r("ly.img.text.alignment"),c=["ly.img.text.typeface","ly.img.text.fontSize","ly.img.text.fontStyle"].some(r)||l,u=r("ly.img.text.advanced"),d=n.blocks["//ly.img.ubq/text"].advancedEnabled,p=Jv(eex);return(0,eyj.jsxs)(eyj.Fragment,{children:[(0,eyj.jsx)(egZ,{}),a&&(0,eyj.jsxs)(ecx,{title:t("input.character"),children:[(0,eyj.jsx)(ey_,{}),l&&(0,eyj.jsxs)(Qe,{children:[(0,eyj.jsx)(Uo,{isDisabled:!p,children:t("property.textAlignment.horizontal")}),(0,eyj.jsxs)(N8,{children:[(0,eyj.jsx)(egj,{name:"alignTextLeft",isActive:"Left"===o,icon:(0,eyj.jsx)(ex$,{}),tooltip:!0,i18nKey:"property.textAlignment.horizontal.left",disabled:!p,actionMethod:({engine:t})=>{s?.isValid&&t.block.setEnum(s.id,"text/horizontalAlignment","Left")}}),(0,eyj.jsx)(egj,{name:"alignTextHorizontalCenter",isActive:"Center"===o,icon:(0,eyj.jsx)(exq,{}),tooltip:!0,i18nKey:"property.textAlignment.horizontal.center",disabled:!p,actionMethod:({engine:t})=>{s?.isValid&&t.block.setEnum(s.id,"text/horizontalAlignment","Center")}}),(0,eyj.jsx)(egj,{name:"alignTextRight",isActive:"Right"===o,icon:(0,eyj.jsx)(exY,{}),tooltip:!0,i18nKey:"property.textAlignment.horizontal.Right",disabled:!p,actionMethod:({engine:t})=>{s?.isValid&&t.block.setEnum(s.id,"text/horizontalAlignment","Right")}})]})]}),u&&d&&c&&(0,eyj.jsx)(Hp,{}),u&&d&&(0,eyj.jsx)(Qe,{children:(0,eyj.jsx)(ese.Control,{})})]}),(0,eyj.jsx)(emf,{}),(0,eyj.jsx)(ego,{}),(0,eyj.jsx)(eyB,{}),(0,eyj.jsx)(ems,{}),(0,eyj.jsx)(ema,{}),(0,eyj.jsx)(eg0,{})]})}),eyR=SV(S$());function eyD({blockType:t}){return"//ly.img.ubq/audio"===t?(0,eyR.jsx)(exe,{}):"//ly.img.ubq/cutout"===t?(0,eyR.jsx)(exc,{}):"//ly.img.ubq/graphic"===t?(0,eyR.jsx)(eg2,{}):"//ly.img.ubq/group"===t?(0,eyR.jsx)(eg7,{}):"//ly.img.ubq/page"===t?(0,eyR.jsx)(exd,{}):"//ly.img.ubq/scene"===t?(0,eyR.jsx)(exz,{}):"//ly.img.ubq/text"===t?(0,eyR.jsx)(eyP,{}):null}var eyF={container:"UBQ_WelcomeInspector-module__container--1g3cE","white-label-logo":"UBQ_WelcomeInspector-module__white-label-logo--YuI6e",sectionblock:"UBQ_WelcomeInspector-module__sectionblock--gnll2",paragraphs:"UBQ_WelcomeInspector-module__paragraphs--6xS5e"},eyO=SV(S$()),eyN=function(){return(0,eyO.jsx)(H8,{className:eyF.sectionblock,classNameContent:eyF.sectioncontent,children:(0,eyO.jsx)("div",{className:eyF.container,children:(0,eyO.jsx)("div",{className:eyF.paragraphs,children:(0,eyO.jsx)(qI,{i18nKey:"component.welcome.text"})})})})},eyU=(SV(Sz()),SV(S$())),eyV=t=>(0,eyU.jsxs)("svg",{width:80,height:80,viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eyU.jsx)("circle",{opacity:.55,cx:27,cy:48,r:10.5,stroke:"currentColor",strokeOpacity:.9}),(0,eyU.jsx)("rect",{opacity:.55,x:43.5,y:44.5,width:19,height:19,rx:3.5,stroke:"currentColor",strokeOpacity:.9,strokeLinecap:"round",strokeLinejoin:"round"}),(0,eyU.jsx)("path",{opacity:.55,d:"M46.6832 17.4584C47.2517 16.4161 48.7483 16.4161 49.3168 17.4584L57.9478 33.2817C58.493 34.2813 57.7695 35.5 56.6309 35.5H39.3691C38.2305 35.5 37.507 34.2813 38.0522 33.2817L46.6832 17.4584Z",stroke:"currentColor",strokeOpacity:.9}),(0,eyU.jsx)("g",{opacity:.55,children:(0,eyU.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67 9C67 8.44772 67.4477 8 68 8H71C71.5523 8 72 8.44772 72 9V12C72 12.5523 71.5523 13 71 13H70V67H71C71.5523 67 72 67.4477 72 68V71C72 71.5523 71.5523 72 71 72H68C67.4477 72 67 71.5523 67 71V70H13V71C13 71.5523 12.5523 72 12 72H9C8.44772 72 8 71.5523 8 71V68C8 67.4477 8.44772 67 9 67H10V13H9C8.44772 13 8 12.5523 8 12V9C8 8.44772 8.44772 8 9 8H12C12.5523 8 13 8.44772 13 9V10H67V9ZM11 13H12C12.5523 13 13 12.5523 13 12V11H67V12C67 12.5523 67.4477 13 68 13H69V67H68C67.4477 67 67 67.4477 67 68V69H13V68C13 67.4477 12.5523 67 12 67H11V13Z",fill:"currentColor",fillOpacity:.9})})]}),eyH={dialog:"UBQ_BooleanOperationsErrorDialog-module__dialog--dfiOa",heading:"UBQ_BooleanOperationsErrorDialog-module__heading--6oMaL"};SV(Sz());var eyQ=SV(S$()),eyz=t=>(0,eyQ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eyQ.jsx)("path",{d:"M14 16C15.1046 16 16 15.1046 16 14V8H19C20.1046 8 21 8.89543 21 10V19C21 20.1046 20.1046 21 19 21H10C8.89543 21 8 20.1046 8 19V16H14Z",fill:"currentColor"}),(0,eyQ.jsx)("path",{d:"M3 5C3 3.89543 3.89543 3 5 3H14C15.1046 3 16 3.89543 16 5V8H10C8.89543 8 8 8.89543 8 10V16H5C3.89543 16 3 15.1046 3 14V5Z",fill:"currentColor"})]}),eyG=(SV(Sz()),SV(S$())),eyq=t=>(0,eyG.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eyG.jsx)("path",{d:"M10 8H14V14H8V10C8 8.89543 8.89543 8 10 8Z",fill:"currentColor"}),(0,eyG.jsx)("path",{d:"M8 18V19C8 20.1046 8.89543 21 10 21H19C20.1046 21 21 20.1046 21 19V10C21 8.89543 20.1046 8 19 8H18V10H19V19H10V18H8Z",fill:"currentColor"}),(0,eyG.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 5H5L5 14H14V5ZM5 3C3.89543 3 3 3.89543 3 5V14C3 15.1046 3.89543 16 5 16H14C15.1046 16 16 15.1046 16 14V5C16 3.89543 15.1046 3 14 3H5Z",fill:"currentColor"})]}),eyW=(SV(Sz()),SV(S$())),ey$=t=>(0,eyW.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eyW.jsx)("path",{d:"M14 18H8V19C8 20.1046 8.89543 21 10 21H19C20.1046 21 21 20.1046 21 19V10C21 8.89543 20.1046 8 19 8H18V14C18 16.2091 16.2091 18 14 18Z",fill:"currentColor"}),(0,eyW.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 5H5L5 14H14V5ZM5 3C3.89543 3 3 3.89543 3 5V14C3 15.1046 3.89543 16 5 16H14C15.1046 16 16 15.1046 16 14V5C16 3.89543 15.1046 3 14 3H5Z",fill:"currentColor"})]}),eyZ=(SV(Sz()),SV(S$())),eyY=t=>(0,eyZ.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eyZ.jsx)("path",{d:"M14 18H8V19C8 20.1046 8.89543 21 10 21H19C20.1046 21 21 20.1046 21 19V10C21 8.89543 20.1046 8 19 8H18V14C18 16.2091 16.2091 18 14 18Z",fill:"currentColor"}),(0,eyZ.jsx)("path",{d:"M3 5C3 3.89543 3.89543 3 5 3H14C15.1046 3 16 3.89543 16 5V14C16 15.1046 15.1046 16 14 16H5C3.89543 16 3 15.1046 3 14V5Z",fill:"currentColor"})]}),eyK=SV(IT()),eyX=SV(Sz());function eyJ(){let{t:t}=qL(),n=Ju(),i=Jh(n,t=>t.block.findAllSelected()),r=KU(),[s,o]=(0,eyX.useState)(0),a=n.block.isCombinable(i),l=i.every(t=>"//ly.img.ubq/cutout"===n.block.getType(t));return{operations:[{operation:"Union",label:t("input.booleanoperations.union"),icon:eyY},{operation:"Difference",label:t("input.booleanoperations.subtract"),icon:ey$},{operation:"Intersection",label:t("input.booleanoperations.intersect"),icon:eyq},{operation:"XOR",label:t("input.booleanoperations.exclude"),icon:eyz}],showBooleanOperations:l||a,clickHandler:(t,s={selectAfter:!1})=>{let a;if(l)a=function(t,n,i){let{ids:r,parentId:s}=function(t,n){var i;if(0===t.length)return{ids:[]};let r=function(t,n){let i={};return t.map(t=>{let r=n.block.getParent(t)||void 0,s=-1;return null!=r&&(null==i[r]&&(i[r]=n.block.getChildren(r)),s=(i[r]??[]).findIndex(n=>n===t)),{id:t,childIndex:s,parentId:r}})}(t,n),s=(i=r.map(({parentId:t})=>t).filter(Boolean)).sort((t,n)=>i.filter(n=>n===t).length-i.filter(t=>t===n).length).pop();return null==s?{ids:[]}:(r=r.filter(t=>null!=t.parentId&&t.parentId===s),{ids:(r=(0,eyK.default)(r,"childIndex")).map(t=>t.id),parentId:s})}(t,i);if(0===r.length||null==s)throw Error(`Invalid selected ids for boolean operation ${n}: ${r.join(",")}`);let o=i.block.createCutoutFromOperation(r,n);return r.forEach(t=>i.block.destroy(t)),i.block.appendChild(s,o),o}(i,t,n);else try{a=n.block.combine(i,t)}catch(n){let t=n.message;if(t.includes("Result is an empty shape."))o(1);else if(t.includes("Union has no visible effect."))o(2);else{if(!t.includes("Difference has no visible effect."))throw n;o(3)}return}s.selectAfter&&void 0!==a&&n.block.setSelected(a,!0),r("input.booleanoperations")},error:s,dismissError:()=>o(0)}}var ey0=SV(S$()),ey1=(t,n)=>{switch(n){case 1:return{header:t("error.booleanOperation.emptyShape"),description:t("error.booleanOperation.emptyShape.description")};case 2:return{header:t("error.booleanOperation.effectlessUnion"),description:t("error.booleanOperation.effectlessUnion.description")};default:return{header:t("error.booleanOperation.effectlessDifference"),description:t("error.booleanOperation.effectlessDifference.description")}}};function ey2({error:t,dismissError:n}){let{t:i}=qL(),{header:r,description:s}=ey1(i,t);return(0,ey0.jsx)(N$,{children:(0,ey0.jsxs)(HF,{show:0!==t,"aria-label":"error description",type:"warning",className:eyH.dialog,onClose:n,footer:(0,ey0.jsx)(HF.Footer,{children:(0,ey0.jsx)(DR,{name:"boolean-operations-error-close",onClick:n,children:i("common.close")})}),children:[(0,ey0.jsx)(Jz,{level:1,className:eyH.heading,children:r}),(0,ey0.jsx)("p",{children:s})]})})}var ey3=SV(S$()),ey5=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),{a11y:r}=JH(),{operations:s,showBooleanOperations:o,clickHandler:a,error:l,dismissError:c}=eyJ(),u=i.feature.isEnabled("ly.img.combine",{engine:t});return o&&u?(0,ey3.jsxs)(ey3.Fragment,{children:[(0,ey3.jsx)(H8,{title:n("input.booleanoperations"),headingLevel:2,headingStart:r.headingsHierarchyStart,children:(0,ey3.jsx)(Qe,{children:s.map(({operation:t,label:n,icon:i})=>(0,ey3.jsx)(U6,{label:n,children:(0,ey3.jsx)(DR,{name:t,icon:(0,ey3.jsx)(i,{}),onClick:()=>{a(t)}})},t))})}),(0,ey3.jsx)(ey2,{error:l,dismissError:c})]}):null})),ey4=(SV(Sz()),SV(S$())),ey6=t=>(0,ey4.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ey4.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.625C4.5 6.34683 6.34683 4.5 8.625 4.5C10.9032 4.5 12.75 6.34683 12.75 8.625C12.75 10.9032 10.9032 12.75 8.625 12.75C6.34683 12.75 4.5 10.9032 4.5 8.625ZM8.625 11.25C7.17525 11.25 6 10.0747 6 8.625C6 7.17525 7.17525 6 8.625 6C10.0747 6 11.25 7.17525 11.25 8.625C11.25 10.0747 10.0747 11.25 8.625 11.25Z",fill:"currentColor"}),(0,ey4.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4258 10.3101C15.5703 10.0608 15.9303 10.0608 16.0748 10.3102L20.2024 17.4371C20.3472 17.6871 20.1668 18 19.8779 18H11.6209C11.332 18 11.1516 17.687 11.2964 17.437L15.4258 10.3101ZM13.5729 16.5L15.75 12.7425L17.9263 16.5H13.5729Z",fill:"currentColor"}),(0,ey4.jsx)("path",{d:"M1.5 3C1.5 3.82843 2.17157 4.5 3 4.5C3.82843 4.5 4.5 3.82843 4.5 3C4.5 2.17157 3.82843 1.5 3 1.5C2.17157 1.5 1.5 2.17157 1.5 3Z",fill:"currentColor"}),(0,ey4.jsx)("path",{d:"M19.5 3C19.5 3.82843 20.1716 4.5 21 4.5C21.8284 4.5 22.5 3.82843 22.5 3C22.5 2.17157 21.8284 1.5 21 1.5C20.1716 1.5 19.5 2.17157 19.5 3Z",fill:"currentColor"}),(0,ey4.jsx)("path",{d:"M3 22.5C2.17157 22.5 1.5 21.8284 1.5 21C1.5 20.1716 2.17157 19.5 3 19.5C3.82843 19.5 4.5 20.1716 4.5 21C4.5 21.8284 3.82843 22.5 3 22.5Z",fill:"currentColor"}),(0,ey4.jsx)("path",{d:"M19.5 21C19.5 21.8284 20.1716 22.5 21 22.5C21.8284 22.5 22.5 21.8284 22.5 21C22.5 20.1716 21.8284 19.5 21 19.5C20.1716 19.5 19.5 20.1716 19.5 21Z",fill:"currentColor"})]}),ey8=SV(S$()),ey7=Xc(function({isDisabled:t,asCanvasAction:n,className:i,variant:r="plain",name:s="group",centered:o}){let a=Ju(),{hasMultiSelection:l,selectedDesignElementsIds:c}=K2(),{focusElement:u}=JC(),d=Jy("ui/group"),p=a.block.isGroupable(c),{t:h}=qL(),f=h("action.group"),m=KU(),g=YT().feature.isEnabled("ly.img.group",{engine:a});return l&&d&&p&&g?(0,ey8.jsx)(DR,{className:i,icon:(0,ey8.jsx)(ey6,{}),name:s,"aria-label":f,isDisabled:t,variant:r,centered:o,onClick:()=>{u(a.block.group(c)),m("action.group")},"data-ubq-action":n?eeE:void 0,children:f}):null}),ey9=SV(S$()),eve=Xc(function(){let t=Ju(),n=YT(),{t:i}=qL(),r="Design"===t.scene.getMode(),s=n.feature.isEnabled("ly.img.group",{engine:t}),o=n.feature.isEnabled("ly.img.position",{engine:t});return(0,ey9.jsxs)("div",{className:eek,children:[o&&(0,ey9.jsx)(H8,{title:i("input.layer"),children:(0,ey9.jsx)(egD,{})}),(0,ey9.jsx)(ey5,{}),r&&s&&(0,ey9.jsx)(H8,{title:i("input.selection"),children:(0,ey9.jsx)(Qe,{children:(0,ey9.jsx)(ey7,{variant:"regular",centered:!0})})}),(0,ey9.jsxs)("div",{className:"UBQ_Inspector-module__multiSelectionNotice--IqLzG",children:[(0,ey9.jsx)(eyV,{}),(0,ey9.jsx)("p",{children:i("input.multiSelection.notice")})]})]})}),evt=SV(S$()),evn=Xc(Jg(function({engine:t}){let n=Kv(),{viewStyle:i}=Kb(),r=(()=>{let t=(0,YE.useContext)(YI);if(null==t||null==t.container)throw Error("Context with editor container not initialized");return t.container})(),s=(0,emi.useRef)(null),o=t.block.findAllSelected(),a=0===o.length?t.scene.get():o[0],l=0===o.length,c=o.length>1;NI(["esc"],()=>{a&&eeI(n,r,a)},{elementRef:s});let u=Jy("ui/inspectScene");return null==a||!u&&l&&"default"===i?null:!u&&l?(0,evt.jsx)("div",{className:eek,ref:s,children:(0,evt.jsx)(eyN,{})}):c?(0,evt.jsx)(eve,{}):(0,evt.jsx)("div",{className:eek,ref:s,children:(0,evt.jsx)(eyD,{blockType:t.block.getType(a)},a)})})),evi=SV(Sz()),evr=SV(S$()),evs=function({name:t,setName:n,onClose:i,"aria-labelledby":r}){let[s,o]=(0,evi.useState)(t),a=(0,evi.useRef)(null);return NI(["esc"],()=>{i()},{elementRef:a}),NI(["enter"],t=>{t.preventDefault(),n(s),i()},{elementRef:a}),(0,evr.jsx)(OC,{focusTrapOptions:{escapeDeactivates:!1},children:(0,evr.jsx)("span",{className:"UBQ_InspectorPanelNameInput-module__renameTextInput--0xrWE",children:(0,evr.jsx)(ND,{onClickOutside:t=>{t.isOutside(a.current)&&i()},children:(0,evr.jsx)(Va,{ref:a,name:"rename-design-element-input",value:s,onChange:o,placeholder:t,"aria-labelledby":r})})})})},evo={renameButton:"UBQ_InspectorPanel-module__renameButton---BwuO"},eva=SV(S$()),evl="ubq-headline_label";function evc({name:t,setMode:n}){let{t:i}=qL();return(0,eva.jsx)(U6,{label:i("input.rename",{designElementName:t}),children:(0,eva.jsx)(DR,{className:evo.renameButton,name:"rename-design-element",onClick:()=>{n("edit")},"aria-label":i("input.rename",{designElementName:t}),"data-cy":"rename-design-element",variant:"plain",children:(0,eva.jsx)(emt,{})})})}var evu=Xc(Jg(function({engine:t,...n}){let i=YT(),{t:r}=qL(),[s]=Jc(),o=KU(),{focusDocument:a}=JC(),l=Jy("editor/inspect"),c=Jy("ui/placeholder"),u=i.feature.isEnabled("ly.img.placeholder",{engine:t}),d=Jy("ui/inspectScene"),[p,h]=(0,emn.useState)("display"),{inspectorEnabled:f,viewStyle:m}=Kb();if(!f||!l||null==t.scene.get())return null;let g=t.block.findAllSelected(),x=0===g.length,y=1===g.length,v="",b=!0;if(0===g.length&&(v=d?r("block.scene"):"",b=!1),g.length>1&&(v=r("input.multiSelection.title",{count:g.length}),b=!1),y){let[n]=g;if(""===(v=t.block.getName(n)))switch(t.block.getType(n)){case"//ly.img.ubq/page":v=r("block.page");break;case"//ly.img.ubq/group":v=r("block.group");break;case"//ly.img.ubq/audio":v=r("block.audio");break;case"//ly.img.ubq/text":v=r("block.text");break;case"//ly.img.ubq/cutout":v=r("block.cutout");break;case"//ly.img.ubq/graphic":v=r("block.graphic");break;default:v=""}}let A=g.map(n=>t.block.getType(n)),w=!!y&&t.block.isPlaceholderEnabled(g[0]),C=`${s}_${g.join("_")}`;return(0,eva.jsxs)(erK,{id:"//ly.img.panel/inspector",group:"inspector",show:"advanced"===m||void 0,closable:"default"===m||!x,focusTrapActive:!1,onClose:()=>{x||"advanced"!==m||(t.block.findAllSelected().forEach(n=>t.block.setSelected(n,!1)),a())},children:[(0,eva.jsx)(erK.Header,{action:y&&c&&u&&elu.includes(A[0])&&(0,eva.jsx)(elx.Button,{tooltip:w?r("component.placeholder.settings"):void 0,children:!w&&r("component.placeholder.create")}),overlay:"edit"===p&&(0,eva.jsx)(evs,{name:v,setName:n=>{if(y){let[i]=g;t.block.setName(i,n),o("action.block.rename")}},onClose:()=>{h("display")},"aria-labelledby":evl}),children:(0,eva.jsx)(erK.Title,{action:b&&(0,eva.jsx)(evc,{name:v,setMode:h}),children:(0,eva.jsx)("span",{id:evl,onDoubleClick:()=>{h("edit")},children:v})})}),(0,eva.jsx)(erK.Content,{children:(0,eva.jsx)(evn,{...n},C)})]})})),evd=SV(SH()),evp=SV(Sz()),evh=SV(S$()),evf=function({value:t,onChange:n,defaultValue:i,...r}){let[s,o]=G5({prop:t,onChange:n,defaultProp:i});return(0,evh.jsx)(VO,{value:s,onChange:o,...r})},evm=SV(S$()),evg=function({value:t,onChange:n,defaultValue:i,...r}){let[s,o]=G5({prop:t,onChange:n,defaultProp:i});return(0,evm.jsx)(Va,{value:s,onChange:o,...r})},evx={block:"UBQ_PanelBuilder-module__block--T3ctJ",dropdownContent:"UBQ_PanelBuilder-module__dropdownContent--0Brv4",textParagraph:"UBQ_PanelBuilder-module__textParagraph--YANJ7",alignCenter:"UBQ_PanelBuilder-module__alignCenter--k6Qmn",alignRight:"UBQ_PanelBuilder-module__alignRight--qMRvG"},evy=SV(S$()),evv=function({children:t,inputLabelPosition:n,inputLabel:i,isDisabled:r,withoutSectionElements:s,withSectionBlock:o}){return s?(0,evy.jsx)(evy.Fragment,{children:t}):null==i?o?(0,evy.jsx)(Qi,{children:t}):(0,evy.jsx)(Qe,{children:t}):"top"===n?(0,evy.jsxs)(Qi,{children:[(0,evy.jsx)(Uo,{isDisabled:r,children:i}),t]}):(0,evy.jsxs)(Qe,{children:[(0,evy.jsx)(Uo,{isDisabled:r,children:i}),t]})},evb=SV(S$()),evA=class extends en4{constructor(t,n,i,r){super("PanelBuilder",t,n,i,r)}Section=(t,{title:n,children:i})=>{let r=this._translateLabel(n),s=this._pushChildren("Section",i);this._push({id:t,type:"Section",focusable:!1,node:(0,evb.jsx)(H8,{title:r,children:evp.default.createElement(evp.default.Fragment,null,...s.map(({node:t})=>t))})})};Button=(t,{label:n,inputLabel:i,tooltip:r,onClick:s,icon:o,...a})=>{let l=this._translateLabel(n),c=this._translateLabel(i),u=this._translateLabel(r),d="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Button",focusable:!a.isDisabled,node:(0,evb.jsx)(evv,{inputLabel:c,inputLabelPosition:a.inputLabelPosition,isDisabled:a.isDisabled,withoutSectionElements:d,children:(0,evb.jsx)(U5,{showTooltip:null!=u,label:u??"",children:(0,evb.jsx)(DR,{"aria-label":l,name:`${this.name}-Button-${t}`,onClick:s,centered:!0,variant:a.variant??"regular",color:a.color,size:a.size,isActive:a.isActive,isSelected:a.isSelected,isDisabled:a.isDisabled,isLoading:a.isLoading,loadingProgress:a.loadingProgress,icon:null!=o?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:o}):void 0,children:l})})})})};ButtonGroup=(t,{children:n,inputLabel:i,...r})=>{let s=this._translateLabel(i),o=this._pushChildren("ButtonGroup",n).filter(t=>!!["Button","Dropdown","Select"].includes(t.type)),a=!o.some(({focusable:t})=>t);this._push({id:t,type:"ButtonGroup",focusable:a,node:(0,evb.jsx)(evv,{inputLabel:s,inputLabelPosition:r.inputLabelPosition,children:(0,evb.jsx)(N8,{children:o.map(({id:t,node:n})=>(0,evb.jsx)(evp.Fragment,{children:n},t))})})})};Checkbox=(t,{inputLabel:n,icon:i,...r})=>{let s=this._translateLabel(n);this._push({id:t,type:"Checkbox",focusable:!r.isDisabled,node:(0,evb.jsx)(Qe,{children:(0,evb.jsx)(Ud,{label:s??"",name:`${this.name}-Checkbox-${t}`,labelPosition:r.inputLabelPosition,checked:r.value,isDisabled:r.isDisabled,onChange:r.setValue,icon:null!=i?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:i}):void 0})})})};Dropdown=(t,{label:n,inputLabel:i,tooltip:r,icon:s,children:o,...a})=>{let l=this._translateLabel(n),c=this._translateLabel(i),u=this._translateLabel(r),d="ButtonGroup"===this._currentNesting,p=()=>{},h={close:()=>{p()}},f=this._pushChildren("Dropdown",o?()=>o(h):void 0),m=!f.some(({focusable:t})=>t);this._push({id:t,type:"Dropdown",focusable:!a.isDisabled,node:(0,evb.jsxs)(N0,{placement:"bottom",disableFocusTrap:m,children:[(n,{isOpen:i})=>(0,evb.jsx)(evv,{inputLabel:c,inputLabelPosition:a.inputLabelPosition,isDisabled:a.isDisabled,withoutSectionElements:d,children:(0,evb.jsx)(U5,{showTooltip:null!=u,label:u??"",children:(0,evb.jsxs)(DR,{name:`${this.name}-Dropdown-${t}`,variant:a.variant??"regular",color:a.color,size:a.size,isLoading:a.isLoading,loadingProgress:a.loadingProgress,...n,className:evx.block,isDisabled:0===f.length||a.isDisabled,icon:null!=s?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:s}):void 0,children:[l,i?(0,evb.jsx)(Ub,{}):(0,evb.jsx)(Uy,{})]})})}),({closePopover:n})=>(p=n,(0,evb.jsx)("ul",{className:evx.dropdownContent,children:f.map(({id:n,node:i,type:r})=>"Separator"===r?(0,evb.jsx)(evp.Fragment,{children:i},t):(0,evb.jsx)("li",{children:i},n))}))]})})};MediaPreview=(t,{size:n,preview:i,action:r})=>{let s,o;if(r){let{label:n,onClick:i,icon:o,...a}=r,l=this._translateLabel(n);s=(0,evb.jsx)(Or.Edge.BottomRight,{children:(0,evb.jsx)(zG.InteractionElement,{name:`media-preview-action-${t}`,icon:null!=r.icon?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:o}):void 0,onClick:r.onClick,...a,children:l})})}i&&("image"===i.type?o=(0,evb.jsx)(zG.Background.Image,{url:i.uri,checkered:!0}):"color"===i.type&&(o=(0,evb.jsx)(zG.Background.Color,{color:i.color}))),this._push({id:t,type:"MediaPreview",focusable:null!=r&&!r.isDisabled,node:(0,evb.jsx)(Qi,{children:(0,evb.jsx)(zZ,{children:(0,evb.jsxs)(zG,{size:n,children:[(0,evb.jsx)(Or.Edge,{children:(0,evb.jsx)(zZ.Overlay,{children:s})}),o]})})})})};TextArea=(t,{inputLabel:n,isDisabled:i,value:r,setValue:s})=>{let o=this._translateLabel(n);this._push({id:t,type:"TextArea",focusable:!i,node:(0,evb.jsx)(evv,{inputLabel:o,inputLabelPosition:"top",isDisabled:i,withSectionBlock:!0,children:(0,evb.jsx)(evf,{disabled:i,value:r,onChange:s,id:t,name:`${this.name}-TextArea-${t}`})})})};TextInput=(t,{inputLabel:n,inputLabelPosition:i,isDisabled:r,value:s,setValue:o})=>{let a=this._translateLabel(n);this._push({id:t,type:"TextInput",focusable:!r,node:(0,evb.jsx)(evv,{inputLabel:a,inputLabelPosition:i,isDisabled:r,children:(0,evb.jsx)(evg,{id:t,name:`${this.name}-TextInput-${t}`,disabled:r,value:s,onChange:o})})})};Slider=(t,{inputLabel:n,inputLabelPosition:i,isDisabled:r,value:s,setValue:o,min:a,max:l,step:c,centered:u=!1})=>{let d=this._translateLabel(n);this._push({id:t,type:"Slider",focusable:!r,node:(0,evb.jsx)(evv,{inputLabel:d,inputLabelPosition:i,isDisabled:r,children:(0,evb.jsx)(er1,{id:t,name:`${this.name}-Slider-${t}`,label:d??"",disabled:r,value:s,min:a,max:l,step:c,centeredZeroPosition:u,onChange:o})})})};NumberInput=(t,{inputLabel:n,inputLabelPosition:i,isDisabled:r,value:s,setValue:o,min:a,max:l,step:c})=>{let u=this._translateLabel(n);this._push({id:t,type:"NumberInput",focusable:!r,node:(0,evb.jsx)(evv,{inputLabel:u,inputLabelPosition:i,isDisabled:r,children:(0,evb.jsx)(Vz,{name:`${this.name}-NumberInput-${t}`,disabled:r,value:s,onChange:o,min:a,max:l,step:c})})})};ColorInput=(t,{label:n,inputLabel:i,inputLabelPosition:r,isDisabled:s,value:o,setValue:a})=>{let l=this._translateLabel(n),c=this._translateLabel(i);this._push({id:t,type:"ColorInput",focusable:!s,node:(0,evb.jsx)(evv,{inputLabel:c,inputLabelPosition:r,isDisabled:s,children:(0,evb.jsx)(ecc,{name:`${this.name}-ColorInput-${t}`,mode:"default",isDisabled:s,label:l??"",showHeader:null!=l,"aria-label":l??"",color:o,setColor:a})})})};Library=(t,{entries:n,searchable:i,onSelect:r})=>{this._push({id:t,type:"Library",focusable:!0,node:(0,evb.jsx)("div",{children:(0,evb.jsxs)(eao,{entries:eab(n,this._engine),assetPanelOpen:!1,children:[i&&(0,evb.jsx)(eao.Search,{}),(0,evb.jsx)(eao.Content,{onSelect:async t=>{r?await r(t):await this._engine.asset.apply(t.context.sourceId,t)}})]})})})};Select=(t,{inputLabel:n,tooltip:i,value:r,setValue:s,values:o,isDisabled:a,isLoading:l,loadingProgress:c,inputLabelPosition:u})=>{let d=this._translateLabel(n),p=this._translateLabel(i),h="ButtonGroup"===this._currentNesting;this._push({id:t,type:"Select",focusable:!a,node:(0,evb.jsx)(evv,{inputLabel:d,inputLabelPosition:u,isDisabled:a,withoutSectionElements:h,children:(0,evb.jsxs)(Ha,{children:[(n,{isOpen:i})=>(0,evb.jsx)(U5,{showTooltip:null!=p,label:p??"",children:(0,evb.jsxs)(DR,{name:`${this.name}-Select-${t}`,isDisabled:a,isLoading:l,loadingProgress:c,icon:null!=r.icon?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:r.icon}):void 0,...n,children:[this._translateLabel(r.label),i?(0,evb.jsx)(Ub,{}):(0,evb.jsx)(Uy,{})]})}),()=>(0,evb.jsx)(Ha.Options,{value:r,onChange:t=>{s(t)},children:o.map(t=>(0,evb.jsx)(Ha.Option,{value:t,icon:null!=t.icon?(0,evb.jsx)(en1,{iconSize:"normal",customIcon:t.icon}):void 0,children:this._translateLabel(t.label)},t.id))})]})})})};Heading=(t,{content:n})=>{let i=this._t(n,{defaultValue:n}),r=0;this._nestingEnvironment.forEach(t=>{"Section"===t&&r++});let s=Math.min(1+r,6);this._push({id:t,type:"Heading",focusable:!1,node:(0,evb.jsx)(Jz,{level:s,className:evx.heading,children:i})})};Text=(t,{content:n,align:i})=>{let r=this._t(n,{defaultValue:n});this._push({id:t,type:"Text",focusable:!1,node:(0,evb.jsx)("p",{className:(0,evd.default)(evx.textParagraph,{[evx.alignLeft]:"left"===i,[evx.alignCenter]:"center"===i,[evx.alignRight]:"right"===i}),children:r})})}},evw=SV(S$()),evC=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=KA();return(0,evw.jsx)(evw.Fragment,{children:Object.entries(i.registeredPanels).map(([i,r])=>{if("react"===r.type){let t=r.component;return(0,evw.jsx)(t,{},i)}let s=n(`panel.${i}`);return(0,evw.jsxs)(erK,{id:i,focusTrapActive:!1,children:[(0,evw.jsx)(erK.Header,{children:(0,evw.jsx)(erK.Title,{children:s})}),(0,evw.jsx)(erK.Content,{children:(0,evw.jsx)(QV,{fallback:t=>(0,evw.jsx)(efJ,{error:t}),children:(0,evw.jsx)(enV,{builderRenderFunction:r.render,createBuilder:r=>new evA(r,n,{componentId:i},t)})})})]},i)})})})),ev_=SV(Sz()),evS=SV(S$()),evk=Xc(Jg(function({engine:t}){let n;let i=YB(),r=KU(),{t:s}=qL(),{assetLibraryPanelReplaceAutoClose:o}=Kb(),{focusElement:a,focusSelectedElementOrDocument:l}=JC(),c=ehR(),u=Jy("ui/placeholder"),d=YT(),p="//ly.img.panel/assetLibrary.replace",[h]=efH(p);KV("action.video.replace",()=>{o()&&d.ui.closePanel(p)}),KV("action.audio.replace",()=>{o()&&d.ui.closePanel(p)}),KV("action.image.replace",()=>{o()&&d.ui.closePanel(p)});let[f,m]=(0,ev_.useState)(null),g=t.block.findAllSelected()[0],x=null!=g?t.block.getType(g):void 0,y=null!=g&&t.block.hasFill(g)?t.block.getFill(g):void 0,v=null!=y&&t.block.isValid(y)?t.block.getType(y):void 0;if(null==g)return null;switch(!0){case"//ly.img.ubq/fill/video"===v:n=s("action.video.replace");break;case"//ly.img.ubq/audio"===x:n=s("action.audio.replace");break;case"//ly.img.ubq/fill/image"===v:n=s("action.image.replace");break;default:n=s("common.replace")}return(0,evS.jsxs)(evS.Fragment,{children:[(0,evS.jsx)(efU,{panelId:p,group:"assetLibrary",title:n,onClose:()=>{l()},children:({isOpen:n,setIsOpen:l})=>(0,evS.jsxs)(eao,{entries:c,assetPanelOpen:n,children:[(0,evS.jsx)(eao.Search,{placeholder:s("component.library.searchPlaceholder")}),(0,evS.jsx)(eao.Content,{onSelect:async n=>{let c;if(g){switch(!0){case"//ly.img.ubq/fill/video"===v:c="action.video.replace";break;case"//ly.img.ubq/audio"===x:c="action.audio.replace";break;case"//ly.img.ubq/fill/image"===v:c="action.image.replace",void 0===n.meta?.blockType&&(n.meta={...n.meta,blockType:"//ly.img.ubq/graphic",fillType:"//ly.img.ubq/fill/image"})}if(n.meta?.uri){o()&&(l(!1),a(g));let r=n.context.sourceId;try{await t.asset.applyToBlock(r,n,g),u||t.block.setPlaceholderEnabled(g,!1)}catch(t){t instanceof Error&&i.log(t.message,"Error"),m({heading:s("error.replaceAsset"),description:s("error.replaceAsset.description")})}}c&&r(c)}},includeTypes:["ly.img.image"],onUpload:h})]})}),(0,evS.jsx)(efO,{error:f,onClose:()=>{m(null)}})]})})),evE=SV(Sz());function evM(t){return null==t?{show:!1}:"boolean"==typeof t?{show:t}:{...t,show:null==t.show||t.show}}var evI=function(t,n){let i=evM(n.ui.elements?.panels?.inspector);t.ui.setPanelFloating("//ly.img.panel/inspector",i.floating??ZY.floating),t.ui.setPanelPosition("//ly.img.panel/inspector",i.position??ZY.position);let r=evM(n.ui.elements?.panels?.assetLibrary);t.ui.setPanelFloating("//ly.img.panel/assetLibrary",n?.ui?.elements?.libraries?.insert?.floating??!1),t.ui.setPanelFloating("//ly.img.panel/assetLibrary.replace",n?.ui?.elements?.libraries?.replace?.floating??!1),t.ui.setPanelPosition("//ly.img.panel/assetLibrary",r.position??ZK.position),t.ui.setPanelPosition("//ly.img.panel/assetLibrary.replace",r.position??ZK.position),t.ui.setPanelFloating("//ly.img.panel/settings",!1),t.ui.setPanelPosition("//ly.img.panel/settings",()=>"left"===t.ui.getPanelPosition("//ly.img.panel/inspector")?"right":"left"),t.ui.setPanelFloating("//ly.img.panel/inspector/placeholderSettings",!1),t.ui.setPanelPosition("//ly.img.panel/inspector/placeholderSettings",()=>t.ui.getPanelPosition("//ly.img.panel/inspector")),t.ui.setPanelFloating("//ly.img.panel/inspector/editColor",!0),t.ui.setPanelPosition("//ly.img.panel/inspector/editColor",()=>t.ui.getPanelPosition("//ly.img.panel/inspector")),t.ui.setPanelFloating("//ly.img.panel/inspector/colorLibrary",!1),t.ui.setPanelPosition("//ly.img.panel/inspector/colorLibrary",()=>t.ui.getPanelPosition("//ly.img.panel/inspector"))},evT=(SV(Sz()),SV(S$())),evB=t=>(0,evT.jsxs)("svg",{width:120,height:25,viewBox:"0 0 120 25",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,evT.jsx)("path",{d:"M12.992 24.704C9.32267 24.704 6.336 23.5947 4.032 21.376C1.728 19.136 0.576 16.2773 0.576 12.8C0.576 9.32267 1.728 6.47467 4.032 4.256C6.336 2.016 9.32267 0.895998 12.992 0.895998C16.4907 0.895998 19.3067 1.71733 21.44 3.36C23.5733 5.00267 24.7787 7.28533 25.056 10.208H18.016C17.7813 9.16267 17.2267 8.34133 16.352 7.744C15.4773 7.12533 14.368 6.816 13.024 6.816C11.296 6.816 9.94133 7.34933 8.96 8.416C8 9.48267 7.52 10.944 7.52 12.8C7.52 14.656 8 16.1173 8.96 17.184C9.94133 18.2507 11.296 18.784 13.024 18.784C14.368 18.784 15.4773 18.4853 16.352 17.888C17.2267 17.2693 17.7813 16.4373 18.016 15.392H25.056C24.7787 18.3147 23.5733 20.5973 21.44 22.24C19.3067 23.8827 16.4907 24.704 12.992 24.704ZM27.484 24V1.6H41.884V6.592H34.14V10.496H41.884V15.264H34.14V19.008H41.884V24H27.484ZM64.327 24.704C61.4043 24.704 59.1003 24 57.415 22.592C55.751 21.1627 54.919 19.1893 54.919 16.672H61.575C61.575 17.632 61.8203 18.3893 62.311 18.944C62.823 19.4987 63.527 19.776 64.423 19.776C65.9163 19.776 66.663 19.1573 66.663 17.92C66.663 17.408 66.503 17.0027 66.183 16.704C65.863 16.384 65.319 16.0747 64.551 15.776L60.103 14.144C56.903 12.9493 55.303 10.8373 55.303 7.808C55.303 5.71733 56.0817 4.04267 57.639 2.784C59.2177 1.52533 61.3617 0.895998 64.071 0.895998C66.8017 0.895998 68.9777 1.536 70.599 2.816C72.2417 4.096 73.063 5.84533 73.063 8.064H66.407C66.407 7.232 66.1937 6.592 65.767 6.144C65.3617 5.67467 64.775 5.44 64.007 5.44C63.3883 5.44 62.8977 5.58933 62.535 5.888C62.1723 6.18667 61.991 6.60267 61.991 7.136C61.991 7.584 62.1723 7.97867 62.535 8.32C62.8977 8.64 63.5377 8.97067 64.455 9.312L68.551 10.88C71.7297 12.1173 73.319 14.272 73.319 17.344C73.319 19.6053 72.5083 21.3973 70.887 22.72C69.2657 24.0427 67.079 24.704 64.327 24.704ZM75.9215 24V1.6H85.1695C88.6255 1.6 91.4202 2.66667 93.5535 4.8C95.7082 6.93333 96.7855 9.6 96.7855 12.8C96.7855 16 95.7082 18.6667 93.5535 20.8C91.4202 22.9333 88.6255 24 85.1695 24H75.9215ZM82.5775 18.56H84.5935C86.2148 18.56 87.4948 18.016 88.4335 16.928C89.3935 15.8187 89.8735 14.4427 89.8735 12.8C89.8735 11.1573 89.3935 9.792 88.4335 8.704C87.4948 7.59467 86.2148 7.04 84.5935 7.04H82.5775V18.56ZM120.001 1.6L112.033 12.736L120.001 24H112.353L105.953 14.272V24H99.2965V1.6H105.953V11.328L112.353 1.6H120.001Z",fill:"currentColor"}),(0,evT.jsx)("path",{d:"M49.0323 24.416C47.9869 24.416 47.1123 24.064 46.4083 23.36C45.7043 22.6347 45.3523 21.7813 45.3523 20.8C45.3523 19.8187 45.7043 18.976 46.4083 18.272C47.1123 17.568 47.9869 17.216 49.0323 17.216C50.0563 17.216 50.9203 17.568 51.6243 18.272C52.3283 18.976 52.6803 19.8187 52.6803 20.8C52.6803 21.7813 52.3283 22.6347 51.6243 23.36C50.9203 24.064 50.0563 24.416 49.0323 24.416Z",fill:"#AD00FF"})]}),evL=(SV(Sz()),SV(S$())),evj=t=>(0,evL.jsxs)("svg",{width:58,height:13,viewBox:"0 0 58 13",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,evL.jsx)("path",{d:"M0.992 12V0.799999H4.32V12H0.992ZM6.3045 12V0.799999H10.5285L12.9125 8.112L15.2805 0.799999H19.4085V12H16.2085V4.896L14.1605 12H11.6965L9.5045 4.864V12H6.3045ZM33.5583 5.84V8.096H32.6783C32.3689 9.46133 31.7076 10.512 30.6943 11.248C29.6916 11.984 28.3849 12.352 26.7743 12.352C24.9716 12.352 23.5049 11.7973 22.3743 10.688C21.2543 9.57867 20.6943 8.16 20.6943 6.432C20.7049 4.68267 21.2703 3.248 22.3903 2.128C23.5209 1.008 25.0356 0.447999 26.9343 0.447999C28.5663 0.447999 29.8996 0.810666 30.9343 1.536C31.9796 2.26133 32.5449 3.20533 32.6303 4.368H29.0143C28.9289 3.99467 28.6996 3.696 28.3263 3.472C27.9636 3.23733 27.5049 3.12 26.9503 3.12C26.0649 3.12 25.3769 3.41333 24.8863 4C24.4063 4.576 24.1663 5.34933 24.1663 6.32C24.1663 7.26933 24.4169 8.04267 24.9183 8.64C25.4196 9.22667 26.0863 9.52 26.9183 9.52C28.1556 9.52 28.9343 9.04533 29.2543 8.096H27.4143V5.84H33.5583ZM40.0701 12V0.799999H43.3981V9.136H47.2061V12H40.0701ZM53.7785 0.799999H57.4905L51.9385 12H48.2105L50.1305 8.064L46.3705 0.799999H50.2905L52.0665 4.8L53.7785 0.799999Z",fill:"currentColor"}),(0,evL.jsx)("path",{d:"M36.4068 12.208C35.8841 12.208 35.4468 12.032 35.0948 11.68C34.7428 11.3173 34.5668 10.8907 34.5668 10.4C34.5668 9.90933 34.7428 9.488 35.0948 9.136C35.4468 8.784 35.8841 8.608 36.4068 8.608C36.9188 8.608 37.3508 8.784 37.7028 9.136C38.0548 9.488 38.2308 9.90933 38.2308 10.4C38.2308 10.8907 38.0548 11.3173 37.7028 11.68C37.3508 12.032 36.9188 12.208 36.4068 12.208Z",fill:"#3355FF"})]}),evP=(SV(Sz()),SV(S$())),evR=t=>(0,evP.jsxs)("svg",{width:19,height:26,viewBox:"0 0 19 26",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H15V1H16V2H17V18H2V2H3V1H4V0Z",fill:"#F1FFFF"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 1H4V2H3V18H16V2H15V1Z",fill:"#DEFFFF"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H5V3H4V18H15V3H14V2Z",fill:"#161617"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H8V4H9V5H10V4H11V5H12V4H13V5H14V6H15V18H4V6H5V5H6V4Z",fill:"#FF1A1A"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4H12V5H13V6H14V18H15V6H14V5H13V4Z",fill:"#A50101"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H6V6H5V18H4V6H5V5H6V4Z",fill:"#FF9292"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 7H8V8H9V9H10V8H11V7H12V9H13V10H12V12H7V10H6V9H7V7Z",fill:"currentColor"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9H8V11H11V9H10V10H9V9Z",fill:"black"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 14H8V15H7V16H8H11H12V15H11V14Z",fill:"currentColor"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18H2V19H0V20H2V21H3V22H4V23H15V22H16V21H17V20H19V19H17V18Z",fill:"#C2BCF2"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18H2V20H3H4H8V22H10V23H15V22V21V19H14H8H4V18Z",fill:"#ACA4D4"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 19H17H14V20V21H15V22H14V23H15V22H16V21H17V20H18V19Z",fill:"#867DC6"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 19H6V20H3V19ZM13 19H16V20H13V19ZM11 21H8V22H11V21Z",fill:"#FFFF00"}),(0,evP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 23H4V24H3V23ZM2 25V24H3V25H2ZM2 25V26H1V25H2ZM6 23H7V24H6V23ZM5 25V24H6V25H5ZM5 25V26H4V25H5ZM10 23H9V24H8V25H7V26H8V25H9V24H10V25H11V26H12V25H11V24H10V23ZM12 23H13V24H12V23ZM14 25H13V24H14V25ZM14 25H15V26H14V25ZM16 23H15V24H16V25H17V26H18V25H17V24H16V23Z",fill:"#867DC6"})]}),evD=(SV(Sz()),SV(S$())),evF=t=>(0,evD.jsxs)("svg",{width:19,height:26,viewBox:"0 0 19 26",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H15V1H16V2H17V18H2V2H3V1H4V0Z",fill:"#F1FFFF"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 1H4V2H3V18H16V2H15V1Z",fill:"#DEFFFF"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H5V3H4V18H15V3H14V2Z",fill:"#161617"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H8V4H9V5H10V4H11V5H12V4H13V5H14V6H15V18H4V6H5V5H6V4Z",fill:"#471AFF"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4H12V5H13V6H14V18H15V6H14V5H13V4Z",fill:"#0200FF"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H6V6H5V18H4V6H5V5H6V4Z",fill:"#766BFF"}),(0,evD.jsx)("path",{d:"M6 9H13V10H6V9Z",fill:"currentColor"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9H8V10H9V9ZM10 9V10H11V9H10Z",fill:"black"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H8V15H7V14ZM9 15V16H8V15H9ZM10 15H9V14H10V15ZM11 15H10V16H11V15ZM11 15V14H12V15H11Z",fill:"currentColor"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18H2V19H0V20H2V21H3V22H4V23H15V22H16V21H17V20H19V19H17V18Z",fill:"#C2BCF2"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18H2V20H3H4H8V22H10V23H15V22V21V19H14H8H4V18Z",fill:"#ACA4D4"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 19H17H14V20V21H15V22H14V23H15V22H16V21H17V20H18V19Z",fill:"#867DC6"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 19H6V20H3V19ZM13 19H16V20H13V19ZM11 21H8V22H11V21Z",fill:"#FFFF00"}),(0,evD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 23H4V24H3V23ZM2 25V24H3V25H2ZM2 25V26H1V25H2ZM6 23H7V24H6V23ZM5 25V24H6V25H5ZM5 25V26H4V25H5ZM10 23H9V24H8V25H7V26H8V25H9V24H10V25H11V26H12V25H11V24H10V23ZM12 23H13V24H12V23ZM14 25H13V24H14V25ZM14 25H15V26H14V25ZM16 23H15V24H16V25H17V26H18V25H17V24H16V23Z",fill:"#867DC6"})]}),evO=(SV(Sz()),SV(S$())),evN=t=>(0,evO.jsxs)("svg",{width:19,height:26,viewBox:"0 0 19 26",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H15V1H16V2H17V18H2V2H3V1H4V0Z",fill:"#F1FFFF"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 1H4V2H3V18H16V2H15V1Z",fill:"#DEFFFF"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H5V3H4V18H15V3H14V2Z",fill:"#161617"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H8V4H9V5H10V4H11V5H12V4H13V5H14V6H15V18H4V6H5V5H6V4Z",fill:"#471AFF"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4H12V5H13V6H14V18H15V6H14V5H13V4Z",fill:"#0200FF"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H7V5H6V6H5V18H4V6H5V5H6V4Z",fill:"#766BFF"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7H7V9H6V10H7V12H12V10H13V9H12V7Z",fill:"currentColor"}),(0,evO.jsx)("path",{className:"eye",fillRule:"evenodd",clipRule:"evenodd",d:"M11 8H8V11H11V8ZM10 9H9V10H10V9Z",fill:"black"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 13H7V14H6V13ZM12 14H7V16H12V14ZM12 14V13H13V14H12Z",fill:"currentColor"}),(0,evO.jsx)("rect",{x:8,y:15,width:3,height:1,fill:"#E5333D"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18H2V19H0V20H2V21H3V22H4V23H15V22H16V21H17V20H19V19H17V18Z",fill:"#C2BCF2"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18H2V20H3H4H8V22H10V23H15V22V21V19H14H8H4V18Z",fill:"#ACA4D4"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 19H17H14V20V21H15V22H14V23H15V22H16V21H17V20H18V19Z",fill:"#867DC6"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 19H6V20H3V19ZM13 19H16V20H13V19ZM11 21H8V22H11V21Z",fill:"#FFFF00"}),(0,evO.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 23H4V24H3V23ZM2 25V24H3V25H2ZM2 25V26H1V25H2ZM6 23H7V24H6V23ZM5 25V24H6V25H5ZM5 25V26H4V25H5ZM10 23H9V24H8V25H7V26H8V25H9V24H10V25H11V26H12V25H11V24H10V23ZM12 23H13V24H12V23ZM14 25H13V24H14V25ZM14 25H15V26H14V25ZM16 23H15V24H16V25H17V26H18V25H17V24H16V23Z",fill:"#867DC6"})]}),evU=SV(SH()),evV=SV(Sz()),evH=SV(S$()),evQ=function({onIgorPissed:t}){let n=(0,evV.useRef)(null),i=eeW(n),[r,s]=(0,evV.useState)(!1);(0,evV.useEffect)(()=>{if(r){let n=setTimeout(()=>{t()},3e3);return()=>{clearTimeout(n)}}return()=>{}},[r]);let o={width:"45",height:"62"},a=(0,evH.jsx)(evN,{...o});return i&&!r?a=(0,evH.jsx)(evF,{...o}):r&&(a=(0,evH.jsx)(evR,{...o})),(0,evH.jsx)("div",{className:(0,evU.default)("UBQ_Igor-module__block--PPnie",{"UBQ_Igor-module__pissed--T4eg3":r}),ref:n,onClick:()=>{s(!0)},children:a})},evz=SV(S$()),evG=function({show:t,onClose:n}){let{t:i}=qL();return(0,evz.jsx)(N$,{children:(0,evz.jsx)(HF,{show:t,onClose:n,"aria-label":"Credits",footer:(0,evz.jsxs)(HF.Footer,{children:[(0,evz.jsx)(DR,{name:"credits-dialog-button-abort","aria-label":i("common.close"),onClick:n,children:i("common.close")}),(0,evz.jsxs)(DR,{variant:"plain",name:"img.ly-link","aria-label":i("common.close"),onClick:()=>{window?.open("https://www.img.ly","_blank")?.focus()},children:["made by ",(0,evz.jsx)(evj,{className:"UBQ_Credits-module__imglyLogo--nuOv-"})]})]}),children:(0,evz.jsx)("div",{className:"UBQ_Credits-module__block---OeoC",children:(0,evz.jsxs)("div",{className:"UBQ_Credits-module__header--1oyNH",children:[(0,evz.jsxs)("div",{className:"UBQ_Credits-module__headerLeft--0V20Z",children:[(0,evz.jsx)(evB,{className:"UBQ_Credits-module__cesdkLogo--nW5AU"}),(0,evz.jsxs)("div",{className:"UBQ_Credits-module__version--HQm60",children:["Version ","1.39.0"]}),(0,evz.jsx)("p",{className:"UBQ_Credits-module__description---Smvk",children:"Thanks for using CreativeEditor SDK! It was created with the help of many awesome people."})]}),(0,evz.jsx)("div",{className:"UBQ_Credits-module__igorContainer--xxKV9",children:t&&(0,evz.jsx)(evQ,{onIgorPissed:n})})]})})})})},evq="UBQ_AssetPanelSection-module__button--T84IN",evW="UBQ_DockIconSizeSelect-module__button--ZhQKf",ev$=SV(S$()),evZ=Xc(function(){let{t:t}=qL(),n=Kb(),{dockIconSize:i}=n;return(0,ev$.jsxs)(Ou,{equalWidth:!0,children:[(0,ev$.jsx)(DR,{name:"select-normal-dock-icon-scaling","aria-label":t("component.dockIconSizeSelect.normal.description"),onClick:$O(()=>{n.dockIconSize="normal"}),isActive:"normal"===i,className:evW,children:t("component.dockIconSizeSelect.normal")}),(0,ev$.jsx)(DR,{name:"select-large-dock-icon-scaling","aria-label":t("component.dockIconSizeSelect.large.description"),onClick:$O(()=>{n.dockIconSize="large"}),isActive:"large"===i,className:evW,children:t("component.dockIconSizeSelect.large")})]})}),evY="UBQ_DockLabelVisibilityToggle-module__button--q3QDL",evK=SV(S$()),evX=Xc(function(){let{t:t}=qL(),n=Kb();return(0,evK.jsxs)(Ou,{equalWidth:!0,children:[(0,evK.jsx)(DR,{name:"toggle-show-dock-label-visibility","aria-label":t("component.dockLabelVisibilityToggle.show.description"),onClick:$O(()=>{n.dockHideLabels=!1}),isActive:!n.dockHideLabels,className:evY,children:t("component.dockLabelVisibilityToggle.show")}),(0,evK.jsx)(DR,{name:"toggle-hide-dock-label-visibility","aria-label":t("component.dockLabelVisibilityToggle.hide.description"),onClick:$O(()=>{n.dockHideLabels=!0}),isActive:n.dockHideLabels,className:evY,children:t("component.dockLabelVisibilityToggle.hide")})]})}),evJ=SV(S$()),ev0=Xc(function(){let{t:t}=qL(),n=YT(),i=Kb(),r=erz("//ly.img.panel/assetLibrary"),s=erQ("//ly.img.panel/assetLibrary"),o=enF();return(0,evJ.jsxs)(H8,{title:t("component.settingsPanel.assetPanel"),headingLevel:2,children:[(0,evJ.jsxs)(Qe,{children:[(0,evJ.jsx)(Uo,{children:t("common.position")}),(0,evJ.jsxs)(Ou,{children:[(0,evJ.jsx)(DR,{name:"select-assetlibrary-left","aria-label":t("component.inspectorPositionSelect.left.description"),onClick:()=>{n.ui.setPanelPosition("//ly.img.panel/assetLibrary","left"),n.ui.setPanelPosition("//ly.img.panel/assetLibrary.replace","left")},isActive:"left"===r,className:evq,disabled:o,children:t("component.inspectorPositionSelect.left")}),(0,evJ.jsx)(DR,{name:"select-assetlibrary-right","aria-label":t("component.inspectorPositionSelect.right.description"),onClick:()=>{n.ui.setPanelPosition("//ly.img.panel/assetLibrary","right"),n.ui.setPanelPosition("//ly.img.panel/assetLibrary.replace","right")},isActive:"right"===r,className:evq,disabled:o,children:t("component.inspectorPositionSelect.right")})]})]}),(0,evJ.jsxs)(Qe,{children:[(0,evJ.jsx)(Uo,{children:t("component.assetPanelFloatingSettings")}),(0,evJ.jsxs)(Ou,{equalWidth:!0,children:[(0,evJ.jsx)(DR,{name:"set-library-panel-insert-floating","aria-label":t("component.assetPanelFloatingSettings.floating.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/assetLibrary",!0)},isActive:s,className:evq,disabled:o,children:t("component.assetPanelFloatingSettings.floating")}),(0,evJ.jsx)(DR,{name:"set-library-panel-insert-fixed","aria-label":t("component.assetPanelFloatingSettings.fixed.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/assetLibrary",!1)},isActive:!s,className:evq,disabled:o,children:t("component.assetPanelFloatingSettings.fixed")})]})]}),(0,evJ.jsxs)(Qe,{children:[(0,evJ.jsx)(Uo,{children:t("component.assetPanelAutoCloseSettings")}),(0,evJ.jsxs)(Ou,{equalWidth:!0,children:[(0,evJ.jsx)(DR,{name:"set-library-panel-insert-autoClose-true","aria-label":t("component.assetPanelAutoCloseSettings.true.description"),onClick:$O(()=>{i.assetLibraryPanelInsertAutoClose=()=>!0}),isActive:i.assetLibraryPanelInsertAutoClose(),className:evq,children:t("component.assetPanelAutoCloseSettings.true")}),(0,evJ.jsx)(DR,{name:"set-library-panel-insert-autoClose-false","aria-label":t("component.assetPanelAutoCloseSettings.false.description"),onClick:$O(()=>{i.assetLibraryPanelInsertAutoClose=()=>!1}),isActive:!i.assetLibraryPanelInsertAutoClose(),className:evq,children:t("component.assetPanelAutoCloseSettings.false")})]})]}),(0,evJ.jsxs)(Qe,{children:[(0,evJ.jsx)(Uo,{children:t("component.dockIconSizeSelect")}),(0,evJ.jsx)(evZ,{})]}),(0,evJ.jsxs)(Qe,{children:[(0,evJ.jsx)(Uo,{children:t("component.dockLabelVisibilityToggle")}),(0,evJ.jsx)(evX,{})]})]})}),ev1=(SV(Sz()),SV(S$())),ev2=t=>(0,ev1.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ev1.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2C2.89543 2 2 2.89543 2 4V6C2 7.10457 2.89543 8 4 8H6C7.10457 8 8 7.10457 8 6V4C8 2.89543 7.10457 2 6 2H4ZM4 4H6V6H4V4Z",fill:"currentColor"}),(0,ev1.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 2C16.8954 2 16 2.89543 16 4V6C16 7.10457 16.8954 8 18 8H20C21.1046 8 22 7.10457 22 6V4C22 2.89543 21.1046 2 20 2H18ZM18 4H20V6H18V4Z",fill:"currentColor"}),(0,ev1.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 18C16 16.8954 16.8954 16 18 16H20C21.1046 16 22 16.8954 22 18V20C22 21.1046 21.1046 22 20 22H18C16.8954 22 16 21.1046 16 20V18ZM20 18H18V20H20V18Z",fill:"currentColor"}),(0,ev1.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 16C2.89543 16 2 16.8954 2 18V20C2 21.1046 2.89543 22 4 22H6C7.10457 22 8 21.1046 8 20V18C8 16.8954 7.10457 16 6 16H4ZM4 18H6V20H4V18Z",fill:"currentColor"}),(0,ev1.jsx)("path",{d:"M16 4H8V6H16V4Z",fill:"currentColor"}),(0,ev1.jsx)("path",{d:"M16 18H8V20H16V18Z",fill:"currentColor"}),(0,ev1.jsx)("path",{d:"M4 8H6V16H4V8Z",fill:"currentColor"}),(0,ev1.jsx)("path",{d:"M20 8H18V16H20V8Z",fill:"currentColor"})]}),ev3=SV(S$()),ev5=Xc(function(){let{t:t}=qL(),n=Kb();return(0,ev3.jsx)(H8,{title:t("component.assetSettings"),headingLevel:2,children:(0,ev3.jsxs)(Uu,{children:[(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"opacity",checked:n.blocksOpacityEnabled,onChange:$O(t=>{n.blocksOpacityEnabled=t}),icon:(0,ev3.jsx)(ea4,{}),label:t("component.assetSettings.opacity")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"transform",checked:n.blocksTransformEnabled,onChange:$O(t=>{n.blocksTransformEnabled=t}),icon:(0,ev3.jsx)(ev2,{}),label:t("component.assetSettings.transform")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"text-advanced",checked:n.blocks["//ly.img.ubq/text"].advancedEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/text"].advancedEnabled=t}),icon:(0,ev3.jsx)(eaN,{}),label:t("component.assetSettings.text.advanced")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"text-color",checked:n.blocks["//ly.img.ubq/text"].colorEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/text"].colorEnabled=t}),icon:(0,ev3.jsx)(eiY,{}),label:t("component.assetSettings.text.color")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"crop",checked:n.blocks["//ly.img.ubq/graphic"].cropEnabled&&n.blocks["//ly.img.ubq/page"].cropEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/graphic"].cropEnabled=t,n.blocks["//ly.img.ubq/page"].cropEnabled=t}),icon:(0,ev3.jsx)(eaG,{}),label:t("component.assetSettings.crop")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"adjustments",checked:n.blocks["//ly.img.ubq/graphic"].adjustmentsEnabled&&n.blocks["//ly.img.ubq/page"].adjustmentsEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/graphic"].adjustmentsEnabled=t,n.blocks["//ly.img.ubq/page"].adjustmentsEnabled=t}),icon:(0,ev3.jsx)(eaN,{}),label:t("component.assetSettings.adjustments")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"filters",checked:n.blocks["//ly.img.ubq/graphic"].filtersEnabled&&n.blocks["//ly.img.ubq/page"].filtersEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/graphic"].filtersEnabled=t,n.blocks["//ly.img.ubq/page"].filtersEnabled=t}),icon:(0,ev3.jsx)(eaJ,{}),label:t("component.assetSettings.filters")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"effects",checked:n.blocks["//ly.img.ubq/graphic"].effectsEnabled&&n.blocks["//ly.img.ubq/page"].effectsEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/graphic"].effectsEnabled=t,n.blocks["//ly.img.ubq/page"].effectsEnabled=t}),icon:(0,ev3.jsx)(eaK,{}),label:t("component.assetSettings.effects")})}),(0,ev3.jsx)(Uu.Item,{children:(0,ev3.jsx)(Ud,{name:"blur",checked:n.blocks["//ly.img.ubq/graphic"].blurEnabled&&n.blocks["//ly.img.ubq/page"].blurEnabled,onChange:$O(t=>{n.blocks["//ly.img.ubq/graphic"].blurEnabled=t,n.blocks["//ly.img.ubq/page"].blurEnabled=t}),icon:(0,ev3.jsx)(eau,{}),label:t("component.assetSettings.blur")})})]})})}),ev4=SV(Sz()),ev6=SV(S$()),ev8=function({name:t,propColor:n,designTokenBasis:i,onSetColor:r}){let{t:s}=qL(),{theme:o}=(0,ev4.useContext)(Oe.Context),[a,l]=(0,ev4.useState)(()=>F5(i,{r:0,g:0,b:0,a:1}));(0,ev4.useEffect)(()=>{F3(i)!==n&&l(F5(i,{r:0,g:0,b:0,a:1}))},[o]);let c="accent"===t?s("component.colorSchemeSelect.accent"):"active"===t?s("component.colorSchemeSelect.active"):"background"===t?s("component.colorSchemeSelect.background"):t,u="accent"===t?s("component.colorSchemeSelect.accent.description"):"active"===t?s("component.colorSchemeSelect.active.description"):"background"===t?s("component.colorSchemeSelect.background.description"):t;return(0,ev6.jsxs)(ev6.Fragment,{children:[(0,ev6.jsx)(Uo,{children:c}),(0,ev6.jsx)(ecc,{name:t,previewColor:n??F3(i),color:a,setColor:t=>{l(t),r&&r(UI(t,!0))},label:c,"aria-label":u,hidePreviewLabel:!0})]})},ev7=SV(S$()),ev9=Xc(function(){let t=Kb();return(0,ev7.jsxs)(ev7.Fragment,{children:[(0,ev7.jsx)(Qe,{children:(0,ev7.jsx)(ev8,{name:"background",designTokenBasis:"--ubq-canvas",propColor:t.customBackgroundColor,onSetColor:$O(n=>{t.customBackgroundColor=n})})}),(0,ev7.jsx)(Qe,{children:(0,ev7.jsx)(ev8,{name:"active",designTokenBasis:"--ubq-interactive-active-default",propColor:t.customActiveColor,onSetColor:$O(n=>{t.customActiveColor=n})})}),(0,ev7.jsx)(Qe,{children:(0,ev7.jsx)(ev8,{name:"accent",propColor:t.customAccentColor,designTokenBasis:"--ubq-interactive-accent-default",onSetColor:$O(n=>{t.customAccentColor=n})})})]})}),ebe=Xc(function(){return null}),ebt="UBQ_InspectorPanelSection-module__button--p-gav",ebn="UBQ_InspectorPositionSelect-module__button--ebMYa",ebi=SV(S$()),ebr=Xc(function(){let{t:t}=qL(),n=YT(),i=erz("//ly.img.panel/inspector"),r=enF();return(0,ebi.jsxs)(Ou,{children:[(0,ebi.jsx)(DR,{name:"select-inspector-left","aria-label":t("component.inspectorPositionSelect.left.description"),onClick:()=>{n.ui.setPanelPosition("//ly.img.panel/inspector","left")},isActive:"left"===i,className:ebn,disabled:r,children:t("component.inspectorPositionSelect.left")}),(0,ebi.jsx)(DR,{name:"select-inspector-right","aria-label":t("component.inspectorPositionSelect.right.description"),onClick:()=>{n.ui.setPanelPosition("//ly.img.panel/inspector","right")},isActive:"right"===i,className:ebn,disabled:r,children:t("component.inspectorPositionSelect.right")})]})}),ebs=SV(S$()),ebo=Xc(function(){let{t:t}=qL(),n=YT(),i=erQ("//ly.img.panel/inspector"),r=enF();return(0,ebs.jsxs)(H8,{title:t("component.settingsPanel.inspectorPanel"),headingLevel:2,children:[(0,ebs.jsxs)(Qe,{children:[(0,ebs.jsx)(Uo,{children:t("component.inspectorPositionSelect")}),(0,ebs.jsx)(ebr,{})]}),(0,ebs.jsxs)(Qe,{children:[(0,ebs.jsx)(Uo,{children:t("component.inspectorPanelFloatingSettings")}),(0,ebs.jsxs)(Ou,{equalWidth:!0,children:[(0,ebs.jsx)(DR,{name:"set-library-panel-insert-floating","aria-label":t("component.inspectorPanelFloatingSettings.floating.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/inspector",!0)},isActive:i,className:ebt,disabled:r,children:t("component.inspectorPanelFloatingSettings.floating")}),(0,ebs.jsx)(DR,{name:"set-library-panel-insert-fixed","aria-label":t("component.inspectorPanelFloatingSettings.fixed.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/inspector",!1)},isActive:!i,className:ebt,disabled:r,children:t("component.inspectorPanelFloatingSettings.fixed")})]})]})]})}),eba=SV(S$()),ebl=Xc(function(){let{t:t,i18n:n}=qL(),i=Kb(),r=(n.options.supportedLngs||["en","de"]).filter(t=>"cimode"!==t),s=i=>n.getResource(i,"custom","meta.currentLanguage")||n.getResource(i,"cesdk","meta.currentLanguage")?t("meta.currentLanguage",{lng:i}):`${t("meta.currentLanguage")} (${i})`;return(0,eba.jsxs)(Ha,{children:[(i,{isOpen:r})=>(0,eba.jsxs)(DR,{name:"languageSelect","aria-label":t("component.languageSelect.description"),...i,children:[s(n.language),r?(0,eba.jsx)(Ub,{}):(0,eba.jsx)(Uy,{})]}),()=>(0,eba.jsx)(Ha.Options,{value:i.language,onChange:$O(t=>{i.language=t}),children:r.map(t=>(0,eba.jsx)(Ha.Option,{value:t,children:(0,eba.jsx)("div",{className:"UBQ_LanguageSelect-module__option--0FoJ-",children:s(t)})},t))})]})}),ebc=SV(S$()),ebu=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=Kb(),r=YB().getPageManager(),s=t.block.findByType("stack")[0]??t.scene.get(),o=null!=s?t.block.getChildren(s).filter(n=>"//ly.img.ubq/page"===t.block.getType(n)):[],a=t.scene.getCurrentPage();return(0,ebc.jsxs)(H8,{title:n("component.pageSettings"),headingLevel:2,children:[(0,ebc.jsxs)(Uu,{children:[(0,ebc.jsx)(Uu.Item,{children:(0,ebc.jsx)(Ud,{name:"manage",checked:i.blocks["//ly.img.ubq/page"].manage,onChange:$O(t=>{i.blocks["//ly.img.ubq/page"].manage=t}),icon:(0,ebc.jsx)(ea3,{}),label:n("component.pageSettings.manage")})}),(0,ebc.jsx)(Uu.Item,{children:(0,ebc.jsx)(Ud,{name:"format",checked:i.blocks["//ly.img.ubq/page"].format,onChange:$O(t=>{i.blocks["//ly.img.ubq/page"].format=t}),icon:(0,ebc.jsx)(HY,{}),label:n("component.pageSettings.format")})}),(0,ebc.jsx)(Uu.Item,{children:(0,ebc.jsx)(Ud,{name:"singlePageMode",checked:i.singlePageMode,onChange:t=>{r.singlePageMode=t,i.singlePageMode=t},icon:(0,ebc.jsx)(HY,{}),label:n("component.settingsPanel.singlePageMode")})})]}),i.singlePageMode&&(0,ebc.jsxs)(ebc.Fragment,{children:[(0,ebc.jsx)(Hp,{}),(0,ebc.jsxs)(Qe,{children:[(0,ebc.jsx)(Uo,{children:n("component.settingsPanel.singlePageVisibilitySelect")}),(0,ebc.jsxs)(Ha,{children:[(n,{isOpen:i})=>(0,ebc.jsxs)(DR,{name:"roleSelect",...n,children:[a?t.block.getString(a,"page/titleTemplate").replace("{{ubq.page_index}}",(o.indexOf(a)+1).toString()):"Select Page",i?(0,ebc.jsx)(Ub,{}):(0,ebc.jsx)(Uy,{})]}),()=>(0,ebc.jsx)(Ha.Options,{value:a,onChange:n=>{r.setSinglePageVisibility(n),t.block.select(n)},children:o.map((n,i)=>(0,ebc.jsx)(Ha.Option,{value:n,children:t.block.getString(n,"page/titleTemplate").replace("{{ubq.page_index}}",(i+1).toString())},n))})]})]})]})]})})),ebd="UBQ_PageTitleAppendPageNameToggle-module__button--9V94o",ebp=SV(S$()),ebh=Jg(function({engine:t}){let{t:n}=qL(),i=t.editor.getSettingBool("page/title/appendPageName"),r=t.editor.getSettingBool("page/title/show");return(0,ebp.jsxs)(Ou,{equalWidth:!0,children:[(0,ebp.jsx)(DR,{name:"toggle-page-title-append-name-visibility","aria-label":n("component.pageTitleAppendPageNameToggle.show.description"),onClick:()=>{t.editor.setSettingBool("page/title/appendPageName",!0)},isActive:i,isDisabled:!r,className:ebd,children:n("component.pageTitleAppendPageNameToggle.show")}),(0,ebp.jsx)(DR,{name:"toggle-page-title-not-append-name-visibility","aria-label":n("component.pageTitleAppendPageNameToggle.hide.description"),onClick:()=>{t.editor.setSettingBool("page/title/appendPageName",!1)},isActive:!i,isDisabled:!r,className:ebd,children:n("component.pageTitleAppendPageNameToggle.hide")})]})}),ebf="UBQ_PageTitleDefaultTitleVisibilityToggle-module__button--q5EJU",ebm=SV(S$()),ebg=Jg(function({engine:t}){let{t:n}=qL(),i=t.editor.getSettingBool("page/title/showPageTitleTemplate"),r=t.editor.getSettingBool("page/title/show");return(0,ebm.jsxs)(Ou,{equalWidth:!0,children:[(0,ebm.jsx)(DR,{name:"toggle-show-default-page-title-visibility","aria-label":n("component.pageTitleDefaultTitleVisibilityToggle.show.description"),onClick:()=>{t.editor.setSettingBool("page/title/showPageTitleTemplate",!0)},isActive:i,isDisabled:!r,className:ebf,children:n("component.pageTitleDefaultTitleVisibilityToggle.show")}),(0,ebm.jsx)(DR,{name:"toggle-hide-default-page-title-visibility","aria-label":n("component.pageTitleDefaultTitleVisibilityToggle.hide.description"),onClick:()=>{t.editor.setSettingBool("page/title/showPageTitleTemplate",!1)},isActive:!i,isDisabled:!r,className:ebf,children:n("component.pageTitleDefaultTitleVisibilityToggle.hide")})]})}),ebx="UBQ_PageTitleShowOnSinglePageToggle-module__button--SVO3I",eby=SV(S$()),ebv=Jg(function({engine:t}){let{t:n}=qL(),i=t.editor.getSettingBool("page/title/showOnSinglePage"),r=t.editor.getSettingBool("page/title/show");return(0,eby.jsxs)(Ou,{equalWidth:!0,children:[(0,eby.jsx)(DR,{name:"toggle-show-page-title-on-single-page-visibility","aria-label":n("component.pageTitleShowOnSinglePageToggle.show.description"),onClick:()=>{t.editor.setSettingBool("page/title/showOnSinglePage",!0)},isActive:i,isDisabled:!r,className:ebx,children:n("component.pageTitleShowOnSinglePageToggle.show")}),(0,eby.jsx)(DR,{name:"toggle-hide-page-title-on-single-page-visibility","aria-label":n("component.pageTitleShowOnSinglePageToggle.hide.description"),onClick:()=>{t.editor.setSettingBool("page/title/showOnSinglePage",!1)},isActive:!i,isDisabled:!r,className:ebx,children:n("component.pageTitleShowOnSinglePageToggle.hide")})]})}),ebb="UBQ_PageTitleVisibilityToggle-module__button--9bv5W",ebA=SV(S$()),ebw=Jg(function({engine:t}){let{t:n}=qL(),i=t.editor.getSettingBool("page/title/show");return(0,ebA.jsxs)(Ou,{equalWidth:!0,children:[(0,ebA.jsx)(DR,{name:"toggle-show-page-title-visibility","aria-label":n("component.pageTitleVisibilityToggle.show.description"),onClick:()=>{t.editor.setSettingBool("page/title/show",!0)},isActive:i,className:ebb,children:n("component.pageTitleVisibilityToggle.show")}),(0,ebA.jsx)(DR,{name:"toggle-hide-page-title-visibility","aria-label":n("component.pageTitleVisibilityToggle.hide.description"),onClick:()=>{t.editor.setSettingBool("page/title/show",!1)},isActive:!i,className:ebb,children:n("component.pageTitleVisibilityToggle.hide")})]})}),ebC="UBQ_ReplacePanelSection-module__button--iWiqH",eb_=SV(S$()),ebS=Xc(function(){let{t:t}=qL(),n=YT(),i=Kb(),r=erQ("//ly.img.panel/assetLibrary.replace"),s=enF();return(0,eb_.jsxs)(H8,{title:t("component.settingsPanel.replacePanel"),headingLevel:2,children:[(0,eb_.jsxs)(Qe,{children:[(0,eb_.jsx)(Uo,{children:t("component.replacePanelFloatingSettings")}),(0,eb_.jsxs)(Ou,{equalWidth:!0,children:[(0,eb_.jsx)(DR,{name:"set-library-panel-insert-floating",className:ebC,"aria-label":t("component.replacePanelFloatingSettings.floating.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/assetLibrary.replace",!0)},isActive:r,disabled:s,children:t("component.replacePanelFloatingSettings.floating")}),(0,eb_.jsx)(DR,{name:"set-library-panel-insert-fixed",className:ebC,"aria-label":t("component.replacePanelFloatingSettings.fixed.description"),onClick:()=>{n.ui.setPanelFloating("//ly.img.panel/assetLibrary.replace",!1)},isActive:!r,disabled:s,children:t("component.replacePanelFloatingSettings.fixed")})]})]}),(0,eb_.jsxs)(Qe,{children:[(0,eb_.jsx)(Uo,{children:t("component.replacePanelAutoCloseSettings")}),(0,eb_.jsxs)(Ou,{equalWidth:!0,children:[(0,eb_.jsx)(DR,{name:"set-library-panel-insert-autoClose-true","aria-label":t("component.replacePanelAutoCloseSettings.true.description"),onClick:$O(()=>{i.assetLibraryPanelReplaceAutoClose=()=>!0}),isActive:i.assetLibraryPanelReplaceAutoClose(),className:ebC,children:t("component.replacePanelAutoCloseSettings.true")}),(0,eb_.jsx)(DR,{name:"set-library-panel-insert-autoClose-false","aria-label":t("component.replacePanelAutoCloseSettings.false.description"),onClick:$O(()=>{i.assetLibraryPanelReplaceAutoClose=()=>!1}),isActive:!i.assetLibraryPanelReplaceAutoClose(),className:ebC,children:t("component.replacePanelAutoCloseSettings.false")})]})]})]})}),ebk=SV(S$()),ebE=Xc(function(){let t=YT(),{t:n}=qL(),[,{configuredRole:i,setConfiguredRole:r}]=Jc(),s=["Creator","Adopter"];return(0,ebk.jsxs)(Ha,{children:[(t,{isOpen:r})=>(0,ebk.jsxs)(DR,{name:"roleSelect","aria-label":n("component.roleSelect.description"),...t,children:[i,r?(0,ebk.jsx)(Ub,{}):(0,ebk.jsx)(Uy,{})]}),()=>(0,ebk.jsx)(Ha.Options,{value:i,onChange:n=>{r(n),t.feature.enable("ly.img.preview","Creator"===n)},children:s.map(t=>(0,ebk.jsx)(Ha.Option,{value:t,children:(0,ebk.jsx)("div",{className:"UBQ_RoleSelect-module__option--rbjSf",children:t})},t))})]})});function ebM(){let t=Kb(),{width:n}=G2("embedViewport"),{scale:i}=t;return"function"==typeof i?i({isTouch:U1,containerWidth:n}):"string"==typeof i?i:U1?"large":"normal"}var ebI="UBQ_ScalingSelect-module__button--SuD4n",ebT=SV(S$()),ebB=Xc(function(){let{t:t}=qL(),n=Kb(),i=ebM();return(0,ebT.jsxs)(Ou,{equalWidth:!0,children:[(0,ebT.jsx)(DR,{name:"select-normal-scaling","aria-label":t("component.scalingSelect.normal.description"),onClick:$O(()=>{n.scale="normal"}),isActive:"normal"===i,className:ebI,children:t("component.scalingSelect.normal")}),(0,ebT.jsx)(DR,{name:"select-large-scaling","aria-label":t("component.scalingSelect.large.description"),onClick:$O(()=>{n.scale="large"}),isActive:"large"===i,className:ebI,children:t("component.scalingSelect.large")})]})}),ebL="UBQ_ThemeSelect-module__button--yhuSS",ebj=SV(S$()),ebP=Xc(function(){let{t:t}=qL(),n=Kb(),{theme:i}=n,{editor:r}=Ju(),s=()=>{setTimeout(()=>{{let t=F5("--ubq-foreground-default",{r:0,g:0,b:0,a:1});r.setSettingColor("page/title/color",t)}{let t=F5("--ubq-static-selection-frame",{r:0,g:0,b:0,a:1});r.setSettingColor("highlightColor",t)}{let t=F5("--ubq-static-text-variable",{r:0,g:0,b:0,a:1});r.setSettingColor("placeholderHighlightColor",t)}{let t=F5("--ubq-progress",{r:0,g:0,b:0,a:1});r.setSettingColor("progressColor",t)}{let t=F5("--ubq-notice-error",{r:0,g:0,b:0,a:1});r.setSettingColor("errorStateColor",t)}},200)};return(0,ebj.jsxs)(Ou,{equalWidth:!0,children:[(0,ebj.jsx)(DR,{name:"select-dark-theme","aria-label":t("component.themeSelect.dark.description"),onClick:$O(()=>{n.theme="dark",s()}),isActive:"dark"===i,className:ebL,children:t("component.themeSelect.dark")}),(0,ebj.jsx)(DR,{name:"select-light-theme","aria-label":t("component.themeSelect.light.description"),onClick:$O(()=>{n.theme="light",s()}),isActive:"light"===i,className:ebL,children:t("component.themeSelect.light")})]})}),ebR="UBQ_ViewSelect-module__button--bD9lO",ebD=SV(S$()),ebF=Xc(function(){let{t:t}=qL(),n=Kb(),{viewStyle:i}=n;return(0,ebD.jsxs)(Ou,{equalWidth:!0,children:[(0,ebD.jsx)(DR,{name:"select-view-default","aria-label":t("component.viewSelect.default.description"),onClick:$O(()=>{n.viewStyle="default"}),isActive:"default"===i,className:ebR,children:t("component.viewSelect.default")}),(0,ebD.jsx)(DR,{name:"select-view-advanced","aria-label":t("component.viewSelect.advanced.description"),onClick:$O(()=>{n.viewStyle="advanced"}),isActive:"advanced"===i,className:ebR,children:t("component.viewSelect.advanced")})]})}),ebO=SV(S$());function ebN({onReset:t,isDisabled:n}){let{t:i}=qL();return t&&(0,ebO.jsxs)(DR,{name:"reset",onClick:t,"aria-label":i("common.reset"),"data-cy":"reset-settingspanel",variant:"plain",isDisabled:n,children:[i("common.reset"),(0,ebO.jsx)(esC,{})]})}var ebU=Xc(function(){let t=YT(),{t:n}=qL(),i=Kb(),[r,s]=(0,evE.useState)(""),[o,a]=(0,evE.useState)(!1),l=JH(),{viewStyle:c}=i,u=enF();return(0,ebO.jsxs)(erK,{id:"//ly.img.panel/settings","data-cy":"settings-panel",style:{zIndex:"advanced"===c&&u?enR.SettingsPanel:void 0},children:[(0,ebO.jsx)(erK.Header,{action:(0,ebO.jsx)(ebN,{onReset:()=>{i.resetSettings(),evI(t,l)},isDisabled:!i.isDifferentThanConfigured}),children:(0,ebO.jsx)(erK.Title,{children:n("component.settingsPanel.header")})}),(0,ebO.jsxs)(erK.Content,{children:[(0,ebO.jsxs)(H8,{title:n("component.settingsPanel.general"),headingLevel:2,children:[(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.roleSelect")}),(0,ebO.jsx)(ebE,{})]}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.viewSelect")}),(0,ebO.jsx)(ebF,{})]}),(0,ebO.jsx)(Qe,{children:(0,ebO.jsx)(Hp,{})}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.languageSelect")}),(0,ebO.jsx)(ebl,{})]}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.scalingSelect")}),(0,ebO.jsx)(ebB,{})]})]}),(0,ebO.jsxs)(H8,{title:n("component.settingsPanel.pageLabel"),headingLevel:2,children:[(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.pageTitleVisibilityToggle")}),(0,ebO.jsx)(ebw,{})]}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.pageTitleDefaultTitleVisibilityToggle")}),(0,ebO.jsx)(ebg,{})]}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.pageTitleAppendPageNameToggle")}),(0,ebO.jsx)(ebh,{})]}),(0,ebO.jsx)(Qe,{children:(0,ebO.jsx)(Hp,{})}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.pageTitleShowOnSinglePageToggle")}),(0,ebO.jsx)(ebv,{})]})]}),(0,ebO.jsx)(ev0,{}),(0,ebO.jsx)(ebS,{}),(0,ebO.jsx)(ebo,{}),(0,ebO.jsxs)(H8,{title:n("component.settingsPanel.appearance"),headingLevel:2,children:[(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:n("component.themeSelect")}),(0,ebO.jsx)(ebP,{})]}),(0,ebO.jsx)(ev9,{}),(0,ebO.jsx)(Qe,{children:(0,ebO.jsx)(Hp,{})}),(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(Uo,{children:"\xa0"}),(0,ebO.jsx)(DR,{name:"themeExport",color:"accent",onClick:()=>{let t;s((t="",["--ubq-canvas","--ubq-elevation-1","--ubq-elevation-2","--ubq-elevation-3","--ubq-foreground-default","--ubq-foreground-light","--ubq-foreground-info","--ubq-foreground-active","--ubq-foreground-accent","--ubq-foreground-danger-default","--ubq-foreground-notice-default","--ubq-interactive-default","--ubq-interactive-hover","--ubq-interactive-pressed","--ubq-interactive-selected","--ubq-interactive-active-default","--ubq-interactive-active-hover","--ubq-interactive-active-pressed","--ubq-interactive-accent-default","--ubq-interactive-accent-hover","--ubq-interactive-accent-pressed","--ubq-interactive-danger-default","--ubq-interactive-danger-hover","--ubq-interactive-danger-pressed","--ubq-interactive-template-default","--ubq-interactive-template-hover","--ubq-interactive-template-pressed","--ubq-interactive-group-default","--ubq-interactive-group-hover","--ubq-interactive-group-active-default","--ubq-interactive-group-active-hover","--ubq-input-default","--ubq-input-hover","--ubq-border-default","--ubq-stroke-contrast-1","--ubq-stroke-contrast-2","--ubq-stroke-contrast-3","--ubq-focus-default","--ubq-focus-outline","--ubq-overlay","--ubq-notice-info","--ubq-notice-success","--ubq-notice-warning","--ubq-notice-error","--ubq-effect-shadow","--ubq-effect-focus","--ubq-progress","--ubq-static-selection-frame","--ubq-static-contrast-white","--ubq-static-contrast-black","--ubq-static-snapping","--ubq-static-bleed","--ubq-static-text-variable","--ubq-static-card-label-background","--ubq-static-card-background"].forEach(n=>{let i=F3(n);t+=`  ${n}: ${i};
`}),`.${F2} {
${t}}`))},children:n("component.themeSelect.generate")}),(0,ebO.jsx)(N$,{children:(0,ebO.jsxs)(HF,{show:""!==r,"aria-label":n("component.themeSelect.dialog.description"),footer:(0,ebO.jsx)(HF.Footer,{children:(0,ebO.jsx)(DR,{name:n("common.close"),"aria-label":n("common.close"),onClick:()=>s(""),children:n("common.close")})}),children:[(0,ebO.jsx)(N5,{level:1,children:n("component.themeSelect.dialog")}),(0,ebO.jsx)(Qu,{value:r,readOnly:!0})]})})]})]}),(0,ebO.jsx)(ev5,{}),(0,ebO.jsx)(ebu,{}),(0,ebO.jsx)(ebe,{}),(0,ebO.jsx)(H8,{title:"CreativeEditor SDK",children:(0,ebO.jsxs)(Qe,{children:[(0,ebO.jsx)(evG,{show:o,onClose:()=>{a(!1)}}),(0,ebO.jsx)(DR,{name:"documentation","aria-label":"Documentation",onClick:()=>{window?.open("https://img.ly/docs/cesdk/","_blank")?.focus()},children:n("component.settingsPanel.documentation")}),(0,ebO.jsx)(DR,{name:"credits","aria-label":"Credits",onClick:()=>{a(t=>!t)},children:"Credits"})]})})]})]})}),ebV=SV(Sz()),ebH=SV(S$()),ebQ=Xc(function({block:t}){let n=Ju(),i=erQ("//ly.img.panel/inspector"),r=erz("//ly.img.panel/inspector"),s=enF();return(0,ebV.useEffect)(()=>{ecH(n)},[n]),(0,ebH.jsx)(erK,{id:"//ly.img.panel/inspector/shadow",group:"subInspector","data-cy":"shadow-subinspector-panel",floating:i,panelPosition:s?"left":r,children:(0,ebH.jsx)(ec4.PanelContent,{block:t})})}),ebz=SV(Sz()),ebG=SV(S$()),ebq=Xc(Jg(function({engine:t}){let{t:n}=qL(),i=KU(),[r,s]=(0,ebz.useState)(!1),[o,a]=Jv([eei,eer]),[,l]=erU("//ly.img.panel/inspector/transform",KA());(0,ebz.useEffect)(()=>t.block.onSelectionChanged(()=>{0===t.block.findAllSelected().length&&l(!1)}),[t.block,l]);let[c]=t.block.findAllSelected();if(null==c)return null;let u=elv(t.scene.getDesignUnit()),d=t.block.getFrameX(c),p=t.block.getFrameY(c),h=t.block.isTransformLocked(c),f=h||!o,m=h||!a,g=t=>{null!=t&&i("action.block.move")},x=t.block.getFrameWidth(c),y=t.block.getFrameHeight(c),v=t=>n("x"===t?"common.width.inUnit":"common.height.inUnit",{unit:u});return(0,ebG.jsxs)(ebG.Fragment,{children:[(0,ebG.jsx)(erK.Header,{children:(0,ebG.jsx)(erK.Title,{children:n("common.transform")})}),(0,ebG.jsx)(erK.Content,{children:()=>(0,ebG.jsxs)(H8,{children:[(0,ebG.jsxs)(Qe,{children:[(0,ebG.jsx)(VP,{name:"transform-position-horizontal",label:n("property.position",{axis:n("common.axis.x")}),isDisabled:f,children:i=>(0,ebG.jsx)(Vz,{...i,unitLabel:u,"aria-label":n("property.position.description",{axis:n("common.axis.x")}),tooltipLabel:n("property.position.description",{axis:n("common.axis.x"),unit:u}),value:d,onChange:n=>{null!=n&&t.block.setPositionX(c,n)},onRelease:g,isDisabled:f})}),(0,ebG.jsx)(eam,{})]}),(0,ebG.jsxs)(Qe,{children:[(0,ebG.jsx)(VP,{name:"transform-position-vertical",label:n("property.position",{axis:n("common.axis.y")}),isDisabled:f,children:i=>(0,ebG.jsx)(Vz,{...i,unitLabel:u,"aria-label":n("property.position.description",{axis:n("common.axis.y")}),tooltipLabel:n("property.position.description",{axis:n("common.axis.y"),unit:u}),value:p,onChange:n=>{null!=n&&t.block.setPositionY(c,n)},onRelease:g,isDisabled:f})}),(0,ebG.jsx)(eam,{})]}),(0,ebG.jsx)(Hp,{}),(0,ebG.jsxs)(Qe,{children:[(0,ebG.jsx)(VP,{name:"transform-dimension-width",label:n("common.width"),isDisabled:m,children:n=>(0,ebG.jsx)(Vz,{...n,unitLabel:u,"aria-label":v("x"),tooltipLabel:v("x"),value:x,min:.1,step:"any",onChange:n=>{if(null!=n){if(r){let i=n/(x/y);n>=.1&&i>=.1&&(t.block.setWidth(c,n),t.block.setHeight(c,i))}else n>=.1&&(t.block.setWidth(c,n),t.block.setHeight(c,y))}},onRelease:n=>{if(null!=n){if(i("action.block.resize"),r){let i=n/(x/y);n>=.1&&i>=.1&&(t.block.setWidth(c,n),t.block.setHeight(c,i))}else n>=.1&&(t.block.setWidth(c,n),t.block.setHeight(c,y))}},isDisabled:m})}),(0,ebG.jsx)(euu,{isLocked:r,setIsLocked:s,isDisabled:m})]}),(0,ebG.jsxs)(Qe,{children:[(0,ebG.jsx)(VP,{name:"transform-dimension-height",label:n("common.height"),isDisabled:m,children:n=>(0,ebG.jsx)(Vz,{...n,unitLabel:u,"aria-label":v("y"),tooltipLabel:v("y"),value:y,min:.1,step:"any",onChange:n=>{if(null!=n){if(r){let i=x/y*n;i>=.1&&n>=.1&&(t.block.setWidth(c,i),t.block.setHeight(c,n))}else n>=.1&&(t.block.setWidth(c,x),t.block.setHeight(c,n))}},onRelease:n=>{if(null!=n){if(i("action.block.resize"),r){let i=x/y*n;i>=.1&&n>=.1&&(t.block.setWidth(c,i),t.block.setHeight(c,n))}else n>=.1&&(t.block.setWidth(c,x),t.block.setHeight(c,n))}},isDisabled:m})}),(0,ebG.jsx)(eam,{})]})]})})]})})),ebW=Xc(function(){let t=erQ("//ly.img.panel/inspector"),n=erz("//ly.img.panel/inspector"),i=enF();return(0,ebG.jsx)(erK,{id:"//ly.img.panel/inspector/transform",group:"subInspector","data-cy":"transform-subinspector-panel",floating:t,panelPosition:i?"left":n,children:(0,ebG.jsx)(ebq,{})})}),eb$=SV(Sz()),ebZ=SV(S$()),ebY=Xc(function({block:t,i18nBlockType:n,selectedBlock:i}){let r=Ju(),s=YT(),o=erQ("//ly.img.panel/inspector"),a=erz("//ly.img.panel/inspector"),l=enF(),c=KA(),[u]=erU("//ly.img.panel/inspector/trim",c),d="advanced"===c.viewStyle,{isOpen:p}=ep_(t);return(0,eb$.useEffect)(()=>{u&&"Trim"!==r.editor.getEditMode()&&r.editor.setEditMode("Trim"),u||"Trim"!==r.editor.getEditMode()||r.editor.setEditMode("Transform")},[r.editor,u]),(0,eb$.useEffect)(()=>{d&&(p&&!s.ui.isPanelOpen("//ly.img.panel/inspector/trim")&&s.ui.openPanel("//ly.img.panel/inspector/trim"),!p&&s.ui.isPanelOpen("//ly.img.panel/inspector/trim")&&s.ui.closePanel("//ly.img.panel/inspector/trim"))},[s.ui,d,p]),(0,ebZ.jsx)(erK,{id:"//ly.img.panel/inspector/trim","data-cy":"trim-subinspector-panel",floating:o,panelPosition:l?"left":a,children:(0,ebZ.jsx)(epT.PanelContent,{block:t,selectedBlock:i,i18nBlockType:n})})}),ebK=SV(Sz()),ebX=SV(S$()),ebJ=(Xc(function({children:t,internalRenderTarget:n,configurationStore:i,i18n:r}){return(0,ebK.useEffect)(()=>{n.setAttribute("lang",i.language)},[n,i.language]),(0,ebX.jsx)(qP,{i18n:r,children:t})}),SV(Sz())),eb0=SV(S$()),eb1=(Xc(function({children:t,config:{ui:n},internalRenderTarget:i,configurationStore:r,configuredRenderTarget:s,facade:o}){let a=ebM(),[l]=K1(o?.settings.roles.effectiveRole),[c]=K1(o?.settings.roles.previewRole);return(0,ebJ.useEffect)(()=>{if(o?.engine){let{r:t,g:n,b:i,a:r}=F5("Creator"===l||"Creator"===c?"--ubq-static-text-variable":"--ubq-static-selection-frame",{r:0,g:0,b:0,a:1});o?.engine.editor.setSettingColorRGBA("placeholderHighlightColor",t,n,i,r)}},[o?.engine,l,c]),(0,eb0.jsx)(Oe,{className:"UBQ_GlobalStyles-module__block--zGWhl",theme:r.theme,scale:a,contextContainer:i,renderTarget:s,assetPath:n.baseURL,disableFontInsertion:n.stylesheets?.disableFontInsertion,children:t})}),SV(S$())),eb2=Xc(function(){let t=KA();return(0,eb1.jsx)("div",{className:"UBQ_IconSets-module__block--1Epfj","aria-hidden":"true",children:t.iconSets.map(({id:t,svgSprite:n})=>(0,eb1.jsx)("div",{dangerouslySetInnerHTML:{__html:n}},t))})}),eb3=SV(Sz()),eb5=(SV(S$()),eb3.Component,{block:"UBQ_Editor-module__block--XnWXF",globalContainerQuery:"UBQ_Editor-module__globalContainerQuery--Jq7sz",navigation:"UBQ_Editor-module__navigation--x2yHa",bottom:"UBQ_Editor-module__bottom--tua5R",body:"UBQ_Editor-module__body--Pwi6o",verticalBodyLayout:"UBQ_Editor-module__verticalBodyLayout--0bAJc",dock:"UBQ_Editor-module__dock--DOhMf",canvasViewport:"UBQ_Editor-module__canvasViewport--URkpK",canvasContainer:"UBQ_Editor-module__canvasContainer--oG4y4",videoTimeline:"UBQ_Editor-module__videoTimeline--CUN-C",dialog:"UBQ_Editor-module__dialog--kJqRj",notifications:"UBQ_Editor-module__notifications--qaddH"}),eb4=SV(S$());Xc(function({editorContainer:t,videoExportSupportState:n}){let i=Kb(),{t:r}=qL(),s=KK(),{navigationEnabled:o,dockEnabled:a,navigationPosition:l,inspectorBarEnabled:c,viewStyle:u,hideUserInterface:d}=i,p=erz("//ly.img.panel/assetLibrary"),h=Jy("editor/present"),f=enF();(function(){let t=Ju(),n=Kb(),i=Jy("editor/managePages")&&n.blocks["//ly.img.ubq/page"].manage,{canDuplicate:r,pageInSelection:s}=Jh(t,()=>{let n=t.block.findAllSelected(),i=n[0];return{canDuplicate:null!=i&&t.block.isAllowedByScope(i,eeC),pageInSelection:n.some(n=>t.block.isValid(n)&&"//ly.img.ubq/page"===t.block.getType(n))}}),o=YB().copyPasteHandlers;GV({copy:(!s||i)&&r?o.copy:Kk,paste:o.paste})})(),NI(["mod+."],()=>{$U(()=>{i.hideUserInterface=!d})});let[m]=K1(s.scene.mode);return"Video"!==m||n.supported?(0,eb4.jsxs)(Jj,{className:eb5.block,scope:JR,label:r("editor.scope.global"),children:[!h&&o&&!d&&(0,eb4.jsx)("div",{className:(0,K3.default)(eb5.navigation,eb5[l]),children:(0,eb4.jsx)(ehi,{})}),(0,eb4.jsxs)("div",{className:(0,K3.default)(eb5.body,{[eb5.verticalBodyLayout]:f}),children:[a&&!d&&(f||"left"===p)&&(0,eb4.jsx)(ei6,{className:eb5.dock}),(0,eb4.jsxs)(zJ,{className:(0,K3.default)(eb5.canvasViewport,{[eb5.verticalBodyLayout]:f}),children:[!d&&(0,eb4.jsx)(erN,{panelPosition:"left"}),(0,eb4.jsxs)("div",{className:eb5.canvasContainer,children:[(0,eb4.jsx)(ehu,{condition:t=>!(!c||d)&&("default"===u||"Trim"===t.editor.getEditMode()),children:(0,eb4.jsx)(ep7,{})}),(0,eb4.jsx)(eiA,{canvasControls:(0,eb4.jsx)(eiT,{}),editorContainer:t})]}),!d&&(0,eb4.jsx)(evu,{}),!d&&(0,eb4.jsx)(elx.Panel,{}),!d&&!f&&(0,eb4.jsx)(erN,{panelPosition:"right"})]}),!d&&"Video"===m&&(0,eb4.jsx)(efT,{className:eb5.videoTimeline}),a&&!d&&!f&&"right"===p&&(0,eb4.jsx)(ei6,{className:eb5.dock}),!h&&(0,eb4.jsx)(QV,{children:(0,eb4.jsx)("div",{className:eb5.notifications,children:(0,eb4.jsx)(ehl,{})})}),!h&&(0,eb4.jsx)(QV,{children:(0,eb4.jsx)(eiL,{})}),!d&&(0,eb4.jsxs)(eb4.Fragment,{children:[(0,eb4.jsx)(efz,{}),(0,eb4.jsx)(evk,{}),(0,eb4.jsx)(ebU,{}),(0,eb4.jsx)(evC,{}),(0,eb4.jsx)(ef2,{}),(0,eb4.jsx)(ebW,{}),(0,eb4.jsx)(ec4.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(ebQ,{block:t})}),(0,eb4.jsx)(ese.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(ese,{block:t})}),(0,eb4.jsx)(epc.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(ef5,{block:t})}),(0,eb4.jsx)(ed2.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(ef9,{block:t})}),(0,eb4.jsx)(edf.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(efq,{block:t})}),(0,eb4.jsx)(edP.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(efj,{block:t})}),(0,eb4.jsx)(euQ.SupportGuard,{children:({block:t})=>(0,eb4.jsx)(efZ,{block:t})}),(0,eb4.jsx)(epT.SupportGuard,{children:t=>(0,eb4.jsx)(ebY,{...t})}),(0,eb4.jsx)(ep5.SupportGuard,{children:t=>(0,eb4.jsx)(ef8,{...t})}),(0,eb4.jsx)(eaL.SupportGuard,{children:()=>(0,eb4.jsx)(efR,{})})]})]}),!d&&(0,eb4.jsx)(ehx,{}),!d&&(0,eb4.jsx)(eb2,{})]}):(0,eb4.jsx)("div",{className:eb5.block,children:(0,eb4.jsxs)(HF,{show:!0,className:eb5.dialog,type:"error","aria-label":r("component.video.unsupported"),children:[(0,eb4.jsx)(N5,{level:1,children:r("component.video.unsupported")}),(0,eb4.jsx)(qI,{i18nKey:"component.video.unsupported.description"})]})})});SV(Mx()),SV(Mx()),SV(EW());var eb6=(SV(Sz()),SV(S$())),eb8=t=>(0,eb6.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eb6.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2C5.34315 2 4 3.34315 4 5V19C4 20.6569 5.34315 22 7 22H12.6736C12.3783 21.3783 12.1719 20.7061 12.0709 20H7C6.44772 20 6 19.5523 6 19V5C6 4.44772 6.44772 4 7 4H12V7.5C12 8.88071 13.1193 10 14.5 10H18V12.0709C18.3266 12.0242 18.6605 12 19 12C19.3395 12 19.6734 12.0242 20 12.0709V8.32843C20 7.53278 19.6839 6.76972 19.1213 6.20711L15.7929 2.87868C15.2303 2.31607 14.4672 2 13.6716 2H7ZM17.9445 8C17.8954 7.8588 17.8148 7.72904 17.7071 7.62132L14.3787 4.29289C14.271 4.18518 14.1412 4.10457 14 4.05547V7.5C14 7.77614 14.2239 8 14.5 8H17.9445Z",fill:"currentColor"}),(0,eb6.jsx)("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z",fill:"currentColor"})]}),eb7=SV(S$()),eb9=(Xc(Jg(function({engine:t}){let n=YB(),i=YT(),{t:r}=qL(),{blocks:s}=Kb(),o=Jy("editor/managePages"),a=i.feature.isEnabled("ly.img.page.add",{engine:t}),l=s["//ly.img.ubq/page"].manage;return o&&l&&a?(0,eb7.jsx)("div",{className:"UBQ_CanvasBarAddPageButton-module__block--Y2Z-1",children:(0,eb7.jsx)(DR,{icon:(0,eb7.jsx)(eb8,{}),name:"canvasControlsAddPage","data-cy":"canvasControlsAddPage",onClick:()=>n.addPage(),children:r("action.page.add")})}):null})),SV(S$())),eAe=(Xc(function(){let{t:t}=qL(),n=YT(),{settingsPanelEnabled:i}=Kb(),r=t("component.settings.toggle"),s=t("component.settings.toggle.description"),{width:o}=G2();return i?(0,eb9.jsx)("div",{className:"UBQ_CanvasBarSettingsButton-module__block--gYXgN",children:(0,eb9.jsx)(DR,{"aria-label":s,icon:(0,eb9.jsx)(eaN,{}),name:"show-settings","data-cy":"show-settings",onClick:()=>{n.ui.isPanelOpen("//ly.img.panel/settings")?n.ui.closePanel("//ly.img.panel/settings"):n.ui.openPanel("//ly.img.panel/settings")},variant:"plain",children:0!==o&&o>=480&&r})}):null}),SV(S$())),eAt=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),r=KU(),s=t.block.findAllSelected(),o=s.every(n=>t.block.isAllowedByScope(n,eew)),a=n.feature.isEnabled("ly.img.delete",{engine:t}),l=()=>(o&&a&&(s.forEach(n=>{t.block.destroy(n)}),r("action.block.delete",{elements:s})),!1);NI(["del","backspace"],l);let c=i("action.block.delete",{count:s?.length??1});return o&&a?(0,eAe.jsx)(U6,{label:c,children:(0,eAe.jsx)(enz,{"aria-label":c,name:"canvas-action-delete",onClick:l,icon:(0,eAe.jsx)(esZ,{})})}):null})),SV(S$())),eAn=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),{focusSelectedElement:r}=JC(),s=YB(),o=t.block.findAllSelected().every(n=>t.block.isAllowedByScope(n,eeC)),a=n.feature.isEnabled("ly.img.duplicate",{engine:t}),l=i("action.block.duplicate");return o&&a?(0,eAt.jsx)(U6,{label:l,children:(0,eAt.jsx)(enz,{"aria-label":l,name:"canvas-action-duplicate",onClick:async()=>{let n=await s.duplicateSelectedDesignElements();r(),n.forEach(n=>{t.block.setSelected(n,!0)})},icon:(0,eAt.jsx)(eaZ,{})})}):null})),SV(Sz()),SV(S$())),eAi=t=>(0,eAn.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eAn.jsx)("path",{d:"M9 4V6L6 6L6 9H4L4 4L9 4Z",fill:"currentColor"}),(0,eAn.jsx)("path",{d:"M4 15H6L6 18H9L9 20H4L4 15Z",fill:"currentColor"}),(0,eAn.jsx)("path",{d:"M15 20V18H18V16H20V20H15Z",fill:"currentColor"}),(0,eAn.jsx)("path",{d:"M17.2928 13.2069L12.7928 8.70691L14.207 7.29271L17 10.0857L17 5.60536C17 4.00797 15.2197 3.05519 13.8906 3.94126L12.5547 4.83186L11.4453 3.16776L12.7812 2.27716C15.4394 0.505011 19 2.41058 19 5.60536L19 10.0855L21.7928 7.29271L23.207 8.70692L18.707 13.2069C18.5195 13.3945 18.2652 13.4998 17.9999 13.4998C17.7347 13.4998 17.4804 13.3945 17.2928 13.2069Z",fill:"currentColor"})]}),eAr=SV(S$()),eAs=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),r=YB(),{viewStyle:s}=Kb(),{focusSelectedElement:o}=JC(),a=Jy("ui/group")||"advanced"===s,l=n.feature.isEnabled("ly.img.group",{engine:t}),[c]=t.block.findAllSelected();return null!=c&&"//ly.img.ubq/group"===t.block.getType(c)&&a&&l?(0,eAr.jsxs)(enz,{name:"canvas-action-enter-group",onClick:()=>{let[n]=t.block.findAllSelected();void 0!==n&&(r.engine.block.enterGroup(n),o())},children:[(0,eAr.jsx)(eAi,{}),i("action.enterGroup")]}):null})),SV(Sz()),SV(S$())),eAo=t=>(0,eAs.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eAs.jsx)("path",{d:"M11.293 19.2071L4.79297 12.7071L6.20718 11.2929L11.0002 16.0859V5H13.0002V16.0857L17.793 11.2929L19.2072 12.7071L12.7072 19.2071C12.5196 19.3947 12.2653 19.5 12.0001 19.5C11.7349 19.5 11.4805 19.3947 11.293 19.2071Z",fill:"currentColor"})}),eAa=(SV(Sz()),SV(S$())),eAl=t=>(0,eAa.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eAa.jsx)("path",{d:"M12.7072 4.7929L19.2072 11.2929L17.793 12.7071L13.0001 7.91422V19H11.0001V7.91422L6.20719 12.7071L4.79297 11.2929L11.293 4.7929C11.4805 4.60536 11.7349 4.5 12.0001 4.5C12.2653 4.5 12.5196 4.60536 12.7072 4.7929Z",fill:"currentColor"})}),eAc=SV(S$()),eAu={up:"up",down:"down"},eAd={up:"left",down:"right"},eAp={VerticalStack:eAu,HorizontalStack:eAd,DepthStack:eAd,Free:eAu},eAh=Xc(Jg(function({engine:t,direction:n}){let i=YT(),r=YB(),{t:s}=qL(),{blocks:o,singlePageMode:a}=Kb(),l=o["//ly.img.ubq/page"].manage,c=Jy("editor/managePages"),u=i.feature.isEnabled("ly.img.page.move",{engine:t});if(!l||!c||!u||a)return null;let[d]=t.block.findAllSelected(),p=t.scene.getPages(),h=p.indexOf(d),f=h===p.length-1;if(0===h&&"up"===n||f&&"down"===n)return null;let m=eAp[t.block.getEnum(t.scene.get(),"scene/layout")][n],g=s("left"===m?"action.pageMove.left":"right"===m?"action.pageMove.right":"up"===m?"action.pageMove.up":"action.pageMove.down");return(0,eAc.jsx)(enz,{"aria-label":g,name:`canvas-action-manage-${n}`,onClick:()=>{"up"===n?r.moveSelectedPageUp():"down"===n&&r.moveSelectedPageDown()},icon:(0,eAc.jsxs)(eAc.Fragment,{children:["up"===m&&(0,eAc.jsx)(eAl,{}),"down"===m&&(0,eAc.jsx)(eAo,{}),"left"===m&&(0,eAc.jsx)(ehw,{}),"right"===m&&(0,eAc.jsx)(eoO,{})]}),children:g})})),eAf=SV(S$()),eAm=SV(S$()),eAg=SV(S$()),eAx=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),r=Jy("ui/placeholder"),s=n.feature.isEnabled("ly.img.placeholder",{engine:t});return r&&s?(0,eAg.jsx)(enz,{name:"canvas-action-placeholder-settings",withoutInput:!0,children:({showLabel:t})=>(0,eAg.jsx)(elx.Button,{variant:"plain","data-cy":"canvas-action-placeholder-settings",children:t?i("component.placeholder.create"):null})}):null})),SV(S$())),eAy=(Xc(Jg(function({engine:t}){let n;let i=YT(),{t:r}=qL(),s=t.block.findAllSelected()[0];if(!i.feature.isEnabled("ly.img.replace",{engine:t})||!s)return null;let o=t.block.getType(s),a=t.block.hasFill(s)?t.block.getFill(s):void 0,l=null!=a&&t.block.isValid(a)?t.block.getType(a):void 0,c=r("common.replace");return n=r("//ly.img.ubq/fill/video"===l?"action.video.replace":"//ly.img.ubq/audio"===o?"action.audio.replace":"//ly.img.ubq/fill/image"===l?"action.image.replace":"common.replace"),(0,eAx.jsx)(ehF,{children:({replaceAssetLibraryPanelOpen:i,setReplaceAssetLibraryPanelOpen:r,canReplace:s})=>s?(0,eAx.jsx)(enz,{"aria-label":n,name:"canvas-action-replace",disabled:i,onClick:()=>{t.editor.setEditMode("Transform"),r(!0)},icon:(0,eAx.jsx)(ea9,{}),children:c}):null})})),SV(Sz()),SV(S$())),eAv=t=>(0,eAy.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eAy.jsx)("path",{d:"M15 4V6H18V9H20V4H15Z",fill:"currentColor"}),(0,eAy.jsx)("path",{d:"M20 15H18V18H15L15 20H20V15Z",fill:"currentColor"}),(0,eAy.jsx)("path",{d:"M9 20V18H6V16H4V20H9Z",fill:"currentColor"}),(0,eAy.jsx)("path",{d:"M6.70719 1.7929L11.2072 6.29292L9.79297 7.70713L7 4.91415V9.39448C7 10.9919 8.78029 11.9447 10.1094 11.0586L11.4453 10.168L12.5547 11.8321L11.2188 12.7227C8.56058 14.4948 5 12.5893 5 9.39448V4.9143L2.20719 7.70713L0.792969 6.29292L5.29297 1.7929C5.48051 1.60536 5.73486 1.5 6.00008 1.5C6.2653 1.5 6.51965 1.60536 6.70719 1.7929Z",fill:"currentColor"})]}),eAb=SV(S$()),eAA=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),{focusSelectedElement:r}=JC(),s=n.feature.isEnabled("ly.img.group",{engine:t}),o=t.block.findAllSelected()[0],a=null!=o?t.block.getParent(o):null,l=null!=a&&"//ly.img.ubq/group"===t.block.getType(a),c=Jv(ee_,a??void 0);return l&&c&&s?(0,eAb.jsxs)(enz,{name:"canvas-action-select-group",onClick:()=>{null!=a&&(t.block.select(a),r())},children:[(0,eAb.jsx)(eAv,{}),i("action.selectGroup")]}):null})),SV(Sz())),eAw=SV(S$()),eAC={bold:["ctrl+b","command+b"],italic:["ctrl+i","command+i"]},eA_={bold:(0,eAw.jsx)(eys,{}),italic:(0,eAw.jsx)(eya,{})},eAS=Xc(function({block:t,type:n}){let i=Ju(),{t:r}=qL(),[s]=K1(t.textFontStyles),[o]=K1(t.textFontWeights),[a]=K1(t.canToggleBoldFont),[l]=K1(t.canToggleItalicFont),c=void 0!==o&&"bold"===o[0],u=void 0!==s&&"italic"===s[0],d=!a&&"bold"===n||!l&&"italic"===n,p=()=>{"bold"===n?i.block.toggleBoldFont(t.id):"italic"===n&&i.block.toggleItalicFont(t.id)},h=(0,eAA.useRef)(d);(0,eAA.useEffect)(()=>{h.current=d},[d]),NI(eAC[n],()=>(h.current||p(),!1),{global:!0});let f=eA_[n],m=r("bold"===n?"typography.bold":"typography.italic"),g=r("input.fontStyle.toggle",{style:m});return(0,eAw.jsx)(U6,{label:g,children:(0,eAw.jsx)(enz,{"aria-label":g,name:`canvas-action-text-run-${n}`,onClick:p,isDisabled:d,isActive:"bold"===n?c:u,icon:f})})}),eAk=SV(S$()),eAE=(Xc(Jg(function({engine:t}){let n=YT(),i=eic();return Jv(eex)&&i&&n.feature.isEnabled("ly.img.text.edit",{engine:t})?(0,eAk.jsx)(eAS,{block:i,type:"bold"}):null})),SV(S$())),eAM=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),[r,s]=erU("//ly.img.panel/inspector/fill/color",KA());if(!Jv(eey)||!n.feature.isEnabled("ly.img.text.edit",{engine:t}))return null;let o=t.block.findAllSelected()[0],a=i("component.colorPicker.description"),l=Y_(t.block.getTextColors(o),t.editor),c=Array.isArray(l)?l[0]:l;return(0,eAE.jsx)(U6,{label:a,children:(0,eAE.jsx)(enz,{name:"color","aria-label":a,"data-cy":"fill",onClick:()=>s(!r),icon:(0,eAE.jsx)(Ug,{color:"object"==typeof c?UE(c):c})})})})),SV(S$())),eAI=(Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),r=n("action.editText"),s=Jv(eeg),o=i.feature.isEnabled("ly.img.text.edit",{engine:t});return s&&o?(0,eAM.jsx)(enz,{"aria-label":r,name:"canvas-action-edit",onClick:()=>{t.editor.setEditMode("Text"),t.editor._update()},icon:(0,eAM.jsx)(HY,{}),children:r}):null})),SV(S$())),eAT=(Xc(Jg(function({engine:t}){let n=YT(),i=eic();return Jv(eex)&&i&&n.feature.isEnabled("ly.img.text.edit",{engine:t})?(0,eAI.jsx)(eAS,{block:i,type:"italic"}):null})),SV(Sz())),eAB={optionLabel:"UBQ_TextVariableAction-module__optionLabel--yRJ8W"},eAL=SV(S$());Xc(function(){let{t:t}=qL(),n=YB(),i=YT(),r=Ju(),{placeholderChange:s}=Kv(),o=(0,eAT.useMemo)(()=>r.variable.findAll().map(n=>{let i=t(`variables.${n}.label`,{defaultValue:n});return{key:n,value:r.variable.getString(n),label:i}}),[r.variable,s]),a=t("input.insertVariable");return 0===o.length?null:i.feature.isEnabled("ly.img.text.edit",{engine:r})?(0,eAL.jsx)(enz,{name:"canvas-action-text-run-color",className:eAB.block,withoutInput:!0,children:({showLabel:t})=>(0,eAL.jsxs)(Ha,{closeOnWheel:!0,keyShortcutTrigger:["ctrl+shift+l","command+shift+l"],keyShortcutTriggerOptions:{preventDefault:!0,global:!0},doubleOffset:!0,children:[n=>(0,eAL.jsxs)(DR,{"aria-label":a,name:"insert-variable",variant:"plain",...n,children:[(0,eAL.jsx)(eiY,{}),t&&a]}),()=>(0,eAL.jsx)(Ha.Options,{value:null,onChange:t=>{n.legacyApi.execute("ubq/inputs/keyboardkey",{key:0,characters:`{{${t.key}}}`,shiftIsHeld:!1,commandIsHeld:!1,optionIsHeld:!1,timestamp:Date.now()})},children:o.map(t=>(0,eAL.jsx)(Ha.Option,{value:t,children:(0,eAL.jsx)("span",{className:eAB.optionLabel,"data-cy":t.key,children:t.label})},t.value))})]})}):null});var eAj=(SV(Sz()),SV(S$())),eAP=(SV(Sz()),SV(S$())),eAR=(Xc(Jg(function({engine:t,isDisabled:n}){let i=YT(),{t:r}=qL(),s=KU(),o=t.block.findAllSelected(),[a]=o,l=i.feature.isEnabled("ly.img.position",{engine:t}),c=Jv(eei),u=Jy("ui/fixLayers");if(null==a||!c||!l)return null;let d=t.block.isAlignable(o),p=t.block.isDistributable(o),h=1===o?.length,f=o?.length>2,m=h&&t.block.isAlwaysOnTop(a),g=h&&t.block.isAlwaysOnBottom(a),x=t=>({name:t,scope:eei,tooltip:!1,i18nKey:`action.${t}`,children:r(`action.${t}`),variant:"plain"}),y=t=>({...x(t),isDisabled:!d}),v=t=>({...x(t),isDisabled:!h}),b=t=>({...x(t),isDisabled:!p});function A(){null!=a&&(t.block.bringForward(a),s("action.arrange.bringForward"))}function w(){null!=a&&(t.block.bringToFront(a),s("action.arrange.toFront"))}function C(){null!=a&&(t.block.sendBackward(a),s("action.arrange.sendBackward"))}function _(){null!=a&&(t.block.sendToBack(a),s("action.arrange.toBack"))}return(0,eAP.jsxs)(N0,{children:[t=>(0,eAP.jsx)(DR,{name:"action.position",icon:(0,eAP.jsx)(egM,{}),variant:"plain",isDisabled:!c||n,...t,children:r("action.position")}),()=>(0,eAP.jsxs)(Qx.Container,{children:[h&&(0,eAP.jsxs)(eAP.Fragment,{children:[(0,eAP.jsx)(Qx.Heading,{level:3,children:r("action.arrange")}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...v("arrange.toFront"),icon:(0,eAP.jsx)(egl,{}),onClick:w})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...v("arrange.bringForward"),icon:(0,eAP.jsx)(ehM,{}),onClick:A})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...v("arrange.sendBackward"),icon:(0,eAP.jsx)(ehT,{}),onClick:C})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...v("arrange.toBack"),icon:(0,eAP.jsx)(egT,{}),onClick:_})}),u&&(0,eAP.jsxs)(eAP.Fragment,{children:[(0,eAP.jsx)(Hp,{}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{name:"toggle-always_on_top",icon:m?(0,eAP.jsx)(euD,{}):(0,eAP.jsx)(egu,{}),i18nKey:"input.alwaysOnTop",variant:"plain",onClick:()=>{var n;n=!m,h&&t.block.setAlwaysOnTop(a,n)},isDisabled:n||!c,children:r("input.alwaysOnTop")})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{name:"toggle-always_on_bottom",icon:g?(0,eAP.jsx)(euD,{}):(0,eAP.jsx)(egu,{}),i18nKey:"input.alwaysOnBottom",variant:"plain",onClick:()=>{var n;n=!g,h&&t.block.setAlwaysOnBottom(a,n)},isDisabled:n||!c,children:r("input.alwaysOnBottom")})})]}),(0,eAP.jsx)(Hp,{})]}),(0,eAP.jsx)(Qx.Heading,{level:3,children:r(h?"action.align.toPage":"action.align.elements")}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.left"),icon:(0,eAP.jsx)(egb,{}),onClick:()=>{t.block.alignHorizontally(o,"Left"),s("action.align.left")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.horizontalCenter"),icon:(0,eAP.jsx)(egy,{}),onClick:()=>{t.block.alignHorizontally(o,"Center"),s("action.align.horizontalCenter")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.right"),icon:(0,eAP.jsx)(egw,{}),onClick:()=>{t.block.alignHorizontally(o,"Right"),s("action.align.right")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.top"),icon:(0,eAP.jsx)(eg_,{}),onClick:()=>{t.block.alignVertically(o,"Top"),s("action.align.top")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.verticalCenter"),icon:(0,eAP.jsx)(egk,{}),onClick:()=>{t.block.alignVertically(o,"Center"),s("action.align.verticalCenter")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...y("align.bottom"),icon:(0,eAP.jsx)(egp,{}),onClick:()=>{t.block.alignVertically(o,"Bottom"),s("action.align.bottom")}})}),f&&p&&(0,eAP.jsxs)(eAP.Fragment,{children:[(0,eAP.jsx)(Hp,{}),(0,eAP.jsx)(Qx.Heading,{level:3,children:r("action.distribute")}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...b("distribute.vertically"),icon:(0,eAP.jsx)(egg,{}),onClick:()=>{t.block.distributeVertically(o),s("action.distribute.vertically")}})}),(0,eAP.jsx)(Qx.Item,{children:(0,eAP.jsx)(egL,{...b("distribute.horizontally"),icon:(0,eAP.jsx)(egf,{}),onClick:()=>{t.block.distributeHorizontally(o),s("action.distribute.horizontally")}})})]})]})]})})),SV(S$())),eAD=(Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT().feature.isEnabled("ly.img.replace",{engine:t}),[r]=t.block.findAllSelected();return null!=r&&"//ly.img.ubq/audio"===t.block.getType(r)&&i?(0,eAR.jsx)(ehF,{children:({replaceAssetLibraryPanelOpen:t,setReplaceAssetLibraryPanelOpen:i,canReplace:r})=>r?(0,eAR.jsx)(DR,{variant:"plain","aria-label":n("action.audio.replace"),name:"inspector-bar-replace",disabled:t,onClick:()=>{i(!0)},icon:(0,eAR.jsx)(ea9,{}),children:n("common.replace")}):null}):null})),SV(SH())),eAF={popoverContent:"UBQ_StrokeWidth-module__popoverContent--nObLJ",button:"UBQ_StrokeWidth-module__button--9tr3O"},eAO=SV(S$()),eAN=function({isDisabled:t}){let{t:n}=qL(),i=Jv(eeb),r=emO(),[s]=K1(KK().scene.designUnit),o=elv(s),a=eic(),[l]=K1(a?.hasStroke,!1),[c]=K1(l&&a?.strokeWidth,0),u=parseFloat(c.toFixed(2)),d=n("property.strokeWidth.description");return r?(0,eAO.jsxs)(N0,{placement:"bottom",children:[(n,{isOpen:s})=>(0,eAO.jsx)(U6,{label:d,children:(0,eAO.jsxs)(DR,{icon:(0,eAO.jsx)(ela,{}),name:"strokeWidth","aria-label":d,variant:"plain",isDisabled:!i||!r||t,className:eAF.button,...n,children:[(0,eAO.jsxs)("span",{className:(0,eAD.default)(eAF.label,eAF[o]),children:[u," ",o]}),s?(0,eAO.jsx)(Ub,{}):(0,eAO.jsx)(Uy,{})]})}),()=>(0,eAO.jsx)("div",{className:eAF.popoverContent,children:(0,eAO.jsx)(Qe,{children:(0,eAO.jsx)(egn.DefaultUI,{})})})]}):null},eAU=SV(S$()),eAV=(Xc(Jg(function({engine:t,deniedByScopeBehavior:n="disable"}){let i=YT(),r=Kb().blocks["//ly.img.ubq/text"].colorEnabled,[s]=t.block.findAllSelected();if(null==s)return null;let o=i.feature.isEnabled("ly.img.stroke",{engine:t}),a=t.block.isAllowedByScope(s,eeb);if(!o)return null;let l=t.block.getType(s),c=t.block.supportsShape(s)?t.block.getShape(s):void 0,u=null!=c&&t.block.isValid(c)?t.block.getType(c):void 0;return(a||"hide"!==n)&&"//ly.img.ubq/shape/line"!==u&&("//ly.img.ubq/text"!==l||r)?(0,eAU.jsxs)(eAU.Fragment,{children:[(0,eAU.jsx)(ecG.StrokeInBar,{panelId:"//ly.img.panel/inspector/stroke/color",groupId:"subInspector"}),(0,eAU.jsx)(eAN,{}),(0,eAU.jsx)(em7,{}),(0,eAU.jsx)(emG,{disablePositionControls:"//ly.img.ubq/text"===l})]}):null})),SV(S$())),eAH=(Xc(Jg(function({engine:t}){let n=YT(),{t:i}=qL(),{showBooleanOperations:r,operations:s,clickHandler:o,error:a,dismissError:l}=eyJ();return n.feature.isEnabled("ly.img.combine",{engine:t})&&r?(0,eAV.jsxs)(eAV.Fragment,{children:[(0,eAV.jsxs)(N0,{children:[t=>(0,eAV.jsx)(DR,{name:"booleanOperationsOptions",icon:(0,eAV.jsx)(eyz,{}),variant:"plain",...t,children:i("input.booleanoperations")}),({closePopover:t})=>(0,eAV.jsx)(Qx.Container,{children:s.map(({operation:n,label:i,icon:r})=>(0,eAV.jsx)(Qx.Item,{children:(0,eAV.jsx)(DR,{icon:(0,eAV.jsx)(r,{}),name:n,variant:"plain",onClick:()=>{o(n,{selectAfter:!0}),t()},children:i})},n))})]}),(0,eAV.jsx)(ey2,{error:a,dismissError:l})]}):null})),SV(Sz())),eAQ=SV(S$()),eAz=function(){let{t:t}=qL(),n=t("input.cutoutSmoothing"),i=KU(),r=KK(),[s]=K1(r.scene.designUnit),[o]=K1(r.scene.dpi),a=eic(),[l,c]=K1(a?.cutoutSmoothing,0),[u,d]=(0,eAH.useMemo)(()=>{let t=100*("Pixel"===s?1:"Inch"===s?o:"Millimeter"===s?o/25.4:0)/200;return[t,1/t]},[s,o]);return(0,eAQ.jsx)(er2,{name:"cutoutSmoothingValue",label:n,min:0,max:100,maxFractionDigits:0,centeredZeroPosition:!1,value:l*u,onChange:t=>{c(t*d)},onRelease:()=>{i("action.cutoutSmoothing.change")}})},eAG=SV(S$());Xc(Jg(function({engine:t}){let{t:n}=qL(),i=n("input.cutoutSmoothing");return YT().feature.isEnabled("ly.img.cutout",{engine:t})?(0,eAG.jsxs)(N0,{children:[t=>(0,eAG.jsx)(U6,{label:i,children:(0,eAG.jsx)(DR,{name:"cutoutSmoothingButton",variant:"plain",icon:(0,eAG.jsx)(emj,{}),...t,children:i})}),()=>(0,eAG.jsx)("div",{className:"UBQ_CutoutSmoothing-module__popoverContent--bzG-7",children:(0,eAG.jsx)(Qe,{children:(0,eAG.jsx)(eAz,{})})})]}):null}));var eAq=(SV(Sz()),SV(S$())),eAW=t=>(0,eAq.jsx)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eAq.jsx)("path",{d:"M3 4.5H9C9.82843 4.5 10.5 3.82843 10.5 3V3C10.5 2.17157 9.82843 1.5 9 1.5V1.5C8.17157 1.5 7.5 2.17157 7.5 3V9C7.5 9.82843 8.17157 10.5 9 10.5V10.5C9.82843 10.5 10.5 9.82843 10.5 9V9C10.5 8.17157 9.82843 7.5 9 7.5H3C2.17157 7.5 1.5 8.17157 1.5 9V9C1.5 9.82843 2.17157 10.5 3 10.5V10.5C3.82843 10.5 4.5 9.82843 4.5 9V3C4.5 2.17157 3.82843 1.5 3 1.5V1.5C2.17157 1.5 1.5 2.17157 1.5 3V3C1.5 3.82843 2.17157 4.5 3 4.5Z",stroke:"currentColor",strokeLinejoin:"round"})}),eA$=(SV(Sz()),SV(S$())),eAZ=t=>(0,eA$.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eA$.jsx)("path",{d:"M4.5 4H12.5C12.7761 4 13 4.22386 13 4.5V5H15V4.5C15 3.11929 13.8807 2 12.5 2H4.5C3.11929 2 2 3.11929 2 4.5V12.5C2 13.8807 3.11929 15 4.5 15H5V13H4.5C4.22386 13 4 12.7761 4 12.5V4.5C4 4.22386 4.22386 4 4.5 4Z",fill:"currentColor"}),(0,eA$.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 9H9.5C9.22386 9 9 9.22386 9 9.5V18.5C9 18.7761 9.22386 19 9.5 19H18.5C18.7761 19 19 18.7761 19 18.5V9.5C19 9.22386 18.7761 9 18.5 9ZM9.5 7C8.11929 7 7 8.11929 7 9.5V18.5C7 19.8807 8.11929 21 9.5 21H18.5C19.8807 21 21 19.8807 21 18.5V9.5C21 8.11929 19.8807 7 18.5 7H9.5Z",fill:"currentColor"})]}),eAY=(SV(Sz()),SV(S$())),eAK=t=>(0,eAY.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eAY.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 10V17H15V10H17V17.25C17 18.2165 16.2165 19 15.25 19H8.75C7.7835 19 7 18.2165 7 17.25V10H9Z",fill:"currentColor"}),(0,eAY.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1C8.89543 1 8 1.89543 8 3H7C5.34315 3 4 4.34315 4 6V19C4 20.6569 5.34315 22 7 22H17C18.6569 22 20 20.6569 20 19V6C20 4.34315 18.6569 3 17 3H16C16 1.89543 15.1046 1 14 1H10ZM16 5C16 6.10457 15.1046 7 14 7H10C8.89543 7 8 6.10457 8 5H7C6.44772 5 6 5.44772 6 6V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V6C18 5.44772 17.5523 5 17 5H16ZM10 3H14V5H10V3Z",fill:"currentColor"})]}),eAX=(SV(Sz()),SV(S$())),eAJ=t=>(0,eAX.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,eAX.jsx)("path",{d:"M4.75 8C4.33579 8 4 8.33579 4 8.75C4 9.16421 4.33579 9.5 4.75 9.5H7.25C7.66421 9.5 8 9.16421 8 8.75C8 8.33579 7.66421 8 7.25 8H4.75Z",fill:"currentColor"}),(0,eAX.jsx)("path",{d:"M4 11.75C4 11.3358 4.33579 11 4.75 11H7.25C7.66421 11 8 11.3358 8 11.75C8 12.1642 7.66421 12.5 7.25 12.5H4.75C4.33579 12.5 4 12.1642 4 11.75Z",fill:"currentColor"}),(0,eAX.jsx)("path",{d:"M4.75 14C4.33579 14 4 14.3358 4 14.75C4 15.1642 4.33579 15.5 4.75 15.5H7.25C7.66421 15.5 8 15.1642 8 14.75C8 14.3358 7.66421 14 7.25 14H4.75Z",fill:"currentColor"}),(0,eAX.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 7C1 5.34315 2.34315 4 4 4H20C21.6569 4 23 5.34315 23 7V17C23 18.6569 21.6569 20 20 20H4C2.34315 20 1 18.6569 1 17V7ZM4 6C3.44772 6 3 6.44772 3 7V17C3 17.5523 3.44772 18 4 18H9V6H4ZM20 18H11V6H20C20.5523 6 21 6.44772 21 7V17C21 17.5523 20.5523 18 20 18Z",fill:"currentColor"})]}),eA0={shortcutString:"UBQ_OptionsMenu-module__shortcutString--B9svW",optionsMenuRow:"UBQ_OptionsMenu-module__optionsMenuRow--J9DTY"},eA1=SV(S$());function eA2({shortcutKey:t}){let{t:n}=qL(),i=enF(),r="Mac OS"===function(){let{userAgent:t,platform:n}=window.navigator,i=null;return["Macintosh","MacIntel","MacPPC","Mac68K"].includes(n)?i="Mac OS":["iPhone","iPad","iPod"].includes(n)?i="iOS":["Win32","Win64","Windows","WinCE"].includes(n)?i="Windows":/Android/.test(t)?i="Android":!i&&/Linux/.test(n)&&(i="Linux"),i}()?(0,eA1.jsx)(eAW,{}):`${n("common.controlKey")} + `;return i?null:(0,eA1.jsxs)("div",{className:eA0.shortcutString,children:[r,t]})}function eA3({additionalActions:t,isDisabled:n,isCopyDisabled:i}){let{t:r}=qL(),s=YB(),o=Ju(),a=YT(),l=KA(),{inspectorEnabled:c}=Kb(),[,u]=erU("//ly.img.panel/inspector",l),d=r("input.options.description"),{copy:p,paste:h}=s.copyPasteActions,f=Jv(eeC),m=a.feature.isEnabled("ly.img.duplicate",{engine:o}),g=[{name:"copyElement",label:r("action.block.copy"),icon:(0,eA1.jsx)(eAZ,{}),method:()=>{p()},shortcutKey:"C",isDisabled:i||!(f&&m)},{name:"pasteElement",label:r("action.block.paste"),icon:(0,eA1.jsx)(eAK,{}),method:()=>{h()},shortcutKey:"V",isDisabled:!1}];return(0,eA1.jsxs)(N0,{children:[t=>(0,eA1.jsx)(U6,{label:d,children:(0,eA1.jsx)(DR,{name:"optionsMenu","aria-label":d,variant:"plain",isDisabled:n,...t,children:(0,eA1.jsxs)(UU,{children:[(0,eA1.jsx)(QA,{}),(0,eA1.jsx)(Qv,{})]})})}),({closePopover:n})=>(0,eA1.jsxs)(Qx.Container,{children:[t,!!t&&(0,eA1.jsx)(Hp,{}),g.map(({name:t,label:n,icon:i,method:r,shortcutKey:s,isDisabled:o})=>(0,eA1.jsx)(Qx.Item,{children:(0,eA1.jsxs)(DR,{icon:i,name:t,variant:"plain",onClick:r,isDisabled:o,children:[n,(0,eA1.jsx)(eA2,{shortcutKey:s})]})},t)),c&&(0,eA1.jsxs)(eA1.Fragment,{children:[(0,eA1.jsx)(Hp,{}),(0,eA1.jsx)(Qx.Item,{children:(0,eA1.jsx)(DR,{icon:(0,eA1.jsx)(eAJ,{}),name:"show-inspector",variant:"plain",onClick:()=>{n(),u(!0)},children:r("action.showInspector")})})]})]})]})}var eA5=Xc(({...t})=>{let n=Jv(eel),i=Jv(eec),{blocksOpacityEnabled:r}=Kb();return(0,eA1.jsx)(eA3,{additionalActions:n||i?(0,eA1.jsxs)(eA1.Fragment,{children:[r&&n&&(0,eA1.jsx)(Qx.Item,{children:(0,eA1.jsx)("div",{className:eA0.optionsMenuRow,children:(0,eA1.jsx)(egO,{})})},"additionalActionsOpacity"),i&&(0,eA1.jsx)(Qx.Item,{children:(0,eA1.jsx)("div",{className:eA0.optionsMenuRow,children:(0,eA1.jsx)(egQ,{})})},"additionalActionsBlendMode")]}):null,...t})}),eA4=(Xc(Jg(function({engine:t}){let n=YT().feature.isEnabled("ly.img.options",{engine:t}),i=Kb(),r=!(Jy("editor/managePages")&&i.blocks["//ly.img.ubq/page"].manage),s=t.block.findAllSelected(),o=0===s.length,a=s.length>1,[l]=s;if(!n)return null;if(a)return(0,eA1.jsx)(eA3,{});if(o)return(0,eA1.jsx)(eA3,{isCopyDisabled:!0});switch(t.block.getType(l)){case"//ly.img.ubq/text":case"//ly.img.ubq/group":case"//ly.img.ubq/graphic":return(0,eA1.jsx)(eA5,{});case"//ly.img.ubq/audio":case"//ly.img.ubq/cutout":return(0,eA1.jsx)(eA3,{});case"//ly.img.ubq/page":return(0,eA1.jsx)(eA3,{isCopyDisabled:r});default:return null}})),Xc(eA3),"UBQ_ShapeOptions-module__shapePopoverContent--43lVm"),eA6=SV(S$()),eA8=(Xc(Jg(function({engine:t,deniedByScopeBehavior:n="disable"}){let{t:i}=qL(),r=YT().feature.isEnabled("ly.img.shape.options",{engine:t}),[s]=t.block.findAllSelected();if(null==s||"sticker"===t.block.getKind(s)||!(null!=s&&t.block.hasShape(s))||!r)return null;let o=t.block.isAllowedByScope(s,eeA),a=t.block.hasShape(s)?t.block.getShape(s):void 0,l=null!=a&&t.block.isValid(a)?t.block.getType(a):void 0;return(o||"hide"!==n)&&("//ly.img.ubq/shape/rect"===l||"//ly.img.ubq/shape/line"===l||"//ly.img.ubq/shape/star"===l||"//ly.img.ubq/shape/polygon"===l)?(0,eA6.jsxs)(N0,{placement:"bottom",disableFocusTrap:!0,children:[(t,{isOpen:n})=>(0,eA6.jsx)(U6,{label:i("input.shape.options"),children:(0,eA6.jsxs)(DR,{icon:(0,eA6.jsx)(eiz,{}),name:"shapeOptions",...t,variant:"plain",children:[i("input.shape"),n?(0,eA6.jsx)(Ub,{}):(0,eA6.jsx)(Uy,{})]})}),()=>(0,eA6.jsxs)("div",{className:eA4,children:[(0,eA6.jsx)(em_,{}),(0,eA6.jsx)(emv,{}),(0,eA6.jsx)(emE,{}),(0,eA6.jsx)(emA,{}),(0,eA6.jsx)(emg,{})]})]}):null})),SV(S$()));Xc(Jg(function({engine:t,isDisabled:n,deniedByScopeBehavior:i="disable"}){let{t:r}=qL(),s=YT().feature.isEnabled("ly.img.text.alignment",{engine:t}),o=Jv(eex),[a]=t.block.findAllSelected();if(null==a||!s||!o&&"hide"===i)return null;let l=t.block.getEnum(a,"text/horizontalAlignment"),c=[{name:"alignTextLeft",label:r("property.textAlignment.horizontal.left"),referenceValue:"Left",icon:(0,eA8.jsx)(ex$,{})},{name:"alignTextHorizontalCenter",label:r("property.textAlignment.horizontal.center"),referenceValue:"Center",icon:(0,eA8.jsx)(exq,{})},{name:"alignTextRight",label:r("property.textAlignment.horizontal.right"),referenceValue:"Right",icon:(0,eA8.jsx)(exY,{})}],u=c.find(t=>t.referenceValue===l)?.icon,d=r("property.textAlignment.horizontal.description");return(0,eA8.jsxs)(Ha,{children:[t=>(0,eA8.jsx)(U6,{label:d,children:(0,eA8.jsx)(DR,{name:"textAlignmentSelect","aria-label":d,variant:"plain",isDisabled:!o||n,...t,children:(0,eA8.jsxs)("div",{className:"UBQ_TextAlignmentSelect-module__cornerChevronOverlay--mjLT0",children:[u,(0,eA8.jsx)(Qv,{})]})})}),()=>(0,eA8.jsx)(Ha.Options,{value:l,onChange:n=>{n&&t.block.setEnum(a,"text/horizontalAlignment",n)},children:c.map(({referenceValue:t,icon:n,label:i,name:r})=>(0,eA8.jsx)(Ha.Option,{value:t,children:(0,eA8.jsxs)("div",{className:"UBQ_TextAlignmentSelect-module__option--YlC8o",children:[n,(0,eA8.jsx)("span",{children:i})]})},r))})]})}));var eA7=SV(Sz()),eA9=SV(S$()),ewe=(Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),{callbacks:{onBack:r}}=JH(),s=Nz(),[o,a]=(0,eA7.useState)("Idle"),l=(0,eA7.useCallback)(async()=>{if(null!=r&&"function"==typeof r){a("Running");let t=r();t?await t.then(()=>{s.current&&a("Idle")}).catch(()=>{s.current&&a("Failed")}):s.current&&a("Idle")}else alert("Please configure the 'onBack' callback")},[r,s]),c=n("component.topbar.back");return i.feature.isEnabled("ly.img.navigate.back",{engine:t})?(0,eA9.jsx)(DR,{icon:(0,eA9.jsx)(erT,{}),name:"onBack","data-cy":"tb-onBack","aria-label":c,onClick:l,isLoading:"Idle"!==o,children:c}):null})),SV(Sz()),SV(S$())),ewt=t=>(0,ewe.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ewe.jsx)("path",{d:"M12.7072 13.7071L17.2072 9.2071L15.793 7.7929L13.0001 10.5858V3H11.0001V10.5858L8.20719 7.79289L6.79297 9.2071L11.293 13.7071C11.4805 13.8947 11.7349 14 12.0001 14C12.2653 14 12.5197 13.8947 12.7072 13.7071Z",fill:"currentColor"}),(0,ewe.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 17V14H5V17C5 17.5523 5.44772 18 6 18H18C18.5523 18 19 17.5523 19 17V14H21V17C21 18.6569 19.6569 20 18 20H6C4.34315 20 3 18.6569 3 17Z",fill:"currentColor"})]}),ewn=(SV(Sz()),SV(S$())),ewi=t=>(0,ewn.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ewn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V8.82843C21 8.29799 20.7893 7.78929 20.4142 7.41421L16.5858 3.58579C16.2107 3.21071 15.702 3 15.1716 3H5ZM15.1716 5H10V7H14.25V9H9C8.44772 9 8 8.55228 8 8V5H5L5 19H7V13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13V19H19V8.82843L15.1716 5ZM15 19V14H9V19H15Z",fill:"currentColor"})}),ewr=(SV(Sz()),SV(S$())),ews=t=>(0,ewr.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ewr.jsx)("path",{d:"M9 6H6C4.34315 6 3 7.34315 3 9V18C3 19.6569 4.34315 21 6 21H15C16.6569 21 18 19.6569 18 18V15H16V18C16 18.5523 15.5523 19 15 19H6C5.44772 19 5 18.5523 5 18V9C5 8.44772 5.44772 8 6 8H9V6Z",fill:"currentColor"}),(0,ewr.jsx)("path",{d:"M21.2071 7.29297L17.207 3.29297L15.7928 4.7072L18.0858 7.00016L15 7.00017C12.2386 7.00017 10 9.23874 10 12.0002L10 15.0002H12L12 12.0002C12 10.3433 13.3431 9.00017 15 9.00017L18.0857 9.00016L15.7928 11.293L17.207 12.7072L21.2071 8.7072C21.3946 8.51966 21.5 8.2653 21.5 8.00008C21.5 7.73486 21.3946 7.48051 21.2071 7.29297Z",fill:"currentColor"})]}),ewo=SV(Sz()),ewa=(t,n)=>new Promise(i=>{let r=document.createElement("a");r.setAttribute("href",window.URL.createObjectURL(t)),r.setAttribute("download",n),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),i()}),ewl=()=>(t,n)=>ewa(t,`cesdk-archive-${(new Date).toISOString()}${n}`),ewc=()=>{let{onDownload:t}=JH().callbacks;return"download"===t?t=>ewa(new Blob([t],{type:"text/plain;charset=UTF-8"}),`cesdk-${(new Date).toISOString()}.scene`):t},ewu={[nf.Png]:"png",[nf.Jpeg]:"jpeg",[nf.WebP]:"webp",[nf.Tga]:"tga",[nf.Wav]:"wav",[nf.Mp4]:"mp4",[nf.QuickTime]:"mov",[nf.Binary]:"bin",[nf.Pdf]:"pdf",[nf.Zip]:"zip"},ewd=(t,n)=>{let i=`cesdk-${(new Date).toISOString()}.${ewu[n.mimeType]||"unknown"}`;return ewa(t[0],i)},ewp=()=>{let{onLoadArchive:t}=JH().callbacks;return"uploadArchive"===t?()=>{let t=document.createElement("input");return t.setAttribute("type","file"),t.setAttribute("accept",".zip"),t.style.display="none",document.body.appendChild(t),new Promise((n,i)=>{t.onchange=r=>{let s=r.target,o=s.files?.[0];if(void 0===o)i(Error("No files selected"));else{let t=URL.createObjectURL(o);t?n(t):i(Error("No valid archive could be read"))}t.onchange=null,t.value=""},t.click()})}:t},ewh=()=>{let{onLoad:t}=JH().callbacks;return"upload"===t?()=>{let t=document.createElement("input");return t.setAttribute("type","file"),t.setAttribute("accept",".scene"),t.style.display="none",document.body.appendChild(t),new Promise((n,i)=>{t.onchange=r=>{let s=r.target,o=s.files?.[0];if(void 0===o)i(Error("No files selected"));else{let t=new FileReader;t.readAsText(o,"UTF-8"),t.onload=t=>{let r=t.target?.result;r&&"string"==typeof r?n(r):i(Error("No valid scene could be read"))}}t.onchange=null,t.value=""},t.click()})}:t},ewf=(SV(Sz()),SV(S$())),ewm=function(t){return n=>{function i(i){return(0,ewf.jsx)(ehu,{...t,children:(0,ewf.jsx)(n,{...i})})}return i.displayName=`withRenderIf(${n.displayName||n.name})`,i}},ewg=SV(S$()),ewx={default:(0,ewg.jsx)(eiU,{}),download:(0,ewg.jsx)(ewt,{}),upload:(0,ewg.jsx)(JU,{}),save:(0,ewg.jsx)(ewi,{})},ewy=(ewm({condition:t=>!!t.scene.getMode()})(Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),r=YB(),s=JH(),o=Kb(),[,{previewRole:a}]=Jc(),{callbacks:l}=s,{actionEnabled:c}=o,u=function(){let{callbacks:{onExport:t}}=JH();return"download"===t?ewd:t}(),d=ewc(),p=ewl(),h=ewh(),f=ewp(),m=t.scene.getMode(),g=n("component.fileOperation.importScene"),x=n("component.fileOperation.importArchive"),y=n("component.fileOperation.exportImage"),v=n("component.fileOperation.exportPDF"),b=n("component.fileOperation.exportVideo"),A=n("component.fileOperation.save"),w=n("component.fileOperation.archiveScene"),C=n("component.fileOperation.exportScene"),_=n("component.fileOperation.share"),S=n("component.fileOperation.more"),k=(0,ewo.useRef)(!0),[E,M]=(0,ewo.useState)({state:"Idle"}),I="Saving"===E.state;function T(t,n,i){let r=async(...r)=>{if(null!=n){M({name:t,state:"Saving"});try{await Promise.resolve(i&&i(n,...r)),requestAnimationFrame(()=>{k.current&&M({name:t,state:"Saved"})})}catch(n){console.error(n),k.current&&M({name:t,state:"Failed"})}}else alert(`Please configure the ${t} callback`)};return r.callbackName=t,r}let B=T("onLoad",h,async n=>{let i=n();i?Promise.resolve(i).then(n=>t.scene.loadFromString(n)).then(()=>{r.getUIEventEmitter().emit("action.scene.load")}):console.warn("onLoad did not return valid string or promise")}),L=T("onLoadArchive",f,async n=>{let i=n();i?Promise.resolve(i).then(n=>t.scene.loadFromArchiveURL(n)).then(()=>{r.getUIEventEmitter().emit("action.scene.load")}):console.warn("onLoadArchive did not return valid string or promise")}),j=t=>T(`onExport_${t}`,u,async n=>{let i;t===nf.Pdf&&(i=r.getScene()),t===nf.Png&&(i=r.getPageManager().getSelectedOrCurrentPage());let s={mimeType:t,block:i},o=await r.export(s);return n(o.blobs,o.options)}),P=(0,ewo.useCallback)(async()=>{let n=new AbortController,s={type:"loading",size:"large",content:{title:"dialog.export.title",message:"dialog.export.message"},actions:[{label:"dialog.export.action",onClick:({id:t})=>{i.ui.updateDialog(t,{...o})}}],cancel:void 0,clickOutsideToClose:!1},o={content:{title:"dialog.export.abort.title",message:"dialog.export.abort.message"},actions:[{label:"dialog.export.action",color:"danger",onClick:({id:t})=>{i.ui.closeDialog(t),n.abort(),M({name:"onVideoExport",state:"Idle"})}}],cancel:{label:"action.continue",onClick:({id:t})=>{i.ui.updateDialog(t,s)}},clickOutsideToClose:!1},a=i.ui.showDialog({...s,progress:0});try{r.disableAllSoloPlayback();let s=t.scene.getCurrentPage();if(null===s||!t.block.isValid(s))throw Error("Can't export video without a page to be exported");let o=await t.block.exportVideo(s,nf.Mp4,(t,n,r)=>{i.ui.updateDialog(a,{progress:{value:t,max:r}})},{abortSignal:n.signal});return i.ui.updateDialog(a,{type:"success",content:{title:"dialog.export.success.title",message:"dialog.export.success.message"},actions:[{label:"common.close",onClick:({id:t})=>{i.ui.closeDialog(t)}}],cancel:void 0,clickOutsideToClose:!0}),o}catch(t){i.ui.updateDialog(a,{type:"error",content:{title:"dialog.export.error.title",message:["dialog.export.error.message.1","dialog.export.error.message.2"]},actions:[{label:"common.close",onClick:({id:t})=>{i.ui.closeDialog(t)}}],cancel:void 0,clickOutsideToClose:!0})}},[i.ui,t.block,t.scene,r]),R=T("onVideoExport",u,async t=>{let n=await P();if(n)return t([n],{mimeType:nf.Mp4})}),D=T("onDownload",d,async n=>n(await t.scene.saveToString())),F=T("onSave",l.onSave,async n=>n(await t.scene.saveToString())),O=T("onArchive",p,async n=>n(await t.scene.saveToArchive(),".zip")),N=T("onShare",l.onShare,async n=>n(await t.scene.saveToString())),U={show:c.load&&null===a,name:B.callbackName,children:g,handler:B,icon:(0,ewg.jsx)(JU,{}),isDisabled:"Saving"===E.state,isLoading:E.name===B.callbackName&&"Saving"===E.state,"data-cy":"tb-loadScene"},V={show:c.load&&null===a,name:L.callbackName,children:x,handler:L,icon:(0,ewg.jsx)(JU,{}),isDisabled:"Saving"===E.state,isLoading:E.name===L.callbackName&&"Saving"===E.state,"data-cy":"tb-loadArchive"},H={show:c.save&&null===a,name:F.callbackName,children:A,handler:F,icon:(0,ewg.jsx)(ewi,{}),isDisabled:"Saving"===E.state,isLoading:E.name===F.callbackName&&"Saving"===E.state,"data-cy":"tb-saveScene"},Q={show:c.archive,name:O.callbackName,children:w,handler:O,icon:(0,ewg.jsx)(ewt,{}),isDisabled:"Saving"===E.state,isLoading:E.name===O.callbackName&&"Saving"===E.state,"data-cy":"tb-archiveScene"},z={show:c.share,name:N.callbackName,children:_,handler:N,icon:(0,ewg.jsx)(ews,{}),isDisabled:"Saving"===E.state,isLoading:E.name===N.callbackName&&"Saving"===E.state,"data-cy":"tb-shareScene"},G={show:c.download,name:D.callbackName,children:C,handler:D,icon:(0,ewg.jsx)(ewt,{}),isDisabled:"Saving"===E.state,isLoading:E.name===D.callbackName&&"Saving"===E.state,"data-cy":"tb-downloadScene"},q=j(nf.Png),W={show:"Design"===m&&c.exportFormats.includes(nf.Png),name:q.callbackName,children:y,handler:q,icon:(0,ewg.jsx)(eiU,{}),isDisabled:"Saving"===E.state,isLoading:E.name===q.callbackName&&"Saving"===E.state,"data-cy":"tb-exportScene"},$=j(nf.Pdf),Z={show:"Design"===m&&c.exportFormats.includes(nf.Pdf),name:$.callbackName,children:v,handler:$,icon:(0,ewg.jsx)(eiU,{}),isDisabled:"Saving"===E.state,isLoading:E.name===$.callbackName&&"Saving"===E.state,"data-cy":"tb-exportPDFScene"},Y={show:"Video"===m&&c.exportFormats.includes(nf.Mp4),name:R.callbackName,children:b,handler:R,icon:(0,ewg.jsx)(eiX,{}),isDisabled:"Saving"===E.state,isLoading:E.name===R.callbackName&&"Saving"===E.state,"data-cy":"tb-exportVideoScene"},K=[...s.ui?.elements?.navigation?.action?.custom?.map(({callback:t=()=>{},label:i="UNDEFINED",iconName:r="default"},s)=>{let o=`customAction-${i}-${r}`;return{show:!0,name:o,children:n(i),handler:T(o,t,t=>t()),icon:ewx[r],isDisabled:"Saving"===E.state,isLoading:E.name===o&&"Saving"===E.state,"data-cy":`tb-customAction-${s}`}})??[],H,W,Z,Y,z,G,Q,U,V].filter(t=>t.show).map(({show:t,...n})=>n);if(0===K.length)return null;let{handler:X,...J}=K[0];return(0,ewg.jsxs)(N8,{dataCy:"action-buttons",children:[(0,ewg.jsx)(DR,{...J,onClick:X,color:"accent"}),K.length>1&&(0,ewg.jsxs)(N0,{placement:"bottom",disableFocusTrap:I,children:[(t,{isOpen:n})=>(0,ewg.jsx)(U6,{label:S,children:(0,ewg.jsx)(DR,{name:"ctaMore","data-cy":"ctaMore","aria-label":S,isDisabled:I,...t,color:"accent",children:n?(0,ewg.jsx)(Ub,{}):(0,ewg.jsx)(Uy,{})})}),({closePopover:t})=>(0,ewg.jsx)("ul",{className:"UBQ_NavigationBarCallToActionButton-module__listing--3r-xc",children:K.slice(1).map(({handler:n,...i})=>(0,ewg.jsx)("li",{children:(0,ewg.jsx)(DR,{onClick:async()=>{await n(),t()},variant:"plain",...i})},i.name))})]})]})}))),SV(Sz())),ewv=SV(S$()),ewb=(Xc(Jg(function({engine:t}){let{t:n}=qL(),i=YT(),{callbacks:{onClose:r}}=JH(),s=Nz(),[o,a]=(0,ewy.useState)("Idle"),l=(0,ewy.useCallback)(async()=>{if(null!=r&&"function"==typeof r){a("Running");let t=r();t?await t.then(()=>{s.current&&a("Idle")}).catch(()=>{s.current&&a("Failed")}):s.current&&a("Idle")}else alert("Please configure the 'onClose' callback")},[r,s]),c=n("component.topbar.close");return i.feature.isEnabled("ly.img.navigate.close",{engine:t})?(0,ewv.jsx)(DR,{icon:(0,ewv.jsx)(VC,{}),name:"closeScene","data-cy":"tb-closeScene","aria-label":c,onClick:l,isLoading:"Idle"!==o,children:c}):null})),SV(Sz()),SV(S$())),ewA=t=>(0,ewb.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ewb.jsx)("path",{d:"M6 12C6 10.3431 7.34315 9 9 9C10.6569 9 12 10.3431 12 12C12 13.6569 10.6569 15 9 15C7.34315 15 6 13.6569 6 12Z",fill:"currentColor"}),(0,ewb.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 4H15C19.4183 4 23 7.58172 23 12C23 16.4183 19.4183 20 15 20H9C4.58172 20 1 16.4183 1 12C1 7.58172 4.58172 4 9 4ZM9 6C5.68629 6 3 8.68629 3 12C3 15.3137 5.68629 18 9 18H15C18.3137 18 21 15.3137 21 12C21 8.68629 18.3137 6 15 6L9 6Z",fill:"currentColor"})]}),eww=(SV(Sz()),SV(S$())),ewC=t=>(0,eww.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,eww.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 4C4.58172 4 1 7.58172 1 12C1 16.4183 4.58172 20 9 20H15C19.4183 20 23 16.4183 23 12C23 7.58172 19.4183 4 15 4H9ZM15 7C12.2386 7 10 9.23858 10 12C10 14.7614 12.2386 17 15 17C17.7614 17 20 14.7614 20 12C20 9.23858 17.7614 7 15 7Z",fill:"currentColor"})}),ew_=SV(Sz()),ewS=SV(S$()),ewk=(Xc(function(){let t=YT(),n=YB(),{t:i}=qL(),r=enF(),s=t.feature.isEnabled("ly.img.preview",{engine:n.engine}),o=KA(),[a,l]=erU("//ly.img.panel/inspector/placeholderSettings",o),[,c]=erU("//ly.img.panel/inspector",o),{scene:u}=KK(),[d,p]=K1(u.playing,!1),[,{configuredRole:h,previewRole:f,setPreviewRole:m}]=Jc(),g=null!==f,x=i("common.mode.preview"),y=(0,ew_.useRef)(null);return(0,ew_.useEffect)(()=>n.engine.editor.onHistoryUpdated(()=>{g||null===y.current||(n.engine.block.setPlaybackTime(n.engine.scene.get(),y.current),y.current=null)})),"Creator"===h&&s&&!r?(0,ewS.jsx)(DR,{icon:g?(0,ewS.jsx)(ewC,{}):(0,ewS.jsx)(ewA,{}),name:"previewButton",isActive:g,onClick:()=>{d&&p(!1),$U(g?()=>{n.getUndoManager().deactivatePreviewUndoStack(),m(null)}:async()=>{m("Adopter"),a&&(l(!1),await new Promise(t=>{window.setTimeout(t,500)})),n.getUndoManager().activatePreviewUndoStack(),n.engine.block.isAllowedByScope(n.engine.block.findAllSelected()[0]??n.getScene(),ee_)||(c(!1),n.engine.block.findAllSelected().forEach(t=>n.engine.block.setSelected(t,!1))),n.engine.editor.setSettingEnum("doubleClickSelectionMode","Direct"),y.current=n.engine.block.getPlaybackTime(n.engine.scene.get())})},children:x}):null}),SV(Sz()),SV(S$())),ewE=t=>(0,ewk.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ewk.jsx)("path",{d:"M22.0001 8V16H14.0001V14H18.3744C18.0961 13.5909 17.7753 13.2016 17.4117 12.838C14.2944 9.72069 9.2402 9.72069 6.12286 12.838C5.34176 13.6191 4.75803 14.5192 4.36907 15.4785L2.05225 14.5392C2.56466 13.2753 3.33314 12.0922 4.35509 11.0703C8.44874 6.97661 15.0859 6.97661 19.1795 11.0703C19.4741 11.3649 19.7477 11.6729 20.0001 11.9924V8H22.0001Z",fill:"currentColor"})}),ewM=(SV(Sz()),SV(S$())),ewI=t=>(0,ewM.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ewM.jsx)("path",{d:"M1.99951 8V16H9.99951V14H5.6252C5.90351 13.5909 6.22432 13.2016 6.58788 12.838C9.70521 9.72069 14.7594 9.72069 17.8768 12.838C18.6579 13.6191 19.2416 14.5192 19.6305 15.4785L21.9474 14.5392C21.435 13.2753 20.6665 12.0922 19.6445 11.0703C15.5509 6.97661 8.91376 6.97661 4.82011 11.0703C4.52549 11.3649 4.25194 11.6729 3.99951 11.9924V8H1.99951Z",fill:"currentColor"})}),ewT=SV(S$()),ewB=(ewm({condition:t=>null!=t.scene.get()})(Xc(function(){let t=YB().getUndoManager(),{t:n}=qL(),i=n("component.undo.undo"),r=n("component.undo.redo"),[s]=K1(t.canUndo,!1),[o]=K1(t.canRedo,!1);NI(["ctrl+z","command+z"],()=>(t.undo(),!1)),NI(["ctrl+shift+z","command+shift+z"],()=>(t.redo(),!1));let{width:a}=G2("embedViewport");return(0,ewT.jsx)("div",{className:"UBQ_NavigationBarUndoControls-module__block--mNDbM","data-cy":"undo-redo-buttons",children:(0,ewT.jsxs)(N8,{children:[(0,ewT.jsx)(DR,{icon:(0,ewT.jsx)(ewI,{}),name:"undo",isDisabled:!s,"aria-label":i,onClick:t.undo,children:0!==a&&a>=480&&i}),(0,ewT.jsx)(U6,{label:r,children:(0,ewT.jsx)(DR,{name:"redo",isDisabled:!o,"aria-label":r,onClick:t.redo,children:(0,ewT.jsx)(ewE,{})})})]})})})),SV(Sz())),ewL=(SV(Sz()),SV(S$())),ewj=t=>(0,ewL.jsx)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:(0,ewL.jsx)("path",{d:"M2 6.5L6 2L10 6.5H8V9.5H4V6.5H2Z",stroke:"currentColor",strokeLinejoin:"round"})}),ewP=(SV(Sz()),SV(S$())),ewR=t=>(0,ewP.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ewP.jsx)("path",{d:"M10 10V7H12V10H15V12H12V15H10V12H7V10H10Z",fill:"currentColor"}),(0,ewP.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11C19 12.8487 18.3729 14.551 17.3199 15.9056L21.4142 20L20 21.4142L15.9056 17.3199C14.551 18.3729 12.8487 19 11 19C6.58172 19 3 15.4183 3 11ZM11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5Z",fill:"currentColor"})]}),ewD=(SV(Sz()),SV(S$())),ewF=t=>(0,ewD.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,...t,children:[(0,ewD.jsx)("path",{d:"M15 10H7V12H15V10Z",fill:"currentColor"}),(0,ewD.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11C19 12.8487 18.3729 14.551 17.3199 15.9056L21.4142 20L20 21.4142L15.9056 17.3199C14.551 18.3729 12.8487 19 11 19C6.58172 19 3 15.4183 3 11ZM11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5Z",fill:"currentColor"})]}),ewO={label:"UBQ_NavigationBarZoomControls-module__label--hxaR-",optionsMenu:"UBQ_NavigationBarZoomControls-module__optionsMenu--VYvd9",option:"UBQ_NavigationBarZoomControls-module__option--xgHwa",checkIcon:"UBQ_NavigationBarZoomControls-module__checkIcon--42pMU",shortcutContainer:"UBQ_NavigationBarZoomControls-module__shortcutContainer--nioUn"},ewN=SV(S$());function ewU(){let t=YB(),{t:n}=qL(),i=enF(),r=KK(),[s,o]=K1(r.camera.zoomLevel),[a]=K1(r.camera.autoFit),l=(0,ewB.useRef)(window.devicePixelRatio),c=(0,ewB.useRef)(a),u=(0,ewB.useCallback)(()=>{let n=t.engine.scene.getCurrentPage();null!==n&&(t.focusBlock(n),t.enableZoomAutoFit(n))},[t]);(0,ewB.useEffect)(()=>{let t=window.devicePixelRatio;c&&t!==l.current&&u(),c.current=a,l.current=t},[a,u]);let{selectedDesignElement:d,hasMultiSelection:p}=K2(),h=(0,ewB.useRef)(null),f=s>.125,m=s<32,g=(t,n=!1)=>{h.current&&h.current.stop();let i=window.matchMedia("(prefers-reduced-motion: reduce)").matches;n&&!i?h.current=DC(s,t,{ease:"easeOut",duration:.15,onUpdate(t){o(t)},onStop:()=>{h.current=null},onComplete:()=>{h.current=null}}):o(t)},x=()=>{let t=Math.round(100*s)/100;for(let n=.125;n<=32;n*=2)if((n-t)/n>=.3){g(n,!0);break}},y=()=>{let t=Math.round(100*s)/100;for(let n=32;n>=.125;n/=2)if((t-n)/t>=.3){g(n,!0);break}},v=`${Math.round(100*s)}%`,b=n("component.zoom.out"),A=n("component.zoom.in"),w=n("component.zoom.options"),C={"shift+2":()=>{g(1)},"+":()=>{x()},"-":()=>{y()}};NI(Object.keys(C),(t,n)=>{C[n]()});let{width:_}=G2("embedViewport"),S=0!==_&&_>=480;return(0,ewN.jsxs)(N8,{dataCy:"zoom-controls",children:[S&&(0,ewN.jsx)(U6,{label:b,children:(0,ewN.jsx)(DR,{"aria-label":b,name:"zoom-out",onClick:y,isDisabled:!f,children:(0,ewN.jsx)(ewF,{})})}),(0,ewN.jsxs)(N0,{children:[(t,{isOpen:i})=>(0,ewN.jsx)(U6,{label:w,children:(0,ewN.jsxs)(DR,{name:"zoomOptions",className:ewO.label,"aria-label":w,...t,children:[a?n("component.zoom.label.auto"):v,i?(0,ewN.jsx)(Ub,{}):(0,ewN.jsx)(Uy,{})]})}),({closePopover:r})=>(0,ewN.jsxs)(Qx.Container,{className:ewO.optionsMenu,"aria-label":n("component.placeholder.settingsMenu"),children:[(0,ewN.jsx)(Qx.ItemCheckbox,{checked:a,children:(0,ewN.jsxs)(ewV,{label:n("component.zoom.autoFit"),onZoomChange:async()=>{u(),r()},children:[a?(0,ewN.jsx)(euD,{className:ewO.checkIcon}):null,n("component.zoom.autoFit")]})}),(0,ewN.jsx)(Hp,{}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsx)(ewV,{label:n("component.zoom.fitPage"),onZoomChange:async()=>{let n=t.engine.scene.getCurrentPage();null!=n&&t.focusBlock(n),r()}})}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsx)(ewV,{label:n("component.zoom.fitSelection"),onZoomChange:()=>{d&&(t.focusBlock(d.id),r())},isDisabled:!d||p})}),(0,ewN.jsx)(Hp,{}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsx)(ewV,{label:n("component.zoom.to",{percentage:200}),onZoomChange:()=>{g(2),r()}})}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsxs)(ewV,{label:n("component.zoom.to",{percentage:100}),onZoomChange:()=>{g(1),r()},shortcut:"shift+2",shortcutLabel:n("component.zoom.shortcut",{shortcut:"shift+2"}),children:[n("component.zoom.to",{percentage:100}),!i&&(0,ewN.jsxs)("span",{className:ewO.shortcutContainer,children:[(0,ewN.jsx)(ewj,{}),"2"]})]})}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsx)(ewV,{label:n("component.zoom.to",{percentage:50}),onZoomChange:()=>{g(.5),r()}})}),(0,ewN.jsx)(Hp,{}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsxs)(ewV,{label:n("component.zoom.in"),onZoomChange:()=>{x(),r()},shortcut:"+",shortcutLabel:n("component.zoom.shortcut",{shortcut:"+"}),isDisabled:!m,children:[n("component.zoom.in"),!i&&(0,ewN.jsx)("span",{className:ewO.shortcutContainer,children:"+"})]})}),(0,ewN.jsx)(Qx.Item,{children:(0,ewN.jsxs)(ewV,{label:n("component.zoom.out"),onZoomChange:()=>{y(),r()},shortcut:"-",shortcutLabel:n("component.zoom.shortcut",{shortcut:"-"}),isDisabled:!f,children:[n("component.zoom.out"),!i&&(0,ewN.jsx)("span",{className:ewO.shortcutContainer,children:"-"})]})})]})]}),S&&(0,ewN.jsx)(U6,{label:A,children:(0,ewN.jsx)(DR,{"aria-label":A,name:"zoom-in",onClick:x,isDisabled:!m,children:(0,ewN.jsx)(ewR,{})})})]})}function ewV({label:t,shortcut:n,shortcutLabel:i="",onZoomChange:r,children:s,isDisabled:o,...a}){return(0,ewN.jsx)(DR,{name:t,"aria-label":`${t} ${i}`,className:ewO.option,variant:"plain",onClick:r,isDisabled:o,...a,children:s??t})}function ewH({config:t,configure:n,onInstanceChange:i,...r}){let s=(0,c2.useRef)(null);return w.jsx("div",{ref:s,...r})}SV(S$()),new class t{static APIFALLBACK_TYPEFACES_SOURCE_ID="apiFallbackTypefaces";static defaultTypefaceLibraries=["ly.img.typeface"];migrateConfigObject(n){return"typefaces"in(n.presets??{})?{...n,ui:{...n.ui,typefaceLibraries:[...n.ui?.typefaceLibraries??t.defaultTypefaceLibraries,t.APIFALLBACK_TYPEFACES_SOURCE_ID]}}:n}},new class{warnKeys(t){if(t.ui?.colorPalette)return"ui.colorPalette is deprecated. Please use ui.colorLibraries instead."}migrateConfigObject(t){return t.ui?.colorPalette?t.ui.colorLibraries?t:{...t,ui:{...t.ui,colorLibraries:[...t.ui?.colorLibraries??Z8.colorLibraries]}}:t}applyFallback(t,n){t?.ui?.colorPalette&&this.addDefaultColorPalettes(t.ui.colorPalette,n)}getDefaultColorPaletteSourceId(){return Z8.colorLibraries?.find(t=>!t.match(/documentColors/))??"ly.img.colors.defaultPalette"}addDefaultColorPalettes(t,n){let i=this.getDefaultColorPaletteSourceId();n.asset.addLocalSource(i),t?.forEach(t=>{let r;let s=Yp(r="string"==typeof t?UT(t):"r"in t&&"g"in t&&"b"in t?{...t,a:"a"in t?t.a:1}:n.editor.convertColorToColorSpace(t,"sRGB"));n.asset.addAssetToSource(i,{id:s.name,label:{en:UI(r)},tags:{en:[s.name]},payload:{color:{colorSpace:"sRGB",...r}}})})}};let ewQ=c2.useMemo,ewz=c2.useCallback,ewG=c2.useState,ewq=c2.useState,ewW={businesscard:{label:"Business Card",assetsFolderName:"business-card",sceneTitle:"Business Card Design",baseColorTextureIndex:0,cameraOrbit:"160deg 90deg"},cap:{label:"Baseball Cap",assetsFolderName:"cap",sceneTitle:"Baseball Cap Design",baseColorTextureIndex:0,cameraOrbit:"160deg 90deg"},apparel:{label:"Apparel",assetsFolderName:"t-shirt",sceneTitle:"T-Shirt Design",baseColorTextureIndex:1,cameraOrbit:"0deg 90deg"},hoodie:{label:"Hoodie",assetsFolderName:"hoodie",sceneTitle:"Hoodie Design",baseColorTextureIndex:1,cameraOrbit:"0deg 90deg",fileName:"hoodie.glb"},hoodieFuture:{label:"Hoodie Future",assetsFolderName:"hoodie-future",sceneTitle:"Hoodie Design",baseColorTextureIndex:1,cameraOrbit:"0deg 90deg",fileName:"hoodie-future.glb"},hoodieMajestic:{label:"Hoodie Majestic",assetsFolderName:"hoodie-majestic",sceneTitle:"Hoodie Majestic",baseColorTextureIndex:1,cameraOrbit:"0deg 90deg",fileName:"hoodie-majestic.glb"},hoodieMindfull:{label:"Hoodie Mindfull",assetsFolderName:"hoodie-mindful",sceneTitle:"Hoodie Mindfull",baseColorTextureIndex:1,cameraOrbit:"0deg 90deg",fileName:"hoodie-mindfull.glb"}},ew$=(t,n,i)=>{t.block.findByName(n).forEach(n=>{let r=t.block.getFill(n);t.block.setString(r,"fill/image/imageFileURI",i),t.block.resetCrop(n)})},ewZ=()=>{let[t,n]=ewq(),[i,r]=ewG(),[s,o]=(0,c2.useState)(),[a,l]=(0,c2.useState)(""),[c,u]=(0,c2.useState)(!0),[d,p]=(0,c2.useState)(!1),[h,f]=(0,c2.useState)(!1),[m,g]=(0,c2.useState)(!0),x=new URLSearchParams(window.location.search).get("c_product")||"apparel",[y,v]=(0,c2.useState)(x),b=(0,c2.useRef)(y);(0,c2.useEffect)(()=>{b.current=y},[y]),(0,c2.useEffect)(()=>{let t=new URLSearchParams(window.location.search);t.set("c_product",y),window.history.pushState({},"",`${window.location.pathname}?${t}`)},[y]);let A=(0,c2.useMemo)(()=>ewW[y],[y]);(0,c2.useEffect)(()=>{let t;let i=!1;return c1.init({license:"X5vxMMqS6wAzpWIk0cXhaQyvj5kx5NhrjbBWnFy05sh5UzCa6mKimNKT2FoFaFvP"}).then(async r=>{if(i){r.dispose();return}t=r,n(r)}),()=>{i=!0,t&&(t.dispose(),n(void 0))}},[n]);let C=(0,c2.useCallback)(async()=>{if(d)return;p(!0),u(!0),await new Promise(t=>setTimeout(t,0));let n=[];for(let t of i.engine.block.findByType("page"))n=[...n,await i.engine.block.export(t,"image/png",{targetWidth:1048,targetHeight:1048})];s?await t.scene.loadFromString(s):await t.scene.loadFromURL(`https://apparels.kalkinso.com/cases/3d-mockup-editor/${A.assetsFolderName}/textures/Material_baseColor.scene`);for(let i=n.length;i<=10;i++)ew$(t,`Image ${i+1}`,"https://apparels.kalkinso.com/cases/3d-mockup-editor/1x1-ffffffff.png");n.forEach((n,i)=>{ew$(t,`Image ${i+1}`,URL.createObjectURL(n))});let r=t.scene.get(),a=await t.scene.saveToString(),c=await t.block.export(r,"image/jpeg");u(!1),p(!1),b.current===y&&(g(!1),o(a),l(URL.createObjectURL(c)))},[s,i,t,A]);(0,c2.useEffect)(()=>{let n=setInterval(()=>{i&&m&&t&&C()},1500);return()=>clearInterval(n)},[m,i,t,C]);let _=ewQ(()=>({license:"X5vxMMqS6wAzpWIk0cXhaQyvj5kx5NhrjbBWnFy05sh5UzCa6mKimNKT2FoFaFvP",role:"Adopter",callbacks:{onExport:"download",onUpload:"local"},ui:{elements:{navigation:{title:A.sceneTitle,action:{export:{show:!0,format:["image/png","application/pdf"]}}},panels:{settings:!0}}}}),[A]),k=ewz(async t=>{await t.addDefaultAssetSources(),await t.addDemoAssetSources({sceneMode:"Design"}),t.ui.setDockOrder([...t.ui.getDockOrder().filter(({key:t})=>"ly.img.template"!==t)]),t.engine.editor.setSettingBool("page/title/show",!1),t.loadFromURL(`https://apparels.kalkinso.com/cases/3d-mockup-editor/${A.assetsFolderName}/design.scene`)},[A]);return(0,c2.useEffect)(()=>{if(!i)return;let t=i.engine.editor.onHistoryUpdated(()=>{g(!0)});return()=>{t()}},[i]),(0,c2.useEffect)(()=>{y&&(u(!0),o())},[y]),(0,w.jsxs)("div",{className:c5().outerWrapper,children:[w.jsx("div",{className:c5().productsWrapper,children:w.jsx(T,{options:Object.entries(ewW).map(([t,{label:n}])=>({label:n,value:t})),value:y,name:"product",onChange:t=>{v(t),l("")},size:"md"})}),(0,w.jsxs)("div",{className:c5().wrapper,children:[w.jsx("div",{className:c5().smokeScreen,style:{visibility:h?"visible":"hidden",opacity:h?"1":"0"}}),w.jsx("div",{className:E()({[c5().fullscreenMockupCenter]:h}),onClick:t=>{h&&t.target===t.currentTarget&&f(!1)},children:(0,w.jsxs)("div",{className:E()({[c5().fullscreenMockupWrapper]:h,[c5().mockupWrapper]:!h}),children:[c&&w.jsx(S,{}),a&&w.jsx("div",{className:c5().topBar,children:w.jsx("button",{className:c5().button,onClick:()=>f(t=>!t),children:h?(0,w.jsxs)(w.Fragment,{children:[w.jsx(c9,{})," Exit Fullscreen"]}):w.jsx(c8,{})})}),a&&w.jsx(w.Fragment,{children:w.jsx(SL,{isInteractive:h,imageUrl:a,modelUrl:`https://apparels.kalkinso.com/cases/3d-mockup-editor/${A.assetsFolderName}/${A?.fileName?A.fileName:"scene.gltf"}`,baseColorTextureIndex:A.baseColorTextureIndex,cameraOrbit:A.cameraOrbit})})]})}),w.jsx("div",{className:"cesdkWrapperStyle",children:w.jsx(ewH,{className:"cesdkStyle",config:_,configure:k,onInstanceChange:r})})]})]})}},4623:t=>{t.exports={header:"CaseComponent_header__PDNrD",previewImage:"CaseComponent_previewImage__uOjL2",smokeScreen:"CaseComponent_smokeScreen__c_RLZ",fullscreenMockupCenter:"CaseComponent_fullscreenMockupCenter__HfnlB",fullscreenMockupWrapper:"CaseComponent_fullscreenMockupWrapper__iB074",modal:"CaseComponent_modal__9nTdk",button:"CaseComponent_button__V9gsW","button--primary":"CaseComponent_button--primary__T0dEy","button--solid":"CaseComponent_button--solid__m6OSm",topBar:"CaseComponent_topBar__f9afu",mockupWrapper:"CaseComponent_mockupWrapper__1g7Q5",cesdk:"CaseComponent_cesdk__7aJ0I",cesdkWrapper:"CaseComponent_cesdkWrapper__l1jOi",productsWrapper:"CaseComponent_productsWrapper__vIePa",outerWrapper:"CaseComponent_outerWrapper__ttLB1",wrapper:"CaseComponent_wrapper___u_ji"}},8220:t=>{t.exports={spinner:"LoadingSpinner_spinner__CFYJL",rotation:"LoadingSpinner_rotation__52mmD"}},6477:t=>{t.exports={wrapper:"SegmentedControl_wrapper__gUfGY",description:"SegmentedControl_description__wsOex",labelWrapper:"SegmentedControl_labelWrapper__4Quvn","labelWrapper--sm":"SegmentedControl_labelWrapper--sm__nypHY","labelWrapper--md":"SegmentedControl_labelWrapper--md__84TnW",labelWrapperActive:"SegmentedControl_labelWrapperActive__nCSBT",label:"SegmentedControl_label__bumNn",input:"SegmentedControl_input__9LxaY",optionWrapper:"SegmentedControl_optionWrapper__rUQsH"}},4567:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});let r=i(3370);i(9510),i(1159);let s=r._(i(6155));function o(t,n){var i;let r={loading:t=>{let{error:n,isLoading:i,pastDelay:r}=t;return null}};"function"==typeof t&&(r.loader=t);let o={...r,...n};return(0,s.default)({...o,modules:null==(i=o.loadableGenerated)?void 0:i.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},3689:(t,n,i)=>{"use strict";let{createProxy:r}=i(8570);t.exports=r("/Users/ankitaditya/Documents/master_projects/kalkinso/showcase-3d-mockup-editor/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},6155:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});let r=i(9510),s=i(1159),o=i(3689),a=i(4459);function l(t){return{default:t&&"default"in t?t.default:t}}let c={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},u=function(t){let n={...c,...t},i=(0,s.lazy)(()=>n.loader().then(l)),u=n.loading;function d(t){let l=u?(0,r.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,c=n.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.PreloadCss,{moduleIds:n.modules}),(0,r.jsx)(i,{...t})]}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(i,{...t})});return(0,r.jsx)(s.Suspense,{fallback:l,children:c})}return d.displayName="LoadableComponent",d}},4459:(t,n,i)=>{"use strict";let{createProxy:r}=i(8570);t.exports=r("/Users/ankitaditya/Documents/master_projects/kalkinso/showcase-3d-mockup-editor/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js")},2029:(t,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>o,metadata:()=>s});var r=i(9510);i(4640);let s={title:"CE.SDK Demo",description:"Build using the CE.SDK"};function o({children:t}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("meta",{name:"theme-color",content:"#000000"}),r.jsx("meta",{name:"description",content:"Kalkinso Software (OPC) Private Limited provides innovative software solutions and AI-powered tools to bring your ideas to life."}),r.jsx("meta",{name:"keywords",content:"Kalkinso Software, AI tools, software solutions, innovative technology, AI-powered software, OPC Private Limited"}),r.jsx("meta",{name:"author",content:"Kalkinso Software (OPC) Private Limited"}),r.jsx("meta",{property:"og:title",content:"Kalkinso Software (OPC) Private Limited"}),r.jsx("meta",{property:"og:image",content:"%PUBLIC_URL%/logo-new.png"}),r.jsx("meta",{property:"og:description",content:"Bringing innovative software ideas to life with cutting-edge AI tools and solutions."}),`<script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-93QSDHVG8E');
        </script>`]}),r.jsx("body",{style:{minHeight:"100vh"},children:t})]})}},6323:(t,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>a});var r=i(9510),s=i(4567);let o=i.n(s)()(()=>i.e(140).then(i.bind(i,140)),{loadableGenerated:{modules:["app/page.tsx -> ../components/case/CaseComponent"]},ssr:!1});function a(){return r.jsx("div",{className:"App showcaseContainer",style:{minHeight:"100vh",display:"flex"},children:r.jsx(o,{})})}},4640:()=>{},8029:(t,n)=>{var i;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var t="",n=0;n<arguments.length;n++){var i=arguments[n];i&&(t=o(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return s.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var n="";for(var i in t)r.call(t,i)&&t[i]&&(n=o(n,i));return n}(i)))}return t}function o(t,n){return n?t?t+" "+n:t+n:t}t.exports?(s.default=s,t.exports=s):void 0!==(i=(function(){return s}).apply(n,[]))&&(t.exports=i)}()}};var n=require("../webpack-runtime.js");n.C(t);var i=t=>n(n.s=t),r=n.X(0,[819],()=>i(2900));module.exports=r})();