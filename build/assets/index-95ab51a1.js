var S7=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var yUe=S7((ki,Ni)=>{function A7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nm={},E7={get exports(){return Nm},set exports(n){Nm=n}},qb={},P={},M7={get exports(){return P},set exports(n){P=n}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=Symbol.for("react.element"),C7=Symbol.for("react.portal"),T7=Symbol.for("react.fragment"),R7=Symbol.for("react.strict_mode"),P7=Symbol.for("react.profiler"),I7=Symbol.for("react.provider"),B7=Symbol.for("react.context"),L7=Symbol.for("react.forward_ref"),D7=Symbol.for("react.suspense"),O7=Symbol.for("react.memo"),k7=Symbol.for("react.lazy"),ZB=Symbol.iterator;function N7(n){return n===null||typeof n!="object"?null:(n=ZB&&n[ZB]||n["@@iterator"],typeof n=="function"?n:null)}var H4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z4=Object.assign,G4={};function Ah(n,e,t){this.props=n,this.context=e,this.refs=G4,this.updater=t||H4}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ah.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function V4(){}V4.prototype=Ah.prototype;function gT(n,e,t){this.props=n,this.context=e,this.refs=G4,this.updater=t||H4}var yT=gT.prototype=new V4;yT.constructor=gT;z4(yT,Ah.prototype);yT.isPureReactComponent=!0;var eL=Array.isArray,$4=Object.prototype.hasOwnProperty,vT={current:null},W4={key:!0,ref:!0,__self:!0,__source:!0};function j4(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$4.call(e,r)&&!W4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lg,type:n,key:s,ref:o,props:i,_owner:vT.current}}function F7(n,e){return{$$typeof:Lg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function xT(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lg}function U7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var tL=/\/+/g;function Dw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?U7(""+n.key):e.toString(36)}function Qv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Lg:case C7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Dw(o,0):r,eL(i)?(t="",n!=null&&(t=n.replace(tL,"$&/")+"/"),Qv(i,e,t,"",function(c){return c})):i!=null&&(xT(i)&&(i=F7(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tL,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eL(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Dw(s,a);o+=Qv(s,e,t,l,i)}else if(l=N7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Dw(s,a++),o+=Qv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wy(n,e,t){if(n==null)return n;var r=[],i=0;return Qv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function H7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Zr={current:null},qv={transition:null},z7={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:qv,ReactCurrentOwner:vT};Nt.Children={map:wy,forEach:function(n,e,t){wy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return wy(n,function(){e++}),e},toArray:function(n){return wy(n,function(e){return e})||[]},only:function(n){if(!xT(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nt.Component=Ah;Nt.Fragment=T7;Nt.Profiler=P7;Nt.PureComponent=gT;Nt.StrictMode=R7;Nt.Suspense=D7;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z7;Nt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=z4({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vT.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)$4.call(e,l)&&!W4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Lg,type:n.type,key:i,ref:s,props:r,_owner:o}};Nt.createContext=function(n){return n={$$typeof:B7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:I7,_context:n},n.Consumer=n};Nt.createElement=j4;Nt.createFactory=function(n){var e=j4.bind(null,n);return e.type=n,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(n){return{$$typeof:L7,render:n}};Nt.isValidElement=xT;Nt.lazy=function(n){return{$$typeof:k7,_payload:{_status:-1,_result:n},_init:H7}};Nt.memo=function(n,e){return{$$typeof:O7,type:n,compare:e===void 0?null:e}};Nt.startTransition=function(n){var e=qv.transition;qv.transition={};try{n()}finally{qv.transition=e}};Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nt.useCallback=function(n,e){return Zr.current.useCallback(n,e)};Nt.useContext=function(n){return Zr.current.useContext(n)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(n){return Zr.current.useDeferredValue(n)};Nt.useEffect=function(n,e){return Zr.current.useEffect(n,e)};Nt.useId=function(){return Zr.current.useId()};Nt.useImperativeHandle=function(n,e,t){return Zr.current.useImperativeHandle(n,e,t)};Nt.useInsertionEffect=function(n,e){return Zr.current.useInsertionEffect(n,e)};Nt.useLayoutEffect=function(n,e){return Zr.current.useLayoutEffect(n,e)};Nt.useMemo=function(n,e){return Zr.current.useMemo(n,e)};Nt.useReducer=function(n,e,t){return Zr.current.useReducer(n,e,t)};Nt.useRef=function(n){return Zr.current.useRef(n)};Nt.useState=function(n){return Zr.current.useState(n)};Nt.useSyncExternalStore=function(n,e,t){return Zr.current.useSyncExternalStore(n,e,t)};Nt.useTransition=function(){return Zr.current.useTransition()};Nt.version="18.2.0";(function(n){n.exports=Nt})(M7);const D=mT(P),J4=A7({__proto__:null,default:D},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G7=P,V7=Symbol.for("react.element"),$7=Symbol.for("react.fragment"),W7=Object.prototype.hasOwnProperty,j7=G7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J7={key:!0,ref:!0,__self:!0,__source:!0};function K4(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)W7.call(e,r)&&!J7.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V7,type:n,key:s,ref:o,props:i,_owner:j7.current}}qb.Fragment=$7;qb.jsx=K4;qb.jsxs=K4;(function(n){n.exports=qb})(E7);const Pa=Nm.Fragment,K=Nm.jsx,Qe=Nm.jsxs;var qA={},Fm={},K7={get exports(){return Fm},set exports(n){Fm=n}},Xi={},ZA={},X7={get exports(){return ZA},set exports(n){ZA=n}},X4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,U){var V=k.length;k.push(U);e:for(;0<V;){var q=V-1>>>1,ee=k[q];if(0<i(ee,U))k[q]=U,k[V]=ee,V=q;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],V=k.pop();if(V!==U){k[0]=V;e:for(var q=0,ee=k.length,se=ee>>>1;q<se;){var Z=2*(q+1)-1,de=k[Z],oe=Z+1,Q=k[oe];if(0>i(de,V))oe<ee&&0>i(Q,de)?(k[q]=Q,k[oe]=V,q=oe):(k[q]=de,k[Z]=V,q=Z);else if(oe<ee&&0>i(Q,V))k[q]=Q,k[oe]=V,q=oe;else break e}}return U}function i(k,U){var V=k.sortIndex-U.sortIndex;return V!==0?V:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function S(k){if(v=!1,b(k),!y)if(t(l)!==null)y=!0,X(E);else{var U=t(c);U!==null&&Y(S,U.startTime-k)}}function E(k,U){y=!1,v&&(v=!1,g(B),B=-1),m=!0;var V=p;try{for(b(U),f=t(l);f!==null&&(!(f.expirationTime>U)||k&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var ee=q(f.expirationTime<=U);U=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(U)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var Z=t(c);Z!==null&&Y(S,Z.startTime-U),se=!1}return se}finally{f=null,p=V,m=!1}}var M=!1,R=null,B=-1,T=5,I=-1;function O(){return!(n.unstable_now()-I<T)}function z(){if(R!==null){var k=n.unstable_now();I=k;var U=!0;try{U=R(!0,k)}finally{U?H():(M=!1,R=null)}}else M=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){x(z,0)};function X(k){R=k,M||(M=!0,H())}function Y(k,U){B=x(function(){k(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,X(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return U()}finally{p=V}},n.unstable_scheduleCallback=function(k,U,V){var q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,k={id:u++,callback:U,priorityLevel:k,startTime:V,expirationTime:ee,sortIndex:-1},V>q?(k.sortIndex=V,e(c,k),t(l)===null&&k===t(c)&&(v?(g(B),B=-1):v=!0,Y(S,V-q))):(k.sortIndex=ee,e(l,k),y||m||(y=!0,X(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var U=p;return function(){var V=p;p=U;try{return k.apply(this,arguments)}finally{p=V}}}})(X4);(function(n){n.exports=X4})(X7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4=P,Vi=ZA;function Be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q4=new Set,Um={};function Ou(n,e){Jd(n,e),Jd(n+"Capture",e)}function Jd(n,e){for(Um[n]=e,n=0;n<e.length;n++)Q4.add(e[n])}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eE=Object.prototype.hasOwnProperty,Y7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nL={},rL={};function Q7(n){return eE.call(rL,n)?!0:eE.call(nL,n)?!1:Y7.test(n)?rL[n]=!0:(nL[n]=!0,!1)}function q7(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Z7(n,e,t,r){if(e===null||typeof e>"u"||q7(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Er[n]=new ei(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Er[e]=new ei(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Er[n]=new ei(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Er[n]=new ei(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Er[n]=new ei(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Er[n]=new ei(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Er[n]=new ei(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Er[n]=new ei(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Er[n]=new ei(n,5,!1,n.toLowerCase(),null,!1,!1)});var bT=/[\-:]([a-z])/g;function _T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bT,_T);Er[e]=new ei(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bT,_T);Er[e]=new ei(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bT,_T);Er[e]=new ei(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Er[n]=new ei(n,1,!1,n.toLowerCase(),null,!1,!1)});Er.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Er[n]=new ei(n,1,!1,n.toLowerCase(),null,!0,!0)});function wT(n,e,t,r){var i=Er.hasOwnProperty(e)?Er[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z7(e,t,i,r)&&(t=null),r||i===null?Q7(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ga=Y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sy=Symbol.for("react.element"),ad=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),tE=Symbol.for("react.profiler"),q4=Symbol.for("react.provider"),Z4=Symbol.for("react.context"),AT=Symbol.for("react.forward_ref"),nE=Symbol.for("react.suspense"),rE=Symbol.for("react.suspense_list"),ET=Symbol.for("react.memo"),gl=Symbol.for("react.lazy"),e5=Symbol.for("react.offscreen"),iL=Symbol.iterator;function vp(n){return n===null||typeof n!="object"?null:(n=iL&&n[iL]||n["@@iterator"],typeof n=="function"?n:null)}var Tn=Object.assign,Ow;function Zp(n){if(Ow===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ow=e&&e[1]||""}return`
`+Ow+n}var kw=!1;function Nw(n,e){if(!n||kw)return"";kw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{kw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zp(n):""}function eJ(n){switch(n.tag){case 5:return Zp(n.type);case 16:return Zp("Lazy");case 13:return Zp("Suspense");case 19:return Zp("SuspenseList");case 0:case 2:case 15:return n=Nw(n.type,!1),n;case 11:return n=Nw(n.type.render,!1),n;case 1:return n=Nw(n.type,!0),n;default:return""}}function iE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ld:return"Fragment";case ad:return"Portal";case tE:return"Profiler";case ST:return"StrictMode";case nE:return"Suspense";case rE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z4:return(n.displayName||"Context")+".Consumer";case q4:return(n._context.displayName||"Context")+".Provider";case AT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ET:return e=n.displayName||null,e!==null?e:iE(n.type)||"Memo";case gl:e=n._payload,n=n._init;try{return iE(n(e))}catch{}}return null}function tJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iE(e);case 8:return e===ST?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $l(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function t5(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nJ(n){var e=t5(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ay(n){n._valueTracker||(n._valueTracker=nJ(n))}function n5(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=t5(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ox(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function sE(n,e){var t=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function sL(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=$l(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r5(n,e){e=e.checked,e!=null&&wT(n,"checked",e,!1)}function oE(n,e){r5(n,e);var t=$l(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?aE(n,e.type,t):e.hasOwnProperty("defaultValue")&&aE(n,e.type,$l(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oL(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function aE(n,e,t){(e!=="number"||Ox(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var em=Array.isArray;function Rd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+$l(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function lE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function aL(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Be(92));if(em(t)){if(1<t.length)throw Error(Be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:$l(t)}}function i5(n,e){var t=$l(e.value),r=$l(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function lL(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function s5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?s5(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ey,o5=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ey=Ey||document.createElement("div"),Ey.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ey.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var hm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rJ=["Webkit","ms","Moz","O"];Object.keys(hm).forEach(function(n){rJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),hm[e]=hm[n]})});function a5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||hm.hasOwnProperty(n)&&hm[n]?(""+e).trim():e+"px"}function l5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=a5(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var iJ=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uE(n,e){if(e){if(iJ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function fE(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dE=null;function MT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hE=null,Pd=null,Id=null;function cL(n){if(n=kg(n)){if(typeof hE!="function")throw Error(Be(280));var e=n.stateNode;e&&(e=r1(e),hE(n.stateNode,n.type,e))}}function c5(n){Pd?Id?Id.push(n):Id=[n]:Pd=n}function u5(){if(Pd){var n=Pd,e=Id;if(Id=Pd=null,cL(n),e)for(n=0;n<e.length;n++)cL(e[n])}}function f5(n,e){return n(e)}function d5(){}var Fw=!1;function h5(n,e,t){if(Fw)return n(e,t);Fw=!0;try{return f5(n,e,t)}finally{Fw=!1,(Pd!==null||Id!==null)&&(d5(),u5())}}function zm(n,e){var t=n.stateNode;if(t===null)return null;var r=r1(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Be(231,e,typeof t));return t}var pE=!1;if(Ia)try{var xp={};Object.defineProperty(xp,"passive",{get:function(){pE=!0}}),window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{pE=!1}function sJ(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var pm=!1,kx=null,Nx=!1,mE=null,oJ={onError:function(n){pm=!0,kx=n}};function aJ(n,e,t,r,i,s,o,a,l){pm=!1,kx=null,sJ.apply(oJ,arguments)}function lJ(n,e,t,r,i,s,o,a,l){if(aJ.apply(this,arguments),pm){if(pm){var c=kx;pm=!1,kx=null}else throw Error(Be(198));Nx||(Nx=!0,mE=c)}}function ku(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function p5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uL(n){if(ku(n)!==n)throw Error(Be(188))}function cJ(n){var e=n.alternate;if(!e){if(e=ku(n),e===null)throw Error(Be(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return uL(i),n;if(s===r)return uL(i),e;s=s.sibling}throw Error(Be(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(t.alternate!==r)throw Error(Be(190))}if(t.tag!==3)throw Error(Be(188));return t.stateNode.current===t?n:e}function m5(n){return n=cJ(n),n!==null?g5(n):null}function g5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=g5(n);if(e!==null)return e;n=n.sibling}return null}var y5=Vi.unstable_scheduleCallback,fL=Vi.unstable_cancelCallback,uJ=Vi.unstable_shouldYield,fJ=Vi.unstable_requestPaint,Un=Vi.unstable_now,dJ=Vi.unstable_getCurrentPriorityLevel,CT=Vi.unstable_ImmediatePriority,v5=Vi.unstable_UserBlockingPriority,Fx=Vi.unstable_NormalPriority,hJ=Vi.unstable_LowPriority,x5=Vi.unstable_IdlePriority,Zb=null,Eo=null;function pJ(n){if(Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(Zb,n,void 0,(n.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:yJ,mJ=Math.log,gJ=Math.LN2;function yJ(n){return n>>>=0,n===0?32:31-(mJ(n)/gJ|0)|0}var My=64,Cy=4194304;function tm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ux(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=tm(a):(s&=o,s!==0&&(r=tm(s)))}else o=t&~i,o!==0?r=tm(o):s!==0&&(r=tm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Xs(e),i=1<<t,r|=n[t],e&=~i;return r}function vJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xJ(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Xs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=vJ(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function gE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function b5(){var n=My;return My<<=1,!(My&4194240)&&(My=64),n}function Uw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Dg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Xs(e),n[e]=t}function bJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Xs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function TT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Xs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Zt=0;function _5(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var w5,RT,S5,A5,E5,yE=!1,Ty=[],Pl=null,Il=null,Bl=null,Gm=new Map,Vm=new Map,_l=[],_J="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dL(n,e){switch(n){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":Gm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(e.pointerId)}}function bp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kg(e),e!==null&&RT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function wJ(n,e,t,r,i){switch(e){case"focusin":return Pl=bp(Pl,n,e,t,r,i),!0;case"dragenter":return Il=bp(Il,n,e,t,r,i),!0;case"mouseover":return Bl=bp(Bl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Gm.set(s,bp(Gm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vm.set(s,bp(Vm.get(s)||null,n,e,t,r,i)),!0}return!1}function M5(n){var e=Xc(n.target);if(e!==null){var t=ku(e);if(t!==null){if(e=t.tag,e===13){if(e=p5(t),e!==null){n.blockedOn=e,E5(n.priority,function(){S5(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=vE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);dE=r,t.target.dispatchEvent(r),dE=null}else return e=kg(t),e!==null&&RT(e),n.blockedOn=t,!1;e.shift()}return!0}function hL(n,e,t){Zv(n)&&t.delete(e)}function SJ(){yE=!1,Pl!==null&&Zv(Pl)&&(Pl=null),Il!==null&&Zv(Il)&&(Il=null),Bl!==null&&Zv(Bl)&&(Bl=null),Gm.forEach(hL),Vm.forEach(hL)}function _p(n,e){n.blockedOn===e&&(n.blockedOn=null,yE||(yE=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,SJ)))}function $m(n){function e(i){return _p(i,n)}if(0<Ty.length){_p(Ty[0],n);for(var t=1;t<Ty.length;t++){var r=Ty[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Pl!==null&&_p(Pl,n),Il!==null&&_p(Il,n),Bl!==null&&_p(Bl,n),Gm.forEach(e),Vm.forEach(e),t=0;t<_l.length;t++)r=_l[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<_l.length&&(t=_l[0],t.blockedOn===null);)M5(t),t.blockedOn===null&&_l.shift()}var Bd=Ga.ReactCurrentBatchConfig,Hx=!0;function AJ(n,e,t,r){var i=Zt,s=Bd.transition;Bd.transition=null;try{Zt=1,PT(n,e,t,r)}finally{Zt=i,Bd.transition=s}}function EJ(n,e,t,r){var i=Zt,s=Bd.transition;Bd.transition=null;try{Zt=4,PT(n,e,t,r)}finally{Zt=i,Bd.transition=s}}function PT(n,e,t,r){if(Hx){var i=vE(n,e,t,r);if(i===null)Xw(n,e,r,zx,t),dL(n,r);else if(wJ(i,n,e,t,r))r.stopPropagation();else if(dL(n,r),e&4&&-1<_J.indexOf(n)){for(;i!==null;){var s=kg(i);if(s!==null&&w5(s),s=vE(n,e,t,r),s===null&&Xw(n,e,r,zx,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xw(n,e,r,null,t)}}var zx=null;function vE(n,e,t,r){if(zx=null,n=MT(r),n=Xc(n),n!==null)if(e=ku(n),e===null)n=null;else if(t=e.tag,t===13){if(n=p5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return zx=n,null}function C5(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dJ()){case CT:return 1;case v5:return 4;case Fx:case hJ:return 16;case x5:return 536870912;default:return 16}default:return 16}}var Ml=null,IT=null,ex=null;function T5(){if(ex)return ex;var n,e=IT,t=e.length,r,i="value"in Ml?Ml.value:Ml.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ex=i.slice(n,1<r?1-r:void 0)}function tx(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ry(){return!0}function pL(){return!1}function Yi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ry:pL,this.isPropagationStopped=pL,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ry)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ry)},persist:function(){},isPersistent:Ry}),e}var Eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BT=Yi(Eh),Og=Tn({},Eh,{view:0,detail:0}),MJ=Yi(Og),Hw,zw,wp,e1=Tn({},Og,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wp&&(wp&&n.type==="mousemove"?(Hw=n.screenX-wp.screenX,zw=n.screenY-wp.screenY):zw=Hw=0,wp=n),Hw)},movementY:function(n){return"movementY"in n?n.movementY:zw}}),mL=Yi(e1),CJ=Tn({},e1,{dataTransfer:0}),TJ=Yi(CJ),RJ=Tn({},Og,{relatedTarget:0}),Gw=Yi(RJ),PJ=Tn({},Eh,{animationName:0,elapsedTime:0,pseudoElement:0}),IJ=Yi(PJ),BJ=Tn({},Eh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LJ=Yi(BJ),DJ=Tn({},Eh,{data:0}),gL=Yi(DJ),OJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FJ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=NJ[n])?!!e[n]:!1}function LT(){return FJ}var UJ=Tn({},Og,{key:function(n){if(n.key){var e=OJ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kJ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LT,charCode:function(n){return n.type==="keypress"?tx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),HJ=Yi(UJ),zJ=Tn({},e1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yL=Yi(zJ),GJ=Tn({},Og,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LT}),VJ=Yi(GJ),$J=Tn({},Eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),WJ=Yi($J),jJ=Tn({},e1,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JJ=Yi(jJ),KJ=[9,13,27,32],DT=Ia&&"CompositionEvent"in window,mm=null;Ia&&"documentMode"in document&&(mm=document.documentMode);var XJ=Ia&&"TextEvent"in window&&!mm,R5=Ia&&(!DT||mm&&8<mm&&11>=mm),vL=String.fromCharCode(32),xL=!1;function P5(n,e){switch(n){case"keyup":return KJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I5(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cd=!1;function YJ(n,e){switch(n){case"compositionend":return I5(e);case"keypress":return e.which!==32?null:(xL=!0,vL);case"textInput":return n=e.data,n===vL&&xL?null:n;default:return null}}function QJ(n,e){if(cd)return n==="compositionend"||!DT&&P5(n,e)?(n=T5(),ex=IT=Ml=null,cd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R5&&e.locale!=="ko"?null:e.data;default:return null}}var qJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bL(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!qJ[n.type]:e==="textarea"}function B5(n,e,t,r){c5(r),e=Gx(e,"onChange"),0<e.length&&(t=new BT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var gm=null,Wm=null;function ZJ(n){V5(n,0)}function t1(n){var e=dd(n);if(n5(e))return n}function eK(n,e){if(n==="change")return e}var L5=!1;if(Ia){var Vw;if(Ia){var $w="oninput"in document;if(!$w){var _L=document.createElement("div");_L.setAttribute("oninput","return;"),$w=typeof _L.oninput=="function"}Vw=$w}else Vw=!1;L5=Vw&&(!document.documentMode||9<document.documentMode)}function wL(){gm&&(gm.detachEvent("onpropertychange",D5),Wm=gm=null)}function D5(n){if(n.propertyName==="value"&&t1(Wm)){var e=[];B5(e,Wm,n,MT(n)),h5(ZJ,e)}}function tK(n,e,t){n==="focusin"?(wL(),gm=e,Wm=t,gm.attachEvent("onpropertychange",D5)):n==="focusout"&&wL()}function nK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return t1(Wm)}function rK(n,e){if(n==="click")return t1(e)}function iK(n,e){if(n==="input"||n==="change")return t1(e)}function sK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var to=typeof Object.is=="function"?Object.is:sK;function jm(n,e){if(to(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!eE.call(e,i)||!to(n[i],e[i]))return!1}return!0}function SL(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function AL(n,e){var t=SL(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=SL(t)}}function O5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?O5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function k5(){for(var n=window,e=Ox();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ox(n.document)}return e}function OT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function oK(n){var e=k5(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&O5(t.ownerDocument.documentElement,t)){if(r!==null&&OT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=AL(t,s);var o=AL(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var aK=Ia&&"documentMode"in document&&11>=document.documentMode,ud=null,xE=null,ym=null,bE=!1;function EL(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;bE||ud==null||ud!==Ox(r)||(r=ud,"selectionStart"in r&&OT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ym&&jm(ym,r)||(ym=r,r=Gx(xE,"onSelect"),0<r.length&&(e=new BT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ud)))}function Py(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var fd={animationend:Py("Animation","AnimationEnd"),animationiteration:Py("Animation","AnimationIteration"),animationstart:Py("Animation","AnimationStart"),transitionend:Py("Transition","TransitionEnd")},Ww={},N5={};Ia&&(N5=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function n1(n){if(Ww[n])return Ww[n];if(!fd[n])return n;var e=fd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in N5)return Ww[n]=e[t];return n}var F5=n1("animationend"),U5=n1("animationiteration"),H5=n1("animationstart"),z5=n1("transitionend"),G5=new Map,ML="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(n,e){G5.set(n,e),Ou(e,[n])}for(var jw=0;jw<ML.length;jw++){var Jw=ML[jw],lK=Jw.toLowerCase(),cK=Jw[0].toUpperCase()+Jw.slice(1);ic(lK,"on"+cK)}ic(F5,"onAnimationEnd");ic(U5,"onAnimationIteration");ic(H5,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(z5,"onTransitionEnd");Jd("onMouseEnter",["mouseout","mouseover"]);Jd("onMouseLeave",["mouseout","mouseover"]);Jd("onPointerEnter",["pointerout","pointerover"]);Jd("onPointerLeave",["pointerout","pointerover"]);Ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uK=new Set("cancel close invalid load scroll toggle".split(" ").concat(nm));function CL(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,lJ(r,e,void 0,n),n.currentTarget=null}function V5(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;CL(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;CL(i,a,c),s=l}}}if(Nx)throw n=mE,Nx=!1,mE=null,n}function dn(n,e){var t=e[EE];t===void 0&&(t=e[EE]=new Set);var r=n+"__bubble";t.has(r)||($5(e,n,2,!1),t.add(r))}function Kw(n,e,t){var r=0;e&&(r|=4),$5(t,n,r,e)}var Iy="_reactListening"+Math.random().toString(36).slice(2);function Jm(n){if(!n[Iy]){n[Iy]=!0,Q4.forEach(function(t){t!=="selectionchange"&&(uK.has(t)||Kw(t,!1,n),Kw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Iy]||(e[Iy]=!0,Kw("selectionchange",!1,e))}}function $5(n,e,t,r){switch(C5(e)){case 1:var i=AJ;break;case 4:i=EJ;break;default:i=PT}t=i.bind(null,e,t,n),i=void 0,!pE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Xw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}h5(function(){var c=s,u=MT(t),f=[];e:{var p=G5.get(n);if(p!==void 0){var m=BT,y=n;switch(n){case"keypress":if(tx(t)===0)break e;case"keydown":case"keyup":m=HJ;break;case"focusin":y="focus",m=Gw;break;case"focusout":y="blur",m=Gw;break;case"beforeblur":case"afterblur":m=Gw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VJ;break;case F5:case U5:case H5:m=IJ;break;case z5:m=WJ;break;case"scroll":m=MJ;break;case"wheel":m=JJ;break;case"copy":case"cut":case"paste":m=LJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yL}var v=(e&4)!==0,x=!v&&n==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var _=c,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,g!==null&&(S=zm(_,g),S!=null&&v.push(Km(_,S,b)))),x)break;_=_.return}0<v.length&&(p=new m(p,y,null,t,u),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==dE&&(y=t.relatedTarget||t.fromElement)&&(Xc(y)||y[Ba]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Xc(y):null,y!==null&&(x=ku(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=mL,S="onMouseLeave",g="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=yL,S="onPointerLeave",g="onPointerEnter",_="pointer"),x=m==null?p:dd(m),b=y==null?p:dd(y),p=new v(S,_+"leave",m,t,u),p.target=x,p.relatedTarget=b,S=null,Xc(u)===c&&(v=new v(g,_+"enter",y,t,u),v.target=b,v.relatedTarget=x,S=v),x=S,m&&y)t:{for(v=m,g=y,_=0,b=v;b;b=df(b))_++;for(b=0,S=g;S;S=df(S))b++;for(;0<_-b;)v=df(v),_--;for(;0<b-_;)g=df(g),b--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=df(v),g=df(g)}v=null}else v=null;m!==null&&TL(f,p,m,v,!1),y!==null&&x!==null&&TL(f,x,y,v,!0)}}e:{if(p=c?dd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=eK;else if(bL(p))if(L5)E=iK;else{E=nK;var M=tK}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=rK);if(E&&(E=E(n,c))){B5(f,E,t,u);break e}M&&M(n,p,c),n==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&aE(p,"number",p.value)}switch(M=c?dd(c):window,n){case"focusin":(bL(M)||M.contentEditable==="true")&&(ud=M,xE=c,ym=null);break;case"focusout":ym=xE=ud=null;break;case"mousedown":bE=!0;break;case"contextmenu":case"mouseup":case"dragend":bE=!1,EL(f,t,u);break;case"selectionchange":if(aK)break;case"keydown":case"keyup":EL(f,t,u)}var R;if(DT)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else cd?P5(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(R5&&t.locale!=="ko"&&(cd||B!=="onCompositionStart"?B==="onCompositionEnd"&&cd&&(R=T5()):(Ml=u,IT="value"in Ml?Ml.value:Ml.textContent,cd=!0)),M=Gx(c,B),0<M.length&&(B=new gL(B,n,null,t,u),f.push({event:B,listeners:M}),R?B.data=R:(R=I5(t),R!==null&&(B.data=R)))),(R=XJ?YJ(n,t):QJ(n,t))&&(c=Gx(c,"onBeforeInput"),0<c.length&&(u=new gL("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}V5(f,e)})}function Km(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Gx(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zm(n,t),s!=null&&r.unshift(Km(n,s,i)),s=zm(n,e),s!=null&&r.push(Km(n,s,i))),n=n.return}return r}function df(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function TL(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=zm(t,s),l!=null&&o.unshift(Km(t,l,a))):i||(l=zm(t,s),l!=null&&o.push(Km(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var fK=/\r\n?/g,dK=/\u0000|\uFFFD/g;function RL(n){return(typeof n=="string"?n:""+n).replace(fK,`
`).replace(dK,"")}function By(n,e,t){if(e=RL(e),RL(n)!==e&&t)throw Error(Be(425))}function Vx(){}var _E=null,wE=null;function SE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AE=typeof setTimeout=="function"?setTimeout:void 0,hK=typeof clearTimeout=="function"?clearTimeout:void 0,PL=typeof Promise=="function"?Promise:void 0,pK=typeof queueMicrotask=="function"?queueMicrotask:typeof PL<"u"?function(n){return PL.resolve(null).then(n).catch(mK)}:AE;function mK(n){setTimeout(function(){throw n})}function Yw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),$m(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);$m(e)}function Ll(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function IL(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Ao="__reactFiber$"+Mh,Xm="__reactProps$"+Mh,Ba="__reactContainer$"+Mh,EE="__reactEvents$"+Mh,gK="__reactListeners$"+Mh,yK="__reactHandles$"+Mh;function Xc(n){var e=n[Ao];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ba]||t[Ao]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=IL(n);n!==null;){if(t=n[Ao])return t;n=IL(n)}return e}n=t,t=n.parentNode}return null}function kg(n){return n=n[Ao]||n[Ba],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Be(33))}function r1(n){return n[Xm]||null}var ME=[],hd=-1;function sc(n){return{current:n}}function vn(n){0>hd||(n.current=ME[hd],ME[hd]=null,hd--)}function cn(n,e){hd++,ME[hd]=n.current,n.current=e}var Wl={},Hr=sc(Wl),di=sc(!1),vu=Wl;function Kd(n,e){var t=n.type.contextTypes;if(!t)return Wl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function hi(n){return n=n.childContextTypes,n!=null}function $x(){vn(di),vn(Hr)}function BL(n,e,t){if(Hr.current!==Wl)throw Error(Be(168));cn(Hr,e),cn(di,t)}function W5(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,tJ(n)||"Unknown",i));return Tn({},t,r)}function Wx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wl,vu=Hr.current,cn(Hr,n),cn(di,di.current),!0}function LL(n,e,t){var r=n.stateNode;if(!r)throw Error(Be(169));t?(n=W5(n,e,vu),r.__reactInternalMemoizedMergedChildContext=n,vn(di),vn(Hr),cn(Hr,n)):vn(di),cn(di,t)}var ua=null,i1=!1,Qw=!1;function j5(n){ua===null?ua=[n]:ua.push(n)}function vK(n){i1=!0,j5(n)}function oc(){if(!Qw&&ua!==null){Qw=!0;var n=0,e=Zt;try{var t=ua;for(Zt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ua=null,i1=!1}catch(i){throw ua!==null&&(ua=ua.slice(n+1)),y5(CT,oc),i}finally{Zt=e,Qw=!1}}return null}var pd=[],md=0,jx=null,Jx=0,fs=[],ds=0,xu=null,ga=1,ya="";function Dc(n,e){pd[md++]=Jx,pd[md++]=jx,jx=n,Jx=e}function J5(n,e,t){fs[ds++]=ga,fs[ds++]=ya,fs[ds++]=xu,xu=n;var r=ga;n=ya;var i=32-Xs(r)-1;r&=~(1<<i),t+=1;var s=32-Xs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ga=1<<32-Xs(e)+i|t<<i|r,ya=s+n}else ga=1<<s|t<<i|r,ya=n}function kT(n){n.return!==null&&(Dc(n,1),J5(n,1,0))}function NT(n){for(;n===jx;)jx=pd[--md],pd[md]=null,Jx=pd[--md],pd[md]=null;for(;n===xu;)xu=fs[--ds],fs[ds]=null,ya=fs[--ds],fs[ds]=null,ga=fs[--ds],fs[ds]=null}var Fi=null,Bi=null,_n=!1,$s=null;function K5(n,e){var t=ms(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function DL(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fi=n,Bi=Ll(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fi=n,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xu!==null?{id:ga,overflow:ya}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ms(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fi=n,Bi=null,!0):!1;default:return!1}}function CE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function TE(n){if(_n){var e=Bi;if(e){var t=e;if(!DL(n,e)){if(CE(n))throw Error(Be(418));e=Ll(t.nextSibling);var r=Fi;e&&DL(n,e)?K5(r,t):(n.flags=n.flags&-4097|2,_n=!1,Fi=n)}}else{if(CE(n))throw Error(Be(418));n.flags=n.flags&-4097|2,_n=!1,Fi=n}}}function OL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fi=n}function Ly(n){if(n!==Fi)return!1;if(!_n)return OL(n),_n=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!SE(n.type,n.memoizedProps)),e&&(e=Bi)){if(CE(n))throw X5(),Error(Be(418));for(;e;)K5(n,e),e=Ll(e.nextSibling)}if(OL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Bi=Ll(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Bi=null}}else Bi=Fi?Ll(n.stateNode.nextSibling):null;return!0}function X5(){for(var n=Bi;n;)n=Ll(n.nextSibling)}function Xd(){Bi=Fi=null,_n=!1}function FT(n){$s===null?$s=[n]:$s.push(n)}var xK=Ga.ReactCurrentBatchConfig;function zs(n,e){if(n&&n.defaultProps){e=Tn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Kx=sc(null),Xx=null,gd=null,UT=null;function HT(){UT=gd=Xx=null}function zT(n){var e=Kx.current;vn(Kx),n._currentValue=e}function RE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ld(n,e){Xx=n,UT=gd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(fi=!0),n.firstContext=null)}function _s(n){var e=n._currentValue;if(UT!==n)if(n={context:n,memoizedValue:e,next:null},gd===null){if(Xx===null)throw Error(Be(308));gd=n,Xx.dependencies={lanes:0,firstContext:n}}else gd=gd.next=n;return e}var Yc=null;function GT(n){Yc===null?Yc=[n]:Yc.push(n)}function Y5(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,GT(e)):(t.next=i.next,i.next=t),e.interleaved=t,La(n,r)}function La(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var yl=!1;function VT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q5(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ma(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,La(n,t)}return i=r.interleaved,i===null?(e.next=e,GT(r)):(e.next=i.next,i.next=e),r.interleaved=e,La(n,t)}function nx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,TT(n,t)}}function kL(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Yx(n,e,t,r){var i=n.updateQueue;yl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Tn({},f,p);break e;case 2:yl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_u|=o,n.lanes=o,n.memoizedState=f}}function NL(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var q5=new Y4.Component().refs;function PE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Tn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var s1={isMounted:function(n){return(n=n._reactInternals)?ku(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Yr(),i=kl(n),s=Ma(r,i);s.payload=e,t!=null&&(s.callback=t),e=Dl(n,s,i),e!==null&&(Ys(e,n,i,r),nx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Yr(),i=kl(n),s=Ma(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Dl(n,s,i),e!==null&&(Ys(e,n,i,r),nx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Yr(),r=kl(n),i=Ma(t,r);i.tag=2,e!=null&&(i.callback=e),e=Dl(n,i,r),e!==null&&(Ys(e,n,r,t),nx(e,n,r))}};function FL(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jm(t,r)||!jm(i,s):!0}function Z5(n,e,t){var r=!1,i=Wl,s=e.contextType;return typeof s=="object"&&s!==null?s=_s(s):(i=hi(e)?vu:Hr.current,r=e.contextTypes,s=(r=r!=null)?Kd(n,i):Wl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s1,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function UL(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&s1.enqueueReplaceState(e,e.state,null)}function IE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=q5,VT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_s(s):(s=hi(e)?vu:Hr.current,i.context=Kd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(PE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&s1.enqueueReplaceState(i,i.state,null),Yx(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Sp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Be(309));var r=t.stateNode}if(!r)throw Error(Be(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===q5&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Be(284));if(!t._owner)throw Error(Be(290,n))}return n}function Dy(n,e){throw n=Object.prototype.toString.call(e),Error(Be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function HL(n){var e=n._init;return e(n._payload)}function eH(n){function e(g,_){if(n){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function t(g,_){if(!n)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Nl(g,_),g.index=0,g.sibling=null,g}function s(g,_,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,_,b,S){return _===null||_.tag!==6?(_=iS(b,g.mode,S),_.return=g,_):(_=i(_,b),_.return=g,_)}function l(g,_,b,S){var E=b.type;return E===ld?u(g,_,b.props.children,S,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gl&&HL(E)===_.type)?(S=i(_,b.props),S.ref=Sp(g,_,b),S.return=g,S):(S=lx(b.type,b.key,b.props,null,g.mode,S),S.ref=Sp(g,_,b),S.return=g,S)}function c(g,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=sS(b,g.mode,S),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function u(g,_,b,S,E){return _===null||_.tag!==7?(_=cu(b,g.mode,S,E),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=iS(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sy:return b=lx(_.type,_.key,_.props,null,g.mode,b),b.ref=Sp(g,null,_),b.return=g,b;case ad:return _=sS(_,g.mode,b),_.return=g,_;case gl:var S=_._init;return f(g,S(_._payload),b)}if(em(_)||vp(_))return _=cu(_,g.mode,b,null),_.return=g,_;Dy(g,_)}return null}function p(g,_,b,S){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(g,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sy:return b.key===E?l(g,_,b,S):null;case ad:return b.key===E?c(g,_,b,S):null;case gl:return E=b._init,p(g,_,E(b._payload),S)}if(em(b)||vp(b))return E!==null?null:u(g,_,b,S,null);Dy(g,b)}return null}function m(g,_,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(b)||null,a(_,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sy:return g=g.get(S.key===null?b:S.key)||null,l(_,g,S,E);case ad:return g=g.get(S.key===null?b:S.key)||null,c(_,g,S,E);case gl:var M=S._init;return m(g,_,b,M(S._payload),E)}if(em(S)||vp(S))return g=g.get(b)||null,u(_,g,S,E,null);Dy(_,S)}return null}function y(g,_,b,S){for(var E=null,M=null,R=_,B=_=0,T=null;R!==null&&B<b.length;B++){R.index>B?(T=R,R=null):T=R.sibling;var I=p(g,R,b[B],S);if(I===null){R===null&&(R=T);break}n&&R&&I.alternate===null&&e(g,R),_=s(I,_,B),M===null?E=I:M.sibling=I,M=I,R=T}if(B===b.length)return t(g,R),_n&&Dc(g,B),E;if(R===null){for(;B<b.length;B++)R=f(g,b[B],S),R!==null&&(_=s(R,_,B),M===null?E=R:M.sibling=R,M=R);return _n&&Dc(g,B),E}for(R=r(g,R);B<b.length;B++)T=m(R,g,B,b[B],S),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?B:T.key),_=s(T,_,B),M===null?E=T:M.sibling=T,M=T);return n&&R.forEach(function(O){return e(g,O)}),_n&&Dc(g,B),E}function v(g,_,b,S){var E=vp(b);if(typeof E!="function")throw Error(Be(150));if(b=E.call(b),b==null)throw Error(Be(151));for(var M=E=null,R=_,B=_=0,T=null,I=b.next();R!==null&&!I.done;B++,I=b.next()){R.index>B?(T=R,R=null):T=R.sibling;var O=p(g,R,I.value,S);if(O===null){R===null&&(R=T);break}n&&R&&O.alternate===null&&e(g,R),_=s(O,_,B),M===null?E=O:M.sibling=O,M=O,R=T}if(I.done)return t(g,R),_n&&Dc(g,B),E;if(R===null){for(;!I.done;B++,I=b.next())I=f(g,I.value,S),I!==null&&(_=s(I,_,B),M===null?E=I:M.sibling=I,M=I);return _n&&Dc(g,B),E}for(R=r(g,R);!I.done;B++,I=b.next())I=m(R,g,B,I.value,S),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?B:I.key),_=s(I,_,B),M===null?E=I:M.sibling=I,M=I);return n&&R.forEach(function(z){return e(g,z)}),_n&&Dc(g,B),E}function x(g,_,b,S){if(typeof b=="object"&&b!==null&&b.type===ld&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sy:e:{for(var E=b.key,M=_;M!==null;){if(M.key===E){if(E=b.type,E===ld){if(M.tag===7){t(g,M.sibling),_=i(M,b.props.children),_.return=g,g=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gl&&HL(E)===M.type){t(g,M.sibling),_=i(M,b.props),_.ref=Sp(g,M,b),_.return=g,g=_;break e}t(g,M);break}else e(g,M);M=M.sibling}b.type===ld?(_=cu(b.props.children,g.mode,S,b.key),_.return=g,g=_):(S=lx(b.type,b.key,b.props,null,g.mode,S),S.ref=Sp(g,_,b),S.return=g,g=S)}return o(g);case ad:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{t(g,_);break}else e(g,_);_=_.sibling}_=sS(b,g.mode,S),_.return=g,g=_}return o(g);case gl:return M=b._init,x(g,_,M(b._payload),S)}if(em(b))return y(g,_,b,S);if(vp(b))return v(g,_,b,S);Dy(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(g,_.sibling),_=i(_,b),_.return=g,g=_):(t(g,_),_=iS(b,g.mode,S),_.return=g,g=_),o(g)):t(g,_)}return x}var Yd=eH(!0),tH=eH(!1),Ng={},Mo=sc(Ng),Ym=sc(Ng),Qm=sc(Ng);function Qc(n){if(n===Ng)throw Error(Be(174));return n}function $T(n,e){switch(cn(Qm,e),cn(Ym,n),cn(Mo,Ng),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=cE(e,n)}vn(Mo),cn(Mo,e)}function Qd(){vn(Mo),vn(Ym),vn(Qm)}function nH(n){Qc(Qm.current);var e=Qc(Mo.current),t=cE(e,n.type);e!==t&&(cn(Ym,n),cn(Mo,t))}function WT(n){Ym.current===n&&(vn(Mo),vn(Ym))}var An=sc(0);function Qx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qw=[];function jT(){for(var n=0;n<qw.length;n++)qw[n]._workInProgressVersionPrimary=null;qw.length=0}var rx=Ga.ReactCurrentDispatcher,Zw=Ga.ReactCurrentBatchConfig,bu=0,Cn=null,er=null,dr=null,qx=!1,vm=!1,qm=0,bK=0;function Br(){throw Error(Be(321))}function JT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!to(n[t],e[t]))return!1;return!0}function KT(n,e,t,r,i,s){if(bu=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rx.current=n===null||n.memoizedState===null?AK:EK,n=t(r,i),vm){s=0;do{if(vm=!1,qm=0,25<=s)throw Error(Be(301));s+=1,dr=er=null,e.updateQueue=null,rx.current=MK,n=t(r,i)}while(vm)}if(rx.current=Zx,e=er!==null&&er.next!==null,bu=0,dr=er=Cn=null,qx=!1,e)throw Error(Be(300));return n}function XT(){var n=qm!==0;return qm=0,n}function wo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Cn.memoizedState=dr=n:dr=dr.next=n,dr}function ws(){if(er===null){var n=Cn.alternate;n=n!==null?n.memoizedState:null}else n=er.next;var e=dr===null?Cn.memoizedState:dr.next;if(e!==null)dr=e,er=n;else{if(n===null)throw Error(Be(310));er=n,n={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},dr===null?Cn.memoizedState=dr=n:dr=dr.next=n}return dr}function Zm(n,e){return typeof e=="function"?e(n):e}function eS(n){var e=ws(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=er,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((bu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Cn.lanes|=u,_u|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,to(r,e.memoizedState)||(fi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Cn.lanes|=s,_u|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function tS(n){var e=ws(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);to(s,e.memoizedState)||(fi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function rH(){}function iH(n,e){var t=Cn,r=ws(),i=e(),s=!to(r.memoizedState,i);if(s&&(r.memoizedState=i,fi=!0),r=r.queue,YT(aH.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||dr!==null&&dr.memoizedState.tag&1){if(t.flags|=2048,eg(9,oH.bind(null,t,r,i,e),void 0,null),gr===null)throw Error(Be(349));bu&30||sH(t,e,i)}return i}function sH(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function oH(n,e,t,r){e.value=t,e.getSnapshot=r,lH(e)&&cH(n)}function aH(n,e,t){return t(function(){lH(e)&&cH(n)})}function lH(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!to(n,t)}catch{return!0}}function cH(n){var e=La(n,1);e!==null&&Ys(e,n,1,-1)}function zL(n){var e=wo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:n},e.queue=n,n=n.dispatch=SK.bind(null,Cn,n),[e.memoizedState,n]}function eg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function uH(){return ws().memoizedState}function ix(n,e,t,r){var i=wo();Cn.flags|=n,i.memoizedState=eg(1|e,t,void 0,r===void 0?null:r)}function o1(n,e,t,r){var i=ws();r=r===void 0?null:r;var s=void 0;if(er!==null){var o=er.memoizedState;if(s=o.destroy,r!==null&&JT(r,o.deps)){i.memoizedState=eg(e,t,s,r);return}}Cn.flags|=n,i.memoizedState=eg(1|e,t,s,r)}function GL(n,e){return ix(8390656,8,n,e)}function YT(n,e){return o1(2048,8,n,e)}function fH(n,e){return o1(4,2,n,e)}function dH(n,e){return o1(4,4,n,e)}function hH(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function pH(n,e,t){return t=t!=null?t.concat([n]):null,o1(4,4,hH.bind(null,e,n),t)}function QT(){}function mH(n,e){var t=ws();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&JT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function gH(n,e){var t=ws();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&JT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function yH(n,e,t){return bu&21?(to(t,e)||(t=b5(),Cn.lanes|=t,_u|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,fi=!0),n.memoizedState=t)}function _K(n,e){var t=Zt;Zt=t!==0&&4>t?t:4,n(!0);var r=Zw.transition;Zw.transition={};try{n(!1),e()}finally{Zt=t,Zw.transition=r}}function vH(){return ws().memoizedState}function wK(n,e,t){var r=kl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},xH(n))bH(e,t);else if(t=Y5(n,e,t,r),t!==null){var i=Yr();Ys(t,n,r,i),_H(t,e,r)}}function SK(n,e,t){var r=kl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(xH(n))bH(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,to(a,o)){var l=e.interleaved;l===null?(i.next=i,GT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=Y5(n,e,i,r),t!==null&&(i=Yr(),Ys(t,n,r,i),_H(t,e,r))}}function xH(n){var e=n.alternate;return n===Cn||e!==null&&e===Cn}function bH(n,e){vm=qx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function _H(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,TT(n,t)}}var Zx={readContext:_s,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},AK={readContext:_s,useCallback:function(n,e){return wo().memoizedState=[n,e===void 0?null:e],n},useContext:_s,useEffect:GL,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ix(4194308,4,hH.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ix(4194308,4,n,e)},useInsertionEffect:function(n,e){return ix(4,2,n,e)},useMemo:function(n,e){var t=wo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=wo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=wK.bind(null,Cn,n),[r.memoizedState,n]},useRef:function(n){var e=wo();return n={current:n},e.memoizedState=n},useState:zL,useDebugValue:QT,useDeferredValue:function(n){return wo().memoizedState=n},useTransition:function(){var n=zL(!1),e=n[0];return n=_K.bind(null,n[1]),wo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Cn,i=wo();if(_n){if(t===void 0)throw Error(Be(407));t=t()}else{if(t=e(),gr===null)throw Error(Be(349));bu&30||sH(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,GL(aH.bind(null,r,s,n),[n]),r.flags|=2048,eg(9,oH.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=wo(),e=gr.identifierPrefix;if(_n){var t=ya,r=ga;t=(r&~(1<<32-Xs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=qm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bK++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},EK={readContext:_s,useCallback:mH,useContext:_s,useEffect:YT,useImperativeHandle:pH,useInsertionEffect:fH,useLayoutEffect:dH,useMemo:gH,useReducer:eS,useRef:uH,useState:function(){return eS(Zm)},useDebugValue:QT,useDeferredValue:function(n){var e=ws();return yH(e,er.memoizedState,n)},useTransition:function(){var n=eS(Zm)[0],e=ws().memoizedState;return[n,e]},useMutableSource:rH,useSyncExternalStore:iH,useId:vH,unstable_isNewReconciler:!1},MK={readContext:_s,useCallback:mH,useContext:_s,useEffect:YT,useImperativeHandle:pH,useInsertionEffect:fH,useLayoutEffect:dH,useMemo:gH,useReducer:tS,useRef:uH,useState:function(){return tS(Zm)},useDebugValue:QT,useDeferredValue:function(n){var e=ws();return er===null?e.memoizedState=n:yH(e,er.memoizedState,n)},useTransition:function(){var n=tS(Zm)[0],e=ws().memoizedState;return[n,e]},useMutableSource:rH,useSyncExternalStore:iH,useId:vH,unstable_isNewReconciler:!1};function qd(n,e){try{var t="",r=e;do t+=eJ(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function nS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function BE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var CK=typeof WeakMap=="function"?WeakMap:Map;function wH(n,e,t){t=Ma(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){tb||(tb=!0,GE=r),BE(n,e)},t}function SH(n,e,t){t=Ma(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){BE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){BE(n,e),typeof r!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function VL(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new CK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=zK.bind(null,n,e,t),e.then(n,n))}function $L(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function WL(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ma(-1,1),e.tag=2,Dl(t,e,1))),t.lanes|=1),n)}var TK=Ga.ReactCurrentOwner,fi=!1;function Xr(n,e,t,r){e.child=n===null?tH(e,null,t,r):Yd(e,n.child,t,r)}function jL(n,e,t,r,i){t=t.render;var s=e.ref;return Ld(e,i),r=KT(n,e,t,r,s,i),t=XT(),n!==null&&!fi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Da(n,e,i)):(_n&&t&&kT(e),e.flags|=1,Xr(n,e,r,i),e.child)}function JL(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!sR(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,AH(n,e,s,r,i)):(n=lx(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:jm,t(o,r)&&n.ref===e.ref)return Da(n,e,i)}return e.flags|=1,n=Nl(s,r),n.ref=e.ref,n.return=e,e.child=n}function AH(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(jm(s,r)&&n.ref===e.ref)if(fi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(fi=!0);else return e.lanes=n.lanes,Da(n,e,i)}return LE(n,e,t,r,i)}function EH(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(vd,Pi),Pi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,cn(vd,Pi),Pi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,cn(vd,Pi),Pi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,cn(vd,Pi),Pi|=r;return Xr(n,e,i,t),e.child}function MH(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function LE(n,e,t,r,i){var s=hi(t)?vu:Hr.current;return s=Kd(e,s),Ld(e,i),t=KT(n,e,t,r,s,i),r=XT(),n!==null&&!fi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Da(n,e,i)):(_n&&r&&kT(e),e.flags|=1,Xr(n,e,t,i),e.child)}function KL(n,e,t,r,i){if(hi(t)){var s=!0;Wx(e)}else s=!1;if(Ld(e,i),e.stateNode===null)sx(n,e),Z5(e,t,r),IE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=_s(c):(c=hi(t)?vu:Hr.current,c=Kd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&UL(e,o,r,c),yl=!1;var p=e.memoizedState;o.state=p,Yx(e,r,o,i),l=e.memoizedState,a!==r||p!==l||di.current||yl?(typeof u=="function"&&(PE(e,t,u,r),l=e.memoizedState),(a=yl||FL(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Q5(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:zs(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=hi(t)?vu:Hr.current,l=Kd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&UL(e,o,r,l),yl=!1,p=e.memoizedState,o.state=p,Yx(e,r,o,i);var y=e.memoizedState;a!==f||p!==y||di.current||yl?(typeof m=="function"&&(PE(e,t,m,r),y=e.memoizedState),(c=yl||FL(e,t,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return DE(n,e,t,r,s,i)}function DE(n,e,t,r,i,s){MH(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&LL(e,t,!1),Da(n,e,s);r=e.stateNode,TK.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Yd(e,n.child,null,s),e.child=Yd(e,null,a,s)):Xr(n,e,a,s),e.memoizedState=r.state,i&&LL(e,t,!0),e.child}function CH(n){var e=n.stateNode;e.pendingContext?BL(n,e.pendingContext,e.pendingContext!==e.context):e.context&&BL(n,e.context,!1),$T(n,e.containerInfo)}function XL(n,e,t,r,i){return Xd(),FT(i),e.flags|=256,Xr(n,e,t,r),e.child}var OE={dehydrated:null,treeContext:null,retryLane:0};function kE(n){return{baseLanes:n,cachePool:null,transitions:null}}function TH(n,e,t){var r=e.pendingProps,i=An.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),cn(An,i&1),n===null)return TE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=c1(o,r,0,null),n=cu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=kE(t),e.memoizedState=OE,n):qT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RK(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nl(a,s):(s=cu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?kE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=OE,r}return s=n.child,n=s.sibling,r=Nl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function qT(n,e){return e=c1({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Oy(n,e,t,r){return r!==null&&FT(r),Yd(e,n.child,null,t),n=qT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function RK(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=nS(Error(Be(422))),Oy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=c1({mode:"visible",children:r.children},i,0,null),s=cu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yd(e,n.child,null,o),e.child.memoizedState=kE(o),e.memoizedState=OE,s);if(!(e.mode&1))return Oy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=nS(s,r,void 0),Oy(n,e,o,r)}if(a=(o&n.childLanes)!==0,fi||a){if(r=gr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,La(n,i),Ys(r,n,i,-1))}return iR(),r=nS(Error(Be(421))),Oy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=GK.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Bi=Ll(i.nextSibling),Fi=e,_n=!0,$s=null,n!==null&&(fs[ds++]=ga,fs[ds++]=ya,fs[ds++]=xu,ga=n.id,ya=n.overflow,xu=e),e=qT(e,r.children),e.flags|=4096,e)}function YL(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),RE(n.return,e,t)}function rS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function RH(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xr(n,e,r.children,t),r=An.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&YL(n,t,e);else if(n.tag===19)YL(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(cn(An,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Qx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),rS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Qx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}rS(e,!0,t,null,s);break;case"together":rS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sx(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Da(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),_u|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Be(153));if(e.child!==null){for(n=e.child,t=Nl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Nl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function PK(n,e,t){switch(e.tag){case 3:CH(e),Xd();break;case 5:nH(e);break;case 1:hi(e.type)&&Wx(e);break;case 4:$T(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cn(Kx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cn(An,An.current&1),e.flags|=128,null):t&e.child.childLanes?TH(n,e,t):(cn(An,An.current&1),n=Da(n,e,t),n!==null?n.sibling:null);cn(An,An.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return RH(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn(An,An.current),r)break;return null;case 22:case 23:return e.lanes=0,EH(n,e,t)}return Da(n,e,t)}var PH,NE,IH,BH;PH=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};NE=function(){};IH=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Qc(Mo.current);var s=null;switch(t){case"input":i=sE(n,i),r=sE(n,r),s=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),s=[];break;case"textarea":i=lE(n,i),r=lE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Vx)}uE(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Um.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Um.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BH=function(n,e,t,r){t!==r&&(e.flags|=4)};function Ap(n,e){if(!_n)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Lr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function IK(n,e,t){var r=e.pendingProps;switch(NT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return hi(e.type)&&$x(),Lr(e),null;case 3:return r=e.stateNode,Qd(),vn(di),vn(Hr),jT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ly(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$s!==null&&(WE($s),$s=null))),NE(n,e),Lr(e),null;case 5:WT(e);var i=Qc(Qm.current);if(t=e.type,n!==null&&e.stateNode!=null)IH(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return Lr(e),null}if(n=Qc(Mo.current),Ly(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ao]=e,r[Xm]=s,n=(e.mode&1)!==0,t){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(i=0;i<nm.length;i++)dn(nm[i],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":sL(r,s),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dn("invalid",r);break;case"textarea":aL(r,s),dn("invalid",r)}uE(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&By(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&By(r.textContent,a,n),i=["children",""+a]):Um.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dn("scroll",r)}switch(t){case"input":Ay(r),oL(r,s,!0);break;case"textarea":Ay(r),lL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=s5(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ao]=e,n[Xm]=r,PH(n,e,!1,!1),e.stateNode=n;e:{switch(o=fE(t,r),t){case"dialog":dn("cancel",n),dn("close",n),i=r;break;case"iframe":case"object":case"embed":dn("load",n),i=r;break;case"video":case"audio":for(i=0;i<nm.length;i++)dn(nm[i],n);i=r;break;case"source":dn("error",n),i=r;break;case"img":case"image":case"link":dn("error",n),dn("load",n),i=r;break;case"details":dn("toggle",n),i=r;break;case"input":sL(n,r),i=sE(n,r),dn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),dn("invalid",n);break;case"textarea":aL(n,r),i=lE(n,r),dn("invalid",n);break;default:i=r}uE(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?l5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o5(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hm(n,l):typeof l=="number"&&Hm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Um.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dn("scroll",n):l!=null&&wT(n,s,l,o))}switch(t){case"input":Ay(n),oL(n,r,!1);break;case"textarea":Ay(n),lL(n);break;case"option":r.value!=null&&n.setAttribute("value",""+$l(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Rd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Rd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Vx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(n&&e.stateNode!=null)BH(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(t=Qc(Qm.current),Qc(Mo.current),Ly(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ao]=e,(s=r.nodeValue!==t)&&(n=Fi,n!==null))switch(n.tag){case 3:By(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&By(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ao]=e,e.stateNode=r}return Lr(e),null;case 13:if(vn(An),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_n&&Bi!==null&&e.mode&1&&!(e.flags&128))X5(),Xd(),e.flags|=98560,s=!1;else if(s=Ly(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[Ao]=e}else Xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else $s!==null&&(WE($s),$s=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||An.current&1?nr===0&&(nr=3):iR())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Qd(),NE(n,e),n===null&&Jm(e.stateNode.containerInfo),Lr(e),null;case 10:return zT(e.type._context),Lr(e),null;case 17:return hi(e.type)&&$x(),Lr(e),null;case 19:if(vn(An),s=e.memoizedState,s===null)return Lr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ap(s,!1);else{if(nr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Qx(n),o!==null){for(e.flags|=128,Ap(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return cn(An,An.current&1|2),e.child}n=n.sibling}s.tail!==null&&Un()>Zd&&(e.flags|=128,r=!0,Ap(s,!1),e.lanes=4194304)}else{if(!r)if(n=Qx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ap(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_n)return Lr(e),null}else 2*Un()-s.renderingStartTime>Zd&&t!==1073741824&&(e.flags|=128,r=!0,Ap(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Un(),e.sibling=null,t=An.current,cn(An,r?t&1|2:t&1),e):(Lr(e),null);case 22:case 23:return rR(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function BK(n,e){switch(NT(e),e.tag){case 1:return hi(e.type)&&$x(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qd(),vn(di),vn(Hr),jT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return WT(e),null;case 13:if(vn(An),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Xd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vn(An),null;case 4:return Qd(),null;case 10:return zT(e.type._context),null;case 22:case 23:return rR(),null;case 24:return null;default:return null}}var ky=!1,Nr=!1,LK=typeof WeakSet=="function"?WeakSet:Set,je=null;function yd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){In(n,e,r)}else t.current=null}function FE(n,e,t){try{t()}catch(r){In(n,e,r)}}var QL=!1;function DK(n,e){if(_E=Hx,n=k5(),OT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(wE={focusedElem:n,selectionRange:t},Hx=!1,je=e;je!==null;)if(e=je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,je=n;else for(;je!==null;){e=je;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:zs(e.type,v),x);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(S){In(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}return y=QL,QL=!1,y}function xm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&FE(e,t,s)}i=i.next}while(i!==r)}}function a1(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function UE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function LH(n){var e=n.alternate;e!==null&&(n.alternate=null,LH(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ao],delete e[Xm],delete e[EE],delete e[gK],delete e[yK])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function DH(n){return n.tag===5||n.tag===3||n.tag===4}function qL(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||DH(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function HE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Vx));else if(r!==4&&(n=n.child,n!==null))for(HE(n,e,t),n=n.sibling;n!==null;)HE(n,e,t),n=n.sibling}function zE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(zE(n,e,t),n=n.sibling;n!==null;)zE(n,e,t),n=n.sibling}var _r=null,Gs=!1;function ol(n,e,t){for(t=t.child;t!==null;)OH(n,e,t),t=t.sibling}function OH(n,e,t){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(Zb,t)}catch{}switch(t.tag){case 5:Nr||yd(t,e);case 6:var r=_r,i=Gs;_r=null,ol(n,e,t),_r=r,Gs=i,_r!==null&&(Gs?(n=_r,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):_r.removeChild(t.stateNode));break;case 18:_r!==null&&(Gs?(n=_r,t=t.stateNode,n.nodeType===8?Yw(n.parentNode,t):n.nodeType===1&&Yw(n,t),$m(n)):Yw(_r,t.stateNode));break;case 4:r=_r,i=Gs,_r=t.stateNode.containerInfo,Gs=!0,ol(n,e,t),_r=r,Gs=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&FE(t,e,o),i=i.next}while(i!==r)}ol(n,e,t);break;case 1:if(!Nr&&(yd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){In(t,e,a)}ol(n,e,t);break;case 21:ol(n,e,t);break;case 22:t.mode&1?(Nr=(r=Nr)||t.memoizedState!==null,ol(n,e,t),Nr=r):ol(n,e,t);break;default:ol(n,e,t)}}function ZL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new LK),e.forEach(function(r){var i=VK.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Os(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_r=a.stateNode,Gs=!1;break e;case 3:_r=a.stateNode.containerInfo,Gs=!0;break e;case 4:_r=a.stateNode.containerInfo,Gs=!0;break e}a=a.return}if(_r===null)throw Error(Be(160));OH(s,o,i),_r=null,Gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){In(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kH(e,n),e=e.sibling}function kH(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Os(e,n),xo(n),r&4){try{xm(3,n,n.return),a1(3,n)}catch(v){In(n,n.return,v)}try{xm(5,n,n.return)}catch(v){In(n,n.return,v)}}break;case 1:Os(e,n),xo(n),r&512&&t!==null&&yd(t,t.return);break;case 5:if(Os(e,n),xo(n),r&512&&t!==null&&yd(t,t.return),n.flags&32){var i=n.stateNode;try{Hm(i,"")}catch(v){In(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&r5(i,s),fE(a,o);var c=fE(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?l5(i,f):u==="dangerouslySetInnerHTML"?o5(i,f):u==="children"?Hm(i,f):wT(i,u,f,c)}switch(a){case"input":oE(i,s);break;case"textarea":i5(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Rd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Rd(i,!!s.multiple,s.defaultValue,!0):Rd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xm]=s}catch(v){In(n,n.return,v)}}break;case 6:if(Os(e,n),xo(n),r&4){if(n.stateNode===null)throw Error(Be(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){In(n,n.return,v)}}break;case 3:if(Os(e,n),xo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{$m(e.containerInfo)}catch(v){In(n,n.return,v)}break;case 4:Os(e,n),xo(n);break;case 13:Os(e,n),xo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tR=Un())),r&4&&ZL(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Nr=(c=Nr)||u,Os(e,n),Nr=c):Os(e,n),xo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(je=n,u=n.child;u!==null;){for(f=je=u;je!==null;){switch(p=je,m=p.child,p.tag){case 0:case 11:case 14:case 15:xm(4,p,p.return);break;case 1:yd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){In(r,t,v)}}break;case 5:yd(p,p.return);break;case 22:if(p.memoizedState!==null){tD(f);continue}}m!==null?(m.return=p,je=m):tD(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a5("display",o))}catch(v){In(n,n.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){In(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Os(e,n),xo(n),r&4&&ZL(n);break;case 21:break;default:Os(e,n),xo(n)}}function xo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(DH(t)){var r=t;break e}t=t.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hm(i,""),r.flags&=-33);var s=qL(n);zE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qL(n);HE(n,a,o);break;default:throw Error(Be(161))}}catch(l){In(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function OK(n,e,t){je=n,NH(n)}function NH(n,e,t){for(var r=(n.mode&1)!==0;je!==null;){var i=je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ky;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nr;a=ky;var c=Nr;if(ky=o,(Nr=l)&&!c)for(je=i;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?nD(i):l!==null?(l.return=o,je=l):nD(i);for(;s!==null;)je=s,NH(s),s=s.sibling;je=i,ky=a,Nr=c}eD(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,je=s):eD(n)}}function eD(n){for(;je!==null;){var e=je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||a1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:zs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&NL(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}NL(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&$m(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Nr||e.flags&512&&UE(e)}catch(p){In(e,e.return,p)}}if(e===n){je=null;break}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function tD(n){for(;je!==null;){var e=je;if(e===n){je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,je=t;break}je=e.return}}function nD(n){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{a1(4,e)}catch(l){In(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){In(e,i,l)}}var s=e.return;try{UE(e)}catch(l){In(e,s,l)}break;case 5:var o=e.return;try{UE(e)}catch(l){In(e,o,l)}}}catch(l){In(e,e.return,l)}if(e===n){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var kK=Math.ceil,eb=Ga.ReactCurrentDispatcher,ZT=Ga.ReactCurrentOwner,vs=Ga.ReactCurrentBatchConfig,Gt=0,gr=null,Kn=null,Sr=0,Pi=0,vd=sc(0),nr=0,tg=null,_u=0,l1=0,eR=0,bm=null,li=null,tR=0,Zd=1/0,la=null,tb=!1,GE=null,Ol=null,Ny=!1,Cl=null,nb=0,_m=0,VE=null,ox=-1,ax=0;function Yr(){return Gt&6?Un():ox!==-1?ox:ox=Un()}function kl(n){return n.mode&1?Gt&2&&Sr!==0?Sr&-Sr:xK.transition!==null?(ax===0&&(ax=b5()),ax):(n=Zt,n!==0||(n=window.event,n=n===void 0?16:C5(n.type)),n):1}function Ys(n,e,t,r){if(50<_m)throw _m=0,VE=null,Error(Be(185));Dg(n,t,r),(!(Gt&2)||n!==gr)&&(n===gr&&(!(Gt&2)&&(l1|=t),nr===4&&wl(n,Sr)),pi(n,r),t===1&&Gt===0&&!(e.mode&1)&&(Zd=Un()+500,i1&&oc()))}function pi(n,e){var t=n.callbackNode;xJ(n,e);var r=Ux(n,n===gr?Sr:0);if(r===0)t!==null&&fL(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&fL(t),e===1)n.tag===0?vK(rD.bind(null,n)):j5(rD.bind(null,n)),pK(function(){!(Gt&6)&&oc()}),t=null;else{switch(_5(r)){case 1:t=CT;break;case 4:t=v5;break;case 16:t=Fx;break;case 536870912:t=x5;break;default:t=Fx}t=WH(t,FH.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function FH(n,e){if(ox=-1,ax=0,Gt&6)throw Error(Be(327));var t=n.callbackNode;if(Dd()&&n.callbackNode!==t)return null;var r=Ux(n,n===gr?Sr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=rb(n,r);else{e=r;var i=Gt;Gt|=2;var s=HH();(gr!==n||Sr!==e)&&(la=null,Zd=Un()+500,lu(n,e));do try{UK();break}catch(a){UH(n,a)}while(1);HT(),eb.current=s,Gt=i,Kn!==null?e=0:(gr=null,Sr=0,e=nr)}if(e!==0){if(e===2&&(i=gE(n),i!==0&&(r=i,e=$E(n,i))),e===1)throw t=tg,lu(n,0),wl(n,r),pi(n,Un()),t;if(e===6)wl(n,r);else{if(i=n.current.alternate,!(r&30)&&!NK(i)&&(e=rb(n,r),e===2&&(s=gE(n),s!==0&&(r=s,e=$E(n,s))),e===1))throw t=tg,lu(n,0),wl(n,r),pi(n,Un()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:Oc(n,li,la);break;case 3:if(wl(n,r),(r&130023424)===r&&(e=tR+500-Un(),10<e)){if(Ux(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Yr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=AE(Oc.bind(null,n,li,la),e);break}Oc(n,li,la);break;case 4:if(wl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Xs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kK(r/1960))-r,10<r){n.timeoutHandle=AE(Oc.bind(null,n,li,la),r);break}Oc(n,li,la);break;case 5:Oc(n,li,la);break;default:throw Error(Be(329))}}}return pi(n,Un()),n.callbackNode===t?FH.bind(null,n):null}function $E(n,e){var t=bm;return n.current.memoizedState.isDehydrated&&(lu(n,e).flags|=256),n=rb(n,e),n!==2&&(e=li,li=t,e!==null&&WE(e)),n}function WE(n){li===null?li=n:li.push.apply(li,n)}function NK(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!to(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(n,e){for(e&=~eR,e&=~l1,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Xs(e),r=1<<t;n[t]=-1,e&=~r}}function rD(n){if(Gt&6)throw Error(Be(327));Dd();var e=Ux(n,0);if(!(e&1))return pi(n,Un()),null;var t=rb(n,e);if(n.tag!==0&&t===2){var r=gE(n);r!==0&&(e=r,t=$E(n,r))}if(t===1)throw t=tg,lu(n,0),wl(n,e),pi(n,Un()),t;if(t===6)throw Error(Be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Oc(n,li,la),pi(n,Un()),null}function nR(n,e){var t=Gt;Gt|=1;try{return n(e)}finally{Gt=t,Gt===0&&(Zd=Un()+500,i1&&oc())}}function wu(n){Cl!==null&&Cl.tag===0&&!(Gt&6)&&Dd();var e=Gt;Gt|=1;var t=vs.transition,r=Zt;try{if(vs.transition=null,Zt=1,n)return n()}finally{Zt=r,vs.transition=t,Gt=e,!(Gt&6)&&oc()}}function rR(){Pi=vd.current,vn(vd)}function lu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,hK(t)),Kn!==null)for(t=Kn.return;t!==null;){var r=t;switch(NT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$x();break;case 3:Qd(),vn(di),vn(Hr),jT();break;case 5:WT(r);break;case 4:Qd();break;case 13:vn(An);break;case 19:vn(An);break;case 10:zT(r.type._context);break;case 22:case 23:rR()}t=t.return}if(gr=n,Kn=n=Nl(n.current,null),Sr=Pi=e,nr=0,tg=null,eR=l1=_u=0,li=bm=null,Yc!==null){for(e=0;e<Yc.length;e++)if(t=Yc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Yc=null}return n}function UH(n,e){do{var t=Kn;try{if(HT(),rx.current=Zx,qx){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qx=!1}if(bu=0,dr=er=Cn=null,vm=!1,qm=0,ZT.current=null,t===null||t.return===null){nr=1,tg=e,Kn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=$L(o);if(m!==null){m.flags&=-257,WL(m,o,a,s,e),m.mode&1&&VL(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){VL(s,c,e),iR();break e}l=Error(Be(426))}}else if(_n&&a.mode&1){var x=$L(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),WL(x,o,a,s,e),FT(qd(l,a));break e}}s=l=qd(l,a),nr!==4&&(nr=2),bm===null?bm=[s]:bm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=wH(s,l,e);kL(s,g);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ol===null||!Ol.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=SH(s,a,e);kL(s,S);break e}}s=s.return}while(s!==null)}GH(t)}catch(E){e=E,Kn===t&&t!==null&&(Kn=t=t.return);continue}break}while(1)}function HH(){var n=eb.current;return eb.current=Zx,n===null?Zx:n}function iR(){(nr===0||nr===3||nr===2)&&(nr=4),gr===null||!(_u&268435455)&&!(l1&268435455)||wl(gr,Sr)}function rb(n,e){var t=Gt;Gt|=2;var r=HH();(gr!==n||Sr!==e)&&(la=null,lu(n,e));do try{FK();break}catch(i){UH(n,i)}while(1);if(HT(),Gt=t,eb.current=r,Kn!==null)throw Error(Be(261));return gr=null,Sr=0,nr}function FK(){for(;Kn!==null;)zH(Kn)}function UK(){for(;Kn!==null&&!uJ();)zH(Kn)}function zH(n){var e=$H(n.alternate,n,Pi);n.memoizedProps=n.pendingProps,e===null?GH(n):Kn=e,ZT.current=null}function GH(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=BK(t,e),t!==null){t.flags&=32767,Kn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{nr=6,Kn=null;return}}else if(t=IK(t,e,Pi),t!==null){Kn=t;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=n}while(e!==null);nr===0&&(nr=5)}function Oc(n,e,t){var r=Zt,i=vs.transition;try{vs.transition=null,Zt=1,HK(n,e,t,r)}finally{vs.transition=i,Zt=r}return null}function HK(n,e,t,r){do Dd();while(Cl!==null);if(Gt&6)throw Error(Be(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(bJ(n,s),n===gr&&(Kn=gr=null,Sr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ny||(Ny=!0,WH(Fx,function(){return Dd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=vs.transition,vs.transition=null;var o=Zt;Zt=1;var a=Gt;Gt|=4,ZT.current=null,DK(n,t),kH(t,n),oK(wE),Hx=!!_E,wE=_E=null,n.current=t,OK(t),fJ(),Gt=a,Zt=o,vs.transition=s}else n.current=t;if(Ny&&(Ny=!1,Cl=n,nb=i),s=n.pendingLanes,s===0&&(Ol=null),pJ(t.stateNode),pi(n,Un()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(tb)throw tb=!1,n=GE,GE=null,n;return nb&1&&n.tag!==0&&Dd(),s=n.pendingLanes,s&1?n===VE?_m++:(_m=0,VE=n):_m=0,oc(),null}function Dd(){if(Cl!==null){var n=_5(nb),e=vs.transition,t=Zt;try{if(vs.transition=null,Zt=16>n?16:n,Cl===null)var r=!1;else{if(n=Cl,Cl=null,nb=0,Gt&6)throw Error(Be(331));var i=Gt;for(Gt|=4,je=n.current;je!==null;){var s=je,o=s.child;if(je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var u=je;switch(u.tag){case 0:case 11:case 15:xm(8,u,s)}var f=u.child;if(f!==null)f.return=u,je=f;else for(;je!==null;){u=je;var p=u.sibling,m=u.return;if(LH(u),u===c){je=null;break}if(p!==null){p.return=m,je=p;break}je=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xm(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,je=g;break e}je=s.return}}var _=n.current;for(je=_;je!==null;){o=je;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,je=b;else e:for(o=_;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:a1(9,a)}}catch(E){In(a,a.return,E)}if(a===o){je=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,je=S;break e}je=a.return}}if(Gt=i,oc(),Eo&&typeof Eo.onPostCommitFiberRoot=="function")try{Eo.onPostCommitFiberRoot(Zb,n)}catch{}r=!0}return r}finally{Zt=t,vs.transition=e}}return!1}function iD(n,e,t){e=qd(t,e),e=wH(n,e,1),n=Dl(n,e,1),e=Yr(),n!==null&&(Dg(n,1,e),pi(n,e))}function In(n,e,t){if(n.tag===3)iD(n,n,t);else for(;e!==null;){if(e.tag===3){iD(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ol===null||!Ol.has(r))){n=qd(t,n),n=SH(e,n,1),e=Dl(e,n,1),n=Yr(),e!==null&&(Dg(e,1,n),pi(e,n));break}}e=e.return}}function zK(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Yr(),n.pingedLanes|=n.suspendedLanes&t,gr===n&&(Sr&t)===t&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>Un()-tR?lu(n,0):eR|=t),pi(n,e)}function VH(n,e){e===0&&(n.mode&1?(e=Cy,Cy<<=1,!(Cy&130023424)&&(Cy=4194304)):e=1);var t=Yr();n=La(n,e),n!==null&&(Dg(n,e,t),pi(n,t))}function GK(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),VH(n,t)}function VK(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),VH(n,t)}var $H;$H=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||di.current)fi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return fi=!1,PK(n,e,t);fi=!!(n.flags&131072)}else fi=!1,_n&&e.flags&1048576&&J5(e,Jx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sx(n,e),n=e.pendingProps;var i=Kd(e,Hr.current);Ld(e,t),i=KT(null,e,r,n,i,t);var s=XT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(s=!0,Wx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VT(e),i.updater=s1,e.stateNode=i,i._reactInternals=e,IE(e,r,n,t),e=DE(null,e,r,!0,s,t)):(e.tag=0,_n&&s&&kT(e),Xr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(sx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WK(r),n=zs(r,n),i){case 0:e=LE(null,e,r,n,t);break e;case 1:e=KL(null,e,r,n,t);break e;case 11:e=jL(null,e,r,n,t);break e;case 14:e=JL(null,e,r,zs(r.type,n),t);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),LE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),KL(n,e,r,i,t);case 3:e:{if(CH(e),n===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Q5(n,e),Yx(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qd(Error(Be(423)),e),e=XL(n,e,r,t,i);break e}else if(r!==i){i=qd(Error(Be(424)),e),e=XL(n,e,r,t,i);break e}else for(Bi=Ll(e.stateNode.containerInfo.firstChild),Fi=e,_n=!0,$s=null,t=tH(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xd(),r===i){e=Da(n,e,t);break e}Xr(n,e,r,t)}e=e.child}return e;case 5:return nH(e),n===null&&TE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,SE(r,i)?o=null:s!==null&&SE(r,s)&&(e.flags|=32),MH(n,e),Xr(n,e,o,t),e.child;case 6:return n===null&&TE(e),null;case 13:return TH(n,e,t);case 4:return $T(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Yd(e,null,r,t):Xr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),jL(n,e,r,i,t);case 7:return Xr(n,e,e.pendingProps,t),e.child;case 8:return Xr(n,e,e.pendingProps.children,t),e.child;case 12:return Xr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,cn(Kx,r._currentValue),r._currentValue=o,s!==null)if(to(s.value,o)){if(s.children===i.children&&!di.current){e=Da(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ma(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),RE(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),RE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ld(e,t),i=_s(i),r=r(i),e.flags|=1,Xr(n,e,r,t),e.child;case 14:return r=e.type,i=zs(r,e.pendingProps),i=zs(r.type,i),JL(n,e,r,i,t);case 15:return AH(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),sx(n,e),e.tag=1,hi(r)?(n=!0,Wx(e)):n=!1,Ld(e,t),Z5(e,r,i),IE(e,r,i,t),DE(null,e,r,!0,n,t);case 19:return RH(n,e,t);case 22:return EH(n,e,t)}throw Error(Be(156,e.tag))};function WH(n,e){return y5(n,e)}function $K(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(n,e,t,r){return new $K(n,e,t,r)}function sR(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WK(n){if(typeof n=="function")return sR(n)?1:0;if(n!=null){if(n=n.$$typeof,n===AT)return 11;if(n===ET)return 14}return 2}function Nl(n,e){var t=n.alternate;return t===null?(t=ms(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function lx(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")sR(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ld:return cu(t.children,i,s,e);case ST:o=8,i|=8;break;case tE:return n=ms(12,t,e,i|2),n.elementType=tE,n.lanes=s,n;case nE:return n=ms(13,t,e,i),n.elementType=nE,n.lanes=s,n;case rE:return n=ms(19,t,e,i),n.elementType=rE,n.lanes=s,n;case e5:return c1(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q4:o=10;break e;case Z4:o=9;break e;case AT:o=11;break e;case ET:o=14;break e;case gl:o=16,r=null;break e}throw Error(Be(130,n==null?n:typeof n,""))}return e=ms(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function cu(n,e,t,r){return n=ms(7,n,r,e),n.lanes=t,n}function c1(n,e,t,r){return n=ms(22,n,r,e),n.elementType=e5,n.lanes=t,n.stateNode={isHidden:!1},n}function iS(n,e,t){return n=ms(6,n,null,e),n.lanes=t,n}function sS(n,e,t){return e=ms(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function jK(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oR(n,e,t,r,i,s,o,a,l){return n=new jK(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ms(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},VT(s),n}function JK(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ad,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function jH(n){if(!n)return Wl;n=n._reactInternals;e:{if(ku(n)!==n||n.tag!==1)throw Error(Be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(n.tag===1){var t=n.type;if(hi(t))return W5(n,t,e)}return e}function JH(n,e,t,r,i,s,o,a,l){return n=oR(t,r,!0,n,i,s,o,a,l),n.context=jH(null),t=n.current,r=Yr(),i=kl(t),s=Ma(r,i),s.callback=e??null,Dl(t,s,i),n.current.lanes=i,Dg(n,i,r),pi(n,r),n}function u1(n,e,t,r){var i=e.current,s=Yr(),o=kl(i);return t=jH(t),e.context===null?e.context=t:e.pendingContext=t,e=Ma(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Dl(i,e,o),n!==null&&(Ys(n,i,o,s),nx(n,i,o)),o}function ib(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sD(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function aR(n,e){sD(n,e),(n=n.alternate)&&sD(n,e)}function KK(){return null}var KH=typeof reportError=="function"?reportError:function(n){console.error(n)};function lR(n){this._internalRoot=n}f1.prototype.render=lR.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Be(409));u1(n,e,null,null)};f1.prototype.unmount=lR.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;wu(function(){u1(null,n,null,null)}),e[Ba]=null}};function f1(n){this._internalRoot=n}f1.prototype.unstable_scheduleHydration=function(n){if(n){var e=A5();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_l.length&&e!==0&&e<_l[t].priority;t++);_l.splice(t,0,n),t===0&&M5(n)}};function cR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function oD(){}function XK(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ib(o);s.call(c)}}var o=JH(e,r,n,0,null,!1,!1,"",oD);return n._reactRootContainer=o,n[Ba]=o.current,Jm(n.nodeType===8?n.parentNode:n),wu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ib(l);a.call(c)}}var l=oR(n,0,!1,null,null,!1,!1,"",oD);return n._reactRootContainer=l,n[Ba]=l.current,Jm(n.nodeType===8?n.parentNode:n),wu(function(){u1(e,l,t,r)}),l}function h1(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ib(o);a.call(l)}}u1(e,o,n,i)}else o=XK(t,e,n,i,r);return ib(o)}w5=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=tm(e.pendingLanes);t!==0&&(TT(e,t|1),pi(e,Un()),!(Gt&6)&&(Zd=Un()+500,oc()))}break;case 13:wu(function(){var r=La(n,1);if(r!==null){var i=Yr();Ys(r,n,1,i)}}),aR(n,1)}};RT=function(n){if(n.tag===13){var e=La(n,134217728);if(e!==null){var t=Yr();Ys(e,n,134217728,t)}aR(n,134217728)}};S5=function(n){if(n.tag===13){var e=kl(n),t=La(n,e);if(t!==null){var r=Yr();Ys(t,n,e,r)}aR(n,e)}};A5=function(){return Zt};E5=function(n,e){var t=Zt;try{return Zt=n,e()}finally{Zt=t}};hE=function(n,e,t){switch(e){case"input":if(oE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=r1(r);if(!i)throw Error(Be(90));n5(r),oE(r,i)}}}break;case"textarea":i5(n,t);break;case"select":e=t.value,e!=null&&Rd(n,!!t.multiple,e,!1)}};f5=nR;d5=wu;var YK={usingClientEntryPoint:!1,Events:[kg,dd,r1,c5,u5,nR]},Ep={findFiberByHostInstance:Xc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QK={bundleType:Ep.bundleType,version:Ep.version,rendererPackageName:Ep.rendererPackageName,rendererConfig:Ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=m5(n),n===null?null:n.stateNode},findFiberByHostInstance:Ep.findFiberByHostInstance||KK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fy.isDisabled&&Fy.supportsFiber)try{Zb=Fy.inject(QK),Eo=Fy}catch{}}Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YK;Xi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cR(e))throw Error(Be(200));return JK(n,e,null,t)};Xi.createRoot=function(n,e){if(!cR(n))throw Error(Be(299));var t=!1,r="",i=KH;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oR(n,1,!1,null,null,t,!1,r,i),n[Ba]=e.current,Jm(n.nodeType===8?n.parentNode:n),new lR(e)};Xi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Be(188)):(n=Object.keys(n).join(","),Error(Be(268,n)));return n=m5(e),n=n===null?null:n.stateNode,n};Xi.flushSync=function(n){return wu(n)};Xi.hydrate=function(n,e,t){if(!d1(e))throw Error(Be(200));return h1(null,n,e,!0,t)};Xi.hydrateRoot=function(n,e,t){if(!cR(n))throw Error(Be(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=KH;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=JH(e,null,n,1,t??null,i,!1,s,o),n[Ba]=e.current,Jm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new f1(e)};Xi.render=function(n,e,t){if(!d1(e))throw Error(Be(200));return h1(null,n,e,!1,t)};Xi.unmountComponentAtNode=function(n){if(!d1(n))throw Error(Be(40));return n._reactRootContainer?(wu(function(){h1(null,null,n,!1,function(){n._reactRootContainer=null,n[Ba]=null})}),!0):!1};Xi.unstable_batchedUpdates=nR;Xi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!d1(t))throw Error(Be(200));if(n==null||n._reactInternals===void 0)throw Error(Be(38));return h1(n,e,t,!1,r)};Xi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Xi})(K7);var aD=Fm;qA.createRoot=aD.createRoot,qA.hydrateRoot=aD.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p1="151",qK={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ZK={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},XH=0,jE=1,YH=2,eX=3,QH=0,m1=1,wm=2,qc=3,Oo=0,Qr=1,hs=2,tX=2,Ca=0,uu=1,JE=2,KE=3,XE=4,qH=5,Jc=100,ZH=101,ez=102,YE=103,QE=104,tz=200,nz=201,rz=202,iz=203,uR=204,fR=205,sz=206,oz=207,az=208,lz=209,cz=210,uz=0,fz=1,dz=2,sb=3,hz=4,pz=5,mz=6,gz=7,Fg=0,yz=1,vz=2,Qs=0,xz=1,bz=2,_z=3,dR=4,wz=5,g1=300,Oa=301,jl=302,eh=303,ng=304,Ch=306,Jl=1e3,wr=1001,th=1002,Bn=1003,rg=1004,nX=1004,Od=1005,rX=1005,yn=1006,y1=1007,iX=1007,ko=1008,sX=1008,ka=1009,Sz=1010,Az=1011,hR=1012,Ez=1013,Tl=1014,Li=1015,gs=1016,Mz=1017,Cz=1018,fu=1020,Tz=1021,ui=1023,Rz=1024,Pz=1025,Fl=1026,Su=1027,Iz=1028,Bz=1029,Lz=1030,Dz=1031,Oz=1033,cx=33776,ux=33777,fx=33778,dx=33779,qE=35840,ZE=35841,eM=35842,tM=35843,kz=36196,nM=37492,rM=37496,iM=37808,sM=37809,oM=37810,aM=37811,lM=37812,cM=37813,uM=37814,fM=37815,dM=37816,hM=37817,pM=37818,mM=37819,gM=37820,yM=37821,hx=36492,Nz=36283,vM=36284,xM=36285,bM=36286,Fz=2200,Uz=2201,Hz=2202,nh=2300,Au=2301,px=2302,Zc=2400,eu=2401,ig=2402,v1=2500,pR=2501,oX=0,zz=1,mR=2,no=3e3,kt=3001,Gz=3200,Vz=3201,Va=0,$z=1,aX="",Vs="srgb",rh="srgb-linear",gR="display-p3",lX=0,mx=7680,cX=7681,uX=7682,fX=7683,dX=34055,hX=34056,pX=5386,mX=512,gX=513,yX=514,vX=515,xX=516,bX=517,_X=518,Wz=519,sg=35044,wX=35048,SX=35040,AX=35045,EX=35049,MX=35041,CX=35046,TX=35050,RX=35042,PX="100",_M="300 es",ob=1035;class $a{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Dr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lD=1234567;const du=Math.PI/180,ih=180/Math.PI;function Ui(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Dr[n&255]+Dr[n>>8&255]+Dr[n>>16&255]+Dr[n>>24&255]+"-"+Dr[e&255]+Dr[e>>8&255]+"-"+Dr[e>>16&15|64]+Dr[e>>24&255]+"-"+Dr[t&63|128]+Dr[t>>8&255]+"-"+Dr[t>>16&255]+Dr[t>>24&255]+Dr[r&255]+Dr[r>>8&255]+Dr[r>>16&255]+Dr[r>>24&255]).toLowerCase()}function Ln(n,e,t){return Math.max(e,Math.min(t,n))}function yR(n,e){return(n%e+e)%e}function IX(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function BX(n,e,t){return n!==e?(t-n)/(e-n):0}function Sm(n,e,t){return(1-t)*n+t*e}function LX(n,e,t,r){return Sm(n,e,1-Math.exp(-t*r))}function DX(n,e=1){return e-Math.abs(yR(n,e*2)-e)}function OX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function kX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function NX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function FX(n,e){return n+Math.random()*(e-n)}function UX(n){return n*(.5-Math.random())}function HX(n){n!==void 0&&(lD=n);let e=lD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function zX(n){return n*du}function GX(n){return n*ih}function wM(n){return(n&n-1)===0&&n!==0}function jz(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Jz(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function VX(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Di(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ct(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const kd={DEG2RAD:du,RAD2DEG:ih,generateUUID:Ui,clamp:Ln,euclideanModulo:yR,mapLinear:IX,inverseLerp:BX,lerp:Sm,damp:LX,pingpong:DX,smoothstep:OX,smootherstep:kX,randInt:NX,randFloat:FX,randFloatSpread:UX,seededRandom:HX,degToRad:zX,radToDeg:GX,isPowerOfTwo:wM,ceilPowerOfTwo:jz,floorPowerOfTwo:Jz,setQuaternionFromProperEuler:VX,normalize:Ct,denormalize:Di};class Ce{constructor(e=0,t=0){Ce.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dt{constructor(){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],y=r[8],v=i[0],x=i[3],g=i[6],_=i[1],b=i[4],S=i[7],E=i[2],M=i[5],R=i[8];return s[0]=o*v+a*_+l*E,s[3]=o*x+a*b+l*M,s[6]=o*g+a*S+l*R,s[1]=c*v+u*_+f*E,s[4]=c*x+u*b+f*M,s[7]=c*g+u*S+f*R,s[2]=p*v+m*_+y*E,s[5]=p*x+m*b+y*M,s[8]=p*g+m*S+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*f+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=p*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(oS.makeScale(e,t)),this}rotate(e){return this.premultiply(oS.makeRotation(-e)),this}translate(e,t){return this.premultiply(oS.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const oS=new Dt;function Kz(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const $X={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xd(n,e){return new $X[n](e)}function og(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Nd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function aS(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const WX=new Dt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),jX=new Dt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function JX(n){return n.convertSRGBToLinear().applyMatrix3(jX)}function KX(n){return n.applyMatrix3(WX).convertLinearToSRGB()}const XX={[rh]:n=>n,[Vs]:n=>n.convertSRGBToLinear(),[gR]:JX},YX={[rh]:n=>n,[Vs]:n=>n.convertLinearToSRGB(),[gR]:KX},oi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return rh},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=XX[e],i=YX[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let hf;class vR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{hf===void 0&&(hf=og("canvas")),hf.width=e.width,hf.height=e.height;const r=hf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=hf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=og("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Nd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Nd(t[r]/255)*255):t[r]=Nd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class tu{constructor(e=null){this.isSource=!0,this.uuid=Ui(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(lS(i[o].image)):s.push(lS(i[o]))}else s=lS(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function lS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vR.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QX=0;class wn extends $a{constructor(e=wn.DEFAULT_IMAGE,t=wn.DEFAULT_MAPPING,r=wr,i=wr,s=yn,o=ko,a=ui,l=ka,c=wn.DEFAULT_ANISOTROPY,u=no){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QX++}),this.uuid=Ui(),this.name="",this.source=new tu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==g1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jl:e.x=e.x-Math.floor(e.x);break;case wr:e.x=e.x<0?0:1;break;case th:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jl:e.y=e.y-Math.floor(e.y);break;case wr:e.y=e.y<0?0:1;break;case th:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}wn.DEFAULT_IMAGE=null;wn.DEFAULT_MAPPING=g1;wn.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,r=0,i=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],y=l[9],v=l[2],x=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-v)<.01&&Math.abs(y-x)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+v)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,S=(m+1)/2,E=(g+1)/2,M=(u+p)/4,R=(f+v)/4,B=(y+x)/4;return b>S&&b>E?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=M/r,s=R/r):S>E?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=M/i,s=B/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=R/s,i=B/s),this.set(r,i,s,t),this}let _=Math.sqrt((x-y)*(x-y)+(f-v)*(f-v)+(p-u)*(p-u));return Math.abs(_)<.001&&(_=1),this.x=(x-y)/_,this.y=(f-v)/_,this.z=(p-u)/_,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $i extends $a{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new wn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new tu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class x1 extends wn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qX extends $i{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new x1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class xR extends wn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=wr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ZX extends $i{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new xR(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class eY extends $i{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class yr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=v;return}if(f!==v||l!==p||c!==m||u!==y){let x=1-a;const g=l*p+c*m+u*y+f*v,_=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,g*_);x=Math.sin(x*M)/E,a=Math.sin(a*M)/E}const S=a*_;if(l=l*x+p*S,c=c*x+m*S,u=u*x+y*S,f=f*x+v*S,x===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*f+l*m-c*p,e[t+1]=l*y+u*p+c*f-a*m,e[t+2]=c*y+u*m+a*p-l*f,e[t+3]=u*y-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"YXZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"ZXY":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"ZYX":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"YZX":this._x=p*u*f+c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f-p*m*y;break;case"XZY":this._x=p*u*f-c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,t=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(cD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(cD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-f*-o,this.y=u*l+p*-o+f*-s-c*-a,this.z=f*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return cS.copy(this).projectOnVector(e),this.sub(cS)}reflect(e){return this.sub(cS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cS=new G,cD=new yr;class Ms{constructor(e=new G(1/0,1/0,1/0),t=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Zo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Zo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Zo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),pf.copy(e.boundingBox),pf.applyMatrix4(e.matrixWorld),this.union(pf);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Zo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Zo)}else i.boundingBox===null&&i.computeBoundingBox(),pf.copy(i.boundingBox),pf.applyMatrix4(e.matrixWorld),this.union(pf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Zo),Zo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mp),Uy.subVectors(this.max,Mp),mf.subVectors(e.a,Mp),gf.subVectors(e.b,Mp),yf.subVectors(e.c,Mp),al.subVectors(gf,mf),ll.subVectors(yf,gf),Ac.subVectors(mf,yf);let t=[0,-al.z,al.y,0,-ll.z,ll.y,0,-Ac.z,Ac.y,al.z,0,-al.x,ll.z,0,-ll.x,Ac.z,0,-Ac.x,-al.y,al.x,0,-ll.y,ll.x,0,-Ac.y,Ac.x,0];return!uS(t,mf,gf,yf,Uy)||(t=[1,0,0,0,1,0,0,0,1],!uS(t,mf,gf,yf,Uy))?!1:(Hy.crossVectors(al,ll),t=[Hy.x,Hy.y,Hy.z],uS(t,mf,gf,yf,Uy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(qo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qo=[new G,new G,new G,new G,new G,new G,new G,new G],Zo=new G,pf=new Ms,mf=new G,gf=new G,yf=new G,al=new G,ll=new G,Ac=new G,Mp=new G,Uy=new G,Hy=new G,Ec=new G;function uS(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Ec.fromArray(n,s);const a=i.x*Math.abs(Ec.x)+i.y*Math.abs(Ec.y)+i.z*Math.abs(Ec.z),l=e.dot(Ec),c=t.dot(Ec),u=r.dot(Ec);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const tY=new Ms,Cp=new G,fS=new G;class Cs{constructor(e=new G,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):tY.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cp.subVectors(e,this.center);const t=Cp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Cp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cp.copy(e.center).add(fS)),this.expandByPoint(Cp.copy(e.center).sub(fS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ea=new G,dS=new G,zy=new G,cl=new G,hS=new G,Gy=new G,pS=new G;class Ug{constructor(e=new G,t=new G(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ea)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ea.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ea.copy(this.origin).addScaledVector(this.direction,t),ea.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){dS.copy(e).add(t).multiplyScalar(.5),zy.copy(t).sub(e).normalize(),cl.copy(this.origin).sub(dS);const s=e.distanceTo(t)*.5,o=-this.direction.dot(zy),a=cl.dot(this.direction),l=-cl.dot(zy),c=cl.lengthSq(),u=Math.abs(1-o*o);let f,p,m,y;if(u>0)if(f=o*l-a,p=o*a-l,y=s*u,f>=0)if(p>=-y)if(p<=y){const v=1/u;f*=v,p*=v,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-y?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=y?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(dS).addScaledVector(zy,p),m}intersectSphere(e,t){ea.subVectors(e.center,this.origin);const r=ea.dot(this.direction),i=ea.dot(ea)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ea)!==null}intersectTriangle(e,t,r,i,s){hS.subVectors(t,e),Gy.subVectors(r,e),pS.crossVectors(hS,Gy);let o=this.direction.dot(pS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;cl.subVectors(this.origin,e);const l=a*this.direction.dot(Gy.crossVectors(cl,Gy));if(l<0)return null;const c=a*this.direction.dot(hS.cross(cl));if(c<0||l+c>o)return null;const u=-a*cl.dot(pS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,p,m,y,v,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=p,g[3]=m,g[7]=y,g[11]=v,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/vf.setFromMatrixColumn(e,0).length(),s=1/vf.setFromMatrixColumn(e,1).length(),o=1/vf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,y=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+y*c,t[5]=p-v*c,t[9]=-a*l,t[2]=v-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,y=c*u,v=c*f;t[0]=p+v*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,y=c*u,v=c*f;t[0]=p-v*a,t[4]=-o*f,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=v-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,y=a*u,v=a*f;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+v,t[1]=l*f,t[5]=v*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*u,t[4]=v-p*f,t[8]=y*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+y,t[10]=p-v*f}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+v,t[5]=o*u,t[9]=m*f-y,t[2]=y*f-m,t[6]=a*u,t[10]=v*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nY,e,rY)}lookAt(e,t,r){const i=this.elements;return Ci.subVectors(e,t),Ci.lengthSq()===0&&(Ci.z=1),Ci.normalize(),ul.crossVectors(r,Ci),ul.lengthSq()===0&&(Math.abs(r.z)===1?Ci.x+=1e-4:Ci.z+=1e-4,Ci.normalize(),ul.crossVectors(r,Ci)),ul.normalize(),Vy.crossVectors(Ci,ul),i[0]=ul.x,i[4]=Vy.x,i[8]=Ci.x,i[1]=ul.y,i[5]=Vy.y,i[9]=Ci.y,i[2]=ul.z,i[6]=Vy.z,i[10]=Ci.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],y=r[2],v=r[6],x=r[10],g=r[14],_=r[3],b=r[7],S=r[11],E=r[15],M=i[0],R=i[4],B=i[8],T=i[12],I=i[1],O=i[5],z=i[9],H=i[13],N=i[2],J=i[6],X=i[10],Y=i[14],k=i[3],U=i[7],V=i[11],q=i[15];return s[0]=o*M+a*I+l*N+c*k,s[4]=o*R+a*O+l*J+c*U,s[8]=o*B+a*z+l*X+c*V,s[12]=o*T+a*H+l*Y+c*q,s[1]=u*M+f*I+p*N+m*k,s[5]=u*R+f*O+p*J+m*U,s[9]=u*B+f*z+p*X+m*V,s[13]=u*T+f*H+p*Y+m*q,s[2]=y*M+v*I+x*N+g*k,s[6]=y*R+v*O+x*J+g*U,s[10]=y*B+v*z+x*X+g*V,s[14]=y*T+v*H+x*Y+g*q,s[3]=_*M+b*I+S*N+E*k,s[7]=_*R+b*O+S*J+E*U,s[11]=_*B+b*z+S*X+E*V,s[15]=_*T+b*H+S*Y+E*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],y=e[3],v=e[7],x=e[11],g=e[15];return y*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+v*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+x*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],y=e[12],v=e[13],x=e[14],g=e[15],_=f*x*c-v*p*c+v*l*m-a*x*m-f*l*g+a*p*g,b=y*p*c-u*x*c-y*l*m+o*x*m+u*l*g-o*p*g,S=u*v*c-y*f*c+y*a*m-o*v*m-u*a*g+o*f*g,E=y*f*l-u*v*l-y*a*p+o*v*p+u*a*x-o*f*x,M=t*_+r*b+i*S+s*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/M;return e[0]=_*R,e[1]=(v*p*s-f*x*s-v*i*m+r*x*m+f*i*g-r*p*g)*R,e[2]=(a*x*s-v*l*s+v*i*c-r*x*c-a*i*g+r*l*g)*R,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=b*R,e[5]=(u*x*s-y*p*s+y*i*m-t*x*m-u*i*g+t*p*g)*R,e[6]=(y*l*s-o*x*s-y*i*c+t*x*c+o*i*g-t*l*g)*R,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*R,e[8]=S*R,e[9]=(y*f*s-u*v*s-y*r*m+t*v*m+u*r*g-t*f*g)*R,e[10]=(o*v*s-y*a*s+y*r*c-t*v*c-o*r*g+t*a*g)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*R,e[12]=E*R,e[13]=(u*v*i-y*f*i+y*r*p-t*v*p-u*r*x+t*f*x)*R,e[14]=(y*a*i-o*v*i-y*r*l+t*v*l+o*r*x-t*a*x)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,y=s*f,v=o*u,x=o*f,g=a*f,_=l*c,b=l*u,S=l*f,E=r.x,M=r.y,R=r.z;return i[0]=(1-(v+g))*E,i[1]=(m+S)*E,i[2]=(y-b)*E,i[3]=0,i[4]=(m-S)*M,i[5]=(1-(p+g))*M,i[6]=(x+_)*M,i[7]=0,i[8]=(y+b)*R,i[9]=(x-_)*R,i[10]=(1-(p+v))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=vf.set(i[0],i[1],i[2]).length();const o=vf.set(i[4],i[5],i[6]).length(),a=vf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ks.copy(this);const c=1/s,u=1/o,f=1/a;return ks.elements[0]*=c,ks.elements[1]*=c,ks.elements[2]*=c,ks.elements[4]*=u,ks.elements[5]*=u,ks.elements[6]*=u,ks.elements[8]*=f,ks.elements[9]*=f,ks.elements[10]*=f,t.setFromRotationMatrix(ks),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const vf=new G,ks=new dt,nY=new G(0,0,0),rY=new G(1,1,1),ul=new G,Vy=new G,Ci=new G,uD=new dt,fD=new yr;class ac{constructor(e=0,t=0,r=0,i=ac.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Ln(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ln(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ln(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return uD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(uD,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return fD.setFromEuler(this),this.setFromQuaternion(fD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ac.DEFAULT_ORDER="XYZ";class hu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let iY=0;const dD=new G,xf=new yr,ta=new dt,$y=new G,Tp=new G,sY=new G,oY=new yr,hD=new G(1,0,0),pD=new G(0,1,0),mD=new G(0,0,1),aY={type:"added"},gD={type:"removed"};class Ht extends $a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:iY++}),this.uuid=Ui(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ht.DEFAULT_UP.clone();const e=new G,t=new ac,r=new yr,i=new G(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dt},normalMatrix:{value:new Dt}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=Ht.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new hu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xf.setFromAxisAngle(e,t),this.quaternion.multiply(xf),this}rotateOnWorldAxis(e,t){return xf.setFromAxisAngle(e,t),this.quaternion.premultiply(xf),this}rotateX(e){return this.rotateOnAxis(hD,e)}rotateY(e){return this.rotateOnAxis(pD,e)}rotateZ(e){return this.rotateOnAxis(mD,e)}translateOnAxis(e,t){return dD.copy(e).applyQuaternion(this.quaternion),this.position.add(dD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hD,e)}translateY(e){return this.translateOnAxis(pD,e)}translateZ(e){return this.translateOnAxis(mD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ta.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?$y.copy(e):$y.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Tp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ta.lookAt(Tp,$y,this.up):ta.lookAt($y,Tp,this.up),this.quaternion.setFromRotationMatrix(ta),i&&(ta.extractRotation(i.matrixWorld),xf.setFromRotationMatrix(ta),this.quaternion.premultiply(xf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(aY)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(gD)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ta.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ta.multiply(e.parent.matrixWorld)),e.applyMatrix4(ta),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tp,e,sY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tp,oY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ht.DEFAULT_UP=new G(0,1,0);Ht.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ns=new G,na=new G,mS=new G,ra=new G,bf=new G,_f=new G,yD=new G,gS=new G,yS=new G,vS=new G;let Wy=!1;class ci{constructor(e=new G,t=new G,r=new G){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ns.subVectors(e,t),i.cross(Ns);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ns.subVectors(i,t),na.subVectors(r,t),mS.subVectors(e,t);const o=Ns.dot(Ns),a=Ns.dot(na),l=Ns.dot(mS),c=na.dot(na),u=na.dot(mS),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ra),ra.x>=0&&ra.y>=0&&ra.x+ra.y<=1}static getUV(e,t,r,i,s,o,a,l){return Wy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wy=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ra),l.setScalar(0),l.addScaledVector(s,ra.x),l.addScaledVector(o,ra.y),l.addScaledVector(a,ra.z),l}static isFrontFacing(e,t,r,i){return Ns.subVectors(r,t),na.subVectors(e,t),Ns.cross(na).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ns.subVectors(this.c,this.b),na.subVectors(this.a,this.b),Ns.cross(na).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ci.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ci.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Wy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Wy=!0),ci.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return ci.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ci.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ci.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;bf.subVectors(i,r),_f.subVectors(s,r),gS.subVectors(e,r);const l=bf.dot(gS),c=_f.dot(gS);if(l<=0&&c<=0)return t.copy(r);yS.subVectors(e,i);const u=bf.dot(yS),f=_f.dot(yS);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(bf,o);vS.subVectors(e,s);const m=bf.dot(vS),y=_f.dot(vS);if(y>=0&&m<=y)return t.copy(s);const v=m*c-l*y;if(v<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(_f,a);const x=u*y-m*f;if(x<=0&&f-u>=0&&m-y>=0)return yD.subVectors(s,i),a=(f-u)/(f-u+(m-y)),t.copy(i).addScaledVector(yD,a);const g=1/(x+v+p);return o=v*g,a=p*g,t.copy(r).addScaledVector(bf,o).addScaledVector(_f,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let lY=0,Qn=class extends $a{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lY++}),this.uuid=Ui(),this.name="",this.type="Material",this.blending=uu,this.side=Oo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=uR,this.blendDst=fR,this.blendEquation=Jc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=sb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Wz,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mx,this.stencilZFail=mx,this.stencilZPass=mx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==uu&&(r.blending=this.blending),this.side!==Oo&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};const Xz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fs={h:0,s:0,l:0},jy={h:0,s:0,l:0};function xS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ke{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=oi.workingColorSpace){return this.r=e,this.g=t,this.b=r,oi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=oi.workingColorSpace){if(e=yR(e,1),t=Ln(t,0,1),r=Ln(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=xS(o,s,e+1/3),this.g=xS(o,s,e),this.b=xS(o,s,e-1/3)}return oi.toWorkingColorSpace(this,i),this}setStyle(e,t=Vs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,oi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,oi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Vs){const r=Xz[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nd(e.r),this.g=Nd(e.g),this.b=Nd(e.b),this}copyLinearToSRGB(e){return this.r=aS(e.r),this.g=aS(e.g),this.b=aS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vs){return oi.fromWorkingColorSpace(Or.copy(this),e),Ln(Or.r*255,0,255)<<16^Ln(Or.g*255,0,255)<<8^Ln(Or.b*255,0,255)<<0}getHexString(e=Vs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.fromWorkingColorSpace(Or.copy(this),t);const r=Or.r,i=Or.g,s=Or.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=oi.workingColorSpace){return oi.fromWorkingColorSpace(Or.copy(this),t),e.r=Or.r,e.g=Or.g,e.b=Or.b,e}getStyle(e=Vs){oi.fromWorkingColorSpace(Or.copy(this),e);const t=Or.r,r=Or.g,i=Or.b;return e!==Vs?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(Fs),Fs.h+=e,Fs.s+=t,Fs.l+=r,this.setHSL(Fs.h,Fs.s,Fs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Fs),e.getHSL(jy);const r=Sm(Fs.h,jy.h,t),i=Sm(Fs.s,jy.s,t),s=Sm(Fs.l,jy.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Or=new ke;ke.NAMES=Xz;class Oi extends Qn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const da=cY();function cY(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ai(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ln(n,-65504,65504),da.floatView[0]=n;const e=da.uint32View[0],t=e>>23&511;return da.baseTable[t]+((e&8388607)>>da.shiftTable[t])}function rm(n){const e=n>>10;return da.uint32View[0]=da.mantissaTable[da.offsetTable[e]+(n&1023)]+da.exponentTable[e],da.floatView[0]}const im={toHalfFloat:ai,fromHalfFloat:rm},Wn=new G,Jy=new Ce;class Kt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=sg,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Jy.fromBufferAttribute(this,t),Jy.applyMatrix3(e),this.setXY(t,Jy.x,Jy.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix3(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix4(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyNormalMatrix(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.transformDirection(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Di(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Di(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Di(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Di(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array),s=Ct(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class uY extends Kt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class fY extends Kt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class dY extends Kt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class hY extends Kt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class bR extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class pY extends Kt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class _R extends Kt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class mY extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=rm(this.array[e*this.itemSize]);return this.normalized&&(t=Di(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize]=ai(t),this}getY(e){let t=rm(this.array[e*this.itemSize+1]);return this.normalized&&(t=Di(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+1]=ai(t),this}getZ(e){let t=rm(this.array[e*this.itemSize+2]);return this.normalized&&(t=Di(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+2]=ai(t),this}getW(e){let t=rm(this.array[e*this.itemSize+3]);return this.normalized&&(t=Di(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ct(t,this.array)),this.array[e*this.itemSize+3]=ai(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array)),this.array[e+0]=ai(t),this.array[e+1]=ai(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=ai(t),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array),s=Ct(s,this.array)),this.array[e+0]=ai(t),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this.array[e+3]=ai(s),this}}class Ye extends Kt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class gY extends Kt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let yY=0;const os=new dt,bS=new Ht,wf=new G,Ti=new Ms,Rp=new Ms,ur=new G;class xt extends $a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yY++}),this.uuid=Ui(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Kz(e)?_R:bR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return os.makeRotationFromQuaternion(e),this.applyMatrix4(os),this}rotateX(e){return os.makeRotationX(e),this.applyMatrix4(os),this}rotateY(e){return os.makeRotationY(e),this.applyMatrix4(os),this}rotateZ(e){return os.makeRotationZ(e),this.applyMatrix4(os),this}translate(e,t,r){return os.makeTranslation(e,t,r),this.applyMatrix4(os),this}scale(e,t,r){return os.makeScale(e,t,r),this.applyMatrix4(os),this}lookAt(e){return bS.lookAt(e),bS.updateMatrix(),this.applyMatrix4(bS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wf).negate(),this.translate(wf.x,wf.y,wf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ye(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ms);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ti.setFromBufferAttribute(s),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,Ti.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,Ti.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(Ti.min),this.boundingBox.expandByPoint(Ti.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(Ti.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Rp.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(Ti.min,Rp.min),Ti.expandByPoint(ur),ur.addVectors(Ti.max,Rp.max),Ti.expandByPoint(ur)):(Ti.expandByPoint(Rp.min),Ti.expandByPoint(Rp.max))}Ti.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ur.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ur));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ur.fromBufferAttribute(a,c),l&&(wf.fromBufferAttribute(e,c),ur.add(wf)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let I=0;I<a;I++)c[I]=new G,u[I]=new G;const f=new G,p=new G,m=new G,y=new Ce,v=new Ce,x=new Ce,g=new G,_=new G;function b(I,O,z){f.fromArray(i,I*3),p.fromArray(i,O*3),m.fromArray(i,z*3),y.fromArray(o,I*2),v.fromArray(o,O*2),x.fromArray(o,z*2),p.sub(f),m.sub(f),v.sub(y),x.sub(y);const H=1/(v.x*x.y-x.x*v.y);isFinite(H)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(H),_.copy(m).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(H),c[I].add(g),c[O].add(g),c[z].add(g),u[I].add(_),u[O].add(_),u[z].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let I=0,O=S.length;I<O;++I){const z=S[I],H=z.start,N=z.count;for(let J=H,X=H+N;J<X;J+=3)b(r[J+0],r[J+1],r[J+2])}const E=new G,M=new G,R=new G,B=new G;function T(I){R.fromArray(s,I*3),B.copy(R);const O=c[I];E.copy(O),E.sub(R.multiplyScalar(R.dot(O))).normalize(),M.crossVectors(B,O);const H=M.dot(u[I])<0?-1:1;l[I*4]=E.x,l[I*4+1]=E.y,l[I*4+2]=E.z,l[I*4+3]=H}for(let I=0,O=S.length;I<O;++I){const z=S[I],H=z.start,N=z.count;for(let J=H,X=H+N;J<X;J+=3)T(r[J+0]),T(r[J+1]),T(r[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Kt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new G,s=new G,o=new G,a=new G,l=new G,c=new G,u=new G,f=new G;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),v=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ur.fromBufferAttribute(e,t),ur.normalize(),e.setXYZ(t,ur.x,ur.y,ur.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*u;for(let g=0;g<u;g++)p[y++]=c[m++]}return new Kt(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const vD=new dt,bo=new Ug,Ky=new Cs,xD=new G,Sf=new G,Af=new G,Ef=new G,_S=new G,Xy=new G,Yy=new Ce,Qy=new Ce,qy=new Ce,bD=new G,_D=new G,wD=new G,Zy=new G,ev=new G;class Xn extends Ht{constructor(e=new xt,t=new Oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Xy.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(_S.fromBufferAttribute(f,e),o?Xy.addScaledVector(_S,u):Xy.addScaledVector(_S.sub(t),u))}t.add(Xy)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Ky.copy(r.boundingSphere),Ky.applyMatrix4(s),bo.copy(e.ray).recast(e.near),Ky.containsPoint(bo.origin)===!1&&(bo.intersectSphere(Ky,xD)===null||bo.origin.distanceToSquared(xD)>(e.far-e.near)**2))||(vD.copy(s).invert(),bo.copy(e.ray).applyMatrix4(vD),r.boundingBox!==null&&bo.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,f=r.attributes.normal,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,v=p.length;y<v;y++){const x=p[y],g=i[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let S=_,E=b;S<E;S+=3){const M=a.getX(S),R=a.getX(S+1),B=a.getX(S+2);o=tv(this,g,e,bo,c,u,f,M,R,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const y=Math.max(0,m.start),v=Math.min(a.count,m.start+m.count);for(let x=y,g=v;x<g;x+=3){const _=a.getX(x),b=a.getX(x+1),S=a.getX(x+2);o=tv(this,i,e,bo,c,u,f,_,b,S),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,v=p.length;y<v;y++){const x=p[y],g=i[x.materialIndex],_=Math.max(x.start,m.start),b=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let S=_,E=b;S<E;S+=3){const M=S,R=S+1,B=S+2;o=tv(this,g,e,bo,c,u,f,M,R,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const y=Math.max(0,m.start),v=Math.min(l.count,m.start+m.count);for(let x=y,g=v;x<g;x+=3){const _=x,b=x+1,S=x+2;o=tv(this,i,e,bo,c,u,f,_,b,S),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function vY(n,e,t,r,i,s,o,a){let l;if(e.side===Qr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Oo,a),l===null)return null;ev.copy(a),ev.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(ev);return c<t.near||c>t.far?null:{distance:c,point:ev.clone(),object:n}}function tv(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,Sf),n.getVertexPosition(l,Af),n.getVertexPosition(c,Ef);const u=vY(n,e,t,r,Sf,Af,Ef,Zy);if(u){i&&(Yy.fromBufferAttribute(i,a),Qy.fromBufferAttribute(i,l),qy.fromBufferAttribute(i,c),u.uv=ci.getInterpolation(Zy,Sf,Af,Ef,Yy,Qy,qy,new Ce)),s&&(Yy.fromBufferAttribute(s,a),Qy.fromBufferAttribute(s,l),qy.fromBufferAttribute(s,c),u.uv2=ci.getInterpolation(Zy,Sf,Af,Ef,Yy,Qy,qy,new Ce)),o&&(bD.fromBufferAttribute(o,a),_D.fromBufferAttribute(o,l),wD.fromBufferAttribute(o,c),u.normal=ci.getInterpolation(Zy,Sf,Af,Ef,bD,_D,wD,new G),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new G,materialIndex:0};ci.getNormal(Sf,Af,Ef,f.normal),u.face=f}return u}class lc extends xt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ye(c,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(f,2));function y(v,x,g,_,b,S,E,M,R,B,T){const I=S/R,O=E/B,z=S/2,H=E/2,N=M/2,J=R+1,X=B+1;let Y=0,k=0;const U=new G;for(let V=0;V<X;V++){const q=V*O-H;for(let ee=0;ee<J;ee++){const se=ee*I-z;U[v]=se*_,U[x]=q*b,U[g]=N,c.push(U.x,U.y,U.z),U[v]=0,U[x]=0,U[g]=M>0?1:-1,u.push(U.x,U.y,U.z),f.push(ee/R),f.push(1-V/B),Y+=1}}for(let V=0;V<B;V++)for(let q=0;q<R;q++){const ee=p+q+J*V,se=p+q+J*(V+1),Z=p+(q+1)+J*(V+1),de=p+(q+1)+J*V;l.push(ee,se,de),l.push(se,Z,de),k+=6}a.addGroup(m,k,T),m+=k,p+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function jr(n){const e={};for(let t=0;t<n.length;t++){const r=sh(n[t]);for(const i in r)e[i]=r[i]}return e}function xY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Yz(n){return n.getRenderTarget()===null&&n.outputEncoding===kt?Vs:rh}const wR={clone:sh,merge:jr};var bY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_Y=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ss extends Qn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bY,this.fragmentShader=_Y,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sh(e.uniforms),this.uniformsGroups=xY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Hg extends Ht{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class tr extends Hg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ih*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(du*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ih*2*Math.atan(Math.tan(du*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(du*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Mf=-90,Cf=1;class Qz extends Ht{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new tr(Mf,Cf,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new tr(Mf,Cf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new tr(Mf,Cf,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new tr(Mf,Cf,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new tr(Mf,Cf,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new tr(Mf,Cf,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=Qs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class zg extends wn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Oa,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class SR extends $i{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new zg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:yn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new lc(5,5,5),s=new Ss({name:"CubemapFromEquirect",uniforms:sh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Qr,blending:Ca});s.uniforms.tEquirect.value=t;const o=new Xn(i,s),a=t.minFilter;return t.minFilter===ko&&(t.minFilter=yn),new Qz(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const wS=new G,wY=new G,SY=new Dt;class vl{constructor(e=new G(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=wS.subVectors(r,t).cross(wY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(wS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||SY.getNormalMatrix(e),i=this.coplanarPoint(wS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mc=new Cs,nv=new G;class b1{constructor(e=new vl,t=new vl,r=new vl,i=new vl,s=new vl,o=new vl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],p=r[8],m=r[9],y=r[10],v=r[11],x=r[12],g=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,f-l,v-p,b-x).normalize(),t[1].setComponents(a+i,f+l,v+p,b+x).normalize(),t[2].setComponents(a+s,f+c,v+m,b+g).normalize(),t[3].setComponents(a-s,f-c,v-m,b-g).normalize(),t[4].setComponents(a-o,f-u,v-y,b-_).normalize(),t[5].setComponents(a+o,f+u,v+y,b+_).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Mc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Mc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Mc)}intersectsSprite(e){return Mc.center.set(0,0,0),Mc.radius=.7071067811865476,Mc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(nv.x=i.normal.x>0?e.max.x:e.min.x,nv.y=i.normal.y>0?e.max.y:e.min.y,nv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(nv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qz(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function AY(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,f,p),c.onUploadCallback();let y;if(f instanceof Float32Array)y=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(f instanceof Int16Array)y=5122;else if(f instanceof Uint32Array)y=5125;else if(f instanceof Int32Array)y=5124;else if(f instanceof Int8Array)y=5120;else if(f instanceof Uint8Array)y=5121;else if(f instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const p=u.array,m=u.updateRange;n.bindBuffer(f,c),m.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class Th extends xt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],y=[],v=[],x=[];for(let g=0;g<u;g++){const _=g*p-o;for(let b=0;b<c;b++){const S=b*f-s;y.push(S,-_,0),v.push(0,0,1),x.push(b/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const b=_+c*g,S=_+c*(g+1),E=_+1+c*(g+1),M=_+1+c*g;m.push(b,S,M),m.push(S,E,M)}this.setIndex(m),this.setAttribute("position",new Ye(y,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Th(e.width,e.height,e.widthSegments,e.heightSegments)}}var EY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,MY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,TY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,PY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IY="vec3 transformed = vec3( position );",BY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,LY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,DY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,OY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,NY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,FY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,UY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,GY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,VY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$Y=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,WY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jY=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,JY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,XY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,YY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,QY="gl_FragColor = linearToOutputTexel( gl_FragColor );",qY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,eQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,tQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,iQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,sQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,oQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,aQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,lQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cQ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,uQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,fQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,dQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,hQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pQ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,mQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,yQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,xQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,bQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_Q=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,SQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,AQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,EQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,CQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,TQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,RQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,PQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,IQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,LQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,DQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,OQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,kQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,NQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,FQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,UQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,HQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$Q=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,WQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,jQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,JQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,XQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,YQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,QQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ZQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,eq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,rq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,oq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,lq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,uq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,mq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,gq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_UV2
	attribute vec2 uv2;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vq=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_q=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Sq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Aq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Eq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Mq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Cq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Tq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Rq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Pq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Iq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Bq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dq=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Oq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Uq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Gq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$q=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Wq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Xq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,qq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Et={alphamap_fragment:EY,alphamap_pars_fragment:MY,alphatest_fragment:CY,alphatest_pars_fragment:TY,aomap_fragment:RY,aomap_pars_fragment:PY,begin_vertex:IY,beginnormal_vertex:BY,bsdfs:LY,iridescence_fragment:DY,bumpmap_pars_fragment:OY,clipping_planes_fragment:kY,clipping_planes_pars_fragment:NY,clipping_planes_pars_vertex:FY,clipping_planes_vertex:UY,color_fragment:HY,color_pars_fragment:zY,color_pars_vertex:GY,color_vertex:VY,common:$Y,cube_uv_reflection_fragment:WY,defaultnormal_vertex:jY,displacementmap_pars_vertex:JY,displacementmap_vertex:KY,emissivemap_fragment:XY,emissivemap_pars_fragment:YY,encodings_fragment:QY,encodings_pars_fragment:qY,envmap_fragment:ZY,envmap_common_pars_fragment:eQ,envmap_pars_fragment:tQ,envmap_pars_vertex:nQ,envmap_physical_pars_fragment:pQ,envmap_vertex:rQ,fog_vertex:iQ,fog_pars_vertex:sQ,fog_fragment:oQ,fog_pars_fragment:aQ,gradientmap_pars_fragment:lQ,lightmap_fragment:cQ,lightmap_pars_fragment:uQ,lights_lambert_fragment:fQ,lights_lambert_pars_fragment:dQ,lights_pars_begin:hQ,lights_toon_fragment:mQ,lights_toon_pars_fragment:gQ,lights_phong_fragment:yQ,lights_phong_pars_fragment:vQ,lights_physical_fragment:xQ,lights_physical_pars_fragment:bQ,lights_fragment_begin:_Q,lights_fragment_maps:wQ,lights_fragment_end:SQ,logdepthbuf_fragment:AQ,logdepthbuf_pars_fragment:EQ,logdepthbuf_pars_vertex:MQ,logdepthbuf_vertex:CQ,map_fragment:TQ,map_pars_fragment:RQ,map_particle_fragment:PQ,map_particle_pars_fragment:IQ,metalnessmap_fragment:BQ,metalnessmap_pars_fragment:LQ,morphcolor_vertex:DQ,morphnormal_vertex:OQ,morphtarget_pars_vertex:kQ,morphtarget_vertex:NQ,normal_fragment_begin:FQ,normal_fragment_maps:UQ,normal_pars_fragment:HQ,normal_pars_vertex:zQ,normal_vertex:GQ,normalmap_pars_fragment:VQ,clearcoat_normal_fragment_begin:$Q,clearcoat_normal_fragment_maps:WQ,clearcoat_pars_fragment:jQ,iridescence_pars_fragment:JQ,output_fragment:KQ,packing:XQ,premultiplied_alpha_fragment:YQ,project_vertex:QQ,dithering_fragment:qQ,dithering_pars_fragment:ZQ,roughnessmap_fragment:eq,roughnessmap_pars_fragment:tq,shadowmap_pars_fragment:nq,shadowmap_pars_vertex:rq,shadowmap_vertex:iq,shadowmask_pars_fragment:sq,skinbase_vertex:oq,skinning_pars_vertex:aq,skinning_vertex:lq,skinnormal_vertex:cq,specularmap_fragment:uq,specularmap_pars_fragment:fq,tonemapping_fragment:dq,tonemapping_pars_fragment:hq,transmission_fragment:pq,transmission_pars_fragment:mq,uv_pars_fragment:gq,uv_pars_vertex:yq,uv_vertex:vq,worldpos_vertex:xq,background_vert:bq,background_frag:_q,backgroundCube_vert:wq,backgroundCube_frag:Sq,cube_vert:Aq,cube_frag:Eq,depth_vert:Mq,depth_frag:Cq,distanceRGBA_vert:Tq,distanceRGBA_frag:Rq,equirect_vert:Pq,equirect_frag:Iq,linedashed_vert:Bq,linedashed_frag:Lq,meshbasic_vert:Dq,meshbasic_frag:Oq,meshlambert_vert:kq,meshlambert_frag:Nq,meshmatcap_vert:Fq,meshmatcap_frag:Uq,meshnormal_vert:Hq,meshnormal_frag:zq,meshphong_vert:Gq,meshphong_frag:Vq,meshphysical_vert:$q,meshphysical_frag:Wq,meshtoon_vert:jq,meshtoon_frag:Jq,points_vert:Kq,points_frag:Xq,shadow_vert:Yq,shadow_frag:Qq,sprite_vert:qq,sprite_frag:Zq},Ue={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaTest:{value:0}}},Ws={basic:{uniforms:jr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:jr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new ke(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:jr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:jr([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:jr([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new ke(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:jr([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:jr([Ue.points,Ue.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:jr([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:jr([Ue.common,Ue.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:jr([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:jr([Ue.sprite,Ue.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Et.backgroundCube_vert,fragmentShader:Et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:jr([Ue.common,Ue.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:jr([Ue.lights,Ue.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};Ws.physical={uniforms:jr([Ws.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};const rv={r:0,b:0,g:0};function eZ(n,e,t,r,i,s,o){const a=new ke(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function y(x,g){let _=!1,b=g.isScene===!0?g.background:null;b&&b.isTexture&&(b=(g.backgroundBlurriness>0?t:e).get(b));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(b=null),b===null?v(a,l):b&&b.isColor&&(v(b,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Ch)?(u===void 0&&(u=new Xn(new lc(1,1,1),new Ss({name:"BackgroundCubeMaterial",uniforms:sh(Ws.backgroundCube.uniforms),vertexShader:Ws.backgroundCube.vertexShader,fragmentShader:Ws.backgroundCube.fragmentShader,side:Qr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,R,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=b.encoding!==kt,(f!==b||p!==b.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Xn(new Th(2,2),new Ss({name:"BackgroundMaterial",uniforms:sh(Ws.background.uniforms),vertexShader:Ws.background.vertexShader,fragmentShader:Ws.background.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=b.encoding!==kt,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||p!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function v(x,g){x.getRGB(rv,Yz(n)),r.buffers.color.setClear(rv.r,rv.g,rv.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:y}}function tZ(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function f(N,J,X,Y,k){let U=!1;if(o){const V=v(Y,X,J);c!==V&&(c=V,m(c.object)),U=g(N,Y,X,k),U&&_(N,Y,X,k)}else{const V=J.wireframe===!0;(c.geometry!==Y.id||c.program!==X.id||c.wireframe!==V)&&(c.geometry=Y.id,c.program=X.id,c.wireframe=V,U=!0)}k!==null&&t.update(k,34963),(U||u)&&(u=!1,B(N,J,X,Y),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return r.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function y(N){return r.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function v(N,J,X){const Y=X.wireframe===!0;let k=a[N.id];k===void 0&&(k={},a[N.id]=k);let U=k[J.id];U===void 0&&(U={},k[J.id]=U);let V=U[Y];return V===void 0&&(V=x(p()),U[Y]=V),V}function x(N){const J=[],X=[],Y=[];for(let k=0;k<i;k++)J[k]=0,X[k]=0,Y[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:X,attributeDivisors:Y,object:N,attributes:{},index:null}}function g(N,J,X,Y){const k=c.attributes,U=J.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){const Z=k[ee];let de=U[ee];if(de===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(de=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(de=N.instanceColor)),Z===void 0||Z.attribute!==de||de&&Z.data!==de.data)return!0;V++}return c.attributesNum!==V||c.index!==Y}function _(N,J,X,Y){const k={},U=J.attributes;let V=0;const q=X.getAttributes();for(const ee in q)if(q[ee].location>=0){let Z=U[ee];Z===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(Z=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(Z=N.instanceColor));const de={};de.attribute=Z,Z&&Z.data&&(de.data=Z.data),k[ee]=de,V++}c.attributes=k,c.attributesNum=V,c.index=Y}function b(){const N=c.newAttributes;for(let J=0,X=N.length;J<X;J++)N[J]=0}function S(N){E(N,0)}function E(N,J){const X=c.newAttributes,Y=c.enabledAttributes,k=c.attributeDivisors;X[N]=1,Y[N]===0&&(n.enableVertexAttribArray(N),Y[N]=1),k[N]!==J&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,J),k[N]=J)}function M(){const N=c.newAttributes,J=c.enabledAttributes;for(let X=0,Y=J.length;X<Y;X++)J[X]!==N[X]&&(n.disableVertexAttribArray(X),J[X]=0)}function R(N,J,X,Y,k,U){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(N,J,X,k,U):n.vertexAttribPointer(N,J,X,Y,k,U)}function B(N,J,X,Y){if(r.isWebGL2===!1&&(N.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const k=Y.attributes,U=X.getAttributes(),V=J.defaultAttributeValues;for(const q in U){const ee=U[q];if(ee.location>=0){let se=k[q];if(se===void 0&&(q==="instanceMatrix"&&N.instanceMatrix&&(se=N.instanceMatrix),q==="instanceColor"&&N.instanceColor&&(se=N.instanceColor)),se!==void 0){const Z=se.normalized,de=se.itemSize,oe=t.get(se);if(oe===void 0)continue;const Q=oe.buffer,Me=oe.type,ue=oe.bytesPerElement;if(se.isInterleavedBufferAttribute){const he=se.data,Se=he.stride,me=se.offset;if(he.isInstancedInterleavedBuffer){for(let fe=0;fe<ee.locationSize;fe++)E(ee.location+fe,he.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let fe=0;fe<ee.locationSize;fe++)S(ee.location+fe);n.bindBuffer(34962,Q);for(let fe=0;fe<ee.locationSize;fe++)R(ee.location+fe,de/ee.locationSize,Me,Z,Se*ue,(me+de/ee.locationSize*fe)*ue)}else{if(se.isInstancedBufferAttribute){for(let he=0;he<ee.locationSize;he++)E(ee.location+he,se.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let he=0;he<ee.locationSize;he++)S(ee.location+he);n.bindBuffer(34962,Q);for(let he=0;he<ee.locationSize;he++)R(ee.location+he,de/ee.locationSize,Me,Z,de*ue,de/ee.locationSize*he*ue)}}else if(V!==void 0){const Z=V[q];if(Z!==void 0)switch(Z.length){case 2:n.vertexAttrib2fv(ee.location,Z);break;case 3:n.vertexAttrib3fv(ee.location,Z);break;case 4:n.vertexAttrib4fv(ee.location,Z);break;default:n.vertexAttrib1fv(ee.location,Z)}}}}M()}function T(){z();for(const N in a){const J=a[N];for(const X in J){const Y=J[X];for(const k in Y)y(Y[k].object),delete Y[k];delete J[X]}delete a[N]}}function I(N){if(a[N.id]===void 0)return;const J=a[N.id];for(const X in J){const Y=J[X];for(const k in Y)y(Y[k].object),delete Y[k];delete J[X]}delete a[N.id]}function O(N){for(const J in a){const X=a[J];if(X[N.id]===void 0)continue;const Y=X[N.id];for(const k in Y)y(Y[k].object),delete Y[k];delete X[N.id]}}function z(){H(),u=!0,c!==l&&(c=l,m(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:H,dispose:T,releaseStatesOfGeometry:I,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:S,disableUnusedAttributes:M}}function nZ(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function rZ(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),g=n.getParameter(36348),_=n.getParameter(36349),b=p>0,S=o||e.has("OES_texture_float"),E=b&&S,M=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:M}}function iZ(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new vl,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const y=f.clippingPlanes,v=f.clipIntersection,x=f.clipShadows,g=n.get(f);if(!i||y===null||y.length===0||s&&!x)s?u(null):c();else{const _=s?0:r,b=_*4;let S=g.clippingState||null;l.value=S,S=u(y,p,b,m);for(let E=0;E!==b;++E)S[E]=t[E];g.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,y){const v=f!==null?f.length:0;let x=null;if(v!==0){if(x=l.value,y!==!0||x===null){const g=m+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let b=0,S=m;b!==v;++b,S+=4)o.copy(f[b]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function sZ(n){let e=new WeakMap;function t(o,a){return a===eh?o.mapping=Oa:a===ng&&(o.mapping=jl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===eh||a===ng)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new SR(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Rh extends Hg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const bd=4,SD=[.125,.215,.35,.446,.526,.582],Kc=20,SS=new Rh,AD=new ke;let AS=null;const kc=(1+Math.sqrt(5))/2,Tf=1/kc,ED=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,kc,Tf),new G(0,kc,-Tf),new G(Tf,0,kc),new G(-Tf,0,kc),new G(kc,Tf,0),new G(-kc,Tf,0)];class SM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){AS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=CD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(AS),e.scissorTest=!1,iv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Oa||e.mapping===jl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),AS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:yn,minFilter:yn,generateMipmaps:!1,type:gs,format:ui,encoding:no,depthBuffer:!1},i=MD(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=MD(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=oZ(s)),this._blurMaterial=aZ(s,e,t)}return i}_compileMaterial(e){const t=new Xn(this._lodPlanes[0],e);this._renderer.compile(t,SS)}_sceneToCubeUV(e,t,r,i){const a=new tr(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(AD),u.toneMapping=Qs,u.autoClear=!1;const m=new Oi({name:"PMREM.Background",side:Qr,depthWrite:!1,depthTest:!1}),y=new Xn(new lc,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(AD),v=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;iv(i,_*b,g>2?b:0,b,b),u.setRenderTarget(i),v&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Oa||e.mapping===jl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=TD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=CD());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Xn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;iv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,SS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=ED[(i-1)%ED.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Xn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Kc-1),v=s/y,x=isFinite(s)?1+Math.floor(u*v):Kc;x>Kc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Kc}`);const g=[];let _=0;for(let R=0;R<Kc;++R){const B=R/v,T=Math.exp(-B*B/2);g.push(T),R===0?_+=T:R<x&&(_+=2*T)}for(let R=0;R<g.length;R++)g[R]=g[R]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=y,p.mipInt.value=b-r;const S=this._sizeLods[i],E=3*S*(i>b-bd?i-b+bd:0),M=4*(this._cubeSize-S);iv(t,E,M,3*S,2*S),l.setRenderTarget(t),l.render(f,SS)}}function oZ(n){const e=[],t=[],r=[];let i=n;const s=n-bd+1+SD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-bd?l=SD[o-n+bd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,y=6,v=3,x=2,g=1,_=new Float32Array(v*y*m),b=new Float32Array(x*y*m),S=new Float32Array(g*y*m);for(let M=0;M<m;M++){const R=M%3*2/3-1,B=M>2?0:-1,T=[R,B,0,R+2/3,B,0,R+2/3,B+1,0,R,B,0,R+2/3,B+1,0,R,B+1,0];_.set(T,v*y*M),b.set(p,x*y*M);const I=[M,M,M,M,M,M];S.set(I,g*y*M)}const E=new xt;E.setAttribute("position",new Kt(_,v)),E.setAttribute("uv",new Kt(b,x)),E.setAttribute("faceIndex",new Kt(S,g)),e.push(E),i>bd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function MD(n,e,t){const r=new $i(n,e,t);return r.texture.mapping=Ch,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function iv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function aZ(n,e,t){const r=new Float32Array(Kc),i=new G(0,1,0);return new Ss({name:"SphericalGaussianBlur",defines:{n:Kc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:AR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ca,depthTest:!1,depthWrite:!1})}function CD(){return new Ss({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:AR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ca,depthTest:!1,depthWrite:!1})}function TD(){return new Ss({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:AR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ca,depthTest:!1,depthWrite:!1})}function AR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lZ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===eh||l===ng,u=l===Oa||l===jl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new SM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new SM(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function cZ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function uZ(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const y in p)e.update(p[y],34962);const m=f.morphAttributes;for(const y in m){const v=m[y];for(let x=0,g=v.length;x<g;x++)e.update(v[x],34962)}}function c(f){const p=[],m=f.index,y=f.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let b=0,S=_.length;b<S;b+=3){const E=_[b+0],M=_[b+1],R=_[b+2];p.push(E,M,M,R,R,E)}}else{const _=y.array;v=y.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const E=b+0,M=b+1,R=b+2;p.push(E,M,M,R,R,E)}}const x=new(Kz(p)?_R:bR)(p,1);x.version=v;const g=s.get(f);g&&e.remove(g),s.set(f,x)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function fZ(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function f(p,m,y){if(y===0)return;let v,x;if(i)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function dZ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function hZ(n,e){return n[0]-e[0]}function pZ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function mZ(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new zt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=y!==void 0?y.length:0;let x=s.get(u);if(x===void 0||x.count!==v){let J=function(){H.dispose(),s.delete(u),u.removeEventListener("dispose",J)};var m=J;x!==void 0&&x.texture.dispose();const b=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let T=0;b===!0&&(T=1),S===!0&&(T=2),E===!0&&(T=3);let I=u.attributes.position.count*T,O=1;I>e.maxTextureSize&&(O=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const z=new Float32Array(I*O*4*v),H=new x1(z,I,O,v);H.type=Li,H.needsUpdate=!0;const N=T*4;for(let X=0;X<v;X++){const Y=M[X],k=R[X],U=B[X],V=I*O*4*X;for(let q=0;q<Y.count;q++){const ee=q*N;b===!0&&(o.fromBufferAttribute(Y,q),z[V+ee+0]=o.x,z[V+ee+1]=o.y,z[V+ee+2]=o.z,z[V+ee+3]=0),S===!0&&(o.fromBufferAttribute(k,q),z[V+ee+4]=o.x,z[V+ee+5]=o.y,z[V+ee+6]=o.z,z[V+ee+7]=0),E===!0&&(o.fromBufferAttribute(U,q),z[V+ee+8]=o.x,z[V+ee+9]=o.y,z[V+ee+10]=o.z,z[V+ee+11]=U.itemSize===4?o.w:1)}}x={count:v,texture:H,size:new Ce(I,O)},s.set(u,x),u.addEventListener("dispose",J)}let g=0;for(let b=0;b<p.length;b++)g+=p[b];const _=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==y){v=[];for(let S=0;S<y;S++)v[S]=[S,0];r[u.id]=v}for(let S=0;S<y;S++){const E=v[S];E[0]=S,E[1]=p[S]}v.sort(pZ);for(let S=0;S<8;S++)S<y&&v[S][1]?(a[S][0]=v[S][0],a[S][1]=v[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(hZ);const x=u.morphAttributes.position,g=u.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const E=a[S],M=E[0],R=E[1];M!==Number.MAX_SAFE_INTEGER&&R?(x&&u.getAttribute("morphTarget"+S)!==x[M]&&u.setAttribute("morphTarget"+S,x[M]),g&&u.getAttribute("morphNormal"+S)!==g[M]&&u.setAttribute("morphNormal"+S,g[M]),i[S]=R,_+=R):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),g&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const b=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function gZ(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const Zz=new wn,eG=new x1,tG=new xR,nG=new zg,RD=[],PD=[],ID=new Float32Array(16),BD=new Float32Array(9),LD=new Float32Array(4);function Ph(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=RD[i];if(s===void 0&&(s=new Float32Array(i),RD[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function ir(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function sr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function _1(n,e){let t=PD[e];t===void 0&&(t=new Int32Array(e),PD[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function yZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function vZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2fv(this.addr,e),sr(t,e)}}function xZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ir(t,e))return;n.uniform3fv(this.addr,e),sr(t,e)}}function bZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4fv(this.addr,e),sr(t,e)}}function _Z(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ir(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),sr(t,e)}else{if(ir(t,r))return;LD.set(r),n.uniformMatrix2fv(this.addr,!1,LD),sr(t,r)}}function wZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ir(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),sr(t,e)}else{if(ir(t,r))return;BD.set(r),n.uniformMatrix3fv(this.addr,!1,BD),sr(t,r)}}function SZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ir(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),sr(t,e)}else{if(ir(t,r))return;ID.set(r),n.uniformMatrix4fv(this.addr,!1,ID),sr(t,r)}}function AZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function EZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2iv(this.addr,e),sr(t,e)}}function MZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;n.uniform3iv(this.addr,e),sr(t,e)}}function CZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4iv(this.addr,e),sr(t,e)}}function TZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function RZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2uiv(this.addr,e),sr(t,e)}}function PZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;n.uniform3uiv(this.addr,e),sr(t,e)}}function IZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4uiv(this.addr,e),sr(t,e)}}function BZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Zz,i)}function LZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||tG,i)}function DZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||nG,i)}function OZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||eG,i)}function kZ(n){switch(n){case 5126:return yZ;case 35664:return vZ;case 35665:return xZ;case 35666:return bZ;case 35674:return _Z;case 35675:return wZ;case 35676:return SZ;case 5124:case 35670:return AZ;case 35667:case 35671:return EZ;case 35668:case 35672:return MZ;case 35669:case 35673:return CZ;case 5125:return TZ;case 36294:return RZ;case 36295:return PZ;case 36296:return IZ;case 35678:case 36198:case 36298:case 36306:case 35682:return BZ;case 35679:case 36299:case 36307:return LZ;case 35680:case 36300:case 36308:case 36293:return DZ;case 36289:case 36303:case 36311:case 36292:return OZ}}function NZ(n,e){n.uniform1fv(this.addr,e)}function FZ(n,e){const t=Ph(e,this.size,2);n.uniform2fv(this.addr,t)}function UZ(n,e){const t=Ph(e,this.size,3);n.uniform3fv(this.addr,t)}function HZ(n,e){const t=Ph(e,this.size,4);n.uniform4fv(this.addr,t)}function zZ(n,e){const t=Ph(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function GZ(n,e){const t=Ph(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function VZ(n,e){const t=Ph(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $Z(n,e){n.uniform1iv(this.addr,e)}function WZ(n,e){n.uniform2iv(this.addr,e)}function jZ(n,e){n.uniform3iv(this.addr,e)}function JZ(n,e){n.uniform4iv(this.addr,e)}function KZ(n,e){n.uniform1uiv(this.addr,e)}function XZ(n,e){n.uniform2uiv(this.addr,e)}function YZ(n,e){n.uniform3uiv(this.addr,e)}function QZ(n,e){n.uniform4uiv(this.addr,e)}function qZ(n,e,t){const r=this.cache,i=e.length,s=_1(t,i);ir(r,s)||(n.uniform1iv(this.addr,s),sr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Zz,s[o])}function ZZ(n,e,t){const r=this.cache,i=e.length,s=_1(t,i);ir(r,s)||(n.uniform1iv(this.addr,s),sr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||tG,s[o])}function eee(n,e,t){const r=this.cache,i=e.length,s=_1(t,i);ir(r,s)||(n.uniform1iv(this.addr,s),sr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||nG,s[o])}function tee(n,e,t){const r=this.cache,i=e.length,s=_1(t,i);ir(r,s)||(n.uniform1iv(this.addr,s),sr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||eG,s[o])}function nee(n){switch(n){case 5126:return NZ;case 35664:return FZ;case 35665:return UZ;case 35666:return HZ;case 35674:return zZ;case 35675:return GZ;case 35676:return VZ;case 5124:case 35670:return $Z;case 35667:case 35671:return WZ;case 35668:case 35672:return jZ;case 35669:case 35673:return JZ;case 5125:return KZ;case 36294:return XZ;case 36295:return YZ;case 36296:return QZ;case 35678:case 36198:case 36298:case 36306:case 35682:return qZ;case 35679:case 36299:case 36307:return ZZ;case 35680:case 36300:case 36308:case 36293:return eee;case 36289:case 36303:case 36311:case 36292:return tee}}class ree{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=kZ(t.type)}}class iee{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=nee(t.type)}}class see{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const ES=/(\w+)(\])?(\[|\.)?/g;function DD(n,e){n.seq.push(e),n.map[e.id]=e}function oee(n,e,t){const r=n.name,i=r.length;for(ES.lastIndex=0;;){const s=ES.exec(r),o=ES.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){DD(t,c===void 0?new ree(a,n,e):new iee(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new see(a),DD(t,f)),t=f}}}class gx{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);oee(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function OD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let aee=0;function lee(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function cee(n){switch(n){case no:return["Linear","( value )"];case kt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function kD(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+lee(n.getShaderSource(e),o)}else return i}function uee(n,e){const t=cee(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function fee(n,e){let t;switch(e){case xz:t="Linear";break;case bz:t="Reinhard";break;case _z:t="OptimizedCineon";break;case dR:t="ACESFilmic";break;case wz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function dee(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sm).join(`
`)}function hee(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function pee(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function sm(n){return n!==""}function ND(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mee=/^[ \t]*#include +<([\w\d./]+)>/gm;function AM(n){return n.replace(mee,gee)}function gee(n,e){const t=Et[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return AM(t)}const yee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UD(n){return n.replace(yee,vee)}function vee(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function HD(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xee(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===m1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===wm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===qc&&(e="SHADOWMAP_TYPE_VSM"),e}function bee(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Oa:case jl:e="ENVMAP_TYPE_CUBE";break;case Ch:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _ee(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case jl:e="ENVMAP_MODE_REFRACTION";break}return e}function wee(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Fg:e="ENVMAP_BLENDING_MULTIPLY";break;case yz:e="ENVMAP_BLENDING_MIX";break;case vz:e="ENVMAP_BLENDING_ADD";break}return e}function See(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Aee(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=xee(t),c=bee(t),u=_ee(t),f=wee(t),p=See(t),m=t.isWebGL2?"":dee(t),y=hee(s),v=i.createProgram();let x,g,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(sm).join(`
`),x.length>0&&(x+=`
`),g=[m,y].filter(sm).join(`
`),g.length>0&&(g+=`
`)):(x=[HD(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sm).join(`
`),g=[m,HD(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs2?"#define USE_UV2":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qs?"#define TONE_MAPPING":"",t.toneMapping!==Qs?Et.tonemapping_pars_fragment:"",t.toneMapping!==Qs?fee("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Et.encodings_pars_fragment,uee("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(sm).join(`
`)),o=AM(o),o=ND(o,t),o=FD(o,t),a=AM(a),a=ND(a,t),a=FD(a,t),o=UD(o),a=UD(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===_M?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=_+x+o,S=_+g+a,E=OD(i,35633,b),M=OD(i,35632,S);if(i.attachShader(v,E),i.attachShader(v,M),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(E).trim(),O=i.getShaderInfoLog(M).trim();let z=!0,H=!0;if(i.getProgramParameter(v,35714)===!1)if(z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,v,E,M);else{const N=kD(i,E,"vertex"),J=kD(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+T+`
`+N+`
`+J)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(I===""||O==="")&&(H=!1);H&&(this.diagnostics={runnable:z,programLog:T,vertexShader:{log:I,prefix:x},fragmentShader:{log:O,prefix:g}})}i.deleteShader(E),i.deleteShader(M);let R;this.getUniforms=function(){return R===void 0&&(R=new gx(i,v)),R};let B;return this.getAttributes=function(){return B===void 0&&(B=pee(i,v)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=aee++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=M,this}let Eee=0;class Mee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Cee(e),t.set(e,r)),r}}class Cee{constructor(e){this.id=Eee++,this.code=e,this.usedTimes=0}}function Tee(n,e,t,r,i,s,o){const a=new hu,l=new Mee,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T){return T===1?"uv2":"uv"}function x(T,I,O,z,H){const N=z.fog,J=H.geometry,X=T.isMeshStandardMaterial?z.environment:null,Y=(T.isMeshStandardMaterial?t:e).get(T.envMap||X),k=Y&&Y.mapping===Ch?Y.image.height:null,U=y[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const V=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,q=V!==void 0?V.length:0;let ee=0;J.morphAttributes.position!==void 0&&(ee=1),J.morphAttributes.normal!==void 0&&(ee=2),J.morphAttributes.color!==void 0&&(ee=3);let se,Z,de,oe;if(U){const ze=Ws[U];se=ze.vertexShader,Z=ze.fragmentShader}else se=T.vertexShader,Z=T.fragmentShader,l.update(T),de=l.getVertexShaderID(T),oe=l.getFragmentShaderID(T);const Q=n.getRenderTarget(),Me=H.isInstancedMesh===!0,ue=!!T.map,he=!!T.matcap,Se=!!Y,me=!!T.aoMap,fe=!!T.lightMap,_e=!!T.bumpMap,Oe=!!T.normalMap,Ie=!!T.displacementMap,Ne=!!T.emissiveMap,Ee=!!T.metalnessMap,Le=!!T.roughnessMap,$e=T.clearcoat>0,ht=T.iridescence>0,W=T.sheen>0,F=T.transmission>0,pe=$e&&!!T.clearcoatMap,Te=$e&&!!T.clearcoatNormalMap,Re=$e&&!!T.clearcoatRoughnessMap,Fe=ht&&!!T.iridescenceMap,st=ht&&!!T.iridescenceThicknessMap,Ve=W&&!!T.sheenColorMap,be=W&&!!T.sheenRoughnessMap,Xe=!!T.specularMap,qe=!!T.specularColorMap,ot=!!T.specularIntensityMap,We=F&&!!T.transmissionMap,Ze=F&&!!T.thicknessMap,St=!!T.gradientMap,Lt=!!T.alphaMap,Jt=T.alphaTest>0,te=!!T.extensions,xe=!!J.attributes.uv2;return{isWebGL2:u,shaderID:U,shaderName:T.type,vertexShader:se,fragmentShader:Z,defines:T.defines,customVertexShaderID:de,customFragmentShaderID:oe,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:Me,instancingColor:Me&&H.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:no,map:ue,matcap:he,envMap:Se,envMapMode:Se&&Y.mapping,envMapCubeUVHeight:k,aoMap:me,lightMap:fe,bumpMap:_e,normalMap:Oe,displacementMap:p&&Ie,emissiveMap:Ne,normalMapObjectSpace:Oe&&T.normalMapType===$z,normalMapTangentSpace:Oe&&T.normalMapType===Va,decodeVideoTexture:ue&&T.map.isVideoTexture===!0&&T.map.encoding===kt,metalnessMap:Ee,roughnessMap:Le,clearcoat:$e,clearcoatMap:pe,clearcoatNormalMap:Te,clearcoatRoughnessMap:Re,iridescence:ht,iridescenceMap:Fe,iridescenceThicknessMap:st,sheen:W,sheenColorMap:Ve,sheenRoughnessMap:be,specularMap:Xe,specularColorMap:qe,specularIntensityMap:ot,transmission:F,transmissionMap:We,thicknessMap:Ze,gradientMap:St,opaque:T.transparent===!1&&T.blending===uu,alphaMap:Lt,alphaTest:Jt,combine:T.combine,mapUv:ue&&v(T.map.channel),aoMapUv:me&&v(T.aoMap.channel),lightMapUv:fe&&v(T.lightMap.channel),bumpMapUv:_e&&v(T.bumpMap.channel),normalMapUv:Oe&&v(T.normalMap.channel),displacementMapUv:Ie&&v(T.displacementMap.channel),emissiveMapUv:Ne&&v(T.emissiveMap.channel),metalnessMapUv:Ee&&v(T.metalnessMap.channel),roughnessMapUv:Le&&v(T.roughnessMap.channel),clearcoatMapUv:pe&&v(T.clearcoatMap.channel),clearcoatNormalMapUv:Te&&v(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&v(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Fe&&v(T.iridescenceMap.channel),iridescenceThicknessMapUv:st&&v(T.iridescenceThicknessMap.channel),sheenColorMapUv:Ve&&v(T.sheenColorMap.channel),sheenRoughnessMapUv:be&&v(T.sheenRoughnessMap.channel),specularMapUv:Xe&&v(T.specularMap.channel),specularColorMapUv:qe&&v(T.specularColorMap.channel),specularIntensityMapUv:ot&&v(T.specularIntensityMap.channel),transmissionMapUv:We&&v(T.transmissionMap.channel),thicknessMapUv:Ze&&v(T.thicknessMap.channel),alphaMapUv:Lt&&v(T.alphaMap.channel),vertexTangents:Oe&&!!J.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUvs2:xe,pointsUvs:H.isPoints===!0&&!!J.attributes.uv&&(ue||Lt),fog:!!N,useFog:T.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:H.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ee,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Qs,useLegacyLights:n.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===hs,flipSided:T.side===Qr,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:te&&T.extensions.derivatives===!0,extensionFragDepth:te&&T.extensions.fragDepth===!0,extensionDrawBuffers:te&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:te&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const I=[];if(T.shaderID?I.push(T.shaderID):(I.push(T.customVertexShaderID),I.push(T.customFragmentShaderID)),T.defines!==void 0)for(const O in T.defines)I.push(O),I.push(T.defines[O]);return T.isRawShaderMaterial===!1&&(_(I,T),b(I,T),I.push(n.outputEncoding)),I.push(T.customProgramCacheKey),I.join()}function _(T,I){T.push(I.precision),T.push(I.outputEncoding),T.push(I.envMapMode),T.push(I.envMapCubeUVHeight),T.push(I.mapUv),T.push(I.alphaMapUv),T.push(I.lightMapUv),T.push(I.aoMapUv),T.push(I.bumpMapUv),T.push(I.normalMapUv),T.push(I.displacementMapUv),T.push(I.emissiveMapUv),T.push(I.metalnessMapUv),T.push(I.roughnessMapUv),T.push(I.clearcoatMapUv),T.push(I.clearcoatNormalMapUv),T.push(I.clearcoatRoughnessMapUv),T.push(I.iridescenceMapUv),T.push(I.iridescenceThicknessMapUv),T.push(I.sheenColorMapUv),T.push(I.sheenRoughnessMapUv),T.push(I.specularMapUv),T.push(I.specularColorMapUv),T.push(I.specularIntensityMapUv),T.push(I.transmissionMapUv),T.push(I.thicknessMapUv),T.push(I.combine),T.push(I.fogExp2),T.push(I.sizeAttenuation),T.push(I.morphTargetsCount),T.push(I.morphAttributeCount),T.push(I.numDirLights),T.push(I.numPointLights),T.push(I.numSpotLights),T.push(I.numSpotLightMaps),T.push(I.numHemiLights),T.push(I.numRectAreaLights),T.push(I.numDirLightShadows),T.push(I.numPointLightShadows),T.push(I.numSpotLightShadows),T.push(I.numSpotLightShadowsWithMaps),T.push(I.shadowMapType),T.push(I.toneMapping),T.push(I.numClippingPlanes),T.push(I.numClipIntersection),T.push(I.depthPacking)}function b(T,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUvs2&&a.enable(13),I.vertexTangents&&a.enable(14),T.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.decodeVideoTexture&&a.enable(17),I.opaque&&a.enable(18),I.pointsUvs&&a.enable(19),T.push(a.mask)}function S(T){const I=y[T.type];let O;if(I){const z=Ws[I];O=wR.clone(z.uniforms)}else O=T.uniforms;return O}function E(T,I){let O;for(let z=0,H=c.length;z<H;z++){const N=c[z];if(N.cacheKey===I){O=N,++O.usedTimes;break}}return O===void 0&&(O=new Aee(n,I,T,s),c.push(O)),O}function M(T){if(--T.usedTimes===0){const I=c.indexOf(T);c[I]=c[c.length-1],c.pop(),T.destroy()}}function R(T){l.remove(T)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:S,acquireProgram:E,releaseProgram:M,releaseShaderCache:R,programs:c,dispose:B}}function Ree(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Pee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function zD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function GD(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,y,v,x){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:y,renderOrder:f.renderOrder,z:v,group:x},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=v,g.group=x),e++,g}function a(f,p,m,y,v,x){const g=o(f,p,m,y,v,x);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,y,v,x){const g=o(f,p,m,y,v,x);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,p){t.length>1&&t.sort(f||Pee),r.length>1&&r.sort(p||zD),i.length>1&&i.sort(p||zD)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function Iee(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new GD,n.set(r,[o])):i>=s.length?(o=new GD,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Bee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new G,color:new ke};break;case"SpotLight":t={position:new G,direction:new G,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new G,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new G,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new G,halfWidth:new G,halfHeight:new G};break}return n[e.id]=t,t}}}function Lee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Dee=0;function Oee(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function kee(n,e){const t=new Bee,r=Lee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new G);const s=new G,o=new dt,a=new dt;function l(u,f){let p=0,m=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let v=0,x=0,g=0,_=0,b=0,S=0,E=0,M=0,R=0,B=0;u.sort(Oee);const T=f===!0?Math.PI:1;for(let O=0,z=u.length;O<z;O++){const H=u[O],N=H.color,J=H.intensity,X=H.distance,Y=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=N.r*J*T,m+=N.g*J*T,y+=N.b*J*T;else if(H.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(H.sh.coefficients[k],J);else if(H.isDirectionalLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*T),H.castShadow){const U=H.shadow,V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.directionalShadow[v]=V,i.directionalShadowMap[v]=Y,i.directionalShadowMatrix[v]=H.shadow.matrix,S++}i.directional[v]=k,v++}else if(H.isSpotLight){const k=t.get(H);k.position.setFromMatrixPosition(H.matrixWorld),k.color.copy(N).multiplyScalar(J*T),k.distance=X,k.coneCos=Math.cos(H.angle),k.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),k.decay=H.decay,i.spot[g]=k;const U=H.shadow;if(H.map&&(i.spotLightMap[R]=H.map,R++,U.updateMatrices(H),H.castShadow&&B++),i.spotLightMatrix[g]=U.matrix,H.castShadow){const V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.spotShadow[g]=V,i.spotShadowMap[g]=Y,M++}g++}else if(H.isRectAreaLight){const k=t.get(H);k.color.copy(N).multiplyScalar(J),k.halfWidth.set(H.width*.5,0,0),k.halfHeight.set(0,H.height*.5,0),i.rectArea[_]=k,_++}else if(H.isPointLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*T),k.distance=H.distance,k.decay=H.decay,H.castShadow){const U=H.shadow,V=r.get(H);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,V.shadowCameraNear=U.camera.near,V.shadowCameraFar=U.camera.far,i.pointShadow[x]=V,i.pointShadowMap[x]=Y,i.pointShadowMatrix[x]=H.shadow.matrix,E++}i.point[x]=k,x++}else if(H.isHemisphereLight){const k=t.get(H);k.skyColor.copy(H.color).multiplyScalar(J*T),k.groundColor.copy(H.groundColor).multiplyScalar(J*T),i.hemi[b]=k,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_FLOAT_1,i.rectAreaLTC2=Ue.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_HALF_1,i.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const I=i.hash;(I.directionalLength!==v||I.pointLength!==x||I.spotLength!==g||I.rectAreaLength!==_||I.hemiLength!==b||I.numDirectionalShadows!==S||I.numPointShadows!==E||I.numSpotShadows!==M||I.numSpotMaps!==R)&&(i.directional.length=v,i.spot.length=g,i.rectArea.length=_,i.point.length=x,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=M+R-B,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=B,I.directionalLength=v,I.pointLength=x,I.spotLength=g,I.rectAreaLength=_,I.hemiLength=b,I.numDirectionalShadows=S,I.numPointShadows=E,I.numSpotShadows=M,I.numSpotMaps=R,i.version=Dee++)}function c(u,f){let p=0,m=0,y=0,v=0,x=0;const g=f.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const S=u[_];if(S.isDirectionalLight){const E=i.directional[p];E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),p++}else if(S.isSpotLight){const E=i.spot[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),y++}else if(S.isRectAreaLight){const E=i.rectArea[v];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),a.identity(),o.copy(S.matrixWorld),o.premultiply(g),a.extractRotation(o),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(g),m++}else if(S.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:i}}function VD(n,e){const t=new kee(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Nee(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new VD(n,e),t.set(s,[l])):o>=a.length?(l=new VD(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class ER extends Qn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Gz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MR extends Qn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Fee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Hee(n,e,t){let r=new b1;const i=new Ce,s=new Ce,o=new zt,a=new ER({depthPacking:Vz}),l=new MR,c={},u=t.maxTextureSize,f={[Oo]:Qr,[Qr]:Oo,[hs]:hs},p=new Ss({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:Fee,fragmentShader:Uee}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new xt;y.setAttribute("position",new Kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Xn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=m1,this.render=function(S,E,M){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const R=n.getRenderTarget(),B=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Ca),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let O=0,z=S.length;O<z;O++){const H=S[O],N=H.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const J=N.getFrameExtents();if(i.multiply(J),s.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/J.x),i.x=s.x*J.x,N.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/J.y),i.y=s.y*J.y,N.mapSize.y=s.y)),N.map===null){const Y=this.type!==qc?{minFilter:Bn,magFilter:Bn}:{};N.map=new $i(i.x,i.y,Y),N.map.texture.name=H.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const X=N.getViewportCount();for(let Y=0;Y<X;Y++){const k=N.getViewport(Y);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),I.viewport(o),N.updateMatrices(H,Y),r=N.getFrustum(),b(E,M,N.camera,H,this.type)}N.isPointLightShadow!==!0&&this.type===qc&&g(N,M),N.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,B,T)};function g(S,E){const M=e.update(v);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new $i(i.x,i.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,M,p,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,M,m,v,null)}function _(S,E,M,R){let B=null;const T=M.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(T!==void 0)B=T;else if(B=M.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const I=B.uuid,O=E.uuid;let z=c[I];z===void 0&&(z={},c[I]=z);let H=z[O];H===void 0&&(H=B.clone(),z[O]=H),B=H}if(B.visible=E.visible,B.wireframe=E.wireframe,R===qc?B.side=E.shadowSide!==null?E.shadowSide:E.side:B.side=E.shadowSide!==null?E.shadowSide:f[E.side],B.alphaMap=E.alphaMap,B.alphaTest=E.alphaTest,B.map=E.map,B.clipShadows=E.clipShadows,B.clippingPlanes=E.clippingPlanes,B.clipIntersection=E.clipIntersection,B.displacementMap=E.displacementMap,B.displacementScale=E.displacementScale,B.displacementBias=E.displacementBias,B.wireframeLinewidth=E.wireframeLinewidth,B.linewidth=E.linewidth,M.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const I=n.properties.get(B);I.light=M}return B}function b(S,E,M,R,B){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&B===qc)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,S.matrixWorld);const O=e.update(S),z=S.material;if(Array.isArray(z)){const H=O.groups;for(let N=0,J=H.length;N<J;N++){const X=H[N],Y=z[X.materialIndex];if(Y&&Y.visible){const k=_(S,Y,R,B);n.renderBufferDirect(M,null,O,k,S,X)}}}else if(z.visible){const H=_(S,z,R,B);n.renderBufferDirect(M,null,O,H,S,null)}}const I=S.children;for(let O=0,z=I.length;O<z;O++)b(I[O],E,M,R,B)}}function zee(n,e,t){const r=t.isWebGL2;function i(){let te=!1;const xe=new zt;let Pe=null;const ze=new zt(0,0,0,0);return{setMask:function(tt){Pe!==tt&&!te&&(n.colorMask(tt,tt,tt,tt),Pe=tt)},setLocked:function(tt){te=tt},setClear:function(tt,Xt,nn,Hn,_i){_i===!0&&(tt*=Hn,Xt*=Hn,nn*=Hn),xe.set(tt,Xt,nn,Hn),ze.equals(xe)===!1&&(n.clearColor(tt,Xt,nn,Hn),ze.copy(xe))},reset:function(){te=!1,Pe=null,ze.set(-1,0,0,0)}}}function s(){let te=!1,xe=null,Pe=null,ze=null;return{setTest:function(tt){tt?Q(2929):Me(2929)},setMask:function(tt){xe!==tt&&!te&&(n.depthMask(tt),xe=tt)},setFunc:function(tt){if(Pe!==tt){switch(tt){case uz:n.depthFunc(512);break;case fz:n.depthFunc(519);break;case dz:n.depthFunc(513);break;case sb:n.depthFunc(515);break;case hz:n.depthFunc(514);break;case pz:n.depthFunc(518);break;case mz:n.depthFunc(516);break;case gz:n.depthFunc(517);break;default:n.depthFunc(515)}Pe=tt}},setLocked:function(tt){te=tt},setClear:function(tt){ze!==tt&&(n.clearDepth(tt),ze=tt)},reset:function(){te=!1,xe=null,Pe=null,ze=null}}}function o(){let te=!1,xe=null,Pe=null,ze=null,tt=null,Xt=null,nn=null,Hn=null,_i=null;return{setTest:function(en){te||(en?Q(2960):Me(2960))},setMask:function(en){xe!==en&&!te&&(n.stencilMask(en),xe=en)},setFunc:function(en,or,Mr){(Pe!==en||ze!==or||tt!==Mr)&&(n.stencilFunc(en,or,Mr),Pe=en,ze=or,tt=Mr)},setOp:function(en,or,Mr){(Xt!==en||nn!==or||Hn!==Mr)&&(n.stencilOp(en,or,Mr),Xt=en,nn=or,Hn=Mr)},setLocked:function(en){te=en},setClear:function(en){_i!==en&&(n.clearStencil(en),_i=en)},reset:function(){te=!1,xe=null,Pe=null,ze=null,tt=null,Xt=null,nn=null,Hn=null,_i=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},y=new WeakMap,v=[],x=null,g=!1,_=null,b=null,S=null,E=null,M=null,R=null,B=null,T=!1,I=null,O=null,z=null,H=null,N=null;const J=n.getParameter(35661);let X=!1,Y=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(k)[1]),X=Y>=1):k.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),X=Y>=2);let U=null,V={};const q=n.getParameter(3088),ee=n.getParameter(2978),se=new zt().fromArray(q),Z=new zt().fromArray(ee);function de(te,xe,Pe){const ze=new Uint8Array(4),tt=n.createTexture();n.bindTexture(te,tt),n.texParameteri(te,10241,9728),n.texParameteri(te,10240,9728);for(let Xt=0;Xt<Pe;Xt++)n.texImage2D(xe+Xt,0,6408,1,1,0,6408,5121,ze);return tt}const oe={};oe[3553]=de(3553,3553,1),oe[34067]=de(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Q(2929),l.setFunc(sb),Ie(!1),Ne(jE),Q(2884),_e(Ca);function Q(te){p[te]!==!0&&(n.enable(te),p[te]=!0)}function Me(te){p[te]!==!1&&(n.disable(te),p[te]=!1)}function ue(te,xe){return m[te]!==xe?(n.bindFramebuffer(te,xe),m[te]=xe,r&&(te===36009&&(m[36160]=xe),te===36160&&(m[36009]=xe)),!0):!1}function he(te,xe){let Pe=v,ze=!1;if(te)if(Pe=y.get(xe),Pe===void 0&&(Pe=[],y.set(xe,Pe)),te.isWebGLMultipleRenderTargets){const tt=te.texture;if(Pe.length!==tt.length||Pe[0]!==36064){for(let Xt=0,nn=tt.length;Xt<nn;Xt++)Pe[Xt]=36064+Xt;Pe.length=tt.length,ze=!0}}else Pe[0]!==36064&&(Pe[0]=36064,ze=!0);else Pe[0]!==1029&&(Pe[0]=1029,ze=!0);ze&&(t.isWebGL2?n.drawBuffers(Pe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function Se(te){return x!==te?(n.useProgram(te),x=te,!0):!1}const me={[Jc]:32774,[ZH]:32778,[ez]:32779};if(r)me[YE]=32775,me[QE]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(me[YE]=te.MIN_EXT,me[QE]=te.MAX_EXT)}const fe={[tz]:0,[nz]:1,[rz]:768,[uR]:770,[cz]:776,[az]:774,[sz]:772,[iz]:769,[fR]:771,[lz]:775,[oz]:773};function _e(te,xe,Pe,ze,tt,Xt,nn,Hn){if(te===Ca){g===!0&&(Me(3042),g=!1);return}if(g===!1&&(Q(3042),g=!0),te!==qH){if(te!==_||Hn!==T){if((b!==Jc||M!==Jc)&&(n.blendEquation(32774),b=Jc,M=Jc),Hn)switch(te){case uu:n.blendFuncSeparate(1,771,1,771);break;case JE:n.blendFunc(1,1);break;case KE:n.blendFuncSeparate(0,769,0,1);break;case XE:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case uu:n.blendFuncSeparate(770,771,1,771);break;case JE:n.blendFunc(770,1);break;case KE:n.blendFuncSeparate(0,769,0,1);break;case XE:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}S=null,E=null,R=null,B=null,_=te,T=Hn}return}tt=tt||xe,Xt=Xt||Pe,nn=nn||ze,(xe!==b||tt!==M)&&(n.blendEquationSeparate(me[xe],me[tt]),b=xe,M=tt),(Pe!==S||ze!==E||Xt!==R||nn!==B)&&(n.blendFuncSeparate(fe[Pe],fe[ze],fe[Xt],fe[nn]),S=Pe,E=ze,R=Xt,B=nn),_=te,T=!1}function Oe(te,xe){te.side===hs?Me(2884):Q(2884);let Pe=te.side===Qr;xe&&(Pe=!Pe),Ie(Pe),te.blending===uu&&te.transparent===!1?_e(Ca):_e(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const ze=te.stencilWrite;c.setTest(ze),ze&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Le(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Q(32926):Me(32926)}function Ie(te){I!==te&&(te?n.frontFace(2304):n.frontFace(2305),I=te)}function Ne(te){te!==XH?(Q(2884),te!==O&&(te===jE?n.cullFace(1029):te===YH?n.cullFace(1028):n.cullFace(1032))):Me(2884),O=te}function Ee(te){te!==z&&(X&&n.lineWidth(te),z=te)}function Le(te,xe,Pe){te?(Q(32823),(H!==xe||N!==Pe)&&(n.polygonOffset(xe,Pe),H=xe,N=Pe)):Me(32823)}function $e(te){te?Q(3089):Me(3089)}function ht(te){te===void 0&&(te=33984+J-1),U!==te&&(n.activeTexture(te),U=te)}function W(te,xe,Pe){Pe===void 0&&(U===null?Pe=33984+J-1:Pe=U);let ze=V[Pe];ze===void 0&&(ze={type:void 0,texture:void 0},V[Pe]=ze),(ze.type!==te||ze.texture!==xe)&&(U!==Pe&&(n.activeTexture(Pe),U=Pe),n.bindTexture(te,xe||oe[te]),ze.type=te,ze.texture=xe)}function F(){const te=V[U];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function pe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Fe(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function st(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ve(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function be(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function qe(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function We(te){se.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),se.copy(te))}function Ze(te){Z.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),Z.copy(te))}function St(te,xe){let Pe=f.get(xe);Pe===void 0&&(Pe=new WeakMap,f.set(xe,Pe));let ze=Pe.get(te);ze===void 0&&(ze=n.getUniformBlockIndex(xe,te.name),Pe.set(te,ze))}function Lt(te,xe){const ze=f.get(xe).get(te);u.get(xe)!==ze&&(n.uniformBlockBinding(xe,ze,te.__bindingPointIndex),u.set(xe,ze))}function Jt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},U=null,V={},m={},y=new WeakMap,v=[],x=null,g=!1,_=null,b=null,S=null,E=null,M=null,R=null,B=null,T=!1,I=null,O=null,z=null,H=null,N=null,se.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Q,disable:Me,bindFramebuffer:ue,drawBuffers:he,useProgram:Se,setBlending:_e,setMaterial:Oe,setFlipSided:Ie,setCullFace:Ne,setLineWidth:Ee,setPolygonOffset:Le,setScissorTest:$e,activeTexture:ht,bindTexture:W,unbindTexture:F,compressedTexImage2D:pe,compressedTexImage3D:Te,texImage2D:qe,texImage3D:ot,updateUBOMapping:St,uniformBlockBinding:Lt,texStorage2D:be,texStorage3D:Xe,texSubImage2D:Re,texSubImage3D:Fe,compressedTexSubImage2D:st,compressedTexSubImage3D:Ve,scissor:We,viewport:Ze,reset:Jt}}function Gee(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(W,F){return g?new OffscreenCanvas(W,F):og("canvas")}function b(W,F,pe,Te){let Re=1;if((W.width>Te||W.height>Te)&&(Re=Te/Math.max(W.width,W.height)),Re<1||F===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Fe=F?Jz:Math.floor,st=Fe(Re*W.width),Ve=Fe(Re*W.height);v===void 0&&(v=_(st,Ve));const be=pe?_(st,Ve):v;return be.width=st,be.height=Ve,be.getContext("2d").drawImage(W,0,0,st,Ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+st+"x"+Ve+")."),be}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function S(W){return wM(W.width)&&wM(W.height)}function E(W){return a?!1:W.wrapS!==wr||W.wrapT!==wr||W.minFilter!==Bn&&W.minFilter!==yn}function M(W,F){return W.generateMipmaps&&F&&W.minFilter!==Bn&&W.minFilter!==yn}function R(W){n.generateMipmap(W)}function B(W,F,pe,Te,Re=!1){if(a===!1)return F;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Fe=F;return F===6403&&(pe===5126&&(Fe=33326),pe===5131&&(Fe=33325),pe===5121&&(Fe=33321)),F===33319&&(pe===5126&&(Fe=33328),pe===5131&&(Fe=33327),pe===5121&&(Fe=33323)),F===6408&&(pe===5126&&(Fe=34836),pe===5131&&(Fe=34842),pe===5121&&(Fe=Te===kt&&Re===!1?35907:32856),pe===32819&&(Fe=32854),pe===32820&&(Fe=32855)),(Fe===33325||Fe===33326||Fe===33327||Fe===33328||Fe===34842||Fe===34836)&&e.get("EXT_color_buffer_float"),Fe}function T(W,F,pe){return M(W,pe)===!0||W.isFramebufferTexture&&W.minFilter!==Bn&&W.minFilter!==yn?Math.log2(Math.max(F.width,F.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?F.mipmaps.length:1}function I(W){return W===Bn||W===rg||W===Od?9728:9729}function O(W){const F=W.target;F.removeEventListener("dispose",O),H(F),F.isVideoTexture&&y.delete(F)}function z(W){const F=W.target;F.removeEventListener("dispose",z),J(F)}function H(W){const F=r.get(W);if(F.__webglInit===void 0)return;const pe=W.source,Te=x.get(pe);if(Te){const Re=Te[F.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&N(W),Object.keys(Te).length===0&&x.delete(pe)}r.remove(W)}function N(W){const F=r.get(W);n.deleteTexture(F.__webglTexture);const pe=W.source,Te=x.get(pe);delete Te[F.__cacheKey],o.memory.textures--}function J(W){const F=W.texture,pe=r.get(W),Te=r.get(F);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++)n.deleteFramebuffer(pe.__webglFramebuffer[Re]),pe.__webglDepthbuffer&&n.deleteRenderbuffer(pe.__webglDepthbuffer[Re]);else{if(n.deleteFramebuffer(pe.__webglFramebuffer),pe.__webglDepthbuffer&&n.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer)for(let Re=0;Re<pe.__webglColorRenderbuffer.length;Re++)pe.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(pe.__webglColorRenderbuffer[Re]);pe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(pe.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Re=0,Fe=F.length;Re<Fe;Re++){const st=r.get(F[Re]);st.__webglTexture&&(n.deleteTexture(st.__webglTexture),o.memory.textures--),r.remove(F[Re])}r.remove(F),r.remove(W)}let X=0;function Y(){X=0}function k(){const W=X;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),X+=1,W}function U(W){const F=[];return F.push(W.wrapS),F.push(W.wrapT),F.push(W.wrapR||0),F.push(W.magFilter),F.push(W.minFilter),F.push(W.anisotropy),F.push(W.internalFormat),F.push(W.format),F.push(W.type),F.push(W.generateMipmaps),F.push(W.premultiplyAlpha),F.push(W.flipY),F.push(W.unpackAlignment),F.push(W.encoding),F.join()}function V(W,F){const pe=r.get(W);if(W.isVideoTexture&&$e(W),W.isRenderTargetTexture===!1&&W.version>0&&pe.__version!==W.version){const Te=W.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(pe,W,F);return}}t.bindTexture(3553,pe.__webglTexture,33984+F)}function q(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){Me(pe,W,F);return}t.bindTexture(35866,pe.__webglTexture,33984+F)}function ee(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){Me(pe,W,F);return}t.bindTexture(32879,pe.__webglTexture,33984+F)}function se(W,F){const pe=r.get(W);if(W.version>0&&pe.__version!==W.version){ue(pe,W,F);return}t.bindTexture(34067,pe.__webglTexture,33984+F)}const Z={[Jl]:10497,[wr]:33071,[th]:33648},de={[Bn]:9728,[rg]:9984,[Od]:9986,[yn]:9729,[y1]:9985,[ko]:9987};function oe(W,F,pe){if(pe?(n.texParameteri(W,10242,Z[F.wrapS]),n.texParameteri(W,10243,Z[F.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,Z[F.wrapR]),n.texParameteri(W,10240,de[F.magFilter]),n.texParameteri(W,10241,de[F.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(F.wrapS!==wr||F.wrapT!==wr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,I(F.magFilter)),n.texParameteri(W,10241,I(F.minFilter)),F.minFilter!==Bn&&F.minFilter!==yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===Bn||F.minFilter!==Od&&F.minFilter!==ko||F.type===Li&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===gs&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(n.texParameterf(W,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function Q(W,F){let pe=!1;W.__webglInit===void 0&&(W.__webglInit=!0,F.addEventListener("dispose",O));const Te=F.source;let Re=x.get(Te);Re===void 0&&(Re={},x.set(Te,Re));const Fe=U(F);if(Fe!==W.__cacheKey){Re[Fe]===void 0&&(Re[Fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),Re[Fe].usedTimes++;const st=Re[W.__cacheKey];st!==void 0&&(Re[W.__cacheKey].usedTimes--,st.usedTimes===0&&N(F)),W.__cacheKey=Fe,W.__webglTexture=Re[Fe].texture}return pe}function Me(W,F,pe){let Te=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Te=35866),F.isData3DTexture&&(Te=32879);const Re=Q(W,F),Fe=F.source;t.bindTexture(Te,W.__webglTexture,33984+pe);const st=r.get(Fe);if(Fe.version!==st.__version||Re===!0){t.activeTexture(33984+pe),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const Ve=E(F)&&S(F.image)===!1;let be=b(F.image,Ve,!1,u);be=ht(F,be);const Xe=S(be)||a,qe=s.convert(F.format,F.encoding);let ot=s.convert(F.type),We=B(F.internalFormat,qe,ot,F.encoding,F.isVideoTexture);oe(Te,F,Xe);let Ze;const St=F.mipmaps,Lt=a&&F.isVideoTexture!==!0,Jt=st.__version===void 0||Re===!0,te=T(F,be,Xe);if(F.isDepthTexture)We=6402,a?F.type===Li?We=36012:F.type===Tl?We=33190:F.type===fu?We=35056:We=33189:F.type===Li&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Fl&&We===6402&&F.type!==hR&&F.type!==Tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Tl,ot=s.convert(F.type)),F.format===Su&&We===6402&&(We=34041,F.type!==fu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=fu,ot=s.convert(F.type))),Jt&&(Lt?t.texStorage2D(3553,1,We,be.width,be.height):t.texImage2D(3553,0,We,be.width,be.height,0,qe,ot,null));else if(F.isDataTexture)if(St.length>0&&Xe){Lt&&Jt&&t.texStorage2D(3553,te,We,St[0].width,St[0].height);for(let xe=0,Pe=St.length;xe<Pe;xe++)Ze=St[xe],Lt?t.texSubImage2D(3553,xe,0,0,Ze.width,Ze.height,qe,ot,Ze.data):t.texImage2D(3553,xe,We,Ze.width,Ze.height,0,qe,ot,Ze.data);F.generateMipmaps=!1}else Lt?(Jt&&t.texStorage2D(3553,te,We,be.width,be.height),t.texSubImage2D(3553,0,0,0,be.width,be.height,qe,ot,be.data)):t.texImage2D(3553,0,We,be.width,be.height,0,qe,ot,be.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Lt&&Jt&&t.texStorage3D(35866,te,We,St[0].width,St[0].height,be.depth);for(let xe=0,Pe=St.length;xe<Pe;xe++)Ze=St[xe],F.format!==ui?qe!==null?Lt?t.compressedTexSubImage3D(35866,xe,0,0,0,Ze.width,Ze.height,be.depth,qe,Ze.data,0,0):t.compressedTexImage3D(35866,xe,We,Ze.width,Ze.height,be.depth,0,Ze.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage3D(35866,xe,0,0,0,Ze.width,Ze.height,be.depth,qe,ot,Ze.data):t.texImage3D(35866,xe,We,Ze.width,Ze.height,be.depth,0,qe,ot,Ze.data)}else{Lt&&Jt&&t.texStorage2D(3553,te,We,St[0].width,St[0].height);for(let xe=0,Pe=St.length;xe<Pe;xe++)Ze=St[xe],F.format!==ui?qe!==null?Lt?t.compressedTexSubImage2D(3553,xe,0,0,Ze.width,Ze.height,qe,Ze.data):t.compressedTexImage2D(3553,xe,We,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage2D(3553,xe,0,0,Ze.width,Ze.height,qe,ot,Ze.data):t.texImage2D(3553,xe,We,Ze.width,Ze.height,0,qe,ot,Ze.data)}else if(F.isDataArrayTexture)Lt?(Jt&&t.texStorage3D(35866,te,We,be.width,be.height,be.depth),t.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,qe,ot,be.data)):t.texImage3D(35866,0,We,be.width,be.height,be.depth,0,qe,ot,be.data);else if(F.isData3DTexture)Lt?(Jt&&t.texStorage3D(32879,te,We,be.width,be.height,be.depth),t.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,qe,ot,be.data)):t.texImage3D(32879,0,We,be.width,be.height,be.depth,0,qe,ot,be.data);else if(F.isFramebufferTexture){if(Jt)if(Lt)t.texStorage2D(3553,te,We,be.width,be.height);else{let xe=be.width,Pe=be.height;for(let ze=0;ze<te;ze++)t.texImage2D(3553,ze,We,xe,Pe,0,qe,ot,null),xe>>=1,Pe>>=1}}else if(St.length>0&&Xe){Lt&&Jt&&t.texStorage2D(3553,te,We,St[0].width,St[0].height);for(let xe=0,Pe=St.length;xe<Pe;xe++)Ze=St[xe],Lt?t.texSubImage2D(3553,xe,0,0,qe,ot,Ze):t.texImage2D(3553,xe,We,qe,ot,Ze);F.generateMipmaps=!1}else Lt?(Jt&&t.texStorage2D(3553,te,We,be.width,be.height),t.texSubImage2D(3553,0,0,0,qe,ot,be)):t.texImage2D(3553,0,We,qe,ot,be);M(F,Xe)&&R(Te),st.__version=Fe.version,F.onUpdate&&F.onUpdate(F)}W.__version=F.version}function ue(W,F,pe){if(F.image.length!==6)return;const Te=Q(W,F),Re=F.source;t.bindTexture(34067,W.__webglTexture,33984+pe);const Fe=r.get(Re);if(Re.version!==Fe.__version||Te===!0){t.activeTexture(33984+pe),n.pixelStorei(37440,F.flipY),n.pixelStorei(37441,F.premultiplyAlpha),n.pixelStorei(3317,F.unpackAlignment),n.pixelStorei(37443,0);const st=F.isCompressedTexture||F.image[0].isCompressedTexture,Ve=F.image[0]&&F.image[0].isDataTexture,be=[];for(let xe=0;xe<6;xe++)!st&&!Ve?be[xe]=b(F.image[xe],!1,!0,c):be[xe]=Ve?F.image[xe].image:F.image[xe],be[xe]=ht(F,be[xe]);const Xe=be[0],qe=S(Xe)||a,ot=s.convert(F.format,F.encoding),We=s.convert(F.type),Ze=B(F.internalFormat,ot,We,F.encoding),St=a&&F.isVideoTexture!==!0,Lt=Fe.__version===void 0||Te===!0;let Jt=T(F,Xe,qe);oe(34067,F,qe);let te;if(st){St&&Lt&&t.texStorage2D(34067,Jt,Ze,Xe.width,Xe.height);for(let xe=0;xe<6;xe++){te=be[xe].mipmaps;for(let Pe=0;Pe<te.length;Pe++){const ze=te[Pe];F.format!==ui?ot!==null?St?t.compressedTexSubImage2D(34069+xe,Pe,0,0,ze.width,ze.height,ot,ze.data):t.compressedTexImage2D(34069+xe,Pe,Ze,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):St?t.texSubImage2D(34069+xe,Pe,0,0,ze.width,ze.height,ot,We,ze.data):t.texImage2D(34069+xe,Pe,Ze,ze.width,ze.height,0,ot,We,ze.data)}}}else{te=F.mipmaps,St&&Lt&&(te.length>0&&Jt++,t.texStorage2D(34067,Jt,Ze,be[0].width,be[0].height));for(let xe=0;xe<6;xe++)if(Ve){St?t.texSubImage2D(34069+xe,0,0,0,be[xe].width,be[xe].height,ot,We,be[xe].data):t.texImage2D(34069+xe,0,Ze,be[xe].width,be[xe].height,0,ot,We,be[xe].data);for(let Pe=0;Pe<te.length;Pe++){const tt=te[Pe].image[xe].image;St?t.texSubImage2D(34069+xe,Pe+1,0,0,tt.width,tt.height,ot,We,tt.data):t.texImage2D(34069+xe,Pe+1,Ze,tt.width,tt.height,0,ot,We,tt.data)}}else{St?t.texSubImage2D(34069+xe,0,0,0,ot,We,be[xe]):t.texImage2D(34069+xe,0,Ze,ot,We,be[xe]);for(let Pe=0;Pe<te.length;Pe++){const ze=te[Pe];St?t.texSubImage2D(34069+xe,Pe+1,0,0,ot,We,ze.image[xe]):t.texImage2D(34069+xe,Pe+1,Ze,ot,We,ze.image[xe])}}}M(F,qe)&&R(34067),Fe.__version=Re.version,F.onUpdate&&F.onUpdate(F)}W.__version=F.version}function he(W,F,pe,Te,Re){const Fe=s.convert(pe.format,pe.encoding),st=s.convert(pe.type),Ve=B(pe.internalFormat,Fe,st,pe.encoding);r.get(F).__hasExternalTextures||(Re===32879||Re===35866?t.texImage3D(Re,0,Ve,F.width,F.height,F.depth,0,Fe,st,null):t.texImage2D(Re,0,Ve,F.width,F.height,0,Fe,st,null)),t.bindFramebuffer(36160,W),Le(F)?p.framebufferTexture2DMultisampleEXT(36160,Te,Re,r.get(pe).__webglTexture,0,Ee(F)):(Re===3553||Re>=34069&&Re<=34074)&&n.framebufferTexture2D(36160,Te,Re,r.get(pe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Se(W,F,pe){if(n.bindRenderbuffer(36161,W),F.depthBuffer&&!F.stencilBuffer){let Te=33189;if(pe||Le(F)){const Re=F.depthTexture;Re&&Re.isDepthTexture&&(Re.type===Li?Te=36012:Re.type===Tl&&(Te=33190));const Fe=Ee(F);Le(F)?p.renderbufferStorageMultisampleEXT(36161,Fe,Te,F.width,F.height):n.renderbufferStorageMultisample(36161,Fe,Te,F.width,F.height)}else n.renderbufferStorage(36161,Te,F.width,F.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(F.depthBuffer&&F.stencilBuffer){const Te=Ee(F);pe&&Le(F)===!1?n.renderbufferStorageMultisample(36161,Te,35056,F.width,F.height):Le(F)?p.renderbufferStorageMultisampleEXT(36161,Te,35056,F.width,F.height):n.renderbufferStorage(36161,34041,F.width,F.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const Te=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Re=0;Re<Te.length;Re++){const Fe=Te[Re],st=s.convert(Fe.format,Fe.encoding),Ve=s.convert(Fe.type),be=B(Fe.internalFormat,st,Ve,Fe.encoding),Xe=Ee(F);pe&&Le(F)===!1?n.renderbufferStorageMultisample(36161,Xe,be,F.width,F.height):Le(F)?p.renderbufferStorageMultisampleEXT(36161,Xe,be,F.width,F.height):n.renderbufferStorage(36161,be,F.width,F.height)}}n.bindRenderbuffer(36161,null)}function me(W,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),V(F.depthTexture,0);const Te=r.get(F.depthTexture).__webglTexture,Re=Ee(F);if(F.depthTexture.format===Fl)Le(F)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Te,0,Re):n.framebufferTexture2D(36160,36096,3553,Te,0);else if(F.depthTexture.format===Su)Le(F)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Te,0,Re):n.framebufferTexture2D(36160,33306,3553,Te,0);else throw new Error("Unknown depthTexture format")}function fe(W){const F=r.get(W),pe=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!F.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");me(F.__webglFramebuffer,W)}else if(pe){F.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(36160,F.__webglFramebuffer[Te]),F.__webglDepthbuffer[Te]=n.createRenderbuffer(),Se(F.__webglDepthbuffer[Te],W,!1)}else t.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),Se(F.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function _e(W,F,pe){const Te=r.get(W);F!==void 0&&he(Te.__webglFramebuffer,W,W.texture,36064,3553),pe!==void 0&&fe(W)}function Oe(W){const F=W.texture,pe=r.get(W),Te=r.get(F);W.addEventListener("dispose",z),W.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=F.version,o.memory.textures++);const Re=W.isWebGLCubeRenderTarget===!0,Fe=W.isWebGLMultipleRenderTargets===!0,st=S(W)||a;if(Re){pe.__webglFramebuffer=[];for(let Ve=0;Ve<6;Ve++)pe.__webglFramebuffer[Ve]=n.createFramebuffer()}else{if(pe.__webglFramebuffer=n.createFramebuffer(),Fe)if(i.drawBuffers){const Ve=W.texture;for(let be=0,Xe=Ve.length;be<Xe;be++){const qe=r.get(Ve[be]);qe.__webglTexture===void 0&&(qe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Le(W)===!1){const Ve=Fe?F:[F];pe.__webglMultisampledFramebuffer=n.createFramebuffer(),pe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer);for(let be=0;be<Ve.length;be++){const Xe=Ve[be];pe.__webglColorRenderbuffer[be]=n.createRenderbuffer(),n.bindRenderbuffer(36161,pe.__webglColorRenderbuffer[be]);const qe=s.convert(Xe.format,Xe.encoding),ot=s.convert(Xe.type),We=B(Xe.internalFormat,qe,ot,Xe.encoding,W.isXRRenderTarget===!0),Ze=Ee(W);n.renderbufferStorageMultisample(36161,Ze,We,W.width,W.height),n.framebufferRenderbuffer(36160,36064+be,36161,pe.__webglColorRenderbuffer[be])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(pe.__webglDepthRenderbuffer=n.createRenderbuffer(),Se(pe.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(Re){t.bindTexture(34067,Te.__webglTexture),oe(34067,F,st);for(let Ve=0;Ve<6;Ve++)he(pe.__webglFramebuffer[Ve],W,F,36064,34069+Ve);M(F,st)&&R(34067),t.unbindTexture()}else if(Fe){const Ve=W.texture;for(let be=0,Xe=Ve.length;be<Xe;be++){const qe=Ve[be],ot=r.get(qe);t.bindTexture(3553,ot.__webglTexture),oe(3553,qe,st),he(pe.__webglFramebuffer,W,qe,36064+be,3553),M(qe,st)&&R(3553)}t.unbindTexture()}else{let Ve=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Ve=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ve,Te.__webglTexture),oe(Ve,F,st),he(pe.__webglFramebuffer,W,F,36064,Ve),M(F,st)&&R(Ve),t.unbindTexture()}W.depthBuffer&&fe(W)}function Ie(W){const F=S(W)||a,pe=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Te=0,Re=pe.length;Te<Re;Te++){const Fe=pe[Te];if(M(Fe,F)){const st=W.isWebGLCubeRenderTarget?34067:3553,Ve=r.get(Fe).__webglTexture;t.bindTexture(st,Ve),R(st),t.unbindTexture()}}}function Ne(W){if(a&&W.samples>0&&Le(W)===!1){const F=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],pe=W.width,Te=W.height;let Re=16384;const Fe=[],st=W.stencilBuffer?33306:36096,Ve=r.get(W),be=W.isWebGLMultipleRenderTargets===!0;if(be)for(let Xe=0;Xe<F.length;Xe++)t.bindFramebuffer(36160,Ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,null),t.bindFramebuffer(36160,Ve.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,null,0);t.bindFramebuffer(36008,Ve.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ve.__webglFramebuffer);for(let Xe=0;Xe<F.length;Xe++){Fe.push(36064+Xe),W.depthBuffer&&Fe.push(st);const qe=Ve.__ignoreDepthValues!==void 0?Ve.__ignoreDepthValues:!1;if(qe===!1&&(W.depthBuffer&&(Re|=256),W.stencilBuffer&&(Re|=1024)),be&&n.framebufferRenderbuffer(36008,36064,36161,Ve.__webglColorRenderbuffer[Xe]),qe===!0&&(n.invalidateFramebuffer(36008,[st]),n.invalidateFramebuffer(36009,[st])),be){const ot=r.get(F[Xe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ot,0)}n.blitFramebuffer(0,0,pe,Te,0,0,pe,Te,Re,9728),m&&n.invalidateFramebuffer(36008,Fe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),be)for(let Xe=0;Xe<F.length;Xe++){t.bindFramebuffer(36160,Ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,Ve.__webglColorRenderbuffer[Xe]);const qe=r.get(F[Xe]).__webglTexture;t.bindFramebuffer(36160,Ve.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,qe,0)}t.bindFramebuffer(36009,Ve.__webglMultisampledFramebuffer)}}function Ee(W){return Math.min(f,W.samples)}function Le(W){const F=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function $e(W){const F=o.render.frame;y.get(W)!==F&&(y.set(W,F),W.update())}function ht(W,F){const pe=W.encoding,Te=W.format,Re=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===ob||pe!==no&&(pe===kt?a===!1?e.has("EXT_sRGB")===!0&&Te===ui?(W.format=ob,W.minFilter=yn,W.generateMipmaps=!1):F=vR.sRGBToLinear(F):(Te!==ui||Re!==ka)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",pe)),F}this.allocateTextureUnit=k,this.resetTextureUnits=Y,this.setTexture2D=V,this.setTexture2DArray=q,this.setTexture3D=ee,this.setTextureCube=se,this.rebindTextures=_e,this.setupRenderTarget=Oe,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Le}function rG(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ka)return 5121;if(s===Mz)return 32819;if(s===Cz)return 32820;if(s===Sz)return 5120;if(s===Az)return 5122;if(s===hR)return 5123;if(s===Ez)return 5124;if(s===Tl)return 5125;if(s===Li)return 5126;if(s===gs)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Tz)return 6406;if(s===ui)return 6408;if(s===Rz)return 6409;if(s===Pz)return 6410;if(s===Fl)return 6402;if(s===Su)return 34041;if(s===ob)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Iz)return 6403;if(s===Bz)return 36244;if(s===Lz)return 33319;if(s===Dz)return 33320;if(s===Oz)return 36249;if(s===cx||s===ux||s===fx||s===dx)if(o===kt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===cx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===ux)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===fx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===dx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===cx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===ux)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===fx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===dx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===qE||s===ZE||s===eM||s===tM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===qE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ZE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===eM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===tM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===kz)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===nM||s===rM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===nM)return o===kt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===rM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===iM||s===sM||s===oM||s===aM||s===lM||s===cM||s===uM||s===fM||s===dM||s===hM||s===pM||s===mM||s===gM||s===yM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===iM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===sM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===oM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===aM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===lM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===cM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===uM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===fM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===dM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===hM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===pM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===mM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===gM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===yM)return o===kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===hx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===hx)return o===kt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Nz||s===vM||s===xM||s===bM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===hx)return a.COMPRESSED_RED_RGTC1_EXT;if(s===vM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===bM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===fu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class iG extends tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class va extends Ht{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Vee={type:"move"};class MS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new va,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new va,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new va,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,r),g=this._getHandJoint(c,v);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=x.radius),g.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Vee)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new va;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class sG extends wn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Fl,u!==Fl&&u!==Su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Fl&&(r=Tl),r===void 0&&u===Su&&(r=fu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Bn,this.minFilter=l!==void 0?l:Bn,this.flipY=!1,this.generateMipmaps=!1}}class $ee extends $a{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,y=null;const v=t.getContextAttributes();let x=null,g=null;const _=[],b=[],S=new Set,E=new Map,M=new tr;M.layers.enable(1),M.viewport=new zt;const R=new tr;R.layers.enable(2),R.viewport=new zt;const B=[M,R],T=new iG;T.layers.enable(1),T.layers.enable(2);let I=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let Z=_[se];return Z===void 0&&(Z=new MS,_[se]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(se){let Z=_[se];return Z===void 0&&(Z=new MS,_[se]=Z),Z.getGripSpace()},this.getHand=function(se){let Z=_[se];return Z===void 0&&(Z=new MS,_[se]=Z),Z.getHandSpace()};function z(se){const Z=b.indexOf(se.inputSource);if(Z===-1)return;const de=_[Z];de!==void 0&&de.dispatchEvent({type:se.type,data:se.inputSource})}function H(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",N);for(let se=0;se<_.length;se++){const Z=b[se];Z!==null&&(b[se]=null,_[se].disconnect(Z))}I=null,O=null,e.setRenderTarget(x),m=null,p=null,f=null,i=null,g=null,ee.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",H),i.addEventListener("inputsourceschange",N),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,Z),i.updateRenderState({baseLayer:m}),g=new $i(m.framebufferWidth,m.framebufferHeight,{format:ui,type:ka,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let Z=null,de=null,oe=null;v.depth&&(oe=v.stencil?35056:33190,Z=v.stencil?Su:Fl,de=v.stencil?fu:Tl);const Q={colorFormat:32856,depthFormat:oe,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Q),i.updateRenderState({layers:[p]}),g=new $i(p.textureWidth,p.textureHeight,{format:ui,type:ka,depthTexture:new sG(p.textureWidth,p.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Me=e.properties.get(g);Me.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function N(se){for(let Z=0;Z<se.removed.length;Z++){const de=se.removed[Z],oe=b.indexOf(de);oe>=0&&(b[oe]=null,_[oe].disconnect(de))}for(let Z=0;Z<se.added.length;Z++){const de=se.added[Z];let oe=b.indexOf(de);if(oe===-1){for(let Me=0;Me<_.length;Me++)if(Me>=b.length){b.push(de),oe=Me;break}else if(b[Me]===null){b[Me]=de,oe=Me;break}if(oe===-1)break}const Q=_[oe];Q&&Q.connect(de)}}const J=new G,X=new G;function Y(se,Z,de){J.setFromMatrixPosition(Z.matrixWorld),X.setFromMatrixPosition(de.matrixWorld);const oe=J.distanceTo(X),Q=Z.projectionMatrix.elements,Me=de.projectionMatrix.elements,ue=Q[14]/(Q[10]-1),he=Q[14]/(Q[10]+1),Se=(Q[9]+1)/Q[5],me=(Q[9]-1)/Q[5],fe=(Q[8]-1)/Q[0],_e=(Me[8]+1)/Me[0],Oe=ue*fe,Ie=ue*_e,Ne=oe/(-fe+_e),Ee=Ne*-fe;Z.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Ee),se.translateZ(Ne),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const Le=ue+Ne,$e=he+Ne,ht=Oe-Ee,W=Ie+(oe-Ee),F=Se*he/$e*Le,pe=me*he/$e*Le;se.projectionMatrix.makePerspective(ht,W,F,pe,Le,$e),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function k(se,Z){Z===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(Z.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;T.near=R.near=M.near=se.near,T.far=R.far=M.far=se.far,(I!==T.near||O!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),I=T.near,O=T.far);const Z=se.parent,de=T.cameras;k(T,Z);for(let oe=0;oe<de.length;oe++)k(de[oe],Z);de.length===2?Y(T,M,R):T.projectionMatrix.copy(M.projectionMatrix),U(se,T,Z)};function U(se,Z,de){de===null?se.matrix.copy(Z.matrixWorld):(se.matrix.copy(de.matrixWorld),se.matrix.invert(),se.matrix.multiply(Z.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0);const oe=se.children;for(let Q=0,Me=oe.length;Q<Me;Q++)oe[Q].updateMatrixWorld(!0);se.projectionMatrix.copy(Z.projectionMatrix),se.projectionMatrixInverse.copy(Z.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=ih*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.getPlanes=function(){return S};let V=null;function q(se,Z){if(u=Z.getViewerPose(c||o),y=Z,u!==null){const de=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let oe=!1;de.length!==T.cameras.length&&(T.cameras.length=0,oe=!0);for(let Q=0;Q<de.length;Q++){const Me=de[Q];let ue=null;if(m!==null)ue=m.getViewport(Me);else{const Se=f.getViewSubImage(p,Me);ue=Se.viewport,Q===0&&(e.setRenderTargetTextures(g,Se.colorTexture,p.ignoreDepthValues?void 0:Se.depthStencilTexture),e.setRenderTarget(g))}let he=B[Q];he===void 0&&(he=new tr,he.layers.enable(Q),he.viewport=new zt,B[Q]=he),he.matrix.fromArray(Me.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Me.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(ue.x,ue.y,ue.width,ue.height),Q===0&&(T.matrix.copy(he.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),oe===!0&&T.cameras.push(he)}}for(let de=0;de<_.length;de++){const oe=b[de],Q=_[de];oe!==null&&Q!==void 0&&Q.update(oe,Z,c||o)}if(V&&V(se,Z),Z.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:Z.detectedPlanes});let de=null;for(const oe of S)Z.detectedPlanes.has(oe)||(de===null&&(de=[]),de.push(oe));if(de!==null)for(const oe of de)S.delete(oe),E.delete(oe),r.dispatchEvent({type:"planeremoved",data:oe});for(const oe of Z.detectedPlanes)if(!S.has(oe))S.add(oe),E.set(oe,Z.lastChangedTime),r.dispatchEvent({type:"planeadded",data:oe});else{const Q=E.get(oe);oe.lastChangedTime>Q&&(E.set(oe,oe.lastChangedTime),r.dispatchEvent({type:"planechanged",data:oe}))}}y=null}const ee=new qz;ee.setAnimationLoop(q),this.setAnimationLoop=function(se){V=se},this.dispose=function(){}}}function Wee(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,Yz(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,_,b,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),f(x,g)):g.isMeshPhongMaterial?(s(x,g),u(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,S)):g.isMeshMatcapMaterial?(s(x,g),y(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),v(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,_,b):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Qr&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Qr&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const b=n.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*b,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,b){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=b*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function f(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Qr&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,g){g.matcap&&(x.matcap.value=g.matcap)}function v(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function jee(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const S=b.program;r.uniformBlockBinding(_,S)}function c(_,b){let S=i[_.id];S===void 0&&(y(_),S=u(_),i[_.id]=S,_.addEventListener("dispose",x));const E=b.program;r.updateUBOMapping(_,E);const M=e.render.frame;s[_.id]!==M&&(p(_),s[_.id]=M)}function u(_){const b=f();_.__bindingPointIndex=b;const S=n.createBuffer(),E=_.__size,M=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,E,M),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,S),S}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const b=i[_.id],S=_.uniforms,E=_.__cache;n.bindBuffer(35345,b);for(let M=0,R=S.length;M<R;M++){const B=S[M];if(m(B,M,E)===!0){const T=B.__offset,I=Array.isArray(B.value)?B.value:[B.value];let O=0;for(let z=0;z<I.length;z++){const H=I[z],N=v(H);typeof H=="number"?(B.__data[0]=H,n.bufferSubData(35345,T+O,B.__data)):H.isMatrix3?(B.__data[0]=H.elements[0],B.__data[1]=H.elements[1],B.__data[2]=H.elements[2],B.__data[3]=H.elements[0],B.__data[4]=H.elements[3],B.__data[5]=H.elements[4],B.__data[6]=H.elements[5],B.__data[7]=H.elements[0],B.__data[8]=H.elements[6],B.__data[9]=H.elements[7],B.__data[10]=H.elements[8],B.__data[11]=H.elements[0]):(H.toArray(B.__data,O),O+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,T,B.__data)}}n.bindBuffer(35345,null)}function m(_,b,S){const E=_.value;if(S[b]===void 0){if(typeof E=="number")S[b]=E;else{const M=Array.isArray(E)?E:[E],R=[];for(let B=0;B<M.length;B++)R.push(M[B].clone());S[b]=R}return!0}else if(typeof E=="number"){if(S[b]!==E)return S[b]=E,!0}else{const M=Array.isArray(S[b])?S[b]:[S[b]],R=Array.isArray(E)?E:[E];for(let B=0;B<M.length;B++){const T=M[B];if(T.equals(R[B])===!1)return T.copy(R[B]),!0}}return!1}function y(_){const b=_.uniforms;let S=0;const E=16;let M=0;for(let R=0,B=b.length;R<B;R++){const T=b[R],I={boundary:0,storage:0},O=Array.isArray(T.value)?T.value:[T.value];for(let z=0,H=O.length;z<H;z++){const N=O[z],J=v(N);I.boundary+=J.boundary,I.storage+=J.storage}if(T.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=S,R>0){M=S%E;const z=E-M;M!==0&&z-I.boundary<0&&(S+=E-M,T.__offset=S)}S+=I.storage}return M=S%E,M>0&&(S+=E-M),_.__size=S,_.__cache={},this}function v(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function x(_){const b=_.target;b.removeEventListener("dispose",x);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function g(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}function Jee(){const n=og("canvas");return n.style.display="block",n}class CR{constructor(e={}){const{canvas:t=Jee(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;let m=null,y=null;const v=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=no,this.useLegacyLights=!0,this.toneMapping=Qs,this.toneMappingExposure=1;const g=this;let _=!1,b=0,S=0,E=null,M=-1,R=null;const B=new zt,T=new zt;let I=null,O=t.width,z=t.height,H=1,N=null,J=null;const X=new zt(0,0,O,z),Y=new zt(0,0,O,z);let k=!1;const U=new b1;let V=!1,q=!1,ee=null;const se=new dt,Z=new G,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function oe(){return E===null?H:1}let Q=r;function Me($,ce){for(let we=0;we<$.length;we++){const ae=$[we],Ae=t.getContext(ae,ce);if(Ae!==null)return Ae}return null}try{const $={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${p1}`),t.addEventListener("webglcontextlost",Ze,!1),t.addEventListener("webglcontextrestored",St,!1),t.addEventListener("webglcontextcreationerror",Lt,!1),Q===null){const ce=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ce.shift(),Q=Me(ce,$),Q===null)throw Me(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let ue,he,Se,me,fe,_e,Oe,Ie,Ne,Ee,Le,$e,ht,W,F,pe,Te,Re,Fe,st,Ve,be,Xe,qe;function ot(){ue=new cZ(Q),he=new rZ(Q,ue,e),ue.init(he),be=new rG(Q,ue,he),Se=new zee(Q,ue,he),me=new dZ,fe=new Ree,_e=new Gee(Q,ue,Se,fe,he,be,me),Oe=new sZ(g),Ie=new lZ(g),Ne=new AY(Q,he),Xe=new tZ(Q,ue,Ne,he),Ee=new uZ(Q,Ne,me,Xe),Le=new gZ(Q,Ee,Ne,me),Fe=new mZ(Q,he,_e),pe=new iZ(fe),$e=new Tee(g,Oe,Ie,ue,he,Xe,pe),ht=new Wee(g,fe),W=new Iee,F=new Nee(ue,he),Re=new eZ(g,Oe,Ie,Se,Le,p,l),Te=new Hee(g,Le,he),qe=new jee(Q,me,he,Se),st=new nZ(Q,ue,me,he),Ve=new fZ(Q,ue,me,he),me.programs=$e.programs,g.capabilities=he,g.extensions=ue,g.properties=fe,g.renderLists=W,g.shadowMap=Te,g.state=Se,g.info=me}ot();const We=new $ee(g,Q);this.xr=We,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const $=ue.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=ue.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function($){$!==void 0&&(H=$,this.setSize(O,z,!1))},this.getSize=function($){return $.set(O,z)},this.setSize=function($,ce,we=!0){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=$,z=ce,t.width=Math.floor($*H),t.height=Math.floor(ce*H),we===!0&&(t.style.width=$+"px",t.style.height=ce+"px"),this.setViewport(0,0,$,ce)},this.getDrawingBufferSize=function($){return $.set(O*H,z*H).floor()},this.setDrawingBufferSize=function($,ce,we){O=$,z=ce,H=we,t.width=Math.floor($*we),t.height=Math.floor(ce*we),this.setViewport(0,0,$,ce)},this.getCurrentViewport=function($){return $.copy(B)},this.getViewport=function($){return $.copy(X)},this.setViewport=function($,ce,we,ae){$.isVector4?X.set($.x,$.y,$.z,$.w):X.set($,ce,we,ae),Se.viewport(B.copy(X).multiplyScalar(H).floor())},this.getScissor=function($){return $.copy(Y)},this.setScissor=function($,ce,we,ae){$.isVector4?Y.set($.x,$.y,$.z,$.w):Y.set($,ce,we,ae),Se.scissor(T.copy(Y).multiplyScalar(H).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function($){Se.setScissorTest(k=$)},this.setOpaqueSort=function($){N=$},this.setTransparentSort=function($){J=$},this.getClearColor=function($){return $.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function($=!0,ce=!0,we=!0){let ae=0;$&&(ae|=16384),ce&&(ae|=256),we&&(ae|=1024),Q.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ze,!1),t.removeEventListener("webglcontextrestored",St,!1),t.removeEventListener("webglcontextcreationerror",Lt,!1),W.dispose(),F.dispose(),fe.dispose(),Oe.dispose(),Ie.dispose(),Le.dispose(),Xe.dispose(),qe.dispose(),$e.dispose(),We.dispose(),We.removeEventListener("sessionstart",tt),We.removeEventListener("sessionend",Xt),ee&&(ee.dispose(),ee=null),nn.stop()};function Ze($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function St(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const $=me.autoReset,ce=Te.enabled,we=Te.autoUpdate,ae=Te.needsUpdate,Ae=Te.type;ot(),me.autoReset=$,Te.enabled=ce,Te.autoUpdate=we,Te.needsUpdate=ae,Te.type=Ae}function Lt($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function Jt($){const ce=$.target;ce.removeEventListener("dispose",Jt),te(ce)}function te($){xe($),fe.remove($)}function xe($){const ce=fe.get($).programs;ce!==void 0&&(ce.forEach(function(we){$e.releaseProgram(we)}),$.isShaderMaterial&&$e.releaseShaderCache($))}this.renderBufferDirect=function($,ce,we,ae,Ae,lt){ce===null&&(ce=de);const ft=Ae.isMesh&&Ae.matrixWorld.determinant()<0,pt=uo($,ce,we,ae,Ae);Se.setMaterial(ae,ft);let bt=we.index,Tt=1;ae.wireframe===!0&&(bt=Ee.getWireframeAttribute(we),Tt=2);const Rt=we.drawRange,It=we.attributes.position;let Yt=Rt.start*Tt,vr=(Rt.start+Rt.count)*Tt;lt!==null&&(Yt=Math.max(Yt,lt.start*Tt),vr=Math.min(vr,(lt.start+lt.count)*Tt)),bt!==null?(Yt=Math.max(Yt,0),vr=Math.min(vr,bt.count)):It!=null&&(Yt=Math.max(Yt,0),vr=Math.min(vr,It.count));const wi=vr-Yt;if(wi<0||wi===1/0)return;Xe.setup(Ae,ae,pt,we,bt);let Rs,an=st;if(bt!==null&&(Rs=Ne.get(bt),an=Ve,an.setIndex(Rs)),Ae.isMesh)ae.wireframe===!0?(Se.setLineWidth(ae.wireframeLinewidth*oe()),an.setMode(1)):an.setMode(4);else if(Ae.isLine){let Bt=ae.linewidth;Bt===void 0&&(Bt=1),Se.setLineWidth(Bt*oe()),Ae.isLineSegments?an.setMode(1):Ae.isLineLoop?an.setMode(2):an.setMode(3)}else Ae.isPoints?an.setMode(0):Ae.isSprite&&an.setMode(4);if(Ae.isInstancedMesh)an.renderInstances(Yt,wi,Ae.count);else if(we.isInstancedBufferGeometry){const Bt=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,pc=Math.min(we.instanceCount,Bt);an.renderInstances(Yt,wi,pc)}else an.render(Yt,wi)},this.compile=function($,ce){function we(ae,Ae,lt){ae.transparent===!0&&ae.side===hs&&ae.forceSinglePass===!1?(ae.side=Qr,ae.needsUpdate=!0,Ts(ae,Ae,lt),ae.side=Oo,ae.needsUpdate=!0,Ts(ae,Ae,lt),ae.side=hs):Ts(ae,Ae,lt)}y=F.get($),y.init(),x.push(y),$.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ce.layers)&&(y.pushLight(ae),ae.castShadow&&y.pushShadow(ae))}),y.setupLights(g.useLegacyLights),$.traverse(function(ae){const Ae=ae.material;if(Ae)if(Array.isArray(Ae))for(let lt=0;lt<Ae.length;lt++){const ft=Ae[lt];we(ft,$,ae)}else we(Ae,$,ae)}),x.pop(),y=null};let Pe=null;function ze($){Pe&&Pe($)}function tt(){nn.stop()}function Xt(){nn.start()}const nn=new qz;nn.setAnimationLoop(ze),typeof self<"u"&&nn.setContext(self),this.setAnimationLoop=function($){Pe=$,We.setAnimationLoop($),$===null?nn.stop():nn.start()},We.addEventListener("sessionstart",tt),We.addEventListener("sessionend",Xt),this.render=function($,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(ce),ce=We.getCamera()),$.isScene===!0&&$.onBeforeRender(g,$,ce,E),y=F.get($,x.length),y.init(),x.push(y),se.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),U.setFromProjectionMatrix(se),q=this.localClippingEnabled,V=pe.init(this.clippingPlanes,q),m=W.get($,v.length),m.init(),v.push(m),Hn($,ce,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(N,J),V===!0&&pe.beginShadows();const we=y.state.shadowsArray;if(Te.render(we,$,ce),V===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(m,$),y.setupLights(g.useLegacyLights),ce.isArrayCamera){const ae=ce.cameras;for(let Ae=0,lt=ae.length;Ae<lt;Ae++){const ft=ae[Ae];_i(m,$,ft,ft.viewport)}}else _i(m,$,ce);E!==null&&(_e.updateMultisampleRenderTarget(E),_e.updateRenderTargetMipmap(E)),$.isScene===!0&&$.onAfterRender(g,$,ce),Xe.resetDefaultState(),M=-1,R=null,x.pop(),x.length>0?y=x[x.length-1]:y=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function Hn($,ce,we,ae){if($.visible===!1)return;if($.layers.test(ce.layers)){if($.isGroup)we=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ce);else if($.isLight)y.pushLight($),$.castShadow&&y.pushShadow($);else if($.isSprite){if(!$.frustumCulled||U.intersectsSprite($)){ae&&Z.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const ft=Le.update($),pt=$.material;pt.visible&&m.push($,ft,pt,we,Z.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==me.render.frame&&($.skeleton.update(),$.skeleton.frame=me.render.frame),!$.frustumCulled||U.intersectsObject($))){ae&&Z.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const ft=Le.update($),pt=$.material;if(Array.isArray(pt)){const bt=ft.groups;for(let Tt=0,Rt=bt.length;Tt<Rt;Tt++){const It=bt[Tt],Yt=pt[It.materialIndex];Yt&&Yt.visible&&m.push($,ft,Yt,we,Z.z,It)}}else pt.visible&&m.push($,ft,pt,we,Z.z,null)}}const lt=$.children;for(let ft=0,pt=lt.length;ft<pt;ft++)Hn(lt[ft],ce,we,ae)}function _i($,ce,we,ae){const Ae=$.opaque,lt=$.transmissive,ft=$.transparent;y.setupLightsView(we),V===!0&&pe.setGlobalState(g.clippingPlanes,we),lt.length>0&&en(Ae,lt,ce,we),ae&&Se.viewport(B.copy(ae)),Ae.length>0&&or(Ae,ce,we),lt.length>0&&or(lt,ce,we),ft.length>0&&or(ft,ce,we),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function en($,ce,we,ae){if(ee===null){const pt=he.isWebGL2;ee=new $i(1024,1024,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?gs:ka,minFilter:ko,samples:pt&&a===!0?4:0})}const Ae=g.getRenderTarget();g.setRenderTarget(ee),g.clear();const lt=g.toneMapping;g.toneMapping=Qs,or($,we,ae),_e.updateMultisampleRenderTarget(ee),_e.updateRenderTargetMipmap(ee);let ft=!1;for(let pt=0,bt=ce.length;pt<bt;pt++){const Tt=ce[pt],Rt=Tt.object,It=Tt.geometry,Yt=Tt.material,vr=Tt.group;if(Yt.side===hs&&Rt.layers.test(ae.layers)){const wi=Yt.side;Yt.side=Qr,Yt.needsUpdate=!0,Mr(Rt,we,ae,It,Yt,vr),Yt.side=wi,Yt.needsUpdate=!0,ft=!0}}ft===!0&&(_e.updateMultisampleRenderTarget(ee),_e.updateRenderTargetMipmap(ee)),g.setRenderTarget(Ae),g.toneMapping=lt}function or($,ce,we){const ae=ce.isScene===!0?ce.overrideMaterial:null;for(let Ae=0,lt=$.length;Ae<lt;Ae++){const ft=$[Ae],pt=ft.object,bt=ft.geometry,Tt=ae===null?ft.material:ae,Rt=ft.group;pt.layers.test(we.layers)&&Mr(pt,ce,we,bt,Tt,Rt)}}function Mr($,ce,we,ae,Ae,lt){$.onBeforeRender(g,ce,we,ae,Ae,lt),$.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Ae.onBeforeRender(g,ce,we,ae,$,lt),Ae.transparent===!0&&Ae.side===hs&&Ae.forceSinglePass===!1?(Ae.side=Qr,Ae.needsUpdate=!0,g.renderBufferDirect(we,ce,ae,Ae,$,lt),Ae.side=Oo,Ae.needsUpdate=!0,g.renderBufferDirect(we,ce,ae,Ae,$,lt),Ae.side=hs):g.renderBufferDirect(we,ce,ae,Ae,$,lt),$.onAfterRender(g,ce,we,ae,Ae,lt)}function Ts($,ce,we){ce.isScene!==!0&&(ce=de);const ae=fe.get($),Ae=y.state.lights,lt=y.state.shadowsArray,ft=Ae.state.version,pt=$e.getParameters($,Ae.state,lt,ce,we),bt=$e.getProgramCacheKey(pt);let Tt=ae.programs;ae.environment=$.isMeshStandardMaterial?ce.environment:null,ae.fog=ce.fog,ae.envMap=($.isMeshStandardMaterial?Ie:Oe).get($.envMap||ae.environment),Tt===void 0&&($.addEventListener("dispose",Jt),Tt=new Map,ae.programs=Tt);let Rt=Tt.get(bt);if(Rt!==void 0){if(ae.currentProgram===Rt&&ae.lightsStateVersion===ft)return qu($,pt),Rt}else pt.uniforms=$e.getUniforms($),$.onBuild(we,pt,g),$.onBeforeCompile(pt,g),Rt=$e.acquireProgram(pt,bt),Tt.set(bt,Rt),ae.uniforms=pt.uniforms;const It=ae.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(It.clippingPlanes=pe.uniform),qu($,pt),ae.needsLights=R_($),ae.lightsStateVersion=ft,ae.needsLights&&(It.ambientLightColor.value=Ae.state.ambient,It.lightProbe.value=Ae.state.probe,It.directionalLights.value=Ae.state.directional,It.directionalLightShadows.value=Ae.state.directionalShadow,It.spotLights.value=Ae.state.spot,It.spotLightShadows.value=Ae.state.spotShadow,It.rectAreaLights.value=Ae.state.rectArea,It.ltc_1.value=Ae.state.rectAreaLTC1,It.ltc_2.value=Ae.state.rectAreaLTC2,It.pointLights.value=Ae.state.point,It.pointLightShadows.value=Ae.state.pointShadow,It.hemisphereLights.value=Ae.state.hemi,It.directionalShadowMap.value=Ae.state.directionalShadowMap,It.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,It.spotShadowMap.value=Ae.state.spotShadowMap,It.spotLightMatrix.value=Ae.state.spotLightMatrix,It.spotLightMap.value=Ae.state.spotLightMap,It.pointShadowMap.value=Ae.state.pointShadowMap,It.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const Yt=Rt.getUniforms(),vr=gx.seqWithValue(Yt.seq,It);return ae.currentProgram=Rt,ae.uniformsList=vr,Rt}function qu($,ce){const we=fe.get($);we.outputEncoding=ce.outputEncoding,we.instancing=ce.instancing,we.skinning=ce.skinning,we.morphTargets=ce.morphTargets,we.morphNormals=ce.morphNormals,we.morphColors=ce.morphColors,we.morphTargetsCount=ce.morphTargetsCount,we.numClippingPlanes=ce.numClippingPlanes,we.numIntersection=ce.numClipIntersection,we.vertexAlphas=ce.vertexAlphas,we.vertexTangents=ce.vertexTangents,we.toneMapping=ce.toneMapping}function uo($,ce,we,ae,Ae){ce.isScene!==!0&&(ce=de),_e.resetTextureUnits();const lt=ce.fog,ft=ae.isMeshStandardMaterial?ce.environment:null,pt=E===null?g.outputEncoding:E.isXRRenderTarget===!0?E.texture.encoding:no,bt=(ae.isMeshStandardMaterial?Ie:Oe).get(ae.envMap||ft),Tt=ae.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,Rt=!!ae.normalMap&&!!we.attributes.tangent,It=!!we.morphAttributes.position,Yt=!!we.morphAttributes.normal,vr=!!we.morphAttributes.color,wi=ae.toneMapped?g.toneMapping:Qs,Rs=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,an=Rs!==void 0?Rs.length:0,Bt=fe.get(ae),pc=y.state.lights;if(V===!0&&(q===!0||$!==R)){const tn=$===R&&ae.id===M;pe.setState(ae,$,tn)}let zn=!1;ae.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==pc.state.version||Bt.outputEncoding!==pt||Ae.isInstancedMesh&&Bt.instancing===!1||!Ae.isInstancedMesh&&Bt.instancing===!0||Ae.isSkinnedMesh&&Bt.skinning===!1||!Ae.isSkinnedMesh&&Bt.skinning===!0||Bt.envMap!==bt||ae.fog===!0&&Bt.fog!==lt||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==pe.numPlanes||Bt.numIntersection!==pe.numIntersection)||Bt.vertexAlphas!==Tt||Bt.vertexTangents!==Rt||Bt.morphTargets!==It||Bt.morphNormals!==Yt||Bt.morphColors!==vr||Bt.toneMapping!==wi||he.isWebGL2===!0&&Bt.morphTargetsCount!==an)&&(zn=!0):(zn=!0,Bt.__version=ae.version);let Ps=Bt.currentProgram;zn===!0&&(Ps=Ts(ae,ce,Ae));let Wo=!1,ni=!1,qt=!1;const _t=Ps.getUniforms(),Cr=Bt.uniforms;if(Se.useProgram(Ps.program)&&(Wo=!0,ni=!0,qt=!0),ae.id!==M&&(M=ae.id,ni=!0),Wo||R!==$){if(_t.setValue(Q,"projectionMatrix",$.projectionMatrix),he.logarithmicDepthBuffer&&_t.setValue(Q,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),R!==$&&(R=$,ni=!0,qt=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const tn=_t.map.cameraPosition;tn!==void 0&&tn.setValue(Q,Z.setFromMatrixPosition($.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&_t.setValue(Q,"isOrthographic",$.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||Ae.isSkinnedMesh)&&_t.setValue(Q,"viewMatrix",$.matrixWorldInverse)}if(Ae.isSkinnedMesh){_t.setOptional(Q,Ae,"bindMatrix"),_t.setOptional(Q,Ae,"bindMatrixInverse");const tn=Ae.skeleton;tn&&(he.floatVertexTextures?(tn.boneTexture===null&&tn.computeBoneTexture(),_t.setValue(Q,"boneTexture",tn.boneTexture,_e),_t.setValue(Q,"boneTextureSize",tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Gn=we.morphAttributes;if((Gn.position!==void 0||Gn.normal!==void 0||Gn.color!==void 0&&he.isWebGL2===!0)&&Fe.update(Ae,we,Ps),(ni||Bt.receiveShadow!==Ae.receiveShadow)&&(Bt.receiveShadow=Ae.receiveShadow,_t.setValue(Q,"receiveShadow",Ae.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(Cr.envMap.value=bt,Cr.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),ni&&(_t.setValue(Q,"toneMappingExposure",g.toneMappingExposure),Bt.needsLights&&qh(Cr,qt),lt&&ae.fog===!0&&ht.refreshFogUniforms(Cr,lt),ht.refreshMaterialUniforms(Cr,ae,H,z,ee),gx.upload(Q,Bt.uniformsList,Cr,_e)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(gx.upload(Q,Bt.uniformsList,Cr,_e),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&_t.setValue(Q,"center",Ae.center),_t.setValue(Q,"modelViewMatrix",Ae.modelViewMatrix),_t.setValue(Q,"normalMatrix",Ae.normalMatrix),_t.setValue(Q,"modelMatrix",Ae.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const tn=ae.uniformsGroups;for(let Is=0,Qa=tn.length;Is<Qa;Is++)if(he.isWebGL2){const xr=tn[Is];qe.update(xr,Ps),qe.bind(xr,Ps)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ps}function qh($,ce){$.ambientLightColor.needsUpdate=ce,$.lightProbe.needsUpdate=ce,$.directionalLights.needsUpdate=ce,$.directionalLightShadows.needsUpdate=ce,$.pointLights.needsUpdate=ce,$.pointLightShadows.needsUpdate=ce,$.spotLights.needsUpdate=ce,$.spotLightShadows.needsUpdate=ce,$.rectAreaLights.needsUpdate=ce,$.hemisphereLights.needsUpdate=ce}function R_($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function($,ce,we){fe.get($.texture).__webglTexture=ce,fe.get($.depthTexture).__webglTexture=we;const ae=fe.get($);ae.__hasExternalTextures=!0,ae.__hasExternalTextures&&(ae.__autoAllocateDepthBuffer=we===void 0,ae.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ce){const we=fe.get($);we.__webglFramebuffer=ce,we.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function($,ce=0,we=0){E=$,b=ce,S=we;let ae=!0,Ae=null,lt=!1,ft=!1;if($){const bt=fe.get($);bt.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(36160,null),ae=!1):bt.__webglFramebuffer===void 0?_e.setupRenderTarget($):bt.__hasExternalTextures&&_e.rebindTextures($,fe.get($.texture).__webglTexture,fe.get($.depthTexture).__webglTexture);const Tt=$.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(ft=!0);const Rt=fe.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Ae=Rt[ce],lt=!0):he.isWebGL2&&$.samples>0&&_e.useMultisampledRTT($)===!1?Ae=fe.get($).__webglMultisampledFramebuffer:Ae=Rt,B.copy($.viewport),T.copy($.scissor),I=$.scissorTest}else B.copy(X).multiplyScalar(H).floor(),T.copy(Y).multiplyScalar(H).floor(),I=k;if(Se.bindFramebuffer(36160,Ae)&&he.drawBuffers&&ae&&Se.drawBuffers($,Ae),Se.viewport(B),Se.scissor(T),Se.setScissorTest(I),lt){const bt=fe.get($.texture);Q.framebufferTexture2D(36160,36064,34069+ce,bt.__webglTexture,we)}else if(ft){const bt=fe.get($.texture),Tt=ce||0;Q.framebufferTextureLayer(36160,36064,bt.__webglTexture,we||0,Tt)}M=-1},this.readRenderTargetPixels=function($,ce,we,ae,Ae,lt,ft){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=fe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&ft!==void 0&&(pt=pt[ft]),pt){Se.bindFramebuffer(36160,pt);try{const bt=$.texture,Tt=bt.format,Rt=bt.type;if(Tt!==ui&&be.convert(Tt)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const It=Rt===gs&&(ue.has("EXT_color_buffer_half_float")||he.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Rt!==ka&&be.convert(Rt)!==Q.getParameter(35738)&&!(Rt===Li&&(he.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!It){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=$.width-ae&&we>=0&&we<=$.height-Ae&&Q.readPixels(ce,we,ae,Ae,be.convert(Tt),be.convert(Rt),lt)}finally{const bt=E!==null?fe.get(E).__webglFramebuffer:null;Se.bindFramebuffer(36160,bt)}}},this.copyFramebufferToTexture=function($,ce,we=0){const ae=Math.pow(2,-we),Ae=Math.floor(ce.image.width*ae),lt=Math.floor(ce.image.height*ae);_e.setTexture2D(ce,0),Q.copyTexSubImage2D(3553,we,0,0,$.x,$.y,Ae,lt),Se.unbindTexture()},this.copyTextureToTexture=function($,ce,we,ae=0){const Ae=ce.image.width,lt=ce.image.height,ft=be.convert(we.format),pt=be.convert(we.type);_e.setTexture2D(we,0),Q.pixelStorei(37440,we.flipY),Q.pixelStorei(37441,we.premultiplyAlpha),Q.pixelStorei(3317,we.unpackAlignment),ce.isDataTexture?Q.texSubImage2D(3553,ae,$.x,$.y,Ae,lt,ft,pt,ce.image.data):ce.isCompressedTexture?Q.compressedTexSubImage2D(3553,ae,$.x,$.y,ce.mipmaps[0].width,ce.mipmaps[0].height,ft,ce.mipmaps[0].data):Q.texSubImage2D(3553,ae,$.x,$.y,ft,pt,ce.image),ae===0&&we.generateMipmaps&&Q.generateMipmap(3553),Se.unbindTexture()},this.copyTextureToTexture3D=function($,ce,we,ae,Ae=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const lt=$.max.x-$.min.x+1,ft=$.max.y-$.min.y+1,pt=$.max.z-$.min.z+1,bt=be.convert(ae.format),Tt=be.convert(ae.type);let Rt;if(ae.isData3DTexture)_e.setTexture3D(ae,0),Rt=32879;else if(ae.isDataArrayTexture)_e.setTexture2DArray(ae,0),Rt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ae.flipY),Q.pixelStorei(37441,ae.premultiplyAlpha),Q.pixelStorei(3317,ae.unpackAlignment);const It=Q.getParameter(3314),Yt=Q.getParameter(32878),vr=Q.getParameter(3316),wi=Q.getParameter(3315),Rs=Q.getParameter(32877),an=we.isCompressedTexture?we.mipmaps[0]:we.image;Q.pixelStorei(3314,an.width),Q.pixelStorei(32878,an.height),Q.pixelStorei(3316,$.min.x),Q.pixelStorei(3315,$.min.y),Q.pixelStorei(32877,$.min.z),we.isDataTexture||we.isData3DTexture?Q.texSubImage3D(Rt,Ae,ce.x,ce.y,ce.z,lt,ft,pt,bt,Tt,an.data):we.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(Rt,Ae,ce.x,ce.y,ce.z,lt,ft,pt,bt,an.data)):Q.texSubImage3D(Rt,Ae,ce.x,ce.y,ce.z,lt,ft,pt,bt,Tt,an),Q.pixelStorei(3314,It),Q.pixelStorei(32878,Yt),Q.pixelStorei(3316,vr),Q.pixelStorei(3315,wi),Q.pixelStorei(32877,Rs),Ae===0&&ae.generateMipmaps&&Q.generateMipmap(Rt),Se.unbindTexture()},this.initTexture=function($){$.isCubeTexture?_e.setTextureCube($,0):$.isData3DTexture?_e.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?_e.setTexture2DArray($,0):_e.setTexture2D($,0),Se.unbindTexture()},this.resetState=function(){b=0,S=0,E=null,Se.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class oG extends CR{}oG.prototype.isWebGL1Renderer=!0;class w1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ke(e),this.density=t}clone(){return new w1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class S1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ke(e),this.near=t,this.far=r}clone(){return new S1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class ag extends Ht{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Gg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ui()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new G;class Kl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)$r.fromBufferAttribute(this,t),$r.applyMatrix4(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)$r.fromBufferAttribute(this,t),$r.applyNormalMatrix(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)$r.fromBufferAttribute(this,t),$r.transformDirection(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}setX(e,t){return this.normalized&&(t=Ct(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Di(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Di(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Di(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Di(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ct(t,this.array),r=Ct(r,this.array),i=Ct(i,this.array),s=Ct(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TR extends Qn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rf;const Pp=new G,Pf=new G,If=new G,Bf=new Ce,Ip=new Ce,aG=new dt,sv=new G,Bp=new G,ov=new G,$D=new Ce,CS=new Ce,WD=new Ce;class lG extends Ht{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Rf===void 0){Rf=new xt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Gg(t,5);Rf.setIndex([0,1,2,0,2,3]),Rf.setAttribute("position",new Kl(r,3,0,!1)),Rf.setAttribute("uv",new Kl(r,2,3,!1))}this.geometry=Rf,this.material=e!==void 0?e:new TR,this.center=new Ce(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pf.setFromMatrixScale(this.matrixWorld),aG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),If.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pf.multiplyScalar(-If.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;av(sv.set(-.5,-.5,0),If,o,Pf,i,s),av(Bp.set(.5,-.5,0),If,o,Pf,i,s),av(ov.set(.5,.5,0),If,o,Pf,i,s),$D.set(0,0),CS.set(1,0),WD.set(1,1);let a=e.ray.intersectTriangle(sv,Bp,ov,!1,Pp);if(a===null&&(av(Bp.set(-.5,.5,0),If,o,Pf,i,s),CS.set(0,1),a=e.ray.intersectTriangle(sv,ov,Bp,!1,Pp),a===null))return;const l=e.ray.origin.distanceTo(Pp);l<e.near||l>e.far||t.push({distance:l,point:Pp.clone(),uv:ci.getInterpolation(Pp,sv,Bp,ov,$D,CS,WD,new Ce),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function av(n,e,t,r,i,s){Bf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ip.x=s*Bf.x-i*Bf.y,Ip.y=i*Bf.x+s*Bf.y):Ip.copy(Bf),n.copy(e),n.x+=Ip.x,n.y+=Ip.y,n.applyMatrix4(aG)}const lv=new G,jD=new G;class cG extends Ht{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){lv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(lv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lv.setFromMatrixPosition(e.matrixWorld),jD.setFromMatrixPosition(this.matrixWorld);const r=lv.distanceTo(jD)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const JD=new G,KD=new zt,XD=new zt,Kee=new G,YD=new dt,Lf=new G;class RR extends Xn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ms),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Lf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Lf),this.boundingBox.expandByPoint(Lf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Cs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Lf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Lf),this.boundingSphere.expandByPoint(Lf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;KD.fromBufferAttribute(i.attributes.skinIndex,e),XD.fromBufferAttribute(i.attributes.skinWeight,e),JD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=XD.getComponent(s);if(o!==0){const a=KD.getComponent(s);YD.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Kee.copy(JD).applyMatrix4(YD),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class A1 extends Ht{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fd extends wn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Bn,u=Bn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QD=new dt,Xee=new dt;class Vg{constructor(e=[],t=[]){this.uuid=Ui(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new dt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Xee;QD.multiplyMatrices(a,t[s]),QD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Vg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=jz(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Fd(t,e,e,ui,Li);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new A1),this.bones.push(o),this.boneInverses.push(new dt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class oh extends Kt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Df=new dt,qD=new dt,cv=[],ZD=new Ms,Yee=new dt,Lp=new Xn,Dp=new Cs;class uG extends Xn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new oh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Yee)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ms),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Df),ZD.copy(e.boundingBox).applyMatrix4(Df),this.boundingBox.union(ZD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Cs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Df),Dp.copy(e.boundingSphere).applyMatrix4(Df),this.boundingSphere.union(Dp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Lp.geometry=this.geometry,Lp.material=this.material,Lp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dp.copy(this.boundingSphere),Dp.applyMatrix4(r),e.ray.intersectsSphere(Dp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Df),qD.multiplyMatrices(r,Df),Lp.matrixWorld=qD,Lp.raycast(e,cv);for(let o=0,a=cv.length;o<a;o++){const l=cv[o];l.instanceId=s,l.object=this,t.push(l)}cv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new oh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class zr extends Qn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const e3=new G,t3=new G,n3=new dt,TS=new Ug,uv=new Cs;class Na extends Ht{constructor(e=new xt,t=new zr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)e3.fromBufferAttribute(t,i-1),t3.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=e3.distanceTo(t3);e.setAttribute("lineDistance",new Ye(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),uv.copy(r.boundingSphere),uv.applyMatrix4(i),uv.radius+=s,e.ray.intersectsSphere(uv)===!1)return;n3.copy(i).invert(),TS.copy(e.ray).applyMatrix4(n3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new G,u=new G,f=new G,p=new G,m=this.isLineSegments?2:1,y=r.index,x=r.attributes.position;if(y!==null){const g=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=m){const E=y.getX(b),M=y.getX(b+1);if(c.fromBufferAttribute(x,E),u.fromBufferAttribute(x,M),TS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let b=g,S=_-1;b<S;b+=m){if(c.fromBufferAttribute(x,b),u.fromBufferAttribute(x,b+1),TS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||t.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const r3=new G,i3=new G;class io extends Na{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)r3.fromBufferAttribute(t,i),i3.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+r3.distanceTo(i3);e.setAttribute("lineDistance",new Ye(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PR extends Na{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class E1 extends Qn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const s3=new dt,EM=new Ug,fv=new Cs,dv=new G;class IR extends Ht{constructor(e=new xt,t=new E1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),fv.copy(r.boundingSphere),fv.applyMatrix4(i),fv.radius+=s,e.ray.intersectsSphere(fv)===!1)return;s3.copy(i).invert(),EM.copy(e.ray).applyMatrix4(s3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,v=m;y<v;y++){const x=c.getX(y);dv.fromBufferAttribute(f,x),o3(dv,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,v=m;y<v;y++)dv.fromBufferAttribute(f,y),o3(dv,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function o3(n,e,t,r,i,s,o){const a=EM.distanceSqToPoint(n);if(a<t){const l=new G;EM.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Qee extends wn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:yn,this.magFilter=s!==void 0?s:yn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class qee extends wn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Bn,this.minFilter=Bn,this.generateMipmaps=!1,this.needsUpdate=!0}}class BR extends wn{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Zee extends BR{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=wr}}class ete extends wn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class so{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Ce:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new G,i=[],s=[],o=[],a=new G,l=new dt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new G)}s[0]=new G,o[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Ln(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Ln(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class M1 extends so{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Ce,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class fG extends M1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function LR(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const hv=new G,RS=new LR,PS=new LR,IS=new LR;class dG extends so{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new G){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(hv.subVectors(i[0],i[1]).add(i[0]),c=hv);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(hv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=hv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(u),m);v<1e-4&&(v=1),y<1e-4&&(y=v),x<1e-4&&(x=v),RS.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,y,v,x),PS.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,y,v,x),IS.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,y,v,x)}else this.curveType==="catmullrom"&&(RS.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),PS.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),IS.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(RS.calc(l),PS.calc(l),IS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function a3(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function tte(n,e){const t=1-n;return t*t*e}function nte(n,e){return 2*(1-n)*n*e}function rte(n,e){return n*n*e}function Am(n,e,t,r){return tte(n,e)+nte(n,t)+rte(n,r)}function ite(n,e){const t=1-n;return t*t*t*e}function ste(n,e){const t=1-n;return 3*t*t*n*e}function ote(n,e){return 3*(1-n)*n*n*e}function ate(n,e){return n*n*n*e}function Em(n,e,t,r,i){return ite(n,e)+ste(n,t)+ote(n,r)+ate(n,i)}class DR extends so{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Em(e,i.x,s.x,o.x,a.x),Em(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hG extends so{constructor(e=new G,t=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new G){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Em(e,i.x,s.x,o.x,a.x),Em(e,i.y,s.y,o.y,a.y),Em(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class C1 extends so{constructor(e=new Ce,t=new Ce){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pG extends so{constructor(e=new G,t=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new G){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new G){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OR extends so{constructor(e=new Ce,t=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Am(e,i.x,s.x,o.x),Am(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kR extends so{constructor(e=new G,t=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new G){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Am(e,i.x,s.x,o.x),Am(e,i.y,s.y,o.y),Am(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NR extends so{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ce){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(a3(a,l.x,c.x,u.x,f.x),a3(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ce().fromArray(i))}return this}}var FR=Object.freeze({__proto__:null,ArcCurve:fG,CatmullRomCurve3:dG,CubicBezierCurve:DR,CubicBezierCurve3:hG,EllipseCurve:M1,LineCurve:C1,LineCurve3:pG,QuadraticBezierCurve:OR,QuadraticBezierCurve3:kR,SplineCurve:NR});class mG extends so{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new C1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new FR[i.type]().fromJSON(i))}return this}}class lg extends mG{constructor(e){super(),this.type="Path",this.currentPoint=new Ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new C1(this.currentPoint.clone(),new Ce(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new OR(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new DR(this.currentPoint.clone(),new Ce(e,t),new Ce(r,i),new Ce(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new NR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new M1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ih extends xt{constructor(e=[new Ce(0,-.5),new Ce(.5,0),new Ce(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Ln(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new G,p=new Ce,m=new G,y=new G,v=new G;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(y)}for(let _=0;_<=t;_++){const b=r+_*u*i,S=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*S,f.y=e[M].y,f.z=e[M].x*E,o.push(f.x,f.y,f.z),p.x=_/t,p.y=M/(e.length-1),a.push(p.x,p.y);const R=l[3*M+0]*S,B=l[3*M+1],T=l[3*M+0]*E;c.push(R,B,T)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,E=S,M=S+e.length,R=S+e.length+1,B=S+1;s.push(E,M,B),s.push(R,B,M)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2)),this.setAttribute("normal",new Ye(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ih(e.points,e.segments,e.phiStart,e.phiLength)}}class $g extends Ih{constructor(e=1,t=1,r=4,i=8){const s=new lg;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new $g(e.radius,e.length,e.capSegments,e.radialSegments)}}class Wg extends xt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new G,u=new Ce;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wg(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nu extends xt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let y=0;const v=[],x=r/2;let g=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Ye(f,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function _(){const S=new G,E=new G;let M=0;const R=(t-e)/r;for(let B=0;B<=s;B++){const T=[],I=B/s,O=I*(t-e)+e;for(let z=0;z<=i;z++){const H=z/i,N=H*l+a,J=Math.sin(N),X=Math.cos(N);E.x=O*J,E.y=-I*r+x,E.z=O*X,f.push(E.x,E.y,E.z),S.set(J,R,X).normalize(),p.push(S.x,S.y,S.z),m.push(H,1-I),T.push(y++)}v.push(T)}for(let B=0;B<i;B++)for(let T=0;T<s;T++){const I=v[T][B],O=v[T+1][B],z=v[T+1][B+1],H=v[T][B+1];u.push(I,O,H),u.push(O,z,H),M+=6}c.addGroup(g,M,0),g+=M}function b(S){const E=y,M=new Ce,R=new G;let B=0;const T=S===!0?e:t,I=S===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),y++;const O=y;for(let z=0;z<=i;z++){const N=z/i*l+a,J=Math.cos(N),X=Math.sin(N);R.x=T*X,R.y=x*I,R.z=T*J,f.push(R.x,R.y,R.z),p.push(0,I,0),M.x=J*.5+.5,M.y=X*.5*I+.5,m.push(M.x,M.y),y++}for(let z=0;z<i;z++){const H=E+z,N=O+z;S===!0?u.push(N,N+1,H):u.push(N+1,N,H),B+=3}c.addGroup(g,B,S===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jg extends Nu{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new jg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wa extends xt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(s.slice(),3)),this.setAttribute("uv",new Ye(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new G,S=new G,E=new G;for(let M=0;M<t.length;M+=3)m(t[M+0],b),m(t[M+1],S),m(t[M+2],E),l(b,S,E,_)}function l(_,b,S,E){const M=E+1,R=[];for(let B=0;B<=M;B++){R[B]=[];const T=_.clone().lerp(S,B/M),I=b.clone().lerp(S,B/M),O=M-B;for(let z=0;z<=O;z++)z===0&&B===M?R[B][z]=T:R[B][z]=T.clone().lerp(I,z/O)}for(let B=0;B<M;B++)for(let T=0;T<2*(M-B)-1;T++){const I=Math.floor(T/2);T%2===0?(p(R[B][I+1]),p(R[B+1][I]),p(R[B][I])):(p(R[B][I+1]),p(R[B+1][I+1]),p(R[B+1][I]))}}function c(_){const b=new G;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(_),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function u(){const _=new G;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const S=x(_)/2/Math.PI+.5,E=g(_)/Math.PI+.5;o.push(S,1-E)}y(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],S=o[_+2],E=o[_+4],M=Math.max(b,S,E),R=Math.min(b,S,E);M>.9&&R<.1&&(b<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function y(){const _=new G,b=new G,S=new G,E=new G,M=new Ce,R=new Ce,B=new Ce;for(let T=0,I=0;T<s.length;T+=9,I+=6){_.set(s[T+0],s[T+1],s[T+2]),b.set(s[T+3],s[T+4],s[T+5]),S.set(s[T+6],s[T+7],s[T+8]),M.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),B.set(o[I+4],o[I+5]),E.copy(_).add(b).add(S).divideScalar(3);const O=x(E);v(M,I+0,_,O),v(R,I+2,b,O),v(B,I+4,S,O)}}function v(_,b,S,E){E<0&&_.x===1&&(o[b]=_.x-1),S.x===0&&S.z===0&&(o[b]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wa(e.vertices,e.indices,e.radius,e.details)}}class Jg extends Wa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jg(e.radius,e.detail)}}const pv=new G,mv=new G,BS=new G,gv=new ci;class gG extends xt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(du*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:v,b:x,c:g}=gv;if(v.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),gv.getNormal(BS),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=f[_],E=f[b],M=gv[u[_]],R=gv[u[b]],B=`${S}_${E}`,T=`${E}_${S}`;T in p&&p[T]?(BS.dot(p[T].normal)<=s&&(m.push(M.x,M.y,M.z),m.push(R.x,R.y,R.z)),p[T]=null):B in p||(p[B]={index0:c[_],index1:c[b],normal:BS.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:x}=p[y];pv.fromBufferAttribute(a,v),mv.fromBufferAttribute(a,x),m.push(pv.x,pv.y,pv.z),m.push(mv.x,mv.y,mv.z)}this.setAttribute("position",new Ye(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class pu extends lg{constructor(e){super(e),this.uuid=Ui(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new lg().fromJSON(i))}return this}}const lte={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=yG(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=hte(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<i;y+=t)f=n[y],p=n[y+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return cg(s,o,t,a,l,m,0),o}};function yG(n,e,t,r,i){let s,o;if(i===Ate(n,e,t,r)>0)for(s=e;s<t;s+=r)o=l3(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=l3(s,n[s],n[s+1],o);return o&&T1(o,o.next)&&(fg(o),o=o.next),o}function Eu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(T1(t,t.next)||En(t.prev,t,t.next)===0)){if(fg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function cg(n,e,t,r,i,s,o){if(!n)return;!o&&s&&vte(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?ute(n,r,i,s):cte(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),fg(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=fte(Eu(n),e,t),cg(n,e,t,r,i,s,2)):o===2&&dte(n,e,t,r,i,s):cg(Eu(n),e,t,r,i,s,1);break}}}function cte(n){const e=n.prev,t=n,r=n.next;if(En(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=f&&y.y<=m&&_d(i,a,s,l,o,c,y.x,y.y)&&En(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function ute(n,e,t,r){const i=n.prev,s=n,o=n.next;if(En(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<f?u<p?u:p:f<p?f:p,v=a>l?a>c?a:c:l>c?l:c,x=u>f?u>p?u:p:f>p?f:p,g=MM(m,y,e,t,r),_=MM(v,x,e,t,r);let b=n.prevZ,S=n.nextZ;for(;b&&b.z>=g&&S&&S.z<=_;){if(b.x>=m&&b.x<=v&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&_d(a,u,l,f,c,p,b.x,b.y)&&En(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=m&&S.x<=v&&S.y>=y&&S.y<=x&&S!==i&&S!==o&&_d(a,u,l,f,c,p,S.x,S.y)&&En(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=g;){if(b.x>=m&&b.x<=v&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&_d(a,u,l,f,c,p,b.x,b.y)&&En(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=v&&S.y>=y&&S.y<=x&&S!==i&&S!==o&&_d(a,u,l,f,c,p,S.x,S.y)&&En(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function fte(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!T1(i,s)&&vG(i,r,r.next,s)&&ug(i,s)&&ug(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),fg(r),fg(r.next),r=n=s),r=r.next}while(r!==n);return Eu(r)}function dte(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&_te(o,a)){let l=xG(o,a);o=Eu(o,o.next),l=Eu(l,l.next),cg(o,e,t,r,i,s,0),cg(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function hte(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=yG(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(bte(c));for(i.sort(pte),s=0;s<i.length;s++)t=mte(i[s],t);return t}function pte(n,e){return n.x-e.x}function mte(n,e){const t=gte(n,e);if(!t)return e;const r=xG(t,n);return Eu(r,r.next),Eu(t,t.next)}function gte(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&_d(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),ug(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&yte(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function yte(n,e){return En(n.prev,n,e.prev)<0&&En(e.next,n,n.next)<0}function vte(n,e,t,r){let i=n;do i.z===0&&(i.z=MM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,xte(i)}function xte(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function MM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function bte(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function _d(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function _te(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!wte(n,e)&&(ug(n,e)&&ug(e,n)&&Ste(n,e)&&(En(n.prev,n,e.prev)||En(n,e.prev,e))||T1(n,e)&&En(n.prev,n,n.next)>0&&En(e.prev,e,e.next)>0)}function En(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function T1(n,e){return n.x===e.x&&n.y===e.y}function vG(n,e,t,r){const i=vv(En(n,e,t)),s=vv(En(n,e,r)),o=vv(En(t,r,n)),a=vv(En(t,r,e));return!!(i!==s&&o!==a||i===0&&yv(n,t,e)||s===0&&yv(n,r,e)||o===0&&yv(t,n,r)||a===0&&yv(t,e,r))}function yv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vv(n){return n>0?1:n<0?-1:0}function wte(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&vG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ug(n,e){return En(n.prev,n,n.next)<0?En(n,e,n.next)>=0&&En(n,n.prev,e)>=0:En(n,e,n.prev)<0||En(n,n.next,e)<0}function Ste(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function xG(n,e){const t=new CM(n.i,n.x,n.y),r=new CM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function l3(n,e,t,r){const i=new CM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function fg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function CM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ate(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Co{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Co.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];c3(e),u3(r,e);let o=e.length;t.forEach(c3);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,u3(r,t[l]);const a=lte.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function c3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function u3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Kg extends xt{constructor(e=new pu([new Ce(.5,.5),new Ce(-.5,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ye(i,3)),this.setAttribute("uv",new Ye(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Ete;let b,S=!1,E,M,R,B;g&&(b=g.getSpacedPoints(u),S=!0,p=!1,E=g.computeFrenetFrames(u,!1),M=new G,R=new G,B=new G),p||(x=0,m=0,y=0,v=0);const T=a.extractPoints(c);let I=T.shape;const O=T.holes;if(!Co.isClockWise(I)){I=I.reverse();for(let me=0,fe=O.length;me<fe;me++){const _e=O[me];Co.isClockWise(_e)&&(O[me]=_e.reverse())}}const H=Co.triangulateShape(I,O),N=I;for(let me=0,fe=O.length;me<fe;me++){const _e=O[me];I=I.concat(_e)}function J(me,fe,_e){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(fe,_e)}const X=I.length,Y=H.length;function k(me,fe,_e){let Oe,Ie,Ne;const Ee=me.x-fe.x,Le=me.y-fe.y,$e=_e.x-me.x,ht=_e.y-me.y,W=Ee*Ee+Le*Le,F=Ee*ht-Le*$e;if(Math.abs(F)>Number.EPSILON){const pe=Math.sqrt(W),Te=Math.sqrt($e*$e+ht*ht),Re=fe.x-Le/pe,Fe=fe.y+Ee/pe,st=_e.x-ht/Te,Ve=_e.y+$e/Te,be=((st-Re)*ht-(Ve-Fe)*$e)/(Ee*ht-Le*$e);Oe=Re+Ee*be-me.x,Ie=Fe+Le*be-me.y;const Xe=Oe*Oe+Ie*Ie;if(Xe<=2)return new Ce(Oe,Ie);Ne=Math.sqrt(Xe/2)}else{let pe=!1;Ee>Number.EPSILON?$e>Number.EPSILON&&(pe=!0):Ee<-Number.EPSILON?$e<-Number.EPSILON&&(pe=!0):Math.sign(Le)===Math.sign(ht)&&(pe=!0),pe?(Oe=-Le,Ie=Ee,Ne=Math.sqrt(W)):(Oe=Ee,Ie=Le,Ne=Math.sqrt(W/2))}return new Ce(Oe/Ne,Ie/Ne)}const U=[];for(let me=0,fe=N.length,_e=fe-1,Oe=me+1;me<fe;me++,_e++,Oe++)_e===fe&&(_e=0),Oe===fe&&(Oe=0),U[me]=k(N[me],N[_e],N[Oe]);const V=[];let q,ee=U.concat();for(let me=0,fe=O.length;me<fe;me++){const _e=O[me];q=[];for(let Oe=0,Ie=_e.length,Ne=Ie-1,Ee=Oe+1;Oe<Ie;Oe++,Ne++,Ee++)Ne===Ie&&(Ne=0),Ee===Ie&&(Ee=0),q[Oe]=k(_e[Oe],_e[Ne],_e[Ee]);V.push(q),ee=ee.concat(q)}for(let me=0;me<x;me++){const fe=me/x,_e=m*Math.cos(fe*Math.PI/2),Oe=y*Math.sin(fe*Math.PI/2)+v;for(let Ie=0,Ne=N.length;Ie<Ne;Ie++){const Ee=J(N[Ie],U[Ie],Oe);Q(Ee.x,Ee.y,-_e)}for(let Ie=0,Ne=O.length;Ie<Ne;Ie++){const Ee=O[Ie];q=V[Ie];for(let Le=0,$e=Ee.length;Le<$e;Le++){const ht=J(Ee[Le],q[Le],Oe);Q(ht.x,ht.y,-_e)}}}const se=y+v;for(let me=0;me<X;me++){const fe=p?J(I[me],ee[me],se):I[me];S?(R.copy(E.normals[0]).multiplyScalar(fe.x),M.copy(E.binormals[0]).multiplyScalar(fe.y),B.copy(b[0]).add(R).add(M),Q(B.x,B.y,B.z)):Q(fe.x,fe.y,0)}for(let me=1;me<=u;me++)for(let fe=0;fe<X;fe++){const _e=p?J(I[fe],ee[fe],se):I[fe];S?(R.copy(E.normals[me]).multiplyScalar(_e.x),M.copy(E.binormals[me]).multiplyScalar(_e.y),B.copy(b[me]).add(R).add(M),Q(B.x,B.y,B.z)):Q(_e.x,_e.y,f/u*me)}for(let me=x-1;me>=0;me--){const fe=me/x,_e=m*Math.cos(fe*Math.PI/2),Oe=y*Math.sin(fe*Math.PI/2)+v;for(let Ie=0,Ne=N.length;Ie<Ne;Ie++){const Ee=J(N[Ie],U[Ie],Oe);Q(Ee.x,Ee.y,f+_e)}for(let Ie=0,Ne=O.length;Ie<Ne;Ie++){const Ee=O[Ie];q=V[Ie];for(let Le=0,$e=Ee.length;Le<$e;Le++){const ht=J(Ee[Le],q[Le],Oe);S?Q(ht.x,ht.y+b[u-1].y,b[u-1].x+_e):Q(ht.x,ht.y,f+_e)}}}Z(),de();function Z(){const me=i.length/3;if(p){let fe=0,_e=X*fe;for(let Oe=0;Oe<Y;Oe++){const Ie=H[Oe];Me(Ie[2]+_e,Ie[1]+_e,Ie[0]+_e)}fe=u+x*2,_e=X*fe;for(let Oe=0;Oe<Y;Oe++){const Ie=H[Oe];Me(Ie[0]+_e,Ie[1]+_e,Ie[2]+_e)}}else{for(let fe=0;fe<Y;fe++){const _e=H[fe];Me(_e[2],_e[1],_e[0])}for(let fe=0;fe<Y;fe++){const _e=H[fe];Me(_e[0]+X*u,_e[1]+X*u,_e[2]+X*u)}}r.addGroup(me,i.length/3-me,0)}function de(){const me=i.length/3;let fe=0;oe(N,fe),fe+=N.length;for(let _e=0,Oe=O.length;_e<Oe;_e++){const Ie=O[_e];oe(Ie,fe),fe+=Ie.length}r.addGroup(me,i.length/3-me,1)}function oe(me,fe){let _e=me.length;for(;--_e>=0;){const Oe=_e;let Ie=_e-1;Ie<0&&(Ie=me.length-1);for(let Ne=0,Ee=u+x*2;Ne<Ee;Ne++){const Le=X*Ne,$e=X*(Ne+1),ht=fe+Oe+Le,W=fe+Ie+Le,F=fe+Ie+$e,pe=fe+Oe+$e;ue(ht,W,F,pe)}}}function Q(me,fe,_e){l.push(me),l.push(fe),l.push(_e)}function Me(me,fe,_e){he(me),he(fe),he(_e);const Oe=i.length/3,Ie=_.generateTopUV(r,i,Oe-3,Oe-2,Oe-1);Se(Ie[0]),Se(Ie[1]),Se(Ie[2])}function ue(me,fe,_e,Oe){he(me),he(fe),he(Oe),he(fe),he(_e),he(Oe);const Ie=i.length/3,Ne=_.generateSideWallUV(r,i,Ie-6,Ie-3,Ie-2,Ie-1);Se(Ne[0]),Se(Ne[1]),Se(Ne[3]),Se(Ne[1]),Se(Ne[2]),Se(Ne[3])}function he(me){i.push(l[me*3+0]),i.push(l[me*3+1]),i.push(l[me*3+2])}function Se(me){s.push(me.x),s.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Mte(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new FR[i.type]().fromJSON(i)),new Kg(r,e.options)}}const Ete={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ce(s,o),new Ce(a,l),new Ce(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],v=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ce(o,1-l),new Ce(c,1-f),new Ce(p,1-y),new Ce(v,1-g)]:[new Ce(a,1-l),new Ce(u,1-f),new Ce(m,1-y),new Ce(x,1-g)]}};function Mte(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Bh extends Wa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bh(e.radius,e.detail)}}class Lh extends Wa{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lh(e.radius,e.detail)}}class Xg extends xt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new G,y=new Ce;for(let v=0;v<=i;v++){for(let x=0;x<=r;x++){const g=s+x/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}f+=p}for(let v=0;v<i;v++){const x=v*(r+1);for(let g=0;g<r;g++){const _=g+x,b=_,S=_+r+1,E=_+r+2,M=_+1;a.push(b,S,M),a.push(S,E,M)}}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Yg extends xt{constructor(e=new pu([new Ce(0,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ye(i,3)),this.setAttribute("normal",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;Co.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=y.length;x<g;x++){const _=y[x];Co.isClockWise(_)===!0&&(y[x]=_.reverse())}const v=Co.triangulateShape(m,y);for(let x=0,g=y.length;x<g;x++){const _=y[x];m=m.concat(_)}for(let x=0,g=m.length;x<g;x++){const _=m[x];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,g=v.length;x<g;x++){const _=v[x],b=_[0]+f,S=_[1]+f,E=_[2]+f;r.push(b,S,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Cte(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Yg(r,e.curveSegments)}}function Cte(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Dh extends xt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new G,p=new G,m=[],y=[],v=[],x=[];for(let g=0;g<=r;g++){const _=[],b=g/r;let S=0;g===0&&o===0?S=.5/t:g===r&&l===Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const M=E/t;f.x=-e*Math.cos(i+M*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+M*s)*Math.sin(o+b*a),y.push(f.x,f.y,f.z),p.copy(f).normalize(),v.push(p.x,p.y,p.z),x.push(M+S,1-b),_.push(c++)}u.push(_)}for(let g=0;g<r;g++)for(let _=0;_<t;_++){const b=u[g][_+1],S=u[g][_],E=u[g+1][_],M=u[g+1][_+1];(g!==0||o>0)&&m.push(b,S,M),(g!==r-1||l<Math.PI)&&m.push(S,E,M)}this.setIndex(m),this.setAttribute("position",new Ye(y,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Qg extends Wa{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qg(e.radius,e.detail)}}class qg extends xt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new G,f=new G,p=new G;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const v=y/i*s,x=m/r*Math.PI*2;f.x=(e+t*Math.cos(x))*Math.cos(v),f.y=(e+t*Math.cos(x))*Math.sin(v),f.z=t*Math.sin(x),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const v=(i+1)*m+y-1,x=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,_=(i+1)*m+y;o.push(v,x,_),o.push(x,g,_)}this.setIndex(o),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(l,3)),this.setAttribute("uv",new Ye(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Zg extends xt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new G,p=new G,m=new G,y=new G,v=new G,x=new G,g=new G;for(let b=0;b<=r;++b){const S=b/r*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,y),x.subVectors(y,m),g.addVectors(y,m),v.crossVectors(x,g),g.crossVectors(v,x),v.normalize(),g.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,R=-t*Math.cos(M),B=t*Math.sin(M);f.x=m.x+(R*g.x+B*v.x),f.y=m.y+(R*g.y+B*v.y),f.z=m.z+(R*g.z+B*v.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(E/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),R=(i+1)*b+S,B=(i+1)*(b-1)+S;a.push(E,M,B),a.push(M,R,B)}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2));function _(b,S,E,M,R){const B=Math.cos(b),T=Math.sin(b),I=E/S*b,O=Math.cos(I);R.x=M*(2+O)*.5*B,R.y=M*(2+O)*T*.5,R.z=M*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class e0 extends xt{constructor(e=new kR(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,c=new Ce;let u=new G;const f=[],p=[],m=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new Ye(f,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function v(){for(let b=0;b<t;b++)x(b);x(s===!1?t:0),_(),g()}function x(b){u=e.getPointAt(b/t,u);const S=o.normals[b],E=o.binormals[b];for(let M=0;M<=i;M++){const R=M/i*Math.PI*2,B=Math.sin(R),T=-Math.cos(R);l.x=T*S.x+B*E.x,l.y=T*S.y+B*E.y,l.z=T*S.z+B*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let b=1;b<=t;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),R=(i+1)*b+S,B=(i+1)*(b-1)+S;y.push(E,M,B),y.push(M,R,B)}}function _(){for(let b=0;b<=t;b++)for(let S=0;S<=i;S++)c.x=b/t,c.y=S/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new e0(new FR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class bG extends xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let y=p,v=p+m;y<v;y+=3)for(let x=0;x<3;x++){const g=a.getX(y+x),_=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),f3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),f3(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ye(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function f3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var d3=Object.freeze({__proto__:null,BoxGeometry:lc,CapsuleGeometry:$g,CircleGeometry:Wg,ConeGeometry:jg,CylinderGeometry:Nu,DodecahedronGeometry:Jg,EdgesGeometry:gG,ExtrudeGeometry:Kg,IcosahedronGeometry:Bh,LatheGeometry:Ih,OctahedronGeometry:Lh,PlaneGeometry:Th,PolyhedronGeometry:Wa,RingGeometry:Xg,ShapeGeometry:Yg,SphereGeometry:Dh,TetrahedronGeometry:Qg,TorusGeometry:qg,TorusKnotGeometry:Zg,TubeGeometry:e0,WireframeGeometry:bG});class _G extends Qn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class wG extends Ss{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Oh extends Qn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ja extends Oh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class SG extends Qn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AG extends Qn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class EG extends Qn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class UR extends Qn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Fg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MG extends Qn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Va,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CG extends zr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function us(n,e,t){return HR(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function nu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function HR(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function TG(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function TM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function zR(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Tte(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*i;if(!(y<t||y>=r)){f.push(c.times[m]);for(let v=0;v<u;++v)p.push(c.values[m*u+v])}}f.length!==0&&(c.times=nu(f,c.times.constructor),c.values=nu(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Rte(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const g=u,_=f-u;v=us(a.values,g,_)}else if(s>=a.times[y]){const g=y*f+u,_=g+f-u;v=us(a.values,g,_)}else{const g=a.createInterpolant(),_=u,b=f-u;g.evaluate(s),v=us(g.resultBuffer,_,b)}l==="quaternion"&&new yr().fromArray(v).normalize().conjugate().toArray(v);const x=c.times.length;for(let g=0;g<x;++g){const _=g*m+p;if(l==="quaternion")yr.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const b=m-p*2;for(let S=0;S<b;++S)c.values[_+S]-=v[S]}}}return n.blendMode=pR,n}const Pte={arraySlice:us,convertArray:nu,isTypedArray:HR,getKeyframeOrder:TG,sortedArray:TM,flattenJSON:zR,subclip:Tte,makeClipAdditive:Rte};class kh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class RG extends kh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zc,endingEnd:Zc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case eu:s=e,a=2*t-r;break;case ig:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case eu:o=e,l=2*r-t;break;case ig:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),v=y*y,x=v*y,g=-p*x+2*p*v-p*y,_=(1+p)*x+(-1.5-2*p)*v+(-.5+p)*y+1,b=(-1-m)*x+(1.5+m)*v+.5*y,S=m*x-m*v;for(let E=0;E!==a;++E)s[E]=g*o[u+E]+_*o[c+E]+b*o[l+E]+S*o[f+E];return s}}class GR extends kh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class PG extends kh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class oo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=nu(t,this.TimeBufferType),this.values=nu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:nu(e.times,Array),values:nu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new PG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new GR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new RG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nh:t=this.InterpolantFactoryMethodDiscrete;break;case Au:t=this.InterpolantFactoryMethodLinear;break;case px:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nh;case this.InterpolantFactoryMethodLinear:return Au;case this.InterpolantFactoryMethodSmooth:return px}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=us(r,s,o),this.values=us(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&HR(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=us(this.times),t=us(this.values),r=this.getValueSize(),i=this.getInterpolation()===px,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let y=0;y!==r;++y){const v=t[f+y];if(v!==t[p+y]||v!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=us(e,0,o),this.values=us(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=us(this.times,0),t=us(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}oo.prototype.TimeBufferType=Float32Array;oo.prototype.ValueBufferType=Float32Array;oo.prototype.DefaultInterpolation=Au;class Fu extends oo{}Fu.prototype.ValueTypeName="bool";Fu.prototype.ValueBufferType=Array;Fu.prototype.DefaultInterpolation=nh;Fu.prototype.InterpolantFactoryMethodLinear=void 0;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class VR extends oo{}VR.prototype.ValueTypeName="color";class ah extends oo{}ah.prototype.ValueTypeName="number";class IG extends kh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)yr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Xl extends oo{InterpolantFactoryMethodLinear(e){return new IG(this.times,this.values,this.getValueSize(),e)}}Xl.prototype.ValueTypeName="quaternion";Xl.prototype.DefaultInterpolation=Au;Xl.prototype.InterpolantFactoryMethodSmooth=void 0;class Uu extends oo{}Uu.prototype.ValueTypeName="string";Uu.prototype.ValueBufferType=Array;Uu.prototype.DefaultInterpolation=nh;Uu.prototype.InterpolantFactoryMethodLinear=void 0;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;class lh extends oo{}lh.prototype.ValueTypeName="vector";class ch{constructor(e,t=-1,r,i=v1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ui(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Bte(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(oo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=TG(l);l=TM(l,1,u),c=TM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ah(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,y,v){if(m.length!==0){const x=[],g=[];zR(m,x,g,y),x.length!==0&&v.push(new f(p,x,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)m[p[y].morphTargets[v]]=-1;for(const v in m){const x=[],g=[];for(let _=0;_!==p[y].morphTargets.length;++_){const b=p[y];x.push(b.time),g.push(b.morphTarget===v?1:0)}i.push(new ah(".morphTargetInfluence["+v+"]",x,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(lh,m+".position",p,"pos",i),r(Xl,m+".quaternion",p,"rot",i),r(lh,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ite(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ah;case"vector":case"vector2":case"vector3":case"vector4":return lh;case"color":return VR;case"quaternion":return Xl;case"bool":case"boolean":return Fu;case"string":return Uu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Bte(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ite(n.type);if(n.times===void 0){const t=[],r=[];zR(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Mu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class $R{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],y=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const BG=new $R;class ti{constructor(e){this.manager=e!==void 0?e:BG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ia={};class Lte extends Error{constructor(e,t){super(e),this.response=t}}class Wi extends ti{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Mu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ia[e]!==void 0){ia[e].push({onLoad:t,onProgress:r,onError:i});return}ia[e]=[],ia[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ia[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let v=0;const x=new ReadableStream({start(g){_();function _(){f.read().then(({done:b,value:S})=>{if(b)g.close();else{v+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:m});for(let M=0,R=u.length;M<R;M++){const B=u[M];B.onProgress&&B.onProgress(E)}g.enqueue(S),_()}})}}});return new Response(x)}else throw new Lte(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Mu.add(e,c);const u=ia[e];delete ia[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ia[e];if(u===void 0)throw this.manager.itemError(e),c;delete ia[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Dte extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Wi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=ch.parse(e[r]);t.push(i)}return t}}class Ote extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new BR,l=new Wi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=yn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=yn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class dg extends ti{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=og("img");function l(){u(),Mu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class LG extends ti{constructor(e){super(e)}load(e,t,r,i){const s=new zg,o=new dg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class DG extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Fd,a=new Wi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:wr,o.wrapT=c.wrapT!==void 0?c.wrapT:wr,o.magFilter=c.magFilter!==void 0?c.magFilter:yn,o.minFilter=c.minFilter!==void 0?c.minFilter:yn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ko),c.mipmapCount===1&&(o.minFilter=yn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class t0 extends ti{constructor(e){super(e)}load(e,t,r,i){const s=new wn,o=new dg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class cc extends Ht{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class OG extends cc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const LS=new dt,h3=new G,p3=new G;class WR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new b1,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;h3.setFromMatrixPosition(e.matrixWorld),t.position.copy(h3),p3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(p3),t.updateMatrixWorld(),LS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(LS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class kte extends WR{constructor(){super(new tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=ih*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jR extends cc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new kte}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const m3=new dt,Op=new G,DS=new G;class Nte extends WR{constructor(){super(new tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Op.setFromMatrixPosition(e.matrixWorld),r.position.copy(Op),DS.copy(r.position),DS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(DS),r.updateMatrixWorld(),i.makeTranslation(-Op.x,-Op.y,-Op.z),m3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m3)}}class JR extends cc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Nte}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Fte extends WR{constructor(){super(new Rh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class KR extends cc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.shadow=new Fte}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kG extends cc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class NG extends cc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class FG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class R1 extends cc{constructor(e=new FG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class P1 extends ti{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Wi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=P1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ce().fromArray(o.value);break;case"v3":i.uniforms[s].value=new G().fromArray(o.value);break;case"v4":i.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Dt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new dt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ce().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ce().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:_G,SpriteMaterial:TR,RawShaderMaterial:wG,ShaderMaterial:Ss,PointsMaterial:E1,MeshPhysicalMaterial:ja,MeshStandardMaterial:Oh,MeshPhongMaterial:SG,MeshToonMaterial:AG,MeshNormalMaterial:EG,MeshLambertMaterial:UR,MeshDepthMaterial:ER,MeshDistanceMaterial:MR,MeshBasicMaterial:Oi,MeshMatcapMaterial:MG,LineDashedMaterial:CG,LineBasicMaterial:zr,Material:Qn};return new t[e]}}class To{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class UG extends xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class HG extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Wi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],g=s(m,x.buffer),_=xd(x.type,g),b=new Gg(_,x.stride);return b.uuid=x.uuid,t[y]=b,b}function s(m,y){if(r[y]!==void 0)return r[y];const x=m.arrayBuffers[y],g=new Uint32Array(x).buffer;return r[y]=g,g}const o=e.isInstancedBufferGeometry?new UG:new xt,a=e.data.index;if(a!==void 0){const m=xd(a.type,a.array);o.setIndex(new Kt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let v;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);v=new Kl(x,y.itemSize,y.offset,y.normalized)}else{const x=xd(y.type,y.array),g=y.isInstancedBufferAttribute?oh:Kt;v=new g(x,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],v=[];for(let x=0,g=y.length;x<g;x++){const _=y[x];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new Kl(S,_.itemSize,_.offset,_.normalized)}else{const S=xd(_.type,_.array);b=new Kt(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),v.push(b)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new G;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Cs(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Ute extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?To.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Wi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?To.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Wi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new pu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Vg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new HG;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in d3?a=d3[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new P1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ch.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:xd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new $R(t);s=new dg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Fd(g.data,g.width,g.height)))}i[f.uuid]=new tu(m)}else{const m=a(f.url);i[f.uuid]=new tu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:xd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new dg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new Fd(y.data,y.width,y.height)))}r[l.uuid]=new tu(u)}else{const u=await s(l.url);r[l.uuid]=new tu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new zg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Fd:u=new wn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Hte)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],g3),u.wrapT=r(a.wrap[1],g3)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,y3)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,y3)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new ag,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new S1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new w1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new kG(e.color,e.intensity);break;case"DirectionalLight":o=new KR(e.color,e.intensity);break;case"PointLight":o=new JR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new NG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new OG(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new R1().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new RR(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Xn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new uG(u,f,p),o.instanceMatrix=new oh(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new oh(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new cG;break;case"Line":o=new Na(a(e.geometry),l(e.material));break;case"LineLoop":o=new PR(a(e.geometry),l(e.material));break;case"LineSegments":o=new io(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new IR(a(e.geometry),l(e.material));break;case"Sprite":o=new lG(l(e.material));break;case"Group":o=new va;break;case"Bone":o=new A1;break;default:o=new Ht}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Hte={UVMapping:g1,CubeReflectionMapping:Oa,CubeRefractionMapping:jl,EquirectangularReflectionMapping:eh,EquirectangularRefractionMapping:ng,CubeUVReflectionMapping:Ch},g3={RepeatWrapping:Jl,ClampToEdgeWrapping:wr,MirroredRepeatWrapping:th},y3={NearestFilter:Bn,NearestMipmapNearestFilter:rg,NearestMipmapLinearFilter:Od,LinearFilter:yn,LinearMipmapNearestFilter:y1,LinearMipmapLinearFilter:ko};class zG extends ti{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Mu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let xv;class XR{static getContext(){return xv===void 0&&(xv=new(window.AudioContext||window.webkitAudioContext)),xv}static setContext(e){xv=e}}class zte extends ti{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Wi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);XR.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class Gte extends R1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ke().set(e),s=new ke().set(t),o=new G(i.r,i.g,i.b),a=new G(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Vte extends R1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ke().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const v3=new dt,x3=new dt,Cc=new dt;class $te{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Cc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(du*t.fov*.5)/t.zoom;let a,l;x3.elements[12]=-i,v3.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Cc.elements[0]=2*t.near/(l-a),Cc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Cc),a=-o*t.aspect-s,l=o*t.aspect-s,Cc.elements[0]=2*t.near/(l-a),Cc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Cc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(x3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(v3)}}class YR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=b3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=b3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function b3(){return(typeof performance>"u"?Date:performance).now()}const Tc=new G,_3=new yr,Wte=new G,Rc=new G;class jte extends Ht{constructor(){super(),this.type="AudioListener",this.context=XR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tc,_3,Wte),Rc.set(0,0,-1).applyQuaternion(_3),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Tc.x,i),t.positionY.linearRampToValueAtTime(Tc.y,i),t.positionZ.linearRampToValueAtTime(Tc.z,i),t.forwardX.linearRampToValueAtTime(Rc.x,i),t.forwardY.linearRampToValueAtTime(Rc.y,i),t.forwardZ.linearRampToValueAtTime(Rc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Tc.x,Tc.y,Tc.z),t.setOrientation(Rc.x,Rc.y,Rc.z,r.x,r.y,r.z)}}class GG extends Ht{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pc=new G,w3=new yr,Jte=new G,Ic=new G;class Kte extends GG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pc,w3,Jte),Ic.set(0,0,1).applyQuaternion(w3);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pc.x,r),t.positionY.linearRampToValueAtTime(Pc.y,r),t.positionZ.linearRampToValueAtTime(Pc.z,r),t.orientationX.linearRampToValueAtTime(Ic.x,r),t.orientationY.linearRampToValueAtTime(Ic.y,r),t.orientationZ.linearRampToValueAtTime(Ic.z,r)}else t.setPosition(Pc.x,Pc.y,Pc.z),t.setOrientation(Ic.x,Ic.y,Ic.z)}}class Xte{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class VG{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){yr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;yr.multiplyQuaternionsFlat(e,o,e,t,e,r),yr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const QR="\\[\\]\\.:\\/",Yte=new RegExp("["+QR+"]","g"),qR="[^"+QR+"]",Qte="[^"+QR.replace("\\.","")+"]",qte=/((?:WC+[\/:])*)/.source.replace("WC",qR),Zte=/(WCOD+)?/.source.replace("WCOD",Qte),ene=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qR),tne=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qR),nne=new RegExp("^"+qte+Zte+ene+tne+"$"),rne=["material","materials","bones","map"];class ine{constructor(e,t,r){const i=r||Ut.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Ut{constructor(e,t,r){this.path=t,this.parsedPath=r||Ut.parseTrackName(t),this.node=Ut.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ut.Composite(e,t,r):new Ut(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Yte,"")}static parseTrackName(e){const t=nne.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);rne.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Ut.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ut.Composite=ine;Ut.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ut.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ut.prototype.GetterByBindingType=[Ut.prototype._getValue_direct,Ut.prototype._getValue_array,Ut.prototype._getValue_arrayElement,Ut.prototype._getValue_toArray];Ut.prototype.SetterByBindingTypeAndVersioning=[[Ut.prototype._setValue_direct,Ut.prototype._setValue_direct_setNeedsUpdate,Ut.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_array,Ut.prototype._setValue_array_setNeedsUpdate,Ut.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_arrayElement,Ut.prototype._setValue_arrayElement_setNeedsUpdate,Ut.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_fromArray,Ut.prototype._setValue_fromArray_setNeedsUpdate,Ut.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class sne{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ui(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let v=0,x=o;v!==x;++v)s[v].push(new Ut(p,r[v],i[v]))}else if(y<c){a=e[y];const v=--c,x=e[v];t[x.uuid]=y,e[y]=x,t[m]=v,e[v]=p;for(let g=0,_=o;g!==_;++g){const b=s[g],S=b[v];let E=b[y];b[y]=S,E===void 0&&(E=new Ut(p,r[g],i[g])),b[v]=E}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const v=r[m],x=v[f],g=v[u];v[u]=x,v[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],y=--o,v=e[y];t[m.uuid]=f,e[f]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let x=0,g=i;x!==g;++x){const _=r[x],b=_[p],S=_[y];_[f]=b,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let y=0,v=i;y!==v;++y){const x=r[y];x[f]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const y=l[p];f[p]=new Ut(y,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class $G{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Zc,endingEnd:Zc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Uz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case pR:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case v1:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Hz;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===Fz){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=eu,i.endingEnd=eu):(e?i.endingStart=this.zeroSlopeAtStart?eu:Zc:i.endingStart=ig,t?i.endingEnd=this.zeroSlopeAtEnd?eu:Zc:i.endingEnd=ig)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const one=new Float32Array(1);class ane extends $a{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;y=new VG(Ut.create(r,m,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new GR(new Float32Array(2),new Float32Array(2),1,one),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?ch.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=v1),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new $G(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?ch.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ZR{constructor(e){this.value=e}clone(){return new ZR(this.value.clone===void 0?this.value:this.value.clone())}}let lne=0;class cne extends $a{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lne++}),this.name="",this.usage=sg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class une extends Gg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class fne{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class eP{constructor(e,t,r=0,i=1/0){this.ray=new Ug(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new hu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return RM(e,this,r,t),r.sort(S3),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)RM(e[i],this,r,t);return r.sort(S3),r}}function S3(n,e){return n.distance-e.distance}function RM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)RM(i[s],e,t,!0)}}class WG{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ln(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class dne{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const A3=new Ce;class hne{constructor(e=new Ce(1/0,1/0),t=new Ce(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=A3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,A3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const E3=new G,bv=new G;class pne{constructor(e=new G,t=new G){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){E3.subVectors(e,this.start),bv.subVectors(this.end,this.start);const r=bv.dot(bv);let s=bv.dot(E3)/r;return t&&(s=Ln(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const M3=new G;class mne extends Ht{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new xt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ye(i,3));const s=new zr({fog:!1,toneMapped:!1});this.cone=new io(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),M3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(M3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fl=new G,_v=new dt,OS=new dt;class gne extends io{constructor(e){const t=jG(e),r=new xt,i=[],s=[],o=new ke(0,0,1),a=new ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ye(i,3)),r.setAttribute("color",new Ye(s,3));const l=new zr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");OS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(_v.multiplyMatrices(OS,a.matrixWorld),fl.setFromMatrixPosition(_v),i.setXYZ(o,fl.x,fl.y,fl.z),_v.multiplyMatrices(OS,a.parent.matrixWorld),fl.setFromMatrixPosition(_v),i.setXYZ(o+1,fl.x,fl.y,fl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jG(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,jG(n.children[t]));return e}class yne extends Xn{constructor(e,t,r){const i=new Dh(t,4,2),s=new Oi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vne=new G,C3=new ke,T3=new ke;class xne extends Ht{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Lh(t);i.rotateY(Math.PI*.5),this.material=new Oi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Kt(o,3)),this.add(new Xn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");C3.copy(this.light.color),T3.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?C3:T3;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(vne.setFromMatrixPosition(this.light.matrixWorld).negate())}}class bne extends io{constructor(e=10,t=10,r=4473924,i=8947848){r=new ke(r),i=new ke(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const v=p===s?r:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const u=new xt;u.setAttribute("position",new Ye(l,3)),u.setAttribute("color",new Ye(c,3));const f=new zr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class _ne extends io{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ke(s),o=new ke(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let y=0;y<i;y++){let v=y/i*(Math.PI*2),x=Math.sin(v)*m,g=Math.cos(v)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),v=(y+1)/i*(Math.PI*2),x=Math.sin(v)*m,g=Math.cos(v)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new xt;c.setAttribute("position",new Ye(a,3)),c.setAttribute("color",new Ye(l,3));const u=new zr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const R3=new G,wv=new G,P3=new G;class wne extends Ht{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new xt;i.setAttribute("position",new Ye([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new zr({fog:!1,toneMapped:!1});this.lightPlane=new Na(i,s),this.add(this.lightPlane),i=new xt,i.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Na(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),R3.setFromMatrixPosition(this.light.matrixWorld),wv.setFromMatrixPosition(this.light.target.matrixWorld),P3.subVectors(wv,R3),this.lightPlane.lookAt(wv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wv),this.targetLine.scale.z=P3.length()}}const Sv=new G,Pn=new Hg;class Sne extends io{constructor(e){const t=new xt,r=new zr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){l(y),l(v)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new Ye(i,3)),t.setAttribute("color",new Ye(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ke(16755200),u=new ke(16711680),f=new ke(43775),p=new ke(16777215),m=new ke(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Pn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kn("c",t,e,Pn,0,0,-1),kn("t",t,e,Pn,0,0,1),kn("n1",t,e,Pn,-r,-i,-1),kn("n2",t,e,Pn,r,-i,-1),kn("n3",t,e,Pn,-r,i,-1),kn("n4",t,e,Pn,r,i,-1),kn("f1",t,e,Pn,-r,-i,1),kn("f2",t,e,Pn,r,-i,1),kn("f3",t,e,Pn,-r,i,1),kn("f4",t,e,Pn,r,i,1),kn("u1",t,e,Pn,r*.7,i*1.1,-1),kn("u2",t,e,Pn,-r*.7,i*1.1,-1),kn("u3",t,e,Pn,0,i*2,-1),kn("cf1",t,e,Pn,-r,0,1),kn("cf2",t,e,Pn,r,0,1),kn("cf3",t,e,Pn,0,-i,1),kn("cf4",t,e,Pn,0,i,1),kn("cn1",t,e,Pn,-r,0,-1),kn("cn2",t,e,Pn,r,0,-1),kn("cn3",t,e,Pn,0,-i,-1),kn("cn4",t,e,Pn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(n,e,t,r,i,s,o){Sv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Sv.x,Sv.y,Sv.z)}}const Av=new Ms;class Ane extends io{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new xt;s.setIndex(new Kt(r,1)),s.setAttribute("position",new Kt(i,3)),super(s,new zr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Av.setFromObject(this.object),Av.isEmpty())return;const t=Av.min,r=Av.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ene extends io{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xt;s.setIndex(new Kt(r,1)),s.setAttribute("position",new Ye(i,3)),super(s,new zr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mne extends Na{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new xt;o.setAttribute("position",new Ye(s,3)),o.computeBoundingSphere(),super(o,new zr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new xt;l.setAttribute("position",new Ye(a,3)),l.computeBoundingSphere(),this.add(new Xn(l,new Oi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const I3=new G;let Ev,kS;class Cne extends Ht{constructor(e=new G(0,0,1),t=new G(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Ev===void 0&&(Ev=new xt,Ev.setAttribute("position",new Ye([0,0,0,0,1,0],3)),kS=new Nu(0,.5,1,5,1),kS.translate(0,-.5,0)),this.position.copy(t),this.line=new Na(Ev,new zr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xn(kS,new Oi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{I3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(I3,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Tne extends io{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new xt;i.setAttribute("position",new Ye(t,3)),i.setAttribute("color",new Ye(r,3));const s=new zr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ke,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rne{constructor(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const _=[];for(let b=0,S=g.length;b<S;b++){const E=g[b],M=new pu;M.curves=E.curves,_.push(M)}return _}function r(g,_){const b=_.length;let S=!1;for(let E=b-1,M=0;M<b;E=M++){let R=_[E],B=_[M],T=B.x-R.x,I=B.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=_[M],T=-T,B=_[E],I=-I),g.y<R.y||g.y>B.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const O=I*(g.x-R.x)-T*(g.y-R.y);if(O===0)return!0;if(O<0)continue;S=!S}}else{if(g.y!==R.y)continue;if(B.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=B.x)return!0}}return S}const i=Co.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new pu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],y=0,v;p[y]=void 0,m[y]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new pu,p:v},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,_=0;for(let b=0,S=p.length;b<S;b++)f[b]=[];for(let b=0,S=p.length;b<S;b++){const E=m[b];for(let M=0;M<E.length;M++){const R=E[M];let B=!0;for(let T=0;T<p.length;T++)r(R.p,p[T].p)&&(b!==T&&_++,B?(B=!1,f[T].push(R)):g=!0);B&&f[b].push(R)}}_>0&&g===!1&&(m=f)}let x;for(let g=0,_=p.length;g<_;g++){l=p[g].s,c.push(l),x=m[g];for(let b=0,S=x.length;b<S;b++)l.holes.push(x[b].h)}return c}}class Pne extends lc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class Ine extends $g{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class Bne extends Wg{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class Lne extends jg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class Dne extends Nu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class One extends Jg{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class kne extends Kg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Nne extends Bh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Fne extends Ih{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class Une extends Lh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Hne extends Th{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class zne extends Wa{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Gne extends Xg{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class Vne extends Yg{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class $ne extends Dh{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Wne extends Qg{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class jne extends qg{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Jne extends Zg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Kne extends e0{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p1);const Xne=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:dR,AddEquation:Jc,AddOperation:vz,AdditiveAnimationBlendMode:pR,AdditiveBlending:JE,AlphaFormat:Tz,AlwaysDepth:fz,AlwaysStencilFunc:Wz,AmbientLight:kG,AmbientLightProbe:Vte,AnimationAction:$G,AnimationClip:ch,AnimationLoader:Dte,AnimationMixer:ane,AnimationObjectGroup:sne,AnimationUtils:Pte,ArcCurve:fG,ArrayCamera:iG,ArrowHelper:Cne,Audio:GG,AudioAnalyser:Xte,AudioContext:XR,AudioListener:jte,AudioLoader:zte,AxesHelper:Tne,BackSide:Qr,BasicDepthPacking:Gz,BasicShadowMap:QH,Bone:A1,BooleanKeyframeTrack:Fu,Box2:hne,Box3:Ms,Box3Helper:Ene,BoxBufferGeometry:Pne,BoxGeometry:lc,BoxHelper:Ane,BufferAttribute:Kt,BufferGeometry:xt,BufferGeometryLoader:HG,ByteType:Sz,Cache:Mu,Camera:Hg,CameraHelper:Sne,CanvasTexture:ete,CapsuleBufferGeometry:Ine,CapsuleGeometry:$g,CatmullRomCurve3:dG,CineonToneMapping:_z,CircleBufferGeometry:Bne,CircleGeometry:Wg,ClampToEdgeWrapping:wr,Clock:YR,Color:ke,ColorKeyframeTrack:VR,ColorManagement:oi,CompressedArrayTexture:Zee,CompressedTexture:BR,CompressedTextureLoader:Ote,ConeBufferGeometry:Lne,ConeGeometry:jg,CubeCamera:Qz,CubeReflectionMapping:Oa,CubeRefractionMapping:jl,CubeTexture:zg,CubeTextureLoader:LG,CubeUVReflectionMapping:Ch,CubicBezierCurve:DR,CubicBezierCurve3:hG,CubicInterpolant:RG,CullFaceBack:jE,CullFaceFront:YH,CullFaceFrontBack:eX,CullFaceNone:XH,Curve:so,CurvePath:mG,CustomBlending:qH,CustomToneMapping:wz,CylinderBufferGeometry:Dne,CylinderGeometry:Nu,Cylindrical:dne,Data3DTexture:xR,DataArrayTexture:x1,DataTexture:Fd,DataTextureLoader:DG,DataUtils:im,DecrementStencilOp:fX,DecrementWrapStencilOp:hX,DefaultLoadingManager:BG,DepthFormat:Fl,DepthStencilFormat:Su,DepthTexture:sG,DirectionalLight:KR,DirectionalLightHelper:wne,DiscreteInterpolant:PG,DisplayP3ColorSpace:gR,DodecahedronBufferGeometry:One,DodecahedronGeometry:Jg,DoubleSide:hs,DstAlphaFactor:sz,DstColorFactor:az,DynamicCopyUsage:TX,DynamicDrawUsage:wX,DynamicReadUsage:EX,EdgesGeometry:gG,EllipseCurve:M1,EqualDepth:hz,EqualStencilFunc:yX,EquirectangularReflectionMapping:eh,EquirectangularRefractionMapping:ng,Euler:ac,EventDispatcher:$a,ExtrudeBufferGeometry:kne,ExtrudeGeometry:Kg,FileLoader:Wi,Float16BufferAttribute:mY,Float32BufferAttribute:Ye,Float64BufferAttribute:gY,FloatType:Li,Fog:S1,FogExp2:w1,FramebufferTexture:qee,FrontSide:Oo,Frustum:b1,GLBufferAttribute:fne,GLSL1:PX,GLSL3:_M,GreaterDepth:mz,GreaterEqualDepth:pz,GreaterEqualStencilFunc:_X,GreaterStencilFunc:xX,GridHelper:bne,Group:va,HalfFloatType:gs,HemisphereLight:OG,HemisphereLightHelper:xne,HemisphereLightProbe:Gte,IcosahedronBufferGeometry:Nne,IcosahedronGeometry:Bh,ImageBitmapLoader:zG,ImageLoader:dg,ImageUtils:vR,IncrementStencilOp:uX,IncrementWrapStencilOp:dX,InstancedBufferAttribute:oh,InstancedBufferGeometry:UG,InstancedInterleavedBuffer:une,InstancedMesh:uG,Int16BufferAttribute:hY,Int32BufferAttribute:pY,Int8BufferAttribute:uY,IntType:Ez,InterleavedBuffer:Gg,InterleavedBufferAttribute:Kl,Interpolant:kh,InterpolateDiscrete:nh,InterpolateLinear:Au,InterpolateSmooth:px,InvertStencilOp:pX,KeepStencilOp:mx,KeyframeTrack:oo,LOD:cG,LatheBufferGeometry:Fne,LatheGeometry:Ih,Layers:hu,LessDepth:dz,LessEqualDepth:sb,LessEqualStencilFunc:vX,LessStencilFunc:gX,Light:cc,LightProbe:R1,Line:Na,Line3:pne,LineBasicMaterial:zr,LineCurve:C1,LineCurve3:pG,LineDashedMaterial:CG,LineLoop:PR,LineSegments:io,LinearEncoding:no,LinearFilter:yn,LinearInterpolant:GR,LinearMipMapLinearFilter:sX,LinearMipMapNearestFilter:iX,LinearMipmapLinearFilter:ko,LinearMipmapNearestFilter:y1,LinearSRGBColorSpace:rh,LinearToneMapping:xz,Loader:ti,LoaderUtils:To,LoadingManager:$R,LoopOnce:Fz,LoopPingPong:Hz,LoopRepeat:Uz,LuminanceAlphaFormat:Pz,LuminanceFormat:Rz,MOUSE:qK,Material:Qn,MaterialLoader:P1,MathUtils:kd,Matrix3:Dt,Matrix4:dt,MaxEquation:QE,Mesh:Xn,MeshBasicMaterial:Oi,MeshDepthMaterial:ER,MeshDistanceMaterial:MR,MeshLambertMaterial:UR,MeshMatcapMaterial:MG,MeshNormalMaterial:EG,MeshPhongMaterial:SG,MeshPhysicalMaterial:ja,MeshStandardMaterial:Oh,MeshToonMaterial:AG,MinEquation:YE,MirroredRepeatWrapping:th,MixOperation:yz,MultiplyBlending:XE,MultiplyOperation:Fg,NearestFilter:Bn,NearestMipMapLinearFilter:rX,NearestMipMapNearestFilter:nX,NearestMipmapLinearFilter:Od,NearestMipmapNearestFilter:rg,NeverDepth:uz,NeverStencilFunc:mX,NoBlending:Ca,NoColorSpace:aX,NoToneMapping:Qs,NormalAnimationBlendMode:v1,NormalBlending:uu,NotEqualDepth:gz,NotEqualStencilFunc:bX,NumberKeyframeTrack:ah,Object3D:Ht,ObjectLoader:Ute,ObjectSpaceNormalMap:$z,OctahedronBufferGeometry:Une,OctahedronGeometry:Lh,OneFactor:nz,OneMinusDstAlphaFactor:oz,OneMinusDstColorFactor:lz,OneMinusSrcAlphaFactor:fR,OneMinusSrcColorFactor:iz,OrthographicCamera:Rh,PCFShadowMap:m1,PCFSoftShadowMap:wm,PMREMGenerator:SM,Path:lg,PerspectiveCamera:tr,Plane:vl,PlaneBufferGeometry:Hne,PlaneGeometry:Th,PlaneHelper:Mne,PointLight:JR,PointLightHelper:yne,Points:IR,PointsMaterial:E1,PolarGridHelper:_ne,PolyhedronBufferGeometry:zne,PolyhedronGeometry:Wa,PositionalAudio:Kte,PropertyBinding:Ut,PropertyMixer:VG,QuadraticBezierCurve:OR,QuadraticBezierCurve3:kR,Quaternion:yr,QuaternionKeyframeTrack:Xl,QuaternionLinearInterpolant:IG,RED_GREEN_RGTC2_Format:xM,RED_RGTC1_Format:Nz,REVISION:p1,RGBADepthPacking:Vz,RGBAFormat:ui,RGBAIntegerFormat:Oz,RGBA_ASTC_10x10_Format:mM,RGBA_ASTC_10x5_Format:dM,RGBA_ASTC_10x6_Format:hM,RGBA_ASTC_10x8_Format:pM,RGBA_ASTC_12x10_Format:gM,RGBA_ASTC_12x12_Format:yM,RGBA_ASTC_4x4_Format:iM,RGBA_ASTC_5x4_Format:sM,RGBA_ASTC_5x5_Format:oM,RGBA_ASTC_6x5_Format:aM,RGBA_ASTC_6x6_Format:lM,RGBA_ASTC_8x5_Format:cM,RGBA_ASTC_8x6_Format:uM,RGBA_ASTC_8x8_Format:fM,RGBA_BPTC_Format:hx,RGBA_ETC2_EAC_Format:rM,RGBA_PVRTC_2BPPV1_Format:tM,RGBA_PVRTC_4BPPV1_Format:eM,RGBA_S3TC_DXT1_Format:ux,RGBA_S3TC_DXT3_Format:fx,RGBA_S3TC_DXT5_Format:dx,RGB_ETC1_Format:kz,RGB_ETC2_Format:nM,RGB_PVRTC_2BPPV1_Format:ZE,RGB_PVRTC_4BPPV1_Format:qE,RGB_S3TC_DXT1_Format:cx,RGFormat:Lz,RGIntegerFormat:Dz,RawShaderMaterial:wG,Ray:Ug,Raycaster:eP,RectAreaLight:NG,RedFormat:Iz,RedIntegerFormat:Bz,ReinhardToneMapping:bz,RepeatWrapping:Jl,ReplaceStencilOp:cX,ReverseSubtractEquation:ez,RingBufferGeometry:Gne,RingGeometry:Xg,SIGNED_RED_GREEN_RGTC2_Format:bM,SIGNED_RED_RGTC1_Format:vM,SRGBColorSpace:Vs,Scene:ag,ShaderChunk:Et,ShaderLib:Ws,ShaderMaterial:Ss,ShadowMaterial:_G,Shape:pu,ShapeBufferGeometry:Vne,ShapeGeometry:Yg,ShapePath:Rne,ShapeUtils:Co,ShortType:Az,Skeleton:Vg,SkeletonHelper:gne,SkinnedMesh:RR,Source:tu,Sphere:Cs,SphereBufferGeometry:$ne,SphereGeometry:Dh,Spherical:WG,SphericalHarmonics3:FG,SplineCurve:NR,SpotLight:jR,SpotLightHelper:mne,Sprite:lG,SpriteMaterial:TR,SrcAlphaFactor:uR,SrcAlphaSaturateFactor:cz,SrcColorFactor:rz,StaticCopyUsage:CX,StaticDrawUsage:sg,StaticReadUsage:AX,StereoCamera:$te,StreamCopyUsage:RX,StreamDrawUsage:SX,StreamReadUsage:MX,StringKeyframeTrack:Uu,SubtractEquation:ZH,SubtractiveBlending:KE,TOUCH:ZK,TangentSpaceNormalMap:Va,TetrahedronBufferGeometry:Wne,TetrahedronGeometry:Qg,Texture:wn,TextureLoader:t0,TorusBufferGeometry:jne,TorusGeometry:qg,TorusKnotBufferGeometry:Jne,TorusKnotGeometry:Zg,Triangle:ci,TriangleFanDrawMode:mR,TriangleStripDrawMode:zz,TrianglesDrawMode:oX,TubeBufferGeometry:Kne,TubeGeometry:e0,TwoPassDoubleSide:tX,UVMapping:g1,Uint16BufferAttribute:bR,Uint32BufferAttribute:_R,Uint8BufferAttribute:fY,Uint8ClampedBufferAttribute:dY,Uniform:ZR,UniformsGroup:cne,UniformsLib:Ue,UniformsUtils:wR,UnsignedByteType:ka,UnsignedInt248Type:fu,UnsignedIntType:Tl,UnsignedShort4444Type:Mz,UnsignedShort5551Type:Cz,UnsignedShortType:hR,VSMShadowMap:qc,Vector2:Ce,Vector3:G,Vector4:zt,VectorKeyframeTrack:lh,VideoTexture:Qee,WebGL1Renderer:oG,WebGL3DRenderTarget:ZX,WebGLArrayRenderTarget:qX,WebGLCubeRenderTarget:SR,WebGLMultipleRenderTargets:eY,WebGLRenderTarget:$i,WebGLRenderer:CR,WebGLUtils:rG,WireframeGeometry:bG,WrapAroundEnding:ig,ZeroCurvatureEnding:Zc,ZeroFactor:tz,ZeroSlopeEnding:eu,ZeroStencilOp:lX,_SRGBAFormat:ob,sRGBEncoding:kt},Symbol.toStringTag,{value:"Module"}));var Rl={},Yne={get exports(){return Rl},set exports(n){Rl=n}},Hu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Hu.ConcurrentRoot=1;Hu.ContinuousEventPriority=4;Hu.DefaultEventPriority=16;Hu.DiscreteEventPriority=1;Hu.IdleEventPriority=536870912;Hu.LegacyRoot=0;(function(n){n.exports=Hu})(Yne);function Qne(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!f(p,y)){const v=p;c(p=y,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const qne=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),B3=qne?P.useEffect:P.useLayoutEffect;function JG(n){const e=typeof n=="function"?Qne(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(x=>x+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),c=P.useRef(i),u=P.useRef(!1),f=P.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),B3(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const y=P.useRef(o);B3(()=>{const x=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(a.current=_,f.current=b,s())}catch{u.current=!0,s()}},g=e.subscribe(x);return e.getState()!==y.current&&x(),g},[]);const v=m?p:f.current;return P.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var PM={},Zne={get exports(){return PM},set exports(n){PM=n}},hg={},ere={get exports(){return hg},set exports(n){hg=n}},KG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,U){var V=k.length;k.push(U);e:for(;0<V;){var q=V-1>>>1,ee=k[q];if(0<i(ee,U))k[q]=U,k[V]=ee,V=q;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],V=k.pop();if(V!==U){k[0]=V;e:for(var q=0,ee=k.length,se=ee>>>1;q<se;){var Z=2*(q+1)-1,de=k[Z],oe=Z+1,Q=k[oe];if(0>i(de,V))oe<ee&&0>i(Q,de)?(k[q]=Q,k[oe]=V,q=oe):(k[q]=de,k[Z]=V,q=Z);else if(oe<ee&&0>i(Q,V))k[q]=Q,k[oe]=V,q=oe;else break e}}return U}function i(k,U){var V=k.sortIndex-U.sortIndex;return V!==0?V:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function S(k){if(v=!1,b(k),!y)if(t(l)!==null)y=!0,X(E);else{var U=t(c);U!==null&&Y(S,U.startTime-k)}}function E(k,U){y=!1,v&&(v=!1,g(B),B=-1),m=!0;var V=p;try{for(b(U),f=t(l);f!==null&&(!(f.expirationTime>U)||k&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var ee=q(f.expirationTime<=U);U=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(U)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var Z=t(c);Z!==null&&Y(S,Z.startTime-U),se=!1}return se}finally{f=null,p=V,m=!1}}var M=!1,R=null,B=-1,T=5,I=-1;function O(){return!(n.unstable_now()-I<T)}function z(){if(R!==null){var k=n.unstable_now();I=k;var U=!0;try{U=R(!0,k)}finally{U?H():(M=!1,R=null)}}else M=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,J=N.port2;N.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){x(z,0)};function X(k){R=k,M||(M=!0,H())}function Y(k,U){B=x(function(){k(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,X(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return U()}finally{p=V}},n.unstable_scheduleCallback=function(k,U,V){var q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,k={id:u++,callback:U,priorityLevel:k,startTime:V,expirationTime:ee,sortIndex:-1},V>q?(k.sortIndex=V,e(c,k),t(l)===null&&k===t(c)&&(v?(g(B),B=-1):v=!0,Y(S,V-q))):(k.sortIndex=ee,e(l,k),y||m||(y=!0,X(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var U=p;return function(){var V=p;p=U;try{return k.apply(this,arguments)}finally{p=V}}}})(KG);(function(n){n.exports=KG})(ere);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tre=function(e){var t={},r=P,i=hg,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case y:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case v:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return h=d.displayName||null,h!==null?h:R(d.type)||"Memo";case b:h=d._payload,d=d._init;try{return R(d(h))}catch{}}return null}function B(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function T(d){var h=d,w=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(w=h.return),d=h.return;while(d)}return h.tag===3?w:null}function I(d){if(T(d)!==d)throw Error(o(188))}function O(d){var h=d.alternate;if(!h){if(h=T(d),h===null)throw Error(o(188));return h!==d?null:d}for(var w=d,A=h;;){var C=w.return;if(C===null)break;var L=C.alternate;if(L===null){if(A=C.return,A!==null){w=A;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===w)return I(C),d;if(L===A)return I(C),h;L=L.sibling}throw Error(o(188))}if(w.return!==A.return)w=C,A=L;else{for(var j=!1,re=C.child;re;){if(re===w){j=!0,w=C,A=L;break}if(re===A){j=!0,A=C,w=L;break}re=re.sibling}if(!j){for(re=L.child;re;){if(re===w){j=!0,w=L,A=C;break}if(re===A){j=!0,A=L,w=C;break}re=re.sibling}if(!j)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:h}function z(d){return d=O(d),d!==null?H(d):null}function H(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=H(d);if(h!==null)return h;d=d.sibling}return null}function N(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=N(d);if(h!==null)return h}d=d.sibling}return null}var J=Array.isArray,X=e.getPublicInstance,Y=e.getRootHostContext,k=e.getChildHostContext,U=e.prepareForCommit,V=e.resetAfterCommit,q=e.createInstance,ee=e.appendInitialChild,se=e.finalizeInitialChildren,Z=e.prepareUpdate,de=e.shouldSetTextContent,oe=e.createTextInstance,Q=e.scheduleTimeout,Me=e.cancelTimeout,ue=e.noTimeout,he=e.isPrimaryRenderer,Se=e.supportsMutation,me=e.supportsPersistence,fe=e.supportsHydration,_e=e.getInstanceFromNode,Oe=e.preparePortalMount,Ie=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,Ee=e.supportsMicrotasks,Le=e.scheduleMicrotask,$e=e.supportsTestSelectors,ht=e.findFiberRoot,W=e.getBoundingRect,F=e.getTextContent,pe=e.isHiddenSubtree,Te=e.matchAccessibilityRole,Re=e.setFocusIfFocusable,Fe=e.setupIntersectionObserver,st=e.appendChild,Ve=e.appendChildToContainer,be=e.commitTextUpdate,Xe=e.commitMount,qe=e.commitUpdate,ot=e.insertBefore,We=e.insertInContainerBefore,Ze=e.removeChild,St=e.removeChildFromContainer,Lt=e.resetTextContent,Jt=e.hideInstance,te=e.hideTextInstance,xe=e.unhideInstance,Pe=e.unhideTextInstance,ze=e.clearContainer,tt=e.cloneInstance,Xt=e.createContainerChildSet,nn=e.appendChildToContainerChildSet,Hn=e.finalizeContainerChildren,_i=e.replaceContainerChildren,en=e.cloneHiddenInstance,or=e.cloneHiddenTextInstance,Mr=e.canHydrateInstance,Ts=e.canHydrateTextInstance,qu=e.canHydrateSuspenseInstance,uo=e.isSuspenseInstancePending,qh=e.isSuspenseInstanceFallback,R_=e.registerSuspenseInstanceRetry,$=e.getNextHydratableSibling,ce=e.getFirstHydratableChild,we=e.getFirstHydratableChildWithinContainer,ae=e.getFirstHydratableChildWithinSuspenseInstance,Ae=e.hydrateInstance,lt=e.hydrateTextInstance,ft=e.hydrateSuspenseInstance,pt=e.getNextHydratableInstanceAfterSuspenseInstance,bt=e.commitHydratedContainer,Tt=e.commitHydratedSuspenseInstance,Rt=e.clearSuspenseBoundary,It=e.clearSuspenseBoundaryFromContainer,Yt=e.shouldDeleteUnhydratedTailInstances,vr=e.didNotMatchHydratedContainerTextInstance,wi=e.didNotMatchHydratedTextInstance,Rs;function an(d){if(Rs===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);Rs=h&&h[1]||""}return`
`+Rs+d}var Bt=!1;function pc(d,h){if(!d||Bt)return"";Bt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(De){var A=De}Reflect.construct(d,[],h)}else{try{h.call()}catch(De){A=De}d.call(h.prototype)}else{try{throw Error()}catch(De){A=De}d()}}catch(De){if(De&&A&&typeof De.stack=="string"){for(var C=De.stack.split(`
`),L=A.stack.split(`
`),j=C.length-1,re=L.length-1;1<=j&&0<=re&&C[j]!==L[re];)re--;for(;1<=j&&0<=re;j--,re--)if(C[j]!==L[re]){if(j!==1||re!==1)do if(j--,re--,0>re||C[j]!==L[re]){var ve=`
`+C[j].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=j&&0<=re);break}}}finally{Bt=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?an(d):""}var zn=Object.prototype.hasOwnProperty,Ps=[],Wo=-1;function ni(d){return{current:d}}function qt(d){0>Wo||(d.current=Ps[Wo],Ps[Wo]=null,Wo--)}function _t(d,h){Wo++,Ps[Wo]=d.current,d.current=h}var Cr={},Gn=ni(Cr),tn=ni(!1),Is=Cr;function Qa(d,h){var w=d.type.contextTypes;if(!w)return Cr;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in w)C[L]=h[L];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=C),C}function xr(d){return d=d.childContextTypes,d!=null}function C0(){qt(tn),qt(Gn)}function x2(d,h,w){if(Gn.current!==Cr)throw Error(o(168));_t(Gn,h),_t(tn,w)}function b2(d,h,w){var A=d.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var C in A)if(!(C in h))throw Error(o(108,B(d)||"Unknown",C));return s({},w,A)}function T0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Cr,Is=Gn.current,_t(Gn,d),_t(tn,tn.current),!0}function _2(d,h,w){var A=d.stateNode;if(!A)throw Error(o(169));w?(d=b2(d,h,Is),A.__reactInternalMemoizedMergedChildContext=d,qt(tn),qt(Gn),_t(Gn,d)):qt(tn),_t(tn,w)}var Bs=Math.clz32?Math.clz32:Dj,Bj=Math.log,Lj=Math.LN2;function Dj(d){return d>>>=0,d===0?32:31-(Bj(d)/Lj|0)|0}var R0=64,P0=4194304;function Zh(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function I0(d,h){var w=d.pendingLanes;if(w===0)return 0;var A=0,C=d.suspendedLanes,L=d.pingedLanes,j=w&268435455;if(j!==0){var re=j&~C;re!==0?A=Zh(re):(L&=j,L!==0&&(A=Zh(L)))}else j=w&~C,j!==0?A=Zh(j):L!==0&&(A=Zh(L));if(A===0)return 0;if(h!==0&&h!==A&&!(h&C)&&(C=A&-A,L=h&-h,C>=L||C===16&&(L&4194240)!==0))return h;if(A&4&&(A|=w&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=A;0<h;)w=31-Bs(h),C=1<<w,A|=d[w],h&=~C;return A}function Oj(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kj(d,h){for(var w=d.suspendedLanes,A=d.pingedLanes,C=d.expirationTimes,L=d.pendingLanes;0<L;){var j=31-Bs(L),re=1<<j,ve=C[j];ve===-1?(!(re&w)||re&A)&&(C[j]=Oj(re,h)):ve<=h&&(d.expiredLanes|=re),L&=~re}}function P_(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function I_(d){for(var h=[],w=0;31>w;w++)h.push(d);return h}function ep(d,h,w){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Bs(h),d[h]=w}function Nj(d,h){var w=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var C=31-Bs(w),L=1<<C;h[C]=0,A[C]=-1,d[C]=-1,w&=~L}}function B_(d,h){var w=d.entangledLanes|=h;for(d=d.entanglements;w;){var A=31-Bs(w),C=1<<A;C&h|d[A]&h&&(d[A]|=h),w&=~C}}var Vt=0;function w2(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var L_=i.unstable_scheduleCallback,S2=i.unstable_cancelCallback,Fj=i.unstable_shouldYield,Uj=i.unstable_requestPaint,ar=i.unstable_now,D_=i.unstable_ImmediatePriority,Hj=i.unstable_UserBlockingPriority,O_=i.unstable_NormalPriority,zj=i.unstable_IdlePriority,B0=null,fo=null;function Gj(d){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(B0,d,void 0,(d.current.flags&128)===128)}catch{}}function Vj(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ho=typeof Object.is=="function"?Object.is:Vj,jo=null,L0=!1,k_=!1;function A2(d){jo===null?jo=[d]:jo.push(d)}function $j(d){L0=!0,A2(d)}function po(){if(!k_&&jo!==null){k_=!0;var d=0,h=Vt;try{var w=jo;for(Vt=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}jo=null,L0=!1}catch(C){throw jo!==null&&(jo=jo.slice(d+1)),L_(D_,po),C}finally{Vt=h,k_=!1}}return null}var Wj=a.ReactCurrentBatchConfig;function D0(d,h){if(ho(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var w=Object.keys(d),A=Object.keys(h);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var C=w[A];if(!zn.call(h,C)||!ho(d[C],h[C]))return!1}return!0}function jj(d){switch(d.tag){case 5:return an(d.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return d=pc(d.type,!1),d;case 11:return d=pc(d.type.render,!1),d;case 1:return d=pc(d.type,!0),d;default:return""}}function Ls(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var w in d)h[w]===void 0&&(h[w]=d[w]);return h}return h}var O0=ni(null),k0=null,Zu=null,N_=null;function F_(){N_=Zu=k0=null}function E2(d,h,w){he?(_t(O0,h._currentValue),h._currentValue=w):(_t(O0,h._currentValue2),h._currentValue2=w)}function U_(d){var h=O0.current;qt(O0),he?d._currentValue=h:d._currentValue2=h}function H_(d,h,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),d===w)break;d=d.return}}function ef(d,h){k0=d,N_=Zu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Ei=!0),d.firstContext=null)}function qi(d){var h=he?d._currentValue:d._currentValue2;if(N_!==d)if(d={context:d,memoizedValue:h,next:null},Zu===null){if(k0===null)throw Error(o(308));Zu=d,k0.dependencies={lanes:0,firstContext:d}}else Zu=Zu.next=d;return h}var mo=null,qa=!1;function z_(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M2(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Jo(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Za(d,h){var w=d.updateQueue;w!==null&&(w=w.shared,Vn!==null&&d.mode&1&&!(Pt&2)?(d=w.interleaved,d===null?(h.next=h,mo===null?mo=[w]:mo.push(w)):(h.next=d.next,d.next=h),w.interleaved=h):(d=w.pending,d===null?h.next=h:(h.next=d.next,d.next=h),w.pending=h))}function N0(d,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var A=h.lanes;A&=d.pendingLanes,w|=A,h.lanes=w,B_(d,w)}}function C2(d,h){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var C=null,L=null;if(w=w.firstBaseUpdate,w!==null){do{var j={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};L===null?C=L=j:L=L.next=j,w=w.next}while(w!==null);L===null?C=L=h:L=L.next=h}else C=L=h;w={baseState:A.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=h:d.next=h,w.lastBaseUpdate=h}function F0(d,h,w,A){var C=d.updateQueue;qa=!1;var L=C.firstBaseUpdate,j=C.lastBaseUpdate,re=C.shared.pending;if(re!==null){C.shared.pending=null;var ve=re,De=ve.next;ve.next=null,j===null?L=De:j.next=De,j=ve;var Ke=d.alternate;Ke!==null&&(Ke=Ke.updateQueue,re=Ke.lastBaseUpdate,re!==j&&(re===null?Ke.firstBaseUpdate=De:re.next=De,Ke.lastBaseUpdate=ve))}if(L!==null){var yt=C.baseState;j=0,Ke=De=ve=null,re=L;do{var ct=re.lane,rn=re.eventTime;if((A&ct)===ct){Ke!==null&&(Ke=Ke.next={eventTime:rn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var rt=d,Ir=re;switch(ct=h,rn=w,Ir.tag){case 1:if(rt=Ir.payload,typeof rt=="function"){yt=rt.call(rn,yt,ct);break e}yt=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=Ir.payload,ct=typeof rt=="function"?rt.call(rn,yt,ct):rt,ct==null)break e;yt=s({},yt,ct);break e;case 2:qa=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,ct=C.effects,ct===null?C.effects=[re]:ct.push(re))}else rn={eventTime:rn,lane:ct,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ke===null?(De=Ke=rn,ve=yt):Ke=Ke.next=rn,j|=ct;if(re=re.next,re===null){if(re=C.shared.pending,re===null)break;ct=re,re=ct.next,ct.next=null,C.lastBaseUpdate=ct,C.shared.pending=null}}while(1);if(Ke===null&&(ve=yt),C.baseState=ve,C.firstBaseUpdate=De,C.lastBaseUpdate=Ke,h=C.shared.interleaved,h!==null){C=h;do j|=C.lane,C=C.next;while(C!==h)}else L===null&&(C.shared.lanes=0);uf|=j,d.lanes=j,d.memoizedState=yt}}function T2(d,h,w){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var A=d[h],C=A.callback;if(C!==null){if(A.callback=null,A=w,typeof C!="function")throw Error(o(191,C));C.call(A)}}}var R2=new r.Component().refs;function G_(d,h,w,A){h=d.memoizedState,w=w(A,h),w=w==null?h:s({},h,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var U0={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,h,w){d=d._reactInternals;var A=Vr(),C=nl(d),L=Jo(A,C);L.payload=h,w!=null&&(L.callback=w),Za(d,L),h=rs(d,C,A),h!==null&&N0(h,d,C)},enqueueReplaceState:function(d,h,w){d=d._reactInternals;var A=Vr(),C=nl(d),L=Jo(A,C);L.tag=1,L.payload=h,w!=null&&(L.callback=w),Za(d,L),h=rs(d,C,A),h!==null&&N0(h,d,C)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var w=Vr(),A=nl(d),C=Jo(w,A);C.tag=2,h!=null&&(C.callback=h),Za(d,C),h=rs(d,A,w),h!==null&&N0(h,d,A)}};function P2(d,h,w,A,C,L,j){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,L,j):h.prototype&&h.prototype.isPureReactComponent?!D0(w,A)||!D0(C,L):!0}function I2(d,h,w){var A=!1,C=Cr,L=h.contextType;return typeof L=="object"&&L!==null?L=qi(L):(C=xr(h)?Is:Gn.current,A=h.contextTypes,L=(A=A!=null)?Qa(d,C):Cr),h=new h(w,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=U0,d.stateNode=h,h._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=C,d.__reactInternalMemoizedMaskedChildContext=L),h}function B2(d,h,w,A){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,A),h.state!==d&&U0.enqueueReplaceState(h,h.state,null)}function V_(d,h,w,A){var C=d.stateNode;C.props=w,C.state=d.memoizedState,C.refs=R2,z_(d);var L=h.contextType;typeof L=="object"&&L!==null?C.context=qi(L):(L=xr(h)?Is:Gn.current,C.context=Qa(d,L)),C.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(G_(d,h,L,w),C.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&U0.enqueueReplaceState(C,C.state,null),F0(d,w,C,A),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308)}var tf=[],nf=0,H0=null,z0=0,Zi=[],es=0,mc=null,Ko=1,Xo="";function gc(d,h){tf[nf++]=z0,tf[nf++]=H0,H0=d,z0=h}function L2(d,h,w){Zi[es++]=Ko,Zi[es++]=Xo,Zi[es++]=mc,mc=d;var A=Ko;d=Xo;var C=32-Bs(A)-1;A&=~(1<<C),w+=1;var L=32-Bs(h)+C;if(30<L){var j=C-C%5;L=(A&(1<<j)-1).toString(32),A>>=j,C-=j,Ko=1<<32-Bs(h)+C|w<<C|A,Xo=L+d}else Ko=1<<L|w<<C|A,Xo=d}function $_(d){d.return!==null&&(gc(d,1),L2(d,1,0))}function W_(d){for(;d===H0;)H0=tf[--nf],tf[nf]=null,z0=tf[--nf],tf[nf]=null;for(;d===mc;)mc=Zi[--es],Zi[es]=null,Xo=Zi[--es],Zi[es]=null,Ko=Zi[--es],Zi[es]=null}var Si=null,Ai=null,xn=!1,tp=!1,Ds=null;function D2(d,h){var w=is(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=d,h=d.deletions,h===null?(d.deletions=[w],d.flags|=16):h.push(w)}function O2(d,h){switch(d.tag){case 5:return h=Mr(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Si=d,Ai=ce(h),!0):!1;case 6:return h=Ts(h,d.pendingProps),h!==null?(d.stateNode=h,Si=d,Ai=null,!0):!1;case 13:if(h=qu(h),h!==null){var w=mc!==null?{id:Ko,overflow:Xo}:null;return d.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=is(18,null,null,0),w.stateNode=h,w.return=d,d.child=w,Si=d,Ai=null,!0}return!1;default:return!1}}function j_(d){return(d.mode&1)!==0&&(d.flags&128)===0}function J_(d){if(xn){var h=Ai;if(h){var w=h;if(!O2(d,h)){if(j_(d))throw Error(o(418));h=$(w);var A=Si;h&&O2(d,h)?D2(A,w):(d.flags=d.flags&-4097|2,xn=!1,Si=d)}}else{if(j_(d))throw Error(o(418));d.flags=d.flags&-4097|2,xn=!1,Si=d}}}function k2(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Si=d}function np(d){if(!fe||d!==Si)return!1;if(!xn)return k2(d),xn=!0,!1;if(d.tag!==3&&(d.tag!==5||Yt(d.type)&&!de(d.type,d.memoizedProps))){var h=Ai;if(h){if(j_(d)){for(d=Ai;d;)d=$(d);throw Error(o(418))}for(;h;)D2(d,h),h=$(h)}}if(k2(d),d.tag===13){if(!fe)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ai=pt(d)}else Ai=Si?$(d.stateNode):null;return!0}function rf(){fe&&(Ai=Si=null,tp=xn=!1)}function K_(d){Ds===null?Ds=[d]:Ds.push(d)}function rp(d,h,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,d));var C=A,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(j){var re=C.refs;re===R2&&(re=C.refs={}),j===null?delete re[L]:re[L]=j},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function G0(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function N2(d){var h=d._init;return h(d._payload)}function F2(d){function h(le,ie){if(d){var ge=le.deletions;ge===null?(le.deletions=[ie],le.flags|=16):ge.push(ie)}}function w(le,ie){if(!d)return null;for(;ie!==null;)h(le,ie),ie=ie.sibling;return null}function A(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function C(le,ie){return le=il(le,ie),le.index=0,le.sibling=null,le}function L(le,ie,ge){return le.index=ge,d?(ge=le.alternate,ge!==null?(ge=ge.index,ge<ie?(le.flags|=2,ie):ge):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function j(le){return d&&le.alternate===null&&(le.flags|=2),le}function re(le,ie,ge,Ge){return ie===null||ie.tag!==6?(ie=Iw(ge,le.mode,Ge),ie.return=le,ie):(ie=C(ie,ge),ie.return=le,ie)}function ve(le,ie,ge,Ge){var nt=ge.type;return nt===u?Ke(le,ie,ge.props.children,Ge,ge.key):ie!==null&&(ie.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===b&&N2(nt)===ie.type)?(Ge=C(ie,ge.props),Ge.ref=rp(le,ie,ge),Ge.return=le,Ge):(Ge=xy(ge.type,ge.key,ge.props,null,le.mode,Ge),Ge.ref=rp(le,ie,ge),Ge.return=le,Ge)}function De(le,ie,ge,Ge){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=Bw(ge,le.mode,Ge),ie.return=le,ie):(ie=C(ie,ge.children||[]),ie.return=le,ie)}function Ke(le,ie,ge,Ge,nt){return ie===null||ie.tag!==7?(ie=Sc(ge,le.mode,Ge,nt),ie.return=le,ie):(ie=C(ie,ge),ie.return=le,ie)}function yt(le,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Iw(""+ie,le.mode,ge),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return ge=xy(ie.type,ie.key,ie.props,null,le.mode,ge),ge.ref=rp(le,null,ie),ge.return=le,ge;case c:return ie=Bw(ie,le.mode,ge),ie.return=le,ie;case b:var Ge=ie._init;return yt(le,Ge(ie._payload),ge)}if(J(ie)||M(ie))return ie=Sc(ie,le.mode,ge,null),ie.return=le,ie;G0(le,ie)}return null}function ct(le,ie,ge,Ge){var nt=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return nt!==null?null:re(le,ie,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===nt?ve(le,ie,ge,Ge):null;case c:return ge.key===nt?De(le,ie,ge,Ge):null;case b:return nt=ge._init,ct(le,ie,nt(ge._payload),Ge)}if(J(ge)||M(ge))return nt!==null?null:Ke(le,ie,ge,Ge,null);G0(le,ge)}return null}function rn(le,ie,ge,Ge,nt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return le=le.get(ge)||null,re(ie,le,""+Ge,nt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return le=le.get(Ge.key===null?ge:Ge.key)||null,ve(ie,le,Ge,nt);case c:return le=le.get(Ge.key===null?ge:Ge.key)||null,De(ie,le,Ge,nt);case b:var At=Ge._init;return rn(le,ie,ge,At(Ge._payload),nt)}if(J(Ge)||M(Ge))return le=le.get(ge)||null,Ke(ie,le,Ge,nt,null);G0(ie,Ge)}return null}function rt(le,ie,ge,Ge){for(var nt=null,At=null,vt=ie,$t=ie=0,cr=null;vt!==null&&$t<ge.length;$t++){vt.index>$t?(cr=vt,vt=null):cr=vt.sibling;var Wt=ct(le,vt,ge[$t],Ge);if(Wt===null){vt===null&&(vt=cr);break}d&&vt&&Wt.alternate===null&&h(le,vt),ie=L(Wt,ie,$t),At===null?nt=Wt:At.sibling=Wt,At=Wt,vt=cr}if($t===ge.length)return w(le,vt),xn&&gc(le,$t),nt;if(vt===null){for(;$t<ge.length;$t++)vt=yt(le,ge[$t],Ge),vt!==null&&(ie=L(vt,ie,$t),At===null?nt=vt:At.sibling=vt,At=vt);return xn&&gc(le,$t),nt}for(vt=A(le,vt);$t<ge.length;$t++)cr=rn(vt,le,$t,ge[$t],Ge),cr!==null&&(d&&cr.alternate!==null&&vt.delete(cr.key===null?$t:cr.key),ie=L(cr,ie,$t),At===null?nt=cr:At.sibling=cr,At=cr);return d&&vt.forEach(function(sl){return h(le,sl)}),xn&&gc(le,$t),nt}function Ir(le,ie,ge,Ge){var nt=M(ge);if(typeof nt!="function")throw Error(o(150));if(ge=nt.call(ge),ge==null)throw Error(o(151));for(var At=nt=null,vt=ie,$t=ie=0,cr=null,Wt=ge.next();vt!==null&&!Wt.done;$t++,Wt=ge.next()){vt.index>$t?(cr=vt,vt=null):cr=vt.sibling;var sl=ct(le,vt,Wt.value,Ge);if(sl===null){vt===null&&(vt=cr);break}d&&vt&&sl.alternate===null&&h(le,vt),ie=L(sl,ie,$t),At===null?nt=sl:At.sibling=sl,At=sl,vt=cr}if(Wt.done)return w(le,vt),xn&&gc(le,$t),nt;if(vt===null){for(;!Wt.done;$t++,Wt=ge.next())Wt=yt(le,Wt.value,Ge),Wt!==null&&(ie=L(Wt,ie,$t),At===null?nt=Wt:At.sibling=Wt,At=Wt);return xn&&gc(le,$t),nt}for(vt=A(le,vt);!Wt.done;$t++,Wt=ge.next())Wt=rn(vt,le,$t,Wt.value,Ge),Wt!==null&&(d&&Wt.alternate!==null&&vt.delete(Wt.key===null?$t:Wt.key),ie=L(Wt,ie,$t),At===null?nt=Wt:At.sibling=Wt,At=Wt);return d&&vt.forEach(function(w7){return h(le,w7)}),xn&&gc(le,$t),nt}function ss(le,ie,ge,Ge){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var nt=ge.key,At=ie;At!==null;){if(At.key===nt){if(nt=ge.type,nt===u){if(At.tag===7){w(le,At.sibling),ie=C(At,ge.props.children),ie.return=le,le=ie;break e}}else if(At.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===b&&N2(nt)===At.type){w(le,At.sibling),ie=C(At,ge.props),ie.ref=rp(le,At,ge),ie.return=le,le=ie;break e}w(le,At);break}else h(le,At);At=At.sibling}ge.type===u?(ie=Sc(ge.props.children,le.mode,Ge,ge.key),ie.return=le,le=ie):(Ge=xy(ge.type,ge.key,ge.props,null,le.mode,Ge),Ge.ref=rp(le,ie,ge),Ge.return=le,le=Ge)}return j(le);case c:e:{for(At=ge.key;ie!==null;){if(ie.key===At)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){w(le,ie.sibling),ie=C(ie,ge.children||[]),ie.return=le,le=ie;break e}else{w(le,ie);break}else h(le,ie);ie=ie.sibling}ie=Bw(ge,le.mode,Ge),ie.return=le,le=ie}return j(le);case b:return At=ge._init,ss(le,ie,At(ge._payload),Ge)}if(J(ge))return rt(le,ie,ge,Ge);if(M(ge))return Ir(le,ie,ge,Ge);G0(le,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ie!==null&&ie.tag===6?(w(le,ie.sibling),ie=C(ie,ge),ie.return=le,le=ie):(w(le,ie),ie=Iw(ge,le.mode,Ge),ie.return=le,le=ie),j(le)):w(le,ie)}return ss}var sf=F2(!0),U2=F2(!1),ip={},ts=ni(ip),sp=ni(ip),of=ni(ip);function go(d){if(d===ip)throw Error(o(174));return d}function X_(d,h){_t(of,h),_t(sp,d),_t(ts,ip),d=Y(h),qt(ts),_t(ts,d)}function af(){qt(ts),qt(sp),qt(of)}function H2(d){var h=go(of.current),w=go(ts.current);h=k(w,d.type,h),w!==h&&(_t(sp,d),_t(ts,h))}function Y_(d){sp.current===d&&(qt(ts),qt(sp))}var Sn=ni(0);function V0(d){for(var h=d;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||uo(w)||qh(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Q_=[];function q_(){for(var d=0;d<Q_.length;d++){var h=Q_[d];he?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Q_.length=0}var $0=a.ReactCurrentDispatcher,ns=a.ReactCurrentBatchConfig,lf=0,Rn=null,Tr=null,lr=null,W0=!1,op=!1,ap=0,Jj=0;function Rr(){throw Error(o(321))}function Z_(d,h){if(h===null)return!1;for(var w=0;w<h.length&&w<d.length;w++)if(!ho(d[w],h[w]))return!1;return!0}function ew(d,h,w,A,C,L){if(lf=L,Rn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,$0.current=d===null||d.memoizedState===null?Qj:qj,d=w(A,C),op){L=0;do{if(op=!1,ap=0,25<=L)throw Error(o(301));L+=1,lr=Tr=null,h.updateQueue=null,$0.current=Zj,d=w(A,C)}while(op)}if($0.current=Y0,h=Tr!==null&&Tr.next!==null,lf=0,lr=Tr=Rn=null,W0=!1,h)throw Error(o(300));return d}function tw(){var d=ap!==0;return ap=0,d}function Yo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Rn.memoizedState=lr=d:lr=lr.next=d,lr}function yo(){if(Tr===null){var d=Rn.alternate;d=d!==null?d.memoizedState:null}else d=Tr.next;var h=lr===null?Rn.memoizedState:lr.next;if(h!==null)lr=h,Tr=d;else{if(d===null)throw Error(o(310));Tr=d,d={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},lr===null?Rn.memoizedState=lr=d:lr=lr.next=d}return lr}function yc(d,h){return typeof h=="function"?h(d):h}function j0(d){var h=yo(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=Tr,C=A.baseQueue,L=w.pending;if(L!==null){if(C!==null){var j=C.next;C.next=L.next,L.next=j}A.baseQueue=C=L,w.pending=null}if(C!==null){L=C.next,A=A.baseState;var re=j=null,ve=null,De=L;do{var Ke=De.lane;if((lf&Ke)===Ke)ve!==null&&(ve=ve.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),A=De.hasEagerState?De.eagerState:d(A,De.action);else{var yt={lane:Ke,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ve===null?(re=ve=yt,j=A):ve=ve.next=yt,Rn.lanes|=Ke,uf|=Ke}De=De.next}while(De!==null&&De!==L);ve===null?j=A:ve.next=re,ho(A,h.memoizedState)||(Ei=!0),h.memoizedState=A,h.baseState=j,h.baseQueue=ve,w.lastRenderedState=A}if(d=w.interleaved,d!==null){C=d;do L=C.lane,Rn.lanes|=L,uf|=L,C=C.next;while(C!==d)}else C===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function J0(d){var h=yo(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=w.dispatch,C=w.pending,L=h.memoizedState;if(C!==null){w.pending=null;var j=C=C.next;do L=d(L,j.action),j=j.next;while(j!==C);ho(L,h.memoizedState)||(Ei=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),w.lastRenderedState=L}return[L,A]}function z2(){}function G2(d,h){var w=Rn,A=yo(),C=h(),L=!ho(A.memoizedState,C);if(L&&(A.memoizedState=C,Ei=!0),A=A.queue,cp(W2.bind(null,w,A,d),[d]),A.getSnapshot!==h||L||lr!==null&&lr.memoizedState.tag&1){if(w.flags|=2048,lp(9,$2.bind(null,w,A,C,h),void 0,null),Vn===null)throw Error(o(349));lf&30||V2(w,h,C)}return C}function V2(d,h,w){d.flags|=16384,d={getSnapshot:h,value:w},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.stores=[d]):(w=h.stores,w===null?h.stores=[d]:w.push(d))}function $2(d,h,w,A){h.value=w,h.getSnapshot=A,j2(h)&&rs(d,1,-1)}function W2(d,h,w){return w(function(){j2(h)&&rs(d,1,-1)})}function j2(d){var h=d.getSnapshot;d=d.value;try{var w=h();return!ho(d,w)}catch{return!0}}function nw(d){var h=Yo();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:d},h.queue=d,d=d.dispatch=Yj.bind(null,Rn,d),[h.memoizedState,d]}function lp(d,h,w,A){return d={tag:d,create:h,destroy:w,deps:A,next:null},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.lastEffect=d.next=d):(w=h.lastEffect,w===null?h.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,h.lastEffect=d)),d}function J2(){return yo().memoizedState}function K0(d,h,w,A){var C=Yo();Rn.flags|=d,C.memoizedState=lp(1|h,w,void 0,A===void 0?null:A)}function X0(d,h,w,A){var C=yo();A=A===void 0?null:A;var L=void 0;if(Tr!==null){var j=Tr.memoizedState;if(L=j.destroy,A!==null&&Z_(A,j.deps)){C.memoizedState=lp(h,w,L,A);return}}Rn.flags|=d,C.memoizedState=lp(1|h,w,L,A)}function rw(d,h){return K0(8390656,8,d,h)}function cp(d,h){return X0(2048,8,d,h)}function K2(d,h){return X0(4,2,d,h)}function X2(d,h){return X0(4,4,d,h)}function Y2(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function Q2(d,h,w){return w=w!=null?w.concat([d]):null,X0(4,4,Y2.bind(null,h,d),w)}function iw(){}function q2(d,h){var w=yo();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&Z_(h,A[1])?A[0]:(w.memoizedState=[d,h],d)}function Z2(d,h){var w=yo();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&Z_(h,A[1])?A[0]:(d=d(),w.memoizedState=[d,h],d)}function Kj(d,h){var w=Vt;Vt=w!==0&&4>w?w:4,d(!0);var A=ns.transition;ns.transition={};try{d(!1),h()}finally{Vt=w,ns.transition=A}}function eB(){return yo().memoizedState}function Xj(d,h,w){var A=nl(d);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},tB(d)?nB(h,w):(rB(d,h,w),w=Vr(),d=rs(d,A,w),d!==null&&iB(d,h,A))}function Yj(d,h,w){var A=nl(d),C={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(tB(d))nB(h,C);else{rB(d,h,C);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,re=L(j,w);if(C.hasEagerState=!0,C.eagerState=re,ho(re,j))return}catch{}finally{}w=Vr(),d=rs(d,A,w),d!==null&&iB(d,h,A)}}function tB(d){var h=d.alternate;return d===Rn||h!==null&&h===Rn}function nB(d,h){op=W0=!0;var w=d.pending;w===null?h.next=h:(h.next=w.next,w.next=h),d.pending=h}function rB(d,h,w){Vn!==null&&d.mode&1&&!(Pt&2)?(d=h.interleaved,d===null?(w.next=w,mo===null?mo=[h]:mo.push(h)):(w.next=d.next,d.next=w),h.interleaved=w):(d=h.pending,d===null?w.next=w:(w.next=d.next,d.next=w),h.pending=w)}function iB(d,h,w){if(w&4194240){var A=h.lanes;A&=d.pendingLanes,w|=A,h.lanes=w,B_(d,w)}}var Y0={readContext:qi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},Qj={readContext:qi,useCallback:function(d,h){return Yo().memoizedState=[d,h===void 0?null:h],d},useContext:qi,useEffect:rw,useImperativeHandle:function(d,h,w){return w=w!=null?w.concat([d]):null,K0(4194308,4,Y2.bind(null,h,d),w)},useLayoutEffect:function(d,h){return K0(4194308,4,d,h)},useInsertionEffect:function(d,h){return K0(4,2,d,h)},useMemo:function(d,h){var w=Yo();return h=h===void 0?null:h,d=d(),w.memoizedState=[d,h],d},useReducer:function(d,h,w){var A=Yo();return h=w!==void 0?w(h):h,A.memoizedState=A.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},A.queue=d,d=d.dispatch=Xj.bind(null,Rn,d),[A.memoizedState,d]},useRef:function(d){var h=Yo();return d={current:d},h.memoizedState=d},useState:nw,useDebugValue:iw,useDeferredValue:function(d){var h=nw(d),w=h[0],A=h[1];return rw(function(){var C=ns.transition;ns.transition={};try{A(d)}finally{ns.transition=C}},[d]),w},useTransition:function(){var d=nw(!1),h=d[0];return d=Kj.bind(null,d[1]),Yo().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,w){var A=Rn,C=Yo();if(xn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=h(),Vn===null)throw Error(o(349));lf&30||V2(A,h,w)}C.memoizedState=w;var L={value:w,getSnapshot:h};return C.queue=L,rw(W2.bind(null,A,L,d),[d]),A.flags|=2048,lp(9,$2.bind(null,A,L,w,h),void 0,null),w},useId:function(){var d=Yo(),h=Vn.identifierPrefix;if(xn){var w=Xo,A=Ko;w=(A&~(1<<32-Bs(A)-1)).toString(32)+w,h=":"+h+"R"+w,w=ap++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=Jj++,h=":"+h+"r"+w.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},qj={readContext:qi,useCallback:q2,useContext:qi,useEffect:cp,useImperativeHandle:Q2,useInsertionEffect:K2,useLayoutEffect:X2,useMemo:Z2,useReducer:j0,useRef:J2,useState:function(){return j0(yc)},useDebugValue:iw,useDeferredValue:function(d){var h=j0(yc),w=h[0],A=h[1];return cp(function(){var C=ns.transition;ns.transition={};try{A(d)}finally{ns.transition=C}},[d]),w},useTransition:function(){var d=j0(yc)[0],h=yo().memoizedState;return[d,h]},useMutableSource:z2,useSyncExternalStore:G2,useId:eB,unstable_isNewReconciler:!1},Zj={readContext:qi,useCallback:q2,useContext:qi,useEffect:cp,useImperativeHandle:Q2,useInsertionEffect:K2,useLayoutEffect:X2,useMemo:Z2,useReducer:J0,useRef:J2,useState:function(){return J0(yc)},useDebugValue:iw,useDeferredValue:function(d){var h=J0(yc),w=h[0],A=h[1];return cp(function(){var C=ns.transition;ns.transition={};try{A(d)}finally{ns.transition=C}},[d]),w},useTransition:function(){var d=J0(yc)[0],h=yo().memoizedState;return[d,h]},useMutableSource:z2,useSyncExternalStore:G2,useId:eB,unstable_isNewReconciler:!1};function sw(d,h){try{var w="",A=h;do w+=jj(A),A=A.return;while(A);var C=w}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:C}}function ow(d,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var e7=typeof WeakMap=="function"?WeakMap:Map;function sB(d,h,w){w=Jo(-1,w),w.tag=3,w.payload={element:null};var A=h.value;return w.callback=function(){dy||(dy=!0,Aw=A),ow(d,h)},w}function oB(d,h,w){w=Jo(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var C=h.value;w.payload=function(){return A(C)},w.callback=function(){ow(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(w.callback=function(){ow(d,h),typeof A!="function"&&(el===null?el=new Set([this]):el.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),w}function aB(d,h,w){var A=d.pingCache;if(A===null){A=d.pingCache=new e7;var C=new Set;A.set(h,C)}else C=A.get(h),C===void 0&&(C=new Set,A.set(h,C));C.has(w)||(C.add(w),d=p7.bind(null,d,h,w),h.then(d,d))}function lB(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function cB(d,h,w,A,C){return d.mode&1?(d.flags|=65536,d.lanes=C,d):(d===h?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=Jo(-1,1),h.tag=2,Za(w,h))),w.lanes|=1),d)}function vo(d){d.flags|=4}function uB(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var up,fp,Q0,q0;if(Se)up=function(d,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)ee(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},fp=function(){},Q0=function(d,h,w,A,C){if(d=d.memoizedProps,d!==A){var L=h.stateNode,j=go(ts.current);w=Z(L,w,d,A,C,j),(h.updateQueue=w)&&vo(h)}},q0=function(d,h,w,A){w!==A&&vo(h)};else if(me){up=function(d,h,w,A){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;w&&A&&(L=en(L,C.type,C.memoizedProps,C)),ee(d,L)}else if(C.tag===6)L=C.stateNode,w&&A&&(L=or(L,C.memoizedProps,C)),ee(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),up(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var fB=function(d,h,w,A){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;w&&A&&(L=en(L,C.type,C.memoizedProps,C)),nn(d,L)}else if(C.tag===6)L=C.stateNode,w&&A&&(L=or(L,C.memoizedProps,C)),nn(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),fB(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};fp=function(d,h){var w=h.stateNode;if(!uB(d,h)){d=w.containerInfo;var A=Xt(d);fB(A,h,!1,!1),w.pendingChildren=A,vo(h),Hn(d,A)}},Q0=function(d,h,w,A,C){var L=d.stateNode,j=d.memoizedProps;if((d=uB(d,h))&&j===A)h.stateNode=L;else{var re=h.stateNode,ve=go(ts.current),De=null;j!==A&&(De=Z(re,w,j,A,C,ve)),d&&De===null?h.stateNode=L:(L=tt(L,De,w,j,A,h,d,re),se(L,w,A,C,ve)&&vo(h),h.stateNode=L,d?vo(h):up(L,h,!1,!1))}},q0=function(d,h,w,A){w!==A?(d=go(of.current),w=go(ts.current),h.stateNode=oe(A,d,w,h),vo(h)):h.stateNode=d.stateNode}}else fp=function(){},Q0=function(){},q0=function(){};function dp(d,h){if(!xn)switch(d.tailMode){case"hidden":h=d.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Pr(d){var h=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(h)for(var C=d.child;C!==null;)w|=C.lanes|C.childLanes,A|=C.subtreeFlags&14680064,A|=C.flags&14680064,C.return=d,C=C.sibling;else for(C=d.child;C!==null;)w|=C.lanes|C.childLanes,A|=C.subtreeFlags,A|=C.flags,C.return=d,C=C.sibling;return d.subtreeFlags|=A,d.childLanes=w,h}function t7(d,h,w){var A=h.pendingProps;switch(W_(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(h),null;case 1:return xr(h.type)&&C0(),Pr(h),null;case 3:return A=h.stateNode,af(),qt(tn),qt(Gn),q_(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(np(h)?vo(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ds!==null&&(Cw(Ds),Ds=null))),fp(d,h),Pr(h),null;case 5:Y_(h),w=go(of.current);var C=h.type;if(d!==null&&h.stateNode!=null)Q0(d,h,C,A,w),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(o(166));return Pr(h),null}if(d=go(ts.current),np(h)){if(!fe)throw Error(o(175));d=Ae(h.stateNode,h.type,h.memoizedProps,w,d,h,!tp),h.updateQueue=d,d!==null&&vo(h)}else{var L=q(C,A,w,d,h);up(L,h,!1,!1),h.stateNode=L,se(L,C,A,w,d)&&vo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Pr(h),null;case 6:if(d&&h.stateNode!=null)q0(d,h,d.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(o(166));if(d=go(of.current),w=go(ts.current),np(h)){if(!fe)throw Error(o(176));if(d=h.stateNode,A=h.memoizedProps,(w=lt(d,A,h,!tp))&&(C=Si,C!==null))switch(L=(C.mode&1)!==0,C.tag){case 3:vr(C.stateNode.containerInfo,d,A,L);break;case 5:wi(C.type,C.memoizedProps,C.stateNode,d,A,L)}w&&vo(h)}else h.stateNode=oe(A,d,w,h)}return Pr(h),null;case 13:if(qt(Sn),A=h.memoizedState,xn&&Ai!==null&&h.mode&1&&!(h.flags&128)){for(d=Ai;d;)d=$(d);return rf(),h.flags|=98560,h}if(A!==null&&A.dehydrated!==null){if(A=np(h),d===null){if(!A)throw Error(o(318));if(!fe)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ft(d,h)}else rf(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Pr(h),null}return Ds!==null&&(Cw(Ds),Ds=null),h.flags&128?(h.lanes=w,h):(A=A!==null,w=!1,d===null?np(h):w=d.memoizedState!==null,A&&!w&&(h.child.flags|=8192,h.mode&1&&(d===null||Sn.current&1?Zn===0&&(Zn=3):Rw())),h.updateQueue!==null&&(h.flags|=4),Pr(h),null);case 4:return af(),fp(d,h),d===null&&Oe(h.stateNode.containerInfo),Pr(h),null;case 10:return U_(h.type._context),Pr(h),null;case 17:return xr(h.type)&&C0(),Pr(h),null;case 19:if(qt(Sn),C=h.memoizedState,C===null)return Pr(h),null;if(A=(h.flags&128)!==0,L=C.rendering,L===null)if(A)dp(C,!1);else{if(Zn!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=V0(d),L!==null){for(h.flags|=128,dp(C,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=w,A=h.child;A!==null;)w=A,C=d,w.flags&=14680066,L=w.alternate,L===null?(w.childLanes=0,w.lanes=C,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=L.childLanes,w.lanes=L.lanes,w.child=L.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=L.memoizedProps,w.memoizedState=L.memoizedState,w.updateQueue=L.updateQueue,w.type=L.type,C=L.dependencies,w.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),A=A.sibling;return _t(Sn,Sn.current&1|2),h.child}d=d.sibling}C.tail!==null&&ar()>Sw&&(h.flags|=128,A=!0,dp(C,!1),h.lanes=4194304)}else{if(!A)if(d=V0(L),d!==null){if(h.flags|=128,A=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),dp(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!xn)return Pr(h),null}else 2*ar()-C.renderingStartTime>Sw&&w!==1073741824&&(h.flags|=128,A=!0,dp(C,!1),h.lanes=4194304);C.isBackwards?(L.sibling=h.child,h.child=L):(d=C.last,d!==null?d.sibling=L:h.child=L,C.last=L)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=ar(),h.sibling=null,d=Sn.current,_t(Sn,A?d&1|2:d&1),h):(Pr(h),null);case 22:case 23:return Tw(),A=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(h.flags|=8192),A&&h.mode&1?Mi&1073741824&&(Pr(h),Se&&h.subtreeFlags&6&&(h.flags|=8192)):Pr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var n7=a.ReactCurrentOwner,Ei=!1;function Gr(d,h,w,A){h.child=d===null?U2(h,null,w,A):sf(h,d.child,w,A)}function dB(d,h,w,A,C){w=w.render;var L=h.ref;return ef(h,C),A=ew(d,h,w,A,L,C),w=tw(),d!==null&&!Ei?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,Qo(d,h,C)):(xn&&w&&$_(h),h.flags|=1,Gr(d,h,A,C),h.child)}function hB(d,h,w,A,C){if(d===null){var L=w.type;return typeof L=="function"&&!Pw(L)&&L.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=L,pB(d,h,L,A,C)):(d=xy(w.type,null,A,h,h.mode,C),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&C)){var j=L.memoizedProps;if(w=w.compare,w=w!==null?w:D0,w(j,A)&&d.ref===h.ref)return Qo(d,h,C)}return h.flags|=1,d=il(L,A),d.ref=h.ref,d.return=h,h.child=d}function pB(d,h,w,A,C){if(d!==null&&D0(d.memoizedProps,A)&&d.ref===h.ref)if(Ei=!1,(d.lanes&C)!==0)d.flags&131072&&(Ei=!0);else return h.lanes=d.lanes,Qo(d,h,C);return aw(d,h,w,A,C)}function mB(d,h,w){var A=h.pendingProps,C=A.children,L=d!==null?d.memoizedState:null;if(A.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},_t(cf,Mi),Mi|=w;else if(w&1073741824)h.memoizedState={baseLanes:0,cachePool:null},A=L!==null?L.baseLanes:w,_t(cf,Mi),Mi|=A;else return d=L!==null?L.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,_t(cf,Mi),Mi|=d,null;else L!==null?(A=L.baseLanes|w,h.memoizedState=null):A=w,_t(cf,Mi),Mi|=A;return Gr(d,h,C,w),h.child}function gB(d,h){var w=h.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function aw(d,h,w,A,C){var L=xr(w)?Is:Gn.current;return L=Qa(h,L),ef(h,C),w=ew(d,h,w,A,L,C),A=tw(),d!==null&&!Ei?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,Qo(d,h,C)):(xn&&A&&$_(h),h.flags|=1,Gr(d,h,w,C),h.child)}function yB(d,h,w,A,C){if(xr(w)){var L=!0;T0(h)}else L=!1;if(ef(h,C),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),I2(h,w,A),V_(h,w,A,C),A=!0;else if(d===null){var j=h.stateNode,re=h.memoizedProps;j.props=re;var ve=j.context,De=w.contextType;typeof De=="object"&&De!==null?De=qi(De):(De=xr(w)?Is:Gn.current,De=Qa(h,De));var Ke=w.getDerivedStateFromProps,yt=typeof Ke=="function"||typeof j.getSnapshotBeforeUpdate=="function";yt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(re!==A||ve!==De)&&B2(h,j,A,De),qa=!1;var ct=h.memoizedState;j.state=ct,F0(h,A,j,C),ve=h.memoizedState,re!==A||ct!==ve||tn.current||qa?(typeof Ke=="function"&&(G_(h,w,Ke,A),ve=h.memoizedState),(re=qa||P2(h,w,re,A,ct,ve,De))?(yt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=ve),j.props=A,j.state=ve,j.context=De,A=re):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{j=h.stateNode,M2(d,h),re=h.memoizedProps,De=h.type===h.elementType?re:Ls(h.type,re),j.props=De,yt=h.pendingProps,ct=j.context,ve=w.contextType,typeof ve=="object"&&ve!==null?ve=qi(ve):(ve=xr(w)?Is:Gn.current,ve=Qa(h,ve));var rn=w.getDerivedStateFromProps;(Ke=typeof rn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(re!==yt||ct!==ve)&&B2(h,j,A,ve),qa=!1,ct=h.memoizedState,j.state=ct,F0(h,A,j,C);var rt=h.memoizedState;re!==yt||ct!==rt||tn.current||qa?(typeof rn=="function"&&(G_(h,w,rn,A),rt=h.memoizedState),(De=qa||P2(h,w,De,A,ct,rt,ve)||!1)?(Ke||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(A,rt,ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(A,rt,ve)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||re===d.memoizedProps&&ct===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&ct===d.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=rt),j.props=A,j.state=rt,j.context=ve,A=De):(typeof j.componentDidUpdate!="function"||re===d.memoizedProps&&ct===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&ct===d.memoizedState||(h.flags|=1024),A=!1)}return lw(d,h,w,A,L,C)}function lw(d,h,w,A,C,L){gB(d,h);var j=(h.flags&128)!==0;if(!A&&!j)return C&&_2(h,w,!1),Qo(d,h,L);A=h.stateNode,n7.current=h;var re=j&&typeof w.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,d!==null&&j?(h.child=sf(h,d.child,null,L),h.child=sf(h,null,re,L)):Gr(d,h,re,L),h.memoizedState=A.state,C&&_2(h,w,!0),h.child}function vB(d){var h=d.stateNode;h.pendingContext?x2(d,h.pendingContext,h.pendingContext!==h.context):h.context&&x2(d,h.context,!1),X_(d,h.containerInfo)}function xB(d,h,w,A,C){return rf(),K_(C),h.flags|=256,Gr(d,h,w,A),h.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function ey(d){return{baseLanes:d,cachePool:null}}function bB(d,h,w){var A=h.pendingProps,C=Sn.current,L=!1,j=(h.flags&128)!==0,re;if((re=j)||(re=d!==null&&d.memoizedState===null?!1:(C&2)!==0),re?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(C|=1),_t(Sn,C&1),d===null)return J_(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?qh(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(C=A.children,d=A.fallback,L?(A=h.mode,L=h.child,C={mode:"hidden",children:C},!(A&1)&&L!==null?(L.childLanes=0,L.pendingProps=C):L=by(C,A,0,null),d=Sc(d,A,w,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=ey(w),h.memoizedState=Z0,d):cw(h,C));if(C=d.memoizedState,C!==null){if(re=C.dehydrated,re!==null){if(j)return h.flags&256?(h.flags&=-257,ty(d,h,w,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=A.fallback,C=h.mode,A=by({mode:"visible",children:A.children},C,0,null),L=Sc(L,C,w,null),L.flags|=2,A.return=h,L.return=h,A.sibling=L,h.child=A,h.mode&1&&sf(h,d.child,null,w),h.child.memoizedState=ey(w),h.memoizedState=Z0,L);if(!(h.mode&1))h=ty(d,h,w,null);else if(qh(re))h=ty(d,h,w,Error(o(419)));else if(A=(w&d.childLanes)!==0,Ei||A){if(A=Vn,A!==null){switch(w&-w){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}A=L&(A.suspendedLanes|w)?0:L,A!==0&&A!==C.retryLane&&(C.retryLane=A,rs(d,A,-1))}Rw(),h=ty(d,h,w,Error(o(421)))}else uo(re)?(h.flags|=128,h.child=d.child,h=m7.bind(null,d),R_(re,h),h=null):(w=C.treeContext,fe&&(Ai=ae(re),Si=h,xn=!0,Ds=null,tp=!1,w!==null&&(Zi[es++]=Ko,Zi[es++]=Xo,Zi[es++]=mc,Ko=w.id,Xo=w.overflow,mc=h)),h=cw(h,h.pendingProps.children),h.flags|=4096);return h}return L?(A=wB(d,h,A.children,A.fallback,w),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?ey(w):{baseLanes:C.baseLanes|w,cachePool:null},L.childLanes=d.childLanes&~w,h.memoizedState=Z0,A):(w=_B(d,h,A.children,w),h.memoizedState=null,w)}return L?(A=wB(d,h,A.children,A.fallback,w),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?ey(w):{baseLanes:C.baseLanes|w,cachePool:null},L.childLanes=d.childLanes&~w,h.memoizedState=Z0,A):(w=_B(d,h,A.children,w),h.memoizedState=null,w)}function cw(d,h){return h=by({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function _B(d,h,w,A){var C=d.child;return d=C.sibling,w=il(C,{mode:"visible",children:w}),!(h.mode&1)&&(w.lanes=A),w.return=h,w.sibling=null,d!==null&&(A=h.deletions,A===null?(h.deletions=[d],h.flags|=16):A.push(d)),h.child=w}function wB(d,h,w,A,C){var L=h.mode;d=d.child;var j=d.sibling,re={mode:"hidden",children:w};return!(L&1)&&h.child!==d?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=il(d,re),w.subtreeFlags=d.subtreeFlags&14680064),j!==null?A=il(j,A):(A=Sc(A,L,C,null),A.flags|=2),A.return=h,w.return=h,w.sibling=A,h.child=w,A}function ty(d,h,w,A){return A!==null&&K_(A),sf(h,d.child,null,w),d=cw(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function SB(d,h,w){d.lanes|=h;var A=d.alternate;A!==null&&(A.lanes|=h),H_(d.return,h,w)}function uw(d,h,w,A,C){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:C}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=A,L.tail=w,L.tailMode=C)}function AB(d,h,w){var A=h.pendingProps,C=A.revealOrder,L=A.tail;if(Gr(d,h,A.children,w),A=Sn.current,A&2)A=A&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&SB(d,w,h);else if(d.tag===19)SB(d,w,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(_t(Sn,A),!(h.mode&1))h.memoizedState=null;else switch(C){case"forwards":for(w=h.child,C=null;w!==null;)d=w.alternate,d!==null&&V0(d)===null&&(C=w),w=w.sibling;w=C,w===null?(C=h.child,h.child=null):(C=w.sibling,w.sibling=null),uw(h,!1,C,w,L);break;case"backwards":for(w=null,C=h.child,h.child=null;C!==null;){if(d=C.alternate,d!==null&&V0(d)===null){h.child=C;break}d=C.sibling,C.sibling=w,w=C,C=d}uw(h,!0,w,null,L);break;case"together":uw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Qo(d,h,w){if(d!==null&&(h.dependencies=d.dependencies),uf|=h.lanes,!(w&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,w=il(d,d.pendingProps),h.child=w,w.return=h;d.sibling!==null;)d=d.sibling,w=w.sibling=il(d,d.pendingProps),w.return=h;w.sibling=null}return h.child}function r7(d,h,w){switch(h.tag){case 3:vB(h),rf();break;case 5:H2(h);break;case 1:xr(h.type)&&T0(h);break;case 4:X_(h,h.stateNode.containerInfo);break;case 10:E2(h,h.type._context,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(_t(Sn,Sn.current&1),h.flags|=128,null):w&h.child.childLanes?bB(d,h,w):(_t(Sn,Sn.current&1),d=Qo(d,h,w),d!==null?d.sibling:null);_t(Sn,Sn.current&1);break;case 19:if(A=(w&h.childLanes)!==0,d.flags&128){if(A)return AB(d,h,w);h.flags|=128}var C=h.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),_t(Sn,Sn.current),A)break;return null;case 22:case 23:return h.lanes=0,mB(d,h,w)}return Qo(d,h,w)}function i7(d,h){switch(W_(h),h.tag){case 1:return xr(h.type)&&C0(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return af(),qt(tn),qt(Gn),q_(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Y_(h),null;case 13:if(qt(Sn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));rf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return qt(Sn),null;case 4:return af(),null;case 10:return U_(h.type._context),null;case 22:case 23:return Tw(),null;case 24:return null;default:return null}}var ny=!1,vc=!1,s7=typeof WeakSet=="function"?WeakSet:Set,He=null;function ry(d,h){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){si(d,h,A)}else w.current=null}function fw(d,h,w){try{w()}catch(A){si(d,h,A)}}var EB=!1;function o7(d,h){for(U(d.containerInfo),He=h;He!==null;)if(d=He,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,He=h;else for(;He!==null;){d=He;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,C=w.memoizedState,L=d.stateNode,j=L.getSnapshotBeforeUpdate(d.elementType===d.type?A:Ls(d.type,A),C);L.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Se&&ze(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){si(d,d.return,re)}if(h=d.sibling,h!==null){h.return=d.return,He=h;break}He=d.return}return w=EB,EB=!1,w}function xc(d,h,w){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var C=A=A.next;do{if((C.tag&d)===d){var L=C.destroy;C.destroy=void 0,L!==void 0&&fw(h,w,L)}C=C.next}while(C!==A)}}function hp(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==h)}}function dw(d){var h=d.ref;if(h!==null){var w=d.stateNode;switch(d.tag){case 5:d=X(w);break;default:d=w}typeof h=="function"?h(d):h.current=d}}function MB(d,h,w){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(B0,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var A=d=d.next;do{var C=A,L=C.destroy;C=C.tag,L!==void 0&&(C&2||C&4)&&fw(h,w,L),A=A.next}while(A!==d)}break;case 1:if(ry(h,w),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(j){si(h,w,j)}break;case 5:ry(h,w);break;case 4:Se?BB(d,h,w):me&&me&&(h=h.stateNode.containerInfo,w=Xt(h),_i(h,w))}}function CB(d,h,w){for(var A=h;;)if(MB(d,A,w),A.child===null||Se&&A.tag===4){if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function TB(d){var h=d.alternate;h!==null&&(d.alternate=null,TB(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ne(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function RB(d){return d.tag===5||d.tag===3||d.tag===4}function PB(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||RB(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function IB(d){if(Se){e:{for(var h=d.return;h!==null;){if(RB(h))break e;h=h.return}throw Error(o(160))}var w=h;switch(w.tag){case 5:h=w.stateNode,w.flags&32&&(Lt(h),w.flags&=-33),w=PB(d),pw(d,w,h);break;case 3:case 4:h=w.stateNode.containerInfo,w=PB(d),hw(d,w,h);break;default:throw Error(o(161))}}}function hw(d,h,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?We(w,d,h):Ve(w,d);else if(A!==4&&(d=d.child,d!==null))for(hw(d,h,w),d=d.sibling;d!==null;)hw(d,h,w),d=d.sibling}function pw(d,h,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?ot(w,d,h):st(w,d);else if(A!==4&&(d=d.child,d!==null))for(pw(d,h,w),d=d.sibling;d!==null;)pw(d,h,w),d=d.sibling}function BB(d,h,w){for(var A=h,C=!1,L,j;;){if(!C){C=A.return;e:for(;;){if(C===null)throw Error(o(160));switch(L=C.stateNode,C.tag){case 5:j=!1;break e;case 3:L=L.containerInfo,j=!0;break e;case 4:L=L.containerInfo,j=!0;break e}C=C.return}C=!0}if(A.tag===5||A.tag===6)CB(d,A,w),j?St(L,A.stateNode):Ze(L,A.stateNode);else if(A.tag===18)j?It(L,A.stateNode):Rt(L,A.stateNode);else if(A.tag===4){if(A.child!==null){L=A.stateNode.containerInfo,j=!0,A.child.return=A,A=A.child;continue}}else if(MB(d,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return,A.tag===4&&(C=!1)}A.sibling.return=A.return,A=A.sibling}}function mw(d,h){if(Se){switch(h.tag){case 0:case 11:case 14:case 15:xc(3,h,h.return),hp(3,h),xc(5,h,h.return);return;case 1:return;case 5:var w=h.stateNode;if(w!=null){var A=h.memoizedProps;d=d!==null?d.memoizedProps:A;var C=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&qe(w,L,C,d,A,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));w=h.memoizedProps,be(h.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:fe&&d!==null&&d.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);return;case 12:return;case 13:iy(h);return;case 19:iy(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:xc(3,h,h.return),hp(3,h),xc(5,h,h.return);return;case 12:return;case 13:iy(h);return;case 19:iy(h);return;case 3:fe&&d!==null&&d.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,_i(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function iy(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new s7),h.forEach(function(A){var C=g7.bind(null,d,A);w.has(A)||(w.add(A),A.then(C,C))})}}function a7(d,h){for(He=h;He!==null;){h=He;var w=h.deletions;if(w!==null)for(var A=0;A<w.length;A++){var C=w[A];try{var L=d;Se?BB(L,C,h):CB(L,C,h);var j=C.alternate;j!==null&&(j.return=null),C.return=null}catch(nt){si(C,h,nt)}}if(w=h.child,h.subtreeFlags&12854&&w!==null)w.return=h,He=w;else for(;He!==null;){h=He;try{var re=h.flags;if(re&32&&Se&&Lt(h.stateNode),re&512){var ve=h.alternate;if(ve!==null){var De=ve.ref;De!==null&&(typeof De=="function"?De(null):De.current=null)}}if(re&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ke=h.alternate;(Ke===null||Ke.memoizedState===null)&&(ww=ar())}break;case 22:var yt=h.memoizedState!==null,ct=h.alternate,rn=ct!==null&&ct.memoizedState!==null;if(w=h,Se){e:if(A=w,C=yt,L=null,Se)for(var rt=A;;){if(rt.tag===5){if(L===null){L=rt;var Ir=rt.stateNode;C?Jt(Ir):xe(rt.stateNode,rt.memoizedProps)}}else if(rt.tag===6){if(L===null){var ss=rt.stateNode;C?te(ss):Pe(ss,rt.memoizedProps)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===A)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===A)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===A)break e;L===rt&&(L=null),rt=rt.return}L===rt&&(L=null),rt.sibling.return=rt.return,rt=rt.sibling}}if(yt&&!rn&&w.mode&1){He=w;for(var le=w.child;le!==null;){for(w=He=le;He!==null;){A=He;var ie=A.child;switch(A.tag){case 0:case 11:case 14:case 15:xc(4,A,A.return);break;case 1:ry(A,A.return);var ge=A.stateNode;if(typeof ge.componentWillUnmount=="function"){var Ge=A.return;try{ge.props=A.memoizedProps,ge.state=A.memoizedState,ge.componentWillUnmount()}catch(nt){si(A,Ge,nt)}}break;case 5:ry(A,A.return);break;case 22:if(A.memoizedState!==null){OB(w);continue}}ie!==null?(ie.return=A,He=ie):OB(w)}le=le.sibling}}}switch(re&4102){case 2:IB(h),h.flags&=-3;break;case 6:IB(h),h.flags&=-3,mw(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,mw(h.alternate,h);break;case 4:mw(h.alternate,h)}}catch(nt){si(h,h.return,nt)}if(w=h.sibling,w!==null){w.return=h.return,He=w;break}He=h.return}}}function l7(d,h,w){He=d,LB(d)}function LB(d,h,w){for(var A=(d.mode&1)!==0;He!==null;){var C=He,L=C.child;if(C.tag===22&&A){var j=C.memoizedState!==null||ny;if(!j){var re=C.alternate,ve=re!==null&&re.memoizedState!==null||vc;re=ny;var De=vc;if(ny=j,(vc=ve)&&!De)for(He=C;He!==null;)j=He,ve=j.child,j.tag===22&&j.memoizedState!==null?kB(C):ve!==null?(ve.return=j,He=ve):kB(C);for(;L!==null;)He=L,LB(L),L=L.sibling;He=C,ny=re,vc=De}DB(d)}else C.subtreeFlags&8772&&L!==null?(L.return=C,He=L):DB(d)}}function DB(d){for(;He!==null;){var h=He;if(h.flags&8772){var w=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:vc||hp(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!vc)if(w===null)A.componentDidMount();else{var C=h.elementType===h.type?w.memoizedProps:Ls(h.type,w.memoizedProps);A.componentDidUpdate(C,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&T2(h,L,A);break;case 3:var j=h.updateQueue;if(j!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=X(h.child.stateNode);break;case 1:w=h.child.stateNode}T2(h,j,w)}break;case 5:var re=h.stateNode;w===null&&h.flags&4&&Xe(re,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&h.memoizedState===null){var ve=h.alternate;if(ve!==null){var De=ve.memoizedState;if(De!==null){var Ke=De.dehydrated;Ke!==null&&Tt(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}vc||h.flags&512&&dw(h)}catch(yt){si(h,h.return,yt)}}if(h===d){He=null;break}if(w=h.sibling,w!==null){w.return=h.return,He=w;break}He=h.return}}function OB(d){for(;He!==null;){var h=He;if(h===d){He=null;break}var w=h.sibling;if(w!==null){w.return=h.return,He=w;break}He=h.return}}function kB(d){for(;He!==null;){var h=He;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{hp(4,h)}catch(ve){si(h,w,ve)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var C=h.return;try{A.componentDidMount()}catch(ve){si(h,C,ve)}}var L=h.return;try{dw(h)}catch(ve){si(h,L,ve)}break;case 5:var j=h.return;try{dw(h)}catch(ve){si(h,j,ve)}}}catch(ve){si(h,h.return,ve)}if(h===d){He=null;break}var re=h.sibling;if(re!==null){re.return=h.return,He=re;break}He=h.return}}var sy=0,oy=1,ay=2,ly=3,cy=4;if(typeof Symbol=="function"&&Symbol.for){var pp=Symbol.for;sy=pp("selector.component"),oy=pp("selector.has_pseudo_class"),ay=pp("selector.role"),ly=pp("selector.test_id"),cy=pp("selector.text")}function gw(d){var h=_e(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=ht(d),d===null)throw Error(o(362));return d.stateNode.current}function yw(d,h){switch(h.$$typeof){case sy:if(d.type===h.value)return!0;break;case oy:e:{h=h.value,d=[d,0];for(var w=0;w<d.length;){var A=d[w++],C=d[w++],L=h[C];if(A.tag!==5||!pe(A)){for(;L!=null&&yw(A,L);)C++,L=h[C];if(C===h.length){h=!0;break e}else for(A=A.child;A!==null;)d.push(A,C),A=A.sibling}}h=!1}return h;case ay:if(d.tag===5&&Te(d.stateNode,h.value))return!0;break;case cy:if((d.tag===5||d.tag===6)&&(d=F(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case ly:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function vw(d){switch(d.$$typeof){case sy:return"<"+(R(d.value)||"Unknown")+">";case oy:return":has("+(vw(d)||"")+")";case ay:return'[role="'+d.value+'"]';case cy:return'"'+d.value+'"';case ly:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function NB(d,h){var w=[];d=[d,0];for(var A=0;A<d.length;){var C=d[A++],L=d[A++],j=h[L];if(C.tag!==5||!pe(C)){for(;j!=null&&yw(C,j);)L++,j=h[L];if(L===h.length)w.push(C);else for(C=C.child;C!==null;)d.push(C,L),C=C.sibling}}return w}function xw(d,h){if(!$e)throw Error(o(363));d=gw(d),d=NB(d,h),h=[],d=Array.from(d);for(var w=0;w<d.length;){var A=d[w++];if(A.tag===5)pe(A)||h.push(A.stateNode);else for(A=A.child;A!==null;)d.push(A),A=A.sibling}return h}var c7=Math.ceil,uy=a.ReactCurrentDispatcher,bw=a.ReactCurrentOwner,On=a.ReactCurrentBatchConfig,Pt=0,Vn=null,$n=null,br=0,Mi=0,cf=ni(0),Zn=0,mp=null,uf=0,fy=0,_w=0,gp=null,ri=null,ww=0,Sw=1/0;function ff(){Sw=ar()+500}var dy=!1,Aw=null,el=null,hy=!1,tl=null,py=0,yp=0,Ew=null,my=-1,gy=0;function Vr(){return Pt&6?ar():my!==-1?my:my=ar()}function nl(d){return d.mode&1?Pt&2&&br!==0?br&-br:Wj.transition!==null?(gy===0&&(d=R0,R0<<=1,!(R0&4194240)&&(R0=64),gy=d),gy):(d=Vt,d!==0?d:Ie()):1}function rs(d,h,w){if(50<yp)throw yp=0,Ew=null,Error(o(185));var A=yy(d,h);return A===null?null:(ep(A,h,w),(!(Pt&2)||A!==Vn)&&(A===Vn&&(!(Pt&2)&&(fy|=h),Zn===4&&rl(A,br)),ii(A,w),h===1&&Pt===0&&!(d.mode&1)&&(ff(),L0&&po())),A)}function yy(d,h){d.lanes|=h;var w=d.alternate;for(w!==null&&(w.lanes|=h),w=d,d=d.return;d!==null;)d.childLanes|=h,w=d.alternate,w!==null&&(w.childLanes|=h),w=d,d=d.return;return w.tag===3?w.stateNode:null}function ii(d,h){var w=d.callbackNode;kj(d,h);var A=I0(d,d===Vn?br:0);if(A===0)w!==null&&S2(w),d.callbackNode=null,d.callbackPriority=0;else if(h=A&-A,d.callbackPriority!==h){if(w!=null&&S2(w),h===1)d.tag===0?$j(UB.bind(null,d)):A2(UB.bind(null,d)),Ee?Le(function(){Pt===0&&po()}):L_(D_,po),w=null;else{switch(w2(A)){case 1:w=D_;break;case 4:w=Hj;break;case 16:w=O_;break;case 536870912:w=zj;break;default:w=O_}w=KB(w,FB.bind(null,d))}d.callbackPriority=h,d.callbackNode=w}}function FB(d,h){if(my=-1,gy=0,Pt&6)throw Error(o(327));var w=d.callbackNode;if(wc()&&d.callbackNode!==w)return null;var A=I0(d,d===Vn?br:0);if(A===0)return null;if(A&30||A&d.expiredLanes||h)h=vy(d,A);else{h=A;var C=Pt;Pt|=2;var L=GB();(Vn!==d||br!==h)&&(ff(),bc(d,h));do try{d7();break}catch(re){zB(d,re)}while(1);F_(),uy.current=L,Pt=C,$n!==null?h=0:(Vn=null,br=0,h=Zn)}if(h!==0){if(h===2&&(C=P_(d),C!==0&&(A=C,h=Mw(d,C))),h===1)throw w=mp,bc(d,0),rl(d,A),ii(d,ar()),w;if(h===6)rl(d,A);else{if(C=d.current.alternate,!(A&30)&&!u7(C)&&(h=vy(d,A),h===2&&(L=P_(d),L!==0&&(A=L,h=Mw(d,L))),h===1))throw w=mp,bc(d,0),rl(d,A),ii(d,ar()),w;switch(d.finishedWork=C,d.finishedLanes=A,h){case 0:case 1:throw Error(o(345));case 2:_c(d,ri);break;case 3:if(rl(d,A),(A&130023424)===A&&(h=ww+500-ar(),10<h)){if(I0(d,0)!==0)break;if(C=d.suspendedLanes,(C&A)!==A){Vr(),d.pingedLanes|=d.suspendedLanes&C;break}d.timeoutHandle=Q(_c.bind(null,d,ri),h);break}_c(d,ri);break;case 4:if(rl(d,A),(A&4194240)===A)break;for(h=d.eventTimes,C=-1;0<A;){var j=31-Bs(A);L=1<<j,j=h[j],j>C&&(C=j),A&=~L}if(A=C,A=ar()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*c7(A/1960))-A,10<A){d.timeoutHandle=Q(_c.bind(null,d,ri),A);break}_c(d,ri);break;case 5:_c(d,ri);break;default:throw Error(o(329))}}}return ii(d,ar()),d.callbackNode===w?FB.bind(null,d):null}function Mw(d,h){var w=gp;return d.current.memoizedState.isDehydrated&&(bc(d,h).flags|=256),d=vy(d,h),d!==2&&(h=ri,ri=w,h!==null&&Cw(h)),d}function Cw(d){ri===null?ri=d:ri.push.apply(ri,d)}function u7(d){for(var h=d;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var C=w[A],L=C.getSnapshot;C=C.value;try{if(!ho(L(),C))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function rl(d,h){for(h&=~_w,h&=~fy,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var w=31-Bs(h),A=1<<w;d[w]=-1,h&=~A}}function UB(d){if(Pt&6)throw Error(o(327));wc();var h=I0(d,0);if(!(h&1))return ii(d,ar()),null;var w=vy(d,h);if(d.tag!==0&&w===2){var A=P_(d);A!==0&&(h=A,w=Mw(d,A))}if(w===1)throw w=mp,bc(d,0),rl(d,h),ii(d,ar()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,_c(d,ri),ii(d,ar()),null}function HB(d){tl!==null&&tl.tag===0&&!(Pt&6)&&wc();var h=Pt;Pt|=1;var w=On.transition,A=Vt;try{if(On.transition=null,Vt=1,d)return d()}finally{Vt=A,On.transition=w,Pt=h,!(Pt&6)&&po()}}function Tw(){Mi=cf.current,qt(cf)}function bc(d,h){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==ue&&(d.timeoutHandle=ue,Me(w)),$n!==null)for(w=$n.return;w!==null;){var A=w;switch(W_(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&C0();break;case 3:af(),qt(tn),qt(Gn),q_();break;case 5:Y_(A);break;case 4:af();break;case 13:qt(Sn);break;case 19:qt(Sn);break;case 10:U_(A.type._context);break;case 22:case 23:Tw()}w=w.return}if(Vn=d,$n=d=il(d.current,null),br=Mi=h,Zn=0,mp=null,_w=fy=uf=0,ri=gp=null,mo!==null){for(h=0;h<mo.length;h++)if(w=mo[h],A=w.interleaved,A!==null){w.interleaved=null;var C=A.next,L=w.pending;if(L!==null){var j=L.next;L.next=C,A.next=j}w.pending=A}mo=null}return d}function zB(d,h){do{var w=$n;try{if(F_(),$0.current=Y0,W0){for(var A=Rn.memoizedState;A!==null;){var C=A.queue;C!==null&&(C.pending=null),A=A.next}W0=!1}if(lf=0,lr=Tr=Rn=null,op=!1,ap=0,bw.current=null,w===null||w.return===null){Zn=1,mp=h,$n=null;break}e:{var L=d,j=w.return,re=w,ve=h;if(h=br,re.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var De=ve,Ke=re,yt=Ke.tag;if(!(Ke.mode&1)&&(yt===0||yt===11||yt===15)){var ct=Ke.alternate;ct?(Ke.updateQueue=ct.updateQueue,Ke.memoizedState=ct.memoizedState,Ke.lanes=ct.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var rn=lB(j);if(rn!==null){rn.flags&=-257,cB(rn,j,re,L,h),rn.mode&1&&aB(L,De,h),h=rn,ve=De;var rt=h.updateQueue;if(rt===null){var Ir=new Set;Ir.add(ve),h.updateQueue=Ir}else rt.add(ve);break e}else{if(!(h&1)){aB(L,De,h),Rw();break e}ve=Error(o(426))}}else if(xn&&re.mode&1){var ss=lB(j);if(ss!==null){!(ss.flags&65536)&&(ss.flags|=256),cB(ss,j,re,L,h),K_(ve);break e}}L=ve,Zn!==4&&(Zn=2),gp===null?gp=[L]:gp.push(L),ve=sw(ve,re),re=j;do{switch(re.tag){case 3:re.flags|=65536,h&=-h,re.lanes|=h;var le=sB(re,ve,h);C2(re,le);break e;case 1:L=ve;var ie=re.type,ge=re.stateNode;if(!(re.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(el===null||!el.has(ge)))){re.flags|=65536,h&=-h,re.lanes|=h;var Ge=oB(re,L,h);C2(re,Ge);break e}}re=re.return}while(re!==null)}$B(w)}catch(nt){h=nt,$n===w&&w!==null&&($n=w=w.return);continue}break}while(1)}function GB(){var d=uy.current;return uy.current=Y0,d===null?Y0:d}function Rw(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),Vn===null||!(uf&268435455)&&!(fy&268435455)||rl(Vn,br)}function vy(d,h){var w=Pt;Pt|=2;var A=GB();Vn===d&&br===h||bc(d,h);do try{f7();break}catch(C){zB(d,C)}while(1);if(F_(),Pt=w,uy.current=A,$n!==null)throw Error(o(261));return Vn=null,br=0,Zn}function f7(){for(;$n!==null;)VB($n)}function d7(){for(;$n!==null&&!Fj();)VB($n)}function VB(d){var h=JB(d.alternate,d,Mi);d.memoizedProps=d.pendingProps,h===null?$B(d):$n=h,bw.current=null}function $B(d){var h=d;do{var w=h.alternate;if(d=h.return,h.flags&32768){if(w=i7(w,h),w!==null){w.flags&=32767,$n=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Zn=6,$n=null;return}}else if(w=t7(w,h,Mi),w!==null){$n=w;return}if(h=h.sibling,h!==null){$n=h;return}$n=h=d}while(h!==null);Zn===0&&(Zn=5)}function _c(d,h){var w=Vt,A=On.transition;try{On.transition=null,Vt=1,h7(d,h,w)}finally{On.transition=A,Vt=w}return null}function h7(d,h,w){do wc();while(tl!==null);if(Pt&6)throw Error(o(327));var A=d.finishedWork,C=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=A.lanes|A.childLanes;if(Nj(d,L),d===Vn&&($n=Vn=null,br=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||hy||(hy=!0,KB(O_,function(){return wc(),null})),L=(A.flags&15990)!==0,A.subtreeFlags&15990||L){L=On.transition,On.transition=null;var j=Vt;Vt=1;var re=Pt;Pt|=4,bw.current=null,o7(d,A),a7(d,A),V(d.containerInfo),d.current=A,l7(A),Uj(),Pt=re,Vt=j,On.transition=L}else d.current=A;if(hy&&(hy=!1,tl=d,py=C),L=d.pendingLanes,L===0&&(el=null),Gj(A.stateNode),ii(d,ar()),h!==null)for(w=d.onRecoverableError,A=0;A<h.length;A++)w(h[A]);if(dy)throw dy=!1,d=Aw,Aw=null,d;return py&1&&d.tag!==0&&wc(),L=d.pendingLanes,L&1?d===Ew?yp++:(yp=0,Ew=d):yp=0,po(),null}function wc(){if(tl!==null){var d=w2(py),h=On.transition,w=Vt;try{if(On.transition=null,Vt=16>d?16:d,tl===null)var A=!1;else{if(d=tl,tl=null,py=0,Pt&6)throw Error(o(331));var C=Pt;for(Pt|=4,He=d.current;He!==null;){var L=He,j=L.child;if(He.flags&16){var re=L.deletions;if(re!==null){for(var ve=0;ve<re.length;ve++){var De=re[ve];for(He=De;He!==null;){var Ke=He;switch(Ke.tag){case 0:case 11:case 15:xc(8,Ke,L)}var yt=Ke.child;if(yt!==null)yt.return=Ke,He=yt;else for(;He!==null;){Ke=He;var ct=Ke.sibling,rn=Ke.return;if(TB(Ke),Ke===De){He=null;break}if(ct!==null){ct.return=rn,He=ct;break}He=rn}}}var rt=L.alternate;if(rt!==null){var Ir=rt.child;if(Ir!==null){rt.child=null;do{var ss=Ir.sibling;Ir.sibling=null,Ir=ss}while(Ir!==null)}}He=L}}if(L.subtreeFlags&2064&&j!==null)j.return=L,He=j;else e:for(;He!==null;){if(L=He,L.flags&2048)switch(L.tag){case 0:case 11:case 15:xc(9,L,L.return)}var le=L.sibling;if(le!==null){le.return=L.return,He=le;break e}He=L.return}}var ie=d.current;for(He=ie;He!==null;){j=He;var ge=j.child;if(j.subtreeFlags&2064&&ge!==null)ge.return=j,He=ge;else e:for(j=ie;He!==null;){if(re=He,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:hp(9,re)}}catch(nt){si(re,re.return,nt)}if(re===j){He=null;break e}var Ge=re.sibling;if(Ge!==null){Ge.return=re.return,He=Ge;break e}He=re.return}}if(Pt=C,po(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(B0,d)}catch{}A=!0}return A}finally{Vt=w,On.transition=h}}return!1}function WB(d,h,w){h=sw(w,h),h=sB(d,h,1),Za(d,h),h=Vr(),d=yy(d,1),d!==null&&(ep(d,1,h),ii(d,h))}function si(d,h,w){if(d.tag===3)WB(d,d,w);else for(;h!==null;){if(h.tag===3){WB(h,d,w);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(el===null||!el.has(A))){d=sw(w,d),d=oB(h,d,1),Za(h,d),d=Vr(),h=yy(h,1),h!==null&&(ep(h,1,d),ii(h,d));break}}h=h.return}}function p7(d,h,w){var A=d.pingCache;A!==null&&A.delete(h),h=Vr(),d.pingedLanes|=d.suspendedLanes&w,Vn===d&&(br&w)===w&&(Zn===4||Zn===3&&(br&130023424)===br&&500>ar()-ww?bc(d,0):_w|=w),ii(d,h)}function jB(d,h){h===0&&(d.mode&1?(h=P0,P0<<=1,!(P0&130023424)&&(P0=4194304)):h=1);var w=Vr();d=yy(d,h),d!==null&&(ep(d,h,w),ii(d,w))}function m7(d){var h=d.memoizedState,w=0;h!==null&&(w=h.retryLane),jB(d,w)}function g7(d,h){var w=0;switch(d.tag){case 13:var A=d.stateNode,C=d.memoizedState;C!==null&&(w=C.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(h),jB(d,w)}var JB;JB=function(d,h,w){if(d!==null)if(d.memoizedProps!==h.pendingProps||tn.current)Ei=!0;else{if(!(d.lanes&w)&&!(h.flags&128))return Ei=!1,r7(d,h,w);Ei=!!(d.flags&131072)}else Ei=!1,xn&&h.flags&1048576&&L2(h,z0,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var C=Qa(h,Gn.current);ef(h,w),C=ew(null,h,A,d,C,w);var L=tw();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,xr(A)?(L=!0,T0(h)):L=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,z_(h),C.updater=U0,h.stateNode=C,C._reactInternals=h,V_(h,A,d,w),h=lw(null,h,A,!0,L,w)):(h.tag=0,xn&&L&&$_(h),Gr(null,h,C,w),h=h.child),h;case 16:A=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,C=A._init,A=C(A._payload),h.type=A,C=h.tag=v7(A),d=Ls(A,d),C){case 0:h=aw(null,h,A,d,w);break e;case 1:h=yB(null,h,A,d,w);break e;case 11:h=dB(null,h,A,d,w);break e;case 14:h=hB(null,h,A,Ls(A.type,d),w);break e}throw Error(o(306,A,""))}return h;case 0:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ls(A,C),aw(d,h,A,C,w);case 1:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ls(A,C),yB(d,h,A,C,w);case 3:e:{if(vB(h),d===null)throw Error(o(387));A=h.pendingProps,L=h.memoizedState,C=L.element,M2(d,h),F0(h,A,null,w);var j=h.memoizedState;if(A=j.element,fe&&L.isDehydrated)if(L={element:A,isDehydrated:!1,cache:j.cache,transitions:j.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){C=Error(o(423)),h=xB(d,h,A,w,C);break e}else if(A!==C){C=Error(o(424)),h=xB(d,h,A,w,C);break e}else for(fe&&(Ai=we(h.stateNode.containerInfo),Si=h,xn=!0,Ds=null,tp=!1),w=U2(h,null,A,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(rf(),A===C){h=Qo(d,h,w);break e}Gr(d,h,A,w)}h=h.child}return h;case 5:return H2(h),d===null&&J_(h),A=h.type,C=h.pendingProps,L=d!==null?d.memoizedProps:null,j=C.children,de(A,C)?j=null:L!==null&&de(A,L)&&(h.flags|=32),gB(d,h),Gr(d,h,j,w),h.child;case 6:return d===null&&J_(h),null;case 13:return bB(d,h,w);case 4:return X_(h,h.stateNode.containerInfo),A=h.pendingProps,d===null?h.child=sf(h,null,A,w):Gr(d,h,A,w),h.child;case 11:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ls(A,C),dB(d,h,A,C,w);case 7:return Gr(d,h,h.pendingProps,w),h.child;case 8:return Gr(d,h,h.pendingProps.children,w),h.child;case 12:return Gr(d,h,h.pendingProps.children,w),h.child;case 10:e:{if(A=h.type._context,C=h.pendingProps,L=h.memoizedProps,j=C.value,E2(h,A,j),L!==null)if(ho(L.value,j)){if(L.children===C.children&&!tn.current){h=Qo(d,h,w);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var re=L.dependencies;if(re!==null){j=L.child;for(var ve=re.firstContext;ve!==null;){if(ve.context===A){if(L.tag===1){ve=Jo(-1,w&-w),ve.tag=2;var De=L.updateQueue;if(De!==null){De=De.shared;var Ke=De.pending;Ke===null?ve.next=ve:(ve.next=Ke.next,Ke.next=ve),De.pending=ve}}L.lanes|=w,ve=L.alternate,ve!==null&&(ve.lanes|=w),H_(L.return,w,h),re.lanes|=w;break}ve=ve.next}}else if(L.tag===10)j=L.type===h.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(o(341));j.lanes|=w,re=j.alternate,re!==null&&(re.lanes|=w),H_(j,w,h),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===h){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}Gr(d,h,C.children,w),h=h.child}return h;case 9:return C=h.type,A=h.pendingProps.children,ef(h,w),C=qi(C),A=A(C),h.flags|=1,Gr(d,h,A,w),h.child;case 14:return A=h.type,C=Ls(A,h.pendingProps),C=Ls(A.type,C),hB(d,h,A,C,w);case 15:return pB(d,h,h.type,h.pendingProps,w);case 17:return A=h.type,C=h.pendingProps,C=h.elementType===A?C:Ls(A,C),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,xr(A)?(d=!0,T0(h)):d=!1,ef(h,w),I2(h,A,C),V_(h,A,C,w),lw(null,h,A,!0,d,w);case 19:return AB(d,h,w);case 22:return mB(d,h,w)}throw Error(o(156,h.tag))};function KB(d,h){return L_(d,h)}function y7(d,h,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(d,h,w,A){return new y7(d,h,w,A)}function Pw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function v7(d){if(typeof d=="function")return Pw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===v)return 11;if(d===_)return 14}return 2}function il(d,h){var w=d.alternate;return w===null?(w=is(d.tag,h,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=h,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,h=d.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function xy(d,h,w,A,C,L){var j=2;if(A=d,typeof d=="function")Pw(d)&&(j=1);else if(typeof d=="string")j=5;else e:switch(d){case u:return Sc(w.children,C,L,h);case f:j=8,C|=8;break;case p:return d=is(12,w,h,C|2),d.elementType=p,d.lanes=L,d;case x:return d=is(13,w,h,C),d.elementType=x,d.lanes=L,d;case g:return d=is(19,w,h,C),d.elementType=g,d.lanes=L,d;case S:return by(w,C,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:j=10;break e;case y:j=9;break e;case v:j=11;break e;case _:j=14;break e;case b:j=16,A=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=is(j,w,h,C),h.elementType=d,h.type=A,h.lanes=L,h}function Sc(d,h,w,A){return d=is(7,d,A,h),d.lanes=w,d}function by(d,h,w,A){return d=is(22,d,A,h),d.elementType=S,d.lanes=w,d.stateNode={},d}function Iw(d,h,w){return d=is(6,d,null,h),d.lanes=w,d}function Bw(d,h,w){return h=is(4,d.children!==null?d.children:[],d.key,h),h.lanes=w,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function x7(d,h,w,A,C){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I_(0),this.expirationTimes=I_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I_(0),this.identifierPrefix=A,this.onRecoverableError=C,fe&&(this.mutableSourceEagerHydrationData=null)}function XB(d,h,w,A,C,L,j,re,ve){return d=new x7(d,h,w,re,ve),h===1?(h=1,L===!0&&(h|=8)):h=0,L=is(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},z_(L),d}function YB(d){if(!d)return Cr;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(xr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if(xr(w))return b2(d,w,h)}return h}function QB(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=z(h),d===null?null:d.stateNode}function qB(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<h?w:h}}function Lw(d,h){qB(d,h),(d=d.alternate)&&qB(d,h)}function b7(d){return d=z(d),d===null?null:d.stateNode}function _7(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=Vr();rs(d,134217728,h),Lw(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Vr(),w=nl(d);rs(d,w,h),Lw(d,w)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var w=Zh(h.pendingLanes);w!==0&&(B_(h,w|1),ii(h,ar()),!(Pt&6)&&(ff(),po()))}break;case 13:var A=Vr();HB(function(){return rs(d,1,A)}),Lw(d,1)}},t.batchedUpdates=function(d,h){var w=Pt;Pt|=1;try{return d(h)}finally{Pt=w,Pt===0&&(ff(),L0&&po())}},t.createComponentSelector=function(d){return{$$typeof:sy,value:d}},t.createContainer=function(d,h,w,A,C,L,j){return XB(d,h,!1,null,w,A,C,L,j)},t.createHasPseudoClassSelector=function(d){return{$$typeof:oy,value:d}},t.createHydrationContainer=function(d,h,w,A,C,L,j,re,ve){return d=XB(w,A,!0,d,C,L,j,re,ve),d.context=YB(null),w=d.current,A=Vr(),C=nl(w),L=Jo(A,C),L.callback=h??null,Za(w,L),d.current.lanes=C,ep(d,C,A),ii(d,A),d},t.createPortal=function(d,h,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:d,containerInfo:h,implementation:w}},t.createRoleSelector=function(d){return{$$typeof:ay,value:d}},t.createTestNameSelector=function(d){return{$$typeof:ly,value:d}},t.createTextSelector=function(d){return{$$typeof:cy,value:d}},t.deferredUpdates=function(d){var h=Vt,w=On.transition;try{return On.transition=null,Vt=16,d()}finally{Vt=h,On.transition=w}},t.discreteUpdates=function(d,h,w,A,C){var L=Vt,j=On.transition;try{return On.transition=null,Vt=1,d(h,w,A,C)}finally{Vt=L,On.transition=j,Pt===0&&ff()}},t.findAllNodes=xw,t.findBoundingRects=function(d,h){if(!$e)throw Error(o(363));h=xw(d,h),d=[];for(var w=0;w<h.length;w++)d.push(W(h[w]));for(h=d.length-1;0<h;h--){w=d[h];for(var A=w.x,C=A+w.width,L=w.y,j=L+w.height,re=h-1;0<=re;re--)if(h!==re){var ve=d[re],De=ve.x,Ke=De+ve.width,yt=ve.y,ct=yt+ve.height;if(A>=De&&L>=yt&&C<=Ke&&j<=ct){d.splice(h,1);break}else if(A!==De||w.width!==ve.width||ct<L||yt>j){if(!(L!==yt||w.height!==ve.height||Ke<A||De>C)){De>A&&(ve.width+=De-A,ve.x=A),Ke<C&&(ve.width=C-De),d.splice(h,1);break}}else{yt>L&&(ve.height+=yt-L,ve.y=L),ct<j&&(ve.height=j-yt),d.splice(h,1);break}}}return d},t.findHostInstance=QB,t.findHostInstanceWithNoPortals=function(d){return d=O(d),d=d!==null?N(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return QB(d)},t.flushControlled=function(d){var h=Pt;Pt|=1;var w=On.transition,A=Vt;try{On.transition=null,Vt=1,d()}finally{Vt=A,On.transition=w,Pt=h,Pt===0&&(ff(),po())}},t.flushPassiveEffects=wc,t.flushSync=HB,t.focusWithin=function(d,h){if(!$e)throw Error(o(363));for(d=gw(d),h=NB(d,h),h=Array.from(h),d=0;d<h.length;){var w=h[d++];if(!pe(w)){if(w.tag===5&&Re(w.stateNode))return!0;for(w=w.child;w!==null;)h.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Vt},t.getFindAllNodesFailureDescription=function(d,h){if(!$e)throw Error(o(363));var w=0,A=[];d=[gw(d),0];for(var C=0;C<d.length;){var L=d[C++],j=d[C++],re=h[j];if((L.tag!==5||!pe(L))&&(yw(L,re)&&(A.push(vw(re)),j++,j>w&&(w=j)),j<h.length))for(L=L.child;L!==null;)d.push(L,j),L=L.sibling}if(w<h.length){for(d=[];w<h.length;w++)d.push(vw(h[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:b7,findFiberByHostInstance:d.findFiberByHostInstance||_7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{B0=h.inject(d),fo=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,w,A){if(!$e)throw Error(o(363));d=xw(d,h);var C=Fe(d,w,A).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(d,h){var w=h._getVersion;w=w(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,w]:d.mutableSourceEagerHydrationData.push(h,w)},t.runWithPriority=function(d,h){var w=Vt;try{return Vt=d,h()}finally{Vt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,w,A){var C=h.current,L=Vr(),j=nl(C);return w=YB(w),h.context===null?h.context=w:h.pendingContext=w,h=Jo(L,j),h.payload={element:d},A=A===void 0?null:A,A!==null&&(h.callback=A),Za(C,h),d=rs(C,j,L),d!==null&&N0(d,C,j),j},t};(function(n){n.exports=tre})(Zne);const nre=mT(PM);function XG(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const ha=[];function YG(n,e,t=!1,r={}){for(const s of ha)if(XG(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=ha.indexOf(i);s!==-1&&ha.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(ha.push(i),!t)throw i.promise}const rre=(n,e,t)=>YG(n,e,!1,t),ire=(n,e,t)=>void YG(n,e,!0,t),sre=n=>{if(n===void 0||n.length===0)ha.splice(0,ha.length);else{const e=ha.find(t=>XG(n,t.keys,t.equal));if(e){const t=ha.indexOf(e);t!==-1&&ha.splice(t,1)}}},tP={},nP=n=>void Object.assign(tP,n);function ore(n,e){function t(u,{args:f=[],attach:p,...m},y){let v=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=zf(g,{type:u,root:y,attach:p,primitive:!0})}else{const g=tP[v];if(!g)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=zf(new g(...f),{type:u,root:y,attach:p,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof xt?x.__r3f.attach="geometry":x instanceof Qn&&(x.__r3f.attach="material")),v!=="inject"&&FS(x,m),x}function r(u,f){let p=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?NS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||zf(f,{}),f.__r3f.parent=u,BM(f),Gf(f)}}function i(u,f,p){let m=!1;if(f){var y,v;if((y=f.__r3f)!=null&&y.attach)NS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const x=u.children.filter(_=>_!==f),g=x.indexOf(p);u.children=[...x.slice(0,g),f,...x.slice(g)],m=!0}m||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||zf(f,{}),f.__r3f.parent=u,BM(f),Gf(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,y,v;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==f)),(y=f.__r3f)!=null&&y.attach)N3(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var x;u.remove(f),(x=f.__r3f)!=null&&x.root&&hre(f.__r3f.root,f)}const _=(v=f.__r3f)==null?void 0:v.primitive,b=p===void 0?f.dispose!==null&&!_:p;if(!_){var g;s((g=f.__r3f)==null?void 0:g.objects,f,b),s(f.children,f,b)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),b&&f.dispose&&f.type!=="Scene"&&hg.unstable_scheduleCallback(hg.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Gf(u)}}function a(u,f,p,m){var y;const v=(y=u.__r3f)==null?void 0:y.parent;if(!v)return;const x=t(f,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(x,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(x,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:nre({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:v,...x}=m,{args:g=[],children:_,...b}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((E,M)=>E!==g[M]))return[!0];const S=rV(u,x,b,!0);return S.changes.length?[!1,S]:null}},commitUpdate(u,[f,p],m,y,v,x){f?a(u,m,v,x):FS(u,p)},commitMount(u,f,p,m){var y;const v=(y=u.__r3f)!=null?y:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>zf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&N3(m,u,p),u.isObject3D&&(u.visible=!1),Gf(u)},unhideInstance(u,f){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&NS(y,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Gf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Rl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gn.fun(performance.now)?performance.now:gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:FS}}var L3,D3;const QG=()=>{var n;return(n=tP.ColorManagement)!=null?n:null},qG=n=>n&&n.isOrthographicCamera,are=n=>n&&n.hasOwnProperty("current"),n0=typeof window<"u"&&((L3=window.document)!=null&&L3.createElement||((D3=window.navigator)==null?void 0:D3.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function ZG(n){const e=P.useRef(n);return n0(()=>void(e.current=n),[n]),e}function lre({set:n}){return n0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class eV extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}eV.getDerivedStateFromError=()=>({error:!0});const tV="__default",O3=new Map,cre=n=>n&&!!n.memoized&&!!n.changes;function nV(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const kp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},gn={obj:n=>n===Object(n)&&!gn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(gn.str(n)||gn.num(n))return n===e;const s=gn.obj(n);if(s&&r==="reference")return n===e;const o=gn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!gn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(gn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ure(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function fre(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function zf(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function IM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const k3=/-\d+$/;function NS(n,e,t){if(gn.str(t)){if(k3.test(t)){const s=t.replace(k3,""),{target:o,key:a}=IM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=IM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function N3(n,e,t){var r,i;if(gn.str(t)){const{target:s,key:o}=IM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function rV(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||p.unshift([v[x],tV+"remove"])}p.forEach(([v,x])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&v==="object"||gn.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,x,!1,_]);for(const b in i){const S=i[b];b.startsWith(`${v}-`)&&m.push([b,S,!1,b.split("-")])}});const y={...i};return f.memoizedProps&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:m}}function FS(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=cre(e)?e:rV(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,v,x]=c[p],g=n,_=g[m];if(x.length&&(_=x.reduce((b,S)=>b[S],n),!(_&&_.set))){const[b,...S]=x.reverse();g=S.reverse().reduce((E,M)=>E[M],n),m=b}if(y===tV+"remove")if(g.constructor){let b=O3.get(g.constructor);b||(b=new g.constructor,O3.set(g.constructor,b)),y=b[m]}else y=0;if(v)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof hu)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const b=_ instanceof ke;!b&&_.setScalar?_.setScalar(y):_ instanceof hu&&y instanceof hu?_.mask=y.mask:_.set(y),!QG()&&!a.linear&&b&&_.convertSRGBToLinear()}}else g[m]=y,!a.linear&&g[m]instanceof wn&&g[m].format===ui&&g[m].type===ka&&(g[m].encoding=kt);Gf(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&BM(n),n}function Gf(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function BM(n){n.onUpdate==null||n.onUpdate(n)}function iV(n,e){n.manual||(qG(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Mv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function dre(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Rl.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Rl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Rl.ContinuousEventPriority;default:return Rl.DefaultEventPriority}}function sV(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function hre(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{sV(t.capturedMap,e,r,i)})}function pre(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const _=kp(m[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(g){const _=kp(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let v=m.flatMap(y).sort((g,_)=>{const b=kp(g.object),S=kp(_.object);return!b||!S?g.distance-_.distance:S.events.priority-b.events.priority||g.distance-_.distance}).filter(g=>{const _=Mv(g);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const g of v){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(Mv(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const v=kp(y.object)||p,{raycaster:x,pointer:g,camera:_,internal:b}=v,S=new G(g.x,g.y,0).unproject(_),E=I=>{var O,z;return(O=(z=b.capturedMap.get(I))==null?void 0:z.has(y.eventObject))!=null?O:!1},M=I=>{const O={intersection:y,target:c.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(y.eventObject,O):b.capturedMap.set(I,new Map([[y.eventObject,O]])),c.target.setPointerCapture(I)},R=I=>{const O=b.capturedMap.get(I);O&&sV(b.capturedMap,y.eventObject,O,I)};let B={};for(let I in c){let O=c[I];typeof O!="function"&&(B[I]=O)}let T={...y,...B,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const I="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!I||I.has(y.eventObject))&&(T.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===y.eventObject))){const O=l.slice(0,l.indexOf(y));s([...O,y])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:R},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:R},nativeEvent:c};if(f(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Mv(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?t:void 0),g=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=x.map(b=>b.eventObject)),y&&!x.length&&g<=2&&(o(u,p.interaction),f&&f(u)),m&&s(x);function _(b){const S=b.eventObject,E=S.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const R=Mv(b),B=p.hovered.get(R);B?B.stopped&&b.stopPropagation():(p.hovered.set(R,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const R=M[l];R?(!y||p.initialHits.includes(S))&&(o(u,p.interaction.filter(B=>!p.initialHits.includes(B))),R(b)):y&&p.initialHits.includes(S)&&o(u,p.interaction.filter(B=>!p.initialHits.includes(B)))}}i(x,u,g,_)}}return{handlePointer:a}}const mre=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],oV=n=>!!(n!=null&&n.render),rP=P.createContext(null),gre=(n,e)=>{const t=JG((a,l)=>{const c=new G,u=new G,f=new G;function p(g=l().camera,_=u,b=l().size){const{width:S,height:E,top:M,left:R}=b,B=S/E;_ instanceof G?f.copy(_):f.set(..._);const T=g.getWorldPosition(c).distanceTo(f);if(qG(g))return{width:S/g.zoom,height:E/g.zoom,top:M,left:R,factor:1,distance:T,aspect:B};{const I=g.fov*Math.PI/180,O=2*Math.tan(I/2)*T,z=O*(S/E);return{width:z,height:O,top:M,left:R,factor:S/z,distance:T,aspect:B}}}let m;const y=g=>a(_=>({performance:{..._.performance,current:g}})),v=new Ce;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YR,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,b,S,E)=>{const M=l().camera,R={width:g,height:_,top:S||0,left:E||0,updateStyle:b};a(B=>({size:R,viewport:{...B.viewport,...p(M,u,R)}}))},setDpr:g=>a(_=>{const b=nV(g);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,b)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:g,priority:_,store:b}),S.subscribers=S.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,iV(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Cv,yre=new Set,vre=new Set,xre=new Set;function US(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Np(n,e){switch(n){case"before":return US(yre,e);case"after":return US(vre,e);case"tail":return US(xre,e)}}let HS,zS;function GS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),HS=e.internal.subscribers,Cv=0;Cv<HS.length;Cv++)zS=HS[Cv],zS.ref.current(zS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function bre(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Np("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=GS(l,i))}if(Np("after",l),t===0)return Np("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&Np("before",l),u)GS(l,u,f);else for(const p of n.values())GS(l,p.store.getState());c&&Np("after",l)}return{loop:s,invalidate:o,advance:a}}function iP(){const n=P.useContext(rP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function xa(n=t=>t,e){return iP()(n,e)}function zu(n,e=0){const t=iP(),r=t.getState().internal.subscribe,i=ZG(n);return n0(()=>r(i,e,t),[e,r,t]),null}function aV(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,ure(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Ja(n,e,t,r){const i=Array.isArray(e)?e:[e],s=rre(aV(t,r),[n,...i],{equal:gn.equ});return Array.isArray(e)?s:s[0]}Ja.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return ire(aV(t),[n,...r])};Ja.clear=function(n,e){const t=Array.isArray(e)?e:[e];return sre([n,...t])};const uh=new Map,{invalidate:F3,advance:U3}=bre(uh),{reconciler:pg,applyProps:pa}=ore(uh,dre),Of={objects:"shallow",strict:!1},_re=(n,e)=>{const t=typeof n=="function"?n(e):n;return oV(t)?t:new CR({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function wre(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Sre(n){const e=uh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||gre(F3,U3),o=t||pg.createContainer(s,Rl.ConcurrentRoot,null,!1,null,"",i,null);e||uh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:y,onCreated:v,shadows:x=!1,linear:g=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:E="always",dpr:M=[1,2],performance:R,raycaster:B,camera:T,onPointerMissed:I}=u,O=s.getState(),z=O.gl;O.gl||O.set({gl:z=_re(f,n)});let H=O.raycaster;H||O.set({raycaster:H=new eP});const{params:N,...J}=B||{};if(gn.equ(J,H,Of)||pa(H,{...J}),gn.equ(N,H.params,Of)||pa(H,{params:{...H.params,...N}}),!O.camera||O.camera===c&&!gn.equ(c,T,Of)){c=T;const q=T instanceof Hg,ee=q?T:S?new Rh(0,0,0,0,.1,1e3):new tr(75,0,.1,1e3);q||(ee.position.z=5,T&&pa(ee,T),!O.camera&&!(T!=null&&T.rotation)&&ee.lookAt(0,0,0)),O.set({camera:ee})}if(!O.scene){let q;m instanceof ag?q=m:(q=new ag,m&&pa(q,m)),O.set({scene:zf(q)})}if(!O.xr){const q=(Z,de)=>{const oe=s.getState();oe.frameloop!=="never"&&U3(Z,!0,oe,de)},ee=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?q:null),Z.gl.xr.isPresenting||F3(Z)},se={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",ee),Z.xr.addEventListener("sessionend",ee)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",ee),Z.xr.removeEventListener("sessionend",ee)}};z.xr&&se.connect(),O.set({xr:se})}if(z.shadowMap){const q=z.shadowMap.enabled,ee=z.shadowMap.type;if(z.shadowMap.enabled=!!x,gn.boo(x))z.shadowMap.type=wm;else if(gn.str(x)){var X;const se={basic:QH,percentage:m1,soft:wm,variance:qc};z.shadowMap.type=(X=se[x])!=null?X:wm}else gn.obj(x)&&Object.assign(z.shadowMap,x);(q!==z.shadowMap.enabled||ee!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const Y=QG();Y&&("enabled"in Y?Y.enabled=!b:"legacyMode"in Y&&(Y.legacyMode=b));const k=g?no:kt,U=_?Qs:dR;z.outputEncoding!==k&&(z.outputEncoding=k),z.toneMapping!==U&&(z.toneMapping=U),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==_&&O.set(()=>({flat:_})),f&&!gn.fun(f)&&!oV(f)&&!gn.equ(f,z,Of)&&pa(z,f),y&&!O.events.handlers&&O.set({events:y(s)});const V=wre(n,p);return gn.equ(V,O.size,Of)||O.setSize(V.width,V.height,V.updateStyle,V.top,V.left),M&&O.viewport.dpr!==nV(M)&&O.setDpr(M),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:I}),R&&!gn.equ(R,O.performance,Of)&&O.set(q=>({performance:{...q.performance,...R}})),a=v,l=!0,this},render(u){return l||this.configure(),pg.updateContainer(P.createElement(Are,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){lV(n)}}}function Are({store:n,children:e,onCreated:t,rootElement:r}){return n0(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),P.createElement(rP.Provider,{value:n},e)}function lV(n,e){const t=uh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),pg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),fre(i),uh.delete(n),e&&e(n)}catch{}},500)})}}function Ere(n,e,t){return P.createElement(Mre,{key:e.uuid,children:n,container:e,state:t})}function Mre({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=iP(),[a]=P.useState(()=>new eP),[l]=P.useState(()=>new Ce),c=P.useCallback((f,p)=>{const m={...f};Object.keys(f).forEach(v=>{(mre.includes(v)||f[v]!==p[v]&&p[v])&&delete m[v]});let y;if(p&&i){const v=p.camera;y=f.viewport.getCurrentViewport(v,new G,i),v!==f.camera&&iV(v,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...p==null?void 0:p.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...y},...s}},[n]),[u]=P.useState(()=>{const f=o.getState();return JG((m,y)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:y,setEvents:v=>m(x=>({...x,events:{...x.events,...v}}))}))});return P.useEffect(()=>{const f=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{f(),u.destroy()}},[]),P.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),P.createElement(P.Fragment,null,pg.createPortal(P.createElement(rP.Provider,{value:u},e),u,null))}pg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});function Yl(){return Yl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yl.apply(null,arguments)}function LM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}LM.debounce=LM;var H3=LM;function Cre(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=P.useRef(!1);P.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,y]=P.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:S,width:E,height:M,bottom:R,right:B,x:T,y:I}=l.current.element.getBoundingClientRect(),O={left:b,top:S,width:E,height:M,bottom:R,right:B,x:T,y:I};l.current.element instanceof HTMLElement&&i&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),f.current&&!Ire(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,u?H3(_,u):_,c?H3(_,c):_]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=cV(_),x())};return Rre(y,!!t),Tre(m),P.useEffect(()=>{v(),x()},[t,y,m]),P.useEffect(()=>v,[]),[g,o,p]}function Tre(n){P.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Rre(n,e){P.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function cV(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...cV(n.parentElement)]}const Pre=["x","y","top","bottom","left","right","width","height"],Ire=(n,e)=>Pre.every(t=>n[t]===e[t]);var Bre=Object.defineProperty,Lre=Object.defineProperties,Dre=Object.getOwnPropertyDescriptors,z3=Object.getOwnPropertySymbols,Ore=Object.prototype.hasOwnProperty,kre=Object.prototype.propertyIsEnumerable,G3=(n,e,t)=>e in n?Bre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V3=(n,e)=>{for(var t in e||(e={}))Ore.call(e,t)&&G3(n,t,e[t]);if(z3)for(var t of z3(e))kre.call(e,t)&&G3(n,t,e[t]);return n},Nre=(n,e)=>Lre(n,Dre(e));function uV(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=uV(r,e,t);if(i)return i;r=e?null:r.sibling}}function fV(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const sP=fV(P.createContext(null));class dV extends P.Component{render(){return P.createElement(sP.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:$3,ReactCurrentDispatcher:W3}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Fre(){const n=P.useContext(sP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{var r;return(r=$3==null?void 0:$3.current)!=null?r:uV(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function Ure(){var n,e;const t=Fre(),[r]=P.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==sP&&!r.has(s)&&r.set(s,(e=W3==null?void 0:W3.current)==null?void 0:e.readContext(fV(s))),i=i.return}return r}function Hre(){const n=Ure();return P.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>P.createElement(e,null,P.createElement(t.Provider,Nre(V3({},r),{value:n.get(t)}))),e=>P.createElement(dV,V3({},e))),[n])}const VS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zre(n){const{handlePointer:e}=pre(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(VS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=VS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=VS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Gre=P.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=zre,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:g,camera:_,onPointerMissed:b,onCreated:S,...E},M){P.useMemo(()=>nP(Xne),[]);const R=Hre(),[B,T]=Cre({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=P.useRef(null),O=P.useRef(null);P.useImperativeHandle(M,()=>I.current);const z=ZG(b),[H,N]=P.useState(!1),[J,X]=P.useState(!1);if(H)throw H;if(J)throw J;const Y=P.useRef(null);n0(()=>{const U=I.current;T.width>0&&T.height>0&&U&&(Y.current||(Y.current=Sre(U)),Y.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:g,camera:_,size:T,onPointerMissed:(...V)=>z.current==null?void 0:z.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?are(a)?a.current:a:O.current),l&&V.setEvents({compute:(q,ee)=>{const se=q[l+"X"],Z=q[l+"Y"];ee.pointer.set(se/ee.size.width*2-1,-(Z/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),S==null||S(V)}}),Y.current.render(P.createElement(R,null,P.createElement(eV,{set:X},P.createElement(P.Suspense,{fallback:P.createElement(lre,{set:N})},e)))))}),P.useEffect(()=>{const U=I.current;if(U)return()=>lV(U)},[]);const k=a?"none":"auto";return P.createElement("div",Yl({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...i}},E),P.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),DM=P.forwardRef(function(e,t){return P.createElement(dV,null,P.createElement(Gre,Yl({},e,{ref:t})))});function Mm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vre(n,e){if(n){if(typeof n=="string")return OM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OM(n,e)}}function $re(n){if(Array.isArray(n))return OM(n)}function Wre(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(n){return $re(n)||Wre(n)||Vre(n)||jre()}new Ce;new Ce;function Kre(n,e,t){return Math.max(e,Math.min(t,n))}function Xre(n,e){return Kre(n-Math.floor(n/e)*e,0,e)}function Yre(n,e){var t=Xre(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function hV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var as=function n(e,t,r){var i=this;hV(this,n),Mm(this,"dot2",function(s,o){return i.x*s+i.y*o}),Mm(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},Qre=[new as(1,1,0),new as(-1,1,0),new as(1,-1,0),new as(-1,-1,0),new as(1,0,1),new as(-1,0,1),new as(1,0,-1),new as(-1,0,-1),new as(0,1,1),new as(0,-1,1),new as(0,1,-1),new as(0,-1,-1)],j3=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],J3=new Array(512),K3=new Array(512),qre=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=j3[t]^e&255:r=j3[t]^e>>8&255,J3[t]=J3[t+256]=r,K3[t]=K3[t+256]=Qre[r%12]}};qre(0);function Zre(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function X3(n){var e=Zre(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var eie=function n(e){var t=this;hV(this,n),Mm(this,"seed",0),Mm(this,"init",function(r){t.seed=r,t.value=X3(r)}),Mm(this,"value",X3(this.seed)),this.init(e)};new eie(Math.random());var tie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},pV=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function rr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:pV,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,p=t,m=s*r;f=Math.min(Math.max(f,-m),m),t=n[e]-f;var y=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*y)*u;var v=t+(f+y)*u;return p-n[e]>0==v>p&&(v=p,n.__damp[l]=(v-p)/i),n[e]=v,!0}function Ud(n,e,t,r,i,s,o,a){return rr(n,e,n[e]+Yre(n[e],t),r,i,s,o,a)}var Fp=new Ce,Y3,Q3;function nie(n,e,t,r,i,s,o){return typeof e=="number"?Fp.setScalar(e):Array.isArray(e)?Fp.set(e[0],e[1]):Fp.copy(e),Y3=rr(n,"x",Fp.x,t,r,i,s,o),Q3=rr(n,"y",Fp.y,t,r,i,s,o),Y3||Q3}var kf=new G,q3,Z3,eO;function kM(n,e,t,r,i,s,o){return typeof e=="number"?kf.setScalar(e):Array.isArray(e)?kf.set(e[0],e[1],e[2]):kf.copy(e),q3=rr(n,"x",kf.x,t,r,i,s,o),Z3=rr(n,"y",kf.y,t,r,i,s,o),eO=rr(n,"z",kf.z,t,r,i,s,o),q3||Z3||eO}var Bc=new zt,tO,nO,rO,iO;function rie(n,e,t,r,i,s,o){return typeof e=="number"?Bc.setScalar(e):Array.isArray(e)?Bc.set(e[0],e[1],e[2],e[3]):Bc.copy(e),tO=rr(n,"x",Bc.x,t,r,i,s,o),nO=rr(n,"y",Bc.y,t,r,i,s,o),rO=rr(n,"z",Bc.z,t,r,i,s,o),iO=rr(n,"w",Bc.w,t,r,i,s,o),tO||nO||rO||iO}var Up=new ac,sO,oO,aO;function iie(n,e,t,r,i,s,o){return Array.isArray(e)?Up.set(e[0],e[1],e[2],e[3]):Up.copy(e),sO=Ud(n,"x",Up.x,t,r,i,s,o),oO=Ud(n,"y",Up.y,t,r,i,s,o),aO=Ud(n,"z",Up.z,t,r,i,s,o),sO||oO||aO}var Nf=new ke,lO,cO,uO;function sie(n,e,t,r,i,s,o){return e instanceof ke?Nf.copy(e):Array.isArray(e)?Nf.setRGB(e[0],e[1],e[2]):Nf.set(e),lO=rr(n,"r",Nf.r,t,r,i,s,o),cO=rr(n,"g",Nf.g,t,r,i,s,o),uO=rr(n,"b",Nf.b,t,r,i,s,o),lO||cO||uO}var Us=new yr,sa=new zt,fO=new zt,Hp=new zt,dO,hO,pO,mO;function mV(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?Us.set(e[0],e[1],e[2],e[3]):Us.copy(e);var l=n.dot(Us)>0?1:-1;return Us.x*=l,Us.y*=l,Us.z*=l,Us.w*=l,dO=rr(n,"x",Us.x,t,r,i,s,o),hO=rr(n,"y",Us.y,t,r,i,s,o),pO=rr(n,"z",Us.z,t,r,i,s,o),mO=rr(n,"w",Us.w,t,r,i,s,o),sa.set(n.x,n.y,n.z,n.w).normalize(),fO.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Hp.copy(sa).multiplyScalar(fO.dot(sa)/sa.dot(sa)),a.__damp.velocity_x-=Hp.x,a.__damp.velocity_y-=Hp.y,a.__damp.velocity_z-=Hp.z,a.__damp.velocity_w-=Hp.w,n.set(sa.x,sa.y,sa.z,sa.w),dO||hO||pO||mO}var zp=new WG,gO,yO,vO;function oie(n,e,t,r,i,s,o){return Array.isArray(e)?zp.set(e[0],e[1],e[2]):zp.copy(e),gO=rr(n,"radius",zp.radius,t,r,i,s,o),yO=Ud(n,"phi",zp.phi,t,r,i,s,o),vO=Ud(n,"theta",zp.theta,t,r,i,s,o),gO||yO||vO}var Tv=new dt,xO=new G,bO=new yr,_O=new G,wO,SO,AO;function aie(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new G,rotation:new yr,scale:new G},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Tv.set.apply(Tv,Jre(e)):Tv.copy(e),Tv.decompose(xO,bO,_O),wO=kM(a.__damp.position,xO,t,r,i,s,o),SO=mV(a.__damp.rotation,bO,t,r,i,s,o),AO=kM(a.__damp.scale,_O,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),wO||SO||AO}var r0=Object.freeze({__proto__:null,rsqw:tie,exp:pV,damp:rr,dampAngle:Ud,damp2:nie,damp3:kM,damp4:rie,dampE:iie,dampC:sie,dampQ:mV,dampS:oie,dampM:aie});const lie=n=>n&&n.isCubeTexture;class cie extends Xn{constructor(e,t){var r,i;const s=lie(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,v={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new Bh(1,16),g=new Ss({uniforms:v,fragmentShader:y,vertexShader:m,side:hs});super(x,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class oP extends ti{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new pie(t)}),this.register(function(t){return new _ie(t)}),this.register(function(t){return new wie(t)}),this.register(function(t){return new gie(t)}),this.register(function(t){return new yie(t)}),this.register(function(t){return new vie(t)}),this.register(function(t){return new xie(t)}),this.register(function(t){return new hie(t)}),this.register(function(t){return new bie(t)}),this.register(function(t){return new mie(t)}),this.register(function(t){return new fie(t)}),this.register(function(t){return new Sie(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=To.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Wi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(To.decodeText(new Uint8Array(e,0,4))===gV){try{o[Ot.KHR_BINARY_GLTF]=new Aie(e)}catch(f){i&&i(f);return}s=o[Ot.KHR_BINARY_GLTF].content}else s=To.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Nie(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](c);a[f.name]=f,o[f.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const f=l.extensionsUsed[u],p=l.extensionsRequired||[];switch(f){case Ot.KHR_MATERIALS_UNLIT:o[f]=new die;break;case Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new Cie;break;case Ot.KHR_DRACO_MESH_COMPRESSION:o[f]=new Eie(l,this.dracoLoader);break;case Ot.KHR_TEXTURE_TRANSFORM:o[f]=new Mie;break;case Ot.KHR_MESH_QUANTIZATION:o[f]=new Tie;break;default:p.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function uie(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ot={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class fie{constructor(e){this.parser=e,this.name=Ot.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ke(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new KR(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new JR(u),c.distance=f;break;case"spot":c=new jR(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class die{constructor(){this.name=Ot.KHR_MATERIALS_UNLIT}getMaterialType(){return Oi}extendParams(e,t,r){const i=[];e.color=new ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,kt))}return Promise.all(i)}}class hie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class pie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ce(a,a)}return Promise.all(s)}}class mie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class gie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,kt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class yie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class vie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ke(a[0],a[1],a[2]),Promise.all(s)}}class xie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class bie{constructor(e){this.parser=e,this.name=Ot.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ja}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ke(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,kt)),Promise.all(s)}}class _ie{constructor(e){this.parser=e,this.name=Ot.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class wie{constructor(e){this.parser=e,this.name=Ot.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Sie{constructor(e){this.name=Ot.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}const gV="glTF",Gp=12,EO={JSON:1313821514,BIN:5130562};class Aie{constructor(e){this.name=Ot.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Gp);if(this.header={magic:To.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==gV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Gp,i=new DataView(e,Gp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===EO.JSON){const l=new Uint8Array(e,Gp+s,o);this.content=To.decodeText(l)}else if(a===EO.BIN){const l=Gp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Eie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ot.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=FM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=FM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=mg[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const y=p.attributes[m],v=l[m];v!==void 0&&(y.normalized=v)}f(p)},a,c)})})}}class Mie{constructor(){this.name=Ot.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class NM extends Oh{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new ke().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Cie{constructor(){this.name=Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return NM}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new ke(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,kt)),e.emissive=new ke(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new ke(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,kt))}return Promise.all(s)}createMaterial(e){const t=new NM(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Va,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class Tie{constructor(){this.name=Ot.KHR_MESH_QUANTIZATION}}class yV extends kh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,y=e*c,v=y-c,x=-2*m+3*p,g=m-p,_=1-x,b=g-p+f;for(let S=0;S!==a;S++){const E=o[v+S+a],M=o[v+S+l]*u,R=o[y+S+a],B=o[y+S]*u;s[S]=_*E+b*M+x*R+g*B}return s}}const Rie=new yr;class Pie extends yV{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Rie.fromArray(s).normalize().toArray(s),s}}const oa={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},mg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},MO={9728:Bn,9729:yn,9984:rg,9985:y1,9986:Od,9987:ko},CO={33071:wr,33648:th,10497:Jl},TO={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},FM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},dl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Iie={CUBICSPLINE:void 0,LINEAR:Au,STEP:nh},$S={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Bie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Oh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Oo})),n.DefaultMaterial}function Vp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Nc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Lie(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Die(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Oie(n){const e=n.extensions&&n.extensions[Ot.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+RO(e.attributes):t=n.indices+":"+RO(n.attributes)+":"+n.mode,t}function RO(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function UM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function kie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Nie{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new uie,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new t0(this.options.manager):this.textureLoader=new zG(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Vp(s,a,i),Nc(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ot.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(To.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=TO[i.type],c=mg[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let v,x;if(m&&m!==f){const g=Math.floor(p/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let b=t.cache.get(_);b||(v=new c(a,g*m,i.count*m/u),b=new Gg(v,m/u),t.cache.add(_,b)),x=new Kl(b,l,p%m/u,y)}else a===null?v=new c(i.count*l):v=new c(a,p,i.count*l),x=new Kt(v,l,y);if(i.sparse!==void 0){const g=TO.SCALAR,_=mg[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,E=new _(o[1],b,i.sparse.count*g),M=new c(o[2],S,i.sparse.count*l);a!==null&&(x=new Kt(x.array.slice(),x.itemSize,x.normalized));for(let R=0,B=E.length;R<B;R++){const T=E[R];if(x.setX(T,M[R*l]),l>=2&&x.setY(T,M[R*l+1]),l>=3&&x.setZ(T,M[R*l+2]),l>=4&&x.setW(T,M[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=MO[p.magFilter]||yn,u.minFilter=MO[p.minFilter]||ko,u.wrapS=CO[p.wrapS]||Jl,u.wrapT=CO[p.wrapT]||Jl,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(v){const x=new wn(v);x.needsUpdate=!0,p(x)}),t.load(To.resolveURL(f,s.path),y,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||kie(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Ot.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ot.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ot.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new E1,Qn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new zr,Qn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Oh}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=i[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else if(l[Ot.KHR_MATERIALS_UNLIT]){const f=i[Ot.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ke(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,kt)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=hs);const u=s.alphaMode||$S.OPAQUE;if(u===$S.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===$S.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Oi&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ce(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Oi&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Oi&&(a.emissive=new ke().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Oi&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,kt)),Promise.all(c).then(function(){let f;return o===NM?f=i[Ot.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):f=new o(a),s.name&&(f.name=s.name),Nc(f,s),t.associations.set(f,{materials:e}),s.extensions&&Vp(i,f,s),f})}createUniqueName(e){const t=Ut.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ot.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return PO(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Oie(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[Ot.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=PO(new xt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Bie(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,y=u.length;m<y;m++){const v=u[m],x=o[m];let g;const _=c[m];if(x.mode===oa.TRIANGLES||x.mode===oa.TRIANGLE_STRIP||x.mode===oa.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new RR(v,_):new Xn(v,_),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),x.mode===oa.TRIANGLE_STRIP?g.geometry=IO(g.geometry,zz):x.mode===oa.TRIANGLE_FAN&&(g.geometry=IO(g.geometry,mR));else if(x.mode===oa.LINES)g=new io(v,_);else if(x.mode===oa.LINE_STRIP)g=new Na(v,_);else if(x.mode===oa.LINE_LOOP)g=new PR(v,_);else if(x.mode===oa.POINTS)g=new IR(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&Die(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Nc(g,s),x.extensions&&Vp(i,g,x),t.assignFinalMaterial(g),f.push(g)}for(let m=0,y=f.length;m<y;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return f[0];const p=new va;t.associations.set(p,{meshes:e});for(let m=0,y=f.length;m<y;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new tr(kd.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Rh(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Nc(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const f=r.channels[c],p=r.samplers[f.sampler],m=f.target,y=m.node,v=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2],m=c[3],y=c[4],v=[];for(let g=0,_=u.length;g<_;g++){const b=u[g],S=f[g],E=p[g],M=m[g],R=y[g];if(b===void 0)continue;b.updateMatrix();let B;switch(dl[R.path]){case dl.weights:B=ah;break;case dl.rotation:B=Xl;break;case dl.position:case dl.scale:default:B=lh;break}const T=b.name?b.name:b.uuid,I=M.interpolation!==void 0?Iie[M.interpolation]:Au,O=[];dl[R.path]===dl.weights?b.traverse(function(H){H.morphTargetInfluences&&O.push(H.name?H.name:H.uuid)}):O.push(T);let z=E.array;if(E.normalized){const H=UM(z.constructor),N=new Float32Array(z.length);for(let J=0,X=z.length;J<X;J++)N[J]=z[J]*H;z=N}for(let H=0,N=O.length;H<N;H++){const J=new B(O[H]+"."+dl[R.path],S.array,z,I);M.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function(Y){const k=this instanceof Xl?Pie:yV;return new k(this.times,this.values,this.getValueSize()/3,Y)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(J)}}const x=r.name?r.name:"animation_"+e;return new ch(x,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new A1:a.length>1?l=new va:a.length===1?l=a[0]:l=new Ht,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Nc(l,s),s.extensions&&Vp(r,l,s),s.matrix!==void 0){const c=new dt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new va;i.name&&(o.name=s.createUniqueName(i.name)),Nc(o,i),i.extensions&&Vp(r,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(vV(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const f=new Map;for(const[p,m]of s.associations)(p instanceof Qn||p instanceof wn)&&f.set(p,m);return u.traverse(p=>{const m=s.associations.get(p);m!=null&&f.set(p,m)}),f};return s.associations=c(o),o})}}function vV(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let f=0,p=a.length;f<p;f++){const m=a[f];if(m){c.push(m);const y=new dt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,f*16),u.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[f])}l.bind(new Vg(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(vV(u,s,t,r))}}return Promise.all(o)})}function Fie(n,e,t){const r=e.attributes,i=new Ms;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),a.normalized){const u=UM(mg[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new G,l=new G;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const v=UM(mg[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Cs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function PO(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=FM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Nc(n,e),Fie(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Lie(n,e.targets,t):n})}function IO(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===mR)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class Uie extends xt{constructor(e,t,r,i){super();const s=[],o=[],a=[],l=new G,c=new dt;c.makeRotationFromEuler(r),c.setPosition(t);const u=new dt;u.copy(c).invert(),f(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2));function f(){let v,x=[];const g=new G,_=new G;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const b=e.geometry,S=b.attributes.position,E=b.attributes.normal;if(b.index!==null){const M=b.index;for(v=0;v<M.count;v++)g.fromBufferAttribute(S,M.getX(v)),_.fromBufferAttribute(E,M.getX(v)),p(x,g,_)}else for(v=0;v<S.count;v++)g.fromBufferAttribute(S,v),_.fromBufferAttribute(E,v),p(x,g,_);for(x=m(x,l.set(1,0,0)),x=m(x,l.set(-1,0,0)),x=m(x,l.set(0,1,0)),x=m(x,l.set(0,-1,0)),x=m(x,l.set(0,0,1)),x=m(x,l.set(0,0,-1)),v=0;v<x.length;v++){const M=x[v];a.push(.5+M.position.x/i.x,.5+M.position.y/i.y),M.position.applyMatrix4(c),s.push(M.position.x,M.position.y,M.position.z),o.push(M.normal.x,M.normal.y,M.normal.z)}}function p(v,x,g){x.applyMatrix4(e.matrixWorld),x.applyMatrix4(u),g.transformDirection(e.matrixWorld),v.push(new BO(x.clone(),g.clone()))}function m(v,x){const g=[],_=.5*Math.abs(i.dot(x));for(let b=0;b<v.length;b+=3){let S,E,M,R=0,B,T,I,O;const z=v[b+0].position.dot(x)-_,H=v[b+1].position.dot(x)-_,N=v[b+2].position.dot(x)-_;switch(S=z>0,E=H>0,M=N>0,R=(S?1:0)+(E?1:0)+(M?1:0),R){case 0:{g.push(v[b]),g.push(v[b+1]),g.push(v[b+2]);break}case 1:{if(S&&(B=v[b+1],T=v[b+2],I=y(v[b],B,x,_),O=y(v[b],T,x,_)),E){B=v[b],T=v[b+2],I=y(v[b+1],B,x,_),O=y(v[b+1],T,x,_),g.push(I),g.push(T.clone()),g.push(B.clone()),g.push(T.clone()),g.push(I.clone()),g.push(O);break}M&&(B=v[b],T=v[b+1],I=y(v[b+2],B,x,_),O=y(v[b+2],T,x,_)),g.push(B.clone()),g.push(T.clone()),g.push(I),g.push(O),g.push(I.clone()),g.push(T.clone());break}case 2:{S||(B=v[b].clone(),T=y(B,v[b+1],x,_),I=y(B,v[b+2],x,_),g.push(B),g.push(T),g.push(I)),E||(B=v[b+1].clone(),T=y(B,v[b+2],x,_),I=y(B,v[b],x,_),g.push(B),g.push(T),g.push(I)),M||(B=v[b+2].clone(),T=y(B,v[b],x,_),I=y(B,v[b+1],x,_),g.push(B),g.push(T),g.push(I));break}}}return g}function y(v,x,g,_){const b=v.position.dot(g)-_,S=x.position.dot(g)-_,E=b/(b-S);return new BO(new G(v.position.x+E*(x.position.x-v.position.x),v.position.y+E*(x.position.y-v.position.y),v.position.z+E*(x.position.z-v.position.z)),new G(v.normal.x+E*(x.normal.x-v.normal.x),v.normal.y+E*(x.normal.y-v.normal.y),v.normal.z+E*(x.normal.z-v.normal.z)))}}}class BO{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}var Hie=Object.prototype;function zie(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Hie;return n===t}var aP=zie;function Gie(n,e){return function(t){return n(e(t))}}var xV=Gie,Vie=xV,$ie=Vie(Object.keys,Object),Wie=$ie,jie=aP,Jie=Wie,Kie=Object.prototype,Xie=Kie.hasOwnProperty;function Yie(n){if(!jie(n))return Jie(n);var e=[];for(var t in Object(n))Xie.call(n,t)&&t!="constructor"&&e.push(t);return e}var Qie=Yie,qie=typeof _y=="object"&&_y&&_y.Object===Object&&_y,bV=qie,Zie=bV,ese=typeof self=="object"&&self&&self.Object===Object&&self,tse=Zie||ese||Function("return this")(),Ho=tse,nse=Ho,rse=nse.Symbol,i0=rse,LO=i0,_V=Object.prototype,ise=_V.hasOwnProperty,sse=_V.toString,$p=LO?LO.toStringTag:void 0;function ose(n){var e=ise.call(n,$p),t=n[$p];try{n[$p]=void 0;var r=!0}catch{}var i=sse.call(n);return r&&(e?n[$p]=t:delete n[$p]),i}var ase=ose,lse=Object.prototype,cse=lse.toString;function use(n){return cse.call(n)}var fse=use,DO=i0,dse=ase,hse=fse,pse="[object Null]",mse="[object Undefined]",OO=DO?DO.toStringTag:void 0;function gse(n){return n==null?n===void 0?mse:pse:OO&&OO in Object(n)?dse(n):hse(n)}var Gu=gse;function yse(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Nh=yse,vse=Gu,xse=Nh,bse="[object AsyncFunction]",_se="[object Function]",wse="[object GeneratorFunction]",Sse="[object Proxy]";function Ase(n){if(!xse(n))return!1;var e=vse(n);return e==_se||e==wse||e==bse||e==Sse}var wV=Ase,Ese=Ho,Mse=Ese["__core-js_shared__"],Cse=Mse,WS=Cse,kO=function(){var n=/[^.]+$/.exec(WS&&WS.keys&&WS.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Tse(n){return!!kO&&kO in n}var Rse=Tse,Pse=Function.prototype,Ise=Pse.toString;function Bse(n){if(n!=null){try{return Ise.call(n)}catch{}try{return n+""}catch{}}return""}var SV=Bse,Lse=wV,Dse=Rse,Ose=Nh,kse=SV,Nse=/[\\^$.*+?()[\]{}|]/g,Fse=/^\[object .+?Constructor\]$/,Use=Function.prototype,Hse=Object.prototype,zse=Use.toString,Gse=Hse.hasOwnProperty,Vse=RegExp("^"+zse.call(Gse).replace(Nse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $se(n){if(!Ose(n)||Dse(n))return!1;var e=Lse(n)?Vse:Fse;return e.test(kse(n))}var Wse=$se;function jse(n,e){return n==null?void 0:n[e]}var Jse=jse,Kse=Wse,Xse=Jse;function Yse(n,e){var t=Xse(n,e);return Kse(t)?t:void 0}var Vu=Yse,Qse=Vu,qse=Ho,Zse=Qse(qse,"DataView"),eoe=Zse,toe=Vu,noe=Ho,roe=toe(noe,"Map"),lP=roe,ioe=Vu,soe=Ho,ooe=ioe(soe,"Promise"),aoe=ooe,loe=Vu,coe=Ho,uoe=loe(coe,"Set"),foe=uoe,doe=Vu,hoe=Ho,poe=doe(hoe,"WeakMap"),moe=poe,HM=eoe,zM=lP,GM=aoe,VM=foe,$M=moe,AV=Gu,Fh=SV,NO="[object Map]",goe="[object Object]",FO="[object Promise]",UO="[object Set]",HO="[object WeakMap]",zO="[object DataView]",yoe=Fh(HM),voe=Fh(zM),xoe=Fh(GM),boe=Fh(VM),_oe=Fh($M),Fc=AV;(HM&&Fc(new HM(new ArrayBuffer(1)))!=zO||zM&&Fc(new zM)!=NO||GM&&Fc(GM.resolve())!=FO||VM&&Fc(new VM)!=UO||$M&&Fc(new $M)!=HO)&&(Fc=function(n){var e=AV(n),t=e==goe?n.constructor:void 0,r=t?Fh(t):"";if(r)switch(r){case yoe:return zO;case voe:return NO;case xoe:return FO;case boe:return UO;case _oe:return HO}return e});var I1=Fc;function woe(n){return n!=null&&typeof n=="object"}var Ka=woe,Soe=Gu,Aoe=Ka,Eoe="[object Arguments]";function Moe(n){return Aoe(n)&&Soe(n)==Eoe}var Coe=Moe,GO=Coe,Toe=Ka,EV=Object.prototype,Roe=EV.hasOwnProperty,Poe=EV.propertyIsEnumerable,Ioe=GO(function(){return arguments}())?GO:function(n){return Toe(n)&&Roe.call(n,"callee")&&!Poe.call(n,"callee")},MV=Ioe,Boe=Array.isArray,ao=Boe,Loe=9007199254740991;function Doe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Loe}var cP=Doe,Ooe=wV,koe=cP;function Noe(n){return n!=null&&koe(n.length)&&!Ooe(n)}var B1=Noe,fh={},Foe={get exports(){return fh},set exports(n){fh=n}};function Uoe(){return!1}var Hoe=Uoe;(function(n,e){var t=Ho,r=Hoe,i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c})(Foe,fh);var zoe=Gu,Goe=cP,Voe=Ka,$oe="[object Arguments]",Woe="[object Array]",joe="[object Boolean]",Joe="[object Date]",Koe="[object Error]",Xoe="[object Function]",Yoe="[object Map]",Qoe="[object Number]",qoe="[object Object]",Zoe="[object RegExp]",eae="[object Set]",tae="[object String]",nae="[object WeakMap]",rae="[object ArrayBuffer]",iae="[object DataView]",sae="[object Float32Array]",oae="[object Float64Array]",aae="[object Int8Array]",lae="[object Int16Array]",cae="[object Int32Array]",uae="[object Uint8Array]",fae="[object Uint8ClampedArray]",dae="[object Uint16Array]",hae="[object Uint32Array]",pn={};pn[sae]=pn[oae]=pn[aae]=pn[lae]=pn[cae]=pn[uae]=pn[fae]=pn[dae]=pn[hae]=!0;pn[$oe]=pn[Woe]=pn[rae]=pn[joe]=pn[iae]=pn[Joe]=pn[Koe]=pn[Xoe]=pn[Yoe]=pn[Qoe]=pn[qoe]=pn[Zoe]=pn[eae]=pn[tae]=pn[nae]=!1;function pae(n){return Voe(n)&&Goe(n.length)&&!!pn[zoe(n)]}var mae=pae;function gae(n){return function(e){return n(e)}}var uP=gae,dh={},yae={get exports(){return dh},set exports(n){dh=n}};(function(n,e){var t=bV,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(yae,dh);var vae=mae,xae=uP,VO=dh,$O=VO&&VO.isTypedArray,bae=$O?xae($O):vae,CV=bae;function _ae(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var TV=_ae;function wae(){this.__data__=[],this.size=0}var Sae=wae;function Aae(n,e){return n===e||n!==n&&e!==e}var fP=Aae,Eae=fP;function Mae(n,e){for(var t=n.length;t--;)if(Eae(n[t][0],e))return t;return-1}var L1=Mae,Cae=L1,Tae=Array.prototype,Rae=Tae.splice;function Pae(n){var e=this.__data__,t=Cae(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Rae.call(e,t,1),--this.size,!0}var Iae=Pae,Bae=L1;function Lae(n){var e=this.__data__,t=Bae(e,n);return t<0?void 0:e[t][1]}var Dae=Lae,Oae=L1;function kae(n){return Oae(this.__data__,n)>-1}var Nae=kae,Fae=L1;function Uae(n,e){var t=this.__data__,r=Fae(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var Hae=Uae,zae=Sae,Gae=Iae,Vae=Dae,$ae=Nae,Wae=Hae;function Uh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Uh.prototype.clear=zae;Uh.prototype.delete=Gae;Uh.prototype.get=Vae;Uh.prototype.has=$ae;Uh.prototype.set=Wae;var D1=Uh,jae=D1;function Jae(){this.__data__=new jae,this.size=0}var Kae=Jae;function Xae(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Yae=Xae;function Qae(n){return this.__data__.get(n)}var qae=Qae;function Zae(n){return this.__data__.has(n)}var ele=Zae,tle=Vu,nle=tle(Object,"create"),O1=nle,WO=O1;function rle(){this.__data__=WO?WO(null):{},this.size=0}var ile=rle;function sle(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var ole=sle,ale=O1,lle="__lodash_hash_undefined__",cle=Object.prototype,ule=cle.hasOwnProperty;function fle(n){var e=this.__data__;if(ale){var t=e[n];return t===lle?void 0:t}return ule.call(e,n)?e[n]:void 0}var dle=fle,hle=O1,ple=Object.prototype,mle=ple.hasOwnProperty;function gle(n){var e=this.__data__;return hle?e[n]!==void 0:mle.call(e,n)}var yle=gle,vle=O1,xle="__lodash_hash_undefined__";function ble(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=vle&&e===void 0?xle:e,this}var _le=ble,wle=ile,Sle=ole,Ale=dle,Ele=yle,Mle=_le;function Hh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Hh.prototype.clear=wle;Hh.prototype.delete=Sle;Hh.prototype.get=Ale;Hh.prototype.has=Ele;Hh.prototype.set=Mle;var Cle=Hh,jO=Cle,Tle=D1,Rle=lP;function Ple(){this.size=0,this.__data__={hash:new jO,map:new(Rle||Tle),string:new jO}}var Ile=Ple;function Ble(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Lle=Ble,Dle=Lle;function Ole(n,e){var t=n.__data__;return Dle(e)?t[typeof e=="string"?"string":"hash"]:t.map}var k1=Ole,kle=k1;function Nle(n){var e=kle(this,n).delete(n);return this.size-=e?1:0,e}var Fle=Nle,Ule=k1;function Hle(n){return Ule(this,n).get(n)}var zle=Hle,Gle=k1;function Vle(n){return Gle(this,n).has(n)}var $le=Vle,Wle=k1;function jle(n,e){var t=Wle(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Jle=jle,Kle=Ile,Xle=Fle,Yle=zle,Qle=$le,qle=Jle;function zh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}zh.prototype.clear=Kle;zh.prototype.delete=Xle;zh.prototype.get=Yle;zh.prototype.has=Qle;zh.prototype.set=qle;var dP=zh,Zle=D1,ece=lP,tce=dP,nce=200;function rce(n,e){var t=this.__data__;if(t instanceof Zle){var r=t.__data__;if(!ece||r.length<nce-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new tce(r)}return t.set(n,e),this.size=t.size,this}var ice=rce,sce=D1,oce=Kae,ace=Yae,lce=qae,cce=ele,uce=ice;function Gh(n){var e=this.__data__=new sce(n);this.size=e.size}Gh.prototype.clear=oce;Gh.prototype.delete=ace;Gh.prototype.get=lce;Gh.prototype.has=cce;Gh.prototype.set=uce;var hP=Gh,fce="__lodash_hash_undefined__";function dce(n){return this.__data__.set(n,fce),this}var hce=dce;function pce(n){return this.__data__.has(n)}var mce=pce,gce=dP,yce=hce,vce=mce;function ab(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new gce;++e<t;)this.add(n[e])}ab.prototype.add=ab.prototype.push=yce;ab.prototype.has=vce;var xce=ab;function bce(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var _ce=bce;function wce(n,e){return n.has(e)}var Sce=wce,Ace=xce,Ece=_ce,Mce=Sce,Cce=1,Tce=2;function Rce(n,e,t,r,i,s){var o=t&Cce,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var f=-1,p=!0,m=t&Tce?new Ace:void 0;for(s.set(n,e),s.set(e,n);++f<a;){var y=n[f],v=e[f];if(r)var x=o?r(v,y,f,e,n,s):r(y,v,f,n,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Ece(e,function(g,_){if(!Mce(m,_)&&(y===g||i(y,g,t,r,s)))return m.push(_)})){p=!1;break}}else if(!(y===v||i(y,v,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}var RV=Rce,Pce=Ho,Ice=Pce.Uint8Array,PV=Ice;function Bce(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var Lce=Bce;function Dce(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Oce=Dce,JO=i0,KO=PV,kce=fP,Nce=RV,Fce=Lce,Uce=Oce,Hce=1,zce=2,Gce="[object Boolean]",Vce="[object Date]",$ce="[object Error]",Wce="[object Map]",jce="[object Number]",Jce="[object RegExp]",Kce="[object Set]",Xce="[object String]",Yce="[object Symbol]",Qce="[object ArrayBuffer]",qce="[object DataView]",XO=JO?JO.prototype:void 0,jS=XO?XO.valueOf:void 0;function Zce(n,e,t,r,i,s,o){switch(t){case qce:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Qce:return!(n.byteLength!=e.byteLength||!s(new KO(n),new KO(e)));case Gce:case Vce:case jce:return kce(+n,+e);case $ce:return n.name==e.name&&n.message==e.message;case Jce:case Xce:return n==e+"";case Wce:var a=Fce;case Kce:var l=r&Hce;if(a||(a=Uce),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=zce,o.set(n,e);var u=Nce(a(n),a(e),r,i,s,o);return o.delete(n),u;case Yce:if(jS)return jS.call(n)==jS.call(e)}return!1}var eue=Zce;function tue(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var IV=tue,nue=IV,rue=ao;function iue(n,e,t){var r=e(n);return rue(n)?r:nue(r,t(n))}var BV=iue;function sue(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}var oue=sue;function aue(){return[]}var LV=aue,lue=oue,cue=LV,uue=Object.prototype,fue=uue.propertyIsEnumerable,YO=Object.getOwnPropertySymbols,due=YO?function(n){return n==null?[]:(n=Object(n),lue(YO(n),function(e){return fue.call(n,e)}))}:cue,pP=due;function hue(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var pue=hue,mue=9007199254740991,gue=/^(?:0|[1-9]\d*)$/;function yue(n,e){var t=typeof n;return e=e??mue,!!e&&(t=="number"||t!="symbol"&&gue.test(n))&&n>-1&&n%1==0&&n<e}var DV=yue,vue=pue,xue=MV,bue=ao,_ue=fh,wue=DV,Sue=CV,Aue=Object.prototype,Eue=Aue.hasOwnProperty;function Mue(n,e){var t=bue(n),r=!t&&xue(n),i=!t&&!r&&_ue(n),s=!t&&!r&&!i&&Sue(n),o=t||r||i||s,a=o?vue(n.length,String):[],l=a.length;for(var c in n)(e||Eue.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wue(c,l)))&&a.push(c);return a}var OV=Mue,Cue=OV,Tue=Qie,Rue=B1;function Pue(n){return Rue(n)?Cue(n):Tue(n)}var s0=Pue,Iue=BV,Bue=pP,Lue=s0;function Due(n){return Iue(n,Lue,Bue)}var kV=Due,QO=kV,Oue=1,kue=Object.prototype,Nue=kue.hasOwnProperty;function Fue(n,e,t,r,i,s){var o=t&Oue,a=QO(n),l=a.length,c=QO(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:Nue.call(e,p)))return!1}var m=s.get(n),y=s.get(e);if(m&&y)return m==e&&y==n;var v=!0;s.set(n,e),s.set(e,n);for(var x=o;++f<l;){p=a[f];var g=n[p],_=e[p];if(r)var b=o?r(_,g,p,e,n,s):r(g,_,p,n,e,s);if(!(b===void 0?g===_||i(g,_,t,r,s):b)){v=!1;break}x||(x=p=="constructor")}if(v&&!x){var S=n.constructor,E=e.constructor;S!=E&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(v=!1)}return s.delete(n),s.delete(e),v}var Uue=Fue,JS=hP,Hue=RV,zue=eue,Gue=Uue,qO=I1,ZO=ao,ek=fh,Vue=CV,$ue=1,tk="[object Arguments]",nk="[object Array]",Rv="[object Object]",Wue=Object.prototype,rk=Wue.hasOwnProperty;function jue(n,e,t,r,i,s){var o=ZO(n),a=ZO(e),l=o?nk:qO(n),c=a?nk:qO(e);l=l==tk?Rv:l,c=c==tk?Rv:c;var u=l==Rv,f=c==Rv,p=l==c;if(p&&ek(n)){if(!ek(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new JS),o||Vue(n)?Hue(n,e,t,r,i,s):zue(n,e,l,t,r,i,s);if(!(t&$ue)){var m=u&&rk.call(n,"__wrapped__"),y=f&&rk.call(e,"__wrapped__");if(m||y){var v=m?n.value():n,x=y?e.value():e;return s||(s=new JS),i(v,x,t,r,s)}}return p?(s||(s=new JS),Gue(n,e,t,r,i,s)):!1}var Jue=jue,Kue=Jue,ik=Ka;function NV(n,e,t,r,i){return n===e?!0:n==null||e==null||!ik(n)&&!ik(e)?n!==n&&e!==e:Kue(n,e,t,r,NV,i)}var FV=NV,Xue=hP,Yue=FV,Que=1,que=2;function Zue(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var f=new Xue;if(r)var p=r(c,u,l,n,e,f);if(!(p===void 0?Yue(u,c,Que|que,r,f):p))return!1}}return!0}var efe=Zue,tfe=Nh;function nfe(n){return n===n&&!tfe(n)}var UV=nfe,rfe=UV,ife=s0;function sfe(n){for(var e=ife(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,rfe(i)]}return e}var ofe=sfe;function afe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var HV=afe,lfe=efe,cfe=ofe,ufe=HV;function ffe(n){var e=cfe(n);return e.length==1&&e[0][2]?ufe(e[0][0],e[0][1]):function(t){return t===n||lfe(t,n,e)}}var dfe=ffe,hfe=Gu,pfe=Ka,mfe="[object Symbol]";function gfe(n){return typeof n=="symbol"||pfe(n)&&hfe(n)==mfe}var mP=gfe,yfe=ao,vfe=mP,xfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bfe=/^\w*$/;function _fe(n,e){if(yfe(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||vfe(n)?!0:bfe.test(n)||!xfe.test(n)||e!=null&&n in Object(e)}var gP=_fe,zV=dP,wfe="Expected a function";function yP(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(wfe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(yP.Cache||zV),t}yP.Cache=zV;var Sfe=yP,Afe=Sfe,Efe=500;function Mfe(n){var e=Afe(n,function(r){return t.size===Efe&&t.clear(),r}),t=e.cache;return e}var Cfe=Mfe,Tfe=Cfe,Rfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pfe=/\\(\\)?/g,Ife=Tfe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Rfe,function(t,r,i,s){e.push(i?s.replace(Pfe,"$1"):r||t)}),e}),Bfe=Ife,sk=i0,Lfe=TV,Dfe=ao,Ofe=mP,kfe=1/0,ok=sk?sk.prototype:void 0,ak=ok?ok.toString:void 0;function GV(n){if(typeof n=="string")return n;if(Dfe(n))return Lfe(n,GV)+"";if(Ofe(n))return ak?ak.call(n):"";var e=n+"";return e=="0"&&1/n==-kfe?"-0":e}var Nfe=GV,Ffe=Nfe;function Ufe(n){return n==null?"":Ffe(n)}var Hfe=Ufe,zfe=ao,Gfe=gP,Vfe=Bfe,$fe=Hfe;function Wfe(n,e){return zfe(n)?n:Gfe(n,e)?[n]:Vfe($fe(n))}var VV=Wfe,jfe=mP,Jfe=1/0;function Kfe(n){if(typeof n=="string"||jfe(n))return n;var e=n+"";return e=="0"&&1/n==-Jfe?"-0":e}var N1=Kfe,Xfe=VV,Yfe=N1;function Qfe(n,e){e=Xfe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Yfe(e[t++])];return t&&t==r?n:void 0}var $V=Qfe,qfe=$V;function Zfe(n,e,t){var r=n==null?void 0:qfe(n,e);return r===void 0?t:r}var ede=Zfe;function tde(n,e){return n!=null&&e in Object(n)}var nde=tde,rde=VV,ide=MV,sde=ao,ode=DV,ade=cP,lde=N1;function cde(n,e,t){e=rde(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=lde(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&ade(i)&&ode(o,i)&&(sde(n)||ide(n)))}var ude=cde,fde=nde,dde=ude;function hde(n,e){return n!=null&&dde(n,e,fde)}var pde=hde,mde=FV,gde=ede,yde=pde,vde=gP,xde=UV,bde=HV,_de=N1,wde=1,Sde=2;function Ade(n,e){return vde(n)&&xde(e)?bde(_de(n),e):function(t){var r=gde(t,n);return r===void 0&&r===e?yde(t,n):mde(e,r,wde|Sde)}}var Ede=Ade;function Mde(n){return n}var WV=Mde;function Cde(n){return function(e){return e==null?void 0:e[n]}}var Tde=Cde,Rde=$V;function Pde(n){return function(e){return Rde(e,n)}}var Ide=Pde,Bde=Tde,Lde=Ide,Dde=gP,Ode=N1;function kde(n){return Dde(n)?Bde(Ode(n)):Lde(n)}var Nde=kde,Fde=dfe,Ude=Ede,Hde=WV,zde=ao,Gde=Nde;function Vde(n){return typeof n=="function"?n:n==null?Hde:typeof n=="object"?zde(n)?Ude(n[0],n[1]):Fde(n):Gde(n)}var $de=Vde;function Wde(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var jde=Wde,Jde=jde,Kde=Jde(),Xde=Kde,Yde=Xde,Qde=s0;function qde(n,e){return n&&Yde(n,e,Qde)}var jV=qde,Zde=B1;function ehe(n,e){return function(t,r){if(t==null)return t;if(!Zde(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var the=ehe,nhe=jV,rhe=the,ihe=rhe(nhe),she=ihe,ohe=she,ahe=B1;function lhe(n,e){var t=-1,r=ahe(n)?Array(n.length):[];return ohe(n,function(i,s,o){r[++t]=e(i,s,o)}),r}var che=lhe,uhe=TV,fhe=$de,dhe=che,hhe=ao;function phe(n,e){var t=hhe(n)?uhe:dhe;return t(n,fhe(e))}var mhe=phe;function ghe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var yhe=ghe,vhe=WV;function xhe(n){return typeof n=="function"?n:vhe}var bhe=xhe,_he=Vu,whe=function(){try{var n=_he(Object,"defineProperty");return n({},"",{}),n}catch{}}(),She=whe,lk=She;function Ahe(n,e,t){e=="__proto__"&&lk?lk(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var JV=Ahe,Ehe=JV,Mhe=fP,Che=Object.prototype,The=Che.hasOwnProperty;function Rhe(n,e,t){var r=n[e];(!(The.call(n,e)&&Mhe(r,t))||t===void 0&&!(e in n))&&Ehe(n,e,t)}var KV=Rhe,Phe=KV,Ihe=JV;function Bhe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?Ihe(t,a,l):Phe(t,a,l)}return t}var F1=Bhe,Lhe=F1,Dhe=s0;function Ohe(n,e){return n&&Lhe(e,Dhe(e),n)}var khe=Ohe;function Nhe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Fhe=Nhe,Uhe=Nh,Hhe=aP,zhe=Fhe,Ghe=Object.prototype,Vhe=Ghe.hasOwnProperty;function $he(n){if(!Uhe(n))return zhe(n);var e=Hhe(n),t=[];for(var r in n)r=="constructor"&&(e||!Vhe.call(n,r))||t.push(r);return t}var Whe=$he,jhe=OV,Jhe=Whe,Khe=B1;function Xhe(n){return Khe(n)?jhe(n,!0):Jhe(n)}var vP=Xhe,Yhe=F1,Qhe=vP;function qhe(n,e){return n&&Yhe(e,Qhe(e),n)}var Zhe=qhe,lb={},epe={get exports(){return lb},set exports(n){lb=n}};(function(n,e){var t=Ho,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}n.exports=l})(epe,lb);function tpe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var npe=tpe,rpe=F1,ipe=pP;function spe(n,e){return rpe(n,ipe(n),e)}var ope=spe,ape=xV,lpe=ape(Object.getPrototypeOf,Object),xP=lpe,cpe=IV,upe=xP,fpe=pP,dpe=LV,hpe=Object.getOwnPropertySymbols,ppe=hpe?function(n){for(var e=[];n;)cpe(e,fpe(n)),n=upe(n);return e}:dpe,XV=ppe,mpe=F1,gpe=XV;function ype(n,e){return mpe(n,gpe(n),e)}var vpe=ype,xpe=BV,bpe=XV,_pe=vP;function wpe(n){return xpe(n,_pe,bpe)}var Spe=wpe,Ape=Object.prototype,Epe=Ape.hasOwnProperty;function Mpe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Epe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Cpe=Mpe,ck=PV;function Tpe(n){var e=new n.constructor(n.byteLength);return new ck(e).set(new ck(n)),e}var bP=Tpe,Rpe=bP;function Ppe(n,e){var t=e?Rpe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Ipe=Ppe,Bpe=/\w*$/;function Lpe(n){var e=new n.constructor(n.source,Bpe.exec(n));return e.lastIndex=n.lastIndex,e}var Dpe=Lpe,uk=i0,fk=uk?uk.prototype:void 0,dk=fk?fk.valueOf:void 0;function Ope(n){return dk?Object(dk.call(n)):{}}var kpe=Ope,Npe=bP;function Fpe(n,e){var t=e?Npe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Upe=Fpe,Hpe=bP,zpe=Ipe,Gpe=Dpe,Vpe=kpe,$pe=Upe,Wpe="[object Boolean]",jpe="[object Date]",Jpe="[object Map]",Kpe="[object Number]",Xpe="[object RegExp]",Ype="[object Set]",Qpe="[object String]",qpe="[object Symbol]",Zpe="[object ArrayBuffer]",eme="[object DataView]",tme="[object Float32Array]",nme="[object Float64Array]",rme="[object Int8Array]",ime="[object Int16Array]",sme="[object Int32Array]",ome="[object Uint8Array]",ame="[object Uint8ClampedArray]",lme="[object Uint16Array]",cme="[object Uint32Array]";function ume(n,e,t){var r=n.constructor;switch(e){case Zpe:return Hpe(n);case Wpe:case jpe:return new r(+n);case eme:return zpe(n,t);case tme:case nme:case rme:case ime:case sme:case ome:case ame:case lme:case cme:return $pe(n,t);case Jpe:return new r;case Kpe:case Qpe:return new r(n);case Xpe:return Gpe(n);case Ype:return new r;case qpe:return Vpe(n)}}var fme=ume,dme=Nh,hk=Object.create,hme=function(){function n(){}return function(e){if(!dme(e))return{};if(hk)return hk(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),pme=hme,mme=pme,gme=xP,yme=aP;function vme(n){return typeof n.constructor=="function"&&!yme(n)?mme(gme(n)):{}}var xme=vme,bme=I1,_me=Ka,wme="[object Map]";function Sme(n){return _me(n)&&bme(n)==wme}var Ame=Sme,Eme=Ame,Mme=uP,pk=dh,mk=pk&&pk.isMap,Cme=mk?Mme(mk):Eme,Tme=Cme,Rme=I1,Pme=Ka,Ime="[object Set]";function Bme(n){return Pme(n)&&Rme(n)==Ime}var Lme=Bme,Dme=Lme,Ome=uP,gk=dh,yk=gk&&gk.isSet,kme=yk?Ome(yk):Dme,Nme=kme,Fme=hP,Ume=yhe,Hme=KV,zme=khe,Gme=Zhe,Vme=lb,$me=npe,Wme=ope,jme=vpe,Jme=kV,Kme=Spe,Xme=I1,Yme=Cpe,Qme=fme,qme=xme,Zme=ao,ege=fh,tge=Tme,nge=Nh,rge=Nme,ige=s0,sge=vP,oge=1,age=2,lge=4,YV="[object Arguments]",cge="[object Array]",uge="[object Boolean]",fge="[object Date]",dge="[object Error]",QV="[object Function]",hge="[object GeneratorFunction]",pge="[object Map]",mge="[object Number]",qV="[object Object]",gge="[object RegExp]",yge="[object Set]",vge="[object String]",xge="[object Symbol]",bge="[object WeakMap]",_ge="[object ArrayBuffer]",wge="[object DataView]",Sge="[object Float32Array]",Age="[object Float64Array]",Ege="[object Int8Array]",Mge="[object Int16Array]",Cge="[object Int32Array]",Tge="[object Uint8Array]",Rge="[object Uint8ClampedArray]",Pge="[object Uint16Array]",Ige="[object Uint32Array]",ln={};ln[YV]=ln[cge]=ln[_ge]=ln[wge]=ln[uge]=ln[fge]=ln[Sge]=ln[Age]=ln[Ege]=ln[Mge]=ln[Cge]=ln[pge]=ln[mge]=ln[qV]=ln[gge]=ln[yge]=ln[vge]=ln[xge]=ln[Tge]=ln[Rge]=ln[Pge]=ln[Ige]=!0;ln[dge]=ln[QV]=ln[bge]=!1;function yx(n,e,t,r,i,s){var o,a=e&oge,l=e&age,c=e&lge;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!nge(n))return n;var u=Zme(n);if(u){if(o=Yme(n),!a)return $me(n,o)}else{var f=Xme(n),p=f==QV||f==hge;if(ege(n))return Vme(n,a);if(f==qV||f==YV||p&&!i){if(o=l||p?{}:qme(n),!a)return l?jme(n,Gme(o,n)):Wme(n,zme(o,n))}else{if(!ln[f])return i?n:{};o=Qme(n,f,a)}}s||(s=new Fme);var m=s.get(n);if(m)return m;s.set(n,o),rge(n)?n.forEach(function(x){o.add(yx(x,e,t,x,n,s))}):tge(n)&&n.forEach(function(x,g){o.set(g,yx(x,e,t,g,n,s))});var y=c?l?Kme:Jme:l?sge:ige,v=u?void 0:y(n);return Ume(v||n,function(x,g){v&&(g=x,x=n[g]),Hme(o,g,yx(x,e,t,g,n,s))}),o}var Bge=yx,Lge=Gu,Dge=ao,Oge=Ka,kge="[object String]";function Nge(n){return typeof n=="string"||!Dge(n)&&Oge(n)&&Lge(n)==kge}var Fge=Nge;class Uge extends DG{constructor(e){super(e),this.type=gs}parse(e){const a=function(b,S){switch(b){case 1:console.error("THREE.RGBELoader Read Error: "+(S||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(S||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(S||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(S||""))}return-1},f=`
`,p=function(b,S,E){S=S||1024;let R=b.pos,B=-1,T=0,I="",O=String.fromCharCode.apply(null,new Uint16Array(b.subarray(R,R+128)));for(;0>(B=O.indexOf(f))&&T<S&&R<b.byteLength;)I+=O,T+=O.length,R+=128,O+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(R,R+128)));return-1<B?(E!==!1&&(b.pos+=T+B+1),I+O.slice(0,B)):!1},m=function(b){const S=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,M=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,B=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let I,O;if(b.pos>=b.byteLength||!(I=p(b)))return a(1,"no header found");if(!(O=I.match(S)))return a(3,"bad initial token");for(T.valid|=1,T.programtype=O[1],T.string+=I+`
`;I=p(b),I!==!1;){if(T.string+=I+`
`,I.charAt(0)==="#"){T.comments+=I+`
`;continue}if((O=I.match(E))&&(T.gamma=parseFloat(O[1])),(O=I.match(M))&&(T.exposure=parseFloat(O[1])),(O=I.match(R))&&(T.valid|=2,T.format=O[1]),(O=I.match(B))&&(T.valid|=4,T.height=parseInt(O[1],10),T.width=parseInt(O[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(b,S,E){const M=S;if(M<8||M>32767||b[0]!==2||b[1]!==2||b[2]&128)return new Uint8Array(b);if(M!==(b[2]<<8|b[3]))return a(3,"wrong scanline width");const R=new Uint8Array(4*S*E);if(!R.length)return a(4,"unable to allocate buffer space");let B=0,T=0;const I=4*M,O=new Uint8Array(4),z=new Uint8Array(I);let H=E;for(;H>0&&T<b.byteLength;){if(T+4>b.byteLength)return a(1);if(O[0]=b[T++],O[1]=b[T++],O[2]=b[T++],O[3]=b[T++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=M)return a(3,"bad rgbe scanline format");let N=0,J;for(;N<I&&T<b.byteLength;){J=b[T++];const Y=J>128;if(Y&&(J-=128),J===0||N+J>I)return a(3,"bad scanline data");if(Y){const k=b[T++];for(let U=0;U<J;U++)z[N++]=k}else z.set(b.subarray(T,T+J),N),N+=J,T+=J}const X=M;for(let Y=0;Y<X;Y++){let k=0;R[B]=z[Y+k],k+=M,R[B+1]=z[Y+k],k+=M,R[B+2]=z[Y+k],k+=M,R[B+3]=z[Y+k],B+=4}H--}return R},v=function(b,S,E,M){const R=b[S+3],B=Math.pow(2,R-128)/255;E[M+0]=b[S+0]*B,E[M+1]=b[S+1]*B,E[M+2]=b[S+2]*B,E[M+3]=1},x=function(b,S,E,M){const R=b[S+3],B=Math.pow(2,R-128)/255;E[M+0]=im.toHalfFloat(Math.min(b[S+0]*B,65504)),E[M+1]=im.toHalfFloat(Math.min(b[S+1]*B,65504)),E[M+2]=im.toHalfFloat(Math.min(b[S+2]*B,65504)),E[M+3]=im.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const _=m(g);if(_!==-1){const b=_.width,S=_.height,E=y(g.subarray(g.pos),b,S);if(E!==-1){let M,R,B;switch(this.type){case Li:B=E.length/4;const T=new Float32Array(B*4);for(let O=0;O<B;O++)v(E,O*4,T,O*4);M=T,R=Li;break;case gs:B=E.length/4;const I=new Uint16Array(B*4);for(let O=0;O<B;O++)x(E,O*4,I,O*4);M=I,R=gs;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:b,height:S,data:M,header:_.string,gamma:_.gamma,exposure:_.exposure,type:R}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Li:case gs:o.encoding=no,o.minFilter=yn,o.magFilter=yn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const KS=new WeakMap;class Hge extends ti{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Wi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(KS.has(e)){const l=KS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),KS.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new xt;e.index&&t.setIndex(new Kt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Kt(o,a))}return t}_loadLibrary(e,t){const r=new Wi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=zge.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function zge(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(f,p,m,c),v=y.attributes.map(x=>x.array.buffer);y.index&&v.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},v)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in u){const g=self[f[x]];let _,b;if(c.useUniqueIDs)b=u[x],_=a.GetAttributeByUniqueId(p,b);else{if(b=a.GetAttributeId(p,o[u[x]]),b===-1)continue;_=a.GetAttribute(p,b)}v.attributes.push(i(o,a,p,x,g,_))}return y===o.TRIANGULAR_MESH&&(v.index=r(o,a,p)),o.destroy(p),v}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),y=l.num_points()*p,v=y*u.BYTES_PER_ELEMENT,x=s(o,u),g=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,x,v,g);const _=new u(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Pv;const XS=()=>{if(Pv)return Pv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let y=0;y<f.length;++y){const v=f.charCodeAt(y);p[y]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let y=0;y<f.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(f,p,m,y,v,x){const g=s.exports.sbrk,_=m+3&-4,b=g(_*y),S=g(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,S);const M=f(b,m,y,S,v.length);if(M===0&&x&&x(b,_,y),p.set(E.subarray(b,b+m*y)),g(b-g(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Pv={ready:o,supported:!0,decodeVertexBuffer(f,p,m,y,v){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,y,s.exports[c[v]])},decodeIndexBuffer(f,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,y)},decodeIndexSequence(f,p,m,y){l(s.exports.meshopt_decodeIndexSequence,f,p,m,y)},decodeGltfBuffer(f,p,m,y,v,x){l(s.exports[u[v]],f,p,m,y,s.exports[c[x]])}},Pv};function ZV(n,e,t,r){const i=class extends Ss{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=wR.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o),r&&r(this)}};return i.key=kd.generateUUID(),i}const vk=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function mi(n,e){const t=xa(i=>i.gl),r=Ja(t0,vk(n)?Object.values(n):n);if(P.useLayoutEffect(()=>{e==null||e(r)},[e]),P.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),vk(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}mi.preload=n=>Ja.preload(t0,n);mi.clear=n=>Ja.clear(t0,n);function Gge(n){return Array.isArray(n)}function YS(n=[0,0,0]){return Gge(n)?n:n instanceof G||n instanceof ac?[n.x,n.y,n.z]:[n,n,n]}function xs({debug:n,mesh:e,children:t,position:r,rotation:i,scale:s,...o}){const a=P.useRef(null),l=P.useRef(null);return P.useLayoutEffect(()=>{const c=(e==null?void 0:e.current)||a.current.parent,u=a.current;if(!(c instanceof Xn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const f={position:new G,rotation:new ac,scale:new G(1,1,1)};if(c){pa(f,{position:r,scale:s});const p=c.matrixWorld.clone();if(c.matrixWorld.identity(),!i||typeof i=="number"){const m=new Ht;m.position.copy(f.position),m.lookAt(c.position),typeof i=="number"&&m.rotateZ(i),pa(f,{rotation:m.rotation})}else pa(f,{rotation:i});return u.geometry=new Uie(c,f.position,f.rotation,f.scale),l.current&&pa(l.current,f),c.matrixWorld=p,()=>{u.geometry.dispose()}}},[e,...YS(r),...YS(s),...YS(i)]),P.createElement("mesh",{ref:a},t||P.createElement("meshStandardMaterial",Yl({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),n&&P.createElement("mesh",{ref:l},P.createElement("boxGeometry",null),P.createElement("meshNormalMaterial",{wireframe:!0}),P.createElement("axesHelper",null)))}let Iv=null;function e9(n,e,t){return r=>{t&&t(r),n&&(Iv||(Iv=new Hge),Iv.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Iv)),e&&r.setMeshoptDecoder(typeof XS=="function"?XS():XS)}}function zo(n,e=!0,t=!0,r){return Ja(oP,n,e9(e,t,r))}zo.preload=(n,e=!0,t=!0,r)=>Ja.preload(oP,n,e9(e,t,r));zo.clear=n=>Ja.clear(oP,n);const Vge=ZV({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),WM=P.forwardRef(function({children:e,disable:t,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:c,front:u,back:f,onCentered:p,precise:m=!0,...y},v){const x=P.useRef(null),g=P.useRef(null),_=P.useRef(null);return P.useLayoutEffect(()=>{g.current.matrixWorld.identity();const b=new Ms().setFromObject(_.current,m),S=new G,E=new Cs,M=b.max.x-b.min.x,R=b.max.y-b.min.y,B=b.max.z-b.min.z;b.getCenter(S),b.getBoundingSphere(E);const T=l?R/2:c?-R/2:0,I=o?-M/2:a?M/2:0,O=u?B/2:f?-B/2:0;g.current.position.set(t||r?0:-S.x+I,t||i?0:-S.y+T,t||s?0:-S.z+O),typeof p<"u"&&p({parent:x.current.parent,container:x.current,width:M,height:R,depth:B,boundingBox:b,boundingSphere:E,center:S,verticalAlignment:T,horizontalAlignment:I,depthAlignment:O})}),P.useImperativeHandle(v,()=>x.current,[]),P.createElement("group",Yl({ref:x},y),P.createElement("group",{ref:g},P.createElement("group",{ref:_},e)))}),QS={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},$ge="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function t9({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){if(t){if(!(t in QS))throw new Error("Preset must be one of: "+Object.keys(QS).join(", "));n=QS[t],e=$ge}const s=Array.isArray(n),a=Ja(s?LG:Uge,s?[n]:n,c=>{c.setPath(e),i&&i(c)}),l=s?a[0]:a;return l.mapping=s?Oa:eh,l.encoding=r??s?kt:no,l}const Wge=n=>n.current&&n.current.isScene,jge=n=>Wge(n)?n.current:n;function _P(n,e,t,r,i=0){const s=jge(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function wP({scene:n,background:e=!1,blur:t,map:r}){const i=xa(s=>s.scene);return P.useLayoutEffect(()=>{if(r)return _P(e,n,i,r,t)},[i,n,r,e,t]),null}function n9({background:n=!1,scene:e,blur:t,...r}){const i=t9(r),s=xa(o=>o.scene);return P.useLayoutEffect(()=>_P(n,e,s,i,t),[i,n,e,s,t]),null}function Jge({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:f=void 0,extensions:p}){const m=xa(b=>b.gl),y=xa(b=>b.scene),v=P.useRef(null),[x]=P.useState(()=>new ag),g=P.useMemo(()=>{const b=new SR(r);return b.texture.type=gs,b},[r]);P.useLayoutEffect(()=>(i===1&&v.current.update(m,x),_P(o,l,y,g.texture,a)),[n,x,g.texture,l,y,o,i,m]);let _=1;return zu(()=>{(i===1/0||_<i)&&(v.current.update(m,x),_++)}),P.createElement(P.Fragment,null,Ere(P.createElement(P.Fragment,null,n,P.createElement("cubeCamera",{ref:v,args:[e,t,g]}),c||f?P.createElement(n9,{background:!0,files:c,preset:f,path:u,extensions:p}):s?P.createElement(wP,{background:!0,map:s,extensions:p}):null),x))}function Kge(n){var e,t,r,i;const s=t9(n),o=n.map||s;P.useMemo(()=>nP({GroundProjectedEnvImpl:cie}),[]);const a=P.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return P.createElement(P.Fragment,null,P.createElement(wP,Yl({},n,{map:o})),P.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function jM(n){return n.ground?P.createElement(Kge,n):n.map?P.createElement(wP,n):n.children?P.createElement(Jge,n):P.createElement(n9,n)}function Xge(n){return n.isLight}function Yge(n){return!!n.geometry}const r9=P.createContext(null),Qge=ZV({color:new ke,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),qge=P.forwardRef(({children:n,temporal:e,frames:t=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:c=2,resolution:u=1024,toneMapped:f=!0,...p},m)=>{nP({SoftShadowMaterial:Qge});const y=xa(M=>M.gl),v=xa(M=>M.scene),x=xa(M=>M.camera),g=xa(M=>M.invalidate),_=P.useRef(null),b=P.useRef(null),[S]=P.useState(()=>new Zge(y,v,u));P.useLayoutEffect(()=>{S.configure(_.current)},[]);const E=P.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?i:t),count:0,getMesh:()=>_.current,reset:()=>{S.clear();const M=_.current.material;M.opacity=0,M.alphaTest=0,E.count=0},update:(M=1)=>{const R=_.current.material;E.temporal?(R.opacity=Math.min(o,R.opacity+o/E.blend),R.alphaTest=Math.min(a,R.alphaTest+a/E.blend)):(R.opacity=o,R.alphaTest=a),b.current.visible=!0,S.prepare();for(let B=0;B<M;B++)E.lights.forEach(T=>T.update()),S.update(x,E.blend);b.current.visible=!1,S.finish()}}),[S,x,v,e,t,i,o,a]);return P.useLayoutEffect(()=>{E.reset(),!E.temporal&&E.frames!==1/0&&E.update(E.blend)}),P.useImperativeHandle(m,()=>E,[E]),zu(()=>{(E.temporal||E.frames===1/0)&&E.count<E.frames&&E.count<r&&(g(),E.update(),E.count++)}),P.createElement("group",p,P.createElement("group",{traverse:()=>null,ref:b},P.createElement(r9.Provider,{value:E},n)),P.createElement("mesh",{receiveShadow:!0,ref:_,scale:s,rotation:[-Math.PI/2,0,0]},P.createElement("planeGeometry",null),P.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:c,map:S.progressiveLightMap2.texture})))}),xk=P.forwardRef(({castShadow:n=!0,bias:e=.001,mapSize:t=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:c=8,intensity:u=1,ambient:f=.5,...p},m)=>{const y=P.useRef(null),v=new G(...a).length(),x=P.useContext(r9),g=P.useCallback(()=>{let b;if(y.current)for(let S=0;S<y.current.children.length;S++)if(b=y.current.children[S],Math.random()>f)b.position.set(a[0]+kd.randFloatSpread(l),a[1]+kd.randFloatSpread(l),a[2]+kd.randFloatSpread(l));else{let E=Math.acos(2*Math.random()-1)-Math.PI/2,M=2*Math.PI*Math.random();b.position.set(Math.cos(E)*Math.cos(M)*v,Math.abs(Math.cos(E)*Math.sin(M)*v),Math.sin(E)*v)}},[l,f,v,...a]),_=P.useMemo(()=>({update:g}),[g]);return P.useImperativeHandle(m,()=>_,[_]),P.useLayoutEffect(()=>{const b=y.current;return x&&x.lights.set(b.uuid,_),()=>void x.lights.delete(b.uuid)},[x,_]),P.createElement("group",Yl({ref:y},p),Array.from({length:c},(b,S)=>P.createElement("directionalLight",{key:S,castShadow:n,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:u/c},P.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class Zge{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new ke,this.clearAlpha=0;const i=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?gs:Li;this.progressiveLightMap1=new $i(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.progressiveLightMap2=new $i(this.res,this.res,{type:i,encoding:e.outputEncoding}),this.discardMat=new Vge,this.targetMat=new UR({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Yge(e)?this.meshes.push({object:e,material:e.material}):Xge(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}var ne={},e0e={get exports(){return ne},set exports(n){ne=n}},t0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n0e=t0e,r0e=n0e;function i9(){}function s9(){}s9.resetWarningCache=i9;var i0e=function(){function n(r,i,s,o,a,l){if(l!==r0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s9,resetWarningCache:i9};return t.PropTypes=t,t};e0e.exports=i0e();const s0e=Symbol(),SP=Symbol(),Wp="a",Cm="w";let o0e=(n,e)=>new Proxy(n,e);const JM=Object.getPrototypeOf,KM=new WeakMap,o9=n=>n&&(KM.has(n)?KM.get(n):JM(n)===Object.prototype||JM(n)===Array.prototype),cb=n=>typeof n=="object"&&n!==null,a0e=n=>{if(Array.isArray(n))return Array.from(n);const e=Object.getOwnPropertyDescriptors(n);return Object.values(e).forEach(t=>{t.configurable=!0}),Object.create(JM(n),e)},AP=n=>n[SP]||n,a9=(n,e,t,r)=>{if(!o9(n))return n;let i=r&&r.get(n);if(!i){const l=AP(n);i=(c=>Object.values(Object.getOwnPropertyDescriptors(c)).some(u=>!u.configurable&&!u.writable))(l)?[l,a0e(l)]:[l],r==null||r.set(n,i)}const[s,o]=i;let a=t&&t.get(s);return a&&a[1].f===!!o||(a=((l,c)=>{const u={f:c};let f=!1;const p=(y,v)=>{if(!f){let x=u[Wp].get(l);if(x||(x={},u[Wp].set(l,x)),y===Cm)x[Cm]=!0;else{let g=x[y];g||(g=new Set,x[y]=g),g.add(v)}}},m={get:(y,v)=>v===SP?l:(p("k",v),a9(Reflect.get(y,v),u[Wp],u.c)),has:(y,v)=>v===s0e?(f=!0,u[Wp].delete(l),!0):(p("h",v),Reflect.has(y,v)),getOwnPropertyDescriptor:(y,v)=>(p("o",v),Reflect.getOwnPropertyDescriptor(y,v)),ownKeys:y=>(p(Cm),Reflect.ownKeys(y))};return c&&(m.set=m.deleteProperty=()=>!1),[m,u]})(s,!!o),a[1].p=o0e(o||s,a[0]),t&&t.set(s,a)),a[1][Wp]=e,a[1].c=t,a[1].p},l9=(n,e,t,r)=>{if(Object.is(n,e))return!1;if(!cb(n)||!cb(e))return!0;const i=t.get(AP(n));if(!i)return!0;if(r){const o=r.get(n);if(o&&o.n===e)return o.g;r.set(n,{n:e,g:!1})}let s=null;try{for(const o of i.h||[])if(s=Reflect.has(n,o)!==Reflect.has(e,o),s)return s;if(i[Cm]===!0){if(s=((o,a)=>{const l=Reflect.ownKeys(o),c=Reflect.ownKeys(a);return l.length!==c.length||l.some((u,f)=>u!==c[f])})(n,e),s)return s}else for(const o of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(n,o)!=!!Reflect.getOwnPropertyDescriptor(e,o),s)return s;for(const o of i.k||[])if(s=l9(n[o],e[o],t,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(n,{n:e,g:s})}},l0e=n=>o9(n)&&n[SP]||null,bk=(n,e=!0)=>{KM.set(n,e)},c0e=(n,e,t)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;cb(o)&&i.add(o);const l=cb(o)&&e.get(AP(o));if(l){var c,u;if((c=l.h)==null||c.forEach(p=>{const m=`:has(${String(p)})`;r.push(a?[...a,m]:[m])}),l[Cm]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else{var f;(f=l.o)==null||f.forEach(p=>{const m=`:hasOwn(${String(p)})`;r.push(a?[...a,m]:[m])})}(u=l.k)==null||u.forEach(p=>{t&&!("value"in(Object.getOwnPropertyDescriptor(o,p)||{}))||s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(n),r},qS=n=>typeof n=="object"&&n!==null,xl=new WeakMap,Bv=new WeakSet,u0e=(n=Object.is,e=(c,u)=>new Proxy(c,u),t=c=>qS(c)&&!Bv.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),r=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,u,f=r)=>{const p=i.get(c);if((p==null?void 0:p[0])===u)return p[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return bk(m,!0),i.set(c,[u,m]),Reflect.ownKeys(c).forEach(y=>{if(Object.getOwnPropertyDescriptor(m,y))return;const v=Reflect.get(c,y),x={value:v,enumerable:!0,configurable:!0};if(Bv.has(v))bk(v,!1);else if(v instanceof Promise)delete x.value,x.get=()=>f(v);else if(xl.has(v)){const[g,_]=xl.get(v);x.value=s(g,_(),f)}Object.defineProperty(m,y,x)}),m},o=new WeakMap,a=[1,1],l=c=>{if(!qS(c))throw new Error("object required");const u=o.get(c);if(u)return u;let f=a[0];const p=new Set,m=(T,I=++a[0])=>{f!==I&&(f=I,p.forEach(O=>O(T,I)))};let y=a[1];const v=(T=++a[1])=>(y!==T&&!p.size&&(y=T,g.forEach(([I])=>{const O=I[1](T);O>f&&(f=O)})),f),x=T=>(I,O)=>{const z=[...I];z[1]=[T,...z[1]],m(z,O)},g=new Map,_=(T,I)=>{if(({VITE_FIREBASE_API_KEY:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",VITE_FIREBASE_AUTH_DOMAIN:"kalkino-org.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://kalkino-org-default-rtdb.firebaseio.com",VITE_FIREBASE_PROJECT_ID:"kalkino-org",VITE_FIREBASE_STORAGE_BUCKET:"kalkino-org.firebasestorage.app",VITE_FIREBASE_MSG_SENDER_ID:"919289249233",VITE_FIREBASE_APP_ID:"1:919289249233:web:9d7356a63529e0d39eb4f0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&g.has(T))throw new Error("prop listener already exists");if(p.size){const O=I[3](x(T));g.set(T,[I,O])}else g.set(T,[I])},b=T=>{var I;const O=g.get(T);O&&(g.delete(T),(I=O[1])==null||I.call(O))},S=T=>(p.add(T),p.size===1&&g.forEach(([O,z],H)=>{if(({VITE_FIREBASE_API_KEY:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",VITE_FIREBASE_AUTH_DOMAIN:"kalkino-org.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://kalkino-org-default-rtdb.firebaseio.com",VITE_FIREBASE_PROJECT_ID:"kalkino-org",VITE_FIREBASE_STORAGE_BUCKET:"kalkino-org.firebasestorage.app",VITE_FIREBASE_MSG_SENDER_ID:"919289249233",VITE_FIREBASE_APP_ID:"1:919289249233:web:9d7356a63529e0d39eb4f0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&z)throw new Error("remove already exists");const N=O[3](x(H));g.set(H,[O,N])}),()=>{p.delete(T),p.size===0&&g.forEach(([O,z],H)=>{z&&(z(),g.set(H,[O]))})}),E=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),R=e(E,{deleteProperty(T,I){const O=Reflect.get(T,I);b(I);const z=Reflect.deleteProperty(T,I);return z&&m(["delete",[I],O]),z},set(T,I,O,z){const H=Reflect.has(T,I),N=Reflect.get(T,I,z);if(H&&(n(N,O)||o.has(O)&&n(N,o.get(O))))return!0;b(I),qS(O)&&(O=l0e(O)||O);let J=O;if(O instanceof Promise)O.then(X=>{O.status="fulfilled",O.value=X,m(["resolve",[I],X])}).catch(X=>{O.status="rejected",O.reason=X,m(["reject",[I],X])});else{!xl.has(O)&&t(O)&&(J=l(O));const X=!Bv.has(J)&&xl.get(J);X&&_(I,X)}return Reflect.set(T,I,J,z),m(["set",[I],O,N]),!0}});o.set(c,R);const B=[E,v,s,S];return xl.set(R,B),Reflect.ownKeys(c).forEach(T=>{const I=Object.getOwnPropertyDescriptor(c,T);"value"in I&&(R[T]=c[T],delete I.value,delete I.writable),Object.defineProperty(E,T,I)}),R})=>[l,xl,Bv,n,e,t,r,i,s,o,a],[f0e]=u0e();function d0e(n={}){return f0e(n)}function h0e(n,e,t){const r=xl.get(n);({VITE_FIREBASE_API_KEY:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",VITE_FIREBASE_AUTH_DOMAIN:"kalkino-org.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://kalkino-org-default-rtdb.firebaseio.com",VITE_FIREBASE_PROJECT_ID:"kalkino-org",VITE_FIREBASE_STORAGE_BUCKET:"kalkino-org.firebasestorage.app",VITE_FIREBASE_MSG_SENDER_ID:"919289249233",VITE_FIREBASE_APP_ID:"1:919289249233:web:9d7356a63529e0d39eb4f0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const c=o(u=>{if(s.push(u),t){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function _k(n,e){const t=xl.get(n);({VITE_FIREBASE_API_KEY:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",VITE_FIREBASE_AUTH_DOMAIN:"kalkino-org.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://kalkino-org-default-rtdb.firebaseio.com",VITE_FIREBASE_PROJECT_ID:"kalkino-org",VITE_FIREBASE_STORAGE_BUCKET:"kalkino-org.firebasestorage.app",VITE_FIREBASE_MSG_SENDER_ID:"919289249233",VITE_FIREBASE_APP_ID:"1:919289249233:web:9d7356a63529e0d39eb4f0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!t&&console.warn("Please use proxy object");const[r,i,s]=t;return s(r,i(),e)}var ub={},p0e={get exports(){return ub},set exports(n){ub=n}},c9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=P;function m0e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var g0e=typeof Object.is=="function"?Object.is:m0e,y0e=hh.useState,v0e=hh.useEffect,x0e=hh.useLayoutEffect,b0e=hh.useDebugValue;function _0e(n,e){var t=e(),r=y0e({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return x0e(function(){i.value=t,i.getSnapshot=e,ZS(i)&&s({inst:i})},[n,t,e]),v0e(function(){return ZS(i)&&s({inst:i}),n(function(){ZS(i)&&s({inst:i})})},[n]),b0e(t),t}function ZS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!g0e(n,t)}catch{return!0}}function w0e(n,e){return e()}var S0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w0e:_0e;c9.useSyncExternalStore=hh.useSyncExternalStore!==void 0?hh.useSyncExternalStore:S0e;(function(n){n.exports=c9})(p0e);const A0e=mT(ub),{use:wk}=D,{useSyncExternalStore:E0e}=A0e,M0e=(n,e)=>{const t=P.useRef();P.useEffect(()=>{t.current=c0e(n,e,!0)}),P.useDebugValue(t.current)},C0e=new WeakMap;function vi(n,e){const t=e==null?void 0:e.sync,r=P.useRef(),i=P.useRef();let s=!0;const o=E0e(P.useCallback(c=>{const u=h0e(n,c,t);return c(),u},[n,t]),()=>{const c=_k(n,wk);try{if(!s&&r.current&&i.current&&!l9(r.current,c,i.current,new WeakMap))return r.current}catch{}return c},()=>_k(n,wk));s=!1;const a=new WeakMap;P.useEffect(()=>{r.current=o,i.current=a}),({VITE_FIREBASE_API_KEY:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",VITE_FIREBASE_AUTH_DOMAIN:"kalkino-org.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://kalkino-org-default-rtdb.firebaseio.com",VITE_FIREBASE_PROJECT_ID:"kalkino-org",VITE_FIREBASE_STORAGE_BUCKET:"kalkino-org.firebasestorage.app",VITE_FIREBASE_MSG_SENDER_ID:"919289249233",VITE_FIREBASE_APP_ID:"1:919289249233:web:9d7356a63529e0d39eb4f0",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&M0e(o,a);const l=P.useMemo(()=>new WeakMap,[]);return a9(o,a,l,C0e)}const it=d0e({intro:!1,purchase:!1,buy:!1,size:"L",color:{shirt:"#2f344a",tsports:"#0C0A00",hoodie:"#2f344a",jeans:"#FFFFFF"},selectedApparel:"hoodie",isLogoTexture:!1,isFullTexture:!1,isBaseTexture:!0,logoDecal:"./styles/I_008.png",fullDecal:"./styles/I_008.png",baseDecal:"./styles/I_008.png"}),XM=()=>{const n=vi(it),{nodes:e,materials:t}=zo("/shirt_baked.glb"),r=mi(n.logoDecal),i=mi(n.fullDecal),s=mi(n.baseDecal);zu((a,l)=>r0.dampC(t.lambert1.color,n.color.shirt,.15,l));const o=JSON.stringify(n);return K("group",{children:Qe("mesh",{castShadow:!0,geometry:e.T_Shirt_male.geometry,material:t.lambert1,"material-roughness":1,dispose:null,children:[n.isBaseTexture&&K(xs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.23,map:s,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),n.isFullTexture&&K(xs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:i}),n.isLogoTexture&&K(xs,{position:[.07,.09,.1],rotation:[0,0,0],scale:.07,map:r,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]})},o)},T0e=()=>{const n=P.useRef();return Qe(qge,{ref:n,temporal:!0,framers:60,alphaTest:.85,scale:10,rotation:[Math.PI/2,0,0],position:[0,0,-.14],children:[K(xk,{amount:4,radius:9,intensity:.55,ambient:.25,position:[5,5,-10]}),K(xk,{amount:4,radius:5,intensity:.25,ambient:.55,position:[5,5,-90]})]})},YM=({children:n,defaultPosition:e=[-.4,0,2]})=>{const t=P.useRef(),r=vi(it);return zu((i,s)=>{const o=window.innerWidth<=1260,a=window.innerWidth<=600;let l=e;r.intro?(o&&(l=[0,0,2]),a&&(l=[0,.2,2.5])):a?l=[0,.2,2.5]:l=[0,0,2],r0.damp3(i.camera.position,l,.25,s)}),K("group",{ref:t,children:n})};function R0e(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}const P0e=J4["useInsertionEffect"],I0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B0e=I0e?P.useLayoutEffect:P.useEffect,L0e=P0e||B0e,u9=n=>{const e=P.useRef([n,(...t)=>e[0](...t)]).current;return L0e(()=>{e[0]=n}),e[1]},D0e="popstate",EP="pushState",MP="replaceState",O0e="hashchange",Sk=[D0e,EP,MP,O0e],k0e=n=>{for(const e of Sk)addEventListener(e,n);return()=>{for(const e of Sk)removeEventListener(e,n)}},f9=(n,e)=>ub.useSyncExternalStore(k0e,n,e),N0e=()=>location.search,F0e=({ssrSearch:n=""}={})=>f9(N0e,()=>n),Ak=()=>location.pathname,U0e=({ssrPath:n}={})=>f9(Ak,n?()=>n:Ak),H0e=(n,{replace:e=!1,state:t=null}={})=>history[e?MP:EP](t,"",n),z0e=(n={})=>[U0e(n),H0e],Ek=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ek]>"u"){for(const n of[EP,MP]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,Ek,{value:!0})}const G0e=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",d9=(n="")=>n==="/"?"":n,V0e=(n,e)=>n[0]==="~"?n.slice(1):d9(e)+n,$0e=(n="",e)=>G0e(Mk(d9(n)),Mk(e)),Mk=n=>{try{return decodeURI(n)}catch{return n}},W0e={hook:z0e,searchHook:F0e,parser:R0e,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},j0e=P.createContext(W0e),J0e=()=>P.useContext(j0e),K0e={};P.createContext(K0e);const X0e=n=>{const[e,t]=n.hook(n);return[$0e(n.base,e),u9((r,i)=>t(V0e(r,n.base),i))]};P.forwardRef((n,e)=>{const t=J0e(),[r,i]=X0e(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:f,state:p,...m}=n,y=u9(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,n)))}),v=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&P.isValidElement(c)?P.cloneElement(c,{onClick:y,href:v}):P.createElement("a",{...m,onClick:y,href:v,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});zo.preload("/t-shirt-sports-transformed.glb");zo.preload("/jeans-transformed.glb");function h9(n){const e=vi(it),{nodes:t,materials:r}=zo("/hoodie.glb"),i=mi(e.logoDecal),s=mi(e.fullDecal),o=mi(e.baseDecal);zu((l,c)=>{r0.dampC(t.mesh_0.material.color,e.color.hoodie,.1,c)});const a=JSON.stringify(e);return P.createElement("group",{...n,dispose:null,key:a},Qe("mesh",{castShadow:!0,"material-roughness":1,geometry:t.mesh_0.geometry,material:t.mesh_0.material,dispose:null,scale:.7,children:[e.isBaseTexture&&K(xs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.4,map:o,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),e.isFullTexture&&K(xs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:s}),e.isLogoTexture&&K(xs,{position:[.11,.18,.1],rotation:[0,0,0],scale:.15,map:i,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]}))}zo.preload("/hoodie.glb");var at={};try{({}).CARBON_ENABLE_CSS_CUSTOM_PROPERTIES&&{}.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES==="true"?at.enableCssCustomProperties=!0:at.enableCssCustomProperties=!1,{}.CARBON_ENABLE_CSS_GRID&&{}.CARBON_ENABLE_CSS_GRID==="true"?at.enableCssGrid=!0:at.enableCssGrid=!1,{}.CARBON_ENABLE_V11_RELEASE?{}.CARBON_ENABLE_V11_RELEASE==="true"?at.enableV11Release=!0:at.enableV11Release=!1:at.enableV11Release=!0,{}.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST&&{}.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST==="true"?at.enableExperimentalTileContrast=!0:at.enableExperimentalTileContrast=!1,{}.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS&&{}.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS==="true"?at.enableV12TileDefaultIcons=!0:at.enableV12TileDefaultIcons=!1,{}.CARBON_ENABLE_V12_TILE_RADIO_ICONS&&{}.CARBON_ENABLE_V12_TILE_RADIO_ICONS==="true"?at.enableV12TileRadioIcons=!0:at.enableV12TileRadioIcons=!1,{}.CARBON_ENABLE_V12_OVERFLOWMENU&&{}.CARBON_ENABLE_V12_OVERFLOWMENU==="true"?at.enableV12Overflowmenu=!0:at.enableV12Overflowmenu=!1,{}.CARBON_ENABLE_TREEVIEW_CONTROLLABLE&&{}.CARBON_ENABLE_TREEVIEW_CONTROLLABLE==="true"?at.enableTreeviewControllable=!0:at.enableTreeviewControllable=!1,{}.CARBON_ENABLE_V12_STRUCTURED_LIST_VISIBLE_ICONS&&{}.CARBON_ENABLE_V12_STRUCTURED_LIST_VISIBLE_ICONS==="true"?at.enableV12StructuredListVisibleIcons=!0:at.enableV12StructuredListVisibleIcons=!1,{}.CARBON_ENABLE_EXPERIMENTAL_FOCUS_WRAP_WITHOUT_SENTINELS&&{}.CARBON_ENABLE_EXPERIMENTAL_FOCUS_WRAP_WITHOUT_SENTINELS==="true"?at.enableExperimentalFocusWrapWithoutSentinels=!0:at.enableExperimentalFocusWrapWithoutSentinels=!1,{}.CARBON_ENABLE_V12_DYNAMIC_FLOATING_STYLES&&{}.CARBON_ENABLE_V12_DYNAMIC_FLOATING_STYLES==="true"?at.enableV12DynamicFloatingStyles=!0:at.enableV12DynamicFloatingStyles=!1}catch{at.enableCssCustomProperties=!1,at.enableCssGrid=!1,at.enableV11Release=!0,at.enableExperimentalTileContrast=!1,at.enableV12TileDefaultIcons=!1,at.enableV12TileRadioIcons=!1,at.enableV12Overflowmenu=!1,at.enableTreeviewControllable=!1,at.enableV12StructuredListVisibleIcons=!1,at.enableExperimentalFocusWrapWithoutSentinels=!1,at.enableV12DynamicFloatingStyles=!1}var Ck=[{name:"enable-css-custom-properties",description:"Describe what the flag does",enabled:at.enableCssCustomProperties},{name:"enable-css-grid",description:`Enable CSS Grid Layout in the Grid and Column React components
`,enabled:at.enableCssGrid},{name:"enable-v11-release",description:`Enable the features and functionality for the v11 Release
`,enabled:at.enableV11Release},{name:"enable-experimental-tile-contrast",description:`Enable the experimental tile improved contrast styles
`,enabled:at.enableExperimentalTileContrast},{name:"enable-v12-tile-default-icons",description:`Enable rendering of default icons in the tile components
`,enabled:at.enableV12TileDefaultIcons},{name:"enable-v12-tile-radio-icons",description:`Enable rendering of radio icons in the RadioTile component
`,enabled:at.enableV12TileRadioIcons},{name:"enable-v12-overflowmenu",description:`Enable the use of the v12 OverflowMenu leveraging the Menu subcomponents
`,enabled:at.enableV12Overflowmenu},{name:"enable-treeview-controllable",description:`Enable the new TreeView controllable API
`,enabled:at.enableTreeviewControllable},{name:"enable-v12-structured-list-visible-icons",description:`Enable rendering of radio icons in the StructuredList component
`,enabled:at.enableV12StructuredListVisibleIcons},{name:"enable-experimental-focus-wrap-without-sentinels",description:`Enable the new focus wrap behavior that doesn't use sentinel nodes
`,enabled:at.enableExperimentalFocusWrapWithoutSentinels},{name:"enable-v12-dynamic-floating-styles",description:`Enable dynamic setting of floating styles for components like Popover, Tooltip, etc.
`,enabled:at.enableV12DynamicFloatingStyles}];function Tk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Y0e(n){if(Array.isArray(n))return n}function Q0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iye(r.key),r)}}function q0e(n,e,t){return e&&Rk(n.prototype,e),t&&Rk(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Z0e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=p9(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function eye(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(n,e){return Y0e(n)||eye(n,e)||p9(n,e)||tye()}function rye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iye(n){var e=rye(n,"string");return typeof e=="symbol"?e:e+""}function p9(n,e){if(n){if(typeof n=="string")return Tk(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Tk(n,e):void 0}}var sye=function(){function n(e){var t=this;Q0e(this,n),this.flags=new Map,e&&Object.keys(e).forEach(function(r){t.flags.set(r,e[r])})}return q0e(n,[{key:"checkForFlag",value:function(t){if(!this.flags.has(t))throw new Error("Unable to find a feature flag with the name: `".concat(t,"`"))}},{key:"add",value:function(t,r){if(this.flags.has(t))throw new Error("The feature flag: ".concat(t," already exists"));this.flags.set(t,r)}},{key:"enable",value:function(t){this.checkForFlag(t),this.flags.set(t,!0)}},{key:"disable",value:function(t){this.checkForFlag(t),this.flags.set(t,!1)}},{key:"merge",value:function(t){var r=this;Object.keys(t).forEach(function(i){r.flags.set(i,t[i])})}},{key:"mergeWithScope",value:function(t){var r=Z0e(t.flags),i;try{for(r.s();!(i=r.n()).done;){var s=nye(i.value,2),o=s[0],a=s[1];this.flags.has(o)||this.flags.set(o,a)}}catch(l){r.e(l)}finally{r.f()}}},{key:"enabled",value:function(t){return this.checkForFlag(t),this.flags.get(t)}}])}(),QM=oye();for(var eA=0;eA<Ck.length;eA++){var Pk=Ck[eA];QM.add(Pk.name,Pk.enabled)}function oye(n){return new sye(n)}function aye(){return QM.merge.apply(QM,arguments)}aye({"enable-css-custom-properties":!0,"enable-css-grid":!0,"enable-v11-release":!0,"enable-experimental-tile-contrast":!1,"enable-v12-tile-radio-icons":!1,"enable-v12-structured-list-visible-icons":!1,"enable-v12-dynamic-floating-styles":!1});function ji(){return ji=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ji.apply(null,arguments)}var qM={},lye={get exports(){return qM},set exports(n){qM=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(lye);const No=qM,cye=D.createContext("cds");function Go(){return D.useContext(cye)}function uye(n,e,t){return(e=hye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ik(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(t),!0).forEach(function(r){uye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ik(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bk(n,e){if(n==null)return{};var t,r,i=fye(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function fye(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function dye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hye(n){var e=dye(n,"string");return typeof e=="symbol"?e:e+""}var pye=["width","height","viewBox"],mye=["tabindex"],gye={focusable:"false",preserveAspectRatio:"xMidYMid meet"};function yye(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.width,t=n.height,r=n.viewBox,i=r===void 0?"0 0 ".concat(e," ").concat(t):r,s=Bk(n,pye),o=s.tabindex,a=Bk(s,mye),l=tA(tA(tA({},gye),a),{},{width:e,height:t,viewBox:i});return l["aria-label"]||l["aria-labelledby"]||l.title?(l.role="img",o!=null&&(l.focusable="true",l.tabindex=o)):l["aria-hidden"]=!0,l}const bs=D.forwardRef(function(e,t){let{className:r,children:i,tabIndex:s,xmlns:o="http://www.w3.org/2000/svg",preserveAspectRatio:a="xMidYMid meet",...l}=e;const{tabindex:c,...u}=yye({...l,tabindex:s}),f=u;return r&&(f.className=r),c!=null&&(typeof c=="number"?f.tabIndex=c:f.tabIndex=Number(s)),t&&(f.ref=t),o&&(f.xmlns=o),a&&(f.preserveAspectRatio=a),D.createElement("svg",f,i)});bs.displayName="Icon";bs.propTypes={"aria-hidden":ne.oneOfType([ne.bool,ne.oneOf(["true","false"])]),"aria-label":ne.string,"aria-labelledby":ne.string,children:ne.node,className:ne.string,height:ne.oneOfType([ne.number,ne.string]),preserveAspectRatio:ne.string,tabIndex:ne.oneOfType([ne.number,ne.string]),viewBox:ne.string,width:ne.oneOfType([ne.number,ne.string]),xmlns:ne.string};var Lk,Dk,Ok,kk,Nk,Fk,Uk,Hk;const vye=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i==="glyph"||i==="glyph"||i==="glyphpx"?D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 8",fill:"currentColor",...s},Lk||(Lk=D.createElement("path",{d:"M5 8L0 4 5 0z"})),r):D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Dk||(Dk=D.createElement("path",{d:"M20 24L10 16 20 8z"})),r)}),xye=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i==="glyph"||i==="glyph"||i==="glyphpx"?D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 8",fill:"currentColor",...s},Ok||(Ok=D.createElement("path",{d:"M0 0L5 4 0 8z"})),r):D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},kk||(kk=D.createElement("path",{d:"M12 8L22 16 12 24z"})),r)}),m9=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i===20||i==="20"||i==="20px"?D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...s},Nk||(Nk=D.createElement("path",{d:"M8 13.2L3.6 8.8 2.7 9.7 7.1 14.1 8 15 16.5 6.5 15.6 5.6z"})),Fk||(Fk=D.createElement("path",{d:"M15.6 5.6L8 13.2 3.6 8.8 2.7 9.7 7.1 14.1 8 15 16.5 6.5 15.6 5.6z"})),r):i===24||i==="24"||i==="24px"?D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...s},Uk||(Uk=D.createElement("path",{d:"M10 15.9L4.7 10.6 3.6 11.6 8.9 16.9 10 18 20.6 7.4 19.5 6.3z"})),r):D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Hk||(Hk=D.createElement("path",{d:"M13 24L4 15 5.414 13.586 13 21.171 26.586 7.586 28 9 13 24z"})),r)});var zk;const bye=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},zk||(zk=D.createElement("path",{d:"M17.4141 16L24 9.4141 22.5859 8 16 14.5859 9.4143 8 8 9.4141 14.5859 16 8 22.5859 9.4143 24 16 17.4141 22.5859 24 24 22.5859 17.4141 16z"})),r)});var Gk,Vk;const _ye=D.forwardRef(function(e,t){let{children:r,size:i=16,...s}=e;return i===16||i==="16"||i==="16px"?D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...s},Gk||(Gk=D.createElement("path",{d:"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5 C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"})),r):D.createElement(bs,{width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...s},Vk||(Vk=D.createElement("path",{d:"M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"})),r)}),$k=P.createContext(null),g9=D.forwardRef(function(e,t){let{as:r,children:i,dir:s="auto",...o}=e;const a=P.useContext($k),l={},c=r??"span",u={...a};if(!a)l.dir=s,u.direction=s;else{const{direction:f,getTextDirection:p}=a;if(p&&p.current){const m=wye(i),y=p.current(m);f!==y?(l.dir=y,u.direction=y):f==="auto"&&(l.dir=y)}else f!==s?(l.dir=s,u.direction=s):f==="auto"&&(l.dir=s)}return D.createElement($k.Provider,{value:u},D.createElement(c,ji({ref:t},o,l),i))});g9.propTypes={as:ne.oneOfType([ne.func,ne.string,ne.elementType]),children:ne.node.isRequired,dir:ne.oneOf(["ltr","rtl","auto"])};function wye(n){var t;if(typeof n=="string")return n;const e=(t=D.Children.map(n,r=>typeof r=="string"?r:null))==null?void 0:t.filter(r=>r!==null);return(e==null?void 0:e.length)===1?e[0]:e}function Sye(){let n=0;return function(){return++n}}const y9=!!(typeof window<"u"&&window.document&&window.document.createElement),Aye=D.createContext(null);function v9(){return D.useContext(Aye)}const x9={...D},nA=Sye(),Eye=y9?P.useLayoutEffect:P.useEffect;let rA=!1;const b9="id";function Mye(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b9;const e=v9(),[t,r]=P.useState(()=>rA?`${e?`${e}-`:""}${n}-${nA()}`:null);return Eye(()=>{t===null&&r(`${e?`${e}-`:""}${n}-${nA()}`)},[nA]),P.useEffect(()=>{rA===!1&&(rA=!0)},[]),t}function Cye(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b9;const e=v9();return`${e?`${e}-`:""}${n}-${x9.useId()}`}const Tye=x9.useId?Cye:Mye,Lv={};function Rye(n,e){function t(r,i,s){if(r[i]!==void 0){(!Lv[s]||!Lv[s][i])&&(Lv[s]={...Lv[s],[i]:!0});for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return n(r,i,s,...a)}}return t}function js(n){let{key:e,which:t,keyCode:r,code:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof n=="string"?n===e:typeof n=="number"?n===t||n===r:n.key&&Array.isArray(e)?e.indexOf(n.key)!==-1:n.key===e||n.which===t||n.keyCode===r||n.code===i}const _9={key:"Enter",which:13,keyCode:13,code:"Enter"},CP={key:["Escape","Esc"],which:27,keyCode:27,code:"Esc"},w9={key:" ",which:32,keyCode:32,code:"Space"},Pye={key:"ArrowLeft",which:37,keyCode:37,code:"ArrowLeft"},Iye={key:"ArrowUp",which:38,keyCode:38,code:"ArrowUp"},Bye={key:"ArrowRight",which:39,keyCode:39,code:"ArrowRight"},Lye={key:"ArrowDown",which:40,keyCode:40,code:"ArrowDown"},TP=n=>P.useCallback(e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n);function U1(){return typeof window<"u"}function uc(n){return S9(n)?(n.nodeName||"").toLowerCase():"#document"}function Hi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Vo(n){var e;return(e=(S9(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function S9(n){return U1()?n instanceof Node||n instanceof Hi(n).Node:!1}function mr(n){return U1()?n instanceof Element||n instanceof Hi(n).Element:!1}function Fr(n){return U1()?n instanceof HTMLElement||n instanceof Hi(n).HTMLElement:!1}function ZM(n){return!U1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hi(n).ShadowRoot}function o0(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ro(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Dye(n){return["table","td","th"].includes(uc(n))}function H1(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function RP(n){const e=PP(),t=mr(n)?ro(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Oye(n){let e=Ql(n);for(;Fr(e)&&!ph(e);){if(RP(e))return e;if(H1(e))return null;e=Ql(e)}return null}function PP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ph(n){return["html","body","#document"].includes(uc(n))}function ro(n){return Hi(n).getComputedStyle(n)}function z1(n){return mr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ql(n){if(uc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ZM(n)&&n.host||Vo(n);return ZM(e)?e.host:e}function A9(n){const e=Ql(n);return ph(e)?n.ownerDocument?n.ownerDocument.body:n.body:Fr(e)&&o0(e)?e:A9(e)}function gg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=A9(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Hi(i);if(s){const a=eC(o);return e.concat(o,o.visualViewport||[],o0(i)?i:[],a&&t?gg(a):[])}return e.concat(i,gg(i,[],t))}function eC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Uc(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Jr(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&ZM(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function kye(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function E9(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function Nye(n){return n.mozInputSource===0&&n.isTrusted?!0:tC()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function Fye(n){return Hye()?!1:!tC()&&n.width===0&&n.height===0||tC()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Uye(){return/apple/i.test(navigator.vendor)}function tC(){const n=/android/i;return n.test(kye())||n.test(E9())}function Hye(){return E9().includes("jsdom/")}function nC(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}function Ii(n){return(n==null?void 0:n.ownerDocument)||document}function rC(n){return"composedPath"in n?n.composedPath()[0]:n.target}const zye="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Gye(n){return Fr(n)&&n.matches(zye)}function iA(n){n.preventDefault(),n.stopPropagation()}function Vye(n){return n?n.getAttribute("role")==="combobox"&&Gye(n):!1}const iC=Math.min,Hd=Math.max,fb=Math.round,Dv=Math.floor,Ro=n=>({x:n,y:n});function $ye(n,e){return typeof n=="function"?n(e):n}function IP(n){return n.split("-")[0]}function M9(n){return n.split("-")[1]}function Wye(n){return n==="x"?"y":"x"}function jye(n){return n==="y"?"height":"width"}function BP(n){return["top","bottom"].includes(IP(n))?"y":"x"}function Jye(n){return Wye(BP(n))}function C9(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Kye=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],db=Kye.join(","),T9=typeof Element>"u",mh=T9?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hb=!T9&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},pb=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},Xye=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Yye=function(e,t,r){if(pb(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(db));return t&&mh.call(e,db)&&i.unshift(e),i=i.filter(r),i},Qye=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!pb(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=n(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var u=mh.call(o,db);u&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!pb(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&p){var m=n(f===!0?o.children:f.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},R9=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},P9=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Xye(e))&&!R9(e)?0:e.tabIndex},qye=function(e,t){var r=P9(e);return r<0&&t&&!R9(e)?0:r},Zye=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},I9=function(e){return e.tagName==="INPUT"},eve=function(e){return I9(e)&&e.type==="hidden"},tve=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},nve=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},rve=function(e){if(!e.name)return!0;var t=e.form||hb(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=nve(i,e.form);return!s||s===e},ive=function(e){return I9(e)&&e.type==="radio"},sve=function(e){return ive(e)&&!rve(e)},ove=function(e){var t,r=e&&hb(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var c,u,f;r=hb(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((u=i)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return s},Wk=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},ave=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=mh.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(mh.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=hb(e);if(l&&!l.shadowRoot&&i(l)===!0)return Wk(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(ove(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Wk(e);return!1},lve=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return mh.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},cve=function(e,t){return!(t.disabled||pb(t)||eve(t)||ave(t,e)||tve(t)||lve(t))},sC=function(e,t){return!(sve(t)||P9(t)<0||!cve(e,t))},uve=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},fve=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=qye(a,o),c=o?n(i.candidates):a;l===0?o?t.push.apply(t,c):t.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(Zye).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},LP=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Qye([e],t.includeContainer,{filter:sC.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:uve}):r=Yye(e,t.includeContainer,sC.bind(null,t)),fve(r)},dve=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return mh.call(e,db)===!1?!1:sC(t,e)};function jk(n,e,t){let{reference:r,floating:i}=n;const s=BP(e),o=Jye(e),a=jye(o),l=IP(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(M9(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const hve=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=jk(c,r,l),p=r,m={},y=0;for(let v=0;v<a.length;v++){const{name:x,fn:g}=a[v],{x:_,y:b,data:S,reset:E}=await g({x:u,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,f=b??f,m={...m,[x]:{...m[x],...S}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):E.rects),{x:u,y:f}=jk(c,p,l)),v=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:m}};async function pve(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=IP(t),a=M9(t),l=BP(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=$ye(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const mve=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await pve(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function B9(n){const e=ro(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Fr(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=fb(t)!==s||fb(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function DP(n){return mr(n)?n:n.contextElement}function zd(n){const e=DP(n);if(!Fr(e))return Ro(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=B9(e);let o=(s?fb(t.width):t.width)/r,a=(s?fb(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gve=Ro(0);function L9(n){const e=Hi(n);return!PP()||!e.visualViewport?gve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yve(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hi(n)?!1:e}function Cu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=DP(n);let o=Ro(1);e&&(r?mr(r)&&(o=zd(r)):o=zd(n));const a=yve(s,t,r)?L9(s):Ro(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const p=Hi(s),m=r&&mr(r)?Hi(r):r;let y=p,v=eC(y);for(;v&&r&&m!==y;){const x=zd(v),g=v.getBoundingClientRect(),_=ro(v),b=g.left+(v.clientLeft+parseFloat(_.paddingLeft))*x.x,S=g.top+(v.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=b,c+=S,y=Hi(v),v=eC(y)}}return C9({width:u,height:f,x:l,y:c})}function OP(n,e){const t=z1(n).scrollLeft;return e?e.left+t:Cu(Vo(n)).left+t}function D9(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:OP(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function vve(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Vo(r),a=e?H1(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Ro(1);const u=Ro(0),f=Fr(r);if((f||!f&&!s)&&((uc(r)!=="body"||o0(o))&&(l=z1(r)),Fr(r))){const m=Cu(r);c=zd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!s?D9(o,l,!0):Ro(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function xve(n){return Array.from(n.getClientRects())}function bve(n){const e=Vo(n),t=z1(n),r=n.ownerDocument.body,i=Hd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Hd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+OP(n);const a=-t.scrollTop;return ro(r).direction==="rtl"&&(o+=Hd(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function _ve(n,e){const t=Hi(n),r=Vo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=PP();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function wve(n,e){const t=Cu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Fr(n)?zd(n):Ro(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Jk(n,e,t){let r;if(e==="viewport")r=_ve(n,t);else if(e==="document")r=bve(Vo(n));else if(mr(e))r=wve(e,t);else{const i=L9(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return C9(r)}function O9(n,e){const t=Ql(n);return t===e||!mr(t)||ph(t)?!1:ro(t).position==="fixed"||O9(t,e)}function Sve(n,e){const t=e.get(n);if(t)return t;let r=gg(n,[],!1).filter(a=>mr(a)&&uc(a)!=="body"),i=null;const s=ro(n).position==="fixed";let o=s?Ql(n):n;for(;mr(o)&&!ph(o);){const a=ro(o),l=RP(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||o0(o)&&!l&&O9(n,o))?r=r.filter(u=>u!==o):i=a,o=Ql(o)}return e.set(n,r),r}function Ave(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?H1(e)?[]:Sve(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=Jk(e,u,i);return c.top=Hd(f.top,c.top),c.right=iC(f.right,c.right),c.bottom=iC(f.bottom,c.bottom),c.left=Hd(f.left,c.left),c},Jk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Eve(n){const{width:e,height:t}=B9(n);return{width:e,height:t}}function Mve(n,e,t){const r=Fr(e),i=Vo(e),s=t==="fixed",o=Cu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ro(0);if(r||!r&&!s)if((uc(e)!=="body"||o0(i))&&(a=z1(e)),r){const p=Cu(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=OP(i));const c=i&&!r&&!s?D9(i,a):Ro(0),u=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:u,y:f,width:o.width,height:o.height}}function sA(n){return ro(n).position==="static"}function Kk(n,e){if(!Fr(n)||ro(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Vo(n)===t&&(t=t.ownerDocument.body),t}function k9(n,e){const t=Hi(n);if(H1(n))return t;if(!Fr(n)){let i=Ql(n);for(;i&&!ph(i);){if(mr(i)&&!sA(i))return i;i=Ql(i)}return t}let r=Kk(n,e);for(;r&&Dye(r)&&sA(r);)r=Kk(r,e);return r&&ph(r)&&sA(r)&&!RP(r)?t:r||Oye(n)||t}const Cve=async function(n){const e=this.getOffsetParent||k9,t=this.getDimensions,r=await t(n.floating);return{reference:Mve(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tve(n){return ro(n).direction==="rtl"}const Rve={convertOffsetParentRelativeRectToViewportRelativeRect:vve,getDocumentElement:Vo,getClippingRect:Ave,getOffsetParent:k9,getElementRects:Cve,getClientRects:xve,getDimensions:Eve,getScale:zd,isElement:mr,isRTL:Tve};function Pve(n,e){let t=null,r;const i=Vo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:p}=n.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Dv(u),y=Dv(i.clientWidth-(c+f)),v=Dv(i.clientHeight-(u+p)),x=Dv(c),_={rootMargin:-m+"px "+-y+"px "+-v+"px "+-x+"px",threshold:Hd(0,iC(1,l))||1};let b=!0;function S(E){const M=E[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(S,_)}t.observe(n)}return o(!0),s}function Ive(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=DP(n),u=i||s?[...c?gg(c):[],...gg(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const f=c&&a?Pve(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let y,v=l?Cu(n):null;l&&x();function x(){const g=Cu(n);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&t(),v=g,y=requestAnimationFrame(x)}return t(),()=>{var g;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Bve=mve,Lve=(n,e,t)=>{const r=new Map,i={platform:Rve,...t},s={...i.platform,_c:r};return hve(n,e,{...i,platform:s})};var vx=typeof document<"u"?P.useLayoutEffect:P.useEffect;function mb(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!mb(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!mb(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function N9(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Xk(n,e){const t=N9(n);return Math.round(e*t)/t}function oA(n){const e=P.useRef(n);return vx(()=>{e.current=n}),e}function Dve(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=P.useState(r);mb(p,r)||m(r);const[y,v]=P.useState(null),[x,g]=P.useState(null),_=P.useCallback(k=>{k!==M.current&&(M.current=k,v(k))},[]),b=P.useCallback(k=>{k!==R.current&&(R.current=k,g(k))},[]),S=s||y,E=o||x,M=P.useRef(null),R=P.useRef(null),B=P.useRef(u),T=l!=null,I=oA(l),O=oA(i),z=oA(c),H=P.useCallback(()=>{if(!M.current||!R.current)return;const k={placement:e,strategy:t,middleware:p};O.current&&(k.platform=O.current),Lve(M.current,R.current,k).then(U=>{const V={...U,isPositioned:z.current!==!1};N.current&&!mb(B.current,V)&&(B.current=V,Fm.flushSync(()=>{f(V)}))})},[p,e,t,O,z]);vx(()=>{c===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[c]);const N=P.useRef(!1);vx(()=>(N.current=!0,()=>{N.current=!1}),[]),vx(()=>{if(S&&(M.current=S),E&&(R.current=E),S&&E){if(I.current)return I.current(S,E,H);H()}},[S,E,H,I,T]);const J=P.useMemo(()=>({reference:M,floating:R,setReference:_,setFloating:b}),[_,b]),X=P.useMemo(()=>({reference:S,floating:E}),[S,E]),Y=P.useMemo(()=>{const k={position:t,left:0,top:0};if(!X.floating)return k;const U=Xk(X.floating,u.x),V=Xk(X.floating,u.y);return a?{...k,transform:"translate("+U+"px, "+V+"px)",...N9(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:U,top:V}},[t,a,X.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:H,refs:J,elements:X,floatingStyles:Y}),[u,H,J,X,Y])}const Ove=(n,e)=>({...Bve(n),options:[n,e]}),F9={...J4},kve=F9.useInsertionEffect,Nve=kve||(n=>n());function Gd(n){const e=P.useRef(()=>{});return Nve(()=>{e.current=n}),P.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Js=typeof document<"u"?P.useLayoutEffect:P.useEffect;function gb(){return gb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gb.apply(this,arguments)}let Yk=!1,Fve=0;const Qk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Fve++;function Uve(){const[n,e]=P.useState(()=>Yk?Qk():void 0);return Js(()=>{n==null&&e(Qk())},[]),P.useEffect(()=>{Yk=!0},[]),n}const Hve=F9.useId,zve=Hve||Uve;function Gve(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const Vve=P.createContext(null),$ve=P.createContext(null),U9=()=>{var n;return((n=P.useContext(Vve))==null?void 0:n.id)||null},kP=()=>P.useContext($ve);function yb(n){return"data-floating-ui-"+n}function Vd(n){const e=P.useRef(n);return Js(()=>{e.current=n}),e}const qk=yb("safe-polygon");function aA(n,e,t){return t&&!nC(t)?0:typeof n=="number"?n:n==null?void 0:n[e]}function Wve(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,events:s,elements:o}=n,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:f=0,move:p=!0}=e,m=kP(),y=U9(),v=Vd(c),x=Vd(l),g=Vd(t),_=P.useRef(),b=P.useRef(-1),S=P.useRef(),E=P.useRef(-1),M=P.useRef(!0),R=P.useRef(!1),B=P.useRef(()=>{}),T=P.useRef(!1),I=P.useCallback(()=>{var Y;const k=(Y=i.current.openEvent)==null?void 0:Y.type;return(k==null?void 0:k.includes("mouse"))&&k!=="mousedown"},[i]);P.useEffect(()=>{if(!a)return;function Y(k){let{open:U}=k;U||(clearTimeout(b.current),clearTimeout(E.current),M.current=!0,T.current=!1)}return s.on("openchange",Y),()=>{s.off("openchange",Y)}},[a,s]),P.useEffect(()=>{if(!a||!v.current||!t)return;function Y(U){I()&&r(!1,U,"hover")}const k=Ii(o.floating).documentElement;return k.addEventListener("mouseleave",Y),()=>{k.removeEventListener("mouseleave",Y)}},[o.floating,t,r,a,v,I]);const O=P.useCallback(function(Y,k,U){k===void 0&&(k=!0),U===void 0&&(U="hover");const V=aA(x.current,"close",_.current);V&&!S.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,Y,U),V)):k&&(clearTimeout(b.current),r(!1,Y,U))},[x,r]),z=Gd(()=>{B.current(),S.current=void 0}),H=Gd(()=>{if(R.current){const Y=Ii(o.floating).body;Y.style.pointerEvents="",Y.removeAttribute(qk),R.current=!1}}),N=Gd(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);P.useEffect(()=>{if(!a)return;function Y(q){if(clearTimeout(b.current),M.current=!1,u&&!nC(_.current)||f>0&&!aA(x.current,"open"))return;const ee=aA(x.current,"open",_.current);ee?b.current=window.setTimeout(()=>{g.current||r(!0,q,"hover")},ee):t||r(!0,q,"hover")}function k(q){if(N())return;B.current();const ee=Ii(o.floating);if(clearTimeout(E.current),T.current=!1,v.current&&i.current.floatingContext){t||clearTimeout(b.current),S.current=v.current({...i.current.floatingContext,tree:m,x:q.clientX,y:q.clientY,onClose(){H(),z(),N()||O(q,!0,"safe-polygon")}});const Z=S.current;ee.addEventListener("mousemove",Z),B.current=()=>{ee.removeEventListener("mousemove",Z)};return}(_.current==="touch"?!Jr(o.floating,q.relatedTarget):!0)&&O(q)}function U(q){N()||i.current.floatingContext&&(v.current==null||v.current({...i.current.floatingContext,tree:m,x:q.clientX,y:q.clientY,onClose(){H(),z(),N()||O(q)}})(q))}if(mr(o.domReference)){var V;const q=o.domReference;return t&&q.addEventListener("mouseleave",U),(V=o.floating)==null||V.addEventListener("mouseleave",U),p&&q.addEventListener("mousemove",Y,{once:!0}),q.addEventListener("mouseenter",Y),q.addEventListener("mouseleave",k),()=>{var ee;t&&q.removeEventListener("mouseleave",U),(ee=o.floating)==null||ee.removeEventListener("mouseleave",U),p&&q.removeEventListener("mousemove",Y),q.removeEventListener("mouseenter",Y),q.removeEventListener("mouseleave",k)}}},[o,a,n,u,f,p,O,z,H,r,t,g,m,x,v,i,N]),Js(()=>{var Y;if(a&&t&&(Y=v.current)!=null&&Y.__options.blockPointerEvents&&I()){R.current=!0;const U=o.floating;if(mr(o.domReference)&&U){var k;const V=Ii(o.floating).body;V.setAttribute(qk,"");const q=o.domReference,ee=m==null||(k=m.nodesRef.current.find(se=>se.id===y))==null||(k=k.context)==null?void 0:k.elements.floating;return ee&&(ee.style.pointerEvents=""),V.style.pointerEvents="none",q.style.pointerEvents="auto",U.style.pointerEvents="auto",()=>{V.style.pointerEvents="",q.style.pointerEvents="",U.style.pointerEvents=""}}}},[a,t,y,o,m,v,I]),Js(()=>{t||(_.current=void 0,T.current=!1,z(),H())},[t,z,H]),P.useEffect(()=>()=>{z(),clearTimeout(b.current),clearTimeout(E.current),H()},[a,o.domReference,z,H]);const J=P.useMemo(()=>{function Y(k){_.current=k.pointerType}return{onPointerDown:Y,onPointerEnter:Y,onMouseMove(k){const{nativeEvent:U}=k;function V(){!M.current&&!g.current&&r(!0,U,"hover")}u&&!nC(_.current)||t||f===0||T.current&&k.movementX**2+k.movementY**2<2||(clearTimeout(E.current),_.current==="touch"?V():(T.current=!0,E.current=window.setTimeout(V,f)))}}},[u,r,t,g,f]),X=P.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(Y){N()||O(Y.nativeEvent,!1)}}),[O,N]);return P.useMemo(()=>a?{reference:J,floating:X}:{},[a,J,X])}let Zk=0;function Ff(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(Zk);const s=()=>n==null?void 0:n.focus({preventScroll:t});i?s():Zk=requestAnimationFrame(s)}function jve(n,e){var t;let r=[],i=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;i;){const s=n.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function oC(n,e){let t=n.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=t;for(;r.length;)r=n.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),t=t.concat(r);return t}let Uf=new WeakMap,Ov=new WeakSet,kv={},lA=0;const Jve=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,H9=n=>n&&(n.host||H9(n.parentNode)),Kve=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=H9(t);return n.contains(r)?r:null}).filter(t=>t!=null);function Xve(n,e,t,r){const i="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,o=Kve(e,n),a=new Set,l=new Set(o),c=[];kv[i]||(kv[i]=new WeakMap);const u=kv[i];o.forEach(f),p(e),a.clear();function f(m){!m||a.has(m)||(a.add(m),m.parentNode&&f(m.parentNode))}function p(m){!m||l.has(m)||[].forEach.call(m.children,y=>{if(uc(y)!=="script")if(a.has(y))p(y);else{const v=s?y.getAttribute(s):null,x=v!==null&&v!=="false",g=(Uf.get(y)||0)+1,_=(u.get(y)||0)+1;Uf.set(y,g),u.set(y,_),c.push(y),g===1&&x&&Ov.add(y),_===1&&y.setAttribute(i,""),!x&&s&&y.setAttribute(s,"true")}})}return lA++,()=>{c.forEach(m=>{const y=(Uf.get(m)||0)-1,v=(u.get(m)||0)-1;Uf.set(m,y),u.set(m,v),y||(!Ov.has(m)&&s&&m.removeAttribute(s),Ov.delete(m)),v||m.removeAttribute(i)}),lA--,lA||(Uf=new WeakMap,Uf=new WeakMap,Ov=new WeakSet,kv={})}}function eN(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Ii(n[0]).body;return Xve(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const vb=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function z9(n,e){const t=LP(n,vb());e==="prev"&&t.reverse();const r=t.indexOf(Uc(Ii(n)));return t.slice(r+1)[0]}function Yve(){return z9(document.body,"next")}function Qve(){return z9(document.body,"prev")}function tN(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Jr(t,r)}const NP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let qve;function nN(n){n.key==="Tab"&&(n.target,clearTimeout(qve))}const rN=P.forwardRef(function(e,t){const[r,i]=P.useState();Js(()=>(Uye()&&i("button"),document.addEventListener("keydown",nN),()=>{document.removeEventListener("keydown",nN)}),[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[yb("focus-guard")]:"",style:NP};return P.createElement("span",gb({},e,s))}),Zve=P.createContext(null),exe=()=>P.useContext(Zve),aC="data-floating-ui-focusable";function txe(n){return n?n.hasAttribute(aC)?n:n.querySelector("["+aC+"]")||n:null}const iN=20;let Hc=[];function cA(n){Hc=Hc.filter(t=>t.isConnected);let e=n;if(!(!e||uc(e)==="body")){if(!dve(e,vb())){const t=LP(e,vb())[0];t&&(e=t)}Hc.push(e),Hc.length>iN&&(Hc=Hc.slice(-iN))}}function sN(){return Hc.slice().reverse().find(n=>n.isConnected)}const nxe=P.forwardRef(function(e,t){return P.createElement("button",gb({},e,{type:"button",ref:t,tabIndex:-1,style:NP}))});function rxe(n){const{context:e,children:t,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:f=!0}=n,{open:p,refs:m,nodeId:y,onOpenChange:v,events:x,dataRef:g,floatingId:_,elements:{domReference:b,floating:S}}=e,E=typeof o=="number"&&o<0,M=Vye(b)&&E,R=Jve()?s:!0,B=Vd(i),T=Vd(o),I=Vd(a),O=kP(),z=exe(),H=P.useRef(null),N=P.useRef(null),J=P.useRef(!1),X=P.useRef(!1),Y=P.useRef(-1),k=z!=null,U=txe(S),V=Gd(function(Z){return Z===void 0&&(Z=U),Z?LP(Z,vb()):[]}),q=Gd(Z=>{const de=V(Z);return B.current.map(oe=>b&&oe==="reference"?b:U&&oe==="floating"?U:de).filter(Boolean).flat()});P.useEffect(()=>{if(r||!c)return;function Z(oe){if(oe.key==="Tab"){Jr(U,Uc(Ii(U)))&&V().length===0&&!M&&iA(oe);const Q=q(),Me=rC(oe);B.current[0]==="reference"&&Me===b&&(iA(oe),oe.shiftKey?Ff(Q[Q.length-1]):Ff(Q[1])),B.current[1]==="floating"&&Me===U&&oe.shiftKey&&(iA(oe),Ff(Q[0]))}}const de=Ii(U);return de.addEventListener("keydown",Z),()=>{de.removeEventListener("keydown",Z)}},[r,b,U,c,B,M,V,q]),P.useEffect(()=>{if(r||!S)return;function Z(de){const oe=rC(de),Me=V().indexOf(oe);Me!==-1&&(Y.current=Me)}return S.addEventListener("focusin",Z),()=>{S.removeEventListener("focusin",Z)}},[r,S,V]),P.useEffect(()=>{if(r||!f)return;function Z(){X.current=!0,setTimeout(()=>{X.current=!1})}function de(oe){const Q=oe.relatedTarget;queueMicrotask(()=>{const Me=!(Jr(b,Q)||Jr(S,Q)||Jr(Q,S)||Jr(z==null?void 0:z.portalNode,Q)||Q!=null&&Q.hasAttribute(yb("focus-guard"))||O&&(oC(O.nodesRef.current,y).find(ue=>{var he,Se;return Jr((he=ue.context)==null?void 0:he.elements.floating,Q)||Jr((Se=ue.context)==null?void 0:Se.elements.domReference,Q)})||jve(O.nodesRef.current,y).find(ue=>{var he,Se;return((he=ue.context)==null?void 0:he.elements.floating)===Q||((Se=ue.context)==null?void 0:Se.elements.domReference)===Q})));if(l&&Me&&Uc(Ii(U))===Ii(U).body){Fr(U)&&U.focus();const ue=Y.current,he=V(),Se=he[ue]||he[he.length-1]||U;Fr(Se)&&Se.focus()}(M||!c)&&Q&&Me&&!X.current&&Q!==sN()&&(J.current=!0,v(!1,oe,"focus-out"))})}if(S&&Fr(b))return b.addEventListener("focusout",de),b.addEventListener("pointerdown",Z),S.addEventListener("focusout",de),()=>{b.removeEventListener("focusout",de),b.removeEventListener("pointerdown",Z),S.removeEventListener("focusout",de)}},[r,b,S,U,c,y,O,z,v,f,l,V,M]),P.useEffect(()=>{var Z;if(r)return;const de=Array.from((z==null||(Z=z.portalNode)==null?void 0:Z.querySelectorAll("["+yb("portal")+"]"))||[]);if(S){const oe=[S,...de,H.current,N.current,B.current.includes("reference")||M?b:null].filter(Me=>Me!=null),Q=c||M?eN(oe,R,!R):eN(oe);return()=>{Q()}}},[r,b,S,c,B,z,M,R]),Js(()=>{if(r||!Fr(U))return;const Z=Ii(U),de=Uc(Z);queueMicrotask(()=>{const oe=q(U),Q=T.current,Me=(typeof Q=="number"?oe[Q]:Q.current)||U,ue=Jr(U,de);!E&&!ue&&p&&Ff(Me,{preventScroll:Me===U})})},[r,p,U,E,q,T]),Js(()=>{if(r||!U)return;let Z=!1;const de=Ii(U),oe=Uc(de);let Me=g.current.openEvent;cA(oe);function ue(me){let{open:fe,reason:_e,event:Oe,nested:Ie}=me;fe&&(Me=Oe),_e==="escape-key"&&m.domReference.current&&cA(m.domReference.current),_e==="hover"&&Oe.type==="mouseleave"&&(J.current=!0),_e==="outside-press"&&(Ie?(J.current=!1,Z=!0):J.current=!(Nye(Oe)||Fye(Oe)))}x.on("openchange",ue);const he=de.createElement("span");he.setAttribute("tabindex","-1"),he.setAttribute("aria-hidden","true"),Object.assign(he.style,NP),k&&b&&b.insertAdjacentElement("afterend",he);function Se(){return typeof I.current=="boolean"?sN()||he:I.current.current||he}return()=>{x.off("openchange",ue);const me=Uc(de),fe=Jr(S,me)||O&&oC(O.nodesRef.current,y).some(Ie=>{var Ne;return Jr((Ne=Ie.context)==null?void 0:Ne.elements.floating,me)});(fe||Me&&["click","mousedown"].includes(Me.type))&&m.domReference.current&&cA(m.domReference.current);const Oe=Se();queueMicrotask(()=>{I.current&&!J.current&&Fr(Oe)&&(!(Oe!==me&&me!==de.body)||fe)&&Oe.focus({preventScroll:Z}),he.remove()})}},[r,S,U,I,g,m,x,O,y,k,b]),P.useEffect(()=>{queueMicrotask(()=>{J.current=!1})},[r]),Js(()=>{if(!r&&z)return z.setFocusManagerState({modal:c,closeOnFocusOut:f,open:p,onOpenChange:v,refs:m}),()=>{z.setFocusManagerState(null)}},[r,z,c,p,v,m,f]),Js(()=>{if(r||!U||typeof MutationObserver!="function"||E)return;const Z=()=>{const oe=U.getAttribute("tabindex"),Q=V(),Me=Uc(Ii(S)),ue=Q.indexOf(Me);ue!==-1&&(Y.current=ue),B.current.includes("floating")||Me!==m.domReference.current&&Q.length===0?oe!=="0"&&U.setAttribute("tabindex","0"):oe!=="-1"&&U.setAttribute("tabindex","-1")};Z();const de=new MutationObserver(Z);return de.observe(U,{childList:!0,subtree:!0,attributes:!0}),()=>{de.disconnect()}},[r,S,U,m,B,V,E]);function ee(Z){return r||!u||!c?null:P.createElement(nxe,{ref:Z==="start"?H:N,onClick:de=>v(!1,de.nativeEvent)},typeof u=="string"?u:"Dismiss")}const se=!r&&R&&(c?!M:!0)&&(k||c);return P.createElement(P.Fragment,null,se&&P.createElement(rN,{"data-type":"inside",ref:z==null?void 0:z.beforeInsideRef,onFocus:Z=>{if(c){const oe=q();Ff(i[0]==="reference"?oe[0]:oe[oe.length-1])}else if(z!=null&&z.preserveTabOrder&&z.portalNode)if(J.current=!1,tN(Z,z.portalNode)){const oe=Yve()||b;oe==null||oe.focus()}else{var de;(de=z.beforeOutsideRef.current)==null||de.focus()}}}),!M&&ee("start"),t,ee("end"),se&&P.createElement(rN,{"data-type":"inside",ref:z==null?void 0:z.afterInsideRef,onFocus:Z=>{if(c)Ff(q()[0]);else if(z!=null&&z.preserveTabOrder&&z.portalNode)if(f&&(J.current=!0),tN(Z,z.portalNode)){const oe=Qve()||b;oe==null||oe.focus()}else{var de;(de=z.afterOutsideRef.current)==null||de.focus()}}}))}function ixe(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=zve(),s=P.useRef({}),[o]=P.useState(()=>Gve()),a=U9()!=null,[l,c]=P.useState(r.reference),u=Gd((m,y,v)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:v,nested:a}),t==null||t(m,y,v)}),f=P.useMemo(()=>({setPositionReference:c}),[]),p=P.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return P.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:p,events:o,floatingId:i,refs:f}),[e,u,p,o,i,f])}function sxe(n){n===void 0&&(n={});const{nodeId:e}=n,t=ixe({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=P.useState(null),[a,l]=P.useState(null),u=(i==null?void 0:i.domReference)||s,f=P.useRef(null),p=kP();Js(()=>{u&&(f.current=u)},[u]);const m=Dve({...n,elements:{...i,...a&&{reference:a}}}),y=P.useCallback(b=>{const S=mr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(S),m.refs.setReference(S)},[m.refs]),v=P.useCallback(b=>{(mr(b)||b===null)&&(f.current=b,o(b)),(mr(m.refs.reference.current)||m.refs.reference.current===null||b!==null&&!mr(b))&&m.refs.setReference(b)},[m.refs]),x=P.useMemo(()=>({...m.refs,setReference:v,setPositionReference:y,domReference:f}),[m.refs,v,y]),g=P.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),_=P.useMemo(()=>({...m,...r,refs:x,elements:g,nodeId:e}),[m,x,g,e,r]);return Js(()=>{r.dataRef.current.floatingContext=_;const b=p==null?void 0:p.nodesRef.current.find(S=>S.id===e);b&&(b.context=_)}),P.useMemo(()=>({...m,context:_,refs:x,elements:g}),[m,x,g,_])}const oN="active",aN="selected";function uA(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[oN]:o,[aN]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1,[aC]:""},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[oN,aN].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),o[c]=function(){for(var p,m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];return(p=r.get(c))==null?void 0:p.map(x=>x(...y)).find(x=>x!==void 0)}}}else o[c]=u}),o),{})}}function oxe(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=P.useCallback(a=>uA(a,n,"reference"),e),s=P.useCallback(a=>uA(a,n,"floating"),t),o=P.useCallback(a=>uA(a,n,"item"),r);return P.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function lN(n,e){const[t,r]=n;let i=!1;const s=e.length;for(let o=0,a=s-1;o<s;a=o++){const[l,c]=e[o]||[0,0],[u,f]=e[a]||[0,0];c>=r!=f>=r&&t<=(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function axe(n,e){return n[0]>=e.x&&n[0]<=e.x+e.width&&n[1]>=e.y&&n[1]<=e.y+e.height}function lxe(n){n===void 0&&(n={});const{buffer:e=.5,blockPointerEvents:t=!1,requireIntent:r=!0}=n;let i,s=!1,o=null,a=null,l=performance.now();function c(f,p){const m=performance.now(),y=m-l;if(o===null||a===null||y===0)return o=f,a=p,l=m,null;const v=f-o,x=p-a,_=Math.sqrt(v*v+x*x)/y;return o=f,a=p,l=m,_}const u=f=>{let{x:p,y:m,placement:y,elements:v,onClose:x,nodeId:g,tree:_}=f;return function(S){function E(){clearTimeout(i),x()}if(clearTimeout(i),!v.domReference||!v.floating||y==null||p==null||m==null)return;const{clientX:M,clientY:R}=S,B=[M,R],T=rC(S),I=S.type==="mouseleave",O=Jr(v.floating,T),z=Jr(v.domReference,T),H=v.domReference.getBoundingClientRect(),N=v.floating.getBoundingClientRect(),J=y.split("-")[0],X=p>N.right-N.width/2,Y=m>N.bottom-N.height/2,k=axe(B,H),U=N.width>H.width,V=N.height>H.height,q=(U?H:N).left,ee=(U?H:N).right,se=(V?H:N).top,Z=(V?H:N).bottom;if(O&&(s=!0,!I))return;if(z&&(s=!1),z&&!I){s=!0;return}if(I&&mr(S.relatedTarget)&&Jr(v.floating,S.relatedTarget)||_&&oC(_.nodesRef.current,g).some(Q=>{let{context:Me}=Q;return Me==null?void 0:Me.open}))return;if(J==="top"&&m>=H.bottom-1||J==="bottom"&&m<=H.top+1||J==="left"&&p>=H.right-1||J==="right"&&p<=H.left+1)return E();let de=[];switch(J){case"top":de=[[q,H.top+1],[q,N.bottom-1],[ee,N.bottom-1],[ee,H.top+1]];break;case"bottom":de=[[q,N.top+1],[q,H.bottom-1],[ee,H.bottom-1],[ee,N.top+1]];break;case"left":de=[[N.right-1,Z],[N.right-1,se],[H.left+1,se],[H.left+1,Z]];break;case"right":de=[[H.right-1,Z],[H.right-1,se],[N.left+1,se],[N.left+1,Z]];break}function oe(Q){let[Me,ue]=Q;switch(J){case"top":{const he=[U?Me+e/2:X?Me+e*4:Me-e*4,ue+e+1],Se=[U?Me-e/2:X?Me+e*4:Me-e*4,ue+e+1],me=[[N.left,X||U?N.bottom-e:N.top],[N.right,X?U?N.bottom-e:N.top:N.bottom-e]];return[he,Se,...me]}case"bottom":{const he=[U?Me+e/2:X?Me+e*4:Me-e*4,ue-e],Se=[U?Me-e/2:X?Me+e*4:Me-e*4,ue-e],me=[[N.left,X||U?N.top+e:N.bottom],[N.right,X?U?N.top+e:N.bottom:N.top+e]];return[he,Se,...me]}case"left":{const he=[Me+e+1,V?ue+e/2:Y?ue+e*4:ue-e*4],Se=[Me+e+1,V?ue-e/2:Y?ue+e*4:ue-e*4];return[...[[Y||V?N.right-e:N.left,N.top],[Y?V?N.right-e:N.left:N.right-e,N.bottom]],he,Se]}case"right":{const he=[Me-e,V?ue+e/2:Y?ue+e*4:ue-e*4],Se=[Me-e,V?ue-e/2:Y?ue+e*4:ue-e*4],me=[[Y||V?N.left+e:N.right,N.top],[Y?V?N.left+e:N.right:N.left+e,N.bottom]];return[he,Se,...me]}}}if(!lN([M,R],de)){if(s&&!k)return E();if(!I&&r){const Q=c(S.clientX,S.clientY);if(Q!==null&&Q<.1)return E()}lN([M,R],oe([p,m]))?!s&&r&&(i=window.setTimeout(E,40)):E()}}};return u.__options={blockPointerEvents:t},u}const wd=n=>function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(let s=0;s<n.length&&!e.defaultPrevented;s++){const o=n[s];typeof o=="function"&&o(e,...r)}};function FP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const cxe=P.createContext({isFluid:!1}),uxe=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return r=>{e.forEach(i=>{typeof i=="function"?i(r):Object(i)===i&&(i.current=r)})}};var fxe=uxe;const dxe={isRoot:!0,mode:"full",hasIcons:!1,size:null,items:[],requestCloseRoot:()=>{}};function hxe(n,e){switch(e.type){case"enableIcons":return{...n,hasIcons:!0};case"registerItem":return{...n,items:[...n.items,e.payload].filter(t=>t.ref.current!==null)}}}const yg=P.createContext({state:dxe,dispatch:n=>{}}),pxe=D.createContext({direction:"ltr"});function G9(){return P.useContext(pxe)}const Nv=8,UP=P.forwardRef(function(e,t){let{children:r,className:i,containerRef:s,label:o,menuAlignment:a,mode:l="full",onClose:c,onOpen:u,open:f,size:p="sm",legacyAutoalign:m="true",target:y=y9&&document.body,x:v=0,y:x=0,...g}=e;const _=Go(),b=P.useRef(null),S=P.useContext(yg),E=S.state.isRoot;S.state.mode;const M=E?p:S.state.size,[R,B]=P.useReducer(hxe,{...S.state,isRoot:!1,mode:l,size:p,requestCloseRoot:E?U:S.state.requestCloseRoot}),T=P.useMemo(()=>({state:R,dispatch:B}),[R,B]),I=P.useRef(null),O=TP([t,I]),[z,H]=P.useState([-1,-1]),N=T.state.items.filter(ue=>!ue.disabled&&ue.ref.current);let J;if(s!=null&&s.current){const{width:ue}=s.current.getBoundingClientRect();J=ue}const{direction:X}=G9();function Y(){b.current&&b.current.focus()}function k(){var ue;if(I.current){if(b.current=document.activeElement,m){const he=oe();((document==null?void 0:document.dir)==="rtl"||X==="rtl")&&!((ue=g==null?void 0:g.id)!=null&&ue.includes("MenuButton"))?(I.current.style.insetInlineStart="initial",I.current.style.insetInlineEnd=`${he[0]}px`):(I.current.style.insetInlineStart=`${he[0]}px`,I.current.style.insetInlineEnd="initial"),I.current.style.insetBlockStart=`${he[1]}px`,H(he)}I.current.focus(),u&&u()}}function U(ue){/^key/.test(ue.type)?window.addEventListener("keyup",Y,{once:!0}):ue.type==="click"&&I.current?I.current.addEventListener("focusout",Y,{once:!0}):Y(),c&&c()}function V(ue){ue.stopPropagation(),(js(ue,CP)||!E&&js(ue,Pye))&&c?U(ue):q(ue)}function q(ue){var me,fe;const he=N.findIndex(_e=>{var Oe,Ie;return(Ie=(Oe=_e.ref)==null?void 0:Oe.current)==null?void 0:Ie.contains(document.activeElement)});let Se=he;he===-1?Se=0:ue&&(js(ue,Iye)&&(Se=Se-1),js(ue,Lye)&&(Se=Se+1)),Se<0&&(Se=N.length-1),Se>=N.length&&(Se=0),Se!==he&&((fe=(me=N[Se].ref)==null?void 0:me.current)==null||fe.focus(),ue==null||ue.preventDefault())}function ee(ue){var he;f&&c&&E&&!((he=I.current)!=null&&he.contains(ue.relatedTarget))&&U(ue)}function se(ue,he){if(!I.current)return;const{width:Se,height:me}=I.current.getBoundingClientRect(),fe=E?"vertical":"horizontal",_e={x:{max:window.innerWidth,size:Se,anchor:fe==="horizontal"?ue[1]:ue[0],reversedAnchor:fe==="horizontal"?ue[0]:ue[1],offset:0},y:{max:window.innerHeight,size:me,anchor:fe==="horizontal"?ue[0]:ue[1],reversedAnchor:fe==="horizontal"?ue[1]:ue[0],offset:E?0:4}};if(J&&J<_e.x.size&&(a==="bottom"||a==="top")&&(_e.x.size=J),J&&(a==="bottom-end"||a==="top-end")&&_e.x.anchor>=87&&J<_e.x.size){const F=_e.x.anchor+_e.x.reversedAnchor;_e.x.anchor=_e.x.anchor+F}const{max:Oe,size:Ie,anchor:Ne,reversedAnchor:Ee,offset:Le}=_e[he],$e=[Oe-Nv-Ie-Ne>=0?Ne-Le:!1,Ee-Ie>=0?Ee-Ie+Le:!1,Oe-Nv-Ie],ht=a==="top"||a==="top-end"||a==="top-start";typeof $e[0]=="number"&&ht&&$e[0]>=0&&!$e[1]&&he==="y"?I.current.style.transform="translate(0)":ht&&!$e[0]&&he==="y"&&($e[0]=Ne-Le);const W=$e.find(F=>F!==!1);return W>=Nv?W:Nv}function Z(ue){return ue!=null}function de(ue){if(Array.isArray(ue)){const he=ue.filter(Z);return he.length===2?he:void 0}else return[ue,ue]}function oe(){const ue={x:de(v),y:de(x)};return!ue.x||!ue.y?[-1,-1]:[se(ue.x,"x")??-1,se(ue.y,"y")??-1]}P.useEffect(()=>{f&&N.length>0&&q()},[f,N]),P.useEffect(()=>{f?k():H([-1,-1])},[f]);const Q=No(i,`${_}--menu`,`${_}--menu--${M}`,{[`${_}--menu--box-shadow-top`]:a&&a.slice(0,3)==="top",[`${_}--menu--open`]:f,[`${_}--menu--shown`]:f&&!m||z[0]>=0&&z[1]>=0,[`${_}--menu--with-icons`]:T.state.hasIcons,[`${_}--autoalign`]:!m}),Me=D.createElement(yg.Provider,{value:T},D.createElement("ul",ji({},g,{className:Q,role:"menu",ref:O,"aria-label":o,tabIndex:-1,onKeyDown:V,onBlur:ee}),r));return y&&E?f&&Fm.createPortal(Me,y)||null:Me});UP.propTypes={children:ne.node,className:ne.string,label:ne.string,menuAlignment:ne.string,mode:ne.oneOf(["full","basic"]),onClose:ne.func,onOpen:ne.func,open:ne.bool,size:ne.oneOf(["xs","sm","md","lg"]),target:ne.object,x:ne.oneOfType([ne.number,ne.arrayOf(ne.number)]),y:ne.oneOfType([ne.number,ne.arrayOf(ne.number)])};function V9(n){let{defaultValue:e,name:t="custom",onChange:r,value:i}=n;const[s,o]=P.useState(i??e),a=P.useRef(null);a.current===null&&(a.current=i!==void 0);function l(c){const u=typeof c=="function"?c(s):c;a.current===!1&&o(u),r&&r(u)}return P.useEffect(()=>{const c=i!==void 0;a.current,a.current},[t,i]),a.current===!0?[i,l]:[s,l]}var cN,uN;const G1=P.forwardRef(function(e,t){let{children:r,className:i,disabled:s,kind:o="default",label:a,onClick:l,renderIcon:c,shortcut:u,...f}=e;const[p,m]=P.useState(!1),[y,v]=P.useState(!1),{refs:x,floatingStyles:g,context:_}=sxe({open:p,onOpenChange:m,placement:y?"left-start":"right-start",whileElementsMounted:Ive,middleware:[Ove({mainAxis:-6,crossAxis:-6})]}),{getReferenceProps:b,getFloatingProps:S}=oxe([Wve(_,{delay:100,enabled:!0,handleClose:lxe({requireIntent:!1})})]),E=Go(),M=P.useContext(yg),R=P.useRef(null),B=TP([t,R,x.setReference]),T=!!r,I=s&&!T,O=o==="danger"&&!T;function z(){M.dispatch({type:"registerItem",payload:{ref:R,disabled:!!s}})}function H(){R.current&&m(!0)}function N(){m(!1)}function J(V){I||(T?H():(M.state.requestCloseRoot(V),l&&l(V)))}function X(V){T&&js(V,Bye)&&(H(),V.stopPropagation()),(js(V,_9)||js(V,w9))&&J(V),f.onKeyDown&&f.onKeyDown(V)}const Y=No(i,`${E}--menu-item`,{[`${E}--menu-item--disabled`]:I,[`${E}--menu-item--danger`]:O});P.useEffect(()=>{z()},[]);const{direction:k}=G9();P.useEffect(()=>{(document==null?void 0:document.dir)==="rtl"||k==="rtl"?v(!0):v(!1)},[k]);const U=M.state.mode==="basic"||f.role==="menuitemcheckbox"||f.role==="menuitemradio";return P.useEffect(()=>{U&&c&&!M.state.hasIcons&&M.dispatch({type:"enableIcons"})},[U,c,M.state.hasIcons,M]),P.useEffect(()=>{Object.keys(g).forEach(V=>{x.floating.current&&V!=="position"&&(x.floating.current.style[V]=g[V])})},[g,x.floating]),D.createElement(rxe,{context:_,order:["reference","floating"],modal:!1},D.createElement("li",ji({role:"menuitem"},f,{ref:B,className:Y,tabIndex:-1,"aria-disabled":I??void 0,"aria-haspopup":T??void 0,"aria-expanded":T?p:void 0,onClick:J,onKeyDown:X},b()),D.createElement("div",{className:`${E}--menu-item__icon`},U&&c&&D.createElement(c,null)),D.createElement(g9,{as:"div",className:`${E}--menu-item__label`,title:a},a),u&&!T&&D.createElement("div",{className:`${E}--menu-item__shortcut`},u),T&&D.createElement(D.Fragment,null,D.createElement("div",{className:`${E}--menu-item__shortcut`},y?cN||(cN=D.createElement(vye,null)):uN||(uN=D.createElement(xye,null))),D.createElement(UP,ji({label:a,open:p,onClose:()=>{var V;N(),(V=R.current)==null||V.focus()},ref:x.setFloating},S()),r))))});G1.propTypes={children:ne.node,className:ne.string,disabled:ne.bool,kind:ne.oneOf(["default","danger"]),label:ne.string.isRequired,onClick:ne.func,renderIcon:ne.oneOfType([ne.func,ne.object]),shortcut:ne.string};const mxe=P.forwardRef(function(e,t){let{className:r,defaultSelected:i,label:s,onChange:o,selected:a,...l}=e;const c=Go(),u=P.useContext(yg);u.state.mode;const[f,p]=V9({value:a,onChange:o,defaultValue:i??!1});function m(v){p(!f)}P.useEffect(()=>{u.state.hasIcons||u.dispatch({type:"enableIcons"})},[u.state.hasIcons,u]);const y=No(r,`${c}--menu-item-selectable--selected`);return D.createElement(G1,ji({},l,{ref:t,label:s,className:y,role:"menuitemcheckbox","aria-checked":f,renderIcon:f?m9:void 0,onClick:m}))});mxe.propTypes={className:ne.string,defaultSelected:ne.bool,label:ne.string.isRequired,onChange:ne.func,selected:ne.bool};const gxe=P.forwardRef(function(e,t){let{children:r,className:i,label:s,...o}=e;const a=Go(),l=No(i,`${a}--menu-item-group`);return D.createElement("li",{className:l,role:"none",ref:t},D.createElement("ul",ji({},o,{role:"group","aria-label":s}),r))});gxe.propTypes={children:ne.node,className:ne.string,label:ne.string.isRequired};const yxe=n=>n.toString(),vxe=P.forwardRef(function(e,t){let{className:r,defaultSelectedItem:i,items:s,itemToString:o=yxe,label:a,onChange:l,selectedItem:c,...u}=e;const f=Go(),p=P.useContext(yg);p.state.mode;const[m,y]=V9({value:c,onChange:l,defaultValue:i});function v(g,_){y(g)}P.useEffect(()=>{p.state.hasIcons||p.dispatch({type:"enableIcons"})},[p.state.hasIcons,p]);const x=No(r,`${f}--menu-item-radio-group`);return D.createElement("li",{className:x,role:"none",ref:t},D.createElement("ul",ji({},u,{role:"group","aria-label":a}),s.map((g,_)=>D.createElement(G1,{key:_,label:o(g),role:"menuitemradio","aria-checked":g===m,renderIcon:g===m?m9:void 0,onClick:b=>{v(g)}}))))});vxe.propTypes={className:ne.string,defaultSelectedItem:ne.any,itemToString:ne.func,items:ne.array,label:ne.string.isRequired,onChange:ne.func,selectedItem:ne.any};const $9=P.forwardRef(function(e,t){let{className:r,...i}=e;const s=Go(),o=No(r,`${s}--menu-item-divider`);return D.createElement("li",ji({},i,{className:o,role:"separator",ref:t}))});$9.propTypes={className:ne.string};const xxe=D.createContext(1);function bxe(n){const e=n.current||n;e&&e.focus&&document.activeElement!==e&&e.focus()}var fN;const V1=D.forwardRef(function(e,t){let{autoComplete:r="off",className:i,closeButtonLabelText:s="Clear search input",defaultValue:o,disabled:a,isExpanded:l=!0,id:c,labelText:u,light:f,onChange:p=()=>{},onClear:m=()=>{},onKeyDown:y,onExpand:v,placeholder:x="Search",renderIcon:g,role:_="searchbox",size:b="md",type:S="text",value:E,...M}=e;const R=!!(E||o),B=Go(),{isFluid:T}=P.useContext(cxe),I=P.useRef(null),O=TP([t,I]),z=P.useRef(null),H=Tye("search-input"),N=c||H,J=`${N}-search`,[X,Y]=P.useState(R||!1),[k,U]=P.useState(E),V=No({[`${B}--search`]:!0,[`${B}--search--sm`]:b==="sm",[`${B}--search--md`]:b==="md",[`${B}--search--lg`]:b==="lg",[`${B}--search--light`]:f,[`${B}--search--disabled`]:a,[`${B}--search--fluid`]:T},i),q=No({[`${B}--search-close`]:!0,[`${B}--search-close--hidden`]:!X||!l});E!==k&&(Y(!!E),U(E));function ee(){!E&&I.current&&(I.current.value="");const Q={target:Object.assign({},I.current,{value:""}),type:"change"};p(Q),m(),Y(!1),bxe(I)}function se(oe){Y(oe.target.value!=="")}function Z(oe){var Q,Me;js(oe,CP)&&(oe.stopPropagation(),(Q=I.current)!=null&&Q.value?ee():v&&l&&((Me=z.current)==null||Me.focus()))}function de(oe){(js(oe,_9)||js(oe,w9))&&(oe.stopPropagation(),v&&v(oe))}return D.createElement("div",{role:"search","aria-label":x,className:V},D.createElement("div",{"aria-label":v?"button":void 0,"aria-labelledby":v?N:void 0,role:v?"button":void 0,className:`${B}--search-magnifier`,onClick:v,onKeyDown:de,tabIndex:v&&!l?0:-1,ref:z,"aria-expanded":v&&l?!0:v&&!l?!1:void 0,"aria-controls":v?N:void 0},D.createElement(W9,{icon:g})),D.createElement("label",{id:J,htmlFor:N,className:`${B}--label`},u),D.createElement("input",ji({autoComplete:r,className:`${B}--search-input`,defaultValue:o,disabled:a,role:_,ref:O,id:N,onChange:wd([p,se]),onKeyDown:wd([y,Z]),placeholder:x,type:S,value:E,tabIndex:v&&!l?-1:void 0},M)),D.createElement("button",{"aria-label":s,className:q,disabled:a,onClick:ee,title:s,type:"button"},fN||(fN=D.createElement(bye,null))))});V1.displayName="Search";V1.propTypes={autoComplete:ne.string,className:ne.string,closeButtonLabelText:ne.string,defaultValue:ne.oneOfType([ne.string,ne.number]),disabled:ne.bool,id:ne.string,isExpanded:ne.bool,labelText:ne.node.isRequired,light:Rye(ne.bool),onChange:ne.func,onClear:ne.func,onExpand:ne.func,onKeyDown:ne.func,placeholder:ne.string,renderIcon:ne.oneOfType([ne.func,ne.object]),role:ne.string,size:ne.oneOf(["sm","md","lg"]),type:ne.string,value:ne.oneOfType([ne.string,ne.number])};function W9(n){let{icon:e}=n;const t=Go();return e?D.createElement(e,{className:`${t}--search-magnifier-icon`}):D.createElement(_ye,{className:`${t}--search-magnifier-icon`})}W9.propTypes={icon:ne.oneOfType([ne.func,ne.object])};const HP=D.forwardRef(function(e,t){let{onBlur:r,onChange:i,onExpand:s,onKeyDown:o,defaultValue:a,isExpanded:l,...c}=e;const[u,f]=P.useState(l||!1),[p,m]=P.useState(!!a),y=P.useRef(null),v=Go();function x(E){const M=E.relatedTarget&&E.relatedTarget.classList.contains(`${v}--search-close`);u&&!M&&!p&&!l&&f(!1)}P.useEffect(()=>{f(!!l)},[l]);function g(E){m(E.target.value!=="")}function _(){var E,M;f(!0),(M=(E=y.current)==null?void 0:E.focus)==null||M.call(E)}function b(E){var M;u&&js(E,CP)&&(E.stopPropagation(),!((M=E.target)!=null&&M.value)&&!l&&f(!1))}const S=No(`${v}--search--expandable`,{[`${v}--search--expanded`]:u},c.className);return D.createElement(V1,ji({},c,{defaultValue:a,isExpanded:u,ref:fxe(y,t),className:S,onBlur:wd([r,x]),onChange:wd([i,g]),onExpand:wd([s,_]),onKeyDown:wd([o,b])}))});HP.propTypes=V1.propTypes;HP.displayName="ExpandableSearch";const j9=D.createContext({theme:"white"}),_xe=D.forwardRef(function(e,t){let{children:r,theme:i}=e;const s=P.useMemo(()=>({theme:i}),[i]),o=D.cloneElement(r,{ref:t});return D.createElement(j9.Provider,{value:s},o)});_xe.propTypes={children:ne.node,theme:ne.oneOf(["white","g10","g90","g100"])};function J9(n){let{as:e="div",className:t,theme:r,...i}=n;const s=Go(),o=No(t,{[`${s}--white`]:r==="white",[`${s}--g10`]:r==="g10",[`${s}--g90`]:r==="g90",[`${s}--g100`]:r==="g100",[`${s}--layer-one`]:!0}),a=D.useMemo(()=>{const c=r&&["g90","g100"].includes(r);return{theme:r,isDark:c}},[r]),l=e;return D.createElement(j9.Provider,{value:a},D.createElement(xxe.Provider,{value:1},D.createElement(l,ji({},i,{className:o}))))}J9.propTypes={as:ne.oneOfType([ne.func,ne.string,ne.elementType]),children:ne.node,className:ne.string,theme:ne.oneOf(["white","g10","g90","g100"])};const K9=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),$1=P.createContext({}),W1=P.createContext(null),j1=typeof document<"u",zP=j1?P.useLayoutEffect:P.useEffect,X9=P.createContext({strict:!1}),GP=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wxe="framerAppearId",Y9="data-"+GP(wxe);function Sxe(n,e,t,r){const{visualElement:i}=P.useContext($1),s=P.useContext(X9),o=P.useContext(W1),a=P.useContext(K9).reducedMotion,l=P.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;P.useInsertionEffect(()=>{c&&c.update(t,o)});const u=P.useRef(!!(t[Y9]&&!window.HandoffComplete));return zP(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),P.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Sd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Axe(n,e,t){return P.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Sd(t)&&(t.current=r))},[e])}function vg(n){return typeof n=="string"||Array.isArray(n)}function J1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const VP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$P=["initial",...VP];function K1(n){return J1(n.animate)||$P.some(e=>vg(n[e]))}function Q9(n){return!!(K1(n)||n.variants)}function Exe(n,e){if(K1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||vg(t)?t:void 0,animate:vg(r)?r:void 0}}return n.inherit!==!1?e:{}}function Mxe(n){const{initial:e,animate:t}=Exe(n,P.useContext($1));return P.useMemo(()=>({initial:e,animate:t}),[dN(e),dN(t)])}function dN(n){return Array.isArray(n)?n.join(" "):n}const hN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xg={};for(const n in hN)xg[n]={isEnabled:e=>hN[n].some(t=>!!e[t])};function Cxe(n){for(const e in n)xg[e]={...xg[e],...n[e]}}const WP=P.createContext({}),q9=P.createContext({}),Txe=Symbol.for("motionComponentSymbol");function Rxe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Cxe(n);function s(a,l){let c;const u={...P.useContext(K9),...a,layoutId:Pxe(a)},{isStatic:f}=u,p=Mxe(a),m=r(a,f);if(!f&&j1){p.visualElement=Sxe(i,m,u,e);const y=P.useContext(q9),v=P.useContext(X9).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,v,n,y))}return P.createElement($1.Provider,{value:p},c&&p.visualElement?P.createElement(c,{visualElement:p.visualElement,...u}):null,t(i,a,Axe(m,p.visualElement,l),m,f,p.visualElement))}const o=P.forwardRef(s);return o[Txe]=i,o}function Pxe({layoutId:n}){const e=P.useContext(WP).id;return e&&n!==void 0?e+"-"+n:n}function Ixe(n){function e(r,i={}){return Rxe(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Bxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jP(n){return typeof n!="string"||n.includes("-")?!1:!!(Bxe.indexOf(n)>-1||/[A-Z]/.test(n))}const xb={};function Lxe(n){Object.assign(xb,n)}const a0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$u=new Set(a0);function Z9(n,{layout:e,layoutId:t}){return $u.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!xb[n]||n==="opacity")}const yi=n=>!!(n&&n.getVelocity),Dxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Oxe=a0.length;function kxe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Oxe;o++){const a=a0[o];if(n[a]!==void 0){const l=Dxe[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const e6=n=>e=>typeof e=="string"&&e.startsWith(n),t6=e6("--"),lC=e6("var(--"),Nxe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Fxe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ql=(n,e,t)=>Math.min(Math.max(t,n),e),Wu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tm={...Wu,transform:n=>ql(0,1,n)},Fv={...Wu,default:1},Rm=n=>Math.round(n*1e5)/1e5,X1=/(-)?([\d]*\.?[\d])+/g,n6=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Uxe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function l0(n){return typeof n=="string"}const c0=n=>({test:e=>l0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),pl=c0("deg"),Po=c0("%"),ut=c0("px"),Hxe=c0("vh"),zxe=c0("vw"),pN={...Po,parse:n=>Po.parse(n)/100,transform:n=>Po.transform(n*100)},mN={...Wu,transform:Math.round},r6={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,size:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,rotate:pl,rotateX:pl,rotateY:pl,rotateZ:pl,scale:Fv,scaleX:Fv,scaleY:Fv,scaleZ:Fv,skew:pl,skewX:pl,skewY:pl,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:Tm,originX:pN,originY:pN,originZ:ut,zIndex:mN,fillOpacity:Tm,strokeOpacity:Tm,numOctaves:mN};function JP(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const p=e[f];if(t6(f)){s[f]=p;continue}const m=r6[f],y=Fxe(p,m);if($u.has(f)){if(l=!0,o[f]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=y):i[f]=y}if(e.transform||(l||r?i.transform=kxe(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const KP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i6(n,e,t){for(const r in e)!yi(e[r])&&!Z9(r,t)&&(n[r]=e[r])}function Gxe({transformTemplate:n},e,t){return P.useMemo(()=>{const r=KP();return JP(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Vxe(n,e,t){const r=n.style||{},i={};return i6(i,r,n),Object.assign(i,Gxe(n,e,t)),n.transformValues?n.transformValues(i):i}function $xe(n,e,t){const r={},i=Vxe(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Wxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Wxe.has(n)}let s6=n=>!bb(n);function jxe(n){n&&(s6=e=>e.startsWith("on")?!bb(e):n(e))}try{jxe(require("@emotion/is-prop-valid").default)}catch{}function Jxe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(s6(i)||t===!0&&bb(i)||!e&&!bb(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function gN(n,e,t){return typeof n=="string"?n:ut.transform(e+t*n)}function Kxe(n,e,t){const r=gN(e,n.x,n.width),i=gN(t,n.y,n.height);return`${r} ${i}`}const Xxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yxe={offset:"strokeDashoffset",array:"strokeDasharray"};function Qxe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Xxe:Yxe;n[s.offset]=ut.transform(-r);const o=ut.transform(e),a=ut.transform(t);n[s.array]=`${o} ${a}`}function XP(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,p){if(JP(n,c,u,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:v}=n;m.transform&&(v&&(y.transform=m.transform),delete m.transform),v&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Kxe(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&Qxe(m,o,a,l,!1)}const o6=()=>({...KP(),attrs:{}}),YP=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qxe(n,e,t,r){const i=P.useMemo(()=>{const s=o6();return XP(s,e,{enableHardwareAcceleration:!1},YP(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};i6(s,n.style,n),i.style={...s,...i.style}}return i}function Zxe(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(jP(t)?qxe:$xe)(r,s,o,t),u={...Jxe(r,typeof t=="string",n),...l,ref:i},{children:f}=r,p=P.useMemo(()=>yi(f)?f.get():f,[f]);return P.createElement(t,{...u,children:p})}}function a6(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const l6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c6(n,e,t,r){a6(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(l6.has(i)?i:GP(i),e.attrs[i])}function QP(n,e){const{style:t}=n,r={};for(const i in t)(yi(t[i])||e.style&&yi(e.style[i])||Z9(i,n))&&(r[i]=t[i]);return r}function u6(n,e){const t=QP(n,e);for(const r in n)if(yi(n[r])||yi(e[r])){const i=a0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function qP(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function f6(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const _b=n=>Array.isArray(n),ebe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),tbe=n=>_b(n)?n[n.length-1]||0:n;function xx(n){const e=yi(n)?n.get():n;return ebe(e)?e.toValue():e}function nbe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:rbe(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const d6=n=>(e,t)=>{const r=P.useContext($1),i=P.useContext(W1),s=()=>nbe(n,e,r,i);return t?s():f6(s)};function rbe(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=xx(s[p]);let{initial:o,animate:a}=n;const l=K1(n),c=Q9(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!J1(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=qP(n,m);if(!y)return;const{transitionEnd:v,transition:x,...g}=y;for(const _ in g){let b=g[_];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(i[_]=b)}for(const _ in v)i[_]=v[_]}),i}const Dn=n=>n;class yN{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function ibe(n){let e=new yN,t=new yN,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,p=f?e:t;return c&&o.add(l),p.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const Uv=["prepare","read","update","preRender","render","postRender"],sbe=40;function obe(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Uv.reduce((f,p)=>(f[p]=ibe(()=>t=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,sbe),1),i.timestamp=f,i.isProcessing=!0,Uv.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:Uv.reduce((f,p)=>{const m=s[p];return f[p]=(y,v=!1,x=!1)=>(t||l(),m.schedule(y,v,x)),f},{}),cancel:f=>Uv.forEach(p=>s[p].cancel(f)),state:i,steps:s}}const{schedule:un,cancel:Fa,state:kr,steps:fA}=obe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0),abe={useVisualState:d6({scrapeMotionValuesFromProps:u6,createRenderState:o6,onMount:(n,e,{renderState:t,latestValues:r})=>{un.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),un.render(()=>{XP(t,r,{enableHardwareAcceleration:!1},YP(e.tagName),n.transformTemplate),c6(e,t)})}})},lbe={useVisualState:d6({scrapeMotionValuesFromProps:QP,createRenderState:KP})};function cbe(n,{forwardMotionProps:e=!1},t,r){return{...jP(n)?abe:lbe,preloadedFeatures:t,useRender:Zxe(e),createVisualElement:r,Component:n}}function ba(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const h6=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Y1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const ube=n=>e=>h6(e)&&n(e,Y1(e));function Ta(n,e,t,r){return ba(n,e,ube(t),r)}const fbe=(n,e)=>t=>e(n(t)),Ul=(...n)=>n.reduce(fbe);function p6(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const vN=p6("dragHorizontal"),xN=p6("dragVertical");function m6(n){let e=!1;if(n==="y")e=xN();else if(n==="x")e=vN();else{const t=vN(),r=xN();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function g6(){const n=m6(!0);return n?(n(),!1):!0}class fc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bN(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||g6())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&un.update(()=>a[r](s,o))};return Ta(n.current,t,i,{passive:!n.getProps()[r]})}class dbe extends fc{mount(){this.unmount=Ul(bN(this.node,!0),bN(this.node,!1))}unmount(){}}class hbe extends fc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ul(ba(this.node.current,"focus",()=>this.onFocus()),ba(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y6=(n,e)=>e?n===e?!0:y6(n,e.parentElement):!1;function dA(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Y1(t))}class pbe extends fc{constructor(){super(...arguments),this.removeStartListeners=Dn,this.removeEndListeners=Dn,this.removeAccessibleListeners=Dn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ta(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();un.update(()=>{!f&&!y6(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ta(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ul(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||dA("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&un.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ba(this.node.current,"keyup",o),dA("down",(a,l)=>{this.startPress(a,l)})},t=ba(this.node.current,"keydown",e),r=()=>{this.isPressing&&dA("cancel",(s,o)=>this.cancelPress(s,o))},i=ba(this.node.current,"blur",r);this.removeAccessibleListeners=Ul(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&un.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!g6()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&un.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Ta(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ba(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ul(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cC=new WeakMap,hA=new WeakMap,mbe=n=>{const e=cC.get(n.target);e&&e(n)},gbe=n=>{n.forEach(mbe)};function ybe({root:n,...e}){const t=n||document;hA.has(t)||hA.set(t,{});const r=hA.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gbe,{root:n,...e})),r[i]}function vbe(n,e,t){const r=ybe(e);return cC.set(n,t),r.observe(n),()=>{cC.delete(n),r.unobserve(n)}}const xbe={some:0,all:1};class bbe extends fc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xbe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return vbe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(_be(e,t))&&this.startObserver()}unmount(){}}function _be({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const wbe={inView:{Feature:bbe},tap:{Feature:pbe},focus:{Feature:hbe},hover:{Feature:dbe}};function v6(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Sbe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Abe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Q1(n,e,t){const r=n.getProps();return qP(r,e,t!==void 0?t:r.custom,Sbe(n),Abe(n))}let Ebe=Dn,ZP=Dn;const Hl=n=>n*1e3,Ra=n=>n/1e3,Mbe={current:!1},x6=n=>Array.isArray(n)&&typeof n[0]=="number";function b6(n){return!!(!n||typeof n=="string"&&_6[n]||x6(n)||Array.isArray(n)&&n.every(b6))}const om=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,_6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:om([0,.65,.55,1]),circOut:om([.55,0,1,.45]),backIn:om([.31,.01,.66,-.59]),backOut:om([.33,1.53,.69,.99])};function w6(n){if(n)return x6(n)?om(n):Array.isArray(n)?n.map(w6):_6[n]}function Cbe(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=w6(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Tbe(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const S6=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Rbe=1e-7,Pbe=12;function Ibe(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=S6(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Rbe&&++a<Pbe);return o}function u0(n,e,t,r){if(n===e&&t===r)return Dn;const i=s=>Ibe(s,0,1,n,t);return s=>s===0||s===1?s:S6(i(s),e,r)}const Bbe=u0(.42,0,1,1),Lbe=u0(0,0,.58,1),A6=u0(.42,0,.58,1),Dbe=n=>Array.isArray(n)&&typeof n[0]!="number",E6=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,M6=n=>e=>1-n(1-e),eI=n=>1-Math.sin(Math.acos(n)),C6=M6(eI),Obe=E6(eI),T6=u0(.33,1.53,.69,.99),tI=M6(T6),kbe=E6(tI),Nbe=n=>(n*=2)<1?.5*tI(n):.5*(2-Math.pow(2,-10*(n-1))),Fbe={linear:Dn,easeIn:Bbe,easeInOut:A6,easeOut:Lbe,circIn:eI,circInOut:Obe,circOut:C6,backIn:tI,backInOut:kbe,backOut:T6,anticipate:Nbe},_N=n=>{if(Array.isArray(n)){ZP(n.length===4);const[e,t,r,i]=n;return u0(e,t,r,i)}else if(typeof n=="string")return Fbe[n];return n},nI=(n,e)=>t=>!!(l0(t)&&Uxe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),R6=(n,e,t)=>r=>{if(!l0(r))return r;const[i,s,o,a]=r.match(X1);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ube=n=>ql(0,255,n),pA={...Wu,transform:n=>Math.round(Ube(n))},ru={test:nI("rgb","red"),parse:R6("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+pA.transform(n)+", "+pA.transform(e)+", "+pA.transform(t)+", "+Rm(Tm.transform(r))+")"};function Hbe(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uC={test:nI("#"),parse:Hbe,transform:ru.transform},Ad={test:nI("hsl","hue"),parse:R6("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Po.transform(Rm(e))+", "+Po.transform(Rm(t))+", "+Rm(Tm.transform(r))+")"},Kr={test:n=>ru.test(n)||uC.test(n)||Ad.test(n),parse:n=>ru.test(n)?ru.parse(n):Ad.test(n)?Ad.parse(n):uC.parse(n),transform:n=>l0(n)?n:n.hasOwnProperty("red")?ru.transform(n):Ad.transform(n)},Mn=(n,e,t)=>-t*n+t*e+n;function mA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function zbe({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=mA(l,a,n+1/3),s=mA(l,a,n),o=mA(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const gA=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Gbe=[uC,ru,Ad],Vbe=n=>Gbe.find(e=>e.test(n));function wN(n){const e=Vbe(n);let t=e.parse(n);return e===Ad&&(t=zbe(t)),t}const P6=(n,e)=>{const t=wN(n),r=wN(e),i={...t};return s=>(i.red=gA(t.red,r.red,s),i.green=gA(t.green,r.green,s),i.blue=gA(t.blue,r.blue,s),i.alpha=Mn(t.alpha,r.alpha,s),ru.transform(i))};function $be(n){var e,t;return isNaN(n)&&l0(n)&&(((e=n.match(X1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(n6))===null||t===void 0?void 0:t.length)||0)>0}const I6={regex:Nxe,countKey:"Vars",token:"${v}",parse:Dn},B6={regex:n6,countKey:"Colors",token:"${c}",parse:Kr.parse},L6={regex:X1,countKey:"Numbers",token:"${n}",parse:Wu.parse};function yA(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function wb(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&yA(t,I6),yA(t,B6),yA(t,L6),t}function D6(n){return wb(n).values}function O6(n){const{values:e,numColors:t,numVars:r,tokenised:i}=wb(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(I6.token,o[l]):l<r+t?a=a.replace(B6.token,Kr.transform(o[l])):a=a.replace(L6.token,Rm(o[l]));return a}}const Wbe=n=>typeof n=="number"?0:n;function jbe(n){const e=D6(n);return O6(n)(e.map(Wbe))}const Zl={test:$be,parse:D6,createTransformer:O6,getAnimatableNone:jbe},k6=(n,e)=>t=>`${t>0?e:n}`;function N6(n,e){return typeof n=="number"?t=>Mn(n,e,t):Kr.test(n)?P6(n,e):n.startsWith("var(")?k6(n,e):U6(n,e)}const F6=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>N6(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Jbe=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=N6(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},U6=(n,e)=>{const t=Zl.createTransformer(e),r=wb(n),i=wb(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ul(F6(r.values,i.values),t):k6(n,e)},bg=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},SN=(n,e)=>t=>Mn(n,e,t);function Kbe(n){return typeof n=="number"?SN:typeof n=="string"?Kr.test(n)?P6:U6:Array.isArray(n)?F6:typeof n=="object"?Jbe:SN}function Xbe(n,e,t){const r=[],i=t||Kbe(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Dn:e;a=Ul(l,a)}r.push(a)}return r}function H6(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(ZP(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Xbe(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=bg(n[u],n[u+1],c);return o[u](f)};return t?c=>l(ql(n[0],n[s-1],c)):l}function Ybe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=bg(0,e,r);n.push(Mn(t,1,i))}}function Qbe(n){const e=[0];return Ybe(e,n.length-1),e}function qbe(n,e){return n.map(t=>t*e)}function Zbe(n,e){return n.map(()=>e||A6).splice(0,n.length-1)}function Sb({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Dbe(r)?r.map(_N):_N(r),s={done:!1,value:e[0]},o=qbe(t&&t.length===e.length?t:Qbe(e),n),a=H6(o,e,{ease:Array.isArray(i)?i:Zbe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function z6(n,e){return e?n*(1e3/e):0}const e1e=5;function G6(n,e,t){const r=Math.max(e-e1e,0);return z6(t-n(r),e-r)}const vA=.001,t1e=.01,AN=10,n1e=.05,r1e=1;function i1e({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Ebe(n<=Hl(AN));let o=1-e;o=ql(n1e,r1e,o),n=ql(t1e,AN,Ra(n)),o<1?(i=c=>{const u=c*o,f=u*n,p=u-t,m=fC(c,o),y=Math.exp(-f);return vA-p/m*y},s=c=>{const f=c*o*n,p=f*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-f),v=fC(Math.pow(c,2),o);return(-i(c)+vA>0?-1:1)*((p-m)*y)/v}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-vA+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=o1e(i,s,a);if(n=Hl(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const s1e=12;function o1e(n,e,t){let r=t;for(let i=1;i<s1e;i++)r=r-n(r)/e(r);return r}function fC(n,e){return n*Math.sqrt(1-e*e)}const a1e=["duration","bounce"],l1e=["stiffness","damping","mass"];function EN(n,e){return e.some(t=>n[t]!==void 0)}function c1e(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!EN(n,l1e)&&EN(n,a1e)){const t=i1e(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function V6({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:p}=c1e({...r,velocity:-Ra(r.velocity||0)}),m=f||0,y=l/(2*Math.sqrt(a*c)),v=s-i,x=Ra(Math.sqrt(a/c)),g=Math.abs(v)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let _;if(y<1){const b=fC(x,y);_=S=>{const E=Math.exp(-y*x*S);return s-E*((m+y*x*v)/b*Math.sin(b*S)+v*Math.cos(b*S))}}else if(y===1)_=b=>s-Math.exp(-x*b)*(v+(m+x*v)*b);else{const b=x*Math.sqrt(y*y-1);_=S=>{const E=Math.exp(-y*x*S),M=Math.min(b*S,300);return s-E*((m+y*x*v)*Math.sinh(M)+b*v*Math.cosh(M))/b}}return{calculatedDuration:p&&u||null,next:b=>{const S=_(b);if(p)o.done=b>=u;else{let E=m;b!==0&&(y<1?E=G6(_,b,S):E=0);const M=Math.abs(E)<=t,R=Math.abs(s-S)<=e;o.done=M&&R}return o.value=o.done?s:S,o}}}function MN({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],p={done:!1,value:f},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,y=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let v=t*e;const x=f+v,g=o===void 0?x:o(x);g!==x&&(v=g-f);const _=B=>-v*Math.exp(-B/r),b=B=>g+_(B),S=B=>{const T=_(B),I=b(B);p.done=Math.abs(T)<=c,p.value=p.done?g:I};let E,M;const R=B=>{m(p.value)&&(E=B,M=V6({keyframes:[p.value,y(p.value)],velocity:G6(b,B,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:B=>{let T=!1;return!M&&E===void 0&&(T=!0,S(B),R(B)),E!==void 0&&B>E?M.next(B-E):(!T&&S(B),p)}}}const u1e=n=>{const e=({timestamp:t})=>n(t);return{start:()=>un.update(e,!0),stop:()=>Fa(e),now:()=>kr.isProcessing?kr.timestamp:performance.now()}},CN=2e4;function TN(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<CN;)e+=t,r=n.next(e);return e>=CN?1/0:e}const f1e={decay:MN,inertia:MN,tween:Sb,keyframes:Sb,spring:V6};function Ab({autoplay:n=!0,delay:e=0,driver:t=u1e,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...p}){let m=1,y=!1,v,x;const g=()=>{x=new Promise(q=>{v=q})};g();let _;const b=f1e[i]||Sb;let S;b!==Sb&&typeof r[0]!="number"&&(S=H6([0,100],r,{clamp:!1}),r=[0,100]);const E=b({...p,keyframes:r});let M;a==="mirror"&&(M=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let R="idle",B=null,T=null,I=null;E.calculatedDuration===null&&s&&(E.calculatedDuration=TN(E));const{calculatedDuration:O}=E;let z=1/0,H=1/0;O!==null&&(z=O+o,H=z*(s+1)-o);let N=0;const J=q=>{if(T===null)return;m>0&&(T=Math.min(T,q)),m<0&&(T=Math.min(q-H/m,T)),B!==null?N=B:N=Math.round(q-T)*m;const ee=N-e*(m>=0?1:-1),se=m>=0?ee<0:ee>H;N=Math.max(ee,0),R==="finished"&&B===null&&(N=H);let Z=N,de=E;if(s){const ue=Math.min(N,H)/z;let he=Math.floor(ue),Se=ue%1;!Se&&ue>=1&&(Se=1),Se===1&&he--,he=Math.min(he,s+1),!!(he%2)&&(a==="reverse"?(Se=1-Se,o&&(Se-=o/z)):a==="mirror"&&(de=M)),Z=ql(0,1,Se)*z}const oe=se?{done:!1,value:r[0]}:de.next(Z);S&&(oe.value=S(oe.value));let{done:Q}=oe;!se&&O!==null&&(Q=m>=0?N>=H:N<=0);const Me=B===null&&(R==="finished"||R==="running"&&Q);return f&&f(oe.value),Me&&k(),oe},X=()=>{_&&_.stop(),_=void 0},Y=()=>{R="idle",X(),v(),g(),T=I=null},k=()=>{R="finished",u&&u(),X(),v()},U=()=>{if(y)return;_||(_=t(J));const q=_.now();l&&l(),B!==null?T=q-B:(!T||R==="finished")&&(T=q),R==="finished"&&g(),I=T,B=null,R="running",_.start()};n&&U();const V={then(q,ee){return x.then(q,ee)},get time(){return Ra(N)},set time(q){q=Hl(q),N=q,B!==null||!_||m===0?B=q:T=_.now()-q/m},get duration(){const q=E.calculatedDuration===null?TN(E):E.calculatedDuration;return Ra(q)},get speed(){return m},set speed(q){q===m||!_||(m=q,V.time=Ra(N))},get state(){return R},play:U,pause:()=>{R="paused",B=N},stop:()=>{y=!0,R!=="idle"&&(R="idle",c&&c(),Y())},cancel:()=>{I!==null&&J(I),Y()},complete:()=>{R="finished"},sample:q=>(T=0,J(q))};return V}function d1e(n){let e;return()=>(e===void 0&&(e=n()),e)}const h1e=d1e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),p1e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Hv=10,m1e=2e4,g1e=(n,e)=>e.type==="spring"||n==="backgroundColor"||!b6(e.ease);function y1e(n,e,{onUpdate:t,onComplete:r,...i}){if(!(h1e()&&p1e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:p=300,ease:m,times:y}=i;if(g1e(e,i)){const b=Ab({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let M=0;for(;!S.done&&M<m1e;)S=b.sample(M),E.push(S.value),M+=Hv;y=void 0,f=E,p=M-Hv,m="linear"}const v=Cbe(n.owner.current,e,f,{...i,duration:p,ease:m,times:y}),x=()=>{c=!1,v.cancel()},g=()=>{c=!0,un.update(x),a(),u()};return v.onfinish=()=>{c||(n.set(Tbe(f,i)),r&&r(),g())},{then(b,S){return l.then(b,S)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Dn},get time(){return Ra(v.currentTime||0)},set time(b){v.currentTime=Hl(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Ra(p)},play:()=>{o||(v.play(),Fa(x))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const S=Ab({...i,autoplay:!1});n.setWithVelocity(S.sample(b-Hv).value,S.sample(b).value,Hv)}g()},complete:()=>{c||v.finish()},cancel:g}}function v1e({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Dn,pause:Dn,stop:Dn,then:s=>(s(),Promise.resolve()),cancel:Dn,complete:Dn});return e?Ab({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const x1e={type:"spring",stiffness:500,damping:25,restSpeed:10},b1e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_1e={type:"keyframes",duration:.8},w1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1e=(n,{keyframes:e})=>e.length>2?_1e:$u.has(n)?n.startsWith("scale")?b1e(e[1]):x1e:w1e,dC=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zl.test(e)||e==="0")&&!e.startsWith("url(")),A1e=new Set(["brightness","contrast","saturate","opacity"]);function E1e(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(X1)||[];if(!r)return n;const i=t.replace(r,"");let s=A1e.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const M1e=/([a-z-]*)\(.*?\)/g,hC={...Zl,getAnimatableNone:n=>{const e=n.match(M1e);return e?e.map(E1e).join(" "):n}},C1e={...r6,color:Kr,backgroundColor:Kr,outlineColor:Kr,fill:Kr,stroke:Kr,borderColor:Kr,borderTopColor:Kr,borderRightColor:Kr,borderBottomColor:Kr,borderLeftColor:Kr,filter:hC,WebkitFilter:hC},rI=n=>C1e[n];function $6(n,e){let t=rI(n);return t!==hC&&(t=Zl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const W6=n=>/^0[^.\s]+$/.test(n);function T1e(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||W6(n)}function R1e(n,e,t,r){const i=dC(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),T1e(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=$6(e,a)}return s}function P1e({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function iI(n,e){return n[e]||n.default||n}const I1e={skipAnimations:!1},sI=(n,e,t,r={})=>i=>{const s=iI(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Hl(o);const l=R1e(e,n,t,s),c=l[0],u=l[l.length-1],f=dC(n,c),p=dC(n,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(P1e(s)||(m={...m,...S1e(n,m)}),m.duration&&(m.duration=Hl(m.duration)),m.repeatDelay&&(m.repeatDelay=Hl(m.repeatDelay)),!f||!p||Mbe.current||s.type===!1||I1e.skipAnimations)return v1e(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=y1e(e,n,m);if(y)return y}return Ab(m)};function Eb(n){return!!(yi(n)&&n.add)}const j6=n=>/^\-?\d*\.?\d+$/.test(n);function oI(n,e){n.indexOf(e)===-1&&n.push(e)}function aI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class lI{constructor(){this.subscriptions=[]}add(e){return oI(this.subscriptions,e),()=>aI(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B1e=n=>!isNaN(parseFloat(n));class L1e{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=kr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=B1e(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lI);const r=this.events[e].add(t);return e==="change"?()=>{r(),un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?z6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gh(n,e){return new L1e(n,e)}const J6=n=>e=>e.test(n),D1e={test:n=>n==="auto",parse:n=>n},K6=[Wu,ut,Po,pl,zxe,Hxe,D1e],jp=n=>K6.find(J6(n)),O1e=[...K6,Kr,Zl],k1e=n=>O1e.find(J6(n));function N1e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,gh(t))}function F1e(n,e){const t=Q1(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=tbe(s[o]);N1e(n,o,a)}}function U1e(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(j6(u)||W6(u))?u=parseFloat(u):!k1e(u)&&Zl.test(c)&&(u=$6(l,c)),n.addValue(l,gh(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function H1e(n,e){return e?(e[n]||e.default||e).from:void 0}function z1e(n,e,t){const r={};for(const i in n){const s=H1e(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function G1e({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function V1e(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function X6(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f),m=a[f];if(!p||m===void 0||u&&G1e(u,f))continue;const y={delay:t,elapsed:0,...iI(s||{},f)};if(window.HandoffAppearAnimations){const g=n.getProps()[Y9];if(g){const _=window.HandoffAppearAnimations(g,f,p,un);_!==null&&(y.elapsed=_,y.isHandoff=!0)}}let v=!y.isHandoff&&!V1e(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(sI(f,p,m,n.shouldReduceMotion&&$u.has(f)?{type:!1}:y));const x=p.animation;Eb(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&F1e(n,o)}),c}function pC(n,e,t={}){const r=Q1(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(X6(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return $1e(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function $1e(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(W1e).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(pC(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function W1e(n,e){return n.sortNodePosition(e)}function j1e(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pC(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=pC(n,e,t);else{const i=typeof e=="function"?Q1(n,e,t.custom):e;r=Promise.all(X6(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const J1e=[...VP].reverse(),K1e=VP.length;function X1e(n){return e=>Promise.all(e.map(({animation:t,options:r})=>j1e(n,t,r)))}function Y1e(n){let e=X1e(n);const t=q1e();let r=!0;const i=(l,c)=>{const u=Q1(n,c);if(u){const{transition:f,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},v=1/0;for(let g=0;g<K1e;g++){const _=J1e[g],b=t[_],S=u[_]!==void 0?u[_]:f[_],E=vg(S),M=_===c?b.isActive:null;M===!1&&(v=g);let R=S===f[_]&&S!==u[_]&&E;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...y},!b.isActive&&M===null||!S&&!b.prevProp||J1(S)||typeof S=="boolean")continue;let T=Q1e(b.prevProp,S)||_===c&&b.isActive&&!R&&E||g>v&&E,I=!1;const O=Array.isArray(S)?S:[S];let z=O.reduce(i,{});M===!1&&(z={});const{prevResolvedValues:H={}}=b,N={...H,...z},J=X=>{T=!0,m.has(X)&&(I=!0,m.delete(X)),b.needsAnimating[X]=!0};for(const X in N){const Y=z[X],k=H[X];if(y.hasOwnProperty(X))continue;let U=!1;_b(Y)&&_b(k)?U=!v6(Y,k):U=Y!==k,U?Y!==void 0?J(X):m.add(X):Y!==void 0&&m.has(X)?J(X):b.protectedKeys[X]=!0}b.prevProp=S,b.prevResolvedValues=z,b.isActive&&(y={...y,...z}),r&&n.blockInitialAnimation&&(T=!1),T&&(!R||I)&&p.push(...O.map(X=>({animation:X,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const b=n.getBaseTarget(_);b!==void 0&&(g[_]=b)}),p.push({animation:g})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Q1e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!v6(e,n):!1}function Lc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q1e(){return{animate:Lc(!0),whileInView:Lc(),whileHover:Lc(),whileTap:Lc(),whileDrag:Lc(),whileFocus:Lc(),exit:Lc()}}class Z1e extends fc{constructor(e){super(e),e.animationState||(e.animationState=Y1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),J1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let e_e=0;class t_e extends fc{constructor(){super(...arguments),this.id=e_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const n_e={animation:{Feature:Z1e},exit:{Feature:t_e}},RN=(n,e)=>Math.abs(n-e);function r_e(n,e){const t=RN(n.x,e.x),r=RN(n.y,e.y);return Math.sqrt(t**2+r**2)}class Y6{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bA(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=r_e(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:v}=kr;this.history.push({...y,timestamp:v});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=xA(p,this.transformPagePoint),un.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bA(f.type==="pointercancel"?this.lastMoveEventInfo:xA(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),y&&y(f,x)},!h6(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=Y1(e),a=xA(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=kr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,bA(a,this.history)),this.removeListeners=Ul(Ta(this.contextWindow,"pointermove",this.handlePointerMove),Ta(this.contextWindow,"pointerup",this.handlePointerUp),Ta(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fa(this.updatePoint)}}function xA(n,e){return e?{point:e(n.point)}:n}function PN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function bA({point:n},e){return{point:n,delta:PN(n,Q6(e)),offset:PN(n,i_e(e)),velocity:s_e(e,.1)}}function i_e(n){return n[0]}function Q6(n){return n[n.length-1]}function s_e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Q6(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Hl(e)));)t--;if(!r)return{x:0,y:0};const s=Ra(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ji(n){return n.max-n.min}function mC(n,e=0,t=.01){return Math.abs(n-e)<=t}function IN(n,e,t,r=.5){n.origin=r,n.originPoint=Mn(e.min,e.max,n.origin),n.scale=Ji(t)/Ji(e),(mC(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Mn(t.min,t.max,n.origin)-n.originPoint,(mC(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Pm(n,e,t,r){IN(n.x,e.x,t.x,r?r.originX:void 0),IN(n.y,e.y,t.y,r?r.originY:void 0)}function BN(n,e,t){n.min=t.min+e.min,n.max=n.min+Ji(e)}function o_e(n,e,t){BN(n.x,e.x,t.x),BN(n.y,e.y,t.y)}function LN(n,e,t){n.min=e.min-t.min,n.max=n.min+Ji(e)}function Im(n,e,t){LN(n.x,e.x,t.x),LN(n.y,e.y,t.y)}function a_e(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Mn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Mn(t,n,r.max):Math.min(n,t)),n}function DN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function l_e(n,{top:e,left:t,bottom:r,right:i}){return{x:DN(n.x,t,i),y:DN(n.y,e,r)}}function ON(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function c_e(n,e){return{x:ON(n.x,e.x),y:ON(n.y,e.y)}}function u_e(n,e){let t=.5;const r=Ji(n),i=Ji(e);return i>r?t=bg(e.min,e.max-r,n.min):r>i&&(t=bg(n.min,n.max-i,e.min)),ql(0,1,t)}function f_e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const gC=.35;function d_e(n=gC){return n===!1?n=0:n===!0&&(n=gC),{x:kN(n,"left","right"),y:kN(n,"top","bottom")}}function kN(n,e,t){return{min:NN(n,e),max:NN(n,t)}}function NN(n,e){return typeof n=="number"?n:n[e]||0}const FN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ed=()=>({x:FN(),y:FN()}),UN=()=>({min:0,max:0}),jn=()=>({x:UN(),y:UN()});function cs(n){return[n("x"),n("y")]}function q6({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function h_e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function p_e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function _A(n){return n===void 0||n===1}function yC({scale:n,scaleX:e,scaleY:t}){return!_A(n)||!_A(e)||!_A(t)}function zc(n){return yC(n)||Z6(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Z6(n){return HN(n.x)||HN(n.y)}function HN(n){return n&&n!=="0%"}function Mb(n,e,t){const r=n-t,i=e*r;return t+i}function zN(n,e,t,r,i){return i!==void 0&&(n=Mb(n,i,r)),Mb(n,t,r)+e}function vC(n,e=0,t=1,r,i){n.min=zN(n.min,e,t,r,i),n.max=zN(n.max,e,t,r,i)}function e8(n,{x:e,y:t}){vC(n.x,e.translate,e.scale,e.originPoint),vC(n.y,t.translate,t.scale,t.originPoint)}function m_e(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Md(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,e8(n,o)),r&&zc(s.latestValues)&&Md(n,s.latestValues))}e.x=GN(e.x),e.y=GN(e.y)}function GN(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function bl(n,e){n.min=n.min+e,n.max=n.max+e}function VN(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Mn(n.min,n.max,s);vC(n,e[t],e[r],o,e.scale)}const g_e=["x","scaleX","originX"],y_e=["y","scaleY","originY"];function Md(n,e){VN(n.x,e,g_e),VN(n.y,e,y_e)}function t8(n,e){return q6(p_e(n.getBoundingClientRect(),e))}function v_e(n,e,t){const r=t8(n,t),{scroll:i}=e;return i&&(bl(r.x,i.offset.x),bl(r.y,i.offset.y)),r}const n8=({current:n})=>n?n.ownerDocument.defaultView:null,x_e=new WeakMap;class b_e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Y1(u,"page").point)},s=(u,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=m6(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cs(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Po.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[x];b&&(g=Ji(b)*(parseFloat(g)/100))}}this.originPoint[x]=g}),y&&un.update(()=>y(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=__e(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>cs(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Y6(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:n8(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&un.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!zv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=a_e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Sd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=l_e(i.layoutBox,t):this.constraints=!1,this.elastic=d_e(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&cs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=f_e(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=v_e(r,i.root,this.visualElement.getTransformPagePoint());let o=c_e(i.layout.layoutBox,s);if(t){const a=t(h_e(o));this.hasMutatedConstraints=!!a,a&&(o=q6(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=cs(u=>{if(!zv(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(sI(e,r,0,t))}stopAnimation(){cs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cs(t=>{const{drag:r}=this.getProps();if(!zv(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Sd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};cs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=u_e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cs(o=>{if(!zv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Mn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;x_e.set(this.visualElement,this);const e=this.visualElement.current,t=Ta(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ba(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(cs(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gC,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function __e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class w_e extends fc{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new b_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const $N=n=>(e,t)=>{n&&un.update(()=>n(e,t))};class S_e extends fc{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new Y6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$N(e),onStart:$N(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&un.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ta(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function A_e(){const n=P.useContext(W1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const bx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Jp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ut.test(n))n=parseFloat(n);else return n;const t=WN(n,e.target.x),r=WN(n,e.target.y);return`${t}% ${r}%`}},E_e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Zl.parse(n);if(i.length>5)return r;const s=Zl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Mn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class M_e extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Lxe(C_e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||un.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r8(n){const[e,t]=A_e(),r=P.useContext(WP);return D.createElement(M_e,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(q9),isPresent:e,safeToRemove:t})}const C_e={borderRadius:{...Jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jp,borderTopRightRadius:Jp,borderBottomLeftRadius:Jp,borderBottomRightRadius:Jp,boxShadow:E_e},i8=["TopLeft","TopRight","BottomLeft","BottomRight"],T_e=i8.length,jN=n=>typeof n=="string"?parseFloat(n):n,JN=n=>typeof n=="number"||ut.test(n);function R_e(n,e,t,r,i,s){i?(n.opacity=Mn(0,t.opacity!==void 0?t.opacity:1,P_e(r)),n.opacityExit=Mn(e.opacity!==void 0?e.opacity:1,0,I_e(r))):s&&(n.opacity=Mn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<T_e;o++){const a=`border${i8[o]}Radius`;let l=KN(e,a),c=KN(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||JN(l)===JN(c)?(n[a]=Math.max(Mn(jN(l),jN(c),r),0),(Po.test(c)||Po.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Mn(e.rotate||0,t.rotate||0,r))}function KN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const P_e=s8(0,.5,C6),I_e=s8(.5,.95,Dn);function s8(n,e,t){return r=>r<n?0:r>e?1:t(bg(n,e,r))}function XN(n,e){n.min=e.min,n.max=e.max}function ls(n,e){XN(n.x,e.x),XN(n.y,e.y)}function YN(n,e,t,r,i){return n-=e,n=Mb(n,1/t,r),i!==void 0&&(n=Mb(n,1/i,r)),n}function B_e(n,e=0,t=1,r=.5,i,s=n,o=n){if(Po.test(e)&&(e=parseFloat(e),e=Mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Mn(s.min,s.max,r);n===s&&(a-=e),n.min=YN(n.min,e,t,a,i),n.max=YN(n.max,e,t,a,i)}function QN(n,e,[t,r,i],s,o){B_e(n,e[t],e[r],e[i],e.scale,s,o)}const L_e=["x","scaleX","originX"],D_e=["y","scaleY","originY"];function qN(n,e,t,r){QN(n.x,e,L_e,t?t.x:void 0,r?r.x:void 0),QN(n.y,e,D_e,t?t.y:void 0,r?r.y:void 0)}function ZN(n){return n.translate===0&&n.scale===1}function o8(n){return ZN(n.x)&&ZN(n.y)}function O_e(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function a8(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function eF(n){return Ji(n.x)/Ji(n.y)}class k_e{constructor(){this.members=[]}add(e){oI(this.members,e),e.scheduleRender()}remove(e){if(aI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tF(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const N_e=(n,e)=>n.depth-e.depth;class F_e{constructor(){this.children=[],this.isDirty=!1}add(e){oI(this.children,e),this.isDirty=!0}remove(e){aI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(N_e),this.isDirty=!1,this.children.forEach(e)}}function U_e(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Fa(r),n(s-e))};return un.read(r,!0),()=>Fa(r)}function H_e(n){window.MotionDebug&&window.MotionDebug.record(n)}function z_e(n){return n instanceof SVGElement&&n.tagName!=="svg"}function G_e(n,e,t){const r=yi(n)?n:gh(n);return r.start(sI("",r,e,t)),r.animation}const nF=["","X","Y","Z"],V_e={visibility:"hidden"},rF=1e3;let $_e=0;const Gc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function l8({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$_e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gc.totalNodes=Gc.resolvedTargetDeltas=Gc.recalculatedProjection=0,this.nodes.forEach(J_e),this.nodes.forEach(q_e),this.nodes.forEach(Z_e),this.nodes.forEach(K_e),H_e(Gc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new F_e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lI),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z_e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=U_e(p,250),bx.hasAnimatedSinceResize&&(bx.hasAnimatedSinceResize=!1,this.nodes.forEach(sF))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||iwe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=u.getProps(),_=!this.targetLayout||!a8(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...iI(v,"layout"),onPlay:x,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||sF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ewe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iF);return}this.isUpdating||this.nodes.forEach(Y_e),this.isUpdating=!1,this.nodes.forEach(Q_e),this.nodes.forEach(W_e),this.nodes.forEach(j_e),this.clearAllSnapshots();const a=performance.now();kr.delta=ql(0,1e3/60,a-kr.timestamp),kr.timestamp=a,kr.isProcessing=!0,fA.update.process(kr),fA.preRender.process(kr),fA.render.process(kr),kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(X_e),this.sharedNodes.forEach(twe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!o8(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||zc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),swe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return jn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bl(a.x,l.offset.x),bl(a.y,l.offset.y)),a}removeElementScroll(o){const a=jn();ls(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){ls(a,o);const{scroll:p}=this.root;p&&(bl(a.x,-p.offset.x),bl(a.y,-p.offset.y))}bl(a.x,u.offset.x),bl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=jn();ls(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Md(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zc(u.latestValues)&&Md(l,u.latestValues)}return zc(this.latestValues)&&Md(l,this.latestValues),l}removeTransform(o){const a=jn();ls(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!zc(c.latestValues))continue;yC(c.latestValues)&&c.updateSnapshot();const u=jn(),f=c.measurePageBox();ls(u,f),qN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return zc(this.latestValues)&&qN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=kr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Im(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ls(this.target,this.layout.layoutBox),e8(this.target,this.targetDelta)):ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Im(this.relativeTargetOrigin,this.target,m.target),ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yC(this.parent.latestValues)||Z6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===kr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ls(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;m_e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Ed(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ed(),this.projectionDeltaWithTransform=Ed());const v=this.projectionTransform;Pm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=tF(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Gc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Ed();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),g=!x||x.members.length<=1,_=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(rwe));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const E=S/1e3;oF(f.x,o.x,E),oF(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nwe(this.relativeTarget,this.relativeTargetOrigin,p,E),b&&O_e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=jn()),ls(b,this.relativeTarget)),v&&(this.animationValues=u,R_e(u,c,this.latestValues,E,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=un.update(()=>{bx.hasAnimatedSinceResize=!0,this.currentAnimation=G_e(0,rF,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&c8(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jn();const f=Ji(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Ji(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ls(a,l),Md(a,u),Pm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k_e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<nF.length;u++){const f="rotate"+nF[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V_e;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xx(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=xx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!zc(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=tF(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in xb){if(p[v]===void 0)continue;const{correct:x,applyTo:g}=xb[v],_=c.transform==="none"?p[v]:x(p[v],f);if(g){const b=g.length;for(let S=0;S<b;S++)c[g[S]]=_}else c[v]=_}return this.options.layoutId&&(c.pointerEvents=f===this?xx(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(iF),this.root.sharedNodes.clear()}}}function W_e(n){n.updateLayout()}function j_e(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?cs(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Ji(p);p.min=r[f].min,p.max=p.min+m}):c8(s,t.layoutBox,r)&&cs(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],m=Ji(r[f]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=Ed();Pm(a,r,t.layoutBox);const l=Ed();o?Pm(l,n.applyTransform(i,!0),t.measuredBox):Pm(l,r,t.layoutBox);const c=!o8(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=jn();Im(y,t.layoutBox,p.layoutBox);const v=jn();Im(v,r,m.layoutBox),a8(y,v)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function J_e(n){Gc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function K_e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function X_e(n){n.clearSnapshot()}function iF(n){n.clearMeasurements()}function Y_e(n){n.isLayoutDirty=!1}function Q_e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function sF(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function q_e(n){n.resolveTargetDelta()}function Z_e(n){n.calcProjection()}function ewe(n){n.resetRotation()}function twe(n){n.removeLeadSnapshot()}function oF(n,e,t){n.translate=Mn(e.translate,0,t),n.scale=Mn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function aF(n,e,t,r){n.min=Mn(e.min,t.min,r),n.max=Mn(e.max,t.max,r)}function nwe(n,e,t,r){aF(n.x,e.x,t.x,r),aF(n.y,e.y,t.y,r)}function rwe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const iwe={duration:.45,ease:[.4,0,.1,1]},lF=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),cF=lF("applewebkit/")&&!lF("chrome/")?Math.round:Dn;function uF(n){n.min=cF(n.min),n.max=cF(n.max)}function swe(n){uF(n.x),uF(n.y)}function c8(n,e,t){return n==="position"||n==="preserve-aspect"&&!mC(eF(e),eF(t),.2)}const owe=l8({attachResizeListener:(n,e)=>ba(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wA={current:void 0},u8=l8({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!wA.current){const n=new owe({});n.mount(window),n.setOptions({layoutScroll:!0}),wA.current=n}return wA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),awe={pan:{Feature:S_e},drag:{Feature:w_e,ProjectionNode:u8,MeasureLayout:r8}},lwe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function cwe(n){const e=lwe.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function xC(n,e,t=1){const[r,i]=cwe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return j6(o)?parseFloat(o):o}else return lC(i)?xC(i,e,t+1):i}function uwe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!lC(s))return;const o=xC(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!lC(s))continue;const o=xC(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const fwe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f8=n=>fwe.has(n),dwe=n=>Object.keys(n).some(f8),fF=n=>n===Wu||n===ut,dF=(n,e)=>parseFloat(n.split(", ")[e]),hF=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return dF(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?dF(s[1],n):0}},hwe=new Set(["x","y","z"]),pwe=a0.filter(n=>!hwe.has(n));function mwe(n){const e=[];return pwe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const yh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:hF(4,13),y:hF(5,14)};yh.translateX=yh.x;yh.translateY=yh.y;const gwe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=yh[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=yh[c](l,s)}),n},ywe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(f8);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=jp(u);const p=e[l];let m;if(_b(p)){const y=p.length,v=p[0]===null?1:0;u=p[v],f=jp(u);for(let x=v;x<y&&p[x]!==null;x++)m?ZP(jp(p[x])===m):m=jp(p[x])}else m=jp(p);if(f!==m)if(fF(f)&&fF(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===ut&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=f.transform(p):(o||(s=mwe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=gwe(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),j1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function vwe(n,e,t,r){return dwe(e)?ywe(n,e,t,r):{target:e,transitionEnd:r}}const xwe=(n,e,t,r)=>{const i=uwe(n,e,r);return e=i.target,r=i.transitionEnd,vwe(n,e,t,r)},bC={current:null},d8={current:!1};function bwe(){if(d8.current=!0,!!j1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>bC.current=n.matches;n.addListener(e),e()}else bC.current=!1}function _we(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(yi(s))n.addValue(i,s),Eb(r)&&r.add(i);else if(yi(o))n.addValue(i,gh(s,{owner:n})),Eb(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,gh(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const pF=new WeakMap,h8=Object.keys(xg),wwe=h8.length,mF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Swe=$P.length;class Awe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>un.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=K1(t),this.isVariantNode=Q9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const p=u[f];a[f]!==void 0&&yi(p)&&(p.set(a[f],!1),Eb(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,pF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),d8.current||bwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pF.delete(this.current),this.projection&&this.projection.unmount(),Fa(this.notifyUpdate),Fa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=$u.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&un.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<wwe;l++){const c=h8[l],{isEnabled:u,Feature:f,ProjectionNode:p,MeasureLayout:m}=xg[c];p&&(o=p),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Sd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<mF.length;r++){const i=mF[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=_we(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Swe;r++){const i=$P[r],s=this.props[i];(vg(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=gh(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=qP(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lI),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class p8 extends Awe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=z1e(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){U1e(this,r,o);const a=xwe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Ewe(n){return window.getComputedStyle(n)}class Mwe extends p8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($u.has(t)){const r=rI(t);return r&&r.default||0}else{const r=Ewe(e),i=(t6(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return t8(e,t)}build(e,t,r,i){JP(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return QP(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){a6(e,t,r,i)}}class Cwe extends p8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($u.has(t)){const r=rI(t);return r&&r.default||0}return t=l6.has(t)?t:GP(t),e.getAttribute(t)}measureInstanceViewportBox(){return jn()}scrapeMotionValuesFromProps(e,t){return u6(e,t)}build(e,t,r,i){XP(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){c6(e,t,r,i)}mount(e){this.isSVGTag=YP(e.tagName),super.mount(e)}}const Twe=(n,e)=>jP(n)?new Cwe(e,{enableHardwareAcceleration:!1}):new Mwe(e,{enableHardwareAcceleration:!0}),Rwe={layout:{ProjectionNode:u8,MeasureLayout:r8}},Pwe={...n_e,...wbe,...awe,...Rwe},fa=Ixe((n,e)=>cbe(n,e,Pwe,Twe));function m8(){const n=P.useRef(!1);return zP(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Iwe(){const n=m8(),[e,t]=P.useState(0),r=P.useCallback(()=>{n.current&&t(e+1)},[e]);return[P.useCallback(()=>un.postRender(r),[r]),e]}class Bwe extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Lwe({children:n,isPresent:e}){const t=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),P.createElement(Bwe,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(n,{ref:r}))}const SA=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=f6(Dwe),l=P.useId(),c=P.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return P.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[t]),P.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=P.createElement(Lwe,{isPresent:t},n)),P.createElement(W1.Provider,{value:c},n)};function Dwe(){return new Map}function Owe(n){return P.useEffect(()=>()=>n(),[])}const Vc=n=>n.key||"";function kwe(n,e){n.forEach(t=>{const r=Vc(t);e.set(r,t)})}function Nwe(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const g8=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=P.useContext(WP).forceRender||Iwe()[0],l=m8(),c=Nwe(n);let u=c;const f=P.useRef(new Map).current,p=P.useRef(u),m=P.useRef(new Map).current,y=P.useRef(!0);if(zP(()=>{y.current=!1,kwe(c,m),p.current=u}),Owe(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return P.createElement(P.Fragment,null,u.map(_=>P.createElement(SA,{key:Vc(_),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},_)));u=[...u];const v=p.current.map(Vc),x=c.map(Vc),g=v.length;for(let _=0;_<g;_++){const b=v[_];x.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(u=[]),f.forEach((_,b)=>{if(x.indexOf(b)!==-1)return;const S=m.get(b);if(!S)return;const E=v.indexOf(b);let M=_;if(!M){const R=()=>{f.delete(b);const B=Array.from(m.keys()).filter(T=>!x.includes(T));if(B.forEach(T=>m.delete(T)),p.current=c.filter(T=>{const I=Vc(T);return I===b||B.includes(I)}),!f.size){if(l.current===!1)return;a(),r&&r()}};M=P.createElement(SA,{key:Vc(S),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},S),f.set(b,M)}u.splice(E,0,M)}),u=u.map(_=>{const b=_.key;return f.has(b)?_:P.createElement(SA,{key:Vc(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),P.createElement(P.Fragment,null,f.size?u:u.map(_=>P.cloneElement(_)))},AA={type:"spring",duration:.8},Fwe=n=>({initial:{x:n==="left"?-100:n==="right"?100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0,transition:{...AA,delay:.5}},animate:{x:0,y:0,opacity:1,transition:{...AA,delay:0}},exit:{x:n==="left"?-100:n==="right"?100:0,y:n==="up"?100:n==="down"?-100:0,transition:{...AA,delay:0}}}),gF=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>e(r.result),r.readAsDataURL(n)}),Uwe=n=>{const e=n.replace("#",""),t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return(t*299+r*587+i*114)/1e3>128?"black":"white"},Bm=({type:n,title:e,customStyles:t,style:r,handleClick:i,disabled:s})=>{const o=vi(it),a=l=>{if(l==="filled")return{backgroundColor:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"],color:Uwe(o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"])};if(l==="outline")return{borderWidth:"1px",borderColor:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"],color:o.color[o.selectedApparel.includes("shirt")?"shirt":"hoodie"]}};return K("button",{className:`px-2 py-1.5 flex-1 rounded-md ${t}`,style:{...a(n),...r},onClick:i,disabled:s,children:e})},Hwe=({prompt:n,setPrompt:e,generatingImg:t,handleSubmit:r})=>Qe("div",{className:"aipicker-container",children:[K("textarea",{placeholder:"Ask AI...",rows:5,value:n,onChange:i=>e(i.target.value),className:"aipicker-textarea"}),K("div",{className:"flex flex-wrap gap-3",children:t?K(Bm,{type:"outline",title:"Asking AI...",customStyles:"text-xs"}):Qe(Pa,{children:[K(Bm,{type:"outline",title:"AI Logo",handleClick:()=>r("logo"),customStyles:"text-xs"}),K(Bm,{type:"filled",title:"AI Full",handleClick:()=>r("full"),customStyles:"text-xs"})]})})]});var ps={},f0={},zwe=jV,Gwe=bhe;function Vwe(n,e){return n&&zwe(n,Gwe(e))}var cI=Vwe,$we=Gu,Wwe=xP,jwe=Ka,Jwe="[object Object]",Kwe=Function.prototype,Xwe=Object.prototype,y8=Kwe.toString,Ywe=Xwe.hasOwnProperty,Qwe=y8.call(Object);function qwe(n){if(!jwe(n)||$we(n)!=Jwe)return!1;var e=Wwe(n);if(e===null)return!0;var t=Ywe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&y8.call(t)==Qwe}var Zwe=qwe;Object.defineProperty(f0,"__esModule",{value:!0});f0.flattenNames=void 0;var eSe=Fge,tSe=q1(eSe),nSe=cI,rSe=q1(nSe),iSe=Zwe,sSe=q1(iSe),oSe=mhe,aSe=q1(oSe);function q1(n){return n&&n.__esModule?n:{default:n}}var lSe=f0.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,aSe.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,sSe.default)(r)?(0,rSe.default)(r,function(i,s){i===!0&&t.push(s),t.push(s+"-"+i)}):(0,tSe.default)(r)&&t.push(r)}),t};f0.default=lSe;var d0={},cSe=Bge,uSe=1,fSe=4;function dSe(n){return cSe(n,uSe|fSe)}var hSe=dSe;Object.defineProperty(d0,"__esModule",{value:!0});d0.mergeClasses=void 0;var pSe=cI,mSe=v8(pSe),gSe=hSe,ySe=v8(gSe),vSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function v8(n){return n&&n.__esModule?n:{default:n}}var xSe=d0.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,ySe.default)(e.default)||{};return t.map(function(i){var s=e[i];return s&&(0,mSe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=vSe({},r[a],s[a])}),i}),r};d0.default=xSe;var h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.autoprefix=void 0;var bSe=cI,yF=wSe(bSe),_Se=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function wSe(n){return n&&n.__esModule?n:{default:n}}var SSe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},ASe=h0.autoprefix=function(e){var t={};return(0,yF.default)(e,function(r,i){var s={};(0,yF.default)(r,function(o,a){var l=SSe[a];l?s=_Se({},s,l(o)):s[a]=o}),t[i]=s}),t};h0.default=ASe;var p0={};Object.defineProperty(p0,"__esModule",{value:!0});p0.hover=void 0;var ESe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MSe=P,EA=CSe(MSe);function CSe(n){return n&&n.__esModule?n:{default:n}}function TSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function RSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var PSe=p0.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){RSe(i,r);function i(){var s,o,a,l;TSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=vF(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return EA.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},EA.default.createElement(e,ESe({},a.props,a.state)))},o),vF(a,l)}return i}(EA.default.Component)};p0.default=PSe;var m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.active=void 0;var ISe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BSe=P,MA=LSe(BSe);function LSe(n){return n&&n.__esModule?n:{default:n}}function DSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function OSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var kSe=m0.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){OSe(i,r);function i(){var s,o,a,l;DSe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=xF(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return MA.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},MA.default.createElement(e,ISe({},a.props,a.state)))},o),xF(a,l)}return i}(MA.default.Component)};m0.default=kSe;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});var NSe=function(e,t){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};uI.default=NSe;Object.defineProperty(ps,"__esModule",{value:!0});ps.ReactCSS=ps.loop=ps.handleActive=fI=ps.handleHover=ps.hover=void 0;var FSe=f0,USe=Vh(FSe),HSe=d0,zSe=Vh(HSe),GSe=h0,VSe=Vh(GSe),$Se=p0,x8=Vh($Se),WSe=m0,jSe=Vh(WSe),JSe=uI,KSe=Vh(JSe);function Vh(n){return n&&n.__esModule?n:{default:n}}ps.hover=x8.default;var fI=ps.handleHover=x8.default;ps.handleActive=jSe.default;ps.loop=KSe.default;var XSe=ps.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=(0,USe.default)(r),o=(0,zSe.default)(e,s);return(0,VSe.default)(o)},gt=ps.default=XSe,YSe=function(e,t,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,t.a!==p)return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}else{var m=void 0;if(u<0?m=0:u>o?m=1:m=Math.round(u*100/o)/100,i!==m)return{h:t.h,s:t.s,l:t.l,a:m,source:"rgb"}}return null},CA={},QSe=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},qSe=function(e,t,r,i){var s=e+"-"+t+"-"+r+(i?"-server":"");if(CA[s])return CA[s];var o=QSe(e,t,r,i);return CA[s]=o,o},bF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$h=function(e){var t=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=gt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+qSe(t,r,i,s.canvas)+") center left"}}});return P.isValidElement(l)?D.cloneElement(l,bF({},l.props,{style:bF({},l.props.style,c.grid)})):D.createElement("div",{style:c.grid})};$h.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ZSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eAe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function tAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _F(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function nAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var dI=function(n){nAe(e,n);function e(){var t,r,i,s;tAe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=_F(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var u=YSe(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),_F(i,s)}return eAe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=gt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:ZSe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return D.createElement("div",{style:s.alpha},D.createElement("div",{style:s.checkboard},D.createElement($h,{renderers:this.props.renderers})),D.createElement("div",{style:s.gradient}),D.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("div",{style:s.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:s.slider}))))}}]),e}(P.PureComponent||P.Component),rAe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function iAe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oAe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function aAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var lAe=1,b8=38,cAe=40,uAe=[b8,cAe],fAe=function(e){return uAe.indexOf(e)>-1},dAe=function(e){return Number(String(e).replace(/%/g,""))},hAe=1,Ft=function(n){aAe(e,n);function e(t){sAe(this,e);var r=oAe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=dAe(i.target.value);if(!isNaN(s)&&fAe(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===b8?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+hAe++,r}return rAe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return iAe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||lAe}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=gt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return D.createElement("div",{style:i.wrap},D.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?D.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(P.PureComponent||P.Component),pAe=function(e,t,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var f=void 0;if(u<0)f=359;else if(u>o)f=0;else{var p=-(u*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var y=c*100/s;m=360*y/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},mAe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function gAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function yAe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Wh=function(n){yAe(e,n);function e(){var t,r,i,s;gAe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=wF(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(c){var u=pAe(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),wF(i,s)}return mAe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=gt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return D.createElement("div",{style:o.hue},D.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),D.createElement("div",{style:o.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:o.slider}))))}}]),e}(P.PureComponent||P.Component);function vAe(){this.__data__=[],this.size=0}function g0(n,e){return n===e||n!==n&&e!==e}function Z1(n,e){for(var t=n.length;t--;)if(g0(n[t][0],e))return t;return-1}var xAe=Array.prototype,bAe=xAe.splice;function _Ae(n){var e=this.__data__,t=Z1(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():bAe.call(e,t,1),--this.size,!0}function wAe(n){var e=this.__data__,t=Z1(e,n);return t<0?void 0:e[t][1]}function SAe(n){return Z1(this.__data__,n)>-1}function AAe(n,e){var t=this.__data__,r=Z1(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Xa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Xa.prototype.clear=vAe;Xa.prototype.delete=_Ae;Xa.prototype.get=wAe;Xa.prototype.has=SAe;Xa.prototype.set=AAe;function EAe(){this.__data__=new Xa,this.size=0}function MAe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function CAe(n){return this.__data__.get(n)}function TAe(n){return this.__data__.has(n)}var RAe=typeof global=="object"&&global&&global.Object===Object&&global;const _8=RAe;var PAe=typeof self=="object"&&self&&self.Object===Object&&self,IAe=_8||PAe||Function("return this")();const lo=IAe;var BAe=lo.Symbol;const ec=BAe;var w8=Object.prototype,LAe=w8.hasOwnProperty,DAe=w8.toString,Kp=ec?ec.toStringTag:void 0;function OAe(n){var e=LAe.call(n,Kp),t=n[Kp];try{n[Kp]=void 0;var r=!0}catch{}var i=DAe.call(n);return r&&(e?n[Kp]=t:delete n[Kp]),i}var kAe=Object.prototype,NAe=kAe.toString;function FAe(n){return NAe.call(n)}var UAe="[object Null]",HAe="[object Undefined]",SF=ec?ec.toStringTag:void 0;function ju(n){return n==null?n===void 0?HAe:UAe:SF&&SF in Object(n)?OAe(n):FAe(n)}function As(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var zAe="[object AsyncFunction]",GAe="[object Function]",VAe="[object GeneratorFunction]",$Ae="[object Proxy]";function hI(n){if(!As(n))return!1;var e=ju(n);return e==GAe||e==VAe||e==zAe||e==$Ae}var WAe=lo["__core-js_shared__"];const TA=WAe;var AF=function(){var n=/[^.]+$/.exec(TA&&TA.keys&&TA.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function jAe(n){return!!AF&&AF in n}var JAe=Function.prototype,KAe=JAe.toString;function Ju(n){if(n!=null){try{return KAe.call(n)}catch{}try{return n+""}catch{}}return""}var XAe=/[\\^$.*+?()[\]{}|]/g,YAe=/^\[object .+?Constructor\]$/,QAe=Function.prototype,qAe=Object.prototype,ZAe=QAe.toString,eEe=qAe.hasOwnProperty,tEe=RegExp("^"+ZAe.call(eEe).replace(XAe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nEe(n){if(!As(n)||jAe(n))return!1;var e=hI(n)?tEe:YAe;return e.test(Ju(n))}function rEe(n,e){return n==null?void 0:n[e]}function Ku(n,e){var t=rEe(n,e);return nEe(t)?t:void 0}var iEe=Ku(lo,"Map");const _g=iEe;var sEe=Ku(Object,"create");const wg=sEe;function oEe(){this.__data__=wg?wg(null):{},this.size=0}function aEe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var lEe="__lodash_hash_undefined__",cEe=Object.prototype,uEe=cEe.hasOwnProperty;function fEe(n){var e=this.__data__;if(wg){var t=e[n];return t===lEe?void 0:t}return uEe.call(e,n)?e[n]:void 0}var dEe=Object.prototype,hEe=dEe.hasOwnProperty;function pEe(n){var e=this.__data__;return wg?e[n]!==void 0:hEe.call(e,n)}var mEe="__lodash_hash_undefined__";function gEe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=wg&&e===void 0?mEe:e,this}function Tu(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Tu.prototype.clear=oEe;Tu.prototype.delete=aEe;Tu.prototype.get=fEe;Tu.prototype.has=pEe;Tu.prototype.set=gEe;function yEe(){this.size=0,this.__data__={hash:new Tu,map:new(_g||Xa),string:new Tu}}function vEe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function e_(n,e){var t=n.__data__;return vEe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function xEe(n){var e=e_(this,n).delete(n);return this.size-=e?1:0,e}function bEe(n){return e_(this,n).get(n)}function _Ee(n){return e_(this,n).has(n)}function wEe(n,e){var t=e_(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Ya(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ya.prototype.clear=yEe;Ya.prototype.delete=xEe;Ya.prototype.get=bEe;Ya.prototype.has=_Ee;Ya.prototype.set=wEe;var SEe=200;function AEe(n,e){var t=this.__data__;if(t instanceof Xa){var r=t.__data__;if(!_g||r.length<SEe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ya(r)}return t.set(n,e),this.size=t.size,this}function Io(n){var e=this.__data__=new Xa(n);this.size=e.size}Io.prototype.clear=EAe;Io.prototype.delete=MAe;Io.prototype.get=CAe;Io.prototype.has=TAe;Io.prototype.set=AEe;var EEe=function(){try{var n=Ku(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Cb=EEe;function pI(n,e,t){e=="__proto__"&&Cb?Cb(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function _C(n,e,t){(t!==void 0&&!g0(n[e],t)||t===void 0&&!(e in n))&&pI(n,e,t)}function MEe(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var CEe=MEe();const S8=CEe;var A8=typeof ki=="object"&&ki&&!ki.nodeType&&ki,EF=A8&&typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,TEe=EF&&EF.exports===A8,MF=TEe?lo.Buffer:void 0,CF=MF?MF.allocUnsafe:void 0;function REe(n,e){if(e)return n.slice();var t=n.length,r=CF?CF(t):new n.constructor(t);return n.copy(r),r}var PEe=lo.Uint8Array;const Tb=PEe;function IEe(n){var e=new n.constructor(n.byteLength);return new Tb(e).set(new Tb(n)),e}function BEe(n,e){var t=e?IEe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function LEe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var TF=Object.create,DEe=function(){function n(){}return function(e){if(!As(e))return{};if(TF)return TF(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const OEe=DEe;function E8(n,e){return function(t){return n(e(t))}}var kEe=E8(Object.getPrototypeOf,Object);const M8=kEe;var NEe=Object.prototype;function mI(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||NEe;return n===t}function FEe(n){return typeof n.constructor=="function"&&!mI(n)?OEe(M8(n)):{}}function tc(n){return n!=null&&typeof n=="object"}var UEe="[object Arguments]";function RF(n){return tc(n)&&ju(n)==UEe}var C8=Object.prototype,HEe=C8.hasOwnProperty,zEe=C8.propertyIsEnumerable,GEe=RF(function(){return arguments}())?RF:function(n){return tc(n)&&HEe.call(n,"callee")&&!zEe.call(n,"callee")};const Rb=GEe;var VEe=Array.isArray;const Ki=VEe;var $Ee=9007199254740991;function gI(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=$Ee}function jh(n){return n!=null&&gI(n.length)&&!hI(n)}function WEe(n){return tc(n)&&jh(n)}function jEe(){return!1}var T8=typeof ki=="object"&&ki&&!ki.nodeType&&ki,PF=T8&&typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,JEe=PF&&PF.exports===T8,IF=JEe?lo.Buffer:void 0,KEe=IF?IF.isBuffer:void 0,XEe=KEe||jEe;const Pb=XEe;var YEe="[object Object]",QEe=Function.prototype,qEe=Object.prototype,R8=QEe.toString,ZEe=qEe.hasOwnProperty,eMe=R8.call(Object);function tMe(n){if(!tc(n)||ju(n)!=YEe)return!1;var e=M8(n);if(e===null)return!0;var t=ZEe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&R8.call(t)==eMe}var nMe="[object Arguments]",rMe="[object Array]",iMe="[object Boolean]",sMe="[object Date]",oMe="[object Error]",aMe="[object Function]",lMe="[object Map]",cMe="[object Number]",uMe="[object Object]",fMe="[object RegExp]",dMe="[object Set]",hMe="[object String]",pMe="[object WeakMap]",mMe="[object ArrayBuffer]",gMe="[object DataView]",yMe="[object Float32Array]",vMe="[object Float64Array]",xMe="[object Int8Array]",bMe="[object Int16Array]",_Me="[object Int32Array]",wMe="[object Uint8Array]",SMe="[object Uint8ClampedArray]",AMe="[object Uint16Array]",EMe="[object Uint32Array]",mn={};mn[yMe]=mn[vMe]=mn[xMe]=mn[bMe]=mn[_Me]=mn[wMe]=mn[SMe]=mn[AMe]=mn[EMe]=!0;mn[nMe]=mn[rMe]=mn[mMe]=mn[iMe]=mn[gMe]=mn[sMe]=mn[oMe]=mn[aMe]=mn[lMe]=mn[cMe]=mn[uMe]=mn[fMe]=mn[dMe]=mn[hMe]=mn[pMe]=!1;function MMe(n){return tc(n)&&gI(n.length)&&!!mn[ju(n)]}function CMe(n){return function(e){return n(e)}}var P8=typeof ki=="object"&&ki&&!ki.nodeType&&ki,Lm=P8&&typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,TMe=Lm&&Lm.exports===P8,RA=TMe&&_8.process,RMe=function(){try{var n=Lm&&Lm.require&&Lm.require("util").types;return n||RA&&RA.binding&&RA.binding("util")}catch{}}();const BF=RMe;var LF=BF&&BF.isTypedArray,PMe=LF?CMe(LF):MMe;const yI=PMe;function wC(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var IMe=Object.prototype,BMe=IMe.hasOwnProperty;function LMe(n,e,t){var r=n[e];(!(BMe.call(n,e)&&g0(r,t))||t===void 0&&!(e in n))&&pI(n,e,t)}function DMe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?pI(t,a,l):LMe(t,a,l)}return t}function OMe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var kMe=9007199254740991,NMe=/^(?:0|[1-9]\d*)$/;function vI(n,e){var t=typeof n;return e=e??kMe,!!e&&(t=="number"||t!="symbol"&&NMe.test(n))&&n>-1&&n%1==0&&n<e}var FMe=Object.prototype,UMe=FMe.hasOwnProperty;function I8(n,e){var t=Ki(n),r=!t&&Rb(n),i=!t&&!r&&Pb(n),s=!t&&!r&&!i&&yI(n),o=t||r||i||s,a=o?OMe(n.length,String):[],l=a.length;for(var c in n)(e||UMe.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||vI(c,l)))&&a.push(c);return a}function HMe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var zMe=Object.prototype,GMe=zMe.hasOwnProperty;function VMe(n){if(!As(n))return HMe(n);var e=mI(n),t=[];for(var r in n)r=="constructor"&&(e||!GMe.call(n,r))||t.push(r);return t}function B8(n){return jh(n)?I8(n,!0):VMe(n)}function $Me(n){return DMe(n,B8(n))}function WMe(n,e,t,r,i,s,o){var a=wC(n,t),l=wC(e,t),c=o.get(l);if(c){_C(n,t,c);return}var u=s?s(a,l,t+"",n,e,o):void 0,f=u===void 0;if(f){var p=Ki(l),m=!p&&Pb(l),y=!p&&!m&&yI(l);u=l,p||m||y?Ki(a)?u=a:WEe(a)?u=LEe(a):m?(f=!1,u=REe(l,!0)):y?(f=!1,u=BEe(l,!0)):u=[]:tMe(l)||Rb(l)?(u=a,Rb(a)?u=$Me(a):(!As(a)||hI(a))&&(u=FEe(l))):f=!1}f&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),_C(n,t,u)}function L8(n,e,t,r,i){n!==e&&S8(e,function(s,o){if(i||(i=new Io),As(s))WMe(n,e,o,t,L8,r,i);else{var a=r?r(wC(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),_C(n,o,a)}},B8)}function t_(n){return n}function jMe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var DF=Math.max;function JMe(n,e,t){return e=DF(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=DF(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),jMe(n,this,a)}}function KMe(n){return function(){return n}}var XMe=Cb?function(n,e){return Cb(n,"toString",{configurable:!0,enumerable:!1,value:KMe(e),writable:!0})}:t_;const YMe=XMe;var QMe=800,qMe=16,ZMe=Date.now;function eCe(n){var e=0,t=0;return function(){var r=ZMe(),i=qMe-(r-t);if(t=r,i>0){if(++e>=QMe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var tCe=eCe(YMe);const nCe=tCe;function rCe(n,e){return nCe(JMe(n,e,t_),n+"")}function iCe(n,e,t){if(!As(t))return!1;var r=typeof e;return(r=="number"?jh(t)&&vI(e,t.length):r=="string"&&e in t)?g0(t[e],n):!1}function sCe(n){return rCe(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&iCe(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}var oCe=sCe(function(n,e,t){L8(n,e,t)});const xi=oCe;var y0=function(e){var t=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=gt(xi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return D.createElement("div",{style:l.wrap},D.createElement("div",{style:l.bg}),D.createElement("div",{style:l.content},s))};y0.propTypes={background:ne.string,zDepth:ne.oneOf([0,1,2,3,4,5]),radius:ne.number,styles:ne.object};y0.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var aCe=function(){return lo.Date.now()};const PA=aCe;var lCe=/\s/;function cCe(n){for(var e=n.length;e--&&lCe.test(n.charAt(e)););return e}var uCe=/^\s+/;function fCe(n){return n&&n.slice(0,cCe(n)+1).replace(uCe,"")}var dCe="[object Symbol]";function n_(n){return typeof n=="symbol"||tc(n)&&ju(n)==dCe}var OF=0/0,hCe=/^[-+]0x[0-9a-f]+$/i,pCe=/^0b[01]+$/i,mCe=/^0o[0-7]+$/i,gCe=parseInt;function kF(n){if(typeof n=="number")return n;if(n_(n))return OF;if(As(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=As(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=fCe(n);var t=pCe.test(n);return t||mCe.test(n)?gCe(n.slice(2),t?2:8):hCe.test(n)?OF:+n}var yCe="Expected a function",vCe=Math.max,xCe=Math.min;function D8(n,e,t){var r,i,s,o,a,l,c=0,u=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(yCe);e=kF(e)||0,As(t)&&(u=!!t.leading,f="maxWait"in t,s=f?vCe(kF(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(M){var R=r,B=i;return r=i=void 0,c=M,o=n.apply(B,R),o}function y(M){return c=M,a=setTimeout(g,e),u?m(M):o}function v(M){var R=M-l,B=M-c,T=e-R;return f?xCe(T,s-B):T}function x(M){var R=M-l,B=M-c;return l===void 0||R>=e||R<0||f&&B>=s}function g(){var M=PA();if(x(M))return _(M);a=setTimeout(g,v(M))}function _(M){return a=void 0,p&&r?m(M):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:_(PA())}function E(){var M=PA(),R=x(M);if(r=arguments,i=this,l=M,R){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return E.cancel=b,E.flush=S,E}var bCe="Expected a function";function _Ce(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(bCe);return As(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),D8(n,e,{leading:r,maxWait:e,trailing:i})}var wCe=function(e,t,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),u<0?u=0:u>o&&(u=o);var f=c/s,p=1-u/o;return{h:t.h,s:f,v:p,a:t.a,source:"hsv"}},SCe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function ACe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ECe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function MCe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var r_=function(n){MCe(e,n);function e(t){ACe(this,e);var r=ECe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,wCe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=_Ce(function(i,s,o){i(s,o)},50),r}return SCe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,u=gt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return D.createElement("div",{style:u.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),D.createElement("div",{style:u.white,className:"saturation-white"},D.createElement("div",{style:u.black,className:"saturation-black"}),D.createElement("div",{style:u.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:u.circle}))))}}]),e}(P.PureComponent||P.Component);function CCe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var TCe=E8(Object.keys,Object);const RCe=TCe;var PCe=Object.prototype,ICe=PCe.hasOwnProperty;function BCe(n){if(!mI(n))return RCe(n);var e=[];for(var t in Object(n))ICe.call(n,t)&&t!="constructor"&&e.push(t);return e}function xI(n){return jh(n)?I8(n):BCe(n)}function LCe(n,e){return n&&S8(n,e,xI)}function DCe(n,e){return function(t,r){if(t==null)return t;if(!jh(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var OCe=DCe(LCe);const O8=OCe;function kCe(n){return typeof n=="function"?n:t_}function NCe(n,e){var t=Ki(n)?CCe:O8;return t(n,kCe(e))}function Ib(n){return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(n)}var FCe=/^\s+/,UCe=/\s+$/;function et(n,e){if(n=n||"",e=e||{},n instanceof et)return n;if(!(this instanceof et))return new et(n,e);var t=HCe(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}et.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,s,o,a;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=k8(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=FF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=FF(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=NF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=NF(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return UF(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return $Ce(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bn(this._r,255)*100)+"%",g:Math.round(bn(this._g,255)*100)+"%",b:Math.round(bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%)":"rgba("+Math.round(bn(this._r,255)*100)+"%, "+Math.round(bn(this._g,255)*100)+"%, "+Math.round(bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:nTe[UF(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+HF(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=et(e);r="#"+HF(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return et(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(KCe,arguments)},brighten:function(){return this._applyModification(XCe,arguments)},darken:function(){return this._applyModification(YCe,arguments)},desaturate:function(){return this._applyModification(WCe,arguments)},saturate:function(){return this._applyModification(jCe,arguments)},greyscale:function(){return this._applyModification(JCe,arguments)},spin:function(){return this._applyModification(QCe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(eTe,arguments)},complement:function(){return this._applyCombination(qCe,arguments)},monochromatic:function(){return this._applyCombination(tTe,arguments)},splitcomplement:function(){return this._applyCombination(ZCe,arguments)},triad:function(){return this._applyCombination(zF,[3])},tetrad:function(){return this._applyCombination(zF,[4])}};et.fromRatio=function(n,e){if(Ib(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=am(n[r]));n=t}return et(n,e)};function HCe(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=oTe(n)),Ib(n)=="object"&&(aa(n.r)&&aa(n.g)&&aa(n.b)?(e=zCe(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):aa(n.h)&&aa(n.s)&&aa(n.v)?(r=am(n.s),i=am(n.v),e=VCe(n.h,r,i),o=!0,a="hsv"):aa(n.h)&&aa(n.s)&&aa(n.l)&&(r=am(n.s),s=am(n.l),e=GCe(n.h,r,s),o=!0,a="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=k8(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function zCe(n,e,t){return{r:bn(n,255)*255,g:bn(e,255)*255,b:bn(t,255)*255}}function NF(n,e,t){n=bn(n,255),e=bn(e,255),t=bn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function GCe(n,e,t){var r,i,s;n=bn(n,360),e=bn(e,100),t=bn(t,100);function o(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)r=i=s=t;else{var a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=o(l,a,n+1/3),i=o(l,a,n),s=o(l,a,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function FF(n,e,t){n=bn(n,255),e=bn(e,255),t=bn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function VCe(n,e,t){n=bn(n,360)*6,e=bn(e,100),t=bn(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],f=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:f*255}}function UF(n,e,t,r){var i=[Ks(Math.round(n).toString(16)),Ks(Math.round(e).toString(16)),Ks(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function $Ce(n,e,t,r,i){var s=[Ks(Math.round(n).toString(16)),Ks(Math.round(e).toString(16)),Ks(Math.round(t).toString(16)),Ks(N8(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function HF(n,e,t,r){var i=[Ks(N8(r)),Ks(Math.round(n).toString(16)),Ks(Math.round(e).toString(16)),Ks(Math.round(t).toString(16))];return i.join("")}et.equals=function(n,e){return!n||!e?!1:et(n).toRgbString()==et(e).toRgbString()};et.random=function(){return et.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function WCe(n,e){e=e===0?0:e||10;var t=et(n).toHsl();return t.s-=e/100,t.s=i_(t.s),et(t)}function jCe(n,e){e=e===0?0:e||10;var t=et(n).toHsl();return t.s+=e/100,t.s=i_(t.s),et(t)}function JCe(n){return et(n).desaturate(100)}function KCe(n,e){e=e===0?0:e||10;var t=et(n).toHsl();return t.l+=e/100,t.l=i_(t.l),et(t)}function XCe(n,e){e=e===0?0:e||10;var t=et(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),et(t)}function YCe(n,e){e=e===0?0:e||10;var t=et(n).toHsl();return t.l-=e/100,t.l=i_(t.l),et(t)}function QCe(n,e){var t=et(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,et(t)}function qCe(n){var e=et(n).toHsl();return e.h=(e.h+180)%360,et(e)}function zF(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=et(n).toHsl(),r=[et(n)],i=360/e,s=1;s<e;s++)r.push(et({h:(t.h+s*i)%360,s:t.s,l:t.l}));return r}function ZCe(n){var e=et(n).toHsl(),t=e.h;return[et(n),et({h:(t+72)%360,s:e.s,l:e.l}),et({h:(t+216)%360,s:e.s,l:e.l})]}function eTe(n,e,t){e=e||6,t=t||30;var r=et(n).toHsl(),i=360/t,s=[et(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(et(r));return s}function tTe(n,e){e=e||6;for(var t=et(n).toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(et({h:r,s:i,v:s})),s=(s+a)%1;return o}et.mix=function(n,e,t){t=t===0?0:t||50;var r=et(n).toRgb(),i=et(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return et(o)};et.readability=function(n,e){var t=et(n),r=et(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};et.isReadable=function(n,e,t){var r=et.readability(n,e),i,s;switch(s=!1,i=aTe(t),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};et.mostReadable=function(n,e,t){var r=null,i=0,s,o,a,l;t=t||{},o=t.includeFallbackColors,a=t.level,l=t.size;for(var c=0;c<e.length;c++)s=et.readability(n,e[c]),s>i&&(i=s,r=et(e[c]));return et.isReadable(n,r,{level:a,size:l})||!o?r:(t.includeFallbackColors=!1,et.mostReadable(n,["#fff","#000"],t))};var SC=et.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nTe=et.hexNames=rTe(SC);function rTe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function k8(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function bn(n,e){iTe(n)&&(n="100%");var t=sTe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function i_(n){return Math.min(1,Math.max(0,n))}function Ri(n){return parseInt(n,16)}function iTe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function sTe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Ks(n){return n.length==1?"0"+n:""+n}function am(n){return n<=1&&(n=n*100+"%"),n}function N8(n){return Math.round(parseFloat(n)*255).toString(16)}function GF(n){return Ri(n)/255}var Hs=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function aa(n){return!!Hs.CSS_UNIT.exec(n)}function oTe(n){n=n.replace(FCe,"").replace(UCe,"").toLowerCase();var e=!1;if(SC[n])n=SC[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=Hs.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=Hs.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Hs.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Hs.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Hs.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Hs.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Hs.hex8.exec(n))?{r:Ri(t[1]),g:Ri(t[2]),b:Ri(t[3]),a:GF(t[4]),format:e?"name":"hex8"}:(t=Hs.hex6.exec(n))?{r:Ri(t[1]),g:Ri(t[2]),b:Ri(t[3]),format:e?"name":"hex"}:(t=Hs.hex4.exec(n))?{r:Ri(t[1]+""+t[1]),g:Ri(t[2]+""+t[2]),b:Ri(t[3]+""+t[3]),a:GF(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=Hs.hex3.exec(n))?{r:Ri(t[1]+""+t[1]),g:Ri(t[2]+""+t[2]),b:Ri(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function aTe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var VF=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return NCe(t,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},lm=function(e,t){var r=e.hex?et(e.hex):et(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,s.h=t||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||t||i.h,source:e.source}},dc=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&et(e).isValid()},bI=function(e){if(!e)return"#fff";var t=lm(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},IA=function(e,t){var r=e.replace("°","");return et(t+" ("+r+")")._ok},Xp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lTe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function cTe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uTe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function fTe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var bi=function(e){var t=function(r){fTe(i,r);function i(s){cTe(this,i);var o=uTe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=VF(a);if(c){var u=lm(a,a.h||o.state.oldHue);o.setState(u),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,u,l),o.props.onChange&&o.props.onChange(u,l)}},o.handleSwatchHover=function(a,l){var c=VF(a);if(c){var u=lm(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(u,l)}},o.state=Xp({},lm(s.color,0)),o.debounce=D8(function(a,l,c){a(l,c)},100),o}return lTe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),D.createElement(e,Xp({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Xp({},lm(o.color,a.oldHue))}}]),i}(P.PureComponent||P.Component);return t.propTypes=Xp({},e.propTypes),t.defaultProps=Xp({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},dTe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hTe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function pTe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function mTe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var gTe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mTe(i,r);function i(){var s,o,a,l;pTe(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(o=(a=$F(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),$F(a,l)}return hTe(i,[{key:"render",value:function(){return D.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},D.createElement(e,dTe({},this.props,this.state)))}}]),i}(D.Component)},WF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yTe=13,vTe=function(e){var t=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?t:a,c=e.children,u=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=t==="transparent",y=gt({default:{swatch:WF({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?p:{})}}),v=function(S){return s(t,S)},x=function(S){return S.keyCode===yTe&&s(t,S)},g=function(S){return o(t,S)},_={};return o&&(_.onMouseOver=g),D.createElement("div",WF({style:y.swatch,onClick:v,title:l,tabIndex:0,onKeyDown:x},_),c,m&&D.createElement($h,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Xu=gTe(vTe);var xTe=function(e){var t=e.direction,r=gt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return D.createElement("div",{style:r.picker})},bTe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},F8=function(e){var t=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,p=f===void 0?"":f,m=gt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return D.createElement("div",{style:m.picker,className:"alpha-picker "+p},D.createElement(dI,bTe({},m.alpha,{rgb:t,hsl:r,pointer:u,renderers:c,onChange:o,direction:a})))};F8.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:xTe};bi(F8);function U8(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var _Te="__lodash_hash_undefined__";function wTe(n){return this.__data__.set(n,_Te),this}function STe(n){return this.__data__.has(n)}function Bb(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ya;++e<t;)this.add(n[e])}Bb.prototype.add=Bb.prototype.push=wTe;Bb.prototype.has=STe;function ATe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function ETe(n,e){return n.has(e)}var MTe=1,CTe=2;function H8(n,e,t,r,i,s){var o=t&MTe,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var f=-1,p=!0,m=t&CTe?new Bb:void 0;for(s.set(n,e),s.set(e,n);++f<a;){var y=n[f],v=e[f];if(r)var x=o?r(v,y,f,e,n,s):r(y,v,f,n,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!ATe(e,function(g,_){if(!ETe(m,_)&&(y===g||i(y,g,t,r,s)))return m.push(_)})){p=!1;break}}else if(!(y===v||i(y,v,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}function TTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function RTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var PTe=1,ITe=2,BTe="[object Boolean]",LTe="[object Date]",DTe="[object Error]",OTe="[object Map]",kTe="[object Number]",NTe="[object RegExp]",FTe="[object Set]",UTe="[object String]",HTe="[object Symbol]",zTe="[object ArrayBuffer]",GTe="[object DataView]",jF=ec?ec.prototype:void 0,BA=jF?jF.valueOf:void 0;function VTe(n,e,t,r,i,s,o){switch(t){case GTe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case zTe:return!(n.byteLength!=e.byteLength||!s(new Tb(n),new Tb(e)));case BTe:case LTe:case kTe:return g0(+n,+e);case DTe:return n.name==e.name&&n.message==e.message;case NTe:case UTe:return n==e+"";case OTe:var a=TTe;case FTe:var l=r&PTe;if(a||(a=RTe),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=ITe,o.set(n,e);var u=H8(a(n),a(e),r,i,s,o);return o.delete(n),u;case HTe:if(BA)return BA.call(n)==BA.call(e)}return!1}function $Te(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}function WTe(n,e,t){var r=e(n);return Ki(n)?r:$Te(r,t(n))}function jTe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function JTe(){return[]}var KTe=Object.prototype,XTe=KTe.propertyIsEnumerable,JF=Object.getOwnPropertySymbols,YTe=JF?function(n){return n==null?[]:(n=Object(n),jTe(JF(n),function(e){return XTe.call(n,e)}))}:JTe;const QTe=YTe;function KF(n){return WTe(n,xI,QTe)}var qTe=1,ZTe=Object.prototype,eRe=ZTe.hasOwnProperty;function tRe(n,e,t,r,i,s){var o=t&qTe,a=KF(n),l=a.length,c=KF(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:eRe.call(e,p)))return!1}var m=s.get(n),y=s.get(e);if(m&&y)return m==e&&y==n;var v=!0;s.set(n,e),s.set(e,n);for(var x=o;++f<l;){p=a[f];var g=n[p],_=e[p];if(r)var b=o?r(_,g,p,e,n,s):r(g,_,p,n,e,s);if(!(b===void 0?g===_||i(g,_,t,r,s):b)){v=!1;break}x||(x=p=="constructor")}if(v&&!x){var S=n.constructor,E=e.constructor;S!=E&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(v=!1)}return s.delete(n),s.delete(e),v}var nRe=Ku(lo,"DataView");const AC=nRe;var rRe=Ku(lo,"Promise");const EC=rRe;var iRe=Ku(lo,"Set");const MC=iRe;var sRe=Ku(lo,"WeakMap");const CC=sRe;var XF="[object Map]",oRe="[object Object]",YF="[object Promise]",QF="[object Set]",qF="[object WeakMap]",ZF="[object DataView]",aRe=Ju(AC),lRe=Ju(_g),cRe=Ju(EC),uRe=Ju(MC),fRe=Ju(CC),$c=ju;(AC&&$c(new AC(new ArrayBuffer(1)))!=ZF||_g&&$c(new _g)!=XF||EC&&$c(EC.resolve())!=YF||MC&&$c(new MC)!=QF||CC&&$c(new CC)!=qF)&&($c=function(n){var e=ju(n),t=e==oRe?n.constructor:void 0,r=t?Ju(t):"";if(r)switch(r){case aRe:return ZF;case lRe:return XF;case cRe:return YF;case uRe:return QF;case fRe:return qF}return e});const eU=$c;var dRe=1,tU="[object Arguments]",nU="[object Array]",Gv="[object Object]",hRe=Object.prototype,rU=hRe.hasOwnProperty;function pRe(n,e,t,r,i,s){var o=Ki(n),a=Ki(e),l=o?nU:eU(n),c=a?nU:eU(e);l=l==tU?Gv:l,c=c==tU?Gv:c;var u=l==Gv,f=c==Gv,p=l==c;if(p&&Pb(n)){if(!Pb(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new Io),o||yI(n)?H8(n,e,t,r,i,s):VTe(n,e,l,t,r,i,s);if(!(t&dRe)){var m=u&&rU.call(n,"__wrapped__"),y=f&&rU.call(e,"__wrapped__");if(m||y){var v=m?n.value():n,x=y?e.value():e;return s||(s=new Io),i(v,x,t,r,s)}}return p?(s||(s=new Io),tRe(n,e,t,r,i,s)):!1}function _I(n,e,t,r,i){return n===e?!0:n==null||e==null||!tc(n)&&!tc(e)?n!==n&&e!==e:pRe(n,e,t,r,_I,i)}var mRe=1,gRe=2;function yRe(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var f=new Io;if(r)var p=r(c,u,l,n,e,f);if(!(p===void 0?_I(u,c,mRe|gRe,r,f):p))return!1}}return!0}function z8(n){return n===n&&!As(n)}function vRe(n){for(var e=xI(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,z8(i)]}return e}function G8(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function xRe(n){var e=vRe(n);return e.length==1&&e[0][2]?G8(e[0][0],e[0][1]):function(t){return t===n||yRe(t,n,e)}}var bRe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Re=/^\w*$/;function wI(n,e){if(Ki(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||n_(n)?!0:_Re.test(n)||!bRe.test(n)||e!=null&&n in Object(e)}var wRe="Expected a function";function SI(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(wRe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(SI.Cache||Ya),t}SI.Cache=Ya;var SRe=500;function ARe(n){var e=SI(n,function(r){return t.size===SRe&&t.clear(),r}),t=e.cache;return e}var ERe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MRe=/\\(\\)?/g,CRe=ARe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(ERe,function(t,r,i,s){e.push(i?s.replace(MRe,"$1"):r||t)}),e});const TRe=CRe;var RRe=1/0,iU=ec?ec.prototype:void 0,sU=iU?iU.toString:void 0;function V8(n){if(typeof n=="string")return n;if(Ki(n))return U8(n,V8)+"";if(n_(n))return sU?sU.call(n):"";var e=n+"";return e=="0"&&1/n==-RRe?"-0":e}function PRe(n){return n==null?"":V8(n)}function $8(n,e){return Ki(n)?n:wI(n,e)?[n]:TRe(PRe(n))}var IRe=1/0;function s_(n){if(typeof n=="string"||n_(n))return n;var e=n+"";return e=="0"&&1/n==-IRe?"-0":e}function W8(n,e){e=$8(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[s_(e[t++])];return t&&t==r?n:void 0}function BRe(n,e,t){var r=n==null?void 0:W8(n,e);return r===void 0?t:r}function LRe(n,e){return n!=null&&e in Object(n)}function DRe(n,e,t){e=$8(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=s_(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&gI(i)&&vI(o,i)&&(Ki(n)||Rb(n)))}function ORe(n,e){return n!=null&&DRe(n,e,LRe)}var kRe=1,NRe=2;function FRe(n,e){return wI(n)&&z8(e)?G8(s_(n),e):function(t){var r=BRe(t,n);return r===void 0&&r===e?ORe(t,n):_I(e,r,kRe|NRe)}}function URe(n){return function(e){return e==null?void 0:e[n]}}function HRe(n){return function(e){return W8(e,n)}}function zRe(n){return wI(n)?URe(s_(n)):HRe(n)}function GRe(n){return typeof n=="function"?n:n==null?t_:typeof n=="object"?Ki(n)?FRe(n[0],n[1]):xRe(n):zRe(n)}function VRe(n,e){var t=-1,r=jh(n)?Array(n.length):[];return O8(n,function(i,s,o){r[++t]=e(i,s,o)}),r}function Yu(n,e){var t=Ki(n)?U8:VRe;return t(n,GRe(e))}var $Re=function(e){var t=e.colors,r=e.onClick,i=e.onSwatchHover,s=gt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return D.createElement("div",{style:s.swatches},Yu(t,function(o){return D.createElement(Xu,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),D.createElement("div",{style:s.clear}))},AI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=i==="transparent",m=function(x,g){dc(x)&&t({hex:x,source:"hex"},g)},y=gt(xi({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:bI(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return D.createElement("div",{style:y.card,className:"block-picker "+f},D.createElement("div",{style:y.triangle}),D.createElement("div",{style:y.head},p&&D.createElement($h,{borderRadius:"6px 6px 0 0"}),D.createElement("div",{style:y.label},i)),D.createElement("div",{style:y.body},D.createElement($Re,{colors:s,onClick:m,onSwatchHover:r}),D.createElement(Ft,{style:{input:y.input},value:i,onChange:m})))};AI.propTypes={width:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.string),triangle:ne.oneOf(["top","hide"]),styles:ne.object};AI.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};bi(AI);var Vf={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},$f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Wf={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},jf={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Jf={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Kf={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Xf={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Yf={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Qf={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},cm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},qf={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Zf={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ed={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},td={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},nd={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},rd={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},id={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},sd={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},j8=function(e){var t=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=gt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:o});return D.createElement("div",{style:c.swatch},D.createElement(Xu,{style:c.Swatch,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};j8.defaultProps={circleSize:28,circleSpacing:14};const WRe=fI(j8);var EI=function(e){var t=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=gt(xi({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),y=function(x,g){return r({hex:x,source:"hex"},g)};return D.createElement("div",{style:m.card,className:"circle-picker "+p},Yu(s,function(v){return D.createElement(WRe,{key:v,color:v,onClick:y,onSwatchHover:i,active:o===v.toLowerCase(),circleSize:a,circleSpacing:u})}))};EI.propTypes={width:ne.oneOfType([ne.string,ne.number]),circleSize:ne.number,circleSpacing:ne.number,styles:ne.object};EI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Vf[500],$f[500],Wf[500],jf[500],Jf[500],Kf[500],Xf[500],Yf[500],Qf[500],cm[500],qf[500],Zf[500],ed[500],td[500],nd[500],rd[500],id[500],sd[500]],styles:{}};const jRe=bi(EI);function oU(n){return n===void 0}var J8={};Object.defineProperty(J8,"__esModule",{value:!0});var aU=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JRe=P,lU=KRe(JRe);function KRe(n){return n&&n.__esModule?n:{default:n}}function XRe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var Vv=24,YRe=J8.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?Vv:r,s=n.height,o=s===void 0?Vv:s,a=n.style,l=a===void 0?{}:a,c=XRe(n,["fill","width","height","style"]);return lU.default.createElement("svg",aU({viewBox:"0 0 "+Vv+" "+Vv,style:aU({fill:t,width:i,height:o},l)},c),lU.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},QRe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function qRe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZRe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function ePe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var K8=function(n){ePe(e,n);function e(t){qRe(this,e);var r=ZRe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?dc(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(oU(i.s)?r.props.hsl.s:i.s),l:Number(oU(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return QRe(e,[{key:"render",value:function(){var r=this,i=gt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(Ft,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),D.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,D.createElement("div",{style:i.toggle},D.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},D.createElement(YRe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(D.Component);K8.defaultProps={view:"hex"};var cU=function(){var e=gt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},tPe=function(){var e=gt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return D.createElement("div",{style:e.picker})},MI=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,p=e.className,m=p===void 0?"":p,y=e.defaultView,v=gt(xi({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return D.createElement("div",{style:v.picker,className:"chrome-picker "+m},D.createElement("div",{style:v.saturation},D.createElement(r_,{style:v.Saturation,hsl:o,hsv:a,pointer:tPe,onChange:r})),D.createElement("div",{style:v.body},D.createElement("div",{style:v.controls,className:"flexbox-fix"},D.createElement("div",{style:v.color},D.createElement("div",{style:v.swatch},D.createElement("div",{style:v.active}),D.createElement($h,{renderers:c}))),D.createElement("div",{style:v.toggles},D.createElement("div",{style:v.hue},D.createElement(Wh,{style:v.Hue,hsl:o,pointer:cU,onChange:r})),D.createElement("div",{style:v.alpha},D.createElement(dI,{style:v.Alpha,rgb:s,hsl:o,pointer:cU,renderers:c,onChange:r})))),D.createElement(K8,{rgb:s,hsl:o,hex:l,view:y,onChange:r,disableAlpha:i})))};MI.propTypes={width:ne.oneOfType([ne.string,ne.number]),disableAlpha:ne.bool,styles:ne.object,defaultView:ne.oneOf(["hex","rgb","hsl"])};MI.defaultProps={width:225,disableAlpha:!1,styles:{}};bi(MI);var nPe=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=gt({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:bI(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return D.createElement(Xu,{style:a.color,color:t,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},D.createElement("div",{style:a.dot}))},rPe=function(e){var t=e.hex,r=e.rgb,i=e.onChange,s=gt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return D.createElement("div",{style:s.fields,className:"flexbox-fix"},D.createElement("div",{style:s.active}),D.createElement(Ft,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:o}),D.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),D.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),D.createElement(Ft,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},CI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=gt(xi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(y,v){y.hex?dc(y.hex)&&t({hex:y.hex,source:"hex"},v):t(y,v)};return D.createElement(y0,{style:f.Compact,styles:l},D.createElement("div",{style:f.compact,className:"compact-picker "+u},D.createElement("div",null,Yu(i,function(m){return D.createElement(nPe,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),D.createElement("div",{style:f.clear})),D.createElement(rPe,{hex:s,rgb:o,onChange:p})))};CI.propTypes={colors:ne.arrayOf(ne.string),styles:ne.object};CI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};bi(CI);var iPe=function(e){var t=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=gt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return D.createElement("div",{style:a.swatch},D.createElement(Xu,{color:r,onClick:i,onHover:s,focusStyle:o}))};const sPe=fI(iPe);var TI=function(e){var t=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=gt(xi({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(y,v){return i({hex:y,source:"hex"},v)};return D.createElement("div",{style:f.card,className:"github-picker "+u},D.createElement("div",{style:f.triangleShadow}),D.createElement("div",{style:f.triangle}),Yu(r,function(m){return D.createElement(sPe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};TI.propTypes={width:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.string),triangle:ne.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ne.object};TI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};bi(TI);var oPe=function(e){var t=e.direction,r=gt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:t==="vertical"});return D.createElement("div",{style:r.picker})},aPe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RI=function(e){var t=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=gt(xi({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},c)),m=function(v){return i({a:1,h:v.h,l:.5,s:1})};return D.createElement("div",{style:p.picker,className:"hue-picker "+f},D.createElement(Wh,aPe({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};RI.propTypes={styles:ne.object};RI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:oPe,styles:{}};bi(RI);var lPe=function(e){var t=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=gt(xi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(p,m){p.hex?dc(p.hex)&&t({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&t({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return D.createElement(y0,{styles:o},D.createElement("div",{style:c.material,className:"material-picker "+l},D.createElement(Ft,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),D.createElement("div",{style:c.split,className:"flexbox-fix"},D.createElement("div",{style:c.third},D.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),D.createElement("div",{style:c.third},D.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),D.createElement("div",{style:c.third},D.createElement(Ft,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};bi(lPe);var cPe=function(e){var t=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=gt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?dc(c["#"])&&t({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?t({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&t({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return D.createElement("div",{style:o.fields},D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),D.createElement(Ft,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(Ft,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),D.createElement("div",{style:o.fieldSymbols},D.createElement("div",{style:o.symbol},"°"),D.createElement("div",{style:o.symbol},"%"),D.createElement("div",{style:o.symbol},"%")))},uPe=function(e){var t=e.hsl,r=gt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return D.createElement("div",{style:r.picker})},fPe=function(){var e=gt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return D.createElement("div",{style:e.pointer},D.createElement("div",{style:e.left},D.createElement("div",{style:e.leftInside})),D.createElement("div",{style:e.right},D.createElement("div",{style:e.rightInside})))},uU=function(e){var t=e.onClick,r=e.label,i=e.children,s=e.active,o=gt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return D.createElement("div",{style:o.button,onClick:t},r||i)},dPe=function(e){var t=e.rgb,r=e.currentColor,i=gt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return D.createElement("div",null,D.createElement("div",{style:i.label},"new"),D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.new}),D.createElement("div",{style:i.current})),D.createElement("div",{style:i.label},"current"))},hPe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function pPe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mPe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function gPe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var PI=function(n){gPe(e,n);function e(t){pPe(this,e);var r=mPe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:t.hex},r}return hPe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=gt(xi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return D.createElement("div",{style:l.picker,className:"photoshop-picker "+a},D.createElement("div",{style:l.head},this.props.header),D.createElement("div",{style:l.body,className:"flexbox-fix"},D.createElement("div",{style:l.saturation},D.createElement(r_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:uPe,onChange:this.props.onChange})),D.createElement("div",{style:l.hue},D.createElement(Wh,{direction:"vertical",hsl:this.props.hsl,pointer:fPe,onChange:this.props.onChange})),D.createElement("div",{style:l.controls},D.createElement("div",{style:l.top,className:"flexbox-fix"},D.createElement("div",{style:l.previews},D.createElement(dPe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),D.createElement("div",{style:l.actions},D.createElement(uU,{label:"OK",onClick:this.props.onAccept,active:!0}),D.createElement(uU,{label:"Cancel",onClick:this.props.onCancel}),D.createElement(cPe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(D.Component);PI.propTypes={header:ne.string,styles:ne.object};PI.defaultProps={header:"Color Picker",styles:{}};bi(PI);var yPe=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=gt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(u,f){u.hex?dc(u.hex)&&t({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?t({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,t({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return D.createElement("div",{style:a.fields,className:"flexbox-fix"},D.createElement("div",{style:a.double},D.createElement(Ft,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),D.createElement("div",{style:a.single},D.createElement(Ft,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(Ft,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(Ft,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.alpha},D.createElement(Ft,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},vPe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X8=function(e){var t=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=gt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return D.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return D.createElement("div",{key:u,style:o.swatchWrap},D.createElement(Xu,vPe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};X8.propTypes={colors:ne.arrayOf(ne.oneOfType([ne.string,ne.shape({color:ne.string,title:ne.string})])).isRequired};var xPe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},II=function(e){var t=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,y=e.className,v=y===void 0?"":y,x=gt(xi({default:xPe({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return D.createElement("div",{style:x.picker,className:"sketch-picker "+v},D.createElement("div",{style:x.saturation},D.createElement(r_,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),D.createElement("div",{style:x.controls,className:"flexbox-fix"},D.createElement("div",{style:x.sliders},D.createElement("div",{style:x.hue},D.createElement(Wh,{style:x.Hue,hsl:o,onChange:a})),D.createElement("div",{style:x.alpha},D.createElement(dI,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),D.createElement("div",{style:x.color},D.createElement($h,null),D.createElement("div",{style:x.activeColor}))),D.createElement(yPe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),D.createElement(X8,{colors:u,onClick:a,onSwatchHover:l}))};II.propTypes={disableAlpha:ne.bool,width:ne.oneOfType([ne.string,ne.number]),styles:ne.object};II.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};bi(II);var Yp=function(e){var t=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=gt({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),u=function(p){return s({h:t.h,s:.5,l:r,source:"hsl"},p)};return D.createElement("div",{style:c.swatch,onClick:u})},bPe=function(e){var t=e.onClick,r=e.hsl,i=gt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.swatch},D.createElement(Yp,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:t,first:!0})),D.createElement("div",{style:i.swatch},D.createElement(Yp,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(Yp,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(Yp,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:t})),D.createElement("div",{style:i.swatch},D.createElement(Yp,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:t,last:!0})),D.createElement("div",{style:i.clear}))},_Pe=function(){var e=gt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},BI=function(e){var t=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=gt(xi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return D.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},D.createElement("div",{style:c.hue},D.createElement(Wh,{style:c.Hue,hsl:t,pointer:i,onChange:r})),D.createElement("div",{style:c.swatches},D.createElement(bPe,{hsl:t,onClick:r})))};BI.propTypes={styles:ne.object};BI.defaultProps={pointer:_Pe,styles:{}};bi(BI);var Y8={};Object.defineProperty(Y8,"__esModule",{value:!0});var fU=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wPe=P,dU=SPe(wPe);function SPe(n){return n&&n.__esModule?n:{default:n}}function APe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var $v=24,EPe=Y8.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?$v:r,s=n.height,o=s===void 0?$v:s,a=n.style,l=a===void 0?{}:a,c=APe(n,["fill","width","height","style"]);return dU.default.createElement("svg",fU({viewBox:"0 0 "+$v+" "+$v,style:fU({fill:t,width:i,height:o},l)},c),dU.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},MPe=function(e){var t=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=gt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:bI(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":t==="#FFFFFF",transparent:t==="transparent"});return D.createElement(Xu,{color:t,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+t}},D.createElement("div",{style:c.check},D.createElement(EPe,null)))},CPe=function(e){var t=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=gt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return D.createElement("div",{style:o.group},Yu(i,function(a,l){return D.createElement(MPe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:t,onSwatchHover:r})}))},LI=function(e){var t=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=gt(xi({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(v,x){return i({hex:v,source:"hex"},x)};return D.createElement("div",{style:p.picker,className:"swatches-picker "+f},D.createElement(y0,null,D.createElement("div",{style:p.overflow},D.createElement("div",{style:p.body},Yu(o,function(y){return D.createElement(CPe,{key:y.toString(),group:y,active:a,onClick:m,onSwatchHover:s})}),D.createElement("div",{style:p.clear})))))};LI.propTypes={width:ne.oneOfType([ne.string,ne.number]),height:ne.oneOfType([ne.string,ne.number]),colors:ne.arrayOf(ne.arrayOf(ne.string)),styles:ne.object};LI.defaultProps={width:320,height:240,colors:[[Vf[900],Vf[700],Vf[500],Vf[300],Vf[100]],[$f[900],$f[700],$f[500],$f[300],$f[100]],[Wf[900],Wf[700],Wf[500],Wf[300],Wf[100]],[jf[900],jf[700],jf[500],jf[300],jf[100]],[Jf[900],Jf[700],Jf[500],Jf[300],Jf[100]],[Kf[900],Kf[700],Kf[500],Kf[300],Kf[100]],[Xf[900],Xf[700],Xf[500],Xf[300],Xf[100]],[Yf[900],Yf[700],Yf[500],Yf[300],Yf[100]],[Qf[900],Qf[700],Qf[500],Qf[300],Qf[100]],["#194D33",cm[700],cm[500],cm[300],cm[100]],[qf[900],qf[700],qf[500],qf[300],qf[100]],[Zf[900],Zf[700],Zf[500],Zf[300],Zf[100]],[ed[900],ed[700],ed[500],ed[300],ed[100]],[td[900],td[700],td[500],td[300],td[100]],[nd[900],nd[700],nd[500],nd[300],nd[100]],[rd[900],rd[700],rd[500],rd[300],rd[100]],[id[900],id[700],id[500],id[300],id[100]],[sd[900],sd[700],sd[500],sd[300],sd[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};bi(LI);var DI=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,p=gt(xi({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(v,x){dc(v)&&t({hex:v,source:"hex"},x)};return D.createElement("div",{style:p.card,className:"twitter-picker "+f},D.createElement("div",{style:p.triangleShadow}),D.createElement("div",{style:p.triangle}),D.createElement("div",{style:p.body},Yu(s,function(y,v){return D.createElement(Xu,{key:v,color:y,hex:y,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+y}})}),D.createElement("div",{style:p.hash},"#"),D.createElement(Ft,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),D.createElement("div",{style:p.clear})))};DI.propTypes={width:ne.oneOfType([ne.string,ne.number]),triangle:ne.oneOf(["hide","top-left","top-right"]),colors:ne.arrayOf(ne.string),styles:ne.object};DI.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};bi(DI);var OI=function(e){var t=gt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return D.createElement("div",{style:t.picker})};OI.propTypes={hsl:ne.shape({h:ne.number,s:ne.number,l:ne.number,a:ne.number})};OI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var kI=function(e){var t=gt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return D.createElement("div",{style:t.picker})};kI.propTypes={hsl:ne.shape({h:ne.number,s:ne.number,l:ne.number,a:ne.number})};kI.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var TPe=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,y){if(m.hex)dc(m.hex)&&t({hex:m.hex,source:"hex"},y);else if(m.rgb){var v=m.rgb.split(",");IA(m.rgb,"rgb")&&t({r:v[0],g:v[1],b:v[2],a:1,source:"rgb"},y)}else if(m.hsv){var x=m.hsv.split(",");IA(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),t({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},y))}else if(m.hsl){var g=m.hsl.split(",");IA(m.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),t({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},y))}},l=gt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return D.createElement("div",{style:l.wrap,className:"flexbox-fix"},D.createElement("div",{style:l.fields},D.createElement("div",{style:l.double},D.createElement(Ft,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),D.createElement("div",{style:l.column},D.createElement("div",{style:l.single},D.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),D.createElement("div",{style:l.single},D.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),D.createElement("div",{style:l.single},D.createElement(Ft,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},NI=function(e){var t=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,u=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=gt(xi({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return D.createElement("div",{style:m.picker,className:"google-picker "+p},D.createElement("div",{style:m.head},l),D.createElement("div",{style:m.swatch}),D.createElement("div",{style:m.saturation},D.createElement(r_,{hsl:s,hsv:o,pointer:OI,onChange:r})),D.createElement("div",{style:m.body},D.createElement("div",{style:m.controls,className:"flexbox-fix"},D.createElement("div",{style:m.hue},D.createElement(Wh,{style:m.Hue,hsl:s,radius:"4px",pointer:kI,onChange:r}))),D.createElement(TPe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};NI.propTypes={width:ne.oneOfType([ne.string,ne.number]),styles:ne.object,header:ne.string};NI.defaultProps={width:652,styles:{},header:"Color picker"};bi(NI);const RPe=({setActiveEditorTab:n})=>{const e=vi(it);return K("div",{className:"absolute left-full ml-3",style:{background:"white",padding:"1rem",borderRadius:"1.5rem"},children:K(jRe,{color:e.color[e.selectedApparel.split("-")[0]],disableAlpha:!0,onChange:t=>{it.color[e.selectedApparel.split("-")[0]]=t.hex,n(""),yu()},colors:[{color:"#2f344a",title:"blue"},{color:"#cac8c2",title:"white/gray"},{color:"#772522",title:"red"},{color:"#2c2c2c",title:"black"},{color:"#cf9583",title:"swirl"}].map(t=>t.color)})})},PPe=({file:n,setFile:e,readFile:t,setActiveEditorTab:r})=>(vi(it),K("div",{className:"filepicker-container",children:["./styles/1B_025.png","./styles/I_008.png","./styles/Picsart_24-12-25_18-34-59-490.png","./styles/1E_016.png","./styles/I_027.png","./styles/Picsart_24-12-25_19-05-28-594.png","./styles/A_024.png","./styles/P_005.png","./styles/Picsart_24-12-25_19-08-26-881.png","./styles/F_008.png","./styles/P_089.png","./styles/Picsart_24-12-25_19-12-06-351.png","./styles/F_039.png","./styles/P_106.png","./styles/Picsart_24-12-25_19-16-58-200.png","./kalkinso.png"].map(s=>K("div",{onClick:()=>{it.logoDecal=s,it.baseDecal=s,it.fullDecal=s,r(""),yu()},className:"image flex-1 flex flex-col",children:K("img",{src:s})}))})),IPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEdElEQVR4nO3d34sVZRgH8DHyLiLqL9j7wroLNlsUCloQ29U9FhaRoBIUi+y+73qxKBES1F0QXQSF6SybEZtd7Hpk9YCoRBw97+v+0NAFD4Ii6i7pnDNzfn5jjoYQLnTcmXned+Z54Hs/8/3wnDlnzsA4Dg8PDw8PDw/PagM19hqUOAAlj0KLApQompDaiVzZn+ov+79vOVM7MbQLcJ5JrSLgrIOW26HEZWgJExNMD8Bzex/n2OZ6MD3wHQp9zzppGizufwlKzlIXjm5BHqX661t/1/K5l500DNRID5S8Rl021gDycFs2NYKZHVsdmwfzB5+DEpeoi0YUIGEm+1rBzLZBx9aBFoepS0aUIP+i5AcGHNsGeuwVKNFKHYhr6aZAyQnqghEXiG2bguKe9dByJdUgrkWbgtJoL3W5SALElk2BFu9nBsS1YFOgxXCmQFzDNwVaiMyBuAZvSmZBXENRMg3iGoiSeRC3F97Pfa1gNveuY8LYClLLD0WzIaZtiq0g9dmd0YKYgmIrSPPc7uhBTPj4shUESqAy+WY8KJN9LT+/420G0d2hBDOD8YC4vaj8srnm54d6eEP0/wdpF4fhTWyMDcWfeuc6g+guL+6nPogNJEz4RAtfQzTRj8Qnbkl/mUF09xf52slcPCgTG9sofPQCf8vS3aM0znwcXoyj35L89r0Mop/y63BpFPXCh/CP98ObeCMSkGBm8FsG0RH8VimNoPXnp2ie34vmuadP6/wnXzCINilCMIimRmAQ0BfPIKAvm0FAXzCDgL5UBgF9kQxiQHmSQegLkwxCX5JkEPpiJIPQlyENCN86AT1CKkDG0F44hPbil7RZONQ5lkyD1Mu/ofJgGZ7nGZHKg+XOMWUSpLH0EzmAt0oaS4ezB+LfvkhevLdK/NsXsghywWCQYvZAwo8F6uI9/sj670V9CpX798gBvEcJjyU8prVvh4Ub8jj8tTe7T7/rJGPthqQ1gkFAjsAgoC+eQUBfNoOAvmAGAX2pDAL6IhnEgPIkg3RKuLQfzavfd25X1MvH15TG0hG05z83AMLW3yFz46jevRLxvag7aF75xgAMC0FqN6ZjuUFYXbluAIaFIP6dudju2rbnDjBItyDBrbOx3UJHpA8rZGRDWpe/hnd/JXKQemT/Z2QMpIOy+BWCm2dRvfsXqveurinhX8LRPJyQYZB0RzAIyBEYBPTFMwjoy2YQ0BfMIKAvlUFAXySDGFCeZBD6wiSD0JckGYS+GMkg9GVIA8K3TpBlECtfeYRkQYaTA1HyPfoTlmanJHPJgVj62jwkm9eTA7H0xZJIKkoso3Aw2Xe0QwmX/MS1oVHyaKIYtr6cGIlgiBbmxjYkDtJBUfJH8gK0YVHiBxIMG19wj/izgD8+e54MpIOiRnqg5DUDygBpwg7USPJv13nSYH7fi1DiJHkpmiz5sAPHpAGcdVCj26DEogEFIaEsQMnB8Nwdkwel0VehxTi0OAItT0OJYiqi5emH5yTGw3Ok7pmHh4eHh4fHMXf+AeIfVIkLad8DAAAAAElFTkSuQmCC",BPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAM5klEQVR4nO3dW1Qadx4H8Jzunm72nD503/rWPX1r39q8bx82D3vOKphm3V7SbgKKGGO8zABimmRAUam9YiRt0nTTy7bp2mpuaqK24SLOIAzGGsQYZTUGvCE6CkJU8L9nUCIaRS4zQMh8z/k+Jg98zv//H378kT17mDBhwoQJEyZMmDBhwoRJxAGHL+4lOHX7CU6d3AZBcptAsH8EQfZG/j8wiTsE55OXCI4ij+AoGghO3QLBrQNk7TAcrMcOQR12GC4bh+F9AEGeYV52CuM+XP8CkXMmm+DWnSM4CnsQYGtDQDbVBsMOOww3jMNw3kRx8Z8ZnCgzVVD/XHAbIjh1+E4AkYJsA2S1wfA5GwRl3xeL/8QAbQlAkN8TuYp9BFdRRnAVHXMcxXKkCLGAbMHx2WAYD54/944f/8NTCbTwnvLlOY6iZI6jaCY4ClcsAAQFINsAuewQ1GwXCErGRcUv73ka0s7HeHheq4oKBIJikNA6TxSpQG3u8T3pjtGWj6228fWeSe65B6kLAtn9tXmL4APeatqiBDHa8/WArJavQlMVxIUUoKCWBwJNR5StGMGO5nzTm2og4wKoD8hJhHWQdEPZCYPsL/nowCxX4UsVEBsE+ZdkfMsmjHRCCYcRrJnXqE0VkKmyYu22GOmAEgnGWjGHk6ucTzaIDYJcvhreVFiQJxUlcoy16vNuqpMNMneyUL0rxpOIEi3G+ipZGud+OZIskHEYuu+X5z6MGORJQYkNY63qfG13skDckgJDVBhPAko8GMFac/5jTDTIhKDUFBNGKqNQgREoH7XOcuoSN1yEoJVlWf5QXCCphkIZxnp/y72iThSIQ1wU+UH+JKBQjdEeWCX6OQfnrJN+EGjWJ89zUgaSbBRaMPLXivE7NHSDEKcKNZRiJBNFAfe88k2JQXWTr/fQAdKer/fZuV8N0gcCDYMPeD5aQGpzPeCHbBVoZb2SMJB6oalUKTQBpRCfuFRk0NGxUm7laW/TBeKpOBrfk9VO/fJdA2jJfABuZALQmlmSMBClwNSyBrLWswKT+cqx7jtUowzlXMKoBpkogzDKIeqPDIBmVm8AItjWjOaEYDQg5meVAtwVCkK2XoivXoBwXctR/RRVIB356Ngs94yXMhAIWlqu5o9SBvEJ1wl+OqgBNzJ8mzDWVogbtP6N/s/olcKe17dibC7u/rrEqG7jdz+kAsXEa1ZRBTIT+FiWknNiGXz3pga0ZMw/BhHaZtZf6AcR4JXhQYLbGD7603EDGjcKH3NPcz+fjBfEBsPT/hreQtwY594zgZbM4bAQG9tWBe0g9QITFglIsF/AeM/VY9334kHR8X/tjBdk/nSBLi4IxZERcJVtiAhiY9tCacX4tPj280qBaSUakEAFppULkFHbmq+fiQWkLR9bHeVeNMcMIoAsoDbXHxPERzlzoOGgGtzIWIoKI9AMH2j+O32X8c4I8ANRY4Qe/ALT7PdFBs1Nvn4lWpRf+bo7c1zFarQgNhhe9VYe7YvhnPCDr9/SgdZMR/QQIW3JyKINpF5gUsYDEuznQpO1sdBgjBbFwmvQRQsyKSqOfqv64r3boDVzMC6IjW2rnkYQ/B4VIMGeh3DD9QL9/SgO+Akn94w7UhAbBC2u1PDtEUN8mmMHl7N0lEBsdJAeDNj0IpUYG+9fTMv/LsU1N/L1C5Gg4LybqkhBnCeOR/aY+1GuG1zKVoPWTC/FGOtlU3/r/owQz6UDJKSTPxQZtO18zB/+gNd7J7nnx3YFgUrXbh/uNgj86hAKWjLs9EA82rZyKAepF+A/0gwCyJ4V4Jamwu6+cCgavhrbDcQtKQg/Iqk/bAHXM/tohdh42rpEKQaCgGeUAnw6ESDK9THMeRhHm49223ZCGc35dtPwMRRjXAj99tjtw41xxyRoPKAFNzL8icEI1EHpN7nOCPHXEoWhDIURmBbJMcx2Y/5f+F2DobceQw5y/5Is//Hbhx/ylgLjjtYMVwIhQrYt1quUgSgFJlEyQJTBCvDx7cb8fbwm7VYQh7hEs8NYfCwpEBvblpAykHoh3pFUEOH6+QIbe68VdN/deAzWzzq4Z2c3QCDCJ+fNbIw7DlvBtSw8uRDBFZLRTgnGRUS1Vyk0eZKNodxYLf71Mf80iaLPawtcigh8LHty/dLCx9zZHcfiSQPJ9IKG7D/GDXJW0LM/6QjC7WBMxHfFRvXNfL3bzv1qyA7DVn9t7iL45m0taM10Jh1g+1Xy17hB6gW4POkvvjAcjHH0SqGm3VN35DpoYQ0l/UUP2wx53CDlVQZ5ebURpGrFcnyk+CdtMzF2tAVYsoZAPxukblnxg4hrDPtTEqLaQPAvDKkPaN0uBKv5X/sgMgoIkRuMcbXgDtuZ/Bd/28a/ZSGIam95ldGTQhB+6LM+3cFfXNPsTi8o7LqulmIy0NQvBVNTYjWYFwEwC8+Cobc0wMzypQDCWs1sLxij4FAnU15l7Eg2RHm1EQhrTb1vNTvvkhBkD2pnZiSYjAiCXOtHFgAhmgqgkHUUWcHdN/AUAaHmsXcdRJTcVYGP534/pmNrPatBDLKirgtaEiMIQvbug/e1j0CCtfMNoJ81llwUFnVvDE/I8NeStD0tHjs/qGarFz2hEGTf1lrvSrBK31aQy2apf4UQWh5DmRMsgdHDGtDPciUJ5FVKh4viasN0wjCqDKvwJ71odtu8bStEsKfQD3uDGKEgZHXWU32AEK0+hkLWWToJ7v1TC8wsfwK3KwcAFP+ZqPIq44+JwCj7ALccujrdtxME2dwuFA3F2ApC1uUsw7YFCXaq0ALuHuhLEAi143cyZTV4Lq3bU41xMufbES1L4/GHwzjQueCVoFUPdgO5MXjaDuaFi2FRyFVk56HAnGWnGYX6D6jerzS9SNM5sVSktGjeuOVaCAcRbFHXz6qtGNuBkLVPnVCFBXkEI1gE1kPqwKMpHSADNHyES0ZcbbxHJYbg49uGf7TNjUUCwe70guzO6QkJWumOFOSKRbroI0T2iFAC719K7WAwW0ftdsWi55IDmfIqo5KSVSHHrf9qnDBGCsFerxg7q9sOYycQsuax93URgwQ7cfQ26GcPUoRC3zWgspruA3GeE7P8i8OaLO3iSrQYh3SDdyRo5Wq0II1mZHV5TvRb1CiE0A9sXHK1OOIEoe+iHILcfl5cbVyJ/pwwrpQqzNoDt1zOaCHYnV6QpfWsIliteSeMcCBkNUOnLYEXOFqUwPsXmADD76hBP2sphu3KB/povEpKRlxtwKLBENb29LzZ4hyKBYK93vyuW53hMHYDIUs4xJ0xgWyMYUbAwEFDlCD0XrZeB6mMcHsaPdJgR+OBYAdWB+GWoNWT8YK0DCDTYF60EBcK2cmjJmBhD0eGwqL/6wjlVYbXw2JUGdzkuCNLu/gwXgx2pxeUdv2w7WNutCBk749H+Bi86zYmWg6MYcys+V1A6P/CDoKYnxVXG1y7jcWpaHanfUyKybxUgVyxSJf8hGiEEpTAYzLsDDPmd4N7CfhKG5nyKkNLKEZZrcn8zrWZO1RBsNd7Aq3TR4IRKQjZ26Onwo9UYunM8QFgeaN38/nBTsyXPtdAjKVrqwKf2G4sTkUP6/p6IsWIBoSsd1aMU47yaMyftTbmt7AT97Xo8g97Xik4P6jabixOTRd9ElQ+SBfIrWFkGBAiHy0ohNADrO+qgDmBfziADEvr5dGxMtidXnBM16qJBiNaELIzDrGGHhDRKiBEhQnFoBPlYCcxJ+mSOekGaRmQzIJ5kTNtMOhCEXR9Hbi0QDcI2WH7CXVaYVCN8qbuvlWCVi4nCqTJIl1ZmRUNpRUGlSgnsc+MsWDEDNIvBZj1VE/aYVCBwtF1d8eKEQ8IWY+zrDvtMOJDcS1JuqpHkgXSNnj6PiBED9MOI1aUQt3VmA5yKUUgZCcn1289phtGtCgHOx0OCSqbTzbINYvEBQjhZFpiRINShn356PahNIkgZAcenNCmLUYkKId01gEpKvOnCshls9S/PCfqT1uM3VBOox9tun0oTTIIWZ319OO3HtMJYyeUPFTXRRWGlEIQsgszZWhaY2xFydK6PAhWbUtVkJt3kXEwL3KnNUYoSknXfyP6WFaaJBCytslyVdpjBHMSk78sRWUlErSyWYrJXCkE4moyS5obLdKSpjsnn44fltyahoaG31XoK/ZJMFmZFJN1JHS4aJb4Gs0SvKlfKv+5H9nfek/xdP70arggKuQ5BK3cL0Ur5RJUhtMAYm3sl5xr6pdmN/fVMD9OHDVQN/KCFJVlS9DKcxKscscHgZ0AGs1SR1O/tOGyuSLv8gDC/Hw35SvIUPNShV6WJ8VkDRKscuExELPE02SWdjSaJWWXByr2IVR/c4nJzkFUyN7g9hY8By6OIHvD/BMmTJgwYcKECRMmTJgwYbJnc/4PKLMFE0aceqoAAAAASUVORK5CYII=",LPe="/assets/l-102b9de8.png",DPe="/assets/xl-daca963c.png",OPe="/assets/m-c37e63ca.png",kPe="/assets/shopping-8b1790b9.png",NPe="/assets/buy-now-f707650c.png",FPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAALoUlEQVR4nO1deXAT5xXf0k4z7XSmLX8U2gx/MRM69GDSdqZtIJQrXCaEGwzBgCVZsmVz37iY+LYbQzgsMGAuyzYmjuNgcAFjbI5QTBxIABOukMMYKrCl/T7FcTqO/TpvLdm7OlfWSlqZ/c28GQat9L33fvv73nftmmEUKFCgQIECBQoUKFCg4DmG2Wz+Ocuyf7ZarXMJIWsopeukNPxNq9U6j2XZv1gsll+EOl7ZwGQy/cxqtY4hhKwghOyjlH5ICHlKKYVgGiHkGaX0P4SQ/YSQlegT+sY8D7BYLH8ihKRSSusJIe3BTj4VT1K7zcdU9JnpKwCAH1BKR1BKt1JKvwh1omnvDX3PwVgwJibcAAAvEEKiCCG3ZJBMkNjuE0KWNTU1/ZSRO6xW669shbOptwGbWyxw5/ZDqKmuh6KC03Bw/wlJrfDIaaiu+gg+u/2Qa8uPbu0pISSztbX1RUZuYFn2l5TSbEJImy9BffnFIy45ebnlsHalAeZOT4KxI5bDqL8vDYqNGb6ca3PN8lzIM5TD2TNXOZ98JKaNEJIlixEbAPSjlMZSSlvE3v3na65BRkoBzJiSGLTEj/LRZr6eyPmIvprN4lRECMEc6DAnISHDarX+DoeqIhyFC7XXYMumfIgYt9Z7QoYvhcmTE2DOQj2oVsTBArUe5qukMfwt1cpYmBulh4jJ8Vxb3vxBn9F3jAFj8RYvy7KXrVbr74NGBAD8yFYnvvPkWEuLGcrerYFFkWlug31tVALMmq+HmLU6WLc9BjJL1bCrNhoMF3tsc74G1u+MkcTwt/i/jW1hm9g2+oC+oE/u/MVYMCaMzQsp7VhfAODHwVDFVU/ONDe3QP7eCpg2eaPrOy4iAbTrdJBcoIbc88Lku7LM99SSEZJVpvbaHvqUYtSAdn0sRETEu4wBYzuw7wQXq8cu2my+ZbFYXg6ZKqpO13FF0pUSYtbGQnqJ8A4VYztroiExz38y8Dcc1SfG0Gf03ZVyMFaM2ZtaWJbNkkwtYlSBQ8gV8TucHJ48KQGWpelge5XviTDwbGulCjbs6j0Z+N1t/1b55QPGsCxVy8XkGCfGjjkIqFrEqMJiYTnpvjZypcDBCeMSYHWOVlSX5AspGw2+k4Hfwe9K5QfGtPptLRcjP+bx/1jF5QJzIrlaxKii4eYD0CzOdhohLdbHwbZT0iXAwO++zqkg2aiB9WLUsiuGuxa7vED48s6ZaNCsjoXRDiO1JQsy4JPrd6VRi23tqVeqmDEnHjKOeS+akhBTrYKMUjW8dVgDiXu6ko+G/8b/w4EAXhMMX9KPqbnYBTVz5Eoxavkfy7Ib3K6N2SZ5hb6qYsyIpaDbENurgtlXLPdCNCxN0cLYV31Xi8lkKnFJCiFklSdV4DqQoyrUUVlQci4v5AkxyMRKz+8FnSpHkKNxr66AndtKPc74r1y5kikgA1cuKaWsWFVgI3m5x6G9/XuwftcCey7FhDwZhhDbnksaoG3PoKOjA4oKqrgiL1Ytzc3N3wwePHgUXx2vO16EywSuVDFr3jL4/MHXwMe5ewdCnhBDiK3m3kFBTj5/0MjlyrG2YE5dLcGkpKRkMwwzhCOEUrrW8YIPyi441YqEZB037Lv5uFrQOGkzwZ5LwSnoBhna7ktqsHz7X0FObjSddVtbKsovOhFSUlJiZBhmJsMwP2RshwkEF7xfWisYzqYf7ZllH7m6Gjo62wUOVN3ZG/LEGEJkZ+/uE+Sio/N7KLi6pvtzzB1/IRNz64aQSIZhfuOyy8IFtFlT/9kzG83UCpxoeHJe4IS59THsvhicoaZBRoYxt7Q+EuSi4Umt4BrMXff0IGITPHvW4q7LQkJ+i0Pen1BKLY4XFRWc6f6hSeMTuImZvRHjR+ugo7ND4MjpzwwhT5AhyIYx89HZ2QGF9Ru6P8eJ6aSJPfMU3AV1UdRbBw4cuKibEFthT/FVJXdMHwqcaf7mazA8VypRwVPrl4IcYE58VcfJkyfLbGR0dVkI3IL0VSV4J+AdwUdlw3YZJCo6KFbZsMNJHUX1G31Sh9lsbhs2bFiMjYyuos4b/vqskvvP6gROmejDkCfKECR7Qu4LYr//tM5fdfxRMEHsjUqOfpwIndApcKziZk7Ik2UIsFXc2iqIGaATSq5t9kcdsxmGecHVEorPKnnYfE3gGt45Uga/q0YFq7K1MHu+nrPscs9znp3VXXsXuCWLO5RT34iHBeo42LhbuhWFx+SuIOaHzR9Lqw5/VHLs+hbuDuGj/EaWJIFvOaThEsqfWMUn6dxe//ZxFUyZ4nrrFW1hbKzf+zQYmyPevZ4svTr8UclX5hsCBxstDX4FvbVSBVG6OJdJjd3kmhBM9Bsz3JPh7ftirdFyWxDrV+ZPA6MOn1QyMV6w+fPeJ6lOd03Zp+ncqQ7tBh3EJuq4rkds0NNm6n1O6JocrdN175xSQdb7aq774i8DbT0pzhf0GX8HY8BY3MXJV8fECQnSqcOTSvCUBR4ic6eSR7Y7B1eBa6qvgy4mXZAgrANiCZk43hbU8K5uRgwhc97sSfq0WXphV1ahgtGv8PbBM8T5gj7z29Zp07nYMMaunuC2e3VMSXR5MsUndfhTSwovpnNLz3OmOZ88QdNvFt9VJB/RcFukqcVqbkvYGyHYXeGd76nOTJ/Z0529GRMnyg/02VUsmGzcgiioTQ9c7ehtLUkrVnN76fyE+EuIgWdiCMEzV/xrNhmcjxyhj/bPp06L94sQu6Hq5kfHQdIBjfS1ozcqcXccs+sOKoesNGNQCEk2agTX4OjM8RpUnP1z7BJ9JQRjwZjcnkvm5UJydfiiEr6pojK5vRT7liWeKg8GIVsOCQlJLXKeq+D37J/jwTdfCcFYMCaWZbmT8sv1O2D0K8JNqICpw5tKjhZW9dSSMashO72Q2+51vC5YhCQHQSF2QviGMf8rowgmjV3TfR3mxvkmbvl26NChGr/U4UkluA2JO1+42WIyNTs5EGxCsstUAa8hrgixG+YAc3Hig0sut2glUYcdLMv2p5QSd854smARkns+WrBV6qot/ihroTZOUkI8mYM6ZjEM4/85X3wYRc6EGBzmITPmCOchOSfUwnmIwxwqkITk5+fvk0wdduBhLovFcjhYhOyq7ToViENqHFLyCVmSEMv9P9r2syq3M/VlKV2HMnC2Pm+xcKaeI/K8r7+EXL58uaZfv37zJVUHH/X19ckmk8npDFdLS0tbY2Njk1SEzF7gfumEb9zktKaHRKwN/M+5uZHD0Byf/RDrhzdCMGaM3bmmmFij0XiIpwy0wUwgMGjQoBFJSUmZ2GBxcXFBWlpa9oABAxZXVFSUSkXIBIfT5Z6Mf7fjuhV/tuxokUv0Pq2peSMEY8b9cMwB5gJzgrnp379/lAMZf2UCjJcYhpnOb1RKQtZtj+GSh88DurN5i/SQ8JbW5cl0PG+My/ZjRybA+DFLucVF7NJ8XXoXQ4gt/ghblxTpYNNtuQoK8InTX9saHHLv3r2cQBR1QwjNB0L+YNsPf9F2AvElW25C81QughCy5TknRF5QCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCJEZFEJkBoUQmUEhRGZQCAkzQg7ur4Rww8H9lX331IlCSJChECIzKITIDEpRlxkUQmQGhZAwIwQfIcDXpoaTzY3S991hb7hbXhgS4vT++OPlF0OeyFESmasXIONTU3ImxOUryzEQfCF9ONsJN8+f8963Kz9CbC/1d3rrQ1+15uZmK+99u13vbZcb8M9xhzpRNEhmNBoPO71vV27A59kJIcZQJ4sG2Orq6i7wnj8Xvm9XjqTU1dWl49/FCHXiaAC6KVQGj4zIYD5l6xfwj5TYn98+derU8XC2Ytvz+LyaYbe/MWGGITZJR/Yxmxk2ynAB/vPbw8LchthikW/NUKBAgQIFChQoUMA44/+a1QMyPToXpQAAAABJRU5ErkJggg==",UPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOnElEQVR4nO2dCVBURxrHO+4ma9Zda1PZyu5Waitbe1jWblU02Rh31XgFYwyeeCQYE2ISE68wb1DwioIXauLJghoUFUFF8UJFUTlEQRSQeOGIiiCKDMfMdD9AEJBvq4c533tzMsO8wfdV/atUnH7d/eP7uvvr7jcISSaZZJJJJplkkkkmmWSSSSZZZzcAeAlj/IqpKisrf+PpeonWAOAXLMuOI4QkYoyLCCFqK9IQQsBFKsYYb8MY/93TfSAKo7+lhJBA2jEu7GRwVBjjZkJIvEajeRs9j1ZbW/sHQkgYIUTlSRBEGE4Wxngi9VrU2U2tVr9JCPkJY9zg6Y4ntnWXECIDgJdRZzOWZQdgjI9jjFtF0NHgoMdUEUJW19XV/Ql5swHAi4SQLzDGN+xsOKSdzQVm1iYYNXw+jBw2zyGNeD8YBv830G6NGDoXwhbFwPWrd+yFU08I2YIx/ivyJqOxF2M8nRBSak9Da2pUcPRQJnz+yQqHOtSVmvH1Ojh7+rK9HtOMMY7DGP8Nid00Gk1vQshlexpWVvYYfoo6CmNGLHR7h494bxaMHDjTqMHfCf6/aV/8ACknc0CjwfaAoeNgGAD8ConNAOAFQkgwxrjFVkNuFRbDquVxMHzwHF6HfOQTAhHrE6EoORYeLn1HUJXL3wZNeO92Ccd/AwVXFPD9vGgY2p/h1WPyhKWQmJAG1dU1NsGo1ep8lUr1ZyQWA4CuhJADtiqek30dFoX8JNgBH4+aCzu3n4CKiipgWRaIIrPdnW5N5HiY9jlUd+88gPXLomD4IL7HUO/dGnUEyh8pbYTdGnVVVdUgMcB4mRByxlJFqevTEDAtYI1giJg+KRDSoxhoyl1p6CCWAlFXg2bdAPcBuXrC7HlP7yaB5jQD2xczMOp94QlAxIZEKC15ZM1TGouKinw9PYuyCOPa1SL4duqPvMYN6R8IC76SQf5OBiBbblCd6qE5lONL3QIDbxwKLFabPavl53WGejzJkMPB1QxMGsEHQ8Ms9RhVjdoilIyMjJEeAUII2Wxp+rpz2wl4f4B5aBo+MBDWB8ng4VEjBFM13ks26yS26iFoNg51vXcUJJk9p666BCA7iFef5vNyOL2JgS/9ZPzBP2ANFN8rE4RSVVXFRkREvNvRMAKEKqNSqWHJgu1mlf/gPRlEL5JpQ4IQCL1ac5dALa4295KbqaBZ865bxg69mm7ttl6vLDlkRzPw9XjO+PLhAsjPLRSEUlxcXNyzZ8+OWUjW1dX9UZd15birBubP3WpW6Vn+lj1CSE23E3gdRm6cBc0PfdsP48QyYFliVnZ9xXVB7xBSywU57FspA5/3zGeFeZeFoSQlJe1BCLk/xU8I2S9UgR9X7TGDQcMTdXt7YbQpCOofX+NBYR/dBrz7S+dgbBgCJDeRVyb1xmd5KxysnxxuxDMw1sd8JiYUvlQqVZO/v/9UhNALbl34CeWjjh7ONIMRNd96eLIaInLmQ32lgg+FJW3eEjcNNKvsWItsHgnkwg5ga5R8GEQFLVc3OV3H+4cYGDtMZjam0AjBm+rn5JxHCP3LbUAwxke4D31YVgGjP5xvqNzib2TauOtsY4FCubTQAhSdqsuBXDsFJHWjdlzAB+SAjywAnLIGyKV9wD60/FnqGS3XItpVP6qbe+UwbIDxl5BOZPjTfs0zPz8/GULoty6HUV9f/7rQSjx8aayhUv6+MmhIb19DQa+Lc6DxbhKwBFsG46DqlYXwLG+Za+qXLYeElcaZ5AeD58CD0nIelNTU1GSE0H9cDgRjPJ/7sHt3H4DPQLmhUpdjnA9VltTy83p48vjndoGoq3kATYo9dg/g9upZlhymTTR6yca1+3lAlEol6d69+6cu9xKMcSH3YZGbDprNqFwNA0wbX/ADNDw4B7Wqcrsg0HHiyeMCaC6M0Xqbu+p1cZvRS+gWQFUVP/8VHh6+FiHkuu1hjHEfoQXgpLFLDJWhc3V3AgFTOPnh0KSIh6f3jkFDyVl4UnYRGh5kaheXT2/vbxsjcoI7pC50vPx8jHGATz6WzQNSUFBwGSE0DiHUxSVACCGR3IdczLpmqMRon0BozuwYGCBCxS01ApkTGCmUUmnu1avXNwih1111pqma+5AVobuMsXOue8MViFzKE4w2R0f7gqaMSgSSkLGxsTsRQgPaDUSj0Yzn5Wsqa7QZUD0QRYLnOwU8LPkUo5fsikkWSqfcQwh9jBBq34YWxviYtYVgwFjv845nWXJQpTBQk9L2Z1eUmbLJOLjT7WihbMaUKVNCEEL/cBpGbW3taxjjJm7BgTM2Gh6+b0XHDebgAjWek0POdgZSI9uUvY2Bxoz2T4fp+uujwcYpcEG+ggckJSXlGEJouNNACCFB3ELvFz807PrRuFmV7PlOBgek2GeEoRdddbui7FXfGcPW2tV7eUAqKirUXbt2pWuS3zkL5Cq30O1bjxkeGjLV+8JV7k4+kEsxrim7YLcxbNGjTPREDbf/QkNDVyOEejt7goQfByctNzw0Lcq7whVQD0mQ84AU7mNctibx9zWGLbp9ze2/vLy8iwihsQ5ngTHGG7iFXc65YdwLGBIIjRme72BwULWp5kDoeELHFVeVv2OJMWzNC9oimJbv0aPHVwgh+zewAOCXGGMlLwWwbLcxRsq9L1xBthxu7zcCoeuH1guuLf/xcQaG9DOuSYQSjjExMdsQQv3sBsKy7BhuIfSMkq9PiAHIzT3eF65At4ijoZZ6hqumvFx9N9noJfGxKTwgd+7cKUIITUIIvWRvuDrMLYTmaPQP+XRsCLRmz3W4ovVpclgTKIPVgQzUpXoOaPP5tnhv6ed0Krzwa5k2cehM+cc2hxv6auqn4YJrEj8/vyCEkO2LQoSQVzHGjdwCaI5G/5BtW5O0x3a0KW0HMqkRwcZZyIFVthv7JEMO1+LkcG4Lo01e3j8od3mIEdLIIW11/HBQINScYhzaKqBb0JXKau3+iL6t9EgU7xc8OfkwQmiYPd4xm/vhkvsma49+Mu1pP+MxmvvQVLjL5l7D4+NyswMCO0Otj0FNmQxkRfOnqB2RpjHdjl7L2B4rWwrWwpPyfLP0/5KFxtM3GwT2SSoqKqq7dOkyGSHU3ZaH8A6/0e1JfeGBMzYJbwJVFkHz9S0WKx023fx8ky0gZUf501O9mtycWTat59B+gVByWPj/PbuyGp48yuWdZqE6f67A7CAEPSLF7deAgID5CKE3bXnIY+4HaRw0bERNWw+FN4utbJPegpZr/+OtjvUzD3uBFB0QhkGFz3YcECo6npiByF0KDaXpFreXaefvjTttVsa59Cs8IJGRkZEIoTG2gPCmuwGTV5oVPqS/THsgzjqYm4aTHTKTTKi9QMqPCcNI3yzrUA8xjAPxDLTmhdkEkbDnLIwf9T3v8xlp+TwgUVFRmxFC/gihV6wBOc/9oOLWfQhmorTjBw/MQutgMo4eEWygLSAtF9pODHKB0Cnr1Tg5PM103yxNqL7TPwsFolFZBTFhNB+En+8i7c/oDiu3X2fOnLlYB+Qv1sYQudA0jepK/i2rYOjdD9OK0kp8ZnIzynTmYQlIUyYDt/cz2pmVpZBFRWdfHQHkg0FzzFIhpu1TqzSQsOeMIIhxvosgbtcpwT123aCu0iUarQOpqKjoRgh5YAkKFb2XR+96CIGh/64HQy+9GFItPiFmpxuFgDRlmqfGrSljc8d4yKZ1Bwx/njxxmfZAHFXSoUz4eFwoDwQ980vvulRbAKFXdHT0Vh0MqldtjSPvCJ3fteQx3ErRKXLoohitu+r/LSb6uPYovzUgN/danllxRbO2HQGkvFypvVSq/zsdOyeMXizoEbt3WvYIU124cCHNBMYYuxKNLMv2FBpPHPEYveggR39jrAGhoSotyj4YdH3CunGlb1p32j66JSvULkc8gqqmpqYhPj4+Vrf+0ANx7FYvxthHrVbn2QOGrkiFwBxKzND+3BoQcsY+78jdYT3t4Q4g9IIONzw5AkKlUjWmp6ef6tOnz3QTEFR9HILhLJj8vFvaVAsFw8yKoGdcbQLhpsVTLagg1v05MC4QKnptmg7w2tC046RDIPr27TuDA2ICQqiH0zCcBUNPp5j+3RqQ1qwgOL/VNpSSw54Bom1PVY3hl8tJEBMRQv9GCHV1CQxnwdgDhKr0sHUYFJi7F4XWgIgShAUw+a4A0polh1sCW6xUmVsY0JxxPwxngIgChDNgbAEBnapPyrWpCromoYP4vcS24zsdAcMRIKIEIfBGB1+VSnVIo9E0OAsEPCxbQEpLS0uPHDly4K233vpWAESvdp9OdIcRQlZ2RiBKpVLDgaAH0VuUIJ4zICN0dwjFC0JvhJAVnRzIOORNRghZLgERkRFClokJSGsWXee0XUGjU+iruxmoS3u+PGSpmIDcEdgSpnsuDQIn3zsrkDCxAGk+L7eYSb6b+Jx4CMY4VCxAiJVMstDOY2cFskQMQNhURnt/3hKQ58lDFosBSPY2yzDo4C6UkumsQL73NJCmTH6oomPJuedxloUxXuRpIKB704LZUVQ7Lud0ViALxQCkNrXtGhv1iut76DHU5xfIAjEAASfUWYHw3h4kAfGgYYznSUBEZCzLhkhARGT0XfASEBGZBERkRgiZK3mIiIwQMkcCIiITenGN6bTXW0Q60TpkOrcx9EqCpzt4sAMaNjCIB+TRo0dVXgmEEDKC25jbihLwHx/m8Y4ebIfo62+jIg7xgCgUipteCaS8vPzXhBCW2yBvV0JCQpwOyCjkbSa0a+jNUiqVmjfeeGOqDshQ5G1Gv4UHY5zm6Y4kLpBarW4KDg5eZnJIrifyRqNfK6dQKBLoi+k93anESZWVlZXPnj1bf4VZP368iLzYugQEBHx28ODBvfQrHK5cuXLJC5STlpZ2kr4mvFu3blNMYNBXvb6GOoHR12y/gxD6ROCwsrfIFyH0e9TJjH5LwD91X+HQ30v0tu414e77thzJJJNMMskkk0wyySSTTDLkGfs/qs34Wg57eFIAAAAASUVORK5CYII=",HPe=[{name:"colorpicker",icon:BPe,display:"Pick Color"},{name:"filepicker",icon:IPe,display:"Pick Design"},{name:"logoShirt",icon:FPe,display:"Logo"},{name:"baseShirt",icon:UPe,display:"Base"},{name:"addToCart",icon:kPe,display:"Add To Cart"},{name:"buyNow",icon:NPe,display:"Buy"}],Q8=[{name:"XL",icon:DPe},{name:"L",icon:LPe},{name:"M",icon:OPe}],zPe={logo:{stateProperty:"logoDecal",filterTab:"logoShirt"},full:{stateProperty:"fullDecal",filterTab:"stylishShirt"},base:{stateProperty:"baseDecal",filterTab:"baseShirt"}},GPe=({tab:n,isFilterTab:e,isActiveTab:t,handleClick:r})=>{const i=vi(it),s=e&&t?{backgroundColor:i.color[i.selectedApparel.split("-")[0]],opacity:.5}:{backgroundColor:"transparent",opacity:1};return K("div",{className:`tab-btn ${e?"rounded-full glassmorphism":"rounded-4"}`,onClick:r,style:s,children:K("img",{src:n.icon,alt:n.name,className:`${e?"w-2/3 h-2/3":"w-11/112 h-11/12 object-contain"}`})},n.name)},TC=({texture:n,color:e})=>{const t=vi(it),{nodes:r,materials:i}=zo("/shirt_baked.glb"),s=mi(n),o=mi(n),a=mi(n);zu((c,u)=>r0.dampC(i.lambert1.color,e,.15,u));const l=JSON.stringify(t);return K("group",{children:Qe("mesh",{castShadow:!0,geometry:r.T_Shirt_male.geometry,material:i.lambert1,"material-roughness":1,dispose:null,children:[t.isBaseTexture&&K(xs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.23,map:a,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),t.isFullTexture&&K(xs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:o}),t.isLogoTexture&&K(xs,{position:[.07,.09,.1],rotation:[0,0,0],scale:.07,map:s,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]})},l)};function RC({texture:n,color:e,...t}){const r=vi(it),{nodes:i,materials:s}=zo("/hoodie.glb"),o=mi(n),a=mi(n),l=mi(n);zu((u,f)=>{r0.dampC(i.mesh_0.material.color,e,.1,f)});const c=JSON.stringify(r);return P.createElement("group",{...t,dispose:null,key:c},Qe("mesh",{castShadow:!0,"material-roughness":1,geometry:i.mesh_0.geometry,material:i.mesh_0.material,dispose:null,scale:.7,children:[r.isBaseTexture&&K(xs,{position:[-.01,.03,.1],rotation:[0,0,0],scale:.4,map:l,"map-anisotropy":16,depthTest:!1,depthWrite:!0}),r.isFullTexture&&K(xs,{position:[0,0,0],rotation:[0,0,0],scale:1,map:a}),r.isLogoTexture&&K(xs,{position:[.11,.18,.1],rotation:[0,0,0],scale:.15,map:o,"map-anisotropy":16,depthTest:!1,depthWrite:!0})]}))}zo.preload("/hoodie.glb");const VPe=()=>{const n={shirt:K(XM,{}),hoodie:K(h9,{})},{selectedApparel:e,intro:t,buy:r}=vi(it),[i,s]=P.useState(K(XM,{})),[o,a]=P.useState({x:0,y:0}),[l,c]=P.useState(!1),[u,f]=P.useState(n),p=P.useRef();return P.useEffect(()=>{Object.keys(n).includes(e)&&s(n[e])},[e]),P.useEffect(()=>{if(p.current){const{x:m,y,width:v,height:x}=p.current.getBoundingClientRect();a({x:m+v,y:y+x})}},[p]),!r&&Qe(Pa,{children:[Qe(DM,{onClick:()=>{c(!1)},shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in",children:[K(jM,{files:"canary_wharf_1k.hdr"}),Qe(YM,{children:[K(T0e,{}),K(WM,{scale:.8,children:i})]})]},e),t&&Qe("div",{className:"nav",children:[K(J9,{style:{background:"none",color:"black"},theme:"white",children:K(HP,{ref:p,defaultValue:it.selectedApparel,onClear:()=>c(!1),size:"lg",labelText:"Search",closeButtonLabelText:"Clear search input",id:"search-expandable-1",onChange:m=>{m.target.value&&c(!0),f(m.target.value?Object.keys(n).filter(y=>y.includes(m.target.value)).reduce((y,v)=>Object.assign(y,{[v]:n[v]}),{}):n)},onKeyDown:m=>{m.key==="Escape"&&c(!1)}})}),K(UP,{size:"lg",mode:"full",open:l,x:o.x,y:o.y,onFocus:()=>{p.current&&p.current.focus()},children:Object.keys(u).map((m,y)=>Qe(Pa,{children:[K(G1,{label:m,onClick:()=>{it.selectedApparel=m,c(!1),p.current.value=m}},y),K($9,{},`${y}-divider`)]}))})]})]})},q8=({tab:n,isFilterTab:e,isActiveTab:t,selectedSize:r,handleClick:i})=>{vi(it);const s=r===n.name?{background:"white",borderRadius:"200%",width:"80%"}:{background:"none",width:"70%"};return K("div",{className:`tab-btn ${e?"rounded-full glassmorphism":"rounded-4"}`,onClick:i,style:s,children:K("img",{src:n.icon,alt:n.name,style:{width:"70%"},className:`${e?"w-2/3 h-2/3":"w-11/112 h-11/12 object-contain"}`})},n.name)},PC=(n,e)=>{switch(e){case"BRL":return n.toFixed(2).replace(".",",");default:return n.toFixed(2)}},Z8=P.createContext(void 0),FI=()=>{const n=P.useContext(Z8);if(!n)throw new Error("useCartContext must be used within a CartProvider");return n},$Pe={productQuantity:0,installments:0,totalPrice:0,currencyId:"USD",currencyFormat:"$"},WPe=n=>{const[e,t]=P.useState(!1),[r,i]=P.useState([]),[s,o]=P.useState($Pe),a={isOpen:e,setIsOpen:t,products:r,setProducts:i,total:s,setTotal:o};return K(Z8.Provider,{value:a,...n})},e$=()=>{const{total:n,setTotal:e}=FI();return{total:n,updateCartTotal:r=>{const i=r.reduce((l,c)=>(l+=c.quantity,l),0),s=r.reduce((l,c)=>(l+=c.price*c.quantity,l),0),o=r.reduce((l,c)=>(l=c.installments>l?c.installments:l,l),0);e({productQuantity:i,installments:o,totalPrice:s,currencyId:"INR",currencyFormat:"₹"})}}},jPe=()=>{const{products:n,setProducts:e}=FI(),{updateCartTotal:t}=e$(),r=(l,c,u)=>l.id===c.id?Object.assign({...l,quantity:l.quantity+u,availableSizes:[...new Set([...l.availableSizes,...c.availableSizes])]}):l;return{products:n,addProduct:l=>{let c;n.some(f=>l.id===f.id)?c=n.map(f=>r(f,l,l.quantity)):c=[...n,l],e(c),t(c)},removeProduct:l=>{const c=n.filter(u=>u.id!==l.id);e(c),t(c)},increaseProductQuantity:l=>{const c=n.map(u=>r(u,l,1));e(c),t(c)},decreaseProductQuantity:l=>{const c=n.map(u=>r(u,l,-1));e(c),t(c)}}},v0=()=>{const{isOpen:n,setIsOpen:e}=FI(),{products:t,addProduct:r,removeProduct:i,increaseProductQuantity:s,decreaseProductQuantity:o}=jPe(),{total:a,updateCartTotal:l}=e$();return{isOpen:n,openCart:()=>e(!0),closeCart:()=>e(!1),products:t,addProduct:r,removeProduct:i,increaseProductQuantity:s,decreaseProductQuantity:o,total:a,updateCartTotal:l}};var Yn=function(){return Yn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yn.apply(this,arguments)};function vh(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var JPe=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var f=e[u],p=t[u];if(s=r?r.call(i,f,p,u):void 0,s===!1||s===void 0&&f!==p)return!1}return!0},hn="-ms-",Dm="-moz-",Qt="-webkit-",t$="comm",o_="rule",UI="decl",KPe="@import",n$="@keyframes",XPe="@layer",r$=Math.abs,HI=String.fromCharCode,IC=Object.assign;function YPe(n,e){return hr(n,0)^45?(((e<<2^hr(n,0))<<2^hr(n,1))<<2^hr(n,2))<<2^hr(n,3):0}function i$(n){return n.trim()}function ca(n,e){return(n=e.exec(n))?n[0]:n}function Mt(n,e,t){return n.replace(e,t)}function _x(n,e,t){return n.indexOf(e,t)}function hr(n,e){return n.charCodeAt(e)|0}function xh(n,e,t){return n.slice(e,t)}function So(n){return n.length}function s$(n){return n.length}function um(n,e){return e.push(n),n}function QPe(n,e){return n.map(e).join("")}function hU(n,e){return n.filter(function(t){return!ca(t,e)})}var a_=1,bh=1,o$=0,Es=0,Jn=0,Jh="";function l_(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:a_,column:bh,length:o,return:"",siblings:a}}function ml(n,e){return IC(l_("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Hf(n){for(;n.root;)n=ml(n.root,{children:[n]});um(n,n.siblings)}function qPe(){return Jn}function ZPe(){return Jn=Es>0?hr(Jh,--Es):0,bh--,Jn===10&&(bh=1,a_--),Jn}function qs(){return Jn=Es<o$?hr(Jh,Es++):0,bh++,Jn===10&&(bh=1,a_++),Jn}function mu(){return hr(Jh,Es)}function wx(){return Es}function c_(n,e){return xh(Jh,n,e)}function BC(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eIe(n){return a_=bh=1,o$=So(Jh=n),Es=0,[]}function tIe(n){return Jh="",n}function LA(n){return i$(c_(Es-1,LC(n===91?n+2:n===40?n+1:n)))}function nIe(n){for(;(Jn=mu())&&Jn<33;)qs();return BC(n)>2||BC(Jn)>3?"":" "}function rIe(n,e){for(;--e&&qs()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return c_(n,wx()+(e<6&&mu()==32&&qs()==32))}function LC(n){for(;qs();)switch(Jn){case n:return Es;case 34:case 39:n!==34&&n!==39&&LC(Jn);break;case 40:n===41&&LC(n);break;case 92:qs();break}return Es}function iIe(n,e){for(;qs()&&n+Jn!==47+10;)if(n+Jn===42+42&&mu()===47)break;return"/*"+c_(e,Es-1)+"*"+HI(n===47?n:qs())}function sIe(n){for(;!BC(mu());)qs();return c_(n,Es)}function oIe(n){return tIe(Sx("",null,null,null,[""],n=eIe(n),0,[0],n))}function Sx(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,y=0,v=1,x=1,g=1,_=0,b="",S=i,E=s,M=r,R=b;x;)switch(y=_,_=qs()){case 40:if(y!=108&&hr(R,f-1)==58){_x(R+=Mt(LA(_),"&","&\f"),"&\f",r$(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:R+=LA(_);break;case 9:case 10:case 13:case 32:R+=nIe(y);break;case 92:R+=rIe(wx()-1,7);continue;case 47:switch(mu()){case 42:case 47:um(aIe(iIe(qs(),wx()),e,t,l),l);break;default:R+="/"}break;case 123*v:a[c++]=So(R)*g;case 125*v:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+u:g==-1&&(R=Mt(R,/\f/g,"")),m>0&&So(R)-f&&um(m>32?mU(R+";",r,t,f-1,l):mU(Mt(R," ","")+";",r,t,f-2,l),l);break;case 59:R+=";";default:if(um(M=pU(R,e,t,c,u,i,a,b,S=[],E=[],f,s),s),_===123)if(u===0)Sx(R,e,M,M,S,s,f,a,E);else switch(p===99&&hr(R,3)===110?100:p){case 100:case 108:case 109:case 115:Sx(n,M,M,r&&um(pU(n,M,M,0,0,i,a,b,i,S=[],f,E),E),i,E,f,a,r?S:E);break;default:Sx(R,M,M,M,[""],E,0,a,E)}}c=u=m=0,v=g=1,b=R="",f=o;break;case 58:f=1+So(R),m=y;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&ZPe()==125)continue}switch(R+=HI(_),_*v){case 38:g=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(So(R)-1)*g,g=1;break;case 64:mu()===45&&(R+=LA(qs())),p=mu(),u=f=So(b=R+=sIe(wx())),_++;break;case 45:y===45&&So(R)==2&&(v=0)}}return s}function pU(n,e,t,r,i,s,o,a,l,c,u,f){for(var p=i-1,m=i===0?s:[""],y=s$(m),v=0,x=0,g=0;v<r;++v)for(var _=0,b=xh(n,p+1,p=r$(x=o[v])),S=n;_<y;++_)(S=i$(x>0?m[_]+" "+b:Mt(b,/&\f/g,m[_])))&&(l[g++]=S);return l_(n,e,t,i===0?o_:a,l,c,u,f)}function aIe(n,e,t,r){return l_(n,e,t,t$,HI(qPe()),xh(n,2,-2),0,r)}function mU(n,e,t,r,i){return l_(n,e,t,UI,xh(n,0,r),xh(n,r+1,-1),r,i)}function a$(n,e,t){switch(YPe(n,e)){case 5103:return Qt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qt+n+n;case 4789:return Dm+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Qt+n+Dm+n+hn+n+n;case 5936:switch(hr(n,e+11)){case 114:return Qt+n+hn+Mt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Qt+n+hn+Mt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Qt+n+hn+Mt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Qt+n+hn+n+n;case 6165:return Qt+n+hn+"flex-"+n+n;case 5187:return Qt+n+Mt(n,/(\w+).+(:[^]+)/,Qt+"box-$1$2"+hn+"flex-$1$2")+n;case 5443:return Qt+n+hn+"flex-item-"+Mt(n,/flex-|-self/g,"")+(ca(n,/flex-|baseline/)?"":hn+"grid-row-"+Mt(n,/flex-|-self/g,""))+n;case 4675:return Qt+n+hn+"flex-line-pack"+Mt(n,/align-content|flex-|-self/g,"")+n;case 5548:return Qt+n+hn+Mt(n,"shrink","negative")+n;case 5292:return Qt+n+hn+Mt(n,"basis","preferred-size")+n;case 6060:return Qt+"box-"+Mt(n,"-grow","")+Qt+n+hn+Mt(n,"grow","positive")+n;case 4554:return Qt+Mt(n,/([^-])(transform)/g,"$1"+Qt+"$2")+n;case 6187:return Mt(Mt(Mt(n,/(zoom-|grab)/,Qt+"$1"),/(image-set)/,Qt+"$1"),n,"")+n;case 5495:case 3959:return Mt(n,/(image-set\([^]*)/,Qt+"$1$`$1");case 4968:return Mt(Mt(n,/(.+:)(flex-)?(.*)/,Qt+"box-pack:$3"+hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qt+n+n;case 4200:if(!ca(n,/flex-|baseline/))return hn+"grid-column-align"+xh(n,e)+n;break;case 2592:case 3360:return hn+Mt(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,ca(r.props,/grid-\w+-end/)})?~_x(n+(t=t[e].value),"span",0)?n:hn+Mt(n,"-start","")+n+hn+"grid-row-span:"+(~_x(t,"span",0)?ca(t,/\d+/):+ca(t,/\d+/)-+ca(n,/\d+/))+";":hn+Mt(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return ca(r.props,/grid-\w+-start/)})?n:hn+Mt(Mt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Mt(n,/(.+)-inline(.+)/,Qt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(So(n)-1-e>6)switch(hr(n,e+1)){case 109:if(hr(n,e+4)!==45)break;case 102:return Mt(n,/(.+:)(.+)-([^]+)/,"$1"+Qt+"$2-$3$1"+Dm+(hr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~_x(n,"stretch",0)?a$(Mt(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Mt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return hn+i+":"+s+c+(o?hn+i+"-span:"+(a?l:+l-+s)+c:"")+n});case 4949:if(hr(n,e+6)===121)return Mt(n,":",":"+Qt)+n;break;case 6444:switch(hr(n,hr(n,14)===45?18:11)){case 120:return Mt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Qt+(hr(n,14)===45?"inline-":"")+"box$3$1"+Qt+"$2$3$1"+hn+"$2box$3")+n;case 100:return Mt(n,":",":"+hn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Mt(n,"scroll-","scroll-snap-")+n}return n}function Lb(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function lIe(n,e,t,r){switch(n.type){case XPe:if(n.children.length)break;case KPe:case UI:return n.return=n.return||n.value;case t$:return"";case n$:return n.return=n.value+"{"+Lb(n.children,r)+"}";case o_:if(!So(n.value=n.props.join(",")))return""}return So(t=Lb(n.children,r))?n.return=n.value+"{"+t+"}":""}function cIe(n){var e=s$(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function uIe(n){return function(e){e.root||(e=e.return)&&n(e)}}function fIe(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case UI:n.return=a$(n.value,n.length,t);return;case n$:return Lb([ml(n,{value:Mt(n.value,"@","@"+Qt)})],r);case o_:if(n.length)return QPe(t=n.props,function(i){switch(ca(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Hf(ml(n,{props:[Mt(i,/:(read-\w+)/,":"+Dm+"$1")]})),Hf(ml(n,{props:[i]})),IC(n,{props:hU(t,r)});break;case"::placeholder":Hf(ml(n,{props:[Mt(i,/:(plac\w+)/,":"+Qt+"input-$1")]})),Hf(ml(n,{props:[Mt(i,/:(plac\w+)/,":"+Dm+"$1")]})),Hf(ml(n,{props:[Mt(i,/:(plac\w+)/,hn+"input-$1")]})),Hf(ml(n,{props:[i]})),IC(n,{props:hU(t,r)});break}return""})}}var dIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nc=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",l$="active",Db="data-styled-version",Ru="6.1.13",zI=`/*!sc*/
`,Ob=typeof window<"u"&&"HTMLElement"in window,hIe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),pIe={},u_=Object.freeze([]),_h=Object.freeze({});function GI(n,e,t){return t===void 0&&(t=_h),n.theme!==t.theme&&n.theme||e||t.theme}var c$=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mIe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gIe=/(^-|-$)/g;function gU(n){return n.replace(mIe,"-").replace(gIe,"")}var yIe=/(a)(d)/gi,Wv=52,yU=function(n){return String.fromCharCode(n+(n>25?39:97))};function DC(n){var e,t="";for(e=Math.abs(n);e>Wv;e=e/Wv|0)t=yU(e%Wv)+t;return(yU(e%Wv)+t).replace(yIe,"$1-$2")}var DA,u$=5381,Cd=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},f$=function(n){return Cd(u$,n)};function VI(n){return DC(f$(n)>>>0)}function d$(n){return n.displayName||n.name||"Component"}function OA(n){return typeof n=="string"&&!0}var h$=typeof Symbol=="function"&&Symbol.for,p$=h$?Symbol.for("react.memo"):60115,vIe=h$?Symbol.for("react.forward_ref"):60112,xIe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bIe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_Ie=((DA={})[vIe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DA[p$]=m$,DA);function vU(n){return("type"in(e=n)&&e.type.$$typeof)===p$?m$:"$$typeof"in n?_Ie[n.$$typeof]:xIe;var e}var wIe=Object.defineProperty,SIe=Object.getOwnPropertyNames,xU=Object.getOwnPropertySymbols,AIe=Object.getOwnPropertyDescriptor,EIe=Object.getPrototypeOf,bU=Object.prototype;function $I(n,e,t){if(typeof e!="string"){if(bU){var r=EIe(e);r&&r!==bU&&$I(n,r,t)}var i=SIe(e);xU&&(i=i.concat(xU(e)));for(var s=vU(n),o=vU(e),a=0;a<i.length;++a){var l=i[a];if(!(l in bIe||t&&t[l]||o&&l in o||s&&l in s)){var c=AIe(e,l);try{wIe(n,l,c)}catch{}}}}return n}function Pu(n){return typeof n=="function"}function f_(n){return typeof n=="object"&&"styledComponentId"in n}function iu(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Sg(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=e?e+n[r]:n[r];return t}function Ag(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function OC(n,e,t){if(t===void 0&&(t=!1),!t&&!Ag(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=OC(n[r],e[r]);else if(Ag(e))for(var r in e)n[r]=OC(n[r],e[r]);return n}function WI(n,e){Object.defineProperty(n,"toString",{value:e})}function ys(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var MIe=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ys(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(zI);return t},n}(),Ax=new Map,kb=new Map,Ex=1,jv=function(n){if(Ax.has(n))return Ax.get(n);for(;kb.has(Ex);)Ex++;var e=Ex++;return Ax.set(n,e),kb.set(e,n),e},CIe=function(n,e){Ex=e+1,Ax.set(n,e),kb.set(e,n)},TIe="style[".concat(nc,"][").concat(Db,'="').concat(Ru,'"]'),RIe=new RegExp("^".concat(nc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),PIe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},IIe=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(zI),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(RIe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(CIe(u,c),PIe(n,u,l[3]),n.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},_U=function(n){for(var e=document.querySelectorAll(TIe),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(nc)!==l$&&(IIe(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function kC(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var g$=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(nc,"]")));return l[l.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(nc,l$),r.setAttribute(Db,Ru);var o=kC();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},BIe=function(){function n(e){this.element=g$(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw ys(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),LIe=function(){function n(e){this.element=g$(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),DIe=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),wU=Ob,OIe={isServer:!Ob,useCSSOMInjection:!hIe},wh=function(){function n(e,t,r){e===void 0&&(e=_h),t===void 0&&(t={});var i=this;this.options=Yn(Yn({},OIe),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Ob&&wU&&(wU=!1,_U(this)),WI(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(f){var p=function(g){return kb.get(g)}(f);if(p===void 0)return"continue";var m=s.names.get(p),y=o.getGroup(f);if(m===void 0||!m.size||y.length===0)return"continue";var v="".concat(nc,".g").concat(f,'[id="').concat(p,'"]'),x="";m!==void 0&&m.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(y).concat(v,'{content:"').concat(x,'"}').concat(zI)},u=0;u<a;u++)c(u);return l}(i)})}return n.registerId=function(e){return jv(e)},n.prototype.rehydrate=function(){!this.server&&Ob&&_U(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Yn(Yn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new DIe(i):r?new BIe(i):new LIe(i)}(this.options),new MIe(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(jv(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(jv(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(jv(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),kIe=/&/g,NIe=/^\s*\/\/.*$/gm;function y$(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=y$(t.children,e)),t})}function v$(n){var e,t,r,i=n===void 0?_h:n,s=i.options,o=s===void 0?_h:s,a=i.plugins,l=a===void 0?u_:a,c=function(p,m,y){return y.startsWith(t)&&y.endsWith(t)&&y.replaceAll(t,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===o_&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(kIe,t).replace(r,c))}),o.prefix&&u.push(fIe),u.push(lIe);var f=function(p,m,y,v){m===void 0&&(m=""),y===void 0&&(y=""),v===void 0&&(v="&"),e=v,t=m,r=new RegExp("\\".concat(t,"\\b"),"g");var x=p.replace(NIe,""),g=oIe(y||m?"".concat(y," ").concat(m," { ").concat(x," }"):x);o.namespace&&(g=y$(g,o.namespace));var _=[];return Lb(g,cIe(u.concat(uIe(function(b){return _.push(b)})))),_};return f.hash=l.length?l.reduce(function(p,m){return m.name||ys(15),Cd(p,m.name)},u$).toString():"",f}var x$=new wh,NC=v$(),d_=D.createContext({shouldForwardProp:void 0,styleSheet:x$,stylis:NC}),FIe=d_.Consumer,UIe=D.createContext(void 0);function Nb(){return P.useContext(d_)}function b$(n){var e=P.useState(n.stylisPlugins),t=e[0],r=e[1],i=Nb().styleSheet,s=P.useMemo(function(){var l=i;return n.sheet?l=n.sheet:n.target&&(l=l.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(l=l.reconstructWithOptions({useCSSOMInjection:!1})),l},[n.disableCSSOMInjection,n.sheet,n.target,i]),o=P.useMemo(function(){return v$({options:{namespace:n.namespace,prefix:n.enableVendorPrefixes},plugins:t})},[n.enableVendorPrefixes,n.namespace,t]);P.useEffect(function(){JPe(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]);var a=P.useMemo(function(){return{shouldForwardProp:n.shouldForwardProp,styleSheet:s,stylis:o}},[n.shouldForwardProp,s,o]);return D.createElement(d_.Provider,{value:a},D.createElement(UIe.Provider,{value:o},n.children))}var _$=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=NC);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,WI(this,function(){throw ys(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=NC),this.name+e.hash},n}(),HIe=function(n){return n>="A"&&n<="Z"};function SU(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;HIe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var w$=function(n){return n==null||n===!1||n===""},S$=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!w$(s)&&(Array.isArray(s)&&s.isCss||Pu(s)?r.push("".concat(SU(i),":"),s,";"):Ag(s)?r.push.apply(r,vh(vh(["".concat(i," {")],S$(s),!1),["}"],!1)):r.push("".concat(SU(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in dIe||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function zl(n,e,t,r){if(w$(n))return[];if(f_(n))return[".".concat(n.styledComponentId)];if(Pu(n)){if(!Pu(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return zl(i,e,t,r)}var s;return n instanceof _$?t?(n.inject(t,r),[n.getName(r)]):[n]:Ag(n)?S$(n):Array.isArray(n)?Array.prototype.concat.apply(u_,n.map(function(o){return zl(o,e,t,r)})):[n.toString()]}function A$(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Pu(t)&&!f_(t))return!1}return!0}var zIe=f$(Ru),GIe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&A$(e),this.componentId=t,this.baseHash=Cd(zIe,t),this.baseStyle=r,wh.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=iu(i,this.staticRulesId);else{var s=Sg(zl(this.rules,e,t,r)),o=DC(Cd(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=iu(i,o),this.staticRulesId=o}else{for(var l=Cd(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var f=this.rules[u];if(typeof f=="string")c+=f;else if(f){var p=Sg(zl(f,e,t,r));l=Cd(l,p+u),c+=p}}if(c){var m=DC(l>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=iu(i,m)}}return i},n}(),rc=D.createContext(void 0),VIe=rc.Consumer;function $Ie(){var n=P.useContext(rc);if(!n)throw ys(18);return n}function WIe(n){var e=D.useContext(rc),t=P.useMemo(function(){return function(r,i){if(!r)throw ys(14);if(Pu(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ys(8);return i?Yn(Yn({},i),r):r}(n.theme,e)},[n.theme,e]);return n.children?D.createElement(rc.Provider,{value:t},n.children):null}var kA={};function jIe(n,e,t){var r=f_(n),i=n,s=!OA(n),o=e.attrs,a=o===void 0?u_:o,l=e.componentId,c=l===void 0?function(S,E){var M=typeof S!="string"?"sc":gU(S);kA[M]=(kA[M]||0)+1;var R="".concat(M,"-").concat(VI(Ru+M+kA[M]));return E?"".concat(E,"-").concat(R):R}(e.displayName,e.parentComponentId):l,u=e.displayName,f=u===void 0?function(S){return OA(S)?"styled.".concat(S):"Styled(".concat(d$(S),")")}(n):u,p=e.displayName&&e.componentId?"".concat(gU(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;y=function(S,E){return v(S,E)&&x(S,E)}}else y=v}var g=new GIe(t,p,r?i.componentStyle:void 0);function _(S,E){return function(M,R,B){var T=M.attrs,I=M.componentStyle,O=M.defaultProps,z=M.foldedComponentIds,H=M.styledComponentId,N=M.target,J=D.useContext(rc),X=Nb(),Y=M.shouldForwardProp||X.shouldForwardProp,k=GI(R,J,O)||_h,U=function(de,oe,Q){for(var Me,ue=Yn(Yn({},oe),{className:void 0,theme:Q}),he=0;he<de.length;he+=1){var Se=Pu(Me=de[he])?Me(ue):Me;for(var me in Se)ue[me]=me==="className"?iu(ue[me],Se[me]):me==="style"?Yn(Yn({},ue[me]),Se[me]):Se[me]}return oe.className&&(ue.className=iu(ue.className,oe.className)),ue}(T,R,k),V=U.as||N,q={};for(var ee in U)U[ee]===void 0||ee[0]==="$"||ee==="as"||ee==="theme"&&U.theme===k||(ee==="forwardedAs"?q.as=U.forwardedAs:Y&&!Y(ee,V)||(q[ee]=U[ee]));var se=function(de,oe){var Q=Nb(),Me=de.generateAndInjectStyles(oe,Q.styleSheet,Q.stylis);return Me}(I,U),Z=iu(z,H);return se&&(Z+=" "+se),U.className&&(Z+=" "+U.className),q[OA(V)&&!c$.has(V)?"class":"className"]=Z,q.ref=B,P.createElement(V,q)}(b,S,E)}_.displayName=f;var b=D.forwardRef(_);return b.attrs=m,b.componentStyle=g,b.displayName=f,b.shouldForwardProp=y,b.foldedComponentIds=r?iu(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=p,b.target=r?i.target:n,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(E){for(var M=[],R=1;R<arguments.length;R++)M[R-1]=arguments[R];for(var B=0,T=M;B<T.length;B++)OC(E,T[B],!0);return E}({},i.defaultProps,S):S}}),WI(b,function(){return".".concat(b.styledComponentId)}),s&&$I(b,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function AU(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var EU=function(n){return Object.assign(n,{isCss:!0})};function h_(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Pu(n)||Ag(n))return EU(zl(AU(u_,vh([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?zl(r):EU(zl(AU(r,e)))}function FC(n,e,t){if(t===void 0&&(t=_h),!e)throw ys(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,h_.apply(void 0,vh([i],s,!1)))};return r.attrs=function(i){return FC(n,e,Yn(Yn({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return FC(n,e,Yn(Yn({},t),i))},r}var E$=function(n){return FC(jIe,n)},fn=E$;c$.forEach(function(n){fn[n]=E$(n)});var JIe=function(){function n(e,t){this.rules=e,this.componentId=t,this.isStatic=A$(e),wh.registerId(this.componentId+1)}return n.prototype.createStyles=function(e,t,r,i){var s=i(Sg(zl(this.rules,t,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},n.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},n.prototype.renderStyles=function(e,t,r,i){e>2&&wh.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,i)},n}();function KIe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=h_.apply(void 0,vh([n],e,!1)),i="sc-global-".concat(VI(JSON.stringify(r))),s=new JIe(r,i),o=function(l){var c=Nb(),u=D.useContext(rc),f=D.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(f,l,c.styleSheet,u,c.stylis),D.useLayoutEffect(function(){if(!c.styleSheet.server)return a(f,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(f,c.styleSheet)}},[f,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,f,p){if(s.isStatic)s.renderStyles(l,pIe,u,p);else{var m=Yn(Yn({},c),{theme:GI(c,f,o.defaultProps)});s.renderStyles(l,m,u,p)}}return D.memo(o)}function XIe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=Sg(h_.apply(void 0,vh([n],e,!1))),i=VI(r);return new _$(i,r)}function YIe(n){var e=D.forwardRef(function(t,r){var i=GI(t,D.useContext(rc),n.defaultProps);return D.createElement(n,Yn({},t,{theme:i,ref:r}))});return e.displayName="WithTheme(".concat(d$(n),")"),$I(e,n)}var QIe=function(){function n(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=kC(),i=Sg([r&&'nonce="'.concat(r,'"'),"".concat(nc,'="true"'),"".concat(Db,'="').concat(Ru,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw ys(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw ys(2);var r=e.instance.toString();if(!r)return[];var i=((t={})[nc]="",t[Db]=Ru,t.dangerouslySetInnerHTML={__html:r},t),s=kC();return s&&(i.nonce=s),[D.createElement("style",Yn({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new wh({isServer:!0}),this.sealed=!1}return n.prototype.collectStyles=function(e){if(this.sealed)throw ys(2);return D.createElement(b$,{sheet:this.instance},e)},n.prototype.interleaveWithNodeStream=function(e){throw ys(3)},n}(),qIe={StyleSheet:wh,mainSheet:x$};const ZIe=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:QIe,StyleSheetConsumer:FIe,StyleSheetContext:d_,StyleSheetManager:b$,ThemeConsumer:VIe,ThemeContext:rc,ThemeProvider:WIe,__PRIVATE__:qIe,createGlobalStyle:KIe,css:h_,default:fn,isStyledComponent:f_,keyframes:XIe,styled:fn,useTheme:$Ie,version:Ru,withTheme:YIe},Symbol.toStringTag,{value:"Module"})),e2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAOCAYAAADT0Rc6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMzgwMTE3NDA3MjA2ODExODA4MzlFRjgwMkJGMENDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NzRFMzQ0QjI3MzgxMUU4QjRFMUVBNEJCODU5RDAzMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NzRFMzQ0QTI3MzgxMUU4QjRFMUVBNEJCODU5RDAzMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUE3RjExNzQwNzIwNjgxMUIxQTQ5QTgyNkJBMzJBOEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDM4MDExNzQwNzIwNjgxMTgwODM5RUY4MDJCRjBDQzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5cNiR0AAAA50lEQVR42qSUaw6EMAiEYY8rB7JcVrYoNaQCNbsk88N2ypc+HICrtq69CyEvNM8mIuCk33sXTuNeaJ5zrRZ1HV361RIw2pyYd4Cp65CrWgJGmxPz6gbvZpKAMfJYw9FMEjBGntGUE3AEVC+6ppyAI6B60e8mAldAWIBD4LjTCvwAqjG5txkcAmdoBWZ/z8UL5RVQ9YF3JfB7lWtXx9v+ON4WHW8E5GTszUPiZOx+SBkQq7kFEKs5yH6LxbFn4cBBOHAUDj4GuYhBdjFIQQxyEYPsYpBGUypyd45DmppSkbtzHJ5rvwIMAKXLCXxfiHXkAAAAAElFTkSuQmCC",t2e=fn.div`
  position: relative;
  box-sizing: border-box;
  padding: 5%;

  transition: background-color 0.2s, opacity 0.2s;

  &::before {
    content: '';
    width: 90%;
    height: 2px;
    background-color: rgba(0, 0, 0, 0.2);
    position: absolute;
    top: 0;
    left: 5%;
  }
`,n2e=fn.div`
  width: 57%;
  display: inline-block;
  vertical-align: middle;
`,r2e=fn.p`
  color: #ececec;
  margin: 0;
`,i2e=fn.p`
  color: #5b5a5e;
  margin: 0;
`,s2e=fn.div`
  display: inline-block;
  vertical-align: middle;
  color: ${({theme:n})=>n.colors.secondary};
  text-align: right;
  width: 25%;
`,o2e=fn.button`
  width: 16px;
  height: 16px;
  top: 15px;
  right: 5%;
  border-radius: 50%;
  position: absolute;
  background-size: auto 100%;
  background-image: url(${e2e});
  background-repeat: no-repeat;
  z-index: 2;
  cursor: pointer;
  border: 0;
  background-color: transparent;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    background-position-x: -17px;
  }
`,Fb=fn.button`
  color: #b7b7b7;
  border: 0;
  background-color: #000;
  width: 25px;
  height: 25px;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:disabled {
    opacity: 0.2;
  }
`;fn.img`
  display: inline-block;
  vertical-align: middle;
  width: 15%;
  height: auto;
  margin-right: 3%;
`;const a2e=({product:n})=>{const{removeProduct:e,increaseProductQuantity:t,decreaseProductQuantity:r}=v0(),{sku:i,title:s,price:o,style:a,currencyId:l,currencyFormat:c,availableSizes:u,quantity:f}=n,p=()=>e(n),m=()=>t(n),y=()=>r(n);return Qe(t2e,{children:[K(o2e,{onClick:p,title:"remove product from cart"}),i(s),Qe(n2e,{children:[K(r2e,{children:s}),Qe(i2e,{children:[`${u.join(", ")} | ${a}`," ",K("br",{}),"Quantity: ",f]})]}),Qe(s2e,{children:[K("p",{children:`${c}  ${PC(o,l)}`}),Qe("div",{children:[K(Fb,{onClick:y,disabled:f===1,children:"-"}),K(Fb,{onClick:m,children:"+"})]})]})]})},l2e=fn.div`
  position: relative;
  min-height: 280px;
  padding-bottom: 200px;
`,c2e=fn.p`
  color: #ececec;
  text-align: center;
  line-height: 40px;
`,u2e=({products:n})=>K(l2e,{children:n!=null&&n.length?n.map(e=>K(a2e,{product:e},e.sku)):Qe(c2e,{children:["Add some products in the cart ",K("br",{}),":)"]})}),f2e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCwwQEgYn7+gWAAABQklEQVRIx9WTsUoDQRRF72xMYSFokcRCjBFESGWRwtZe8AtEFFNrI1bB0tLGQuzs/AJB8AO2kZRCxBiRQNKIoIYoyLFwCZuss9nNgpBXzc7be3j3zow09mU48321zVF8gNtbZ5Q1UwmGYQPIxFU5vnVdUuHfARO+OD5oa9GzM6NcbICkem+CLZ0kA1zKHQ2w6tlpqRUN4AwA5knFiTAISGsuHqDfwoOkgp4kUkoP1WI+Azt02ZYk9hle3cAEBh69c7iKEOJ30IJU/71KpqbaKCH6b0LEGgTcaYXpeIj+GJf54pyI70CSTACxq1M5ehmqvDCHfwIkFrQW4S1WzXUCq+E5lNhkMqSfo0ze3t7hlWeqIfJ3GnQo2n644ZhZYMnSL9OQcKnYAHs0ueUeY+nn6eDyRskGcFjngGxIBkUqVvk41g+oBJ136GBf8AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMS0xMlQxNjoxODowNiswMTowMEVm3zEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTEtMTJUMTY6MTg6MDYrMDE6MDA0O2eNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",UC=fn.button`
  border: 0;
  padding: 0;
  width: 50px;
  height: 50px;
  color: #ececec;
  background-color: ${({theme:n})=>n.colors.primary};
  text-align: center;
  line-height: 50px;
  position: absolute;
  top: 0;
  left: 0;
  cursor: pointer;
  z-index: 2;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    filter: brightness(85%);
  }
`,d2e=fn.div`
  position: fixed;
  top: 0;
  right: ${({isOpen:n})=>n?"0":"-100%"};
  width: 100%;
  height: 100%;
  background-color: ${({theme:n})=>n.colors.primary};
  box-sizing: border-box;
  z-index: 999999999999999999999999999999999;

  transition: right 0.2s;

  ${UC} {
    left: ${({isOpen:n})=>n?"0":"-50px"};
    background-color: ${({theme:n,isOpen:e})=>e?n.colors.black:n.colors.primary};
  }

  @media only screen and (min-width: ${({theme:{breakpoints:n}})=>n.tablet}) {
    width: 450px;
    right: ${({isOpen:n})=>n?"0":"-450px"};

    ${UC} {
      left: -50px;
    }
  }
`,MU=fn.div`
  width: ${({large:n})=>n?"60px":"50px"};
  height: ${({large:n})=>n?"60px":"50px"};
  position: relative;
  display: inline-block;
  vertical-align: middle;
  margin-right: 15px;
  background-image: url(${f2e});
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;

  background-size: 50%;
`,CU=fn.div`
  display: inline-block;
  width: 18px;
  height: 18px;
  color: #0c0b10;
  font-weight: bold;
  font-size: 0.7em;
  text-align: center;
  line-height: 18px;
  border-radius: 50%;
  background-color: ${({theme:n})=>n.colors.secondary};
  position: absolute;
  bottom: 0;
  right: 5px;
`,h2e=fn.div`
  height: 100%;
  overflow-y: scroll;

  /* MAC scrollbar para desktop*/
  @media screen and (min-width: 640px) {
    &::-webkit-scrollbar {
      -webkit-appearance: none;
      width: 10px;
      background-color: rgba(0, 0, 0, 0.2);
      padding: 10px;
    }
    &::-webkit-scrollbar-thumb {
      border-radius: 4px;
      background-color: #0c0b10;
    }
  }
`,p2e=fn.div`
  color: #ececec;
  box-sizing: border-box;
  text-align: center;
  padding: 45px 0;
`,m2e=fn.span`
  font-weight: bold;
  font-size: 1.2em;
  vertical-align: middle;
`,g2e=fn.p`
  width: 20%;
  color: #5b5a5e;
  vertical-align: middle;
  display: inline-block;
`,y2e=fn.div`
  width: 80%;
  text-align: right;
  color: #5b5a5e;
  vertical-align: middle;
  display: inline-block;
`,v2e=fn.p`
  color: ${({theme:n})=>n.colors.secondary};
  font-size: 22px;
  margin: 0;
`,x2e=fn.p`
  margin: 0;
`,b2e=fn.button.attrs({type:"button"})`
  width: 100%;
  border: 0;
  color: #ececec;
  text-transform: uppercase;
  background-color: #0c0b10;
  text-align: center;
  padding: 15px 0;
  margin-top: 40px;
  cursor: pointer;
  outline: none;

  transition: background-color 0.2s;

  &:focus-visible {
    outline: 3px solid ${({theme:n})=>n.colors.secondary};
  }

  &:hover {
    background-color: #000;
  }
`,_2e=fn.div`
  box-sizing: border-box;
  padding: 5%;
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 200px;
  z-index: 2;
  background-color: ${({theme:n})=>n.colors.primary};

  &::before {
    content: '';
    width: 100%;
    height: 20px;
    display: block;
    position: absolute;
    top: -20px;
    left: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2), transparent);
  }
`,w2e=()=>{const{products:n,total:e,isOpen:t,openCart:r,closeCart:i}=v0();return Qe(d2e,{isOpen:t,children:[K(UC,{onClick:(o=>()=>o?i():r())(t),children:t?K("span",{children:"X"}):K(MU,{children:K(CU,{title:"Products in cart quantity",children:e.productQuantity})})}),t&&Qe(h2e,{children:[Qe(p2e,{children:[K(MU,{large:!0,children:K(CU,{children:e.productQuantity})}),K(m2e,{children:"Cart"})]}),K(u2e,{products:n}),Qe(_2e,{children:[K(g2e,{children:"SUBTOTAL"}),Qe(y2e,{children:[K(v2e,{children:`${e.currencyFormat} ${PC(e.totalPrice,e.currencyId)}`}),K(x2e,{children:e.installments?K("span",{children:`OR UP TO ${e.installments} x ${e.currencyFormat} ${PC(e.totalPrice/e.installments,e.currencyId)}`}):null})]}),K(b2e,{onClick:()=>{it.buy=!0,yu()},children:"Checkout"})]})]})]})},S2e=()=>K(w2e,{}),A2e=({setItems:n,items:e})=>{const t=vi(it),{addProduct:r,openCart:i}=v0(),[s,o]=P.useState(t.size),a={shirt:{id:"shirt-1",sku:e[0].icon(),title:"Shirt",description:"Elevate your wardrobe with our classic shirt, tailored for a perfect fit and crafted with premium, breathable fabric. Ideal for both formal and casual occasions, this shirt ensures you stay stylish and comfortable all day.",availableSizes:[s],style:"Quality",price:560,color:t.color.shirt,isLogoTexture:t.isLogoTexture,isBaseTexture:t.isBaseTexture,texture:t.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1},hoodie:{id:"hoodie-1",sku:e[1].icon(),title:"Hoodie",description:"Stay warm and cozy in our stylish hoodie, designed to keep you comfortable in all weather conditions. Made with premium fabric, this hoodie is perfect for casual outings and everyday wear.",availableSizes:[s],style:"Quality",price:899,color:t.color.hoodie,isLogoTexture:t.isLogoTexture,isBaseTexture:t.isBaseTexture,texture:t.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1}},[l,c]=P.useState(""),[u,f]=P.useState(""),[p,m]=P.useState(!1),[y,v]=P.useState(""),[x,g]=P.useState({logoShirt:!1,baseShirt:!0}),_=()=>{switch(y){case"colorpicker":return K(RPe,{setActiveEditorTab:v});case"filepicker":return K(PPe,{setActiveEditorTab:v,file:l,setFile:c,readFile:M});case"aipicker":return K(Hwe,{prompt:u,setPrompt:f,generatingImg:p,handleSubmit:b});default:return null}},b=async R=>{if(!u)return alert("Please enter a prompt");try{m(!0);const T=await(await fetch("http://localhost:8080/api/v1/dalle",{method:"POST",body:JSON.stringify({prompt:u}),headers:{"Content-Type":"application/json"}})).json(),I=await fetch(`http://localhost:8080/api/v1/dalle/fetch-image?imageUrl=${encodeURIComponent(T.photo)}`),O=await gF(await I.blob());S(R,O)}catch(B){alert(B)}finally{m(!1),v("")}},S=(R,B)=>{const T=zPe[R];it[T.stateProperty]=B,x[T.filterTab]||E(T.filterTab)},E=R=>{switch(R){case"logoShirt":it.isLogoTexture=!x[R];break;case"stylishShirt":it.isFullTexture=!x[R];break;case"baseShirt":it.isBaseTexture=!x[R];break;default:it.isLogoTexture=!1,it.isFullTexture=!1,it.isBaseTexture=!0;break}g(B=>({...B,[R]:!B[R]}))},M=R=>{gF(l).then(B=>{S(R,B),v("")})};return!t.buy&&K(g8,{children:!t.intro&&Qe(Pa,{children:[K(fa.div,{className:"absolute top-0 left-0 z-10",...Fwe("left"),children:K("div",{className:"flex items-center min-h-screen",children:Qe("div",{className:"editortabs-container tabs",children:[HPe.map(R=>Qe("div",{style:{float:"left"},children:[K(GPe,{tab:R,handleClick:()=>{y==""?(v(R.name),console.log("moose")):v(""),R.name==="addToCart"&&r({...a[t.selectedApparel],title:a[t.selectedApparel].title+` ${a[t.selectedApparel].texture.split("/").slice(-1)[0].replace(".png","")}`,id:`PROD-${a[t.selectedApparel].title.toLocaleUpperCase()}-${a[t.selectedApparel].availableSizes[0]}-${a[t.selectedApparel].color.replace("#","")}-${a[t.selectedApparel].texture}`,sku:B=>{if(B.toLocaleUpperCase()==="SHIRT")return K(TC,{texture:a[t.selectedApparel].texture,color:a[t.selectedApparel].color});a[t.selectedApparel].texture,a[t.selectedApparel].color}}),R.name==="buyNow"&&(r({...a[t.selectedApparel],title:a[t.selectedApparel].title+` ${a[t.selectedApparel].texture.split("/").slice(-1)[0].replace(".png","")}`,id:`PROD-${a[t.selectedApparel].title.toLocaleUpperCase()}-${a[t.selectedApparel].availableSizes[0]}-${a[t.selectedApparel].color.replace("#","")}-${a[t.selectedApparel].texture}`,sku:B=>{if(B.toLocaleUpperCase()==="SHIRT")return K(TC,{texture:a[t.selectedApparel].texture,color:a[t.selectedApparel].color});a[t.selectedApparel].texture,a[t.selectedApparel].color}}),it.buy=!0,yu()),["logoShirt","baseShirt"].includes(R.name)&&E(R.name)}},R.name),K("center",{children:K("span",{style:{fontSize:"10px"},children:R.display})})]})),_()]})})},"custom"),!t.intro&&K(fa.div,{className:"absolute bottom-32 right-0 z-10",children:K("div",{className:"flex items-center min-h-screen",children:K("div",{className:"editortabs-container tabs",children:Q8.map(R=>K(q8,{tab:R,selectedSize:s,handleClick:()=>{o(R.name),it.size=R.name}},R.name))})})},"custom"),Qe(fa.div,{className:"absolute z-10 top-10 right-0",children:[K("div",{className:"w-fit px-4 py-2.5 font-bold text-sm",children:K(S2e,{})}),K(Bm,{type:"filled",title:"← Back",handleClick:()=>it.intro=!0,customStyles:"w-fit px-4 py-2.5 font-bold text-sm"})]})]})})};function E2e(n){if(Array.isArray(n))return n}function M2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function HC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function M$(n,e){if(n){if(typeof n=="string")return HC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?HC(n,e):void 0}}function C2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mx(n,e){return E2e(n)||M2e(n,e)||M$(n,e)||C2e()}function pr(n){return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(n)}function Bo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var o=pr(s);if(o==="string"||o==="number")r.push(s);else if(o==="object"){var a=Array.isArray(s)?s:Object.entries(s).map(function(l){var c=Mx(l,2),u=c[0],f=c[1];return f?u:null});r=a.length?r.concat(a.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function T2e(n){if(Array.isArray(n))return HC(n)}function R2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function P2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zC(n){return T2e(n)||R2e(n)||M$(n)||P2e()}function jI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function I2e(n,e){if(pr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(pr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C$(n){var e=I2e(n,"string");return pr(e)=="symbol"?e:e+""}function TU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,C$(r.key),r)}}function JI(n,e,t){return e&&TU(n.prototype,e),t&&TU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function p_(n,e,t){return(e=C$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NA(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=B2e(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){a=!0,s=c},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function B2e(n,e){if(n){if(typeof n=="string")return RU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?RU(n,e):void 0}}function RU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var Nn=function(){function n(){jI(this,n)}return JI(n,null,[{key:"innerWidth",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},{key:"getOuterWidth",value:function(t,r){if(t){var i=t.getBoundingClientRect().width||t.offsetWidth;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(t,r){if(t){var i=t.getBoundingClientRect().height||t.offsetHeight;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(t,r){if(t){var i=t.clientHeight;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(t,r){if(t){var i=t.clientWidth;if(r){var s=getComputedStyle(t);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||s.clientWidth,a=t.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:a}}},{key:"getOffset",value:function(t){if(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(t){if(t)for(var r=t.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===t)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(t,r){if(t&&r)if(t.classList)for(var i=r.split(" "),s=0;s<i.length;s++)t.classList.add(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)t.className=t.className+(" "+o[a])}},{key:"removeMultipleClasses",value:function(t,r){if(t&&r)if(t.classList)for(var i=r.split(" "),s=0;s<i.length;s++)t.classList.remove(i[s]);else for(var o=r.split(" "),a=0;a<o.length;a++)t.className=t.className.replace(new RegExp("(^|\\b)"+o[a].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(t,r){t&&r&&(t.classList?t.classList.add(r):t.className=t.className+(" "+r))}},{key:"removeClass",value:function(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,r){return t?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}},{key:"addStyles",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&Object.entries(r).forEach(function(i){var s=Mx(i,2),o=s[0],a=s[1];return t.style[o]=a})}},{key:"find",value:function(t,r){return t?Array.from(t.querySelectorAll(r)):[]}},{key:"findSingle",value:function(t,r){return t?t.querySelector(r):null}},{key:"setAttributes",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var s=function(a,l){var c,u,f=t!=null&&(c=t.$attrs)!==null&&c!==void 0&&c[a]?[t==null||(u=t.$attrs)===null||u===void 0?void 0:u[a]]:[];return[l].flat().reduce(function(p,m){if(m!=null){var y=pr(m);if(y==="string"||y==="number")p.push(m);else if(y==="object"){var v=Array.isArray(m)?s(a,m):Object.entries(m).map(function(x){var g=Mx(x,2),_=g[0],b=g[1];return a==="style"&&(b||b===0)?"".concat(_.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(b):b?_:void 0});p=v.length?p.concat(v.filter(function(x){return!!x})):p}}return p},f)};Object.entries(i).forEach(function(o){var a=Mx(o,2),l=a[0],c=a[1];if(c!=null){var u=l.match(/^on(.+)/);u?t.addEventListener(u[1].toLowerCase(),c):l==="p-bind"?r.setAttributes(t,c):(c=l==="class"?zC(new Set(s("class",c))).join(" ").trim():l==="style"?s("style",c).join(";").trim():c,(t.$attrs=t.$attrs||{})&&(t.$attrs[l]=c),t.setAttribute(l,c))}})}}},{key:"getAttribute",value:function(t,r){if(t){var i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(t,r,i){return t?this.getAttribute(t,r)===i:!1}},{key:"isAttributeNotEquals",value:function(t,r,i){return!this.isAttributeEquals(t,r,i)}},{key:"getHeight",value:function(t){if(t){var r=t.offsetHeight,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(t){if(t){var r=t.offsetWidth,i=getComputedStyle(t);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(t,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;t&&r&&(i==="self"?this.relativePosition(t,r):(s&&(t.style.minWidth=n.getOuterWidth(r)+"px"),this.absolutePosition(t,r)))}},{key:"absolutePosition",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(t&&r){var s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight,c=r.offsetWidth,u=r.getBoundingClientRect(),f=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),m=this.getViewport(),y,v;u.top+l+o>m.height?(y=u.top+f-o,y<0&&(y=f),t.style.transformOrigin="bottom"):(y=l+u.top+f,t.style.transformOrigin="top");var x=u.left,g=i==="left"?0:a-c;x+c+a>m.width?v=Math.max(0,x+p+c-a):v=x-g+p,t.style.top=y+"px",t.style.left=v+"px"}}},{key:"relativePosition",value:function(t,r){if(t&&r){var i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.offsetHeight,o=r.getBoundingClientRect(),a=this.getViewport(),l,c;o.top+s+i.height>a.height?(l=-1*i.height,o.top+l<0&&(l=-1*o.top),t.style.transformOrigin="bottom"):(l=s,t.style.transformOrigin="top"),i.width>a.width?c=o.left*-1:o.left+i.width>a.width?c=(o.left+i.width-a.width)*-1:c=0,t.style.top=l+"px",t.style.left=c+"px"}}},{key:"flipfitCollision",value:function(t,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",a=arguments.length>4?arguments[4]:void 0;if(t&&r){var l=r.getBoundingClientRect(),c=this.getViewport(),u=s.split(" "),f=o.split(" "),p=function(g,_){return _?+g.substring(g.search(/(\+|-)/g))||0:g.substring(0,g.search(/(\+|-)/g))||g},m={my:{x:p(u[0]),y:p(u[1]||u[0]),offsetX:p(u[0],!0),offsetY:p(u[1]||u[0],!0)},at:{x:p(f[0]),y:p(f[1]||f[0]),offsetX:p(f[0],!0),offsetY:p(f[1]||f[0],!0)}},y={left:function(){var g=m.my.offsetX+m.at.offsetX;return g+l.left+(m.my.x==="left"?0:-1*(m.my.x==="center"?i.getOuterWidth(t)/2:i.getOuterWidth(t)))},top:function(){var g=m.my.offsetY+m.at.offsetY;return g+l.top+(m.my.y==="top"?0:-1*(m.my.y==="center"?i.getOuterHeight(t)/2:i.getOuterHeight(t)))}},v={count:{x:0,y:0},left:function(){var g=y.left(),_=n.getWindowScrollLeft();t.style.left=g+_+"px",this.count.x===2?(t.style.left=_+"px",this.count.x=0):g<0&&(this.count.x++,m.my.x="left",m.at.x="right",m.my.offsetX*=-1,m.at.offsetX*=-1,this.right())},right:function(){var g=y.left()+n.getOuterWidth(r),_=n.getWindowScrollLeft();t.style.left=g+_+"px",this.count.x===2?(t.style.left=c.width-n.getOuterWidth(t)+_+"px",this.count.x=0):g+n.getOuterWidth(t)>c.width&&(this.count.x++,m.my.x="right",m.at.x="left",m.my.offsetX*=-1,m.at.offsetX*=-1,this.left())},top:function(){var g=y.top(),_=n.getWindowScrollTop();t.style.top=g+_+"px",this.count.y===2?(t.style.left=_+"px",this.count.y=0):g<0&&(this.count.y++,m.my.y="top",m.at.y="bottom",m.my.offsetY*=-1,m.at.offsetY*=-1,this.bottom())},bottom:function(){var g=y.top()+n.getOuterHeight(r),_=n.getWindowScrollTop();t.style.top=g+_+"px",this.count.y===2?(t.style.left=c.height-n.getOuterHeight(t)+_+"px",this.count.y=0):g+n.getOuterHeight(r)>c.height&&(this.count.y++,m.my.y="bottom",m.at.y="top",m.my.offsetY*=-1,m.at.offsetY*=-1,this.top())},center:function(g){if(g==="y"){var _=y.top()+n.getOuterHeight(r)/2;t.style.top=_+n.getWindowScrollTop()+"px",_<0?this.bottom():_+n.getOuterHeight(r)>c.height&&this.top()}else{var b=y.left()+n.getOuterWidth(r)/2;t.style.left=b+n.getWindowScrollLeft()+"px",b<0?this.left():b+n.getOuterWidth(t)>c.width&&this.right()}}};v[m.at.x]("x"),v[m.at.y]("y"),this.isFunction(a)&&a(m)}}},{key:"findCollisionPosition",value:function(t){if(t){var r=t==="top"||t==="bottom",i=t==="left"?"right":"left",s=t==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(t)}:{axis:"x",my:"".concat(i," center"),at:"".concat(t," center")}}}},{key:"getParents",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}},{key:"getScrollableParents",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(t){var s=this.getParents(t),o=/(auto|scroll)/,a=function(b){var S=b?getComputedStyle(b):null;return S&&(o.test(S.getPropertyValue("overflow"))||o.test(S.getPropertyValue("overflow-x"))||o.test(S.getPropertyValue("overflow-y")))},l=function(b){r?i.push(b.nodeName==="BODY"||b.nodeName==="HTML"||b.nodeType===9?window:b):i.push(b)},c=NA(s),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,p=f.nodeType===1&&f.dataset.scrollselectors;if(p){var m=p.split(","),y=NA(m),v;try{for(y.s();!(v=y.n()).done;){var x=v.value,g=this.findSingle(f,x);g&&a(g)&&l(g)}}catch(_){y.e(_)}finally{y.f()}}f.nodeType===1&&a(f)&&l(f)}}catch(_){c.e(_)}finally{c.f()}}return i.some(function(_){return _===document.body||_===window})||i.push(window),i}},{key:"getHiddenElementOuterHeight",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(t){var r={};return t&&(t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible"),r}},{key:"fadeIn",value:function(t,r){if(t){t.style.opacity=0;var i=+new Date,s=0,o=function(){s=+t.style.opacity+(new Date().getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}}},{key:"fadeOut",value:function(t,r){if(t)var i=1,s=50,o=s/r,a=setInterval(function(){i=i-o,i<=0&&(i=0,clearInterval(a)),t.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"appendChild",value:function(t,r){if(this.isElement(r))r.appendChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw new Error("Cannot append "+r+" to "+t)}},{key:"removeChild",value:function(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw new Error("Cannot remove "+t+" from "+r)}},{key:"isElement",value:function(t){return(typeof HTMLElement>"u"?"undefined":pr(HTMLElement))==="object"?t instanceof HTMLElement:t&&pr(t)==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}},{key:"scrollInView",value:function(t,r){var i=getComputedStyle(t).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("padding-top"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,f=t.scrollTop,p=t.clientHeight,m=this.getOuterHeight(r);u<0?t.scrollTop=f+u:u+m>p&&(t.scrollTop=f+u-p+m)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(t){if(t){var r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var t=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}},{key:"unblockBodyScroll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}},{key:"isVisible",value:function(t){return t&&(t.clientHeight!==0||t.getClientRects().length!==0||getComputedStyle(t).display!=="none")}},{key:"isExist",value:function(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)}},{key:"getFocusableElements",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],o=NA(i),a;try{for(o.s();!(a=o.n()).done;){var l=a.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(c){o.e(c)}finally{o.f()}return s}},{key:"getFirstFocusableElement",value:function(t,r){var i=n.getFocusableElements(t,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(t,r){var i=n.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(t,r){var i=r===void 0?!0:!r;t&&document.activeElement!==t&&t.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(t,r){if(t){var i=n.getFirstFocusableElement(t);return i&&n.focus(i,r),i}}},{key:"getCursorOffset",value:function(t,r,i,s){if(t){var o=getComputedStyle(t),a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.visibility="hidden",a.style.pointerEvents="none",a.style.overflow=o.overflow,a.style.width=o.width,a.style.height=o.height,a.style.padding=o.padding,a.style.border=o.border,a.style.overflowWrap=o.overflowWrap,a.style.whiteSpace=o.whiteSpace,a.style.lineHeight=o.lineHeight,a.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,a.appendChild(l);var c=document.createTextNode(i);a.appendChild(c),document.body.appendChild(a);var u=l.offsetLeft,f=l.offsetTop,p=l.clientHeight;return document.body.removeChild(a),{left:Math.abs(u-t.scrollLeft),top:Math.abs(f-t.scrollTop)+p}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(t,r,i){t[r].apply(t,i)}},{key:"isClickable",value:function(t){var r=t.nodeName,i=t.parentElement&&t.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(t,"p-button")||this.hasClass(t.parentElement,"p-button")||this.hasClass(t.parentElement,"p-checkbox")||this.hasClass(t.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(t,r){if(typeof r=="string")t.style.cssText=r;else for(var i in r)t.style[i]=r[i]}},{key:"exportCSV",value:function(t,r){var i=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=n.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}}},{key:"saveAs",value:function(t){if(t){var r=document.createElement("a");if(r.download!==void 0){var i=t.name,s=t.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(t,r){var i=document.createElement("style");return n.addNonce(i,t),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(t){if(this.isExist(t)){try{t.parentNode.removeChild(t)}catch{}t=null}return t}},{key:"addNonce",value:function(t,r){try{r||(r={}.REACT_APP_CSS_NONCE)}catch{}r&&t.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(t){if(!t)return null;if(t==="document")return document;if(t==="window")return window;if(pr(t)==="object"&&t.hasOwnProperty("current"))return this.isExist(t.current)?t.current:null;var r=function(o){return!!(o&&o.constructor&&o.call&&o.apply)},i=r(t)?t():t;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(t){var r,i,s;for(i=[],s=t.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(t,r){var i,s,o,a,l;if(i=n.getAttributeNames(t),s=n.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var c=0;c<i.length;++c)if(o=i[c],o==="style")for(var u=t.style,f=r.style,p=/^\d+$/,m=0,y=Object.keys(u);m<y.length;m++){var v=y[m];if(!p.test(v)&&u[v]!==f[v])return!1}else if(t.getAttribute(o)!==r.getAttribute(o))return!1;for(a=t.firstChild,l=r.firstChild;a&&l;a=a.nextSibling,l=l.nextSibling){if(a.nodeType!==l.nodeType)return!1;if(a.nodeType===1){if(!n.isEqualElement(a,l))return!1}else if(a.nodeValue!==l.nodeValue)return!1}return!(a||l)}},{key:"hasCSSAnimation",value:function(t){if(t){var r=getComputedStyle(t),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(t){if(t){var r=getComputedStyle(t),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();p_(Nn,"DATA_PROPS",["data-"]);p_(Nn,"ARIA_PROPS",["aria","focus-target"]);function GC(){return GC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GC.apply(null,arguments)}function L2e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=D2e(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){a=!0,s=c},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function D2e(n,e){if(n){if(typeof n=="string")return PU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?PU(n,e):void 0}}function PU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var on=function(){function n(){jI(this,n)}return JI(n,null,[{key:"equals",value:function(t,r,i){return i&&t&&pr(t)==="object"&&r&&pr(r)==="object"?this.deepEquals(this.resolveFieldData(t,i),this.resolveFieldData(r,i)):this.deepEquals(t,r)}},{key:"deepEquals",value:function(t,r){if(t===r)return!0;if(t&&r&&pr(t)==="object"&&pr(r)==="object"){var i=Array.isArray(t),s=Array.isArray(r),o,a,l;if(i&&s){if(a=t.length,a!==r.length)return!1;for(o=a;o--!==0;)if(!this.deepEquals(t[o],r[o]))return!1;return!0}if(i!==s)return!1;var c=t instanceof Date,u=r instanceof Date;if(c!==u)return!1;if(c&&u)return t.getTime()===r.getTime();var f=t instanceof RegExp,p=r instanceof RegExp;if(f!==p)return!1;if(f&&p)return t.toString()===r.toString();var m=Object.keys(t);if(a=m.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,m[o]))return!1;for(o=a;o--!==0;)if(l=m[o],!this.deepEquals(t[l],r[l]))return!1;return!0}return t!==t&&r!==r}},{key:"resolveFieldData",value:function(t,r){if(!t||!r)return null;try{var i=t[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(t).length){if(this.isFunction(r))return r(t);if(this.isNotEmpty(t[r]))return t[r];if(r.indexOf(".")===-1)return t[r];for(var s=r.split("."),o=t,a=0,l=s.length;a<l;++a){if(o==null)return null;o=o[s[a]]}return o}return null}},{key:"findDiffKeys",value:function(t,r){return!t||!r?{}:Object.keys(t).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=t[s],i},{})}},{key:"reduceKeys",value:function(t,r){var i={};return!t||!r||r.length===0||Object.keys(t).filter(function(s){return r.some(function(o){return s.startsWith(o)})}).forEach(function(s){i[s]=t[s],delete t[s]}),i}},{key:"reorderArray",value:function(t,r,i){t&&r!==i&&(i>=t.length&&(i=i%t.length,r=r%t.length),t.splice(i,0,t.splice(r,1)[0]))}},{key:"findIndexInList",value:function(t,r,i){var s=this;return r?i?r.findIndex(function(o){return s.equals(o,t,i)}):r.findIndex(function(o){return o===t}):-1}},{key:"getJSXElement",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getItemValue",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getProp",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t?t[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var o in t)if(t.hasOwnProperty(o)&&this.toFlatCase(o)===s)return t[o];for(var a in i)if(i.hasOwnProperty(a)&&this.toFlatCase(a)===s)return i[a]}},{key:"getMergedProps",value:function(t,r){return Object.assign({},r,t)}},{key:"getDiffProps",value:function(t,r){return this.findDiffKeys(t,r)}},{key:"getPropValue",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(t)?t.apply(void 0,i):t}},{key:"getComponentProp",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(t)?this.getProp(t.props,r,i):void 0}},{key:"getComponentProps",value:function(t,r){return this.isNotEmpty(t)?this.getMergedProps(t.props,r):void 0}},{key:"getComponentDiffProps",value:function(t,r){return this.isNotEmpty(t)?this.getDiffProps(t.props,r):void 0}},{key:"isValidChild",value:function(t,r,i){if(t){var s,o=this.getComponentProp(t,"__TYPE")||(t.type?t.type.displayName:void 0);!o&&t!==null&&t!==void 0&&(s=t.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(o=t.type._payload.value.find(function(c){return c===r}));var a=o===r;try{var l}catch{}return a}return!1}},{key:"getRefElement",value:function(t){return t?pr(t)==="object"&&t.hasOwnProperty("current")?t.current:t:null}},{key:"combinedRefs",value:function(t,r){t&&r&&(typeof r=="function"?r(t.current):r.current=t.current)}},{key:"removeAccents",value:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}},{key:"toFlatCase",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}},{key:"toCapitalCase",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t[0].toUpperCase()+t.slice(1):t}},{key:"trim",value:function(t){return this.isNotEmpty(t)&&this.isString(t)?t.trim():t}},{key:"isEmpty",value:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&pr(t)==="object"&&Object.keys(t).length===0}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"isObject",value:function(t){return t!==null&&t instanceof Object&&t.constructor===Object}},{key:"isDate",value:function(t){return t!==null&&t instanceof Date&&t.constructor===Date}},{key:"isArray",value:function(t){return t!==null&&Array.isArray(t)}},{key:"isString",value:function(t){return t!==null&&typeof t=="string"}},{key:"isPrintableCharacter",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}},{key:"isLetter",value:function(t){return/^[a-zA-Z\u00C0-\u017F]$/.test(t)}},{key:"isScalar",value:function(t){return t!=null&&(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="boolean")}},{key:"findLast",value:function(t,r){var i;if(this.isNotEmpty(t))try{i=t.findLast(r)}catch{i=zC(t).reverse().find(r)}return i}},{key:"findLastIndex",value:function(t,r){var i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(r)}catch{i=t.lastIndexOf(zC(t).reverse().find(r))}return i}},{key:"sort",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=this.compare(t,r,s,i),l=i;return(this.isEmpty(t)||this.isEmpty(r))&&(l=o===1?i:o),l*a}},{key:"compare",value:function(t,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=-1,a=this.isEmpty(t),l=this.isEmpty(r);return a&&l?o=0:a?o=s:l?o=-s:typeof t=="string"&&typeof r=="string"?o=i(t,r):o=t<r?-1:t>r?1:0,o}},{key:"localeComparator",value:function(t){return new Intl.Collator(t,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(t,r){var i=L2e(t),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o.key===r)return o.children||[];if(o.children){var a=this.findChildrenByKey(o.children,r);if(a.length>0)return a}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(t,r,i){if(!(pr(t)!=="object"||typeof r!="string"))for(var s=r.split("."),o=t,a=0,l=s.length;a<l;++a){if(a+1-l===0){o[s[a]]=i;break}o[s[a]]||(o[s[a]]={}),o=o[s[a]]}}}])}();function IU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function O2e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(t),!0).forEach(function(r){p_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var k2e=function(){function n(){jI(this,n)}return JI(n,null,[{key:"getJSXIcon",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(t!==null){var o=pr(t),a=Bo(r.className,o==="string"&&t);if(s=P.createElement("span",GC({},r,{className:a})),o!=="string"){var l=O2e({iconProps:r,element:s},i);return on.getJSXElement(t,l)}}return s}}])}();function BU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function LU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(t),!0).forEach(function(r){p_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ub(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var t=function(o){return typeof o=="function"},r=e.classNameMergeFunction,i=t(r);return n.reduce(function(s,o){if(!o)return s;var a=function(){var u=o[l];if(l==="style")s.style=LU(LU({},s.style),o.style);else if(l==="className"){var f="";i?f=r(s.className,o.className):f=[s.className,o.className].join(" ").trim(),s.className=f||void 0}else if(t(u)){var p=s[l];s[l]=p?function(){p.apply(void 0,arguments),u.apply(void 0,arguments)}:u}else s[l]=u};for(var l in o)a();return s},{})}}var DU=0;function N2e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return DU++,"".concat(n).concat(DU)}var jt=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function Eg(n){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(n)}function F2e(n,e){if(Eg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function T$(n){var e=F2e(n,"string");return Eg(e)=="symbol"?e:e+""}function Qi(n,e,t){return(e=T$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,T$(r.key),r)}}function U2e(n,e,t){return e&&OU(n.prototype,e),t&&OU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function H2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ar=U2e(function n(){H2e(this,n)});Qi(Ar,"ripple",!1);Qi(Ar,"inputStyle","outlined");Qi(Ar,"locale","en");Qi(Ar,"appendTo",null);Qi(Ar,"cssTransition",!0);Qi(Ar,"autoZIndex",!0);Qi(Ar,"hideOverlaysOnDocumentScrolling",!1);Qi(Ar,"nonce",null);Qi(Ar,"nullSortOrder",1);Qi(Ar,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Qi(Ar,"pt",void 0);Qi(Ar,"filterMatchModeOptions",{text:[jt.STARTS_WITH,jt.CONTAINS,jt.NOT_CONTAINS,jt.ENDS_WITH,jt.EQUALS,jt.NOT_EQUALS],numeric:[jt.EQUALS,jt.NOT_EQUALS,jt.LESS_THAN,jt.LESS_THAN_OR_EQUAL_TO,jt.GREATER_THAN,jt.GREATER_THAN_OR_EQUAL_TO],date:[jt.DATE_IS,jt.DATE_IS_NOT,jt.DATE_BEFORE,jt.DATE_AFTER]});Qi(Ar,"changeTheme",function(n,e,t,r){var i,s=document.getElementById(t);if(!s)throw Error("Element with id ".concat(t," not found."));var o=s.getAttribute("href").replace(n,e),a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("id",t),a.setAttribute("href",o),a.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(a,s)});function z2e(n){if(Array.isArray(n))return n}function G2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function V2e(n,e){if(n){if(typeof n=="string")return kU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kU(n,e):void 0}}function $2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(n,e){return z2e(n)||G2e(n,e)||V2e(n,e)||$2e()}var x0=D.createContext(),W2e=function(e){var t,r,i,s,o,a,l,c,u,f,p,m,y,v,x,g,_=(t=e.value)!==null&&t!==void 0?t:{},b=P.useState((r=_.ripple)!==null&&r!==void 0?r:!1),S=Wr(b,2),E=S[0],M=S[1],R=P.useState((i=_.inputStyle)!==null&&i!==void 0?i:"outlined"),B=Wr(R,2),T=B[0],I=B[1],O=P.useState((s=_.locale)!==null&&s!==void 0?s:"en"),z=Wr(O,2),H=z[0],N=z[1],J=P.useState((o=_.appendTo)!==null&&o!==void 0?o:null),X=Wr(J,2),Y=X[0],k=X[1],U=P.useState((a=_.styleContainer)!==null&&a!==void 0?a:null),V=Wr(U,2),q=V[0],ee=V[1],se=P.useState((l=_.cssTransition)!==null&&l!==void 0?l:!0),Z=Wr(se,2),de=Z[0],oe=Z[1],Q=P.useState((c=_.autoZIndex)!==null&&c!==void 0?c:!0),Me=Wr(Q,2),ue=Me[0],he=Me[1],Se=P.useState((u=_.hideOverlaysOnDocumentScrolling)!==null&&u!==void 0?u:!1),me=Wr(Se,2),fe=me[0],_e=me[1],Oe=P.useState((f=_.nonce)!==null&&f!==void 0?f:null),Ie=Wr(Oe,2),Ne=Ie[0],Ee=Ie[1],Le=P.useState((p=_.nullSortOrder)!==null&&p!==void 0?p:1),$e=Wr(Le,2),ht=$e[0],W=$e[1],F=P.useState((m=_.zIndex)!==null&&m!==void 0?m:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),pe=Wr(F,2),Te=pe[0],Re=pe[1],Fe=P.useState((y=_.ptOptions)!==null&&y!==void 0?y:{mergeSections:!0,mergeProps:!0}),st=Wr(Fe,2),Ve=st[0],be=st[1],Xe=P.useState((v=_.pt)!==null&&v!==void 0?v:void 0),qe=Wr(Xe,2),ot=qe[0],We=qe[1],Ze=P.useState((x=_.unstyled)!==null&&x!==void 0?x:!1),St=Wr(Ze,2),Lt=St[0],Jt=St[1],te=P.useState((g=_.filterMatchModeOptions)!==null&&g!==void 0?g:{text:[jt.STARTS_WITH,jt.CONTAINS,jt.NOT_CONTAINS,jt.ENDS_WITH,jt.EQUALS,jt.NOT_EQUALS],numeric:[jt.EQUALS,jt.NOT_EQUALS,jt.LESS_THAN,jt.LESS_THAN_OR_EQUAL_TO,jt.GREATER_THAN,jt.GREATER_THAN_OR_EQUAL_TO],date:[jt.DATE_IS,jt.DATE_IS_NOT,jt.DATE_BEFORE,jt.DATE_AFTER]}),xe=Wr(te,2),Pe=xe[0],ze=xe[1],tt=function(Hn,_i,en,or){var Mr,Ts=document.getElementById(en);if(!Ts)throw Error("Element with id ".concat(en," not found."));var qu=Ts.getAttribute("href").replace(Hn,_i),uo=document.createElement("link");uo.setAttribute("rel","stylesheet"),uo.setAttribute("id",en),uo.setAttribute("href",qu),uo.addEventListener("load",function(){or&&or()}),(Mr=Ts.parentNode)===null||Mr===void 0||Mr.replaceChild(uo,Ts)};D.useEffect(function(){Ar.ripple=E},[E]),D.useEffect(function(){Ar.inputStyle=T},[T]),D.useEffect(function(){Ar.locale=H},[H]);var Xt={changeTheme:tt,ripple:E,setRipple:M,inputStyle:T,setInputStyle:I,locale:H,setLocale:N,appendTo:Y,setAppendTo:k,styleContainer:q,setStyleContainer:ee,cssTransition:de,setCssTransition:oe,autoZIndex:ue,setAutoZIndex:he,hideOverlaysOnDocumentScrolling:fe,setHideOverlaysOnDocumentScrolling:_e,nonce:Ne,setNonce:Ee,nullSortOrder:ht,setNullSortOrder:W,zIndex:Te,setZIndex:Re,ptOptions:Ve,setPtOptions:be,pt:ot,setPt:We,filterMatchModeOptions:Pe,setFilterMatchModeOptions:ze,unstyled:Lt,setUnstyled:Jt};return D.createElement(x0.Provider,{value:Xt},e.children)},b0=Ar;function j2e(n){if(Array.isArray(n))return n}function J2e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function NU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function K2e(n,e){if(n){if(typeof n=="string")return NU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?NU(n,e):void 0}}function X2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(n,e){return j2e(n)||J2e(n,e)||K2e(n,e)||X2e()}var R$=function(e){return P.useEffect(function(){return e},[])},P$=function(){var e=P.useContext(x0);return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Ub(r,e==null?void 0:e.ptOptions)}},KI=function(e){var t=P.useRef(!1);return P.useEffect(function(){if(!t.current)return t.current=!0,e&&e()},[])},Q2e=0,fm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=P.useState(!1),i=Y2e(r,2),s=i[0],o=i[1],a=P.useRef(null),l=P.useContext(x0),c=Nn.isClient()?window.document:void 0,u=t.document,f=u===void 0?c:u,p=t.manual,m=p===void 0?!1:p,y=t.name,v=y===void 0?"style_".concat(++Q2e):y,x=t.id,g=x===void 0?void 0:x,_=t.media,b=_===void 0?void 0:_,S=function(T){var I=T.querySelector('style[data-primereact-style-id="'.concat(v,'"]'));if(I)return I;if(g!==void 0){var O=f.getElementById(g);if(O)return O}return f.createElement("style")},E=function(T){s&&e!==T&&(a.current.textContent=T)},M=function(){if(!(!f||s)){var T=(l==null?void 0:l.styleContainer)||f.head;a.current=S(T),a.current.isConnected||(a.current.type="text/css",g&&(a.current.id=g),b&&(a.current.media=b),Nn.addNonce(a.current,l&&l.nonce||b0.nonce),T.appendChild(a.current),v&&a.current.setAttribute("data-primereact-style-id",v)),a.current.textContent=e,o(!0)}},R=function(){!f||!a.current||(Nn.removeInlineStyle(a.current),o(!1))};return P.useEffect(function(){m||M()},[m]),{id:g,name:v,update:E,unload:R,load:M,isLoaded:s}},VC=function(e,t){var r=P.useRef(!1);return P.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},t)};function $C(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function q2e(n){if(Array.isArray(n))return $C(n)}function Z2e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function eBe(n,e){if(n){if(typeof n=="string")return $C(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$C(n,e):void 0}}function tBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FU(n){return q2e(n)||Z2e(n)||eBe(n)||tBe()}function Mg(n){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(n)}function nBe(n,e){if(Mg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rBe(n){var e=nBe(n,"string");return Mg(e)=="symbol"?e:e+""}function WC(n,e,t){return(e=rBe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(t),!0).forEach(function(r){WC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var iBe=`
.p-hidden-accessible {
    border: 0;
    padding: 0;
    margin: -1px;
    position: absolute;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
    white-space: nowrap;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,sBe=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}
`,oBe=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,aBe=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,lBe=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-sr-only {
        border: 0;
        clip: rect(1px, 1px, 1px, 1px);
        clip-path: inset(50%);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
        word-wrap: normal;
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(sBe,`
    `).concat(oBe,`
    `).concat(aBe,`
}
`),Fn={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.css,r=fr(fr({},e.defaultProps),Fn.defaultProps),i={},s=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fn.context=f,Fn.cProps=u,on.getMergedProps(u,r)},o=function(u){return on.getDiffProps(u,r)},a=function(){var u,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;f.hasOwnProperty("pt")&&f.pt!==void 0&&(f=f.pt);var v=p,x=/./g.test(v)&&!!m[v.split(".")[0]],g=x?on.toFlatCase(v.split(".")[1]):on.toFlatCase(v),_=m.hostName&&on.toFlatCase(m.hostName),b=_||m.props&&m.props.__TYPE&&on.toFlatCase(m.props.__TYPE)||"",S=g==="transition",E="data-pc-",M=function(k){return k!=null&&k.props?k.hostName?k.props.__TYPE===k.hostName?k.props:M(k.parent):k.parent:void 0},R=function(k){var U,V;return((U=m.props)===null||U===void 0?void 0:U[k])||((V=M(m))===null||V===void 0?void 0:V[k])};Fn.cParams=m,Fn.cName=b;var B=R("ptOptions")||Fn.context.ptOptions||{},T=B.mergeSections,I=T===void 0?!0:T,O=B.mergeProps,z=O===void 0?!1:O,H=function(){var k=_a.apply(void 0,arguments);return Array.isArray(k)?{className:Bo.apply(void 0,FU(k))}:on.isString(k)?{className:k}:k!=null&&k.hasOwnProperty("className")&&Array.isArray(k.className)?{className:Bo.apply(void 0,FU(k.className))}:k},N=y?x?I$(H,v,m):B$(H,v,m):void 0,J=x?void 0:g_(m_(f,b),H,v,m),X=!S&&fr(fr({},g==="root"&&WC({},"".concat(E,"name"),m.props&&m.props.__parentMetadata?on.toFlatCase(m.props.__TYPE):b)),{},WC({},"".concat(E,"section"),g));return I||!I&&J?z?Ub([N,J,Object.keys(X).length?X:{}],{classNameMergeFunction:(u=Fn.context.ptOptions)===null||u===void 0?void 0:u.classNameMergeFunction}):fr(fr(fr({},N),J),Object.keys(X).length?X:{}):fr(fr({},J),Object.keys(X).length?X:{})},l=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.props,p=u.state,m=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a((f||{}).pt,b,fr(fr({},u),S))},y=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a(b,S,E,!1)},v=function(){return Fn.context.unstyled||b0.unstyled||f.unstyled},x=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v()?void 0:_a(t&&t.classes,b,fr({props:f,state:p},S))},g=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(E){var M,R=_a(t&&t.inlineStyles,b,fr({props:f,state:p},S)),B=_a(i,b,fr({props:f,state:p},S));return Ub([B,R],{classNameMergeFunction:(M=Fn.context.ptOptions)===null||M===void 0?void 0:M.classNameMergeFunction})}};return{ptm:m,ptmo:y,sx:g,cx:x,isUnstyled:v}};return fr(fr({getProps:s,getOtherProps:o,setMetaData:l},e),{},{defaultProps:r})}},_a=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(on.toFlatCase(t)).split("."),s=i.shift(),o=on.isNotEmpty(e)?Object.keys(e).find(function(a){return on.toFlatCase(a)===s}):"";return s?on.isObject(e)?_a(on.getItemValue(e[o],r),i.join("."),r):void 0:on.getItemValue(e,r)},m_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,s=function(a){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=r?r(a):a,f=on.toFlatCase(t);return(l=c?f!==Fn.cName?u==null?void 0:u[f]:void 0:u==null?void 0:u[f])!==null&&l!==void 0?l:u};return on.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},g_=function(e,t,r,i){var s=function(v){return t(v,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o=e._usept||Fn.context.ptOptions||{},a=o.mergeSections,l=a===void 0?!0:a,c=o.mergeProps,u=c===void 0?!1:c,f=o.classNameMergeFunction,p=s(e.originalValue),m=s(e.value);return p===void 0&&m===void 0?void 0:on.isString(m)?m:on.isString(p)?p:l||!l&&m?u?Ub([p,m],{classNameMergeFunction:f}):fr(fr({},p),m):m}return s(e)},cBe=function(){return m_(Fn.context.pt||b0.pt,void 0,function(e){return on.getItemValue(e,Fn.cParams)})},uBe=function(){return m_(Fn.context.pt||b0.pt,void 0,function(e){return _a(e,Fn.cName,Fn.cParams)||on.getItemValue(e,Fn.cParams)})},I$=function(e,t,r){return g_(cBe(),e,t,r)},B$=function(e,t,r){return g_(uBe(),e,t,r)},fBe=function(e){var t=arguments.length>2?arguments[2]:void 0,r=t.name,i=t.styled,s=i===void 0?!1:i,o=t.hostName,a=o===void 0?"":o,l=I$(_a,"global.css",Fn.cParams),c=on.toFlatCase(r),u=fm(iBe,{name:"base",manual:!0}),f=u.load,p=fm(lBe,{name:"common",manual:!0}),m=p.load,y=fm(l,{name:"global",manual:!0}),v=y.load,x=fm(e,{name:r,manual:!0}),g=x.load,_=function(S){if(!a){var E=g_(m_((Fn.cProps||{}).pt,c),_a,"hooks.".concat(S)),M=B$(_a,"hooks.".concat(S));E==null||E(),M==null||M()}};_("useMountEffect"),KI(function(){f(),v(),m(),s||g()}),VC(function(){_("useUpdateEffect")}),R$(function(){_("useUnmountEffect")})};const dBe=()=>{const n=vi(it),[e,t]=P.useState("M"),r={shirt:560,tsports:800,hoodie:899,jeans:2e3},i={shirt:"Elevate your wardrobe with our classic shirt, tailored for a perfect fit and crafted with premium, breathable fabric. Ideal for both formal and casual occasions, this shirt ensures you stay stylish and comfortable all day.",tsports:"Stay cool and comfortable in our sports tee, designed to keep you dry and fresh during your workout. Made with moisture-wicking fabric, this tee is perfect for all your fitness activities.",hoodie:"Stay warm and cozy in our stylish hoodie, designed to keep you comfortable in all weather conditions. Made with premium fabric, this hoodie is perfect for casual outings and everyday wear.",jeans:"Add a touch of style to your wardrobe with our classic jeans, designed for a perfect fit and crafted with durable denim fabric. Ideal for casual and semi-formal occasions, these jeans are a versatile addition to your collection."};return P.useState({logoShirt:!1,baseShirt:!0}),!n.buy&&Qe(g8,{children:[n.intro&&Qe(fa.section,{className:"home",children:[K(fa.header,{children:K("img",{src:"./kalkinso.png",alt:"logo",className:"w-24 h-24 object-contain"})}),Qe(fa.div,{className:"home-content",children:[K(fa.div,{children:K("h1",{className:"head-text",children:n.selectedApparel.split("-")[0].slice(0,1).toLocaleUpperCase()+n.selectedApparel.split("-")[0].slice(1).toLocaleLowerCase()})}),Qe(fa.div,{className:"flex flex-col gap-5",children:[Qe("ul",{className:"mt-0 text-black text-sm",children:[Qe("li",{children:[K("strong",{children:"Price:"})," Starting at ₹ ",r[n.selectedApparel.split("-")[0]]]}),K("li",{children:K("strong",{children:"Key Features:"})}),K("p",{style:{maxWidth:"20rem"},children:i[n.selectedApparel.split("-")[0]]})]}),K(Bm,{type:"filled",title:"Start",disabled:!e,handleClick:()=>{it.intro=!1},customStyles:"w-fit px-4 py-2.5 font-bold text-sm"})]})]})]}),n.intro&&K(fa.div,{className:"absolute top-0 right-0 z-10",children:K("div",{className:"flex items-center min-h-screen",children:K("div",{className:"editortabs-container tabs",children:Q8.map(s=>K(q8,{tab:s,selectedSize:e,handleClick:()=>{t(s.name)}},s.name))})})},"custom")]})};function jC(){return jC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jC.apply(null,arguments)}function Cg(n){return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(n)}function hBe(n,e){if(Cg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pBe(n){var e=hBe(n,"string");return Cg(e)=="symbol"?e:e+""}function mBe(n,e,t){return(e=pBe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gBe(n){if(Array.isArray(n))return n}function yBe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function HU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function vBe(n,e){if(n){if(typeof n=="string")return HU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?HU(n,e):void 0}}function xBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bBe(n,e){return gBe(n)||yBe(n,e)||vBe(n,e)||xBe()}var _Be=`
@layer primereact {
    .p-ripple {
        overflow: hidden;
        position: relative;
    }
    
    .p-ink {
        display: block;
        position: absolute;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 100%;
        transform: scale(0);
    }
    
    .p-ink-active {
        animation: ripple 0.4s linear;
    }
    
    .p-ripple-disabled .p-ink {
        display: none;
    }
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}

`,wBe={root:"p-ink"},Td=Fn.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:_Be,classes:wBe},getProps:function(e){return on.getMergedProps(e,Td.defaultProps)},getOtherProps:function(e){return on.getDiffProps(e,Td.defaultProps)}});function zU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function SBe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(t),!0).forEach(function(r){mBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var L$=P.memo(P.forwardRef(function(n,e){var t=P.useState(!1),r=bBe(t,2),i=r[0],s=r[1],o=P.useRef(null),a=P.useRef(null),l=P$(),c=P.useContext(x0),u=Td.getProps(n,c),f=c&&c.ripple||b0.ripple,p={props:u};fm(Td.css.styles,{name:"ripple",manual:!f});var m=Td.setMetaData(SBe({},p)),y=m.ptm,v=m.cx,x=function(){return o.current&&o.current.parentElement},g=function(){a.current&&a.current.addEventListener("pointerdown",b)},_=function(){a.current&&a.current.removeEventListener("pointerdown",b)},b=function(T){var I=Nn.getOffset(a.current),O=T.pageX-I.left+document.body.scrollTop-Nn.getWidth(o.current)/2,z=T.pageY-I.top+document.body.scrollLeft-Nn.getHeight(o.current)/2;S(O,z)},S=function(T,I){!o.current||getComputedStyle(o.current,null).display==="none"||(Nn.removeClass(o.current,"p-ink-active"),M(),o.current.style.top=I+"px",o.current.style.left=T+"px",Nn.addClass(o.current,"p-ink-active"))},E=function(T){Nn.removeClass(T.currentTarget,"p-ink-active")},M=function(){if(o.current&&!Nn.getHeight(o.current)&&!Nn.getWidth(o.current)){var T=Math.max(Nn.getOuterWidth(a.current),Nn.getOuterHeight(a.current));o.current.style.height=T+"px",o.current.style.width=T+"px"}};if(P.useImperativeHandle(e,function(){return{props:u,getInk:function(){return o.current},getTarget:function(){return a.current}}}),KI(function(){s(!0)}),VC(function(){i&&o.current&&(a.current=x(),M(),g())},[i]),VC(function(){o.current&&!a.current&&(a.current=x(),M(),g())}),R$(function(){o.current&&(a.current=null,_())}),!f)return null;var R=l({"aria-hidden":!0,className:Bo(v("root"))},Td.getOtherProps(u),y("root"));return P.createElement("span",jC({role:"presentation",ref:o},R,{onAnimationEnd:E}))}));L$.displayName="Ripple";function Hb(){return Hb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hb.apply(null,arguments)}function Tg(n){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(n)}function ABe(n,e){if(Tg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EBe(n){var e=ABe(n,"string");return Tg(e)=="symbol"?e:e+""}function JC(n,e,t){return(e=EBe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function MBe(n){if(Array.isArray(n))return KC(n)}function CBe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function D$(n,e){if(n){if(typeof n=="string")return KC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?KC(n,e):void 0}}function TBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GU(n){return MBe(n)||CBe(n)||D$(n)||TBe()}function RBe(n){if(Array.isArray(n))return n}function PBe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function IBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jv(n,e){return RBe(n)||PBe(n,e)||D$(n,e)||IBe()}var BBe={icon:"p-dock-action-icon",action:function(e){var t=e.disabled;return Bo("p-dock-action",{"p-disabled":t})},menuitem:function(e){var t=e.currentIndexState,r=e.index,i=e.active;return Bo("p-dock-item",{"p-dock-item-second-prev":t-2===r,"p-dock-item-prev":t-1===r,"p-dock-item-current":t===r,"p-dock-item-next":t+1===r,"p-dock-item-second-next":t+2===r,"p-focus":i})},content:"p-menuitem-content",header:"p-dock-header",menu:"p-dock-list",footer:"p-dock-footer",root:function(e){var t=e.props;return Bo("p-dock p-component p-dock-".concat(t.position),{"p-dock-magnification":t.magnification})},container:"p-dock-list-container"},LBe=`
@layer primereact {
    .p-dock {
        position: absolute;
        z-index: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        pointer-events: none;
    }

    .p-dock-list-container {
        display: flex;
        pointer-events: auto;
    }

    .p-dock-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: auto;
    }

    .p-dock-magnification .p-dock-item {
        transition: all .2s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform;
    }

    .p-dock-action {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        cursor: default;
    }

    .p-dock-magnification .p-dock-item-second-prev,
    .p-dock-magnification .p-dock-item-second-next {
        transform: scale(1.2);
    }

    .p-dock-magnification .p-dock-item-prev,
    .p-dock-magnification .p-dock-item-next {
        transform: scale(1.4);
    }

    .p-dock-magnification .p-dock-item-current {
        transform: scale(1.6);
        z-index: 1;
    }

    /* Position */
    /* top */
    .p-dock-top {
        left: 0;
        top: 0;
        width: 100%;
    }

    .p-dock-top.p-dock-magnification .p-dock-item {
        transform-origin: center top;
    }

    .p-dock-top .p-dock-list-container {
        flex-direction: column-reverse;
    }

    /* bottom */
    .p-dock-bottom {
        left: 0;
        bottom: 0;
        width: 100%;
    }

    .p-dock-bottom.p-dock-magnification .p-dock-item {
        transform-origin: center bottom;
    }

    .p-dock-bottom .p-dock-list-container {
        flex-direction: column;
    }

    /* right */
    .p-dock-right {
        right: 0;
        top: 0;
        height: 100%;
    }

    .p-dock-right.p-dock-magnification .p-dock-item {
        transform-origin: center right;
    }

    .p-dock-right .p-dock-list {
        flex-direction: column;
    }

    /* left */
    .p-dock-left {
        left: 0;
        top: 0;
        height: 100%;
    }

    .p-dock-left.p-dock-magnification .p-dock-item {
        transform-origin: center left;
    }

    .p-dock-left .p-dock-list {
        flex-direction: column;
    }

    .p-dock-left .p-dock-list-container {
        flex-direction: row-reverse;
    }
}
`,Kv=Fn.extend({defaultProps:{__TYPE:"Dock",id:null,style:null,className:null,model:null,tabIndex:0,onFocus:null,onBlur:null,position:"bottom",magnification:!0,header:null,footer:null,children:void 0},css:{classes:BBe,styles:LBe}});function VU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DBe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(t),!0).forEach(function(r){JC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var O$=P.memo(P.forwardRef(function(n,e){var t=P.useState(-3),r=Jv(t,2),i=r[0],s=r[1],o=P.useState(!1),a=Jv(o,2),l=a[0],c=a[1],u=P.useState(-1),f=Jv(u,2),p=f[0],m=f[1],y=P$(),v=P.useContext(x0),x=Kv.getProps(n,v),g=P.useState(x.id),_=Jv(g,2),b=_[0],S=_[1],E=Kv.setMetaData({props:x,state:{id:b,currentIndex:i}}),M=E.ptm,R=E.cx,B=E.isUnstyled,T=P.useRef(null),I=P.useRef(null);fBe(Kv.css.styles,B,{name:"dock"});var O=function(Ee,Le,$e){return M(Ee,{context:{index:$e,item:Le}})},z=function(){s(-3)},H=function(Ee){s(Ee)},N=function(Ee,Le){Le.command&&Le.command({originalEvent:Ee,item:Le}),Ee.preventDefault()},J=function(Ee){c(!0),de(0),x.onFocus&&x.onFocus(Ee)},X=function(Ee){c(!1),m(-1),x.onBlur&&x.onBlur(Ee)},Y=function(Ee){switch(Ee.code){case"ArrowDown":(x.position==="left"||x.position==="right")&&k(),Ee.preventDefault();break;case"ArrowUp":(x.position==="left"||x.position==="right")&&U(),Ee.preventDefault();break;case"ArrowRight":(x.position==="top"||x.position==="bottom")&&k(),Ee.preventDefault();break;case"ArrowLeft":(x.position==="top"||x.position==="bottom")&&U(),Ee.preventDefault();break;case"Home":V(),Ee.preventDefault();break;case"End":q(),Ee.preventDefault();break;case"Enter":case"NumpadEnter":case"Space":ee(),Ee.preventDefault();break}},k=function(){var Ee=se(p);de(Ee)},U=function(){var Ee=Z(p);de(Ee)},V=function(){de(0)},q=function(){de(Nn.find(I.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1)},ee=function(){var Ee=Nn.findSingle(I.current,'li[id="'.concat("".concat(p),'"]')),Le=Ee&&Nn.findSingle(Ee,'[data-pc-section="action"]');Le?Le.click():Ee&&Ee.click()},se=function(Ee){var Le=Nn.find(I.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),$e=GU(Le).findIndex(function(ht){return ht.id===Ee});return $e>-1?$e+1:0},Z=function(Ee){var Le=Nn.find(I.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),$e=GU(Le).findIndex(function(ht){return ht.id===Ee});return $e>-1?$e-1:0},de=function(Ee){var Le=Nn.find(I.current,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),$e=Ee>=Le.length?Le.length-1:Ee<0?0:Ee;m(Le[$e].getAttribute("id"))},oe=function(Ee){return Ee===p},Q=function(Ee,Le){if(Ee.visible===!1)return null;var $e=Ee.disabled,ht=Ee.icon,W=Ee.label,F=Ee.template,pe=Ee.url,Te=Ee.target,Re=Ee.id||b+"_"+Le,Fe=Bo("p-dock-action",{"p-disabled":$e}),st=Bo("p-dock-action-icon",ht),Ve=y({className:R("icon")},O("icon",Ee,Le)),be=k2e.getJSXIcon(ht,DBe({},Ve),{props:x}),Xe=y({href:pe||"#",onFocus:function(Jt){return Jt.stopPropagation()},className:R("action",{disabled:$e}),"aria-hidden":"true",tabIndex:-1,target:Te,"data-pr-tooltip":W,onClick:function(Jt){return N(Jt,Ee)}},O("action",Ee,Le)),qe=P.createElement("a",Xe,be,P.createElement(L$,null));if(F){var ot={onClick:function(Jt){return N(Jt,Ee)},className:Fe,iconClassName:st,"aria-hidden":"true",tabIndex:-1,element:qe,props:x,index:Le};qe=on.getJSXElement(F,Ee,ot)}var We=y({className:R("content")},O("content",Ee,Le)),Ze=oe(Re),St=y(JC(JC({id:Re,role:"menuitem","aria-label":W,"aria-disabled":$e,"data-p-focused":Ze,"data-p-disabled":$e||!1,className:R("menuitem",{currentIndexState:i,index:Le,active:oe(Re)})},"role","none"),"onMouseEnter",function(){return H(Le)}),O("menuitem",Ee,Le));return P.createElement("li",Hb({},St,{key:Re}),P.createElement("div",We,qe))},Me=function(){return x.model?x.model.map(Q):null},ue=function(){if(x.header){var Ee=on.getJSXElement(x.header,{props:x}),Le=y({className:R("header")},M("header"));return P.createElement("div",Le,Ee)}return null},he=function(){var Ee=Me(),Le=y({ref:I,className:R("menu"),role:"menu","aria-orientation":x.position==="bottom"||x.position==="top"?"horizontal":"vertical","aria-activedescendant":l?p!==-1?p:null:void 0,tabIndex:x.tabIndex||0,onFocus:J,onBlur:X,onKeyDown:Y,onMouseLeave:z},M("menu"));return P.createElement("ul",Le,Ee)},Se=function(){if(x.footer){var Ee=on.getJSXElement(x.footer,{props:x}),Le=y({className:R("footer")},M("footer"));return P.createElement("div",Le,Ee)}return null};KI(function(){b||S(N2e())}),P.useImperativeHandle(e,function(){return{props:x,getElement:function(){return T.current}}});var me=ue(),fe=he(),_e=Se(),Oe=y({className:Bo(x.className,R("root")),style:x.style},Kv.getOtherProps(x),M("root")),Ie=y({className:R("container")},M("container"));return P.createElement("div",Hb({id:x.id,ref:T},Oe),P.createElement("div",Ie,me,fe,_e))}));O$.displayName="Dock";const{default:SUe,css:AUe,createGlobalStyle:EUe,keyframes:MUe,ThemeProvider:OBe}=ZIe,kBe={primary:"#1b1a20",secondary:"#eabf00"},NBe={mobile:"480px",tablet:"768px",desktop:"1025px"},FBe={colors:kBe,breakpoints:NBe};function k$(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=k$(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Je(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=k$(e))&&(r&&(r+=" "),r+=t);return r}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const UBe=D.forwardRef(({breakpoint:n,fluid:e,children:t,className:r,tag:i="div",...s},o)=>{const a=Je(`${e?"container-fluid":`container${n?"-"+n:""}`}`,r);return K(i,{className:a,...s,ref:o,children:t})});UBe.displayName="MDBContainer";const od=D.forwardRef(({center:n,children:e,className:t,end:r,lg:i,md:s,offsetLg:o,offsetMd:a,offsetSm:l,order:c,size:u,sm:f,start:p,tag:m="div",xl:y,xxl:v,xs:x,...g},_)=>{const b=Je(u&&`col-${u}`,x&&`col-xs-${x}`,f&&`col-sm-${f}`,s&&`col-md-${s}`,i&&`col-lg-${i}`,y&&`col-xl-${y}`,v&&`col-xxl-${v}`,!u&&!x&&!f&&!s&&!i&&!y&&!v?"col":"",c&&`order-${c}`,p&&"align-self-start",n&&"align-self-center",r&&"align-self-end",l&&`offset-sm-${l}`,a&&`offset-md-${a}`,o&&`offset-lg-${o}`,t);return K(m,{className:b,ref:_,...g,children:e})});od.displayName="MDBCol";const HBe=D.forwardRef(({className:n,color:e="primary",pill:t,light:r,dot:i,tag:s="span",children:o,notification:a,...l},c)=>{const u=Je("badge",r?e&&`badge-${e}`:e&&`bg-${e}`,i&&"badge-dot",t&&"rounded-pill",a&&"badge-notification",n);return K(s,{className:u,ref:c,...l,children:o})});HBe.displayName="MDBBadge";const zBe=({...n})=>{const[e,t]=P.useState(!1),r=Je("ripple-wave",e&&"active");return P.useEffect(()=>{const i=setTimeout(()=>{t(!0)},50);return()=>{clearTimeout(i)}},[]),K("div",{className:r,...n})},GBe=(...n)=>{const e=D.useRef();return D.useEffect(()=>{n.forEach(t=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)})},[n]),e},N$=D.forwardRef(({className:n,rippleTag:e="div",rippleCentered:t,rippleDuration:r=500,rippleUnbound:i,rippleRadius:s=0,rippleColor:o="dark",children:a,onMouseDown:l,...c},u)=>{const f=P.useRef(null),p=GBe(u,f),m="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",y=[0,0,0],v=["primary","secondary","success","danger","warning","info","light","dark"],[x,g]=P.useState([]),[_,b]=P.useState(!1),S=Je("ripple","ripple-surface",i&&"ripple-surface-unbound",_&&`ripple-surface-${o}`,n),E=()=>{if(v.find(I=>I===(o==null?void 0:o.toLowerCase())))return b(!0);{const I=M(o).join(",");return`radial-gradient(circle, ${m.split("{{color}}").join(`${I}`)})`}},M=I=>{const O=N=>(N.length<7&&(N=`#${N[1]}${N[1]}${N[2]}${N[2]}${N[3]}${N[3]}`),[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]),z=N=>{const J=document.body.appendChild(document.createElement("fictum")),X="rgb(1, 2, 3)";return J.style.color=X,J.style.color!==X||(J.style.color=N,J.style.color===X||J.style.color==="")?y:(N=getComputedStyle(J).color,document.body.removeChild(J),N)},H=N=>(N=N.match(/[.\d]+/g).map(J=>+Number(J)),N.length=3,N);return I.toLowerCase()==="transparent"?y:I[0]==="#"?O(I):(I.indexOf("rgb")===-1&&(I=z(I)),I.indexOf("rgb")===0?H(I):y)},R=I=>{const{offsetX:O,offsetY:z,height:H,width:N}=I,J=z<=H/2,X=O<=N/2,Y=(ee,se)=>Math.sqrt(ee**2+se**2),k=z===H/2&&O===N/2,U={first:J===!0&&X===!1,second:J===!0&&X===!0,third:J===!1&&X===!0,fourth:J===!1&&X===!1},V={topLeft:Y(O,z),topRight:Y(N-O,z),bottomLeft:Y(O,H-z),bottomRight:Y(N-O,H-z)};let q=0;return k||U.fourth?q=V.topLeft:U.third?q=V.topRight:U.second?q=V.bottomRight:U.first&&(q=V.bottomLeft),q*2},B=I=>{var O;const z=(O=p.current)==null?void 0:O.getBoundingClientRect(),H=I.clientX-z.left,N=I.clientY-z.top,J=z.height,X=z.width,Y={offsetX:t?J/2:H,offsetY:t?X/2:N,height:J,width:X},k={delay:r&&r*.5,duration:r&&r-r*.5},U=R(Y),V=s||U/2,q={left:t?`${X/2-V}px`:`${H-V}px`,top:t?`${J/2-V}px`:`${N-V}px`,height:s?`${s*2}px`:`${U}px`,width:s?`${s*2}px`:`${U}px`,transitionDelay:`0s, ${k.delay}ms`,transitionDuration:`${r}ms, ${k.duration}ms`};return _?q:{...q,backgroundImage:`${E()}`}},T=I=>{const O=B(I),z=x.concat(O);g(z),l&&l(I)};return P.useEffect(()=>{const I=setTimeout(()=>{x.length>0&&g(x.splice(1,x.length-1))},r);return()=>{clearTimeout(I)}},[r,x]),Qe(e,{className:S,onMouseDown:I=>T(I),ref:p,...c,children:[a,x.map((I,O)=>K(zBe,{style:I},O))]})});N$.displayName="MDBRipple";const F$=D.forwardRef(({className:n,color:e="primary",outline:t,children:r,rounded:i,disabled:s,floating:o,size:a,href:l,block:c,active:u,toggle:f,noRipple:p,tag:m="button",role:y="button",...v},x)=>{const[g,_]=P.useState(u||!1);let b;const S=e&&["light","link"].includes(e)||t?"dark":"light";e!=="none"?t?e?b=`btn-outline-${e}`:b="btn-outline-primary":e?b=`btn-${e}`:b="btn-primary":b="";const E=Je(e!=="none"&&"btn",b,i&&"btn-rounded",o&&"btn-floating",a&&`btn-${a}`,`${(l||m!=="button")&&s?"disabled":""}`,c&&"btn-block",g&&"active",n);return l&&m!=="a"&&(m="a"),["hr","img","input"].includes(m)||p?K(m,{className:E,onClick:f?()=>{_(!g)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:x,role:y,...v,children:r}):K(N$,{rippleTag:m,rippleColor:S,className:E,onClick:f?()=>{_(!g)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:x,role:y,...v,children:r})});F$.displayName="MDBBtn";const VBe=D.forwardRef(({className:n,children:e,shadow:t,toolbar:r,size:i,vertical:s,tag:o="div",role:a="group",...l},c)=>{let u;r?u="btn-toolbar":s?u="btn-group-vertical":u="btn-group";const f=Je(u,t&&`shadow-${t}`,i&&`btn-group-${i}`,n);return K(o,{className:f,ref:c,role:a,...l,children:e})});VBe.displayName="MDBBtnGroup";const $Be=D.forwardRef(({className:n,children:e,tag:t="div",color:r,grow:i,size:s,...o},a)=>{const l=Je(`${i?"spinner-grow":"spinner-border"}`,r&&`text-${r}`,`${s?i?"spinner-grow-"+s:"spinner-border-"+s:""}`,n);return K(t,{className:l,ref:a,...o,children:e})});$Be.displayName="MDBSpinner";const XC=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",shadow:s,alignment:o,...a},l)=>{const c=Je("card",t&&`border border-${t}`,r&&`bg-${r}`,s&&`shadow-${s}`,o&&`text-${o}`,n);return K(i,{className:c,ref:l,...a,children:e})});XC.displayName="MDBCard";const YC=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",...s},o)=>{const a=Je("card-header",t&&`border-${t}`,r&&`bg-${r}`,n);return K(i,{className:a,...s,ref:o,children:e})});YC.displayName="MDBCardHeader";const WBe=D.forwardRef(({className:n,children:e,tag:t="p",...r},i)=>{const s=Je("card-subtitle",n);return K(t,{className:s,...r,ref:i,children:e})});WBe.displayName="MDBCardSubTitle";const jBe=D.forwardRef(({className:n,children:e,tag:t="h5",...r},i)=>{const s=Je("card-title",n);return K(t,{className:s,...r,ref:i,children:e})});jBe.displayName="MDBCardTitle";const JBe=D.forwardRef(({className:n,children:e,tag:t="p",...r},i)=>{const s=Je("card-text",n);return K(t,{className:s,...r,ref:i,children:e})});JBe.displayName="MDBCardText";const QC=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("card-body",n);return K(t,{className:s,...r,ref:i,children:e})});QC.displayName="MDBCardBody";const KBe=D.forwardRef(({className:n,children:e,border:t,background:r,tag:i="div",...s},o)=>{const a=Je("card-footer",t&&`border-${t}`,r&&`bg-${r}`,n);return K(i,{className:a,...s,ref:o,children:e})});KBe.displayName="MDBCardFooter";const XBe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("card-img-overlay",n);return K(t,{className:s,...r,ref:i,children:e})});XBe.displayName="MDBCardOverlay";const YBe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("card-group",n);return K(t,{className:s,...r,ref:i,children:e})});YBe.displayName="MDBCardGroup";const U$=D.forwardRef(({className:n,tag:e="ul",horizontal:t,horizontalSize:r,light:i,numbered:s,children:o,small:a,...l},c)=>{const u=Je("list-group",t&&(r?`list-group-horizontal-${r}`:"list-group-horizontal"),i&&"list-group-light",s&&"list-group-numbered",a&&"list-group-small",n);return K(e,{className:u,ref:c,...l,children:o})});U$.displayName="MDBListGroup";const dm=D.forwardRef(({className:n,tag:e="li",active:t,disabled:r,action:i,color:s,children:o,noBorders:a,...l},c)=>{const u=e==="button",f=Je("list-group-item",t&&"active",r&&!u&&"disabled",i&&"list-group-item-action",s&&`list-group-item-${s}`,a&&"border-0",n);return K(e,{className:f,disabled:u&&r,ref:c,...l,children:o})});dm.displayName="MDBListGroupItem";const qC=D.forwardRef(({around:n,between:e,bottom:t,center:r,children:i,className:s,evenly:o,end:a,middle:l,start:c,tag:u="div",top:f,...p},m)=>{const y=Je("row",n&&"justify-content-around",e&&"justify-content-between",t&&"align-self-end",r&&"justify-content-center",o&&"justifty-content-evenly",a&&"justify-content-end",l&&"align-self-center",c&&"justify-content-start",f&&"align-self-start",s);return K(u,{className:y,...p,ref:m,children:i})});qC.displayName="MDBRow";const ZC=D.forwardRef(({className:n,children:e,tag:t="p",variant:r,color:i,blockquote:s,note:o,noteColor:a,listUnStyled:l,listInLine:c,...u},f)=>{const p=Je(r&&r,s&&"blockquote",o&&"note",i&&`text-${i}`,a&&`note-${a}`,l&&"list-unstyled",c&&"list-inline",n);return s&&(t="blockquote"),(l||c)&&(t="ul"),K(t,{className:p,ref:f,...u,children:e})});ZC.displayName="MDBTypography";const QBe=D.forwardRef(({className:n,color:e,uppercase:t,bold:r,children:i,...s},o)=>{const a=Je("breadcrumb",r&&"font-weight-bold",e&&`text-${e}`,t&&"text-uppercase",n);return K("nav",{"aria-label":"breadcrumb",children:K("ol",{className:a,ref:o,...s,children:i})})});QBe.displayName="MDBBreadcrumb";const qBe=D.forwardRef(({className:n,active:e,current:t="page",children:r,...i},s)=>{const o=Je("breadcrumb-item",e&&"active",n);return K("li",{className:o,ref:s,"aria-current":e&&t,...i,children:r})});qBe.displayName="MDBBreadcrumbItem";const ZBe=n=>{if(n!==!1)return`navbar-expand-${n}`},eLe=D.forwardRef(({className:n,children:e,light:t,dark:r,scrolling:i,fixed:s,sticky:o,scrollingNavbarOffset:a,color:l,transparent:c,expand:u,tag:f="nav",bgColor:p,...m},y)=>{const[v,x]=P.useState(!1),g=Je({"navbar-light":t,"navbar-dark":r,"scrolling-navbar":i||a,"top-nav-collapse":v,[`text-${l}`]:l&&c?v:l},s&&`fixed-${s}`,o&&"sticky-top","navbar",u&&ZBe(u),p&&`bg-${p}`,n),_=P.useCallback(()=>{a&&window.pageYOffset>a?x(!0):x(!1)},[a]);return P.useEffect(()=>((i||a)&&window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}),[_,i,a]),K(f,{className:g,role:"navigation",...m,ref:y,children:e})});eLe.displayName="MDBNavbar";const tLe=D.forwardRef(({children:n,className:e="",disabled:t=!1,active:r=!1,tag:i="a",...s},o)=>{const a=Je("nav-link",t?"disabled":r?"active":"",e);return K(i,{"data-test":"nav-link",className:a,style:{cursor:"pointer"},ref:o,...s,children:n})});tLe.displayName="MDBNavbarLink";const nLe=D.forwardRef(({className:n,children:e,tag:t="a",...r},i)=>{const s=Je("navbar-brand",n);return K(t,{className:s,ref:i,...r,children:e})});nLe.displayName="MDBNavbarBrand";const rLe=D.forwardRef(({children:n,className:e,active:t,text:r,tag:i="li",...s},o)=>{const a=Je("nav-item",t&&"active",r&&"navbar-text",e);return K(i,{...s,className:a,ref:o,children:n})});rLe.displayName="MDBNavbarItem";const iLe=D.forwardRef(({children:n,className:e,right:t,fullWidth:r=!0,left:i,tag:s="ul",...o},a)=>{const l=Je("navbar-nav",r&&"w-100",t&&"ms-auto",i&&"me-auto",e);return K(s,{className:l,ref:a,...o,children:n})});iLe.displayName="MDBNavbarNav";const sLe=D.forwardRef(({children:n,className:e,tag:t="button",...r},i)=>{const s=Je("navbar-toggler",e);return K(t,{...r,className:s,ref:i,children:n})});sLe.displayName="MDBNavbarToggler";const oLe=D.forwardRef(({children:n,bgColor:e,color:t,className:r,...i},s)=>{const o=Je(e&&`bg-${e}`,t&&`text-${t}`,r);return K("footer",{className:o,...i,ref:s,children:n})});oLe.displayName="MDBFooter";const aLe=D.forwardRef(({children:n,size:e,circle:t,center:r,end:i,start:s,className:o,...a},l)=>{const c=Je("pagination",r&&"justify-content-center",t&&"pagination-circle",i&&"justify-content-end",e&&`pagination-${e}`,s&&"justify-content-start",o);return K("ul",{className:c,...a,ref:l,children:n})});aLe.displayName="MDBPagination";const lLe=D.forwardRef(({children:n,className:e,tag:t="a",...r},i)=>{const s=Je("page-link",e);return K(t,{className:s,...r,ref:i,children:n})});lLe.displayName="MDBPaginationLink";const cLe=D.forwardRef(({children:n,className:e,active:t,disabled:r,...i},s)=>{const o=Je("page-item",t&&"active",r&&"disabled",e);return K("li",{className:o,...i,ref:s,children:n})});cLe.displayName="MDBPaginationItem";const H$=D.forwardRef(({animated:n,children:e,className:t,style:r,tag:i="div",valuenow:s,valuemax:o,striped:a,bgColor:l,valuemin:c,width:u,...f},p)=>{const m=Je("progress-bar",l&&`bg-${l}`,a&&"progress-bar-striped",n&&"progress-bar-animated",t),y={width:`${u}%`,...r};return K(i,{className:m,style:y,ref:p,role:"progressbar",...f,"aria-valuenow":Number(u)??s,"aria-valuemin":Number(c),"aria-valuemax":Number(o),children:e})});H$.displayName="MDBProgressBar";const uLe=D.forwardRef(({className:n,children:e,tag:t="div",height:r,style:i,...s},o)=>{const a=Je("progress",n),l={height:`${r}px`,...i};return K(t,{className:a,ref:o,style:l,...s,children:D.Children.map(e,c=>{if(!D.isValidElement(c)||c.type!==H$){console.error("Progress component only allows ProgressBar as child");return}else return c})})});uLe.displayName="MDBProgress";const fLe=n=>{const[e,t]=P.useState(!1),[r,i]=P.useState(null);return P.useEffect(()=>{i(()=>new IntersectionObserver(([s])=>{t(s.isIntersecting)}))},[]),P.useEffect(()=>{if(!(!n.current||!r))return r.observe(n.current),()=>r.disconnect()},[r,n]),e},Wc=D.forwardRef(({className:n,size:e,contrast:t,value:r,defaultValue:i,id:s,labelClass:o,wrapperClass:a,wrapperStyle:l,wrapperTag:c="div",label:u,onChange:f,children:p,labelRef:m,labelStyle:y,type:v,onBlur:x,readonly:g=!1,showCounter:_=!1,...b},S)=>{var E;const[M,R]=P.useState(i),B=P.useMemo(()=>r!==void 0?r:M,[r,M]),[T,I]=P.useState(0),[O,z]=P.useState(!1),[H,N]=P.useState(0),J=P.useRef(null),X=fLe(J),Y=P.useRef(null),k=m||Y;P.useImperativeHandle(S,()=>J.current);const U=Je("form-outline",t&&"form-white",a),V=["date","time","datetime-local","month","week"].includes(v),q=Je("form-control",O&&"active",V&&"active",e&&`form-control-${e}`,n),ee=Je("form-label",o),se=P.useCallback(()=>{var oe;(oe=k.current)!=null&&oe.clientWidth&&I(k.current.clientWidth*.8+8)},[k]),Z=oe=>{R(oe.target.value),_&&N(oe.target.value.length),f==null||f(oe)},de=P.useCallback(oe=>{J.current&&(z(!!B),x&&x(oe))},[B,x]);return P.useEffect(()=>{se()},[(E=k.current)==null?void 0:E.clientWidth,se,X]),P.useEffect(()=>{if(B)return z(!0);z(!1)},[B]),Qe(c,{className:U,style:l,children:[K("input",{type:v,readOnly:g,className:q,onBlur:de,onChange:Z,onFocus:se,value:r,defaultValue:i,id:s,ref:J,...b}),u&&K("label",{className:ee,style:y,htmlFor:s,ref:k,children:u}),Qe("div",{className:"form-notch",children:[K("div",{className:"form-notch-leading"}),K("div",{className:"form-notch-middle",style:{width:T}}),K("div",{className:"form-notch-trailing"})]}),p,_&&b.maxLength&&K("div",{className:"form-helper",children:K("div",{className:"form-counter",children:`${H}/${b.maxLength}`})})]})});Wc.displayName="MDBInput";const z$=P.forwardRef(({className:n,inputRef:e,labelClass:t,wrapperClass:r,labelStyle:i,wrapperTag:s="div",wrapperStyle:o,label:a,inline:l,btn:c,id:u,btnColor:f,disableWrapper:p,toggleSwitch:m,...y},v)=>{let x="form-check-input",g="form-check-label";c&&(x="btn-check",f?g=`btn btn-${f}`:g="btn btn-primary");const _=Je(a&&!c&&"form-check",l&&!c&&"form-check-inline",m&&"form-switch",r),b=Je(x,n),S=Je(g,t),E=Qe(Pa,{children:[K("input",{className:b,id:u,ref:e,...y}),a&&K("label",{className:S,style:i,htmlFor:u,children:a})]});return K(Pa,{children:p?E:K(s,{style:o,className:_,ref:v,children:E})})});z$.displayName="InputTemplate";const dLe=({...n})=>K(z$,{type:"checkbox",...n});function hLe({showCollapse:n,setCollapseHeight:e,refCollapse:t,contentRef:r}){P.useEffect(()=>{n||e("0px")},[n]),P.useEffect(()=>{const i=t.current,s=a=>{if(!i)return;const l=a.contentRect.height,c=window.getComputedStyle(i),u=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.marginBottom)+parseFloat(c.marginTop),f=`${l+u}px`;e(f)},o=new ResizeObserver(([a])=>{s(a)});return o.observe(r.current),()=>{o.disconnect()}},[])}const pLe=({className:n,children:e,open:t=!1,id:r,navbar:i,tag:s="div",collapseRef:o,style:a,onOpen:l,onClose:c,...u})=>{const[f,p]=P.useState(!1),[m,y]=P.useState(void 0),[v,x]=P.useState(!1),g=Je(v?"collapsing":"collapse",!v&&f&&"show",i&&"navbar-collapse",n),_=P.useRef(null),b=o??_,S=P.useRef(null),E=P.useCallback(()=>{f&&y(void 0)},[f]);return P.useEffect(()=>(window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}),[E]),hLe({showCollapse:f,setCollapseHeight:y,refCollapse:b,contentRef:S}),P.useEffect(()=>{f!==t&&(t?l==null||l():c==null||c(),p(t)),f&&x(!0);const M=setTimeout(()=>{x(!1)},350);return()=>{clearTimeout(M)}},[t,f,l,c]),K(s,{style:{height:m,...a},id:r,className:g,...u,ref:b,children:K("div",{ref:S,className:"collapse-content",children:e})})};P.createContext(null);const mLe=D.forwardRef(({className:n,centered:e,children:t,size:r,scrollable:i,tag:s="div",...o},a)=>{const l=Je("modal-dialog",i&&"modal-dialog-scrollable",e&&"modal-dialog-centered",r&&`modal-${r}`,n);return K(s,{className:l,...o,ref:a,children:t})});mLe.displayName="MDBModalDialog";const gLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("modal-content",n);return K(t,{className:s,...r,ref:i,children:e})});gLe.displayName="MDBModalContent";const yLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("modal-header",n);return K(t,{className:s,...r,ref:i,children:e})});yLe.displayName="MDBModalHeader";const vLe=D.forwardRef(({className:n,children:e,tag:t="h5",...r},i)=>{const s=Je("modal-title",n);return K(t,{className:s,...r,ref:i,children:e})});vLe.displayName="MDBModalTitle";const xLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("modal-body",n);return K(t,{className:s,...r,ref:i,children:e})});xLe.displayName="MDBModalBody";const bLe=D.forwardRef(({className:n,children:e,tag:t="div",...r},i)=>{const s=Je("modal-footer",n);return K(t,{className:s,...r,ref:i,children:e})});bLe.displayName="MDBModalFooter";D.createContext({activeElement:null,setTargets:null});const _Le=P.forwardRef(({className:n,labelClass:e,labelStyle:t,inputRef:r,size:i,label:s,id:o,...a},l)=>{const c=Je("form-control",`form-control-${i}`,n),u=Je("form-label",e),f=P.useRef(null);return P.useImperativeHandle(l,()=>f.current||(r==null?void 0:r.current)),Qe(Pa,{children:[s&&K("label",{className:u,style:t,htmlFor:o,children:s}),K("input",{className:c,type:"file",id:o,ref:f,...a})]})});_Le.displayName="MDBFile";const wLe=D.forwardRef(({className:n,children:e,noBorder:t,textBefore:r,textAfter:i,noWrap:s,tag:o="div",textTag:a="span",textClass:l,size:c,textProps:u,...f},p)=>{const m=Je("input-group",s&&"flex-nowrap",c&&`input-group-${c}`,n),y=Je("input-group-text",t&&"border-0",l),v=x=>K(Pa,{children:x&&Array.isArray(x)?x.map((g,_)=>K(a,{className:y,...u,children:g},_)):K(a,{className:y,...u,children:x})});return Qe(o,{className:m,ref:p,...f,children:[r&&v(r),e,i&&v(i)]})});wLe.displayName="MDBInputGroup";const SLe=D.forwardRef(({className:n,children:e,isValidated:t=!1,onReset:r,onSubmit:i,noValidate:s=!0,...o},a)=>{const[l,c]=P.useState(t),u=Je("needs-validation",l&&"was-validated",n),f=m=>{m.preventDefault(),c(!0),i&&i(m)},p=m=>{m.preventDefault(),c(!1),r&&r(m)};return P.useEffect(()=>{c(t)},[t]),K("form",{className:u,onSubmit:f,onReset:p,ref:a,noValidate:s,...o,children:e})});SLe.displayName="MDBValidation";const ALe=D.forwardRef(({className:n,fill:e,pills:t,justify:r,children:i,...s},o)=>{const a=Je("nav",t?"nav-pills":"nav-tabs",e&&"nav-fill",r&&"nav-justified",n);return K("ul",{className:a,ref:o,...s,children:i})});ALe.displayName="MDBTabs";const ELe=D.forwardRef(({className:n,children:e,style:t,tag:r="li",...i},s)=>{const o=Je("nav-item",n);return K(r,{className:o,style:{cursor:"pointer",...t},role:"presentation",ref:s,...i,children:e})});ELe.displayName="MDBTabsItem";const MLe=D.forwardRef(({className:n,color:e,active:t,onOpen:r,onClose:i,children:s,...o},a)=>{const l=Je("nav-link",t&&"active",e&&`bg-${e}`,n);return P.useEffect(()=>{t?r==null||r():i==null||i()},[t]),K("a",{className:l,ref:a,...o,children:s})});MLe.displayName="MDBTabsLink";const CLe=D.forwardRef(({className:n,tag:e="div",children:t,...r},i)=>{const s=Je("tab-content",n);return K(e,{className:s,ref:i,...r,children:t})});CLe.displayName="MDBTabsContent";const TLe=D.forwardRef(({className:n,tag:e="div",open:t,children:r,...i},s)=>{const[o,a]=P.useState(!1),l=Je("tab-pane","fade",o&&"show",t&&"active",n);return P.useEffect(()=>{let c;return t?c=setTimeout(()=>{a(!0)},100):a(!1),()=>{clearTimeout(c)}},[t]),K(e,{className:l,role:"tabpanel",ref:s,...i,children:r})});TLe.displayName="MDBTabsPane";P.createContext({active:0});const G$=D.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),RLe=D.forwardRef(({alwaysOpen:n,borderless:e,className:t,flush:r,active:i,initialActive:s=0,tag:o="div",children:a,onChange:l,...c},u)=>{const f=P.useMemo(()=>typeof i<"u",[i]),p=Je("accordion",r&&"accordion-flush",e&&"accordion-borderless",t),[m,y]=P.useState(s);return K(o,{className:p,ref:u,...c,children:K(G$.Provider,{value:{activeItem:f?i:m,setActiveItem:y,alwaysOpen:n,initialActive:s,onChange:l},children:a})})});RLe.displayName="MDBAccordion";const PLe=D.forwardRef(({className:n,bodyClassName:e,bodyStyle:t,headerClassName:r,collapseId:i,headerTitle:s,headerStyle:o,btnClassName:a,tag:l="div",children:c,...u},f)=>{const{activeItem:p,setActiveItem:m,alwaysOpen:y,onChange:v}=P.useContext(G$),x=P.useMemo(()=>Array.isArray(p)?p.includes(i):p===i,[p,i]),g=Je("accordion-item",n),_=Je("accordion-header",r),b=Je("accordion-body",e),S=Je("accordion-button",!x&&"collapsed",a),E=P.useCallback(M=>{let R=M;Array.isArray(p)?p.includes(M)?R=p.filter(B=>B!==M):R=y?[...p,M]:[M]:(R=p===M?0:M,y&&(R=[R])),v==null||v(R),m(R)},[v,p,m,y]);return Qe(l,{className:g,ref:f,...u,children:[K("h2",{className:_,style:o,children:K("button",{onClick:()=>E(i),className:S,type:"button",children:s})}),K(pLe,{id:i.toString(),open:x,children:K("div",{className:b,style:t,children:c})})]})});PLe.displayName="MDBAccordionItem";const ILe=({className:n,size:e,contrast:t,value:r,defaultValue:i,id:s,labelClass:o,wrapperClass:a,wrapperStyle:l,wrapperTag:c="div",label:u,onChange:f,children:p,labelRef:m,labelStyle:y,inputRef:v,onBlur:x,readonly:g=!1,..._})=>{var b;const S=P.useRef(null),E=P.useRef(null),M=m||S,R=v||E,[B,T]=P.useState(r||i),[I,O]=P.useState(0),[z,H]=P.useState(r!==void 0&&r.length>0||i!==void 0&&i.length>0),N=Je("form-outline",t&&"form-white",a),J=Je("form-control",z&&"active",e&&`form-control-${e}`,n),X=Je("form-label",o);P.useEffect(()=>{var V;M.current&&((V=M.current)==null?void 0:V.clientWidth)!==0&&O(M.current.clientWidth*.8+8)},[M,(b=M.current)==null?void 0:b.clientWidth]);const Y=()=>{M.current&&O(M.current.clientWidth*.8+8)};P.useEffect(()=>{r!==void 0&&(r.length>0?H(!0):H(!1))},[r]),P.useEffect(()=>{i!==void 0&&(i.length>0?H(!0):H(!1))},[i]);const k=V=>{T(V.currentTarget.value),f&&f(V)},U=P.useCallback(V=>{B!==void 0&&B.length>0||r!==void 0&&r.length>0?H(!0):H(!1),x&&x(V)},[B,r,x]);return Qe(c,{className:N,style:{...l},children:[K("textarea",{readOnly:g,className:J,onBlur:U,onChange:k,onFocus:Y,defaultValue:i,value:r,id:s,ref:R,..._}),u&&K("label",{className:X,style:y,htmlFor:s,ref:M,children:u}),Qe("div",{className:"form-notch",children:[K("div",{className:"form-notch-leading"}),K("div",{className:"form-notch-middle",style:{width:I}}),K("div",{className:"form-notch-trailing"})]}),p]})};var V$="https://sdk.cashfree.com/js/v3/cashfree.js",BLe=/^https:\/\/sdk\.cashfree\.com\/js\/v3\/?(\?.*)?$/,$U="load was called but an existing Cashfree.js script already exists in the document; existing script parameters will be used",LLe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(V$,'"]')),t=0;t<e.length;t++){var r=e[t];if(BLe.test(r.src))return r}return null},DLe=function(e){var t="",r=document.createElement("script");r.src="".concat(V$).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Cashfree.js requires a <body> element.");return i.appendChild(r),r},Xv=null,OLe=function(e){return Xv!==null||(Xv=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Cashfree&&e&&console.warn($U),window.Cashfree){t(window.Cashfree);return}try{var i=LLe();i&&e?console.warn($U):i||(i=DLe(e)),i.addEventListener("load",function(){window.Cashfree?t(window.Cashfree):r(new Error("Cashfree.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Cashfree.js"))})}catch(s){r(s);return}})),Xv},kLe=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return i},$$=Promise.resolve().then(function(){return OLe(null)}),W$=!1;$$.catch(function(n){W$||console.warn(n)});var NLe=async function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];W$=!0;const i=await $$;return kLe(i,t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},FLe=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},J$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(t[u],t[f],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FLe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new ULe;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ULe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HLe=function(n){const e=j$(n);return J$.encodeByteArray(e,!0)},K$=function(n){return HLe(n).replace(/\./g,"")},X$=function(n){try{return J$.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zLe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GLe=()=>zLe().__FIREBASE_DEFAULTS__,VLe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$Le=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&X$(n[1]);return e&&JSON.parse(e)},XI=()=>{try{return GLe()||VLe()||$Le()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WLe=n=>{var e,t;return(t=(e=XI())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Y$=()=>{var n;return(n=XI())===null||n===void 0?void 0:n.config},Q$=n=>{var e;return(e=XI())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jLe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JLe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function KLe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q$(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XLe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YLe(){const n=qr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z$(){try{return typeof indexedDB=="object"}catch{return!1}}function eW(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function QLe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qLe="FirebaseError";class $o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=qLe,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZLe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $o(i,a,r)}}function ZLe(n,e){return n.replace(eDe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eDe=/\{\$([^}]+)}/g;function tDe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rg(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(WU(s)&&WU(o)){if(!Rg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function WU(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nDe(n,e){const t=new rDe(n,e);return t.subscribe.bind(t)}class rDe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iDe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=FA),i.error===void 0&&(i.error=FA),i.complete===void 0&&(i.complete=FA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iDe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function FA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sDe=1e3,oDe=2,aDe=4*60*60*1e3,lDe=.5;function jU(n,e=sDe,t=oDe){const r=e*Math.pow(t,n),i=Math.round(lDe*r*(Math.random()-.5)*2);return Math.min(aDe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){return n&&n._delegate?n._delegate:n}class Fo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cDe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jLe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fDe(e))try{this.getOrInitializeService({instanceIdentifier:jc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jc){return this.instances.has(e)}getOptions(e=jc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uDe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jc){return this.component?this.component.multipleInstances?e:jc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uDe(n){return n===jc?void 0:n}function fDe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dDe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cDe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(sn||(sn={}));const hDe={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},pDe=sn.INFO,mDe={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},gDe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=mDe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YI{constructor(e){this.name=e,this._logLevel=pDe,this._logHandler=gDe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hDe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...e),this._logHandler(this,sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...e),this._logHandler(this,sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sn.INFO,...e),this._logHandler(this,sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sn.WARN,...e),this._logHandler(this,sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...e),this._logHandler(this,sn.ERROR,...e)}}const yDe=(n,e)=>e.some(t=>n instanceof t);let JU,KU;function vDe(){return JU||(JU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xDe(){return KU||(KU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tW=new WeakMap,eT=new WeakMap,nW=new WeakMap,UA=new WeakMap,QI=new WeakMap;function bDe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Gl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&tW.set(t,n)}).catch(()=>{}),QI.set(e,n),e}function _De(n){if(eT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});eT.set(n,e)}let tT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nW.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wDe(n){tT=n(tT)}function SDe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(HA(this),e,...t);return nW.set(r,e.sort?e.sort():[e]),Gl(r)}:xDe().includes(n)?function(...e){return n.apply(HA(this),e),Gl(tW.get(this))}:function(...e){return Gl(n.apply(HA(this),e))}}function ADe(n){return typeof n=="function"?SDe(n):(n instanceof IDBTransaction&&_De(n),yDe(n,vDe())?new Proxy(n,tT):n)}function Gl(n){if(n instanceof IDBRequest)return bDe(n);if(UA.has(n))return UA.get(n);const e=ADe(n);return e!==n&&(UA.set(n,e),QI.set(e,n)),e}const HA=n=>QI.get(n);function rW(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Gl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gl(o.result),l.oldVersion,l.newVersion,Gl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EDe=["get","getKey","getAll","getAllKeys","count"],MDe=["put","add","delete","clear"],zA=new Map;function XU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zA.get(e))return zA.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=MDe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EDe.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return zA.set(e,s),s}wDe(n=>({...n,get:(e,t,r)=>XU(e,t)||n.get(e,t,r),has:(e,t)=>!!XU(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CDe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TDe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function TDe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nT="@firebase/app",YU="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new YI("@firebase/app"),RDe="@firebase/app-compat",PDe="@firebase/analytics-compat",IDe="@firebase/analytics",BDe="@firebase/app-check-compat",LDe="@firebase/app-check",DDe="@firebase/auth",ODe="@firebase/auth-compat",kDe="@firebase/database",NDe="@firebase/data-connect",FDe="@firebase/database-compat",UDe="@firebase/functions",HDe="@firebase/functions-compat",zDe="@firebase/installations",GDe="@firebase/installations-compat",VDe="@firebase/messaging",$De="@firebase/messaging-compat",WDe="@firebase/performance",jDe="@firebase/performance-compat",JDe="@firebase/remote-config",KDe="@firebase/remote-config-compat",XDe="@firebase/storage",YDe="@firebase/storage-compat",QDe="@firebase/firestore",qDe="@firebase/vertexai",ZDe="@firebase/firestore-compat",e3e="firebase",t3e="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="[DEFAULT]",n3e={[nT]:"fire-core",[RDe]:"fire-core-compat",[IDe]:"fire-analytics",[PDe]:"fire-analytics-compat",[LDe]:"fire-app-check",[BDe]:"fire-app-check-compat",[DDe]:"fire-auth",[ODe]:"fire-auth-compat",[kDe]:"fire-rtdb",[NDe]:"fire-data-connect",[FDe]:"fire-rtdb-compat",[UDe]:"fire-fn",[HDe]:"fire-fn-compat",[zDe]:"fire-iid",[GDe]:"fire-iid-compat",[VDe]:"fire-fcm",[$De]:"fire-fcm-compat",[WDe]:"fire-perf",[jDe]:"fire-perf-compat",[JDe]:"fire-rc",[KDe]:"fire-rc-compat",[XDe]:"fire-gcs",[YDe]:"fire-gcs-compat",[QDe]:"fire-fst",[ZDe]:"fire-fst-compat",[qDe]:"fire-vertex","fire-js":"fire-js",[e3e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map,r3e=new Map,iT=new Map;function QU(n,e){try{n.container.addComponent(e)}catch(t){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ha(n){const e=n.name;if(iT.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;iT.set(e,n);for(const t of zb.values())QU(t,n);for(const t of r3e.values())QU(t,n);return!0}function Kh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wa(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3e={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},Vl=new Qu("app","Firebase",i3e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=t3e;function iW(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vl.create("bad-app-name",{appName:String(i)});if(t||(t=Y$()),!t)throw Vl.create("no-options");const s=zb.get(i);if(s){if(Rg(t,s.options)&&Rg(r,s.config))return s;throw Vl.create("duplicate-app",{appName:i})}const o=new dDe(i);for(const l of iT.values())o.addComponent(l);const a=new s3e(t,r,o);return zb.set(i,a),a}function sW(n=rT){const e=zb.get(n);if(!e&&n===rT&&Y$())return iW();if(!e)throw Vl.create("no-app",{appName:n});return e}function Lo(n,e,t){var r;let i=(r=n3e[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ua.warn(a.join(" "));return}Ha(new Fo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3e="firebase-heartbeat-database",a3e=1,Pg="firebase-heartbeat-store";let GA=null;function oW(){return GA||(GA=rW(o3e,a3e,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vl.create("idb-open",{originalErrorMessage:n.message})})),GA}async function l3e(n){try{const t=(await oW()).transaction(Pg),r=await t.objectStore(Pg).get(aW(n));return await t.done,r}catch(e){if(e instanceof $o)Ua.warn(e.message);else{const t=Vl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ua.warn(t.message)}}}async function qU(n,e){try{const r=(await oW()).transaction(Pg,"readwrite");await r.objectStore(Pg).put(e,aW(n)),await r.done}catch(t){if(t instanceof $o)Ua.warn(t.message);else{const r=Vl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ua.warn(r.message)}}}function aW(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3e=1024,u3e=30*24*60*60*1e3;class f3e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new h3e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZU();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=u3e}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ua.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZU(),{heartbeatsToSend:r,unsentEntries:i}=d3e(this._heartbeatsCache.heartbeats),s=K$(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ua.warn(t),""}}}function ZU(){return new Date().toISOString().substring(0,10)}function d3e(n,e=c3e){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),e4(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),e4(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class h3e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z$()?eW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l3e(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e4(n){return K$(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3e(n){Ha(new Fo("platform-logger",e=>new CDe(e),"PRIVATE")),Ha(new Fo("heartbeat",e=>new f3e(e),"PRIVATE")),Lo(nT,YU,n),Lo(nT,YU,"esm2017"),Lo("fire-js","")}p3e("");var m3e="firebase",g3e="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo(m3e,g3e,"app");function lW(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y3e=lW,cW=new Qu("auth","Firebase",lW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new YI("@firebase/auth");function v3e(n,...e){Gb.logLevel<=sn.WARN&&Gb.warn(`Auth (${w0}): ${n}`,...e)}function Cx(n,...e){Gb.logLevel<=sn.ERROR&&Gb.error(`Auth (${w0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(n,...e){throw ZI(n,...e)}function Zs(n,...e){return ZI(n,...e)}function qI(n,e,t){const r=Object.assign(Object.assign({},y3e()),{[e]:t});return new Qu("auth","Firebase",r).create(e,{appName:n.name})}function gu(n){return qI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x3e(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Uo(n,"argument-error"),qI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZI(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cW.create(n,...e)}function mt(n,e,...t){if(!n)throw ZI(e,...t)}function Sa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cx(e),new Error(e)}function za(n,e){n||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function b3e(){return t4()==="http:"||t4()==="https:"}function t4(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b3e()||q$()||"connection"in navigator)?navigator.onLine:!0}function w3e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.shortDelay=e,this.longDelay=t,za(t>e,"Short delay should be less than long delay!"),this.isMobile=JLe()||XLe()}get(){return _3e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){za(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3e=new S0(3e4,6e4);function t2(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xh(n,e,t,r,i={}){return fW(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_0(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return KLe()||(c.referrerPolicy="no-referrer"),uW.fetch()(dW(n,n.config.apiHost,t,a),c)})}async function fW(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},S3e),e);try{const i=new M3e(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yv(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yv(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yv(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yv(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qI(n,u,c);Uo(n,u)}}catch(i){if(i instanceof $o)throw i;Uo(n,"network-request-failed",{message:String(i)})}}async function E3e(n,e,t,r,i={}){const s=await Xh(n,e,t,r,i);return"mfaPendingCredential"in s&&Uo(n,"multi-factor-auth-required",{_serverResponse:s}),s}function dW(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?e2(n.config,i):`${n.config.apiScheme}://${i}`}class M3e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),A3e.get())})}}function Yv(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Zs(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3e(n,e){return Xh(n,"POST","/v1/accounts:delete",e)}async function hW(n,e){return Xh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T3e(n,e=!1){const t=hc(n),r=await t.getIdToken(e),i=n2(r);mt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Om(VA(i.auth_time)),issuedAtTime:Om(VA(i.iat)),expirationTime:Om(VA(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function VA(n){return Number(n)*1e3}function n2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cx("JWT malformed, contained fewer than 3 sections"),null;try{const i=X$(t);return i?JSON.parse(i):(Cx("Failed to decode base64 JWT payload"),null)}catch(i){return Cx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function n4(n){const e=n2(n);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof $o&&R3e(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function R3e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Om(this.lastLoginAt),this.creationTime=Om(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ig(n,hW(t,{idToken:r}));mt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pW(s.providerUserInfo):[],a=B3e(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function I3e(n){const e=hc(n);await Vb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B3e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pW(n){return n.map(e=>{var{providerId:t}=e,r=FP(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3e(n,e){const t=await fW(n,{},async()=>{const r=_0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=dW(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uW.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function D3e(n,e){return Xh(n,"POST","/v2/accounts:revokeToken",t2(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=n4(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await L3e(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new $d;return r&&(mt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $d,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n,e){mt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=FP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P3e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ig(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return T3e(this,e)}reload(){return I3e(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wa(this.auth.app))return Promise.reject(gu(this.auth));const e=await this.getIdToken();return await Ig(this,C3e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const f=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=t.createdAt)!==null&&c!==void 0?c:void 0,_=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:S,isAnonymous:E,providerData:M,stsTokenManager:R}=t;mt(b&&R,e,"internal-error");const B=$d.fromJSON(this.name,R);mt(typeof b=="string",e,"internal-error"),hl(f,e.name),hl(p,e.name),mt(typeof S=="boolean",e,"internal-error"),mt(typeof E=="boolean",e,"internal-error"),hl(m,e.name),hl(y,e.name),hl(v,e.name),hl(x,e.name),hl(g,e.name),hl(_,e.name);const T=new Aa({uid:b,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:E,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:B,createdAt:g,lastLoginAt:_});return M&&Array.isArray(M)&&(T.providerData=M.map(I=>Object.assign({},I))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,t,r=!1){const i=new $d;i.updateFromServerResponse(t);const s=new Aa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vb(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $d;a.updateFromIdToken(r);const l=new Aa({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Map;function Ea(n){za(n instanceof Function,"Expected a class definition");let e=r4.get(n);return e?(za(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,r4.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mW.type="NONE";const i4=mW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(n,e,t){return`firebase:${n}:${e}:${t}`}class Wd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tx("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wd(Ea(i4),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ea(i4);const o=Tx(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const f=Aa._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Wd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Wd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_W(e))return"Blackberry";if(wW(e))return"Webos";if(yW(e))return"Safari";if((e.includes("chrome/")||vW(e))&&!e.includes("edge/"))return"Chrome";if(bW(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gW(n=qr()){return/firefox\//i.test(n)}function yW(n=qr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vW(n=qr()){return/crios\//i.test(n)}function xW(n=qr()){return/iemobile/i.test(n)}function bW(n=qr()){return/android/i.test(n)}function _W(n=qr()){return/blackberry/i.test(n)}function wW(n=qr()){return/webos/i.test(n)}function r2(n=qr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function O3e(n=qr()){var e;return r2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k3e(){return YLe()&&document.documentMode===10}function SW(n=qr()){return r2(n)||bW(n)||wW(n)||_W(n)||/windows phone/i.test(n)||xW(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(n,e=[]){let t;switch(n){case"Browser":t=s4(qr());break;case"Worker":t=`${s4(qr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${w0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3e(n,e={}){return Xh(n,"GET","/v2/passwordPolicy",t2(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3e=6;class H3e{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:U3e,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o4(this),this.idTokenSubscription=new o4(this),this.beforeStateQueue=new N3e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ea(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hW(this,{idToken:e}),r=await Aa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vb(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w3e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wa(this.app))return Promise.reject(gu(this));const t=e?hc(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wa(this.app)?Promise.reject(gu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wa(this.app)?Promise.reject(gu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F3e(this),t=new H3e(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await D3e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ea(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await Wd.create(this,[Ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&v3e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function y_(n){return hc(n)}class o4{constructor(e){this.auth=e,this.observer=null,this.addObserver=nDe(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G3e(n){i2=n}function V3e(n){return i2.loadJS(n)}function $3e(){return i2.gapiScript}function W3e(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3e(n,e){const t=Kh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Rg(s,e??{}))return i;Uo(i,"already-initialized")}return t.initialize({options:e})}function J3e(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ea);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function K3e(n,e,t){const r=y_(n);mt(r._canInitEmulator,r,"emulator-config-failed"),mt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=EW(e),{host:o,port:a}=X3e(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Y3e()}function EW(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X3e(n){const e=EW(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:a4(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:a4(o)}}}function a4(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Y3e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,t){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(n,e){return E3e(n,"POST","/v1/accounts:signInWithIdp",t2(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3e="http://localhost";class Iu extends MW{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Uo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=FP(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Iu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return jd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,jd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jd(e,t)}buildRequest(){const e={requestUri:Q3e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends s2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends A0{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sl.credential(e.oauthAccessToken)}catch{return null}}}Sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends A0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Iu._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ma.credential(t,r)}catch{return null}}}ma.GOOGLE_SIGN_IN_METHOD="google.com";ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends A0{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.GITHUB_SIGN_IN_METHOD="github.com";Al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends A0{constructor(){super("twitter.com")}static credential(e,t){return Iu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return El.credential(t,r)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Aa._fromIdTokenResponse(e,r,i),o=l4(r);return new Sh({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=l4(r);return new Sh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function l4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends $o{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$b.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new $b(e,t,r,i)}}function CW(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$b._fromErrorAndOperation(n,s,e,r):s})}async function q3e(n,e,t=!1){const r=await Ig(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3e(n,e,t=!1){const{auth:r}=n;if(wa(r.app))return Promise.reject(gu(r));const i="reauthenticate";try{const s=await Ig(n,CW(r,i,e,n),t);mt(s.idToken,r,"internal-error");const o=n2(s.idToken);mt(o,r,"internal-error");const{sub:a}=o;return mt(n.uid===a,r,"user-mismatch"),Sh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Uo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eOe(n,e,t=!1){if(wa(n.app))return Promise.reject(gu(n));const r="signIn",i=await CW(n,r,e),s=await Sh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function tOe(n,e,t,r){return hc(n).onIdTokenChanged(e,t,r)}function nOe(n,e,t){return hc(n).beforeAuthStateChanged(e,t)}const Wb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wb,"1"),this.storage.removeItem(Wb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rOe=1e3,iOe=10;class RW extends TW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);k3e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iOe):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},rOe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RW.type="LOCAL";const sOe=RW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW extends TW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PW.type="SESSION";const IW=PW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oOe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new v_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await oOe(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aOe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=o2("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return window}function lOe(n){Do().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(){return typeof Do().WorkerGlobalScope<"u"&&typeof Do().importScripts=="function"}async function cOe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uOe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function fOe(){return BW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="firebaseLocalStorageDb",dOe=1,jb="firebaseLocalStorage",DW="fbase_key";class E0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function x_(n,e){return n.transaction([jb],e?"readwrite":"readonly").objectStore(jb)}function hOe(){const n=indexedDB.deleteDatabase(LW);return new E0(n).toPromise()}function aT(){const n=indexedDB.open(LW,dOe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jb,{keyPath:DW})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jb)?e(r):(r.close(),await hOe(),e(await aT()))})})}async function c4(n,e,t){const r=x_(n,!0).put({[DW]:e,value:t});return new E0(r).toPromise()}async function pOe(n,e){const t=x_(n,!1).get(e),r=await new E0(t).toPromise();return r===void 0?null:r.value}function u4(n,e){const t=x_(n,!0).delete(e);return new E0(t).toPromise()}const mOe=800,gOe=3;class OW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>gOe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v_._getInstance(fOe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cOe(),!this.activeServiceWorker)return;this.sender=new aOe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uOe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aT();return await c4(e,Wb,"1"),await u4(e,Wb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c4(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>pOe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>u4(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=x_(i,!1).getAll();return new E0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mOe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OW.type="LOCAL";const yOe=OW;new S0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(n,e){return e?Ea(e):(mt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends MW{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vOe(n){return eOe(n.auth,new a2(n),n.bypassAuthState)}function xOe(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),Z3e(t,new a2(n),n.bypassAuthState)}async function bOe(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),q3e(t,new a2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vOe;case"linkViaPopup":case"linkViaRedirect":return bOe;case"reauthViaPopup":case"reauthViaRedirect":return xOe;default:Uo(this.auth,"internal-error")}}resolve(e){za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Oe=new S0(2e3,1e4);async function wOe(n,e,t){if(wa(n.app))return Promise.reject(Zs(n,"operation-not-supported-in-this-environment"));const r=y_(n);x3e(n,e,s2);const i=kW(r,t);return new su(r,"signInViaPopup",e,i).executeNotNull()}class su extends NW{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,su.currentPopupAction&&su.currentPopupAction.cancel(),su.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){za(this.filter.length===1,"Popup operations only handle one event");const e=o2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,su.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_Oe.get())};e()}}su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SOe="pendingRedirect",Rx=new Map;class AOe extends NW{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rx.get(this.auth._key());if(!e){try{const r=await EOe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rx.set(this.auth._key(),e)}return this.bypassAuthState||Rx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EOe(n,e){const t=TOe(e),r=COe(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function MOe(n,e){Rx.set(n._key(),e)}function COe(n){return Ea(n._redirectPersistence)}function TOe(n){return Tx(SOe,n.config.apiKey,n.name)}async function ROe(n,e,t=!1){if(wa(n.app))return Promise.reject(gu(n));const r=y_(n),i=kW(r,e),o=await new AOe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const POe=10*60*1e3;class IOe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BOe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FW(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=POe&&this.cachedEventUids.clear(),this.cachedEventUids.has(f4(e))}saveEventToCache(e){this.cachedEventUids.add(f4(e)),this.lastProcessedEventTime=Date.now()}}function f4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FW({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BOe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FW(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LOe(n,e={}){return Xh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DOe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OOe=/^https?/;async function kOe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LOe(n);for(const t of e)try{if(NOe(t))return}catch{}Uo(n,"unauthorized-domain")}function NOe(n){const e=sT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!OOe.test(t))return!1;if(DOe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FOe=new S0(3e4,6e4);function d4(){const n=Do().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UOe(n){return new Promise((e,t)=>{var r,i,s;function o(){d4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d4(),t(Zs(n,"network-request-failed"))},timeout:FOe.get()})}if(!((i=(r=Do().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Do().gapi)===null||s===void 0)&&s.load)o();else{const a=W3e("iframefcb");return Do()[a]=()=>{gapi.load?o():t(Zs(n,"network-request-failed"))},V3e(`${$3e()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Px=null,e})}let Px=null;function HOe(n){return Px=Px||UOe(n),Px}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zOe=new S0(5e3,15e3),GOe="__/auth/iframe",VOe="emulator/auth/iframe",$Oe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WOe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jOe(n){const e=n.config;mt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?e2(e,VOe):`https://${n.config.authDomain}/${GOe}`,r={apiKey:e.apiKey,appName:n.name,v:w0},i=WOe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${_0(r).slice(1)}`}async function JOe(n){const e=await HOe(n),t=Do().gapi;return mt(t,n,"internal-error"),e.open({where:document.body,url:jOe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$Oe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zs(n,"network-request-failed"),a=Do().setTimeout(()=>{s(o)},zOe.get());function l(){Do().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KOe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XOe=500,YOe=600,QOe="_blank",qOe="http://localhost";class h4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZOe(n,e,t,r=XOe,i=YOe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KOe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qr().toLowerCase();t&&(a=vW(c)?QOe:t),gW(c)&&(e=e||qOe,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(O3e(c)&&a!=="_self")return eke(e||"",a),new h4(null);const f=window.open(e||"",a,u);mt(f,n,"popup-blocked");try{f.focus()}catch{}return new h4(f)}function eke(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tke="__/auth/handler",nke="emulator/auth/handler",rke=encodeURIComponent("fac");async function p4(n,e,t,r,i,s){mt(n.config.authDomain,n,"auth-domain-config-required"),mt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:w0,eventId:i};if(e instanceof s2){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",tDe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof A0){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${rke}=${encodeURIComponent(l)}`:"";return`${ike(n)}?${_0(a).slice(1)}${c}`}function ike({config:n}){return n.emulator?e2(n,nke):`https://${n.authDomain}/${tke}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="webStorageSupport";class ske{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IW,this._completeRedirectFn=ROe,this._overrideRedirectResult=MOe}async _openPopup(e,t,r,i){var s;za((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await p4(e,t,r,sT(),i);return ZOe(e,o,o2())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await p4(e,t,r,sT(),i);return lOe(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(za(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await JOe(e),r=new IOe(e);return t.register("authEvent",i=>(mt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($A,{type:$A},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$A];o!==void 0&&t(!!o),Uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kOe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SW()||yW()||r2()}}const oke=ske;var m4="@firebase/auth",g4="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ake{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lke(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cke(n){Ha(new Fo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AW(n)},c=new z3e(r,i,s,l);return J3e(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ha(new Fo("auth-internal",e=>{const t=y_(e.getProvider("auth").getImmediate());return(r=>new ake(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lo(m4,g4,lke(n)),Lo(m4,g4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uke=5*60,fke=Q$("authIdTokenMaxAge")||uke;let y4=null;const dke=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fke)return;const i=t==null?void 0:t.token;y4!==i&&(y4=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hke(n=sW()){const e=Kh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=j3e(n,{popupRedirectResolver:oke,persistence:[yOe,sOe,IW]}),r=Q$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=dke(s.toString());nOe(t,o,()=>o(t.currentUser)),tOe(t,a=>o(a))}}const i=WLe("auth");return i&&K3e(t,`http://${i}`),t}function pke(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}G3e({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Zs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",pke().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cke("Browser");const UW="@firebase/installations",l2="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=1e4,zW=`w:${l2}`,GW="FIS_v2",mke="https://firebaseinstallations.googleapis.com/v1",gke=60*60*1e3,yke="installations",vke="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xke={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Bu=new Qu(yke,vke,xke);function VW(n){return n instanceof $o&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W({projectId:n}){return`${mke}/projects/${n}/installations`}function WW(n){return{token:n.token,requestStatus:2,expiresIn:_ke(n.expiresIn),creationTime:Date.now()}}async function jW(n,e){const r=(await e.json()).error;return Bu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function JW({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function bke(n,{refreshToken:e}){const t=JW(n);return t.append("Authorization",wke(e)),t}async function KW(n){const e=await n();return e.status>=500&&e.status<600?n():e}function _ke(n){return Number(n.replace("s","000"))}function wke(n){return`${GW} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ske({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=$W(n),i=JW(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:t,authVersion:GW,appId:n.appId,sdkVersion:zW},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await KW(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:WW(c.authToken)}}else throw await jW("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ake(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eke=/^[cdef][\w-]{21}$/,lT="";function Mke(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Cke(n);return Eke.test(t)?t:lT}catch{return lT}}function Cke(n){return Ake(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new Map;function QW(n,e){const t=b_(n);qW(t,e),Tke(t,e)}function qW(n,e){const t=YW.get(n);if(t)for(const r of t)r(e)}function Tke(n,e){const t=Rke();t&&t.postMessage({key:n,fid:e}),Pke()}let ou=null;function Rke(){return!ou&&"BroadcastChannel"in self&&(ou=new BroadcastChannel("[Firebase] FID Change"),ou.onmessage=n=>{qW(n.data.key,n.data.fid)}),ou}function Pke(){YW.size===0&&ou&&(ou.close(),ou=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ike="firebase-installations-database",Bke=1,Lu="firebase-installations-store";let WA=null;function c2(){return WA||(WA=rW(Ike,Bke,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Lu)}}})),WA}async function Jb(n,e){const t=b_(n),i=(await c2()).transaction(Lu,"readwrite"),s=i.objectStore(Lu),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&QW(n,e.fid),e}async function ZW(n){const e=b_(n),r=(await c2()).transaction(Lu,"readwrite");await r.objectStore(Lu).delete(e),await r.done}async function __(n,e){const t=b_(n),i=(await c2()).transaction(Lu,"readwrite"),s=i.objectStore(Lu),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&QW(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(n){let e;const t=await __(n.appConfig,r=>{const i=Lke(r),s=Dke(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===lT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Lke(n){const e=n||{fid:Mke(),registrationStatus:0};return ej(e)}function Dke(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Bu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Oke(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kke(n)}:{installationEntry:e}}async function Oke(n,e){try{const t=await Ske(n,e);return Jb(n.appConfig,t)}catch(t){throw VW(t)&&t.customData.serverCode===409?await ZW(n.appConfig):await Jb(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function kke(n){let e=await v4(n.appConfig);for(;e.registrationStatus===1;)await XW(100),e=await v4(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await u2(n);return r||t}return e}function v4(n){return __(n,e=>{if(!e)throw Bu.create("installation-not-found");return ej(e)})}function ej(n){return Nke(n)?{fid:n.fid,registrationStatus:0}:n}function Nke(n){return n.registrationStatus===1&&n.registrationTime+HW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fke({appConfig:n,heartbeatServiceProvider:e},t){const r=Uke(n,t),i=bke(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:zW,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await KW(()=>fetch(r,a));if(l.ok){const c=await l.json();return WW(c)}else throw await jW("Generate Auth Token",l)}function Uke(n,{fid:e}){return`${$W(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,e=!1){let t;const r=await __(n.appConfig,s=>{if(!tj(s))throw Bu.create("not-registered");const o=s.authToken;if(!e&&Gke(o))return s;if(o.requestStatus===1)return t=Hke(n,e),s;{if(!navigator.onLine)throw Bu.create("app-offline");const a=$ke(s);return t=zke(n,a),a}});return t?await t:r.authToken}async function Hke(n,e){let t=await x4(n.appConfig);for(;t.authToken.requestStatus===1;)await XW(100),t=await x4(n.appConfig);const r=t.authToken;return r.requestStatus===0?f2(n,e):r}function x4(n){return __(n,e=>{if(!tj(e))throw Bu.create("not-registered");const t=e.authToken;return Wke(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zke(n,e){try{const t=await Fke(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Jb(n.appConfig,r),t}catch(t){if(VW(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await ZW(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jb(n.appConfig,r)}throw t}}function tj(n){return n!==void 0&&n.registrationStatus===2}function Gke(n){return n.requestStatus===2&&!Vke(n)}function Vke(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+gke}function $ke(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Wke(n){return n.requestStatus===1&&n.requestTime+HW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jke(n){const e=n,{installationEntry:t,registrationPromise:r}=await u2(e);return r?r.catch(console.error):f2(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jke(n,e=!1){const t=n;return await Kke(t),(await f2(t,e)).token}async function Kke(n){const{registrationPromise:e}=await u2(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xke(n){if(!n||!n.options)throw jA("App Configuration");if(!n.name)throw jA("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jA(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jA(n){return Bu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="installations",Yke="installations-internal",Qke=n=>{const e=n.getProvider("app").getImmediate(),t=Xke(e),r=Kh(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qke=n=>{const e=n.getProvider("app").getImmediate(),t=Kh(e,nj).getImmediate();return{getId:()=>jke(t),getToken:i=>Jke(t,i)}};function Zke(){Ha(new Fo(nj,Qke,"PUBLIC")),Ha(new Fo(Yke,qke,"PRIVATE"))}Zke();Lo(UW,l2);Lo(UW,l2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="analytics",eNe="firebase_id",tNe="origin",nNe=60*1e3,rNe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",d2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new YI("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iNe={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zi=new Qu("analytics","Analytics",iNe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sNe(n){if(!n.startsWith(d2)){const e=zi.create("invalid-gtag-resource",{gtagURL:n});return gi.warn(e.message),""}return n}function rj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oNe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function aNe(n,e){const t=oNe("firebase-js-sdk-policy",{createScriptURL:sNe}),r=document.createElement("script"),i=`${d2}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function lNe(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function cNe(n,e,t,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await rj(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){gi.error(a)}n("config",i,s)}async function uNe(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await rj(t);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){gi.error(s)}}function fNe(n,e,t,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await uNe(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await cNe(n,e,t,r,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){gi.error(a)}}return i}function dNe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=fNe(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function hNe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(d2)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pNe=30,mNe=1e3;class gNe{constructor(e={},t=mNe){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ij=new gNe;function yNe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function vNe(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:yNe(r)},s=rNe.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw zi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function xNe(n,e=ij,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw zi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw zi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new wNe;return setTimeout(async()=>{a.abort()},t!==void 0?t:nNe),sj({appId:r,apiKey:i,measurementId:s},o,a,e)}async function sj(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ij){var s;const{appId:o,measurementId:a}=n;try{await bNe(r,e)}catch(l){if(a)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await vNe(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!_Ne(c)){if(i.deleteThrottleMetadata(o),a)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?jU(t,i.intervalMillis,pNe):jU(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,f),gi.debug(`Calling attemptFetch again in ${u} millis`),sj(n,f,r,i)}}function bNe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(zi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _Ne(n){if(!(n instanceof $o)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class wNe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SNe(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ANe(){if(Z$())try{await eW()}catch(n){return gi.warn(zi.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return gi.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ENe(n,e,t,r,i,s,o){var a;const l=xNe(n);l.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>gi.error(m)),e.push(l);const c=ANe().then(m=>{if(m)return r.getId()}),[u,f]=await Promise.all([l,c]);hNe(s)||aNe(s,u.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[tNe]="firebase",p.update=!0,f!=null&&(p[eNe]=f),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MNe{constructor(e){this.app=e}_delete(){return delete km[this.app.options.appId],Promise.resolve()}}let km={},b4=[];const _4={};let JA="dataLayer",CNe="gtag",w4,oj,S4=!1;function TNe(){const n=[];if(q$()&&n.push("This is a browser extension environment."),QLe()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=zi.create("invalid-analytics-context",{errorInfo:e});gi.warn(t.message)}}function RNe(n,e,t){TNe();const r=n.options.appId;if(!r)throw zi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zi.create("no-api-key");if(km[r]!=null)throw zi.create("already-exists",{id:r});if(!S4){lNe(JA);const{wrappedGtag:s,gtagCore:o}=dNe(km,b4,_4,JA,CNe);oj=s,w4=o,S4=!0}return km[r]=ENe(n,b4,_4,e,w4,JA,t),new MNe(n)}function PNe(n=sW()){n=hc(n);const e=Kh(n,Kb);return e.isInitialized()?e.getImmediate():INe(n)}function INe(n,e={}){const t=Kh(n,Kb);if(t.isInitialized()){const i=t.getImmediate();if(Rg(e,t.getOptions()))return i;throw zi.create("already-initialized")}return t.initialize({options:e})}function BNe(n,e,t,r){n=hc(n),SNe(oj,km[n.app.options.appId],e,t,r).catch(i=>gi.error(i))}const A4="@firebase/analytics",E4="0.10.10";function LNe(){Ha(new Fo(Kb,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return RNe(r,i,t)},"PUBLIC")),Ha(new Fo("analytics-internal",n,"PRIVATE")),Lo(A4,E4),Lo(A4,E4,"esm2017");function n(e){try{const t=e.getProvider(Kb).getImmediate();return{logEvent:(r,i,s)=>BNe(t,r,i,s)}}catch(t){throw zi.create("interop-component-reg-failed",{reason:t})}}}LNe();const DNe={apiKey:"AIzaSyDrxuO6zYx4A_STBMx6RsHQVIHgPqAXKs4",authDomain:"kalkino-org.firebaseapp.com",projectId:"kalkino-org",storageBucket:"kalkino-org.firebasestorage.app",messagingSenderId:"919289249233",appId:"1:919289249233:web:9d7356a63529e0d39eb4f0",measurementId:"G-2XDHBTQ8LE"},aj=iW(DNe),ONe=hke(aj);PNe(aj);function lj(n,e){return function(){return n.apply(e,arguments)}}const{toString:kNe}=Object.prototype,{getPrototypeOf:h2}=Object,w_=(n=>e=>{const t=kNe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),co=n=>(n=n.toLowerCase(),e=>w_(e)===n),S_=n=>e=>typeof e===n,{isArray:Yh}=Array,Bg=S_("undefined");function NNe(n){return n!==null&&!Bg(n)&&n.constructor!==null&&!Bg(n.constructor)&&Gi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cj=co("ArrayBuffer");function FNe(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&cj(n.buffer),e}const UNe=S_("string"),Gi=S_("function"),uj=S_("number"),A_=n=>n!==null&&typeof n=="object",HNe=n=>n===!0||n===!1,Ix=n=>{if(w_(n)!=="object")return!1;const e=h2(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zNe=co("Date"),GNe=co("File"),VNe=co("Blob"),$Ne=co("FileList"),WNe=n=>A_(n)&&Gi(n.pipe),jNe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Gi(n.append)&&((e=w_(n))==="formdata"||e==="object"&&Gi(n.toString)&&n.toString()==="[object FormData]"))},JNe=co("URLSearchParams"),[KNe,XNe,YNe,QNe]=["ReadableStream","Request","Response","Headers"].map(co),qNe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M0(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Yh(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function fj(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const au=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),dj=n=>!Bg(n)&&n!==au;function cT(){const{caseless:n}=dj(this)&&this||{},e={},t=(r,i)=>{const s=n&&fj(e,i)||i;Ix(e[s])&&Ix(r)?e[s]=cT(e[s],r):Ix(r)?e[s]=cT({},r):Yh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&M0(arguments[r],t);return e}const ZNe=(n,e,t,{allOwnKeys:r}={})=>(M0(e,(i,s)=>{t&&Gi(i)?n[s]=lj(i,t):n[s]=i},{allOwnKeys:r}),n),eFe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),tFe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},nFe=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&h2(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},rFe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},iFe=n=>{if(!n)return null;if(Yh(n))return n;let e=n.length;if(!uj(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},sFe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&h2(Uint8Array)),oFe=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},aFe=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},lFe=co("HTMLFormElement"),cFe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),M4=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),uFe=co("RegExp"),hj=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};M0(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},fFe=n=>{hj(n,(e,t)=>{if(Gi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Gi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},dFe=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Yh(n)?r(n):r(String(n).split(e)),t},hFe=()=>{},pFe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,KA="abcdefghijklmnopqrstuvwxyz",C4="0123456789",pj={DIGIT:C4,ALPHA:KA,ALPHA_DIGIT:KA+KA.toUpperCase()+C4},mFe=(n=16,e=pj.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function gFe(n){return!!(n&&Gi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const yFe=n=>{const e=new Array(10),t=(r,i)=>{if(A_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Yh(r)?[]:{};return M0(r,(o,a)=>{const l=t(o,i+1);!Bg(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},vFe=co("AsyncFunction"),xFe=n=>n&&(A_(n)||Gi(n))&&Gi(n.then)&&Gi(n.catch),mj=((n,e)=>n?setImmediate:e?((t,r)=>(au.addEventListener("message",({source:i,data:s})=>{i===au&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),au.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Gi(au.postMessage)),bFe=typeof queueMicrotask<"u"?queueMicrotask.bind(au):typeof process<"u"&&process.nextTick||mj,ye={isArray:Yh,isArrayBuffer:cj,isBuffer:NNe,isFormData:jNe,isArrayBufferView:FNe,isString:UNe,isNumber:uj,isBoolean:HNe,isObject:A_,isPlainObject:Ix,isReadableStream:KNe,isRequest:XNe,isResponse:YNe,isHeaders:QNe,isUndefined:Bg,isDate:zNe,isFile:GNe,isBlob:VNe,isRegExp:uFe,isFunction:Gi,isStream:WNe,isURLSearchParams:JNe,isTypedArray:sFe,isFileList:$Ne,forEach:M0,merge:cT,extend:ZNe,trim:qNe,stripBOM:eFe,inherits:tFe,toFlatObject:nFe,kindOf:w_,kindOfTest:co,endsWith:rFe,toArray:iFe,forEachEntry:oFe,matchAll:aFe,isHTMLForm:lFe,hasOwnProperty:M4,hasOwnProp:M4,reduceDescriptors:hj,freezeMethods:fFe,toObjectSet:dFe,toCamelCase:cFe,noop:hFe,toFiniteNumber:pFe,findKey:fj,global:au,isContextDefined:dj,ALPHABET:pj,generateString:mFe,isSpecCompliantForm:gFe,toJSONObject:yFe,isAsyncFn:vFe,isThenable:xFe,setImmediate:mj,asap:bFe};function wt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ye.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const gj=wt.prototype,yj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{yj[n]={value:n}});Object.defineProperties(wt,yj);Object.defineProperty(gj,"isAxiosError",{value:!0});wt.from=(n,e,t,r,i,s)=>{const o=Object.create(gj);return ye.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),wt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const _Fe=null;function uT(n){return ye.isPlainObject(n)||ye.isArray(n)}function vj(n){return ye.endsWith(n,"[]")?n.slice(0,-2):n}function T4(n,e,t){return n?n.concat(e).map(function(i,s){return i=vj(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function wFe(n){return ye.isArray(n)&&!n.some(uT)}const SFe=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function E_(n,e,t){if(!ye.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ye.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!ye.isUndefined(x[v])});const r=t.metaTokens,i=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(ye.isDate(y))return y.toISOString();if(!l&&ye.isBlob(y))throw new wt("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(y)||ye.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,x){let g=y;if(y&&!x&&typeof y=="object"){if(ye.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(ye.isArray(y)&&wFe(y)||(ye.isFileList(y)||ye.endsWith(v,"[]"))&&(g=ye.toArray(y)))return v=vj(v),g.forEach(function(b,S){!(ye.isUndefined(b)||b===null)&&e.append(o===!0?T4([v],S,s):o===null?v:v+"[]",c(b))}),!1}return uT(y)?!0:(e.append(T4(x,v,s),c(y)),!1)}const f=[],p=Object.assign(SFe,{defaultVisitor:u,convertValue:c,isVisitable:uT});function m(y,v){if(!ye.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),ye.forEach(y,function(g,_){(!(ye.isUndefined(g)||g===null)&&i.call(e,g,ye.isString(_)?_.trim():_,v,p))===!0&&m(g,v?v.concat(_):[_])}),f.pop()}}if(!ye.isObject(n))throw new TypeError("data must be an object");return m(n),e}function R4(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function p2(n,e){this._pairs=[],n&&E_(n,this,e)}const xj=p2.prototype;xj.append=function(e,t){this._pairs.push([e,t])};xj.toString=function(e){const t=e?function(r){return e.call(this,r,R4)}:R4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function AFe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bj(n,e,t){if(!e)return n;const r=t&&t.encode||AFe;ye.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ye.isURLSearchParams(e)?e.toString():new p2(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class EFe{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const P4=EFe,_j={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MFe=typeof URLSearchParams<"u"?URLSearchParams:p2,CFe=typeof FormData<"u"?FormData:null,TFe=typeof Blob<"u"?Blob:null,RFe={isBrowser:!0,classes:{URLSearchParams:MFe,FormData:CFe,Blob:TFe},protocols:["http","https","file","blob","url","data"]},m2=typeof window<"u"&&typeof document<"u",fT=typeof navigator=="object"&&navigator||void 0,PFe=m2&&(!fT||["ReactNative","NativeScript","NS"].indexOf(fT.product)<0),IFe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),BFe=m2&&window.location.href||"http://localhost",LFe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m2,hasStandardBrowserEnv:PFe,hasStandardBrowserWebWorkerEnv:IFe,navigator:fT,origin:BFe},Symbol.toStringTag,{value:"Module"})),Ur={...LFe,...RFe};function DFe(n,e){return E_(n,new Ur.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ur.isNode&&ye.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function OFe(n){return ye.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kFe(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function wj(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&ye.isArray(i)?i.length:o,l?(ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ye.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&ye.isArray(i[o])&&(i[o]=kFe(i[o])),!a)}if(ye.isFormData(n)&&ye.isFunction(n.entries)){const t={};return ye.forEachEntry(n,(r,i)=>{e(OFe(r),i,t,0)}),t}return null}function NFe(n,e,t){if(ye.isString(n))try{return(e||JSON.parse)(n),ye.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const g2={transitional:_j,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ye.isObject(e);if(s&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return i?JSON.stringify(wj(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DFe(e,this.formSerializer).toString();if((a=ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return E_(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),NFe(e)):e}],transformResponse:[function(e){const t=this.transitional||g2.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?wt.from(a,wt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ur.classes.FormData,Blob:Ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],n=>{g2.headers[n]={}});const y2=g2,FFe=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UFe=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&FFe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},I4=Symbol("internals");function Qp(n){return n&&String(n).trim().toLowerCase()}function Bx(n){return n===!1||n==null?n:ye.isArray(n)?n.map(Bx):String(n)}function HFe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const zFe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function XA(n,e,t,r,i){if(ye.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ye.isString(e)){if(ye.isString(r))return e.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(e)}}function GFe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function VFe(n,e){const t=ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class M_{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,c){const u=Qp(l);if(!u)throw new Error("header name must be a non-empty string");const f=ye.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Bx(a))}const o=(a,l)=>ye.forEach(a,(c,u)=>s(c,u,l));if(ye.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ye.isString(e)&&(e=e.trim())&&!zFe(e))o(UFe(e),t);else if(ye.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Qp(e),e){const r=ye.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return HFe(i);if(ye.isFunction(t))return t.call(this,i,r);if(ye.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qp(e),e){const r=ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||XA(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Qp(o),o){const a=ye.findKey(r,o);a&&(!t||XA(r,r[a],a,t))&&(delete r[a],i=!0)}}return ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||XA(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return ye.forEach(this,(i,s)=>{const o=ye.findKey(r,s);if(o){t[o]=Bx(i),delete t[s];return}const a=e?GFe(s):String(s).trim();a!==s&&delete t[s],t[a]=Bx(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ye.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[I4]=this[I4]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Qp(o);r[a]||(VFe(i,o),r[a]=!0)}return ye.isArray(e)?e.forEach(s):s(e),this}}M_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(M_.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ye.freezeMethods(M_);const eo=M_;function YA(n,e){const t=this||y2,r=e||t,i=eo.from(r.headers);let s=r.data;return ye.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Sj(n){return!!(n&&n.__CANCEL__)}function Qh(n,e,t){wt.call(this,n??"canceled",wt.ERR_CANCELED,e,t),this.name="CanceledError"}ye.inherits(Qh,wt,{__CANCEL__:!0});function Aj(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new wt("Request failed with status code "+t.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $Fe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function WFe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),t[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=t[f++],f=f%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function jFe(n,e){let t=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{t=u,i=null,s&&(clearTimeout(s),s=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-t;f>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Xb=(n,e,t=3)=>{let r=0;const i=WFe(50,250);return jFe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(f)},t)},B4=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},L4=n=>(...e)=>ye.asap(()=>n(...e)),JFe=Ur.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ur.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ur.origin),Ur.navigator&&/(msie|trident)/i.test(Ur.navigator.userAgent)):()=>!0,KFe=Ur.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];ye.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ye.isString(r)&&o.push("path="+r),ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XFe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function YFe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ej(n,e){return n&&!XFe(e)?YFe(n,e):e}const D4=n=>n instanceof eo?{...n}:n;function Du(n,e){e=e||{};const t={};function r(c,u,f,p){return ye.isPlainObject(c)&&ye.isPlainObject(u)?ye.merge.call({caseless:p},c,u):ye.isPlainObject(u)?ye.merge({},u):ye.isArray(u)?u.slice():u}function i(c,u,f,p){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return r(void 0,c,f,p)}else return r(c,u,f,p)}function s(c,u){if(!ye.isUndefined(u))return r(void 0,u)}function o(c,u){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>i(D4(c),D4(u),f,!0)};return ye.forEach(Object.keys(Object.assign({},n,e)),function(u){const f=l[u]||i,p=f(n[u],e[u],u);ye.isUndefined(p)&&f!==a||(t[u]=p)}),t}const Mj=n=>{const e=Du({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=eo.from(o),e.url=bj(Ej(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ye.isFormData(t)){if(Ur.hasStandardBrowserEnv||Ur.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ur.hasStandardBrowserEnv&&(r&&ye.isFunction(r)&&(r=r(e)),r||r!==!1&&JFe(e.url))){const c=i&&s&&KFe.read(s);c&&o.set(i,c)}return e},QFe=typeof XMLHttpRequest<"u",qFe=QFe&&function(n){return new Promise(function(t,r){const i=Mj(n);let s=i.data;const o=eo.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,p,m,y;function v(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const b=eo.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:n,request:x};Aj(function(R){t(R),v()},function(R){r(R),v()},E),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(r(new wt("Request aborted",wt.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new wt("Network Error",wt.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||_j;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new wt(S,E.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,n,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&ye.forEach(o.toJSON(),function(S,E){x.setRequestHeader(E,S)}),ye.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),c&&([p,y]=Xb(c,!0),x.addEventListener("progress",p)),l&&x.upload&&([f,m]=Xb(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=b=>{x&&(r(!b||b.type?new Qh(null,n,x):b),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=$Fe(i.url);if(_&&Ur.protocols.indexOf(_)===-1){r(new wt("Unsupported protocol "+_+":",wt.ERR_BAD_REQUEST,n));return}x.send(s||null)})},ZFe=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof wt?u:new Qh(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ye.asap(a),l}},eUe=ZFe,tUe=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},nUe=async function*(n,e){for await(const t of rUe(n))yield*tUe(t,e)},rUe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},O4=(n,e,t,r)=>{const i=nUe(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(t){let p=s+=f;t(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},C_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cj=C_&&typeof ReadableStream=="function",iUe=C_&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Tj=(n,...e)=>{try{return!!n(...e)}catch{return!1}},sUe=Cj&&Tj(()=>{let n=!1;const e=new Request(Ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),k4=64*1024,dT=Cj&&Tj(()=>ye.isReadableStream(new Response("").body)),Yb={stream:dT&&(n=>n.body)};C_&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yb[e]&&(Yb[e]=ye.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new wt(`Response type '${e}' is not supported`,wt.ERR_NOT_SUPPORT,r)})})})(new Response);const oUe=async n=>{if(n==null)return 0;if(ye.isBlob(n))return n.size;if(ye.isSpecCompliantForm(n))return(await new Request(Ur.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(n)||ye.isArrayBuffer(n))return n.byteLength;if(ye.isURLSearchParams(n)&&(n=n+""),ye.isString(n))return(await iUe(n)).byteLength},aUe=async(n,e)=>{const t=ye.toFiniteNumber(n.getContentLength());return t??oUe(e)},lUe=C_&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=Mj(n);c=c?(c+"").toLowerCase():"text";let m=eUe([i,s&&s.toAbortSignal()],o),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(l&&sUe&&t!=="get"&&t!=="head"&&(x=await aUe(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(ye.isFormData(r)&&(M=E.headers.get("content-type"))&&u.setContentType(M),E.body){const[R,B]=B4(x,Xb(L4(l)));r=O4(E.body,k4,R,B)}}ye.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;y=new Request(e,{...p,signal:m,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let _=await fetch(y);const b=dT&&(c==="stream"||c==="response");if(dT&&(a||b&&v)){const E={};["status","statusText","headers"].forEach(T=>{E[T]=_[T]});const M=ye.toFiniteNumber(_.headers.get("content-length")),[R,B]=a&&B4(M,Xb(L4(a),!0))||[];_=new Response(O4(_.body,k4,R,()=>{B&&B(),v&&v()}),E)}c=c||"text";let S=await Yb[ye.findKey(Yb,c)||"text"](_,n);return!b&&v&&v(),await new Promise((E,M)=>{Aj(E,M,{data:S,headers:eo.from(_.headers),status:_.status,statusText:_.statusText,config:n,request:y})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,n,y),{cause:g.cause||g}):wt.from(g,g&&g.code,n,y)}}),hT={http:_Fe,xhr:qFe,fetch:lUe};ye.forEach(hT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const N4=n=>`- ${n}`,cUe=n=>ye.isFunction(n)||n===null||n===!1,Rj={getAdapter:n=>{n=ye.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!cUe(t)&&(r=hT[(o=String(t)).toLowerCase()],r===void 0))throw new wt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(N4).join(`
`):" "+N4(s[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:hT};function QA(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qh(null,n)}function F4(n){return QA(n),n.headers=eo.from(n.headers),n.data=YA.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Rj.getAdapter(n.adapter||y2.adapter)(n).then(function(r){return QA(n),r.data=YA.call(n,n.transformResponse,r),r.headers=eo.from(r.headers),r},function(r){return Sj(r)||(QA(n),r&&r.response&&(r.response.data=YA.call(n,n.transformResponse,r.response),r.response.headers=eo.from(r.response.headers))),Promise.reject(r)})}const Pj="1.7.9",T_={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{T_[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const U4={};T_.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Pj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new wt(i(o," has been removed"+(t?" in "+t:"")),wt.ERR_DEPRECATED);return t&&!U4[o]&&(U4[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};T_.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uUe(n,e,t){if(typeof n!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new wt("option "+s+" must be "+l,wt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new wt("Unknown option "+s,wt.ERR_BAD_OPTION)}}const Lx={assertOptions:uUe,validators:T_},_o=Lx.validators;class Qb{constructor(e){this.defaults=e,this.interceptors={request:new P4,response:new P4}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Du(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Lx.assertOptions(r,{silentJSONParsing:_o.transitional(_o.boolean),forcedJSONParsing:_o.transitional(_o.boolean),clarifyTimeoutError:_o.transitional(_o.boolean)},!1),i!=null&&(ye.isFunction(i)?t.paramsSerializer={serialize:i}:Lx.assertOptions(i,{encode:_o.function,serialize:_o.function},!0)),Lx.assertOptions(t,{baseUrl:_o.spelling("baseURL"),withXsrfToken:_o.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ye.merge(s.common,s[t.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=eo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,p;if(!l){const y=[F4.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,u=Promise.resolve(t);f<p;)u=u.then(y[f++],y[f++]);return u}p=a.length;let m=t;for(f=0;f<p;){const y=a[f++],v=a[f++];try{m=y(m)}catch(x){v.call(this,x);break}}try{u=F4.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Du(this.defaults,e);const t=Ej(e.baseURL,e.url);return bj(t,e.params,e.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(e){Qb.prototype[e]=function(t,r){return this.request(Du(r||{},{method:e,url:t,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Du(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qb.prototype[e]=t(),Qb.prototype[e+"Form"]=t(!0)});const Dx=Qb;class v2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Qh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new v2(function(i){e=i}),cancel:e}}}const fUe=v2;function dUe(n){return function(t){return n.apply(null,t)}}function hUe(n){return ye.isObject(n)&&n.isAxiosError===!0}const pT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pT).forEach(([n,e])=>{pT[e]=n});const pUe=pT;function Ij(n){const e=new Dx(n),t=lj(Dx.prototype.request,e);return ye.extend(t,Dx.prototype,e,{allOwnKeys:!0}),ye.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Ij(Du(n,i))},t}const qn=Ij(y2);qn.Axios=Dx;qn.CanceledError=Qh;qn.CancelToken=fUe;qn.isCancel=Sj;qn.VERSION=Pj;qn.toFormData=E_;qn.AxiosError=wt;qn.Cancel=qn.CanceledError;qn.all=function(e){return Promise.all(e)};qn.spread=dUe;qn.isAxiosError=hUe;qn.mergeConfig=Du;qn.AxiosHeaders=eo;qn.formToJSON=n=>wj(ye.isHTMLForm(n)?new FormData(n):n);qn.getAdapter=Rj.getAdapter;qn.HttpStatusCode=pUe;qn.default=qn;const qp=qn;function mUe(){const{products:n,total:e,increaseProductQuantity:t,decreaseProductQuantity:r}=v0(),[i,s]=P.useState(null),[o,a]=P.useState({}),l=async(u,f)=>{if(e.productQuantity>0&&f&&Object.keys(u).length===5)try{const p=JSON.parse(localStorage.getItem("user"));let m="/api/apparels/orders";const y=await qp.post(m,{total_amount:e.totalPrice,customer:{first_name:p.first_name,last_name:p.last_name,email:p.email,mobile:f,address:u},order_items:n.map(M=>({product_id:M.id,product_name:M.title,size:M.availableSizes[0],color:M.color,quantity:M.quantity,price:M.price,texture:M.texture,placement:M.isLogoTexture?"LOGO":"BASE"})),payment:{method:"Cashfree",status:"ACTIVE",transaction_id:"TXN"}},{headers:{"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("token")}`},baseURL:"https://www.kalkinso.com"}),{paymentSessionId:v,returnUrl:x,orderId:g,order:_}=await y.data,b=await NLe({mode:"production"}),S={paymentSessionId:v,returnUrl:x};(await b.checkout(S)).redirect&&console.log("Redirecting to Cashfree Checkout")}catch(p){console.log(p),alert("Error initiating payment")}else alert("Fill all the details!")},c=async(u,f)=>{if(!f||Object.keys(u).length<5){alert("Fill out all details");return}const p=new ma;try{const m=await wOe(ONe,p);localStorage.setItem("auth",JSON.stringify(m));const y={headers:{"Content-Type":"application/json"},baseURL:"https://www.kalkinso.com"},v=JSON.stringify({first_name:m.user.displayName.split(" ")[0],last_name:m.user.displayName.split(" ")[1],email:m.user.email,mobile:f,upi:"",adhar:"",terms_conditions:!0,password:"",user_role:"Explorer",access:["ORDERS"]});try{let x=await qp.post("/api/users",v,y);localStorage.setItem("token",x.data.token);const g=await qp.get("/api/auth",{headers:{...y.headers,"x-auth-token":`${localStorage.getItem("token")}`},baseURL:y.baseURL});localStorage.setItem("user",JSON.stringify(g.data)),await l(u,f)}catch{let g=await qp.post("/api/auth/login/email",{email:m.user.email,password:""},{headers:{...y.headers,"x-auth-token":`${localStorage.getItem("token")}`,"x-google-token":`${m._tokenResponse.idToken}`},baseURL:y.baseURL});localStorage.setItem("token",g.data.token);const _=await qp.get("/api/auth",{headers:{...y.headers,"x-auth-token":`${localStorage.getItem("token")}`},baseURL:y.baseURL});localStorage.setItem("user",JSON.stringify(_.data)),await l(u,f)}}catch(m){console.error("Google Sign-In Error:",m.message)}};return K("div",{className:"mx-auto mt-5",style:{maxWidth:"900px"},children:Qe(qC,{children:[K(od,{md:"8",className:"mb-4",children:Qe(XC,{className:"mb-4",children:[K(YC,{className:"py-3",children:K(ZC,{tag:"h5",className:"mb-0",children:"Biling details"})}),K(QC,{children:Qe("form",{children:[Qe(qC,{className:"mb-4",children:[K(od,{children:K(Wc,{label:"City",onChange:u=>a({...o,city:u.target.value.trim()}),type:"text"})}),K(od,{children:K(Wc,{label:"State",onChange:u=>a({...o,state:u.target.value.trim()}),type:"text"})}),K(od,{children:K(Wc,{label:"ZIP Code",onChange:u=>a({...o,zip_code:u.target.value.trim()}),type:"text"})})]}),K(Wc,{label:"Country",type:"text",onChange:u=>a({...o,country:u.target.value.trim()}),className:"mb-4"}),K(Wc,{label:"Street",type:"text",onChange:u=>a({...o,street:u.target.value.trim()}),className:"mb-4"}),K(Wc,{label:"Phone",type:"text",maxLength:10,onChange:u=>s(u.target.value.trim()),className:"mb-4"}),K(ILe,{label:"Additional information",rows:4,className:"mb-4"}),K("div",{className:"d-flex justify-content-center",children:K(dLe,{name:"flexCheck",value:"",id:"flexCheckChecked",label:"Create an account?",defaultChecked:!0})})]})})]})}),K(od,{md:"4",className:"mb-4",children:Qe(XC,{className:"mb-4",children:[K(YC,{className:"py-3",children:K(ZC,{tag:"h5",className:"mb-0",children:"Summary"})}),Qe(QC,{children:[Qe(U$,{flush:!0,children:[n.map((u,f)=>Qe(Pa,{children:[Qe(dm,{className:"d-flex justify-content-between align-items-center border-0 px-0 pb-0",children:[u.title," (",u.availableSizes.join(", "),")",Qe("span",{children:[u.currencyFormat," ",u.price," x ",u.quantity,K("br",{})]})]}),Qe(dm,{className:"d-flex justify-content-between align-items-center border-0 px-0 pb-0",children:["Quantity Change",Qe("span",{children:[K(Fb,{onClick:()=>r(u),disabled:u.quantity===1,children:"-"}),K(Fb,{onClick:()=>t(u),children:"+"})]})]})]})),Qe(dm,{className:"d-flex justify-content-between align-items-center px-0",children:["Shipping",K("span",{children:"Free"})]}),Qe(dm,{className:"d-flex justify-content-between align-items-center border-0 px-0 mb-3",children:[Qe("div",{children:[K("strong",{children:"Total amount"}),K("strong",{children:K("p",{className:"mb-0",children:"(including (12%) GST)"})})]}),K("span",{children:Qe("strong",{children:[e.currencyFormat," ",e.totalPrice]})})]})]}),K(F$,{size:"lg",block:!0,onClick:()=>c(o,i),children:"Make purchase"})]})]})})]})})}const yu=()=>{window.location.search=`?apparel=${it.selectedApparel}&&color=${it.color[it.selectedApparel].replace("#","")}&&style=${it.baseDecal.replace("./styles/","")}&&placement=${it.isLogoTexture?"logo":"base"}&&intro=${it.intro}&&size=${it.size}&&purchase=${it.buy}`};function gUe(){const n=[{color:"#2f344a",title:"blue"},{color:"#cac8c2",title:"white/gray"},{color:"#772522",title:"red"},{color:"#2c2c2c",title:"black"},{color:"#cf9583",title:"swirl"}].map(c=>c.color.replace("#","")),e=["1B_025.png","I_008.png","Picsart_24-12-25_18-34-59-490.png","1E_016.png","I_027.png","Picsart_24-12-25_19-05-28-594.png","A_024.png","P_005.png","Picsart_24-12-25_19-08-26-881.png","F_008.png","P_089.png","Picsart_24-12-25_19-12-06-351.png","F_039.png","P_106.png","Picsart_24-12-25_19-16-58-200.png","kalkinso.png"],t=["shirt","hoodie"],r=vi(it),{isOpen:i,addProduct:s}=v0();JSON.parse(localStorage.getItem("finalDesigns"));const[o,a]=P.useState([{label:"shirt",command:()=>{it.selectedApparel="shirt",yu()},icon:()=>Qe(DM,{shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in",children:[K(jM,{files:"canary_wharf_1k.hdr"}),K(YM,{defaultPosition:[0,0,2],children:K(WM,{children:K(XM,{})})})]},"shirt")},{label:"hoodie",command:()=>{it.selectedApparel="hoodie",yu()},icon:()=>Qe(DM,{shadows:!0,camera:{position:[0,0,0],fov:25},gl:{preserveDrawingBuffer:!0},className:"w-full max-w-full h-full transition-all ease-in",children:[K(jM,{files:"canary_wharf_1k.hdr"}),K(YM,{defaultPosition:[0,0,2],children:K(WM,{children:K(h9,{})})})]},"hoodie")}]),l={shirt:{id:"shirt-1",sku:o[0].icon(),title:"Shirt",description:"Elevate your wardrobe with our classic shirt, tailored for a perfect fit and crafted with premium, breathable fabric. Ideal for both formal and casual occasions, this shirt ensures you stay stylish and comfortable all day.",availableSizes:[],style:"Quality",price:560,color:r.color.shirt,isLogoTexture:r.isLogoTexture,isBaseTexture:r.isBaseTexture,texture:r.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1},hoodie:{id:"hoodie-1",sku:o[1].icon(),title:"Hoodie",description:"Stay warm and cozy in our stylish hoodie, designed to keep you comfortable in all weather conditions. Made with premium fabric, this hoodie is perfect for casual outings and everyday wear.",availableSizes:[],style:"Quality",price:899,color:r.color.hoodie,isLogoTexture:r.isLogoTexture,isBaseTexture:r.isBaseTexture,texture:r.baseDecal,installments:"1",currencyId:"INR",currencyFormat:"₹",isFreeShipping:!1,quantity:1}};return P.useEffect(()=>{let c=window.location.search.replace("?","").split("&&").reduce((u,f)=>{const[p,m]=f.split("=");if(p&&["apparel","color","style","intro","purchase","size"].includes(p))switch(p){case"apparel":return t.includes(m)&&(u[p]=m),u;case"color":return n.includes(m)&&(u[p]="#"+m),u;case"style":return e.includes(m)&&(u[p]=`./styles/${m}`),u;case"placement":return["logo","base"].includes(m)&&(u[p]=`./styles/${m}`),u;case"intro":return["true","false"].includes(m.toLocaleLowerCase())&&(u[p]=m),u;case"purchase":return["true","false"].includes(m.toLocaleLowerCase())&&(u[p]=m),u;case"size":return["M","L","XL"].includes(m.toLocaleUpperCase())&&(u[p]=m),u;default:return u}return u},{});Object.keys(c).length>0?(c.apparel&&(it.selectedApparel=c.apparel),c.color&&(it.color[it.selectedApparel]=c.color),c.style&&(it.baseDecal=c.style,it.logoDecal=c.style,it.fullDecal=c.style),c.placement&&(c.placement==="logo"?(it.isLogoTexture=!0,it.isBaseTexture=!1):(it.isLogoTexture=!1,it.isBaseTexture=!0)),c.intro!==null&&(it.intro=c.intro==="true"),c.size&&(it.size=c.size),c.purchase!==null&&(it.purchase=c.purchase==="true",c.purchase==="true"&&(s({...l[r.selectedApparel],availableSizes:[r.size],title:l[r.selectedApparel].title+` ${l[r.selectedApparel].texture.split("/").slice(-1)[0].replace(".png","")}`,id:`PROD-${l[r.selectedApparel].title.toLocaleUpperCase()}-${l[r.selectedApparel].availableSizes[0]}-${l[r.selectedApparel].color.replace("#","")}-${l[r.selectedApparel].texture}`,sku:u=>{if(u.toLocaleUpperCase()==="SHIRT")return K(TC,{texture:l[r.selectedApparel].texture,color:l[r.selectedApparel].color});l[r.selectedApparel].texture,l[r.selectedApparel].color}}),it.buy=!0))):yu()},[]),Qe(W2e,{children:[K(OBe,{theme:FBe,children:Qe("main",{className:"app transition-all ease-in",children:[K(dBe,{}),K(VPe,{}),K(A2e,{setItems:a,items:o}),r.buy&&K(mUe,{})]})}),!r.buy&&!i&&K(O$,{model:o,position:"bottom"})]})}qA.createRoot(document.getElementById("root")).render(K(D.StrictMode,{children:K(WPe,{children:K(gUe,{})})}))});export default yUe();
